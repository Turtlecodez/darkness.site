(self.webpackChunkgfn_mall=self.webpackChunkgfn_mall||[]).push([[179],{9920:(Dt,ct,t)=>{"use strict";t.d(ct,{t:()=>$,w:()=>J});var e=t(61699),i=t(12501),L=t(32484),f=t(64555),x=t(89718),S=t(13303),u=t(46939),g=t(85046),h=t(77869),O=t(13963),E=t(77151),w=t(17401),p=t(43559),V=t(91467),c=t(32392),C=t(26575),l=t(45356),o=t(47520),n=t(86515),s=t(78654),R=t(10662),_=t(60702),b=t(529),I=t(11752),q=t(81711);const a=["activecolor"],y=["defaultcolor"],M=["navButtonRef"],P=function(st){return{"flip-rtl-element":st}};function K(st,lt){if(1&st){const gt=e.EpF();e.TgZ(0,"button",15,16),e.NdJ("click",function(){e.CHM(gt);const k=e.oxw(2);return e.KtG(k.navClicked(k.navButton.id))})("focus",function(){e.CHM(gt);const k=e.oxw(2);return e.KtG(k.navFocused())})("blur",function(){e.CHM(gt);const k=e.oxw(2);return e.KtG(k.navBlurred())}),e.ALo(2,"translate"),e._UZ(3,"mat-icon",17),e.qZA()}if(2&st){const gt=e.oxw(2);e.s9C("matTooltip",e.lcZ(2,7,gt.navButton.tooltip)),e.xp6(3),e.Udp("overflow-x","clip")("overflow-y","clip"),e.Q6J("svgIcon",gt.navButton.id)("ngClass",e.VKq(9,P,"arrow_left"===gt.navButton.id))}}function B(st,lt){if(1&st){const gt=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(gt);const k=e.oxw().$implicit,pt=e.oxw(2);return e.KtG(pt.iconClicked(k))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",20),e.qZA()}if(2&st){const gt=e.oxw().$implicit;e.Q6J("@icon",void 0)("nvTooltipDisabled",!gt.tooltip)("matTooltip",e.lcZ(1,4,gt.tooltip)),e.xp6(2),e.Q6J("svgIcon",gt.icon)}}function j(st,lt){if(1&st&&(e.ynx(0),e.YNc(1,B,3,6,"button",18),e.BQk()),2&st){const gt=lt.$implicit;e.xp6(1),e.Q6J("ngIf",gt.icon&&!gt.end&&!gt.loginData)}}function tt(st,lt){if(1&st&&e._UZ(0,"mat-icon",20),2&st){const gt=e.oxw(2).$implicit;e.Q6J("svgIcon",gt.icon)}}const ot=function(st){return{"app-bar-padding":st}};function F(st,lt){if(1&st&&(e.TgZ(0,"span",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&st){const gt=e.oxw(2).$implicit;e.Q6J("ngClass",e.VKq(4,ot,void 0===gt.button)),e.xp6(1),e.Oqu(e.lcZ(2,2,gt.text))}}const U=function(st,lt){return{"app-bar-item-with-text":st,"font-button2 mat-flat-button mat-accent app-bar-button-end":lt}};function z(st,lt){if(1&st){const gt=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(gt);const k=e.oxw().$implicit,pt=e.oxw(2);return e.KtG(pt.iconClicked(k))}),e.ALo(1,"translate"),e.YNc(2,tt,1,1,"mat-icon",27),e.YNc(3,F,3,6,"span",28),e.qZA()}if(2&st){const gt=e.oxw().$implicit;e.Q6J("@icon",void 0)("nvTooltipDisabled",!gt.tooltip)("matTooltip",e.lcZ(1,8,gt.tooltip))("ngClass",e.WLB(10,U,void 0!==gt.text,gt.button))("nvFocusRipple",!!gt.button)("disabled",gt.disabled),e.xp6(2),e.Q6J("ngIf",gt.icon),e.xp6(1),e.Q6J("ngIf",gt.text)}}function Q(st,lt){if(1&st&&e._UZ(0,"img",38),2&st){const gt=e.oxw(2).$implicit;e.Q6J("src",gt.loginData.avatar,e.LSH)}}function dt(st,lt){if(1&st&&e._UZ(0,"mat-icon",39),2&st){const gt=e.oxw(2).$implicit;e.Q6J("svgIcon",gt.loginData.avatarSvg)}}function X(st,lt){if(1&st&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&st){const gt=e.oxw(2).$implicit;e.xp6(1),e.Oqu(gt.loginData.currentPlanShortName)}}function m(st,lt){if(1&st&&(e.TgZ(0,"button",30),e.ALo(1,"translate"),e.TgZ(2,"div",31),e.YNc(3,Q,1,1,"img",32),e.YNc(4,dt,1,1,"mat-icon",33),e.TgZ(5,"div",34)(6,"span",35),e._uU(7),e.qZA(),e.YNc(8,X,2,1,"span",36),e.qZA(),e.TgZ(9,"mat-icon",37),e._uU(10,"arrow_drop_down"),e.qZA()()()),2&st){const gt=e.oxw().$implicit,vt=e.MAs(4);e.s9C("matTooltip",e.lcZ(1,7,gt.tooltip)),e.Q6J("matMenuTriggerFor",vt)("nvTooltipDisabled",!gt.tooltip),e.xp6(3),e.Q6J("ngIf",gt.loginData.avatar),e.xp6(1),e.Q6J("ngIf",gt.loginData.avatarSvg),e.xp6(3),e.Oqu(gt.loginData.username),e.xp6(1),e.Q6J("ngIf",gt.loginData.currentPlanShortName)}}function Y(st,lt){if(1&st){const gt=e.EpF();e.ynx(0),e.TgZ(1,"button",41),e.NdJ("click",function(){const pt=e.CHM(gt).$implicit,yt=e.oxw(3);return e.KtG(yt.iconMenuClicked(pt.id))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()}if(2&st){const gt=lt.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,gt.item)," ")}}function D(st,lt){if(1&st&&(e.ynx(0),e.YNc(1,z,4,13,"button",21),e.YNc(2,m,11,9,"button",22),e.TgZ(3,"mat-menu",23,24),e.YNc(5,Y,4,3,"ng-container",25),e.qZA(),e.BQk()),2&st){const gt=lt.$implicit;e.xp6(1),e.Q6J("ngIf",(gt.icon&&gt.end||gt.button)&&!gt.loginData),e.xp6(1),e.Q6J("ngIf",gt.loginData),e.xp6(3),e.Q6J("ngForOf",gt.menu)}}const N=function(st,lt){return{active_color:st,default_color:lt}},Z=function(st,lt){return{value:st,params:lt}},W=function(st){return{translate3d_value:st}};function A(st,lt){if(1&st){const gt=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"mat-icon",7),e.NdJ("@logoSlide.done",function(k){e.CHM(gt);const pt=e.oxw();return e.KtG(pt.onLogoSlide(k))}),e.qZA()(),e.TgZ(3,"div",8),e.YNc(4,K,4,11,"button",9),e.TgZ(5,"div",10),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,j,2,1,"ng-container",11),e._UZ(9,"div",12),e.TgZ(10,"div",13),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",14),e.Hsn(14),e.qZA(),e.YNc(15,D,6,3,"ng-container",11),e.qZA()}if(2&st){const gt=e.oxw();e.ekj("active",gt.active),e.Q6J("@active",e.WLB(24,Z,gt.active,e.WLB(21,N,gt.activeColor,gt.defaultColor)))("enableFocusBack",!gt.isNavFocused),e.xp6(2),e.Q6J("@logoSlide",e.WLB(29,Z,gt.logoState,e.VKq(27,W,gt.logoSlideTranslate3dValue))),e.xp6(1),e.ekj("shrink-navigation",gt.shrinkNavigation),e.xp6(1),e.Q6J("ngIf",null==gt.navButton?null:gt.navButton.id),e.xp6(1),e.Q6J("fxHide",gt.shrinkNavigation),e.xp6(1),e.hij(" ",e.xi3(7,15,gt.title,gt.titleParams)," "),e.xp6(2),e.Q6J("ngForOf",gt.icons)("ngForTrackBy",gt.iconTrack),e.xp6(3),e.Oqu(e.xi3(12,18,gt.info,gt.infoParams)),e.xp6(4),e.Q6J("ngForOf",gt.icons)("ngForTrackBy",gt.iconTrack)}}const d=["*"];var H=function(st){return st.InInitial="IN_INITIAL",st.In="IN",st.Out="OUT",st}(H||{}),$=function(st){return st.ShowInitialReveal="showInitialReveal",st.ShowWhenNoNavButton="showWhenNoNavButton",st.NoShow="noShow",st}($||{});let J=(()=>{var st;class lt{constructor(vt,k,pt,yt,Xt,It,Nt,le,te){this.ngZone=k,this.appBarService=pt,this.matDialog=yt,this.translateService=Xt,this.localeService=It,this.spatialNavigationService=Nt,this.focusManager=le,this.projectInterfaceService=te,this.destroy$=new L.xQ,this.skipTour=!1,this.icons=[{},{},{},{},{}],this.title="",this.titleParams={},this.info="",this.infoParams={},this.navButton={},this.show=!0,this.shrinkNavigation=!1,this.template={},this.activeColor="",this.defaultColor="",this.logoSlideTranslate3dValue="",this.isNavFocused=!1,this.logger=vt.getLogger("AppBar")}setupListeners(){this.appBarService.icons$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{let pt=4;for(k.forEach(yt=>{pt>=0&&(this.icons[pt--]=yt)});pt>=0;)this.icons[pt--]={}}),this.appBarService.title$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.title=k.entry,this.titleParams=k.params}),this.appBarService.info$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.info=k.entry,this.infoParams=k.params}),this.appBarService.navButton$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{var pt;this.navButton=k,this.logoBehavior===$.ShowWhenNoNavButton&&(this.logoState=null!==(pt=this.navButton)&&void 0!==pt&&pt.id?H.Out:H.In)}),this.appBarService.active$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.active=k}),this.appBarService.visible$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.show=k}),this.appBarService.template$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.template=k});const vt=this.localeService.layoutDirectionUpdated$.pipe((0,u.q)(1));(0,f.aj)([vt,this.appBarService.logoRevealed$]).pipe((0,S.R)(this.destroy$)).subscribe(([k,pt])=>{this.logoSlideTranslate3dValue=`translate3d(${this.localeService.isRTLLayoutEnabled?"calc(101% + env(safe-area-inset-right))":"calc(-101% - env(safe-area-inset-left))"}, 0, 0)`,pt&&this.logoState===H.InInitial&&(this.logoState=H.Out)}),this.appBarService.shrinkNavigation$.pipe((0,S.R)(this.destroy$)).subscribe(k=>{this.shrinkNavigation=k})}ngOnInit(){switch(this.logoBehavior){case $.NoShow:this.logoState=H.Out;break;case $.ShowInitialReveal:this.logoState=H.InInitial;break;case $.ShowWhenNoNavButton:this.logoState=H.In}}ngAfterViewInit(){setTimeout(()=>{this.activeColor=getComputedStyle(this.activeElement.nativeElement).backgroundColor,this.defaultColor=getComputedStyle(this.defaultElement.nativeElement).backgroundColor,this.setupListeners()},0),this.ngZone.runOutsideAngular(()=>{const vt=(0,h.oc)(document,"keydown","Escape"),k=(0,h.oc)(document,"keydown","GoBack"),pt=()=>{var yt;return(null===(yt=this.navButton)||void 0===yt?void 0:yt.id)&&0===this.matDialog.openDialogs.length};vt.pipe((0,g.h)(pt),(0,S.R)(this.destroy$)).subscribe(yt=>{yt.target!==this.navButtonRef.nativeElement&&(yt.stopPropagation(),this.focusManager.focusViaLastOrigin(this.navButtonRef.nativeElement))}),(0,x.T)(vt,k).pipe((0,g.h)(pt),(0,S.R)(this.destroy$)).subscribe(yt=>{var Xt;"menu"!==(null===(Xt=this.navButton)||void 0===Xt?void 0:Xt.id)&&(yt.stopPropagation(),this.appBarService.clickIcon(this.navButton.id))})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}navClicked(vt){this.appBarService.clickNav(vt)}navFocused(){this.isNavFocused=!0}navBlurred(){this.isNavFocused=!1}iconClicked(vt){this.appBarService.clickIcon(vt.id)}iconMenuClicked(vt){this.appBarService.clickIcon(vt)}iconTrack(vt,k){return vt}onLogoSlide(vt){if((null==vt?void 0:vt.fromState)===H.InInitial&&(null==vt?void 0:vt.toState)===H.Out&&(this.logger.info("Initial logo reveal complete"),this.spatialNavigationService.enabled&&!this.spatialNavigationService.activated&&(this.spatialNavigationService.activated=!0),this.spatialNavigationService.activated)){var k;if(null===(k=this.navButtonRef)||void 0===k||!k.nativeElement)return void this.logger.error("Unable to focus on menu, navButtonRef.nativeElement is undefined, current navButton:",JSON.stringify(this.navButton));this.spatialNavigationService.isDefaultFocusRequired()?this.focusManager.focusViaLastOrigin(this.navButtonRef.nativeElement):this.spatialNavigationService.setStartingPoint(this.navButtonRef.nativeElement)}}}return(st=lt).\u0275fac=function(vt){return new(vt||st)(e.Y36(O.ed),e.Y36(e.R0b),e.Y36(E.ad),e.Y36(w.uw),e.Y36(p.sK),e.Y36(O.OL),e.Y36(V.jr),e.Y36(V.IK),e.Y36(c.m3))},st.\u0275cmp=e.Xpm({type:st,selectors:[["nv-app-bar"]],viewQuery:function(vt,k){if(1&vt&&(e.Gf(a,7),e.Gf(y,7),e.Gf(M,5,e.SBq)),2&vt){let pt;e.iGM(pt=e.CRH())&&(k.activeElement=pt.first),e.iGM(pt=e.CRH())&&(k.defaultElement=pt.first),e.iGM(pt=e.CRH())&&(k.navButtonRef=pt.first)}},inputs:{logoBehavior:"logoBehavior",skipTour:"skipTour"},ngContentSelectors:d,decls:5,vars:1,consts:[[1,"dummy-color-getter"],["activecolor",""],[1,"default-color"],["defaultcolor",""],["fxLayout","row","fxLayoutAlign","start center","class","appbar default-color mat-elevation-z4","nvFocusBack","",3,"active","enableFocusBack",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","nvFocusBack","",1,"appbar","default-color","mat-elevation-z4",3,"enableFocusBack"],["fxFlex","row","fxLayoutAlign","start center",1,"nv-branding"],["svgIcon","gfnBranding","tabindex","-1","fxFlex",""],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 1 auto",1,"nav-container"],["mat-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","class","nav-button item-empty hig-button-icon font-body1","fxLayout","row","fxLayoutAlign","center center","cdkFocusInitial","",3,"matTooltip","click","focus","blur",4,"ngIf"],["fxFlex","1 1 auto",1,"title","font-body1","toolbar-title-text",3,"fxHide"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxFlex",""],[1,"title","font-body1"],["fxFlex","1 1 100%"],["mat-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","fxLayout","row","fxLayoutAlign","center center","cdkFocusInitial","",1,"nav-button","item-empty","hig-button-icon","font-body1",3,"matTooltip","click","focus","blur"],["navButtonRef",""],[3,"svgIcon","ngClass"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","class","app-bar-icons-left font-body1 hig-button-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",3,"nvTooltipDisabled","matTooltip","click",4,"ngIf"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"app-bar-icons-left","font-body1","hig-button-icon",3,"nvTooltipDisabled","matTooltip","click"],[3,"svgIcon"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","class","app-bar-icons font-body2 hig-button-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",3,"nvTooltipDisabled","matTooltip","ngClass","nvFocusRipple","disabled","click",4,"ngIf"],["mat-button","","class","app-bar-icons font-body1 hig-button-icon app-bar-item-with-text","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",3,"matMenuTriggerFor","nvTooltipDisabled","matTooltip",4,"ngIf"],["overlapTrigger","false"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"app-bar-icons","font-body2","hig-button-icon",3,"nvTooltipDisabled","matTooltip","ngClass","nvFocusRipple","disabled","click"],[3,"svgIcon",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",1,"app-bar-icons","font-body1","hig-button-icon","app-bar-item-with-text",3,"matMenuTriggerFor","nvTooltipDisabled","matTooltip"],["fxFlex","1 1 auto","fxLayout","row","fxLayoutAlign","start center"],["class","avatar-img",3,"src",4,"ngIf"],["class","avatar-img",3,"svgIcon",4,"ngIf"],["fxLayout","column",1,"display-name"],[1,"username","font-body2"],["class","font-body3",4,"ngIf"],[1,"material-icons"],[1,"avatar-img",3,"src"],[1,"avatar-img",3,"svgIcon"],[1,"font-body3"],["mat-menu-item","",3,"click"]],template:function(vt,k){1&vt&&(e.F$t(),e._UZ(0,"div",0,1)(2,"div",2,3),e.YNc(4,A,16,32,"div",4)),2&vt&&(e.xp6(4),e.Q6J("ngIf",k.show))},dependencies:[C.mk,C.sg,C.O5,l.xw,l.Wh,l.yH,o.b8,o.oO,n.Hw,s.eB,R.W0,R.tN,R.D8,_.gM,b.Q,I.S,q.VP,p.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{min-width:40px;min-height:40px;max-height:40px}.isLtr[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.appbar[_ngcontent-%COMP%]{transition:background-color .15s linear;height:56px}.dummy-color-getter[_ngcontent-%COMP%]{background:#76b900}.default-color[_ngcontent-%COMP%]{background:#393939}.item-empty[_ngcontent-%COMP%]{width:0;max-width:40px}.app-bar-icons[_ngcontent-%COMP%]{margin:0 8px}.isLtr[_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.app-bar-item-with-text[_ngcontent-%COMP%]{width:unset!important}.app-bar-padding[_ngcontent-%COMP%]{padding:4px 4px 0}.app-bar-button-end[_ngcontent-%COMP%]{padding:0 8px}.appbar.active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}.nv-branding[_ngcontent-%COMP%]{width:fit-content;height:fit-content;position:absolute}.isLtr[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;right:0}.nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:186px;height:56px;pointer-events:none;z-index:15}.avatar-img[_ngcontent-%COMP%]{width:24px;height:24px;margin:0 8px;align-self:center}.isLtr[_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.display-name[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:64px;max-width:144px}.toolbar-title-text[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:264px;min-width:150px}.isLtr[_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}@media (max-width: 599.98px) and (orientation: portrait){.toolbar-title-text[_ngcontent-%COMP%]{min-width:0}}.mat-button[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nav-container[_ngcontent-%COMP%]{min-width:auto}.isLtr[_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.nav-container.shrink-navigation[_ngcontent-%COMP%]{min-width:0}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]{height:90px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%]{min-width:70px;min-height:70px;max-height:70px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:298.9285714286px;height:90px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button-wrapper[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button-wrapper[_ngcontent-%COMP%]{padding:0 4px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button.hig-button-icon.mat-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button.hig-button-icon.mat-button[_ngcontent-%COMP%]{width:fit-content;height:fit-content}"],data:{animation:[(0,i.X$)("logoSlide",[(0,i.SB)(H.InInitial,(0,i.oB)({transform:"translate3d(0, 0, 0)"})),(0,i.SB)(H.In,(0,i.oB)({transform:"translate3d(0, 0, 0)"})),(0,i.SB)(H.Out,(0,i.oB)({transform:"{{ translate3d_value }}"}),{params:{translate3d_value:"translate3d(calc(-101% - env(safe-area-inset-left)), 0, 0)"}}),(0,i.eR)(H.InInitial+" => "+H.Out,(0,i.jt)("200ms 1500ms ease")),(0,i.eR)(H.In+" => "+H.Out,(0,i.jt)("400ms ease")),(0,i.eR)(H.Out+" => "+H.In,(0,i.jt)("650ms ease"))]),(0,i.X$)("navButton",[(0,i.SB)("true",(0,i.oB)({"flex-basis":"36px",opacity:1})),(0,i.SB)("false",(0,i.oB)({"flex-basis":"0","margin-right":0,opacity:0})),(0,i.eR)("true <=> false",(0,i.jt)(150))]),(0,i.X$)("icon",[(0,i.eR)(":enter",[(0,i.oB)({opacity:0}),(0,i.jt)(150,(0,i.oB)({opacity:1}))]),(0,i.eR)(":leave",[(0,i.jt)(150,(0,i.oB)({opacity:0}))])]),(0,i.X$)("active",[(0,i.SB)("true",(0,i.oB)({"background-color":"{{active_color}}"}),{params:{active_color:"transparent"}}),(0,i.SB)("false",(0,i.oB)({"background-color":"{{default_color}}"}),{params:{default_color:"transparent"}}),(0,i.eR)("true <=> false",[(0,i.ru)([(0,i.IO)("@*",[(0,i.pV)()]),(0,i.jt)(150)])])])]}}),lt})()},77151:(Dt,ct,t)=>{"use strict";t.d(ct,{ad:()=>E});var e=t(32484),i=t(70462),L=t(61699),f=t(13963);let E=(()=>{var w;class p{constructor(c){this.loggingService=c,this.actionClicked=new e.xQ,this.iconsChanged=new i.X([]),this.titleChanged=new i.X({entry:"",params:{}}),this.infoChanged=new i.X({entry:"",params:{}}),this.navButtonChanged=new i.X({}),this.activeChanged=new i.X(!1),this.appBarState=new i.X(!0),this.templateChanged=new i.X({id:"",params:{}}),this.logoRevealed=new i.X(!1),this.shrinkNavigation=new i.X(!1),this.iconList=[],this.defaultNavButton={},this.actionClicked$=this.actionClicked.asObservable(),this.icons$=this.iconsChanged.asObservable(),this.title$=this.titleChanged.asObservable(),this.info$=this.infoChanged.asObservable(),this.navButton$=this.navButtonChanged.asObservable(),this.active$=this.activeChanged.asObservable(),this.visible$=this.appBarState.asObservable(),this.template$=this.templateChanged.asObservable(),this.logoRevealed$=this.logoRevealed.asObservable(),this.shrinkNavigation$=this.shrinkNavigation.asObservable(),this.loggedIn=!1,this.logger=this.loggingService.getLogger("AppBar"),this.logger.info("AppBarService started")}reset(){this.titleChanged.next({entry:"",params:{}}),this.infoChanged.next({entry:"",params:{}}),this.iconsChanged.next([]),this.navButtonChanged.next({}),this.activeChanged.next(!1),this.templateChanged.next({id:"",params:{}})}getCurrentTitle(){return this.titleChanged.getValue()}setTitle(c){this.titleChanged.next({entry:c.entry,params:c.params})}setInfo(c){this.infoChanged.next({entry:c.entry,params:c.params})}setDefaultNavButton(c){this.defaultNavButton=c}setNavButton(c){this.navButtonChanged.next(c)}setNavButtonMenu(c){this.setNavButton({id:"menu",tooltip:c})}setNavButtonArrow(c){this.setNavButton({id:"arrow_left",tooltip:c})}setNavButtonClose(c){this.setNavButton({id:"close",tooltip:c})}setNavButtonToDefault(){this.setNavButton(this.defaultNavButton)}setNavButtonEmpty(){this.setNavButton({})}setActive(c){this.activeChanged.next(c)}addIcon(c){this.iconList.push(c),this.iconsChanged.next(this.iconList)}deleteIcon(c){const C=this.iconList.findIndex(l=>l.id===c);-1!==C&&(this.iconList.splice(C,1),this.iconsChanged.next(this.iconList))}setIcons(c){this.iconList=c.slice(),this.iconsChanged.next(this.iconList)}setTemplate(c){this.templateChanged.next(c)}setShrinkNavigation(c){this.shrinkNavigation.next(c)}setLogoRevealed(){this.logoRevealed.next(!0)}setAll(c){var C;this.reset(),c.title&&this.setTitle(c.title),c.info&&this.setInfo(c.info),this.setActive(c.active),this.setIcons(c.icons),this.setTemplate(void 0!==c.template?c.template:{id:""}),c.defaultNavButton&&this.setDefaultNavButton(c.defaultNavButton),null!==(C=c.navButton)&&void 0!==C&&C.id?this.setNavButton(c.navButton):c.navButtonMenu?this.setNavButtonMenu():c.navButtonArrow?this.setNavButtonArrow():c.navButtonClose?this.setNavButtonClose():c.navButtonSetToDefault&&this.setNavButtonToDefault()}clearIcons(){this.iconList=[],this.iconsChanged.next(this.iconList)}getIcons(){return this.iconList}clickIcon(c){"closeIgo"===c&&this.closeIgo(),this.actionClicked.next(c)}clickNav(c){this.clickIcon(c)}closeIgo(){}setAppBarState(c){this.appBarState.next(c)}}return(w=p).\u0275fac=function(c){return new(c||w)(L.LFG(f.ed))},w.\u0275prov=L.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},8161:(Dt,ct,t)=>{"use strict";t.d(ct,{tc:()=>c.t,ip:()=>V,ad:()=>C.ad});var e=t(26575),i=t(32995),L=t(61699),f=t(43559),x=t(10662),S=t(86515),u=t(78654),g=t(60702),h=t(36480),O=t(91467);let p={provide:L.ip1,useFactory:function w(l,o){return()=>function E(l,o){return l.addSvgIcon("gfnBranding",o.bypassSecurityTrustResourceUrl("./assets/img/nv-gfn-logo_v2.svg")),Promise.resolve()}(l,o)},deps:[S.jv,h.H7],multi:!0},V=(()=>{var l;class o{}return(l=o).\u0275fac=function(s){return new(s||l)},l.\u0275mod=L.oAB({type:l}),l.\u0275inj=L.cJS({providers:[p],imports:[e.ez,i.o9,S.Ps,u.yu,x.jT,g.AV,f.aw,O.hp]}),o})();var c=t(9920),C=t(77151)},91009:(Dt,ct,t)=>{"use strict";t.d(ct,{XL:()=>C,tj:()=>o,_c:()=>V,W4:()=>s});var e=t(54860),i=t(49481),L=t(9681),f=t(73992),x=t(15746),S=t(46939),u=t(47422),g=t(87965),h=t(58175),O=t(50274),E=t(13963),w=t(47178),p=t(61699);let V=(()=>{var R;class _{}return(R=_).\u0275fac=function(I){return new(I||R)},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac}),_})();const c="HMD";let C=(()=>{var R;class _{constructor(I,q,a,y){this.httpBackend=I,this.params=a,this.injector=y,this.configFetchedSubject=new i.t(1),this.getConfigFromHttp=()=>this.http.get(this.params.filePath).pipe((0,x.b)(M=>(this.logger.info("Successfully read application config file",M.build),M),M=>{this.logger.error(`Configuration file ${this.params.filePath} could not be read. Error: ${M}`)})),this.getConfig=()=>{const M=document.getElementsByTagName("gfn-app-config")[0],P=null==M?void 0:M.getAttribute("data-value");null==M||M.remove();const K=this.parseEncodedConfig(P);return K?(0,L.of)(K):this.getConfigFromHttp()},this.logger=q.getLogger("app.config"),this.http=new e.eN(this.httpBackend),E.ng.isBrowserLikePlatform()?(this.systemInfoService=this.injector.get(E.Ob),this.browserStaticSystemInfo$=this.systemInfoService?this.systemInfoService.getSystemInfo([E.l7.OSName,E.l7.DeviceType,E.l7.ProductVersion,E.l7.BrowserName,E.l7.SystemName,E.l7.VendorName]).pipe((0,S.q)(1),(0,u.U)(M=>{const P={OSName:M.OSName,DeviceType:M.DeviceType,BrowserName:M.BrowserName,ProductVersion:M.ProductVersion,SystemName:M.SystemName};return E.ng.isVisionPro(M)&&(P.OSName=E.wi.VisionOS,P.DeviceType=c),E.ng.isAndroidQuest(M)&&(P.DeviceType=c),P})):(0,L.of)(null)):this.browserStaticSystemInfo$=(0,L.of)(null)}get configFetched$(){return this.configFetchedSubject.asObservable()}mergeRemoteOverridesFromGXT(I){try{var q;return null===(q=Object.keys(this.rcParamNameToConfigKeyPathMapping))||void 0===q||q.forEach(a=>{var y;const M=this.rcParamNameToConfigKeyPathMapping[a],P=null===(y=this.remoteOverridesFromGXT)||void 0===y||null===(y=y.params)||void 0===y?void 0:y.find(K=>K.name===a);if(P){let K=P.value;if((0,w.isObject)(K)){const B=(0,w.get)(I,M,{});K.useRCConfigWithoutMerge||(K=(0,O.Z)(B,K))}(0,w.set)(I,M,K)}}),I}catch(a){return this.logger.info("error in mergeRemoteOverridesFromGXT",a),I}}get(){var I;const q=this.overrides||{},a=this.piplLocalizationConfigOverrides||{};let y={};"dev"===(null===(I=this.config)||void 0===I||null===(I=I.build)||void 0===I?void 0:I.type)&&(y=this.variant||{});const M=(0,O.Z)(this.config,y);let P=M;return this.remoteOverridesFromGXT&&(P=this.mergeRemoteOverridesFromGXT(M)),(0,O.Z)((0,O.Z)(P,a),q)}setOverrides(I){this.overrides=I}setPiplLocalizationConfigOverrides(I){this.piplLocalizationConfigOverrides=I}setRemoteOverridesFromGXT(I,q){this.rcParamNameToConfigKeyPathMapping=q,this.remoteOverridesFromGXT=I}parseEncodedConfig(I){if(I&&""!==I.trim())try{return JSON.parse(atob(I))}catch{return null}return null}load(){return this.params.config?(this.logger.info("Initializing config with provided data"),this.config=this.params.config,(0,L.of)(this.config)):this.params.filePath?(this.logger.info(`Attempting to read application config file ${this.params.filePath}`),(0,f.$R)(this.getConfig(),this.browserStaticSystemInfo$).pipe((0,x.b)(I=>{this.config=I[0]},I=>{this.logger.error(`Some problem while executing getConfig function. Error: ${I}`)}),(0,x.b)(([I,q])=>{if(this.config&&q){const a=q.DeviceType,y=q.OSName,M=q.ProductVersion,P=q.BrowserName;this.logger.info(`DeviceType: ${a}, DeviceOSType: ${y}, ProductVersion: ${M}, SystemName: ${q.SystemName}`);const B=dt=>{dt&&(this.config=(0,O.Z)(this.config,dt))};B(this.get().browserConfig);const j=a===E.z7.Phone||a===E.z7.Tablet,tt=a===E.z7.TV,ot=a===E.z7.Console&&y!==E.wi.SteamOS,F=a===c,U=y===E.wi.Android,z=P===E.Aq.FIREFOX,Q=y===E.wi.MacOS&&P===E.Aq.SAFARI;switch(y){case E.wi.IOS:B(this.get().iOSConfig);break;case E.wi.IPadOS:B(this.get().iPadOSConfig);break;case E.wi.Android:E.ng.isBrowserPlatform()?a===E.z7.Phone?B(this.get().androidPhoneConfig):a===E.z7.Tablet&&B(this.get().androidTabletConfig):B(this.get().androidConfig);break;case E.wi.Shield:B(this.get().androidConfig),B(this.get().shieldConfig);break;case E.wi.Tizen:B(this.get().tizenConfig);break;case E.wi.WebOS:B(this.get().webOSConfig);break;case E.wi.SteamOS:B(this.get().steamOSConfig)}j?B(this.get().mobileConfig):tt?E.ng.isBrowserPlatform()&&U?B(this.get().androidTvConfig):B(this.get().tvConfig):ot?B(this.get().consoleConfig):F&&B(this.get().hmdConfig),Q&&B(this.get().macSafariConfig),z&&B(this.get().firefoxConfig),M&&(this.config=(0,O.Z)(this.config,{product:{version:M}}))}}),(0,g.zg)(I=>this.loadVariant(I[0])),(0,u.U)(()=>{const I=this.get();return this.logger.info("appConfig loaded"),this.configFetchedSubject.next(I),I}))):(this.logger.error("No valid data source specified in the AppConfigParameters"),(0,L.of)(void 0))}loadVariant(I){var q,a;const y=null==I||null===(q=I.build)||void 0===q?void 0:q.variant,M=null==I||null===(a=I.build)||void 0===a?void 0:a.type;if(!y||"dev"!==M)return(0,L.of)(I);const P=this.params.filePath.replace(/\.[^/\\.]+$/,".")+y+"."+this.params.filePath.split(".").pop();return this.http.get(P).pipe((0,x.b)(K=>{this.logger.info(`Successfully read ${y} variant config`),this.variant=K}),(0,h.K)(()=>(0,L.of)(I)))}}return(R=_).\u0275fac=function(I){return new(I||R)(p.LFG(e.jN),p.LFG(E.ed),p.LFG(V),p.LFG(p.zs3))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),_})();const o={provide:p.ip1,useFactory:function l(R){return()=>R.load().toPromise()},multi:!0,deps:[C]};function n(R){return R.get()}function s(R){return{provide:R,useFactory:n,deps:[C]}}},28332:(Dt,ct,t)=>{"use strict";t.d(ct,{Ll:()=>c,ld:()=>O});var p,V,e=t(93190),i=t(9681),L=t(73992),f=t(56293),x=t(58175),S=t(47178),u=t(78943),g=u.Yk.Common.Applicationinfo.ApplicationLifetimeEventType,h=u.Yk.Common.Applicationinfo.ShutdownReason,O=function(C){return C.ApplicationRequestedExit="APPLICATION_REQUESTED_EXIT",C.IpcRequestedExit="IPC_REQUESTED_EXIT",C}(O||{}),E=t(61699),w=t(13963);class c{get isAppShuttingDown(){return this.isShuttingDown}constructor(l,o){this.bridgeService=o,this.isShuttingDown=!1,this.systemShutdownReasons=[h.UserClosedWindow,h.UserQuitWithShortcut,h.UserLoggedOut,h.Relaunch],this.unInterruptableShutdownReasons=[h.UserLoggedOut,O.IpcRequestedExit,h.SelfUpdate,h.Relaunch,h.BrowserExit,h.ForceShutdown],this.logger=l.getLogger("libraries/application-lifetime.service"),this.logger.info("applicationLifetimeService created"),this.preSleepFunctions=new Map,this.onShutdownRequestedFunctions=new Map,this.onShutdownFunctions=new Map,o.executeCommand(u.Gh.Common.Applicationinfo.RegisterAppLifetimeEventsCallback).subscribe(n=>{this.handleBridgeEvent(n)}),(0,e.R)(window,"unload").subscribe(n=>{})}sleepApplication(){this.preSleepFunctions.size>0?(this.logger.info("executing pre-sleep functions"),this.preSleepFunctions.forEach(l=>{try{l()}catch(o){this.logger.error("Caught error while executing pre sleep function: ",o)}})):this.logger.info("no pre-sleep work")}shutdownApplication(l){this.systemShutdownReasons.some(o=>o===l)?this.logger.error("Cannot supply a system reason for shutting down from the application layer"):this.performShutdown(l)}addWorkOnSleep(l){return this.addWork(this.preSleepFunctions,l)}addWorkOnShutdownRequested(l){return this.addWork(this.onShutdownRequestedFunctions,l)}addWorkOnShutdown(l){return this.addWork(this.onShutdownFunctions,l)}removeWork(l){if(this.preSleepFunctions.has(l))this.preSleepFunctions.delete(l);else if(this.onShutdownFunctions.has(l))this.onShutdownFunctions.delete(l);else{if(!this.onShutdownRequestedFunctions.has(l)){const o=`Id (${l}) not contained in any registered work map, cannot remove`;throw this.logger.error(o),new Error(o)}this.onShutdownRequestedFunctions.delete(l)}}enumHasValue(l,o){return Object.values(l).includes(o)}handleBridgeEvent(l){if((0,S.isNil)(l)||(0,S.isNil)(l.type))this.logger.error("Nil event or event.type raised from bridge: ",l);else if(this.enumHasValue(g,l.type))if(l.type===g.SystemSuspend)this.sleepApplication();else{if(!this.enumHasValue(O,l.reason)&&!this.enumHasValue(h,l.reason))return void this.logger.info("Shutdown reason",l.reason,"not recognized, not handling");this.performShutdown(l.reason)}else this.logger.info("Event type",l.type,"not recognized, not handling")}isShutdownReasonInterruptable(l){return-1===this.unInterruptableShutdownReasons.indexOf(l)}addWork(l,o){const n=new c.RegisteredApplicationLifetimeHandle(this),s=n.getId();if(this.onShutdownFunctions.has(s)||this.onShutdownRequestedFunctions.has(s)||this.preSleepFunctions.has(s))throw new Error("Dupliate work id found");return l.set(s,o),n}closeWindowIfNeeded(l){this.isShuttingDown=!1,l!==h.BrowserExit&&this.bridgeService.executeCommand(u.Gh.Common.Windowcontrol.Close).subscribe(()=>{})}combineAndExecuteFunctions(l){const o=[];return l.forEach(n=>{let s;try{s=n().pipe((0,x.K)(R=>(this.logger.error("Failed to execute scheduled func: ",R),(0,i.of)(void 0))))}catch(R){this.logger.error(`Caught error ${R} from registered handler, not blocking shutdown`),s=(0,i.of)(void 0)}o.push(s)}),(0,L.$R)(...o)}performShutdown(l){if(this.isShuttingDown)return void this.logger.info("performShutdown already called, ignoring");if(this.isShuttingDown=!0,0===this.onShutdownRequestedFunctions.size&&0===this.onShutdownFunctions.size)return this.logger.info("no pre-shutdown work, closing immediately"),void this.closeWindowIfNeeded(l);const o=this.isShutdownReasonInterruptable(l);this.logger.info("starting pre-shutdown promises. shutdown ",o?"is":"isn't"," interruptable"),new f.y(s=>{o&&this.onShutdownRequestedFunctions.size>0?this.combineAndExecuteFunctions(this.onShutdownRequestedFunctions).subscribe({next:_=>{s.next(_.some(b=>!0===b)),s.complete()},error:_=>{this.logger.error("OnShutdown work, error: ",_),s.next(!1),s.complete()}}):(s.next(!1),s.complete())}).subscribe({next:s=>{s?(this.logger.info("shutdown was interrupted during onShutdownRequested"),this.isShuttingDown=!1):0===this.onShutdownFunctions.size?(this.logger.info("no OnShutdown work, closing"),this.closeWindowIfNeeded(l)):this.combineAndExecuteFunctions(this.onShutdownFunctions).subscribe({next:function(_){this.logger.info("OnShutdown work completed, closing"),this.closeWindowIfNeeded(l)}.bind(this),error:function(_){this.logger.error("OnShutdown work, error: ",_),this.closeWindowIfNeeded(l)}.bind(this)})}})}}(p=c).RegisteredApplicationLifetimeHandle=((V=class{constructor(C){this.parent=C,this.handleId=p.RegisteredApplicationLifetimeHandle.nextHandleId++}getId(){return this.handleId}remove(){this.parent.removeWork(this.handleId)}}).nextHandleId=0,V),p.\u0275fac=function(l){return new(l||p)(E.LFG(w.ed),E.LFG(w.dF))},p.\u0275prov=E.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},82301:(Dt,ct,t)=>{"use strict";t.d(ct,{B:()=>L});const L={ReadTicket:{legacyCommand:"QUERY_READ_UPDATE_TICKET",system:"CrimsonNative",module:"Update",method:"ReadTicket",persistent:!1},GfnUpdate:{legacyCommand:"QUERY_GFN_UPDATE_APP",system:"CrimsonNative",module:"Update",method:"GfnUpdate",persistent:!1}}},91198:(Dt,ct,t)=>{"use strict";t.d(ct,{G:()=>mc});const te={Forager:{CopyConfigTemplate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"CopyConfigTemplate",persistent:!1},ExtractFrames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ExtractFrames",persistent:!1},GetAppInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"GetAppInfo",persistent:!1},LaunchWithNativeApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"LaunchWithNativeApp",persistent:!1},ReadWorkspace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ReadWorkspace",persistent:!1},ReadFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ReadFile",persistent:!1},SaveWorkspace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"SaveWorkspace",persistent:!1},TrimVideo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"TrimVideo",persistent:!1},WriteFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"WriteFile",persistent:!1}},Gear:{GetPreviewOutputInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"GetPreviewOutputInformation",persistent:!1},Start:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"Start",persistent:!1},StartPreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"StartPreview",persistent:!1},GetStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"GetStatus",persistent:!1},Stop:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"Stop",persistent:!1}},Graphicssetting:{GetAIDVCSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIDVCSupport",persistent:!1},GetAIDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIDVCState",persistent:!1},SetAIDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetAIDVCState",persistent:!1},GetRealtimeAIDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetRealtimeAIDVCState",persistent:!1},ToggleNIS2:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"ToggleNIS2",persistent:!1},GetNIS2State:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetNIS2State",persistent:!1},SetNIS2Sharpen:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetNIS2Sharpen",persistent:!1},GetAIHDRSupport_V2:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRSupport_V2",persistent:!1},GetAIHDRDisplayInfoForProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRDisplayInfoForProcess",persistent:!1},GetAIHDRRealTimeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRRealTimeState",persistent:!1},GetAIHDRState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRState",persistent:!1},SetAIHDRState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetAIHDRState",persistent:!1},GetGPUInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetGPUInfo",persistent:!1},GetGenericInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetGenericInfo",persistent:!1},GetUserPreferredLanguage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetUserPreferredLanguage",persistent:!1},RegisterUserPreferredLanguageChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"RegisterUserPreferredLanguageChangeNotification",persistent:!1},UserPreferredLanguageChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"UserPreferredLanguageChangeNotification",persistent:!0}},Nvperfmon:{EnablePerfStatsNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"EnablePerfStatsNotification",persistent:!1},RegisterPerfStatsNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"RegisterPerfStatsNotifications",persistent:!0},SetProcessId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetProcessId",persistent:!1},SetMetricSampleSize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetMetricSampleSize",persistent:!1},ResetAverageMetrics:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"ResetAverageMetrics",persistent:!1},GetDefaultLoggingPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetDefaultLoggingPath",persistent:!1},LoggingToggle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"LoggingToggle",persistent:!1},AlignLatencyMonitoringRectangle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"AlignLatencyMonitoringRectangle",persistent:!1},GetRLAMonitorSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetRLAMonitorSupport",persistent:!1},ShowFlashIndicator:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"ShowFlashIndicator",persistent:!1},SetFlashIndicatorSize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetFlashIndicatorSize",persistent:!1},GetGpuInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetGpuInfo",persistent:!1},powerStatusNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"powerStatusNotification",persistent:!0},CheckRLASupportedDriver:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"CheckRLASupportedDriver",persistent:!1}},Osc:{OpenWindow:{legacyCommand:"QUERY_WIN_OPEN_OSC",system:"CrimsonNative",module:"osc",method:"OpenWindow",persistent:!1},CloseWindow:{legacyCommand:"QUERY_WIN_CLOSE_OSC",system:"CrimsonNative",module:"osc",method:"CloseWindow",persistent:!1},IsDisplayInDesktopMode:{legacyCommand:"QUERY_OSC_DISPLAY_IS_DESKTOP_MODE",system:"CrimsonNative",module:"osc",method:"IsDisplayInDesktopMode",persistent:!1},FullscreenState:{legacyCommand:"QUERY_FULLSCREEN_STATE",system:"CrimsonNative",module:"osc",method:"FullscreenState",persistent:!1},SetPainting:{legacyCommand:"QUERY_OSC_SET_PAINTING",system:"CrimsonNative",module:"osc",method:"SetPainting",persistent:!1},DropUrl:{legacyCommand:"QUERY_OSC_DROP_URL",system:"CrimsonNative",module:"osc",method:"DropUrl",persistent:!1},GenerateKeyboardMessage:{legacyCommand:"QUERY_WIN_KB_MESSAGE",system:"CrimsonNative",module:"osc",method:"GenerateKeyboardMessage",persistent:!1},RegisterCloseCommand:{legacyCommand:"QUERY_OSC_REGISTER_CLOSE_EVENT",system:"CrimsonNative",module:"osc",method:"RegisterCloseCommand",persistent:!0},SetDisplayRects:{legacyCommand:"QUERY_OSC_SET_DISPLAY_RECTS",system:"CrimsonNative",module:"osc",method:"SetDisplayRects",persistent:!1},RegisterResizeEvent:{legacyCommand:"QUERY_OSC_REGISTER_RESIZE_EVENT",system:"CrimsonNative",module:"osc",method:"RegisterResizeEvent",persistent:!0}},Sdk:{},Shareserver:t(3356).e},mc={Common:{Applicationcontrol:{DeleteCookies:{legacyCommand:"QUERY_DELETE_COOKIES",system:"CrimsonNative",module:"ApplicationControl",method:"DeleteCookies",persistent:!1},SetTaskbarProgress:{legacyCommand:"QUERY_WIN_TASKBAR_PROGRESS",system:"CrimsonNative",module:"ApplicationControl",method:"SetTaskbarProgress",persistent:!1},LoadStringTable:{legacyCommand:"QUERY_LOAD_STRING_TABLE",system:"CrimsonNative",module:"ApplicationControl",method:"LoadStringTable",persistent:!1},ReadConfig:{legacyCommand:"QUERY_READ_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"ReadConfig",persistent:!1},WriteConfig:{legacyCommand:"QUERY_WRITE_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"WriteConfig",persistent:!1},ReadGenericConfig:{legacyCommand:"QUERY_READ_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"ReadGenericConfig",persistent:!1},WriteGenericConfig:{legacyCommand:"QUERY_WRITE_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"WriteGenericConfig",persistent:!1},RemoveFromGenericConfig:{legacyCommand:"QUERY_REMOVE_FROM_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"RemoveFromGenericConfig",persistent:!1},AllowSetForegroundWindow:{legacyCommand:"QUERY_WIN_ALLOW_SET_FOREGROUND",system:"CrimsonNative",module:"ApplicationControl",method:"AllowSetForegroundWindow",persistent:!1},CopyToClipboard:{legacyCommand:"QUERY_WIN_COPY_TO_CLIPBOARD",system:"CrimsonNative",module:"ApplicationControl",method:"CopyToClipboard",persistent:!1},Restart:{legacyCommand:"QUERY_RESTART_APP",system:"CrimsonNative",module:"ApplicationControl",method:"Restart",persistent:!1},RestartBackgroundAgent:{legacyCommand:"QUERY_RESTART_BGA_APP",system:"CrimsonNative",module:"ApplicationControl",method:"RestartBackgroundAgent",persistent:!1},IsCefGpuModeSupported:{legacyCommand:"QUERY_IS_CEF_GPU_MODE_SUPPORTED",system:"CrimsonNative",module:"ApplicationControl",method:"IsCefGpuModeSupported",persistent:!1},RequestLastInstallerStatus:{legacyCommand:"QUERY_LAST_INSTALLER_STATUS",system:"CrimsonNative",module:"ApplicationControl",method:"RequestLastInstallerStatus",persistent:!1},ModulesActiveNotification:{legacyCommand:"QUERY_IPC_MODULES_ACTIVE_NOTIFICATION",system:"CrimsonNative",module:"ApplicationControl",method:"ModulesActiveNotification",persistent:!0}},Applicationinfo:{IsApplicationRunning:{legacyCommand:"QUERY_IS_APPLICATION_RUNNING",system:"CrimsonNative",module:"ApplicationInfo",method:"IsApplicationRunning",persistent:!1},IsApplicationInstalled:{legacyCommand:"QUERY_IS_APPLICATION_INSTALLED",system:"CrimsonNative",module:"ApplicationInfo",method:"IsApplicationInstalled",persistent:!1},GetIsUIRefreshed:{legacyCommand:"QUERY_IS_UI_REFRESHED",system:"CrimsonNative",module:"ApplicationInfo",method:"GetIsUIRefreshed",persistent:!1},RegisterAppLifetimeEventsCallback:{legacyCommand:"QUERY_REGISTER_APPLICATION_LIFETIME_EVENTS_CALLBACK",system:"CrimsonNative",module:"ApplicationInfo",method:"RegisterAppLifetimeEventsCallback",persistent:!0},ListenToLoadEvents:{legacyCommand:"QUERY_LISTEN_TO_LOAD_EVENTS",system:"CrimsonNative",module:"ApplicationInfo",method:"ListenToLoadEvents",persistent:!0},OpenFileDialog:{legacyCommand:"QUERY_WIN_DIR_INFO",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenFileDialog",persistent:!1},OpenDirectoryBrowser:{legacyCommand:"QUERY_BROWSE_DIRECTORY",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenDirectoryBrowser",persistent:!1},OpenSystemSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenSystemSetting",persistent:!1},GetApplicationTimeInfo:{legacyCommand:"QUERY_TIME_INFO",system:"CrimsonNative",module:"ApplicationInfo",method:"GetApplicationTimeInfo",persistent:!1}},Backgroundprocess:{},Bot:{ProcessIntent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Chatbot",method:"ProcessIntent",persistent:!1}},Clientnotification:{ShowClientNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"ShowClientNotifications",persistent:!1},ClearNotificationsQueue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"ClearNotificationsQueue",persistent:!1},DeleteNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"DeleteNotification",persistent:!1}},Companiontool:{Load:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Load",persistent:!1},Save:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Save",persistent:!1},Reset:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Reset",persistent:!1},Run_Log_Collector:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Run_Log_Collector",persistent:!1}},Connectionstate:{KeyboardAndMouseConnected:{legacyCommand:"QUERY_KEYBOARD_MOUSE_CONNECTED",system:"CrimsonNative",module:"ConnectionState",method:"KeyboardAndMouseConnected",persistent:!1}},Consent:{setCurrent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"setCurrent",persistent:!1},setAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"setAccepted",persistent:!1},getAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"getAccepted",persistent:!1}},Desktopnotification:{ShowDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"ShowDesktopNotification",persistent:!1},ClearDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"ClearDesktopNotification",persistent:!1},IsValidDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"IsValidDesktopNotification",persistent:!1},DesktopNotificationsAllowed:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationsAllowed",persistent:!1},DesktopNotificationActivated:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationActivated",persistent:!0},DesktopNotificationDismissed:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationDismissed",persistent:!0}},Diagnostics:{SendExceptionInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Diagnostics",method:"SendExceptionInfo",persistent:!1},SendUserFeedbackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Diagnostics",method:"SendUserFeedbackInfo",persistent:!1}},Discord:{UpdatePresence:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Discord",method:"UpdatePresence",persistent:!1},ClearPresence:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Discord",method:"ClearPresence",persistent:!1}},Downloader:{GetFirstBootTimeAfterInstall:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetFirstBootTimeAfterInstall",persistent:!1},GetMaxDaysBetweenReleases:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetMaxDaysBetweenReleases",persistent:!1},CheckForUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"CheckForUpdate",persistent:!1},GetLatestUpdateCheckTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetLatestUpdateCheckTime",persistent:!1},GetTaskDownloadStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetTaskDownloadStatus",persistent:!1},GetDownloadStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetDownloadStatus",persistent:!1},StartDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartDownload",persistent:!1},StartDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartDownloadAndPostProcess",persistent:!1},ScheduleDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ScheduleDownloadAndPostProcess",persistent:!1},PauseDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"PauseDownload",persistent:!1},ResumeDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ResumeDownload",persistent:!1},ResumeDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ResumeDownloadAndPostProcess",persistent:!1},StopDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StopDownload",persistent:!1},GetPostProcessingStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetPostProcessingStatus",persistent:!1},StartPostProcessing:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartPostProcessing",persistent:!1},TriggerAutoUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"TriggerAutoUpdate",persistent:!1},RegisterCheckForUpdateProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterCheckForUpdateProgress",persistent:!0},RegisterDownloadProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterDownloadProgress",persistent:!0},RegisterPostProcessingProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterPostProcessingProgress",persistent:!0},RegisterAutoUpdateProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterAutoUpdateProgress",persistent:!0},CreateProfileFromSourceProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"CreateProfileFromSourceProfile",persistent:!1},GetUpdateChannel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetUpdateChannel",persistent:!1},SetUpdateChannel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"SetUpdateChannel",persistent:!1}},Gallery:{GalleryNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryNotifications",persistent:!0},MontageNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MontageNotification",persistent:!0},PathChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"PathChangeNotification",persistent:!0},TempFolderChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"TempFolderChangeNotification",persistent:!0},GalleryCapStateChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryCapStateChangeNotification",persistent:!0},GalleryUpdatedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryUpdatedNotification",persistent:!0},GetFolderListing:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFolderListing",persistent:!1},GetAppStats:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetAppStats",persistent:!1},GetAppUGC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetAppUGC",persistent:!1},RemoveGalleryItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"RemoveGalleryItem",persistent:!1},EnumerateDrives:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EnumerateDrives",persistent:!1},GetFileMetadata:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFileMetadata",persistent:!1},GetEventData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetEventData",persistent:!1},GetThumbnail:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetThumbnail",persistent:!1},GetFolderCRC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFolderCRC",persistent:!1},GetImageFileDimensions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetImageFileDimensions",persistent:!1},CopyFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CopyFile",persistent:!1},MoveFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MoveFile",persistent:!1},IsDirectoryWriteable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"IsDirectoryWriteable",persistent:!1},GetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetSettings",persistent:!1},SetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"SetSettings",persistent:!1},GetDriveInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetDriveInfo",persistent:!1},CancelPathUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CancelPathUpdate",persistent:!1},GetRecentUGC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetRecentUGC",persistent:!1},CheckDiskSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CheckDiskSpace",persistent:!1},EnqueuePendingHighlight:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EnqueuePendingHighlight",persistent:!1},OpenHighlightsGroupSummary:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"OpenHighlightsGroupSummary",persistent:!1},GetHighlightsCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetHighlightsCount",persistent:!1},DeleteGroupHighlights:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"DeleteGroupHighlights",persistent:!1},WriteEncryptedBitmap:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"WriteEncryptedBitmap",persistent:!1},TranscodeMediaFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"TranscodeMediaFile",persistent:!1},CreateMontage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CreateMontage",persistent:!1},CreateMontageFromRecipe:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CreateMontageFromRecipe",persistent:!1},CancelMontage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CancelMontage",persistent:!1},UpdateMontageProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"UpdateMontageProgress",persistent:!1},Trim:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"Trim",persistent:!1},AddMeme:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"AddMeme",persistent:!1},EngraveMP4:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EngraveMP4",persistent:!1},DeletePreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"DeletePreview",persistent:!1},PreviewPathInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"PreviewPathInfo",persistent:!1},GetMontageCloudConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetMontageCloudConfig",persistent:!1},MigrateHighlightsTracker:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MigrateHighlightsTracker",persistent:!1}},Gameshare:{CreateSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"CreateSession",persistent:!1},DeleteSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"DeleteSession",persistent:!1},ModifySession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"ModifySession",persistent:!1},ConfigureControllerMapping:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"ConfigureControllerMapping",persistent:!1},GetFullScreenProcessId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"GetFullScreenProcessId",persistent:!1},CreateSessionNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"CreateSessionNotification",persistent:!0},SessionStatusUpdateNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"SessionStatusUpdateNotification",persistent:!0},AudioDeviceChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"AudioDeviceChangeNotification",persistent:!0}},Gamestream:{GetServerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetServerStatus",persistent:!1},SetServerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"SetServerStatus",persistent:!1},GetPairedDevices:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetPairedDevices",persistent:!1},RemovePairedDevices:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RemovePairedDevices",persistent:!1},RegisterPairedDeviceNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RegisterPairedDeviceNotification",persistent:!0},RegisterShieldDeviceNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RegisterShieldDeviceNotification",persistent:!0},RespondToUpdateNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RespondToUpdateNotification",persistent:!1},GetAppsList:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetAppsList",persistent:!1},AddAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"AddAppCollectorItem",persistent:!1},RemoveAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RemoveAppCollectorItem",persistent:!1},EditAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"EditAppCollectorItem",persistent:!1}},Httpserver:{StartHttpServer:{legacyCommand:"QUERY_HTTPSERVER_START",system:"CrimsonNative",module:"Httpserver",method:"StartHttpServer",persistent:!0},StopHttpServer:{legacyCommand:"QUERY_HTTPSERVER_STOP",system:"CrimsonNative",module:"Httpserver",method:"StopHttpServer",persistent:!1},SendRedirectResponse:{legacyCommand:"QUERY_HTTPSERVER_REDIRECTRESPONSE",system:"CrimsonNative",module:"Httpserver",method:"SendRedirectResponse",persistent:!1}},Ipc:{Pop:{legacyCommand:"QUERY_IPC_POP_MESSAGE",system:"CrimsonNative",module:"Ipc",method:"Pop",persistent:!1},Push:{legacyCommand:"QUERY_IPC_PUSH_MESSAGE",system:"CrimsonNative",module:"Ipc",method:"Push",persistent:!1},LoginStatus:{legacyCommand:"QUERY_GFN_LOGIN_STATUS",system:"CrimsonNative",module:"Ipc",method:"LoginStatus",persistent:!1}},Jarvis:{MonitorLoginStatus:{legacyCommand:"JARVIS_MONITOR_LOGIN_STATUS",system:"CrimsonNative",module:"Jarvis",method:"MonitorLoginStatus",persistent:!0},Login:{legacyCommand:"JARVIS_LOGIN",system:"CrimsonNative",module:"Jarvis",method:"Login",persistent:!1},Logout:{legacyCommand:"JARVIS_LOGOUT",system:"CrimsonNative",module:"Jarvis",method:"Logout",persistent:!1},QueryToken:{legacyCommand:"QUERY_TOKEN",system:"CrimsonNative",module:"Jarvis",method:"QueryToken",persistent:!1}},Nativeauth:{syncSessionData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"syncSessionData",persistent:!1},initiateLogIn:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogIn",persistent:!1},initiateLogOut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogOut",persistent:!1},initiateLogInALS:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogInALS",persistent:!1}},Nvaccount:{GetEULAAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetEULAAccepted",persistent:!1},SetEULAAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"SetEULAAccepted",persistent:!1},OnLogin:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"OnLogin",persistent:!1},OnLogout:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"OnLogout",persistent:!1},GetUserAccount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetUserAccount",persistent:!1},GetIdToken:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetIdToken",persistent:!1},RefreshConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"RefreshConsent",persistent:!1},GetUserId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetUserId",persistent:!1},UserIdChangedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"UserIdChangedNotification",persistent:!0},UserConsentChangedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"UserConsentChangedNotification",persistent:!0},GetPrivacySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetPrivacySettings",persistent:!1},SetPrivacySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"SetPrivacySettings",persistent:!1},GetPrivacySettingsConsentInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetPrivacySettingsConsentInformation",persistent:!1},PrivacySettingsConsentInformationChangedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"PrivacySettingsConsentInformationChangedNotification",persistent:!0},GetUserAccountAndDeviceConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetUserAccountAndDeviceConsent",persistent:!1}},Nvcamera:{NvCameraResponseNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraResponseNotification",persistent:!0},NvCameraFilterResponseNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraFilterResponseNotification",persistent:!0},NvCameraUIControlNotificationData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraUIControlNotificationData",persistent:!0},NgxAIUpResNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NgxAIUpResNotifications",persistent:!0},SetAnselEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetAnselEnable",persistent:!1},GetFeatureSet:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFeatureSet",persistent:!1},GetProcessInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetProcessInfo",persistent:!1},GetNvCameraConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetNvCameraConfig",persistent:!1},GetVersion:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetVersion",persistent:!1},AnselUIReady:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"AnselUIReady",persistent:!1},GetAnselCaptureTypes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetAnselCaptureTypes",persistent:!1},GetAnselEnabledStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetAnselEnabledStatus",persistent:!1},SetLanguage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetLanguage",persistent:!1},SetNvCameraConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetNvCameraConfig",persistent:!1},CaptureScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CaptureScreenshot",persistent:!1},GetCaptureResolutions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCaptureResolutions",persistent:!1},SetFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilter",persistent:!1},GetCurrentFilterInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCurrentFilterInfo",persistent:!1},ResetFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"ResetFilter",persistent:!1},InsertFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"InsertFilter",persistent:!1},RemoveFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"RemoveFilter",persistent:!1},MoveFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"MoveFilter",persistent:!1},GetFilterStackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFilterStackInfo",persistent:!1},ResetFilterStack:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"ResetFilterStack",persistent:!1},SetFilterAttribute:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilterAttribute",persistent:!1},SetFilterAndAttributes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilterAndAttributes",persistent:!1},CancelCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CancelCapture",persistent:!1},SetCameraControlFovRoll:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCameraControlFovRoll",persistent:!1},GetCameraControlFov:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCameraControlFov",persistent:!1},GetCameraRangeFovRoll:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCameraRangeFovRoll",persistent:!1},SetCameraGridOfThirds:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCameraGridOfThirds",persistent:!1},SetAnselRedirection:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetAnselRedirection",persistent:!1},SendEnableRedirectionToSP:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SendEnableRedirectionToSP",persistent:!0},MouseEventToNvcamera:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"MouseEventToNvcamera",persistent:!1},KeyboardEventToNvcamera:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"KeyboardEventToNvcamera",persistent:!1},GetFreestyleWhitelisted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFreestyleWhitelisted",persistent:!1},GetNvCameraOnBusStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetNvCameraOnBusStatus",persistent:!1},StartNgxAIUpRes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"StartNgxAIUpRes",persistent:!1},CancelNgxAIUpRes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CancelNgxAIUpRes",persistent:!1},AnselShotSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"AnselShotSavedNotification",persistent:!0},SetCMSInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCMSInfo",persistent:!1}},Nvlocalizedconfig:{LocalizationDataChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvLocalizedConfig",method:"LocalizationDataChangeNotification",persistent:!0},GetLocalizationData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvLocalizedConfig",method:"GetLocalizationData",persistent:!1}},Overrides:{getConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"getConfig",persistent:!1},launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"launch",persistent:!1},apply:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"apply",persistent:!1},reset:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"reset",persistent:!1}},Sharedstorage:{Read:{legacyCommand:"QUERY_READ_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Read",persistent:!1},Write:{legacyCommand:"QUERY_WRITE_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Write",persistent:!1},Remove:{legacyCommand:"QUERY_REMOVE_FROM_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Remove",persistent:!1},Cache:{legacyCommand:"QUERY_CACHE_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Cache",persistent:!1}},Subscriptioninfo:{InitializeSubscriptionProductSku:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SubscriptionInfo",method:"InitializeSubscriptionProductSku",persistent:!1}},Survey:{Launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Survey",method:"Launch",persistent:!1}},Systeminfo:{GetSystemInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetSystemInfo",persistent:!1},GetClientHeadersInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetClientHeadersInfo",persistent:!1},GetDeviceId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetDeviceId",persistent:!1},GetBrowserInfo:{legacyCommand:"QUERY_BROWSER_INFO",system:"CrimsonNative",module:"SystemInfo",method:"GetBrowserInfo",persistent:!1},GetStreamingSupportInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetStreamingSupportInfo",persistent:!1},DNSLookup:{legacyCommand:"QUERY_DNS",system:"CrimsonNative",module:"SystemInfo",method:"DNSLookup",persistent:!1}},Telemetry:{SendGridServerAnalyticsEvent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Telemetry",method:"SendGridServerAnalyticsEvent",persistent:!1}},Update:t(82301).B,Windowcontrol:{Maximize:{legacyCommand:"QUERY_WIN_MAXIMIZE",system:"CrimsonNative",module:"WindowControl",method:"Maximize",persistent:!1},Minimize:{legacyCommand:"QUERY_WIN_MINIMIZE",system:"CrimsonNative",module:"WindowControl",method:"Minimize",persistent:!1},Restore:{legacyCommand:"QUERY_WIN_RESTORE",system:"CrimsonNative",module:"WindowControl",method:"Restore",persistent:!1},RestoreFromFullScreen:{legacyCommand:"QUERY_WIN_RESTORE_FROM_FULLSCREEN",system:"CrimsonNative",module:"WindowControl",method:"RestoreFromFullScreen",persistent:!1},Resize:{legacyCommand:"QUERY_WIN_RECT",system:"CrimsonNative",module:"WindowControl",method:"Resize",persistent:!1},Close:{legacyCommand:"QUERY_WIN_CLOSE",system:"CrimsonNative",module:"WindowControl",method:"Close",persistent:!1},Focus:{legacyCommand:"QUERY_WIN_FOCUS",system:"CrimsonNative",module:"WindowControl",method:"Focus",persistent:!1},RequestUserAttention:{legacyCommand:"QUERY_REQUEST_USER_ATTENTION",system:"CrimsonNative",module:"WindowControl",method:"RequestUserAttention",persistent:!1},EnableCloseButton:{legacyCommand:"QUERY_WIN_ALLOW_CLOSE",system:"CrimsonNative",module:"WindowControl",method:"EnableCloseButton",persistent:!1}},Windowevents:{RegisterWindowEventsCallback:{legacyCommand:"QUERY_REGISTER_WINDOW_EVENTS_CALLBACK",system:"CrimsonNative",module:"WindowEvents",method:"RegisterWindowEventsCallback",persistent:!0}}},Gfe:{Driverinstall:{InstallAsync:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"InstallAsync",persistent:!1},SetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"SetState",persistent:!1},GetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"GetState",persistent:!1},RegisterProgressNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterProgressNotification",persistent:!0},RegisterFormNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterFormNotification",persistent:!0}},Driverupdaterecommendation:{GetDriverUpdateRecommendation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateRecommendation",persistent:!1},GetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetUserDriverTypePreference",persistent:!1},SetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetUserDriverTypePreference",persistent:!1},GetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetAutomaticDriverDownloadEnabled",persistent:!1},SetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetAutomaticDriverDownloadEnabled",persistent:!1},StartDriverUpdateCheck:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"StartDriverUpdateCheck",persistent:!1},RegisterDriverUpdateCheckProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"RegisterDriverUpdateCheckProgressNotifications",persistent:!0},GetGRDEditorPreviewMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGRDEditorPreviewMode",persistent:!1},GetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateNotificationEnabled",persistent:!1},SetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetDriverUpdateNotificationEnabled",persistent:!1}},Gfnsdk:{Initialize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdk",method:"Initialize",persistent:!1},StartStreaming:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdk",method:"StartStreaming",persistent:!1}},Localgames:{GetApplications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplications",persistent:!1},RegisterApplicationChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationChangedNotifications",persistent:!0},RegisterApplicationRemovedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationRemovedNotifications",persistent:!0},StartApplicationScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"StartApplicationScan",persistent:!1},RegisterApplicationScanProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationScanProgressNotifications",persistent:!0},GetLastApplicationScanTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLastApplicationScanTime",persistent:!1},LaunchApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchApplication",persistent:!1},GetLauncherPID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLauncherPID",persistent:!1},GetApplicationSearchPaths:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationSearchPaths",persistent:!1},AddApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"AddApplicationSearchPath",persistent:!1},RemoveApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RemoveApplicationSearchPath",persistent:!1},GetVOPSStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetVOPSStatus",persistent:!1},GetVOPSSettingsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetVOPSSettingsInfo",persistent:!1},RegisterVOPSReadyNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterVOPSReadyNotifications",persistent:!0},GetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostState",persistent:!1},SetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetBatteryBoostState",persistent:!1},GetBatteryBoostSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostSupportState",persistent:!1},GetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeState",persistent:!1},SetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetWhisperModeState",persistent:!1},RegisterWhisperModeStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeStateNotifications",persistent:!0},GetWhisperModeSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeSupportState",persistent:!1},RegisterWhisperModeSupportStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeSupportStateNotifications",persistent:!0},GetSettingsTranslations:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsTranslations",persistent:!1},GetSettingsSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsSpace",persistent:!1},SetTargetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetTargetSettings",persistent:!1},GetApplicationState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationState",persistent:!1},RegisterApplicationStateChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationStateChangedNotifications",persistent:!0}}},Gfn:{Gfnsdkhost:{UpdateStreamerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"UpdateStreamerStatus",persistent:!1},OnMessageToSDKClient:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnMessageToSDKClient",persistent:!1},OnMessageFromSDKClient:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnMessageFromSDKClient",persistent:!0},SendCustomMessage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"SendCustomMessage",persistent:!1},OnCustomMessageNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnCustomMessageNotification",persistent:!0}},Networktest:{Start:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"Start",persistent:!1},AuthTokenRequest:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"AuthTokenRequest",persistent:!0},NetworkTestFinishedCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"NetworkTestFinishedCallback",persistent:!0},UpdateAuthToken:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"UpdateAuthToken",persistent:!1},ConfigureNetworkTestSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"ConfigureNetworkTestSettings",persistent:!1},RegisterCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"RegisterCallback",persistent:!1}},Serverrouting:{PerformRouting:{legacyCommand:"QUERY_GFN_LATENCY_BASED_ROUTING",system:"CrimsonNative",module:"ServerRouting",method:"PerformRouting",persistent:!1}},Streamer:{Launch:{legacyCommand:"QUERY_STREAMER_LAUNCH",system:"CrimsonNative",module:"Streamer",method:"Launch",persistent:!1},AddDesktopShortcut:{legacyCommand:"QUERY_STREAMER_INSTALL",system:"CrimsonNative",module:"Streamer",method:"AddDesktopShortcut",persistent:!1}},Streaming:{Start:{legacyCommand:"QUERY_GFN_START",system:"CrimsonNative",module:"Streaming",method:"Start",persistent:!1},Prepare:{legacyCommand:"QUERY_GFN_PREPARE",system:"CrimsonNative",module:"Streaming",method:"Prepare",persistent:!1},SetAuthInfo:{legacyCommand:"QUERY_GFN_SET_AUTH_INFO",system:"CrimsonNative",module:"Streaming",method:"SetAuthInfo",persistent:!1},SetAuthToken:{legacyCommand:"QUERY_GFN_SET_AUTH_TOKEN",system:"CrimsonNative",module:"Streaming",method:"SetAuthToken",persistent:!1},SetPrefetchedSettings:{legacyCommand:"QUERY_GFN_SET_PREFETCHED_SETTINGS",system:"CrimsonNative",module:"Streaming",method:"SetPrefetchedSettings",persistent:!1},Stop:{legacyCommand:"QUERY_GFN_STOP",system:"CrimsonNative",module:"Streaming",method:"Stop",persistent:!1},Cleanup:{legacyCommand:"QUERY_GFN_CLEANUP",system:"CrimsonNative",module:"Streaming",method:"Cleanup",persistent:!1},GetActiveSessions:{legacyCommand:"QUERY_GFN_GET_ACTIVE_SESSIONS",system:"CrimsonNative",module:"Streaming",method:"GetActiveSessions",persistent:!1},GetSessionInfo:{legacyCommand:"QUERY_GFN_GET_SESSION_INFO",system:"CrimsonNative",module:"Streaming",method:"GetSessionInfo",persistent:!1},VsyncToggle:{legacyCommand:"QUERY_GFN_IS_VSYNC_TOGGLE_SUPPORTED",system:"CrimsonNative",module:"Streaming",method:"VsyncToggle",persistent:!1},Cancel:{legacyCommand:"QUERY_GFN_CANCEL",system:"CrimsonNative",module:"Streaming",method:"Cancel",persistent:!1},Resume:{legacyCommand:"QUERY_GFN_RESUME",system:"CrimsonNative",module:"Streaming",method:"Resume",persistent:!1},PauseStreaming:{legacyCommand:"QUERY_GFN_PAUSE_STREAMING",system:"CrimsonNative",module:"Streaming",method:"PauseStreaming",persistent:!1},UpdateRemoteConfig:{legacyCommand:"QUERY_GFN_UPDATE_REMOTE_CONFIG",system:"CrimsonNative",module:"Streaming",method:"UpdateRemoteConfig",persistent:!1},RegisterCallback:{legacyCommand:"QUERY_GFN_REGISTER_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"RegisterCallback",persistent:!0},OpenOsr:{legacyCommand:"QUERY_WIN_OPEN_OSR",system:"CrimsonNative",module:"Streaming",method:"OpenOsr",persistent:!1},CloseOsr:{legacyCommand:"QUERY_WIN_CLOSE_OSR",system:"CrimsonNative",module:"Streaming",method:"CloseOsr",persistent:!1},OsrRegisterCustomKeyPress:{legacyCommand:"QUERY_OSR_REGISTER_KEYPRESS",system:"CrimsonNative",module:"Streaming",method:"OsrRegisterCustomKeyPress",persistent:!1},OsrUnregisterCustomKeyPress:{legacyCommand:"QUERY_OSR_UNREGISTER_KEYPRESS",system:"CrimsonNative",module:"Streaming",method:"OsrUnregisterCustomKeyPress",persistent:!1},OsrCheckKeyPressCombination:{legacyCommand:"QUERY_OSR_CHECK_KEYPRESS_COMBINATION",system:"CrimsonNative",module:"Streaming",method:"OsrCheckKeyPressCombination",persistent:!1},OsrRegisterKeyPressCallback:{legacyCommand:"QUERY_OSR_REGISTER_KEYPRESS_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"OsrRegisterKeyPressCallback",persistent:!0},OsrSetOverlayResolution:{legacyCommand:"QUERY_OSR_SET_OVERLAY_RESOLUTION",system:"CrimsonNative",module:"Streaming",method:"OsrSetOverlayResolution",persistent:!1},GetStreamVolume:{legacyCommand:"QUERY_GFN_GET_STREAM_VOLUME",system:"CrimsonNative",module:"Streaming",method:"GetStreamVolume",persistent:!1},GetStreamStats:{legacyCommand:"QUERY_GFN_GET_STREAM_STATS",system:"CrimsonNative",module:"Streaming",method:"GetStreamStats",persistent:!1},SetStreamVolume:{legacyCommand:"QUERY_GFN_SET_STREAM_VOLUME",system:"CrimsonNative",module:"Streaming",method:"SetStreamVolume",persistent:!1},SetMagnificationFilter:{legacyCommand:"QUERY_GFN_SET_MAG_FILTER",system:"CrimsonNative",module:"Streaming",method:"SetMagnificationFilter",persistent:!1},GetMagnificationFilterSupport:{legacyCommand:"QUERY_GFN_GET_MAG_FILTER_SUPPORT",system:"CrimsonNative",module:"Streaming",method:"GetMagnificationFilterSupport",persistent:!1},GetMagnificationFilterSupportList:{legacyCommand:"QUERY_GFN_GET_MAG_FILTER_SUPPORT_LIST",system:"CrimsonNative",module:"Streaming",method:"GetMagnificationFilterSupportList",persistent:!1},SetMagnificationFilterSharpness:{legacyCommand:"QUERY_GFN_SET_MAG_FILTER_SHARPNESS",system:"CrimsonNative",module:"Streaming",method:"SetMagnificationFilterSharpness",persistent:!1},ToggleUserInput:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"ToggleUserInput",persistent:!1},ToggleJoystickMouse:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"ToggleJoystickMouse",persistent:!1},SetVirtualKeyboardState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"SetVirtualKeyboardState",persistent:!1},SetVideoTransforms:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"SetVideoTransforms",persistent:!1},RegisterMicCallback:{legacyCommand:"QUERY_GFN_REGISTER_MIC_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"RegisterMicCallback",persistent:!0},ShouldDefaultEnableMic:{legacyCommand:"QUERY_SHOULD_DEFAULT_ENABLE_MIC",system:"CrimsonNative",module:"Streaming",method:"ShouldDefaultEnableMic",persistent:!1},GetMicState:{legacyCommand:"QUERY_GFN_GET_MIC_STATE",system:"CrimsonNative",module:"Streaming",method:"GetMicState",persistent:!1},SetMicState:{legacyCommand:"QUERY_GFN_SET_MIC_STATE",system:"CrimsonNative",module:"Streaming",method:"SetMicState",persistent:!1},GetKeyboardLayout:{legacyCommand:"QUERY_GFN_GET_KEYBOARD_LAYOUT",system:"CrimsonNative",module:"Streaming",method:"GetKeyboardLayout",persistent:!1},SetKeyboardLayout:{legacyCommand:"QUERY_GFN_SET_KEYBOARD_LAYOUT",system:"CrimsonNative",module:"Streaming",method:"SetKeyboardLayout",persistent:!1},ConfigureStreamingSettings:{legacyCommand:"QUERY_GFN_UPDATE_STREAMING_SETTINGS",system:"CrimsonNative",module:"Streaming",method:"ConfigureStreamingSettings",persistent:!1},SendUnicode:{legacyCommand:"QUERY_GFN_SEND_UNICODE",system:"CrimsonNative",module:"Streaming",method:"SendUnicode",persistent:!1},OnKBLayoutChange:{legacyCommand:"QUERY_GFN_REGISTER_ON_KEYBOARD_LAYOUT_CHANGED",system:"CrimsonNative",module:"Streaming",method:"OnKBLayoutChange",persistent:!0},GetUnifiedAPIVersion:{legacyCommand:"QUERY_GFN_GET_UNIFIED_API_VERSION",system:"CrimsonNative",module:"Streaming",method:"GetUnifiedAPIVersion",persistent:!1},OnIMEWindowClosed:{legacyCommand:"QUERY_GFN_REGISTER_ON_IME_WINDOW_CLOSED",system:"CrimsonNative",module:"Streaming",method:"OnIMEWindowClosed",persistent:!0},OnIMEWindowOpened:{legacyCommand:"QUERY_GFN_REGISTER_ON_IME_WINDOW_OPENED",system:"CrimsonNative",module:"Streaming",method:"OnIMEWindowOpened",persistent:!0},GetDisplayMode:{legacyCommand:"QUERY_GFN_GET_DISPLAY_MODE",system:"CrimsonNative",module:"Streaming",method:"GetDisplayMode",persistent:!1},GetVSyncAutoDisableThresholdStreamingFPS:{legacyCommand:"QUERY_GFN_GET_VSYNC_AUTO_DISABLE_THRESHOLD_FPS",system:"CrimsonNative",module:"Streaming",method:"GetVSyncAutoDisableThresholdStreamingFPS",persistent:!1},GetVSyncAutoDisableThresholdDisplayHz:{legacyCommand:"QUERY_GFN_GET_VSYNC_AUTO_DISABLE_THRESHOLD_DISPLAY_HZ",system:"CrimsonNative",module:"Streaming",method:"GetVSyncAutoDisableThresholdDisplayHz",persistent:!1},SetVsyncEnabled:{legacyCommand:"QUERY_GFN_SET_VSYNC_ENABLED",system:"CrimsonNative",module:"Streaming",method:"SetVsyncEnabled",persistent:!1},SetAdaptiveFramePacingEnabled:{legacyCommand:"QUERY_GFN_SET_ADAPTIVE_FRAME_PACING_ENABLED",system:"CrimsonNative",module:"Streaming",method:"SetAdaptiveFramePacingEnabled",persistent:!1},SetDrcDfcState:{legacyCommand:"QUERY_GFN_SET_DRC_DFC_STATE",system:"CrimsonNative",module:"Streaming",method:"SetDrcDfcState",persistent:!1},SetStreamingMaxBitrate:{legacyCommand:"QUERY_GFN_SET_STREAMING_MAX_BITRATE",system:"CrimsonNative",module:"Streaming",method:"SetStreamingMaxBitrate",persistent:!1},UpdateEventInfoGuids:{legacyCommand:"QUERY_GFN_UPDATE_EVENT_INFO_GUIDS",system:"CrimsonNative",module:"Streaming",method:"UpdateEventInfoGuids",persistent:!1},RegisterGridServerAnalyticsCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"RegisterGridServerAnalyticsCallback",persistent:!0},GetAutoResolution:{legacyCommand:"QUERY_GFN_GET_AUTO_RESOLUTION",system:"CrimsonNative",module:"Streaming",method:"GetAutoResolution",persistent:!1},LaunchNativeStreamer:{legacyCommand:"QUERY_GFN_LAUNCH_NATVE_STREAMER",system:"CrimsonNative",module:"Streaming",method:"LaunchNativeStreamer",persistent:!1},UpdateEventDataElements:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"UpdateEventDataElements",persistent:!1},SendClipboardUpdate:{legacyCommand:"QUERY_GFN_SEND_CLIPBOARD_UPDATE",system:"CrimsonNative",module:"Streaming",method:"SendClipboardUpdate",persistent:!1},IsPlatformSupportsUHD:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORTS_UHD",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportsUHD",persistent:!1},AuthorizeAVDevices:{legacyCommand:"QUERY_GFN_AUTH_AV_DEVICES",system:"CrimsonNative",module:"Streaming",method:"AuthorizeAVDevices",persistent:!1},PlatformGetMaxBitRateForArray:{legacyCommand:"QUERY_GFN_PLATFORM_GET_MAXBITRATE_ARRAY",system:"CrimsonNative",module:"Streaming",method:"PlatformGetMaxBitRateForArray",persistent:!1},SendKeyEvent:{legacyCommand:"QUERY_GFN_SEND_KEY_EVENT_TO_STREAMER",system:"CrimsonNative",module:"Streaming",method:"SendKeyEvent",persistent:!1},ToggleISSOStats:{legacyCommand:"QUERY_TOGGLE_ISSO_STATS",system:"CrimsonNative",module:"Streaming",method:"ToggleISSOStats",persistent:!0},IsPlatformSupportsHDRStreaming:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORTS_HDR_STREAMING",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportsHDRStreaming",persistent:!1},RegisterHDRStreamingStatusNotification:{legacyCommand:"QUERY_GFN_REGISTER_HDR_STATUS",system:"CrimsonNative",module:"Streaming",method:"RegisterHDRStreamingStatusNotification",persistent:!0},StreamingCodecNotification:{legacyCommand:"QUERY_STREAMING_CODEC_NOTIFICATION",system:"CrimsonNative",module:"Streaming",method:"StreamingCodecNotification",persistent:!0},IsPlatformSupportFps:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORT_FPS",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportFps",persistent:!1},GetHighestSupportedAudioFormat:{legacyCommand:"QUERY_GFN_GET_HIGHEST_SUPPORTED_AUDIO_FORMAT",system:"CrimsonNative",module:"Streaming",method:"GetHighestSupportedAudioFormat",persistent:!1},CalculateDataUsage:{legacyCommand:"QUERY_GFN_CALCULATE_DATA_USAGE",system:"CrimsonNative",module:"Streaming",method:"CalculateDataUsage",persistent:!1},UpdateAdState:{legacyCommand:"QUERY_GFN_UPDATE_AD_STATE",system:"CrimsonNative",module:"Streaming",method:"UpdateAdState",persistent:!1},GetPlatformCloudGsyncCapabilities:{legacyCommand:"QUERY_GFN_GET_PLATFORM_CLOUD_GSYNC_CAPABILITIES",system:"CrimsonNative",module:"Streaming",method:"GetPlatformCloudGsyncCapabilities",persistent:!1},GetDeviceCapabilities:{legacyCommand:"QUERY_GFN_GET_SERIALIZED_DEVICE_CAPABILITIES",system:"CrimsonNative",module:"Streaming",method:"GetDeviceCapabilities",persistent:!1},SetStreamingL4sState:{legacyCommand:"QUERY_GFN_SET_STREAMING_L4S_STATE",system:"CrimsonNative",module:"Streaming",method:"SetStreamingL4sState",persistent:!1}}},Nvapp:{Appdiscovery:{AppActionNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"AppActionNotification",persistent:!0},InstallApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"InstallApp",persistent:!1},UninstallApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"UninstallApp",persistent:!1},GetAppStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"GetAppStatus",persistent:!1},GetAppsStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"GetAppsStatus",persistent:!1},LaunchApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"LaunchApp",persistent:!1}},Driverinstall:{InstallAsync:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"InstallAsync",persistent:!1},SetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"SetState",persistent:!1},GetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"GetState",persistent:!1},RegisterProgressNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterProgressNotification",persistent:!0},RegisterFormNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterFormNotification",persistent:!0}},Driverupdaterecommendation:{GetDriverUpdateRecommendation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateRecommendation",persistent:!1},GetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetUserDriverTypePreference",persistent:!1},SetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetUserDriverTypePreference",persistent:!1},GetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetAutomaticDriverDownloadEnabled",persistent:!1},SetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetAutomaticDriverDownloadEnabled",persistent:!1},StartDriverUpdateCheck:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"StartDriverUpdateCheck",persistent:!1},RegisterDriverUpdateCheckProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"RegisterDriverUpdateCheckProgressNotifications",persistent:!0},GetGRDEditorPreviewMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGRDEditorPreviewMode",persistent:!1},GetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateNotificationEnabled",persistent:!1},SetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetDriverUpdateNotificationEnabled",persistent:!1},GetGPUInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGPUInfo",persistent:!1},GetGenericInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGenericInfo",persistent:!1},GetRewardsNotificationPreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetRewardsNotificationPreference",persistent:!1},SetRewardsNotificationPreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetRewardsNotificationPreference",persistent:!1}},Localgames:{GetApplications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplications",persistent:!1},RegisterApplicationChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationChangedNotifications",persistent:!0},RegisterApplicationRemovedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationRemovedNotifications",persistent:!0},StartApplicationScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"StartApplicationScan",persistent:!1},RegisterApplicationScanProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationScanProgressNotifications",persistent:!0},GetLastApplicationScanTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLastApplicationScanTime",persistent:!1},LaunchApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchApplication",persistent:!1},GetLauncherPID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLauncherPID",persistent:!1},GetApplicationSearchPaths:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationSearchPaths",persistent:!1},AddApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"AddApplicationSearchPath",persistent:!1},RemoveApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RemoveApplicationSearchPath",persistent:!1},GetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostState",persistent:!1},SetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetBatteryBoostState",persistent:!1},GetBatteryBoostSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostSupportState",persistent:!1},GetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeState",persistent:!1},SetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetWhisperModeState",persistent:!1},GetWhisperModeInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeInfo",persistent:!1},RegisterWhisperModeStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeStateNotifications",persistent:!0},GetWhisperModeSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeSupportState",persistent:!1},RegisterWhisperModeSupportStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeSupportStateNotifications",persistent:!0},GetSettingsTranslations:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsTranslations",persistent:!1},GetSettingsSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsSpace",persistent:!1},SetTargetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetTargetSettings",persistent:!1},GetApplicationState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationState",persistent:!1},RegisterApplicationStateChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationStateChangedNotifications",persistent:!0},GetSignedGPUID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSignedGPUID",persistent:!1},LaunchMSSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchMSSettings",persistent:!1},SetOOTBStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetOOTBStatus",persistent:!1},FindAndGetAppMetadata:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"FindAndGetAppMetadata",persistent:!1},AddManualApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"AddManualApplication",persistent:!1},GetAutoOptimizeEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetAutoOptimizeEnabled",persistent:!1},SetAutoOptimizeEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetAutoOptimizeEnabled",persistent:!1},GetLanguagePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLanguagePreference",persistent:!1},SetLanguagePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetLanguagePreference",persistent:!1}},Nvcpldisplayplugin:{GetDirect3DfeatureLevel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetDirect3DfeatureLevel",persistent:!1},GetGPUInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetGPUInformation",persistent:!1},GetSuperResolutionInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetSuperResolutionInfo",persistent:!1},GetSuperResolutionCurrentStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetSuperResolutionCurrentStatus",persistent:!1},SetSuperResolutionValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"SetSuperResolutionValue",persistent:!1},RestoreDefaultVideoSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"RestoreDefaultVideoSettings",persistent:!1},GetHDRInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetHDRInfo",persistent:!1},GetHDRCurrentStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetHDRCurrentStatus",persistent:!1},SetHDRValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"SetHDRValue",persistent:!1},SetHDRInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"SetHDRInfo",persistent:!1},RegisterDisplayChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"RegisterDisplayChangeNotification",persistent:!0},GetGpuCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetGpuCount",persistent:!1},LaunchApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"LaunchApplication",persistent:!1},IsControlPanelClientInstalled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"IsControlPanelClientInstalled",persistent:!1},GetGpuAndDisplayInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetGpuAndDisplayInformation",persistent:!1},RestoreDisplaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"RestoreDisplaySettings",persistent:!1},SetResolution:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"SetResolution",persistent:!1},SetRotation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"SetRotation",persistent:!1},RevertState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"RevertState",persistent:!1},CancelState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"CancelState",persistent:!1},CommitState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"CommitState",persistent:!1},IdentifyDisplays:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"IdentifyDisplays",persistent:!1},GetSystemCapabilities:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplDisplayPlugin",method:"GetSystemCapabilities",persistent:!1}},Nvcplplugin:{GetProfileSettingsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingsInfo",persistent:!1},GetProfileInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileInfo",persistent:!1},GetProfileSettingValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingValue",persistent:!1},GetProfileSettingDefaultValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingDefaultValue",persistent:!1},GetProfileNameFromExe:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileNameFromExe",persistent:!1},SetProfileSettingValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"SetProfileSettingValue",persistent:!1},ApplyProfileSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"ApplyProfileSettings",persistent:!1},GetProfileJsonStringSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileJsonStringSettingPossibleValues",persistent:!1},GetProfileStringSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileStringSettingPossibleValues",persistent:!1},GetProfileScalarSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileScalarSettingPossibleValues",persistent:!1},RestoreDefaultForProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"RestoreDefaultForProfile",persistent:!1},RestoreDefaultForAllProfiles:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"RestoreDefaultForAllProfiles",persistent:!1},GetProgramProfileNames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProgramProfileNames",persistent:!1},GetProfilesAndApplicationsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfilesAndApplicationsInfo",persistent:!1},GetGlobalProfileNames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetGlobalProfileNames",persistent:!1},CreateNewProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"CreateNewProfile",persistent:!1},GetDynamicBoost:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetDynamicBoost",persistent:!1}},Nvigoutil:{ToggleIGO:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"ToggleIGO",persistent:!1},GetShadowPlaySupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetShadowPlaySupported",persistent:!1},GetShadowPlayStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetShadowPlayStatus",persistent:!1},GetFilterPhotoModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetFilterPhotoModeState",persistent:!1},SetFilterPhotoMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"SetFilterPhotoMode",persistent:!1},OpenIGO:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"OpenIGO",persistent:!1},GetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetHotkeyShortcut",persistent:!1}},Nvoc:{GetFeatureSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetFeatureSupportState",persistent:!1},GetManualOCLimits:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetManualOCLimits",persistent:!1},GetLastOcScanResults:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetLastOcScanResults",persistent:!1},GetLastIncompleteOcScannerResults:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetLastIncompleteOcScannerResults",persistent:!1},GetFanSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetFanSettings",persistent:!1},OcScanStatusUpdatesNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"OcScanStatusUpdatesNotifications",persistent:!0},GetOCConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetOCConfig",persistent:!1},GetGpuInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetGpuInfo",persistent:!1},GetOCAdminConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetOCAdminConsent",persistent:!1},SetOCAdminConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"SetOCAdminConsent",persistent:!1},powerStatusNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"powerStatusNotification",persistent:!0},GetVFPoints:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetVFPoints",persistent:!1},EnableCurrentVFPointNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"EnableCurrentVFPointNotification",persistent:!1},CurrentVFPointNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"CurrentVFPointNotification",persistent:!0},GetPerfProfiles:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetPerfProfiles",persistent:!1}},Overclockingnvc:{SetManualOCLimits:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"SetManualOCLimits",persistent:!1},StartOcManualScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"StartOcManualScan",persistent:!1},StopOcManualScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"StopOcManualScan",persistent:!1},EnableBackgroundOcScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"EnableBackgroundOcScan",persistent:!1},EnableAutotuneOc:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"EnableAutotuneOc",persistent:!1},RestoreOcDefault:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"RestoreOcDefault",persistent:!1},SetFanSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"SetFanSettings",persistent:!1},SetPerfProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"SetPerfProfile",persistent:!1}}},Qxp:{Driverrollback:{Rollback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverRollback",method:"Rollback",persistent:!1},RollbackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverRollback",method:"RollbackInfo",persistent:!1}}},Share:te}},3356:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>tn});const tn={SetCaptureSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCaptureSupported",persistent:!1},RegisterHotkeyNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterHotkeyNotifications",persistent:!0},RegisterGeneralNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterGeneralNotifications",persistent:!0},SetTelemtryInfoToShadowPlay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetTelemtryInfoToShadowPlay",persistent:!1},RegisterCaptureStateChangeNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterCaptureStateChangeNotifications",persistent:!0},RegisterWindowStateChangeNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterWindowStateChangeNotifications",persistent:!0},RegisterBroadcastSessionNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterBroadcastSessionNotifications",persistent:!0},CaptureSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureSavedNotification",persistent:!0},HighlightSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HighlightSavedNotification",persistent:!0},HighlightCaptureFailureNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HighlightCaptureFailureNotification",persistent:!0},RegisterSDKNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterSDKNotifications",persistent:!0},RegisterAppNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterAppNotifications",persistent:!0},GetInitData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInitData",persistent:!1},GetMainView:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMainView",persistent:!1},OpenOsc:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"OpenOsc",persistent:!1},Launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Launch",persistent:!1},GetShadowPlaySupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetShadowPlaySupported",persistent:!1},GetShadowPlayStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetShadowPlayStatus",persistent:!1},Get4KSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Get4KSupport",persistent:!1},GetSupportedBitrates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedBitrates",persistent:!1},GetSupportedBitratesFramerates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedBitratesFramerates",persistent:!1},GetSupportedResolutions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedResolutions",persistent:!1},GetSupportedResolutionsCodecs:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedResolutionsCodecs",persistent:!1},GetSupportedFramerates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedFramerates",persistent:!1},GetQualityDefaultData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetQualityDefaultData",persistent:!1},GetCaptureState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureState",persistent:!1},GetCaptureProcessInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureProcessInfo",persistent:!1},GetCaptureControlPIDMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureControlPIDMode",persistent:!1},GetScreenshotSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetScreenshotSupport",persistent:!1},CaptureScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureScreenshot",persistent:!1},CaptureCustomScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureCustomScreenshot",persistent:!1},CustomScreenshotNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CustomScreenshotNotifications",persistent:!0},GetFreestylePreviewBasePath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetFreestylePreviewBasePath",persistent:!1},StartDiskCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StartDiskCapture",persistent:!1},StopAndSaveDiskCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StopAndSaveDiskCapture",persistent:!1},StartBufferedCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StartBufferedCapture",persistent:!1},StopBufferedCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StopBufferedCapture",persistent:!1},SaveBufferedCaptureClip:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SaveBufferedCaptureClip",persistent:!1},EDGEEvent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EDGEEvent",persistent:!1},GetInstantReplayEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayEnableStatus",persistent:!1},GetInstantReplayRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayRunningStatus",persistent:!1},GetInstantReplaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplaySettings",persistent:!1},SetInstantReplaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetInstantReplaySettings",persistent:!1},EnableInstantReplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableInstantReplay",persistent:!1},SaveInstantReplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SaveInstantReplay",persistent:!1},GetLastInstantReplayLength:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetLastInstantReplayLength",persistent:!1},GetInstantReplayCustomizeData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayCustomizeData",persistent:!1},GetRecordEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordEnableStatus",persistent:!1},GetRecordRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordRunningStatus",persistent:!1},EnableRecord:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableRecord",persistent:!1},GetRecordSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordSettings",persistent:!1},SetRecordSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetRecordSettings",persistent:!1},GetRecordCustomizeData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordCustomizeData",persistent:!1},EnableBroadcast:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableBroadcast",persistent:!1},PauseBroadcast:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"PauseBroadcast",persistent:!1},GetBroadcastEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastEnableStatus",persistent:!1},GetBroadcastRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastRunningStatus",persistent:!1},GetBroadcastSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastSupported",persistent:!1},GetBroadcastSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastSettings",persistent:!1},SetBroadcastSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastSettings",persistent:!1},SetBroadcastSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastSession",persistent:!1},GetBroadcastPreferredProviderSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastPreferredProviderSetting",persistent:!1},SetBroadcastPreferredProviderSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastPreferredProviderSetting",persistent:!1},GetBroadcastLastProvider:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastLastProvider",persistent:!1},SetBroadcastLastProvider:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastLastProvider",persistent:!1},GetBroadcastTitle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastTitle",persistent:!1},GetBroadcast2K:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcast2K",persistent:!1},GetBroadcastFacebookLiveSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastFacebookLiveSupport",persistent:!1},GetBroadcastIngestServer:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastIngestServer",persistent:!1},SetBroadcastIngestServer:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastIngestServer",persistent:!1},SetBroadcastViewerCountImage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastViewerCountImage",persistent:!1},SetBroadcastViewerMax:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastViewerMax",persistent:!1},GetRecordBroadcastConcurrencySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordBroadcastConcurrencySupport",persistent:!1},GetRecordGamestreamConcurrencySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordGamestreamConcurrencySupport",persistent:!1},GetDesktopCaptureEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureEnabled",persistent:!1},SetDesktopCaptureEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetDesktopCaptureEnabled",persistent:!1},GetDesktopCaptureSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureSupported",persistent:!1},GetDesktopCaptureSupportReason:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureSupportReason",persistent:!1},GetAudioMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetAudioMode",persistent:!1},SetAudioMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetAudioMode",persistent:!1},GetAudioSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetAudioSettings",persistent:!1},SetAudioSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetAudioSettings",persistent:!1},GetMicCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicCount",persistent:!1},GetMicMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicMode",persistent:!1},SetMicMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetMicMode",persistent:!1},GetMicSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicSettings",persistent:!1},SetMicSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetMicSettings",persistent:!1},MicPTTMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"MicPTTMode",persistent:!1},EnableWebcam:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableWebcam",persistent:!1},ToggleWebcam:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ToggleWebcam",persistent:!1},GetWebcamEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamEnable",persistent:!1},GetWebcamShown:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamShown",persistent:!1},GetWebcamPresent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamPresent",persistent:!1},GetWebcamPreviewState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamPreviewState",persistent:!1},EnableWebcamPreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableWebcamPreview",persistent:!1},GetHighlightsActive:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsActive",persistent:!1},GetHighlightsEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsEnable",persistent:!1},SetHighlightsEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHighlightsEnable",persistent:!1},GetSDKInstanceActive:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSDKInstanceActive",persistent:!1},GetSDKPermissions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSDKPermissions",persistent:!1},SetSDKPermissions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetSDKPermissions",persistent:!1},NotifyAppOverlayState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"NotifyAppOverlayState",persistent:!1},GetHighlightsConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsConfig",persistent:!1},SetHighlightsConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHighlightsConfig",persistent:!1},GetApplicationConfigs:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetApplicationConfigs",persistent:!1},GetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHotkeyShortcut",persistent:!1},SetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyShortcut",persistent:!1},ResetHotkeysToDefault:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ResetHotkeysToDefault",persistent:!1},GetHotkeyMonitoring:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHotkeyMonitoring",persistent:!1},Init:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Init",persistent:!1},SetHotkeyMonitoring:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyMonitoring",persistent:!1},SetHotkeyDynamicEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyDynamicEnable",persistent:!1},GetIndicatorSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetIndicatorSupported",persistent:!1},GetIndicatorOverlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetIndicatorOverlaySettings",persistent:!1},SetIndicatorOverlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetIndicatorOverlaySettings",persistent:!1},GetCustomOverlayDefaultPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayDefaultPath",persistent:!1},GetCustomOverlaySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlaySupport",persistent:!1},GetCustomOverlayPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayPath",persistent:!1},SetCustomOverlayPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCustomOverlayPath",persistent:!1},GetCustomOverlayEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayEnable",persistent:!1},SetCustomOverlayEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCustomOverlayEnable",persistent:!1},GetCustomOverlayDisplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayDisplay",persistent:!1},SelectCustomOverlay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SelectCustomOverlay",persistent:!1},EnableCustomOverlay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableCustomOverlay",persistent:!1},GetNvCameraToggleState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetNvCameraToggleState",persistent:!1},SetNvCameraToggleState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetNvCameraToggleState",persistent:!1},ToggleAutoHighlight:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ToggleAutoHighlight",persistent:!1},DisableRecordSpecialCase:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"DisableRecordSpecialCase",persistent:!1},GetIf4KRecordingFallbackAvailable:{legacyCommand:"QUERY_IS_4K_RECORDING_FALLBACK_AVAILABLE",system:"CrimsonNative",module:"ShareServer",method:"GetIf4KRecordingFallbackAvailable",persistent:!1},GetExportedGFESettingsData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetExportedGFESettingsData",persistent:!1},SyncShadowPlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SyncShadowPlaySettings",persistent:!1},HandleHighlightsGfeConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HandleHighlightsGfeConfig",persistent:!1}}},78943:(Dt,ct,t)=>{"use strict";var e;t.d(ct,{Iq:()=>e,Gh:()=>i.G,Yk:()=>X}),function(m){function Y(N,Z,W,A){return{legacyCommand:N,system:void 0,module:Z,method:W,persistent:A}}m.BridgeCommand=Y,m.GenericCommand=function D(N,Z,W,A){return Y(N,Z,W,A)}}(e||(e={}));var L,f,x,S,u,i=t(91198);!function(m){let Y;var D;(D=Y=m.Format||(m.Format={})).text="text",D.base64="base64"}(L||(L={})),function(m){let Y;var N;let D;(N=Y=m.MediaType||(m.MediaType={})).auto_detect="auto_detect",N.nvfbc="nvfbc",N.video="video",N.image="image",N.kpi_test="kpi_test",N.manual="manual",N.filmstrip="filmstrip",function(N){N.readToTarget="readToTarget",N.sleepToTarget="sleepToTarget",N.readOnlyTarget="readOnlyTarget"}(D=m.FrameMode||(m.FrameMode={}))}(f||(f={})),function(m){let Y;var A;let D,N,Z,W;(A=Y=m.DriverTypeEnum||(m.DriverTypeEnum={}))[A.GameReadyDriver=0]="GameReadyDriver",A[A.CreatorReadyDriver=1]="CreatorReadyDriver",function(A){A[A.MINIMUM_DRIVER_VERSION_NOT_MET=20]="MINIMUM_DRIVER_VERSION_NOT_MET"}(D=m.AidvcUnSupportedErrors||(m.AidvcUnSupportedErrors={})),function(A){A[A.GAME_HDR_ENABLED=0]="GAME_HDR_ENABLED"}(N=m.AidvcRealTimeErrors||(m.AidvcRealTimeErrors={})),function(A){A[A.GPU_INCOMPATIBLE=0]="GPU_INCOMPATIBLE",A[A.CLIENT_VIRTUALIZATION_ENABLED=1]="CLIENT_VIRTUALIZATION_ENABLED",A[A.OS_INCOMPATIBLE=2]="OS_INCOMPATIBLE",A[A.MULTI_MON_DETECTED=3]="MULTI_MON_DETECTED",A[A.HDR_DISABLED=4]="HDR_DISABLED",A[A.SOC_FEATURE_ENABLED=5]="SOC_FEATURE_ENABLED",A[A.SLI_ENABLED=6]="SLI_ENABLED",A[A.SURROUND_ENABLED=7]="SURROUND_ENABLED",A[A.MSHYBRID_ENABLED=8]="MSHYBRID_ENABLED",A[A.MSHYBRID_ENABLED_DDS_IGPU=9]="MSHYBRID_ENABLED_DDS_IGPU",A[A.DISPLAY_INCOMPATIBLE=10]="DISPLAY_INCOMPATIBLE",A[A.NO_DISPLAY_CONNECTED=11]="NO_DISPLAY_CONNECTED",A[A.USE_ALTERNATE_DISPLAY=12]="USE_ALTERNATE_DISPLAY",A[A.MINIMUM_DRIVER_VERSION_NOT_MET=20]="MINIMUM_DRIVER_VERSION_NOT_MET",A[A.GAME_DENYLISTED=21]="GAME_DENYLISTED"}(Z=m.AihdrUnSupportedErrors||(m.AihdrUnSupportedErrors={})),function(A){A[A.DRS_REGKEY_NOT_SET=0]="DRS_REGKEY_NOT_SET",A[A.UNSUPPORTED_PRESENTATION_MODE=1]="UNSUPPORTED_PRESENTATION_MODE",A[A.GAME_HDR_ENABLED=2]="GAME_HDR_ENABLED",A[A.OS_HDR_DISABLED=3]="OS_HDR_DISABLED",A[A.SOC_FEATURES_ENABLED=4]="SOC_FEATURES_ENABLED",A[A.MISTMATCHED_DISPLAY=5]="MISTMATCHED_DISPLAY",A[A.API_NOT_SUPPORTED=6]="API_NOT_SUPPORTED"}(W=m.AihdrRealTimeErrors||(m.AihdrRealTimeErrors={}))}(x||(x={})),function(m){let Y;var D;(D=Y=m.PowerStatus||(m.PowerStatus={}))[D.AC=0]="AC",D[D.DC=1]="DC",D[D.UPS_LIKE=2]="UPS_LIKE",D[D.Unknown=3]="Unknown"}(S||(S={})),function(m){let Y;var ut;let D,N,Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt,Vt;(ut=Y=m.Quality||(m.Quality={})).UltraGood="UltraGood",ut.VeryGood="VeryGood",ut.Good="Good",ut.Average="Average",ut.Custom="Custom",ut.GamecastYTLUltraGood="GamecastYTLUltraGood",ut.GamecastYTLVeryGood="GamecastYTLVeryGood",ut.GamecastYTLGood="GamecastYTLGood",ut.GamecastYTLAverage="GamecastYTLAverage",ut.GamecastUltraGood="GamecastUltraGood",ut.GamecastVeryGood="GamecastVeryGood",ut.GamecastGood="GamecastGood",ut.GamecastAverage="GamecastAverage",ut.GamecastFBLVeryGood="GamecastFBLVeryGood",ut.GamecastFBLGood="GamecastFBLGood",ut.GamecastFBLAverage="GamecastFBLAverage",function(ut){ut.In_game="In-game",ut.Resolution_4320p_8K="4320p 8K",ut.Resolution_2160p_4K="2160p 4K",ut.Resolution_1440p_HD="1440p HD",ut.Resolution_1080p_HD="1080p HD",ut.Resolution_720p_HD="720p HD",ut.Resolution_480p="480p",ut.Resolution_360p="360p",ut.Resolution_240p="240p",ut.Exact="Exact"}(D=m.Resolution||(m.Resolution={})),function(ut){ut.H264_HEVC="H264/HEVC",ut.AV1="AV1"}(N=m.Codec||(m.Codec={})),function(ut){ut.instantReplay="instantReplay",ut.manualRecord="manualRecord",ut.highlights="highlights",ut.gear="gear"}(Z=m.SessionIds||(m.SessionIds={})),function(ut){ut.Always_Ask="Always Ask",ut.Twitch="Twitch",ut.YouTube_Live="YouTube Live",ut.Facebook_Live="Facebook Live",ut.Do_Not_Broadcast="Do Not Broadcast"}(W=m.Provider||(m.Provider={})),function(ut){ut.highlights="highlights",ut.highlightsRecordVideo="highlightsRecordVideo",ut.highlightsRecordScreenshot="highlightsRecordScreenshot"}(A=m.SdkScopeType||(m.SdkScopeType={})),function(ut){ut.granted="granted",ut.mustAsk="mustAsk",ut.denied="denied"}(d=m.SdkPermissions||(m.SdkPermissions={})),function(ut){ut.screenshot="screenshot",ut.video="video"}(H=m.Type||(m.Type={})),function(ut){ut.OpenIGO="OpenIGO",ut.OpenFreestyle="OpenFreestyle",ut.OpenAnsel="OpenAnsel",ut.PTT="PTT",ut.FPS="FPS",ut.Screenshot="Screenshot",ut.DVRSave="DVRSave",ut.RecordToggle="RecordToggle",ut.BroadcastToggle="BroadcastToggle",ut.BroadcastPauseToggle="BroadcastPauseToggle",ut.CameraToggle="CameraToggle",ut.OverlayToggle="OverlayToggle",ut.CustomOverlayA="CustomOverlayA",ut.CustomOverlayB="CustomOverlayB",ut.CustomOverlayC="CustomOverlayC",ut.CommentsToggle="CommentsToggle",ut.MicToggle="MicToggle",ut.DVRToggle="DVRToggle",ut.FreestyleToggle="FreestyleToggle",ut.FreestylePresentCycle="FreestylePresentCycle",ut.FreeStyleToggleStyle1="FreeStyleToggleStyle1",ut.FreeStyleToggleStyle2="FreeStyleToggleStyle2",ut.FreeStyleToggleStyle3="FreeStyleToggleStyle3",ut.NativeKeyboardInputDialog="NativeKeyboardInputDialog",ut.ConnectGfnBroadcastToggle="ConnectGfnBroadcastToggle",ut.StatisticsToggle="StatisticsToggle",ut.QuitGame="QuitGame",ut.PMOCOverlay="PMOCOverlay",ut.PMOCOverlayVisibility="PMOCOverlayVisibility",ut.PMOCOverlayCycle="PMOCOverlayCycle",ut.PMOCResetAverageMetrics="PMOCResetAverageMetrics",ut.PMOCLoggingToggle="PMOCLoggingToggle",ut.InStreamPaste="InStreamPaste"}($=m.HotkeyEnum||(m.HotkeyEnum={})),function(ut){ut.custom="custom",ut.customA="customA",ut.customB="customB",ut.customC="customC"}(J=m.CustomOverlayTypeEnum||(m.CustomOverlayTypeEnum={})),function(ut){ut.record="record",ut.gamecast="gamecast",ut.fps="fps",ut.viewer="viewer",ut.rig="rig",ut.webcam="webcam",ut.comments="comments"}(st=m.IndicatorEnum||(m.IndicatorEnum={})),function(ut){ut.small="small",ut.medium="medium",ut.large="large"}(lt=m.OverlaySizeEnum||(m.OverlaySizeEnum={})),function(ut){ut.leftTop="leftTop",ut.leftCenter="leftCenter",ut.leftBottom="leftBottom",ut.rightTop="rightTop",ut.rightCenter="rightCenter",ut.rightBottom="rightBottom",ut.centerTop="centerTop",ut.centerCenter="centerCenter",ut.centerBottom="centerBottom",ut.floatingRandom="floatingRandom",ut.floatingBorder="floatingBorder",ut.none="none"}(gt=m.OverlayPositionEnum||(m.OverlayPositionEnum={})),function(ut){ut.on="on",ut.off="off",ut.alwayson="alwayson",ut.ptt="ptt"}(vt=m.MicModeEnum||(m.MicModeEnum={})),function(ut){ut.manual="manual",ut.dvr="dvr",ut.gameCast="gameCast",ut.highlight="highlight",ut.gearRecord="gearRecord",ut.gearHighlight="gearHighlight",ut.lastMode="lastMode",ut.screenshot="screenshot"}(k=m.CaptureModeEnum||(m.CaptureModeEnum={})),function(ut){ut.unknown="unknown",ut.started="started",ut.stopped="stopped",ut.paused="paused",ut.resumed="resumed"}(pt=m.CloudSessionStateType||(m.CloudSessionStateType={})),function(ut){ut[ut.GXP_Success_Ok=0]="GXP_Success_Ok",ut[ut.GXP_Success_NoError=1]="GXP_Success_NoError",ut[ut.GXP_Error_NotImplemented=-2147467263]="GXP_Error_NotImplemented",ut[ut.GXP_Error_NoInterface=-2147467262]="GXP_Error_NoInterface",ut[ut.GXP_Error_InvalidPointer=-2147467261]="GXP_Error_InvalidPointer",ut[ut.GXP_Error_Abort=-2147467260]="GXP_Error_Abort",ut[ut.GXP_Error_Fail=-2147467259]="GXP_Error_Fail",ut[ut.GXP_Error_Unexpected=-2147468113]="GXP_Error_Unexpected",ut[ut.GXP_Error_FileNotFound=-2147024894]="GXP_Error_FileNotFound",ut[ut.GXP_Error_PathNotFound=-2147024893]="GXP_Error_PathNotFound",ut[ut.GXP_Error_InvalidHandle=-2147024890]="GXP_Error_InvalidHandle",ut[ut.GXP_Error_InvalidData=-2147024883]="GXP_Error_InvalidData",ut[ut.GXP_Error_OutOfMemory=-2147024882]="GXP_Error_OutOfMemory",ut[ut.GXP_Error_InvalidArg=-2147024809]="GXP_Error_InvalidArg",ut[ut.GXP_Error_TimeOut=-2147023436]="GXP_Error_TimeOut",ut[ut.GXP_Error_FileTooLarge=-2147024673]="GXP_Error_FileTooLarge",ut[ut.GXP_Error_MaxStartAttempts=-2146959359]="GXP_Error_MaxStartAttempts",ut[ut.ShadowPlay_OSC_ERR_GENERIC=-1]="ShadowPlay_OSC_ERR_GENERIC",ut[ut.ShadowPlay_OSC_ERR_INVALID_VER=-2]="ShadowPlay_OSC_ERR_INVALID_VER",ut[ut.ShadowPlay_OSC_ERR_CLIENT_UNINITIALIZED=-3]="ShadowPlay_OSC_ERR_CLIENT_UNINITIALIZED",ut[ut.ShadowPlay_OSC_ERR_SERVER_NOT_CONNECTED=-4]="ShadowPlay_OSC_ERR_SERVER_NOT_CONNECTED",ut[ut.ShadowPlay_OSC_ERR_SERVER_TIME_OUT=-5]="ShadowPlay_OSC_ERR_SERVER_TIME_OUT",ut[ut.ShadowPlay_OSC_ERR_SERVER_CANNOT_CONNECT=-6]="ShadowPlay_OSC_ERR_SERVER_CANNOT_CONNECT",ut[ut.ShadowPlay_OSC_ERR_STREAM_NOT_FOUND=-7]="ShadowPlay_OSC_ERR_STREAM_NOT_FOUND",ut[ut.ShadowPlay_OSC_ERR_INVALID_FORMAT=-8]="ShadowPlay_OSC_ERR_INVALID_FORMAT",ut[ut.ShadowPlay_OSC_ERR_INVALID_PARAMETERS=-9]="ShadowPlay_OSC_ERR_INVALID_PARAMETERS",ut[ut.ShadowPlay_OSC_ERR_DX=-10]="ShadowPlay_OSC_ERR_DX",ut[ut.ShadowPlay_OSC_ERR_MMF=-11]="ShadowPlay_OSC_ERR_MMF",ut[ut.ShadowPlay_OSC_ERR_INSUFFICIENT_BUFFER=-12]="ShadowPlay_OSC_ERR_INSUFFICIENT_BUFFER",ut[ut.ShadowPlay_OSC_ERR_NO_IMPLEMENTATION=-13]="ShadowPlay_OSC_ERR_NO_IMPLEMENTATION",ut[ut.ShadowPlay_OSC_ERR_STREAM_LOCKED=-14]="ShadowPlay_OSC_ERR_STREAM_LOCKED",ut[ut.ShadowPlay_OSC_ERR_ALREADY_REGISTERED=-15]="ShadowPlay_OSC_ERR_ALREADY_REGISTERED",ut[ut.ShadowPlay_OSC_ERR_ALREADY_CREATED=-16]="ShadowPlay_OSC_ERR_ALREADY_CREATED",ut[ut.ShadowPlay_OSC_ERR_PROTOBUF=-17]="ShadowPlay_OSC_ERR_PROTOBUF",ut[ut.ShadowPlay_OSC_ERR_NOTAVAILABLE=-18]="ShadowPlay_OSC_ERR_NOTAVAILABLE",ut[ut.ShadowPlay_OSC_ERR_OUT_OF_MEMORY=-19]="ShadowPlay_OSC_ERR_OUT_OF_MEMORY",ut[ut.ShadowPlay_OSC_ERR_ABANDONED=-20]="ShadowPlay_OSC_ERR_ABANDONED",ut[ut.ShadowPlay_OSC_ERR_INVALID_CALL=-21]="ShadowPlay_OSC_ERR_INVALID_CALL",ut[ut.ShadowPlay_OSC_ERR_NO_VALID_GAME_RUNNING=-22]="ShadowPlay_OSC_ERR_NO_VALID_GAME_RUNNING",ut[ut.ShadowPlay_E_SERVER_NOT_RUNNING=-2147220959]="ShadowPlay_E_SERVER_NOT_RUNNING",ut[ut.ShadowPlay_E_UNKNOWN_PROP_NAME=-2147220958]="ShadowPlay_E_UNKNOWN_PROP_NAME",ut[ut.ShadowPlay_E_INVALID_PROP_FORMAT=-2147220957]="ShadowPlay_E_INVALID_PROP_FORMAT",ut[ut.ShadowPlay_E_INVALID_PROP_VALUE=-2147220956]="ShadowPlay_E_INVALID_PROP_VALUE",ut[ut.ShadowPlay_E_UNKNOWN_CMD_NAME=-2147220955]="ShadowPlay_E_UNKNOWN_CMD_NAME",ut[ut.ShadowPlay_E_INVALID_CMD_FORMAT=-2147220954]="ShadowPlay_E_INVALID_CMD_FORMAT",ut[ut.ShadowPlay_E_INVALID_CMD_VERSION=-2147220953]="ShadowPlay_E_INVALID_CMD_VERSION",ut[ut.ShadowPlay_E_NOT_READY=-2147220952]="ShadowPlay_E_NOT_READY",ut[ut.ShadowPlay_E_SERVER_IN_EXCLUSIVE_MODE=-2147220951]="ShadowPlay_E_SERVER_IN_EXCLUSIVE_MODE",ut[ut.ShadowPlay_E_SERVER_IN_GAMECAST_MODE=-2147220950]="ShadowPlay_E_SERVER_IN_GAMECAST_MODE",ut[ut.ShadowPlay_E_CANNOT_CLAIM_H264_LICENSE=-2147220949]="ShadowPlay_E_CANNOT_CLAIM_H264_LICENSE",ut[ut.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_OS=-2147220948]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_OS",ut[ut.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_RAM=-2147220947]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_RAM",ut[ut.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_GPU=-2147220946]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_GPU",ut[ut.ShadowPlay_E_FAIL_ENABLE_SHADOWPLAY=-2147220945]="ShadowPlay_E_FAIL_ENABLE_SHADOWPLAY",ut[ut.ShadowPlayE_FAIL_ENABLE_NVFBC=-2147220944]="ShadowPlayE_FAIL_ENABLE_NVFBC",ut[ut.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_DRIVER=-2147220943]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_DRIVER",ut[ut.ShadowPlay_E_FAIL_ENABLE_NVFBC_TIMEOUT=-2147220942]="ShadowPlay_E_FAIL_ENABLE_NVFBC_TIMEOUT",ut[ut.ShadowPlay_E_FAIL_ENABLE_OSC=-2147220941]="ShadowPlay_E_FAIL_ENABLE_OSC",ut[ut.ShadowPlay_E_FAIL_ENABLE_HELPER=-2147220940]="ShadowPlay_E_FAIL_ENABLE_HELPER",ut[ut.ShadowPlay_E_FAIL_NO_GALLERY_SPACE=-2147220926]="ShadowPlay_E_FAIL_NO_GALLERY_SPACE",ut[ut.ShadowPlay_E_FAIL_NO_DISC_SPACE=-2147220938]="ShadowPlay_E_FAIL_NO_DISC_SPACE",ut[ut.ShadowPlay_E_FAIL_CAPTURE_DISABLED=-2147220937]="ShadowPlay_E_FAIL_CAPTURE_DISABLED",ut[ut.ShadowPlay_E_BOUNDS=-2147483637]="ShadowPlay_E_BOUNDS",ut[ut.ShadowPlay_E_NOT_VALID_STATE=-2147019873]="ShadowPlay_E_NOT_VALID_STATE",ut[ut.ShadowPlay_E_UNEXPECTED=-2147418113]="ShadowPlay_E_UNEXPECTED",ut[ut.GXP_Error_HotkeyInUse=-2146897916]="GXP_Error_HotkeyInUse"}(yt=m.InternalErrorCodeEnum||(m.InternalErrorCodeEnum={})),function(ut){ut.mic="mic",ut.webcam="webcam"}(Xt=m.DeviceTypeEnum||(m.DeviceTypeEnum={})),function(ut){ut.plugged_in="plugged_in",ut.plugged_out="plugged_out",ut.enabled="enabled",ut.disabled="disabled"}(It=m.DeviceStateTypeEnum||(m.DeviceStateTypeEnum={})),function(ut){ut.available="available",ut.started="started",ut.auto_pause="auto_pause",ut.user_pause="user_pause",ut.user_pause_auto_pause="user_pause_auto_pause",ut.last="last",ut.error="error",ut.saved="saved",ut.restarted_notifier="restarted_notifier",ut.resumed_notifier="resumed_notifier",ut.notifier_none="notifier_none",ut.invalid="invalid",ut.enabled="enabled",ut.disabled="disabled"}(Nt=m.RecordingState||(m.RecordingState={})),function(ut){ut.capture="capture",ut.in_focus="in-focus",ut.last_proc="last-proc"}(le=m.AppType||(m.AppType={})),function(ut){ut.off="off",ut.game="game",ut.mic="mic",ut.both="both"}(te=m.Mode||(m.Mode={})),function(ut){ut.main="main",ut.permission="permission",ut.highlightsSummary="highlightsSummary"}(bt=m.State||(m.State={})),function(ut){ut.none="none",ut.single="single",ut.multiple="multiple"}(Vt=m.SupportType||(m.SupportType={}))}(u||(u={}));var h,g=function(m){return m.Forager=L,m.Gear=f,m.Graphicssetting=x,m.Nvperfmon=S,m.Shareserver=u,m}(g||{});!function(m){let Y;var D;(D=Y=m.RollbackOptionsEnum||(m.RollbackOptionsEnum={}))[D.Unknown=0]="Unknown",D[D.NoUI=1]="NoUI",D[D.RollbackUI=2]="RollbackUI"}(h||(h={}));var E,w,p,V,c,C,l,o,n,O=function(m){return m.Driverrollback=h,m}(O||{});!function(m){let Y;var W;let D,N,Z;(W=Y=m.ActionStatusEnum||(m.ActionStatusEnum={}))[W.ActionStarted=0]="ActionStarted",W[W.ActionRunning=1]="ActionRunning",W[W.ActionSuccess=2]="ActionSuccess",W[W.ActionFailure=3]="ActionFailure",W[W.ActionUnknown=4]="ActionUnknown",function(W){W[W.Success=0]="Success",W[W.Failure=1]="Failure",W[W.Unknown=2]="Unknown"}(D=m.ExeLaunchStatusEnum||(m.ExeLaunchStatusEnum={})),function(W){W[W.NotInstalled=0]="NotInstalled",W[W.Installed=1]="Installed",W[W.Installing=2]="Installing",W[W.Uninstalling=3]="Uninstalling"}(N=m.Status||(m.Status={})),function(W){W[W.Install=0]="Install",W[W.Uninstall=1]="Uninstall"}(Z=m.Action||(m.Action={}))}(E||(E={})),function(m){let Y;var W;let D,N,Z;(W=Y=m.ErrorCodeEnum||(m.ErrorCodeEnum={}))[W.NoError=0]="NoError",W[W.UserCancelled=-522190847]="UserCancelled",W[W.GeneralError=-505409537]="GeneralError",W[W.InvalidObject=-505413631]="InvalidObject",W[W.InsufficientArguments=-505413630]="InsufficientArguments",W[W.InvalidParameters=-505413629]="InvalidParameters",W[W.PropertyMissing=-505413628]="PropertyMissing",W[W.InvalidFormat=-505413627]="InvalidFormat",W[W.EmptyValue=-505413626]="EmptyValue",W[W.FileNotFound=-505413622]="FileNotFound",W[W.PathNotFound=-505413621]="PathNotFound",W[W.ProcessingPreviousCall=505413620]="ProcessingPreviousCall",W[W.InstallerAlreadyRunning=-505413619]="InstallerAlreadyRunning",W[W.MessagingChannel=-505413618]="MessagingChannel",W[W.ExtractedNotFound=-505413610]="ExtractedNotFound",W[W.InstallerExeNotFound=-505413608]="InstallerExeNotFound",W[W.GfeExperienceKeyNotFound=-505413607]="GfeExperienceKeyNotFound",W[W.GfeExperiencePathEmpty=-505413606]="GfeExperiencePathEmpty",W[W.SignatureInvalid=-505413605]="SignatureInvalid",W[W.UacCancelled=-505413600]="UacCancelled",W[W.MsgArrivedEventCreate=-505413599]="MsgArrivedEventCreate",W[W.MsgArrivedEventSignal=-505413598]="MsgArrivedEventSignal",W[W.ResumePathNotFound=-505413597]="ResumePathNotFound",W[W.ResumePathEmpty=-505413596]="ResumePathEmpty",W[W.ResumePathInvalid=-505413595]="ResumePathInvalid",W[W.MsgChannelInit=-505413584]="MsgChannelInit",W[W.MsgShowFormSet=-505413583]="MsgShowFormSet",W[W.MsgProgressUpdateSet=-505413582]="MsgProgressUpdateSet",W[W.MsgListen=-505413581]="MsgListen",function(W){W[W.NotSet=0]="NotSet",W[W.ShowForm=1]="ShowForm",W[W.ProgressUpdate=2]="ProgressUpdate"}(D=m.MethodEnum||(m.MethodEnum={})),function(W){W[W.NotSet=0]="NotSet",W[W.InstallInitial=1]="InstallInitial",W[W.InstallChecking=2]="InstallChecking",W[W.InstallCheckWarnings=3]="InstallCheckWarnings",W[W.InstallCheckFailed=4]="InstallCheckFailed",W[W.InstallCheckWait=5]="InstallCheckWait",W[W.Eula=6]="Eula",W[W.InstallSelect=7]="InstallSelect",W[W.InstallSelectCustom=8]="InstallSelectCustom",W[W.InstallSelectInstallPath=9]="InstallSelectInstallPath",W[W.PreInstallCheck=10]="PreInstallCheck",W[W.PreInstallCheckRetry=11]="PreInstallCheckRetry",W[W.PreInstallCheckWait=12]="PreInstallCheckWait",W[W.PreRebootInstall=13]="PreRebootInstall",W[W.PackageDownloadProgress=14]="PackageDownloadProgress",W[W.ProcessDownloadedPackage=15]="ProcessDownloadedPackage",W[W.PackageDownloadFailed=16]="PackageDownloadFailed",W[W.InstallProgress=17]="InstallProgress",W[W.InstallRemoveProgress=18]="InstallRemoveProgress",W[W.InstallFinished=19]="InstallFinished",W[W.InstallFinishedNoSummary=20]="InstallFinishedNoSummary",W[W.InstallFinishedLaunch=21]="InstallFinishedLaunch",W[W.InstallFinishedNoSummaryLaunch=22]="InstallFinishedNoSummaryLaunch",W[W.InstallFinishedOptions=23]="InstallFinishedOptions",W[W.InstallFinishedNoSummaryOptions=24]="InstallFinishedNoSummaryOptions",W[W.InstallReboot=25]="InstallReboot",W[W.InstallRebootOptions=26]="InstallRebootOptions",W[W.InstallRebootNoSummary=27]="InstallRebootNoSummary",W[W.InstallRebootNoSummaryOptions=28]="InstallRebootNoSummaryOptions",W[W.InstallRemoveReboot=29]="InstallRemoveReboot",W[W.InstallFailed=30]="InstallFailed",W[W.WaitingOnUac=31]="WaitingOnUac"}(N=m.FormEnum||(m.FormEnum={})),function(W){W[W.Next=0]="Next",W[W.Close=1]="Close"}(Z=m.NextActionEnum||(m.NextActionEnum={}))}(w||(w={})),function(m){let Y;var N;let D;(N=Y=m.DriverTypeEnum||(m.DriverTypeEnum={}))[N.GameReadyDriver=0]="GameReadyDriver",N[N.CreatorReadyDriver=1]="CreatorReadyDriver",function(N){N.started="started",N.finished="finished",N.failed="failed",N.cancelled="cancelled"}(D=m.DriverUpdateCheckProgress||(m.DriverUpdateCheckProgress={}))}(p||(p={})),function(m){let Y;var H;let D,N,Z,W,A,d;(H=Y=m.ApplicationScanType||(m.ApplicationScanType={})).fast="fast",H.traditional="traditional",function(H){H.STRING="STRING",H.INT="INT",H.FLOAT="FLOAT",H.ENUM="ENUM",H.BOOL="BOOL",H.DRIVER_ENUM="DRIVER_ENUM"}(D=m.Type||(m.Type={})),function(H){H.AC="AC",H.DC="DC"}(N=m.ApplicationPowerMode||(m.ApplicationPowerMode={})),function(H){H.DISABLED="DISABLED",H.UNOPTIMIZED="UNOPTIMIZED",H.CUSTOMIZED="CUSTOMIZED",H.OPTIMIZED="OPTIMIZED"}(Z=m.OptimizationState||(m.OptimizationState={})),function(H){H.started="started",H.finished="finished",H.failed="failed",H.progress="progress"}(W=m.Status||(m.Status={})),function(H){H[H.Invalid=-1]="Invalid",H[H.Notifications=0]="Notifications",H[H.Display=1]="Display"}(A=m.PageId||(m.PageId={})),function(H){H[H.STARTED=1]="STARTED",H[H.FINISHED=2]="FINISHED"}(d=m.OotbStatus||(m.OotbStatus={}))}(V||(V={})),function(m){let Y;var k;let D,N,Z,W,A,d,H,$,J,st,lt,gt,vt;(k=Y=m.RamType||(m.RamType={}))[k.UNKNOWN=0]="UNKNOWN",k[k.SDRAM=1]="SDRAM",k[k.DDR1=2]="DDR1",k[k.DDR2=3]="DDR2",k[k.GDDR2=4]="GDDR2",k[k.GDDR3=5]="GDDR3",k[k.GDDR4=6]="GDDR4",k[k.DDR3=7]="DDR3",k[k.GDDR5=8]="GDDR5",k[k.GDDR5X=9]="GDDR5X",k[k.HBM1=10]="HBM1",k[k.HBM2=11]="HBM2",k[k.SDDR4=12]="SDDR4",k[k.GDDR6=14]="GDDR6",k[k.GDDR6X=15]="GDDR6X",function(k){k[k.UNKNOWN=0]="UNKNOWN",k[k.AGP=1]="AGP",k[k.PCI=2]="PCI",k[k.FPCI=3]="FPCI",k[k.PCI_EXPRESS=4]="PCI_EXPRESS",k[k.PCI_EXPRESS_GEN2=5]="PCI_EXPRESS_GEN2",k[k.PCI_EXPRESS_GEN3=6]="PCI_EXPRESS_GEN3",k[k.PCI_EXPRESS_GEN4=7]="PCI_EXPRESS_GEN4",k[k.AXI=8]="AXI"}(D=m.BusType||(m.BusType={})),function(k){k[k.No=0]="No",k[k.On=1]="On",k[k.Yes=2]="Yes"}(N=m.MaxQType||(m.MaxQType={})),function(k){k[k.SuperResValue_Off=0]="SuperResValue_Off",k[k.SuperResValue_1=1]="SuperResValue_1",k[k.SuperResValue_2=2]="SuperResValue_2",k[k.SuperResValue_3=3]="SuperResValue_3",k[k.SuperResValue_4=4]="SuperResValue_4",k[k.SuperResValue_Auto=5]="SuperResValue_Auto"}(Z=m.SuperResolutionValue||(m.SuperResolutionValue={})),function(k){k[k.SuperResStatus_Off=0]="SuperResStatus_Off",k[k.SuperResStatus_1=1]="SuperResStatus_1",k[k.SuperResStatus_2=2]="SuperResStatus_2",k[k.SuperResStatus_3=3]="SuperResStatus_3",k[k.SuperResStatus_4=4]="SuperResStatus_4"}(W=m.SuperResolutionStatus||(m.SuperResolutionStatus={})),function(k){k[k.SUCCESS=0]="SUCCESS",k[k.NO_HDR_DISPLAY_CONNECTED=1]="NO_HDR_DISPLAY_CONNECTED",k[k.ENABLE_HDR_FROM_WINDOWS=2]="ENABLE_HDR_FROM_WINDOWS"}(A=m.HdrErrorCodeInfo||(m.HdrErrorCodeInfo={})),function(k){k[k.RGB=0]="RGB",k[k.YCBCR422=1]="YCBCR422",k[k.YCBCR444=2]="YCBCR444",k[k.YCBCR420=3]="YCBCR420",k[k.UNKNOWN=4]="UNKNOWN"}(d=m.OutPutColorFormat||(m.OutPutColorFormat={})),function(k){k[k.GsyncUltimate=0]="GsyncUltimate",k[k.GSyncCapable=1]="GSyncCapable",k[k.GSyncCompatible=2]="GSyncCompatible",k[k.VRR=3]="VRR",k[k.NotSupported=4]="NotSupported"}(H=m.GSyncCapabilities||(m.GSyncCapabilities={})),function(k){k[k.None=0]="None",k[k.NonHD=1]="NonHD",k[k.SD576i=2]="SD576i",k[k.SD480i=3]="SD480i",k[k.ED480p=4]="ED480p",k[k.ED576p=5]="ED576p",k[k.HD720p=6]="HD720p",k[k.HD1080i=7]="HD1080i",k[k.HD1080p=8]="HD1080p",k[k.HD720p50=9]="HD720p50",k[k.HD1080p24=10]="HD1080p24",k[k.HD1080i50=11]="HD1080i50",k[k.HD1080p50=12]="HD1080p50",k[k.UHD4Kp30=13]="UHD4Kp30",k[k.UHD4Kp25=14]="UHD4Kp25",k[k.UHD4Kp24=15]="UHD4Kp24",k[k.UHD4Kp24Smpte=16]="UHD4Kp24Smpte",k[k.UHD4Kp303840=17]="UHD4Kp303840",k[k.UHD4Kp253840=18]="UHD4Kp253840",k[k.UHD4Kp243840=19]="UHD4Kp243840",k[k.UHD4Kp503840=20]="UHD4Kp503840",k[k.UHD4Kp603840=21]="UHD4Kp603840",k[k.UHD4Kp304096=22]="UHD4Kp304096",k[k.UHD4Kp254096=23]="UHD4Kp254096",k[k.UHD4Kp244096=24]="UHD4Kp244096",k[k.UHD4Kp504096=25]="UHD4Kp504096",k[k.UHD4Kp604096=26]="UHD4Kp604096",k[k.UHD8Kp247680=27]="UHD8Kp247680",k[k.UHD8Kp257680=28]="UHD8Kp257680",k[k.UHD8Kp307680=29]="UHD8Kp307680",k[k.UHD8Kp487680=30]="UHD8Kp487680",k[k.UHD8Kp507680=31]="UHD8Kp507680",k[k.UHD8Kp607680=32]="UHD8Kp607680",k[k.UHD8Kp1007680=33]="UHD8Kp1007680",k[k.UHD8Kp1207680=34]="UHD8Kp1207680",k[k.Invalid=35]="Invalid"}($=m.TvFormat||(m.TvFormat={})),function(k){k[k.CT_VGA=0]="CT_VGA",k[k.CT_DVI=1]="CT_DVI",k[k.CT_COMPOSITE=2]="CT_COMPOSITE",k[k.CT_SVIDEO=3]="CT_SVIDEO",k[k.CT_COMPONENT=4]="CT_COMPONENT",k[k.CT_HDMI=5]="CT_HDMI",k[k.CT_DISPLAYPORT=6]="CT_DISPLAYPORT",k[k.CT_USBC=7]="CT_USBC",k[k.CT_LVDS=8]="CT_LVDS",k[k.CT_AUTO=9]="CT_AUTO",k[k.CT_UNKNOWN=10]="CT_UNKNOWN"}(J=m.ConnectorType||(m.ConnectorType={})),function(k){k[k.bit_8=0]="bit_8",k[k.bit_10=1]="bit_10",k[k.bit_16=2]="bit_16",k[k.bit_16_HDR=3]="bit_16_HDR",k[k.bit_16_WCG=4]="bit_16_WCG",k[k.bit_Default=-1]="bit_Default"}(st=m.DesktopColorDepth||(m.DesktopColorDepth={})),function(k){k[k.None=0]="None",k[k.Crt=1]="Crt",k[k.Internal=2]="Internal",k[k.Tv=3]="Tv",k[k.Dvi=4]="Dvi"}(lt=m.DeviceType||(m.DeviceType={})),function(k){k[k.Rotation0=0]="Rotation0",k[k.Rotation90=1]="Rotation90",k[k.Rotation180=2]="Rotation180",k[k.Rotation270=3]="Rotation270"}(gt=m.RotationType||(m.RotationType={})),function(k){k[k.None=0]="None",k[k.CloneDisplay=1]="CloneDisplay",k[k.SurroundDisplay=2]="SurroundDisplay",k[k.MosaicDisplay=3]="MosaicDisplay"}(vt=m.LogicalDisplayType||(m.LogicalDisplayType={}))}(c||(c={})),function(m){let Y;var it;let D,N,Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe,Qt,Pt,Ut,Tt;(it=Y=m.ProfileSettingType||(m.ProfileSettingType={}))[it.type_invalid=-1]="type_invalid",it[it.type_integer=0]="type_integer",it[it.type_string=1]="type_string",it[it.type_boolean=2]="type_boolean",it[it.type_json_string=3]="type_json_string",function(it){it[it.UNKNOWN=0]="UNKNOWN",it[it.SUPPORTED=1]="SUPPORTED",it[it.UNSUPPORTED=2]="UNSUPPORTED"}(D=m.HwSupportType||(m.HwSupportType={})),function(it){it[it.NVCPLAPI_VALUE_TRILINEAR_OPT_ON=0]="NVCPLAPI_VALUE_TRILINEAR_OPT_ON",it[it.NVCPLAPI_VALUE_TRILINEAR_OPT_OFF=1]="NVCPLAPI_VALUE_TRILINEAR_OPT_OFF"}(N=m.TextureFilteringTrilinearValue||(m.TextureFilteringTrilinearValue={})),function(it){it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_APPCONTROLLED=0]="NVCPLAPI_VALUE_VERTICAL_SYNC_APPCONTROLLED",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEOFF=1]="NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEOFF",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEON=2]="NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEON",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEON_INTERVAL2=3]="NVCPLAPI_VALUE_VERTICAL_SYNC_FORCEON_INTERVAL2",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_AUTO=4]="NVCPLAPI_VALUE_VERTICAL_SYNC_AUTO",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_AUTO_INTERVAL2=5]="NVCPLAPI_VALUE_VERTICAL_SYNC_AUTO_INTERVAL2",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_SMOOTH=6]="NVCPLAPI_VALUE_VERTICAL_SYNC_SMOOTH",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_VRR_ENABLE=8]="NVCPLAPI_VALUE_VERTICAL_SYNC_VRR_ENABLE",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_VRR_NONE=9]="NVCPLAPI_VALUE_VERTICAL_SYNC_VRR_NONE",it[it.NVCPLAPI_VALUE_VERTICAL_SYNC_VIRTUAL=10]="NVCPLAPI_VALUE_VERTICAL_SYNC_VIRTUAL"}(Z=m.VerticalSyncValue||(m.VerticalSyncValue={})),function(it){it[it.NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_AUTO=0]="NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_AUTO",it[it.NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_ON=1]="NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_ON",it[it.NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_OFF=2]="NVCPLAPI_VALUE_OGL_THREADING_OPTIMIZATION_OFF"}(W=m.ThreadedOptimizationValue||(m.ThreadedOptimizationValue={})),function(it){it[it.NVCPLAPI_VALUE_OGL_OVERLAYSUPPORT_OFF=0]="NVCPLAPI_VALUE_OGL_OVERLAYSUPPORT_OFF",it[it.NVCPLAPI_VALUE_OGL_OVERLAYSUPPORT_ON=1]="NVCPLAPI_VALUE_OGL_OVERLAYSUPPORT_ON"}(A=m.EnableOverlayValue||(m.EnableOverlayValue={})),function(it){it[it.NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_NONE=0]="NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_NONE",it[it.NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_CI=1]="NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_CI",it[it.NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_RGBA=2]="NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_RGBA",it[it.NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_CI_AND_RGBA=3]="NVCPLAPI_VALUE_OGL_OVERLAY_PIXEL_CI_AND_RGBA"}(d=m.ExportedpixeltypesValue||(m.ExportedpixeltypesValue={})),function(it){it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DISABLED=0]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DISABLED",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_128=1]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_128",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_256=2]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_256",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_512=3]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_512",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_1GB=4]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_1GB",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_5GB=5]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_5GB",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_10GB=6]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_10GB",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_100GB=7]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_100GB",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_Unlimited=8]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_Unlimited",it[it.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DEFAULT=9]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DEFAULT"}(H=m.ShaderCacheValue||(m.ShaderCacheValue={})),function(it){it[it.NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_NONE=0]="NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_NONE",it[it.NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_ONE=1]="NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_ONE",it[it.NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_TWO=2]="NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_TWO",it[it.NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_THREE=3]="NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_THREE",it[it.NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_FOUR=4]="NVCPLAPI_VALUE_MAX_VIRTUAL_REALITY_PRE_RENDERED_FRAMES_FOUR"}($=m.VirtualRealityPreRenderedFramesValue||(m.VirtualRealityPreRenderedFramesValue={})),function(it){it[it.NVCPLAPI_VALUE_PREFERRED_REFRATE_APP_CONTROL=0]="NVCPLAPI_VALUE_PREFERRED_REFRATE_APP_CONTROL",it[it.NVCPLAPI_VALUE_PREFERRED_REFRATE_OVERRIDE=1]="NVCPLAPI_VALUE_PREFERRED_REFRATE_OVERRIDE"}(J=m.PreferredRefreshRateValue||(m.PreferredRefreshRateValue={})),function(it){it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_ADAPTIVE=0]="NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_ADAPTIVE",it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_MAX=1]="NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_MAX",it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_DRIVER_CONTROLLED=2]="NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_DRIVER_CONTROLLED",it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_PREFER_CONSISTENT_PERFORMANCE=3]="NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_PREFER_CONSISTENT_PERFORMANCE",it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_OPTIMAL_POWER=5]="NVCPLAPI_VALUE_POWER_MANAGEMENT_MODE_OPTIMAL_POWER"}(st=m.PowerManagementModeValue||(m.PowerManagementModeValue={})),function(it){it[it.NVCPLAPI_VALUE_IMAGE_SHARPENING_TOGGLE_DISABLED=0]="NVCPLAPI_VALUE_IMAGE_SHARPENING_TOGGLE_DISABLED",it[it.NVCPLAPI_VALUE_IMAGE_SHARPENING_TOGGLE_ENABLED=1]="NVCPLAPI_VALUE_IMAGE_SHARPENING_TOGGLE_ENABLED"}(lt=m.ImageSharpeningToggleValue||(m.ImageSharpeningToggleValue={})),function(it){it[it.NVCPLAPI_VALUE_SHARPENING_ALLOW_DISABLED=0]="NVCPLAPI_VALUE_SHARPENING_ALLOW_DISABLED",it[it.NVCPLAPI_VALUE_SHARPENING_ALLOW_ENABLED=1]="NVCPLAPI_VALUE_SHARPENING_ALLOW_ENABLED"}(gt=m.ImageSharpeningAllowValue||(m.ImageSharpeningAllowValue={})),function(it){it[it.NVCPLAPI_VALUE_WHISPER_MODE_FPS_OFF=0]="NVCPLAPI_VALUE_WHISPER_MODE_FPS_OFF",it[it.NVCPLAPI_VALUE_WHISPER_MODE_FPS_ON=1]="NVCPLAPI_VALUE_WHISPER_MODE_FPS_ON"}(vt=m.WhisperModeProgramValue||(m.WhisperModeProgramValue={})),function(it){it[it.NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_LOW=0]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_LOW",it[it.NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_MEDIUM=1]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_MEDIUM",it[it.NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_HIGH=2]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_HIGH",it[it.NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_ULTRA=3]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_ULTRA",it[it.NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_OFF=4]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_VALUE_OFF"}(k=m.SilkSmoothnessValue||(m.SilkSmoothnessValue={})),function(it){it[it.NVCPLAPI_VALUE_LATENCY_MODE_BEST_PERFORMANCE=0]="NVCPLAPI_VALUE_LATENCY_MODE_BEST_PERFORMANCE",it[it.NVCPLAPI_VALUE_LATENCY_MODE_LOW_LATENCY=1]="NVCPLAPI_VALUE_LATENCY_MODE_LOW_LATENCY",it[it.NVCPLAPI_VALUE_LATENCY_MODE_LOWEST_LATENCY=2]="NVCPLAPI_VALUE_LATENCY_MODE_LOWEST_LATENCY"}(pt=m.LowLatencyModeValue||(m.LowLatencyModeValue={})),function(it){it[it.NVCPLAPI_VALUE_VR_AUTOVRS_OFF=0]="NVCPLAPI_VALUE_VR_AUTOVRS_OFF",it[it.NVCPLAPI_VALUE_VR_AUTOVRS_FORCED=1]="NVCPLAPI_VALUE_VR_AUTOVRS_FORCED",it[it.NVCPLAPI_VALUE_VR_AUTOVRS_ADAPTIVE=2]="NVCPLAPI_VALUE_VR_AUTOVRS_ADAPTIVE"}(yt=m.VirtualRealityVrssValue||(m.VirtualRealityVrssValue={})),function(it){it[it.NVCPLAPI_VALUE_AUTOFL_DB_OFF=0]="NVCPLAPI_VALUE_AUTOFL_DB_OFF",it[it.NVCPLAPI_VALUE_AUTOFL_DB_ON=1]="NVCPLAPI_VALUE_AUTOFL_DB_ON"}(Xt=m.MaxqDynamicBoostValue||(m.MaxqDynamicBoostValue={})),function(it){it[it.NVCPLAPI_VALUE_AUTO_DISPLAYMUX_INDICATOR_OFF=0]="NVCPLAPI_VALUE_AUTO_DISPLAYMUX_INDICATOR_OFF",it[it.NVCPLAPI_VALUE_AUTO_DISPLAYMUX_INDICATOR_ON=1]="NVCPLAPI_VALUE_AUTO_DISPLAYMUX_INDICATOR_ON"}(It=m.AutoDisplaySwitchingValue||(m.AutoDisplaySwitchingValue={})),function(it){it[it.NVCPLAPI_VALUE_WHISPER_MODE_ALLOW_DISABLED=0]="NVCPLAPI_VALUE_WHISPER_MODE_ALLOW_DISABLED",it[it.NVCPLAPI_VALUE_WHISPER_MODE_ALLOW_ENABLED=1]="NVCPLAPI_VALUE_WHISPER_MODE_ALLOW_ENABLED"}(Nt=m.WhisperModeGlobalValue||(m.WhisperModeGlobalValue={})),function(it){it[it.NVCPLAPI_VALUE_MT_GSYNC_ON=0]="NVCPLAPI_VALUE_MT_GSYNC_ON",it[it.NVCPLAPI_VALUE_MT_GSYNC_FORCE_OFF=1]="NVCPLAPI_VALUE_MT_GSYNC_FORCE_OFF",it[it.NVCPLAPI_VALUE_MT_VRR_OFF=2]="NVCPLAPI_VALUE_MT_VRR_OFF",it[it.NVCPLAPI_VALUE_MT_ULMB_ON=3]="NVCPLAPI_VALUE_MT_ULMB_ON",it[it.NVCPLAPI_VALUE_MT_FIXED_REFRESH=4]="NVCPLAPI_VALUE_MT_FIXED_REFRESH"}(le=m.MonitorTechnologyValue||(m.MonitorTechnologyValue={})),function(it){it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_PANEL_OFF=0]="NVCPLAPI_VALUE_POWER_MANAGEMENT_PANEL_OFF",it[it.NVCPLAPI_VALUE_POWER_MANAGEMENT_PANEL_SELF_REFRESH_MODE=1]="NVCPLAPI_VALUE_POWER_MANAGEMENT_PANEL_SELF_REFRESH_MODE"}(te=m.PowerManagementPanelValue||(m.PowerManagementPanelValue={})),function(it){it[it.NVCPLAPI_VALUE_ENABLE_STEREO_OFF=0]="NVCPLAPI_VALUE_ENABLE_STEREO_OFF",it[it.NVCPLAPI_VALUE_ENABLE_STEREO_ON=1]="NVCPLAPI_VALUE_ENABLE_STEREO_ON"}(bt=m.StereoEnableValue||(m.StereoEnableValue={})),function(it){it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DIN=1]="NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DIN",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DIN_NV_IR=2]="NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DIN_NV_IR",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DP_INBAND=3]="NVAPPAPI_VALUE_STEREO_DISPLAY_MODE_DP_INBAND",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_GENERIC=4]="NVAPPAPI_VALUE_STEREO_DISPLAY_GENERIC",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_GENERIC_NV_IR=5]="NVAPPAPI_VALUE_STEREO_DISPLAY_GENERIC_NV_IR",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_DDC_GLASSES=6]="NVAPPAPI_VALUE_STEREO_DISPLAY_DDC_GLASSES",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_NV_CLONE=7]="NVAPPAPI_VALUE_STEREO_DISPLAY_NV_CLONE",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_NV_CLONE_DLP=8]="NVAPPAPI_VALUE_STEREO_DISPLAY_NV_CLONE_DLP",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_BLUELINE=9]="NVAPPAPI_VALUE_STEREO_DISPLAY_BLUELINE",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_VERTICAL_INTERLACE=10]="NVAPPAPI_VALUE_STEREO_DISPLAY_VERTICAL_INTERLACE",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_COLOR_INTERLEAVE=11]="NVAPPAPI_VALUE_STEREO_DISPLAY_COLOR_INTERLEAVE",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_HORIZONTAL_INTERLACE=12]="NVAPPAPI_VALUE_STEREO_DISPLAY_HORIZONTAL_INTERLACE",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_SUBFIELD=13]="NVAPPAPI_VALUE_STEREO_DISPLAY_SUBFIELD",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_SIDEFIELD=14]="NVAPPAPI_VALUE_STEREO_DISPLAY_SIDEFIELD",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_SEEFRONT=15]="NVAPPAPI_VALUE_STEREO_DISPLAY_SEEFRONT",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP=16]="NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_NV_IR=17]="NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_NV_IR",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV=18]="NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV_NV_IR=19]="NVAPPAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV_NV_IR",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_TRIDELITY_SL_SV=20]="NVAPPAPI_VALUE_STEREO_DISPLAY_TRIDELITY_SL_SV",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_TRIDELITY_MV=21]="NVAPPAPI_VALUE_STEREO_DISPLAY_TRIDELITY_MV",it[it.NVAPPAPI_VALUE_STEREO_DISPLAY_PLANAR_MIRROR=22]="NVAPPAPI_VALUE_STEREO_DISPLAY_PLANAR_MIRROR",it[it.NVAPPAPI_VALUE_NVIDIA_RECOMMENDED=23]="NVAPPAPI_VALUE_NVIDIA_RECOMMENDED"}(Vt=m.StereoDisplayModeValue||(m.StereoDisplayModeValue={})),function(it){it[it.NVCPLAPI_VALUE_ENABLE_OGL_STEREO_SWAP_EYES_OFF=0]="NVCPLAPI_VALUE_ENABLE_OGL_STEREO_SWAP_EYES_OFF",it[it.NVCPLAPI_VALUE_ENABLE_OGL_STEREO_SWAP_EYES_ON=1]="NVCPLAPI_VALUE_ENABLE_OGL_STEREO_SWAP_EYES_ON"}(ut=m.StereoSwapEyeValue||(m.StereoSwapEyeValue={})),function(it){it[it.NVCPLAPI_VALUE_STEREO_SWAP_APPLICATION_CONTROL=0]="NVCPLAPI_VALUE_STEREO_SWAP_APPLICATION_CONTROL",it[it.NVCPLAPI_VALUE_STEREO_SWAP_PER_EYE=1]="NVCPLAPI_VALUE_STEREO_SWAP_PER_EYE",it[it.NVCPLAPI_VALUE_STEREO_SWAP_PER_EYE_PAIR=2]="NVCPLAPI_VALUE_STEREO_SWAP_PER_EYE_PAIR"}(re=m.StereoSwapModeValue||(m.StereoSwapModeValue={})),function(it){it[it.NVCPLAPI_VALUE_AA_APPCONTROL_MODE_OFF=0]="NVCPLAPI_VALUE_AA_APPCONTROL_MODE_OFF",it[it.NVCPLAPI_VALUE_AA_APPCONTROL_MODE_ON=1]="NVCPLAPI_VALUE_AA_APPCONTROL_MODE_ON",it[it.NVCPLAPI_VALUE_AA_APPCONTROL_MODE_ENHANCE=2]="NVCPLAPI_VALUE_AA_APPCONTROL_MODE_ENHANCE",it[it.NVCPLAPI_VALUE_AA_APPCONTROL_MODE_FORCE_OFF=3]="NVCPLAPI_VALUE_AA_APPCONTROL_MODE_FORCE_OFF"}(Kt=m.AntialiasingModeValue||(m.AntialiasingModeValue={})),function(it){it[it.NVCPLAPI_VALUE_SLI_MGPU_AUTORENDER=0]="NVCPLAPI_VALUE_SLI_MGPU_AUTORENDER",it[it.NVCPLAPI_VALUE_SLI_MGPU_FORCE_SINGLE=4]="NVCPLAPI_VALUE_SLI_MGPU_FORCE_SINGLE",it[it.NVCPLAPI_VALUE_SLI_MGPU_FORCE_2_AFR=3]="NVCPLAPI_VALUE_SLI_MGPU_FORCE_2_AFR",it[it.NVCPLAPI_VALUE_SLI_MGPU_FORCE_2_AFR2=61443]="NVCPLAPI_VALUE_SLI_MGPU_FORCE_2_AFR2"}(jt=m.SliMultiGpuRenderingModeValue||(m.SliMultiGpuRenderingModeValue={})),function(it){it[it.NVCPLAPI_VALUE_OGL_DEEP_COLOR_3D_DISABLE=0]="NVCPLAPI_VALUE_OGL_DEEP_COLOR_3D_DISABLE",it[it.NVCPLAPI_VALUE_OGL_DEEP_COLOR_3D_ENABLE=1]="NVCPLAPI_VALUE_OGL_DEEP_COLOR_3D_ENABLE"}(Wt=m.DeepColorFor3DApplicationsValue||(m.DeepColorFor3DApplicationsValue={})),function(it){it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_NONE=0]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_NONE",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_APP_CONTROLLED=1048576]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_APP_CONTROLLED",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_2X_DIAGONAL=14]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_2X_DIAGONAL",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_4X=16]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_4X",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_8SX=24]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_8SX",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_8X=25]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MULTISAMPLE_8X",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_16X=26]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_16X",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_32X=41]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_32X",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_64X=42]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_64X",it[it.NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_128X=43]="NVCPLAPI_VALUE_ANTI_ALIASING_METHOD_MIXEDSAMPLE_128X"}(oe=m.AntialiasingSettingValue||(m.AntialiasingSettingValue={})),function(it){it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_OFF=0]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_OFF",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_MULTI_SAMPLING=3]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_MULTI_SAMPLING",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_SUPER_SAMPLING=5]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_SUPER_SAMPLING",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_1X=1]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_1X",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_2X=2]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_2X",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_4X=4]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_4X",it[it.NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_8X=8]="NVCPLAPI_VALUE_TRANSPARENCY_ANTI_ALIASING_8X"}(Qt=m.AntialiasingTransparencyValue||(m.AntialiasingTransparencyValue={})),function(it){it[it.V1=1]="V1",it[it.V2=2]="V2"}(Pt=m.BatteryBoostVersionEnum||(m.BatteryBoostVersionEnum={})),function(it){it[it.V1=1]="V1",it[it.V2=2]="V2"}(Ut=m.WhisperModeVersionEnum||(m.WhisperModeVersionEnum={})),function(it){it[it.QUIETER=1]="QUIETER",it[it.QUIET=2]="QUIET",it[it.BALANCED=3]="BALANCED"}(Tt=m.FanVolume||(m.FanVolume={}))}(C||(C={})),function(m){let Y;var N;let D;(N=Y=m.HotkeyEnum||(m.HotkeyEnum={})).OpenIGO="OpenIGO",N.OpenPerformanceOverlay="OpenPerformanceOverlay",function(N){N.unknown="unknown",N.enabled="enabled",N.disabled="disabled"}(D=m.ShadowPlayStatus||(m.ShadowPlayStatus={}))}(l||(l={})),function(m){let Y;var W;let D,N,Z;(W=Y=m.Type||(m.Type={}))[W.Unknown=0]="Unknown",W[W.GpuClock=1]="GpuClock",W[W.MemoryClock=2]="MemoryClock",W[W.Voltage=3]="Voltage",W[W.Power=4]="Power",W[W.Temperature=5]="Temperature",W[W.Fan=6]="Fan",function(W){W[W.None=0]="None",W[W.ManualOc=1]="ManualOc",W[W.AutomaticOc=2]="AutomaticOc"}(D=m.PersitenceType||(m.PersitenceType={})),function(W){W[W.Default=0]="Default",W[W.Custom=1]="Custom",W[W.Silent=2]="Silent",W[W.MaxPerf=3]="MaxPerf"}(N=m.ProfileType||(m.ProfileType={})),function(W){W[W.AC=0]="AC",W[W.DC=1]="DC",W[W.UPS_LIKE=2]="UPS_LIKE",W[W.Unknown=3]="Unknown"}(Z=m.PowerStatus||(m.PowerStatus={}))}(o||(o={})),function(m){let Y;var N;let D;(N=Y=m.Type||(m.Type={}))[N.Unknown=0]="Unknown",N[N.GpuClock=1]="GpuClock",N[N.MemoryClock=2]="MemoryClock",N[N.Voltage=3]="Voltage",N[N.Power=4]="Power",N[N.Temperature=5]="Temperature",N[N.Fan=6]="Fan",function(N){N[N.Default=0]="Default",N[N.Custom=1]="Custom",N[N.Silent=2]="Silent",N[N.MaxPerf=3]="MaxPerf"}(D=m.Profile||(m.Profile={}))}(n||(n={}));var R,_,s=function(m){return m.Appdiscovery=E,m.Driverinstall=w,m.Driverupdaterecommendation=p,m.Localgames=V,m.Nvcpldisplayplugin=c,m.Nvcplplugin=C,m.Nvigoutil=l,m.Nvoc=o,m.Overclockingnvc=n,m}(s||{});!function(m){let Y;var D;(D=Y=m.StreamerStatus||(m.StreamerStatus={})).Init="Init",D.NetworkTest="NetworkTest",D.Loading="Loading",D.Streaming="Streaming",D.Done="Done",D.Error="Error",D.GotInputFocus="GotInputFocus",D.LostInputFocus="LostInputFocus",D.UpdateCheck="UpdateCheck",D.PreStreaming="PreStreaming",D.Authentication="Authentication",D.Authorization="Authorization",D.PlatformSelection="PlatformSelection",D.AccountLinking="AccountLinking",D.PostSessionConnection="PostSessionConnection",D.PostStreaming="PostStreaming",D.ResumableError="ResumableError",D.TerminalError="TerminalError"}(R||(R={})),function(m){let Y;var N;let D;(N=Y=m.Codec||(m.Codec={})).H264="H264",N.H265="H265",N.AV1="AV1",N.None="None",function(N){N[N.UNKNOWN=0]="UNKNOWN",N[N.START=1]="START",N[N.PAUSE=2]="PAUSE",N[N.RESUME=3]="RESUME",N[N.FINISH=4]="FINISH",N[N.CANCEL=5]="CANCEL",N[N.MAX=6]="MAX"}(D=m.AdAction||(m.AdAction={}))}(_||(_={}));var I,q,a,b=function(m){return m.Gfnsdkhost=R,m.Streaming=_,m}(b||{});!function(m){let Y;var W;let D,N,Z;(W=Y=m.ErrorCodeEnum||(m.ErrorCodeEnum={}))[W.NoError=0]="NoError",W[W.GeneralError=-505409537]="GeneralError",W[W.InvalidObject=-505413631]="InvalidObject",W[W.InsufficientArguments=-505413630]="InsufficientArguments",W[W.InvalidParameters=-505413629]="InvalidParameters",W[W.PropertyMissing=-505413628]="PropertyMissing",W[W.InvalidFormat=-505413627]="InvalidFormat",W[W.EmptyValue=-505413626]="EmptyValue",W[W.FileNotFound=-505413622]="FileNotFound",W[W.PathNotFound=-505413621]="PathNotFound",W[W.ProcessingPreviousCall=505413620]="ProcessingPreviousCall",W[W.InstallerAlreadyRunning=-505413619]="InstallerAlreadyRunning",W[W.MessagingChannel=-505413618]="MessagingChannel",W[W.ExtractedNotFound=-505413610]="ExtractedNotFound",W[W.InstallerExeNotFound=-505413608]="InstallerExeNotFound",W[W.GfeExperienceKeyNotFound=-505413607]="GfeExperienceKeyNotFound",W[W.GfeExperiencePathEmpty=-505413606]="GfeExperiencePathEmpty",W[W.SignatureInvalid=-505413605]="SignatureInvalid",W[W.UacCancelled=-505413600]="UacCancelled",W[W.MsgArrivedEventCreate=-505413599]="MsgArrivedEventCreate",W[W.MsgArrivedEventSignal=-505413598]="MsgArrivedEventSignal",W[W.ResumePathNotFound=-505413597]="ResumePathNotFound",W[W.ResumePathEmpty=-505413596]="ResumePathEmpty",W[W.ResumePathInvalid=-505413595]="ResumePathInvalid",W[W.MsgChannelInit=-505413584]="MsgChannelInit",W[W.MsgShowFormSet=-505413583]="MsgShowFormSet",W[W.MsgProgressUpdateSet=-505413582]="MsgProgressUpdateSet",W[W.MsgListen=-505413581]="MsgListen",function(W){W[W.NotSet=0]="NotSet",W[W.ShowForm=1]="ShowForm",W[W.ProgressUpdate=2]="ProgressUpdate"}(D=m.MethodEnum||(m.MethodEnum={})),function(W){W[W.NotSet=0]="NotSet",W[W.InstallInitial=1]="InstallInitial",W[W.InstallChecking=2]="InstallChecking",W[W.InstallCheckWarnings=3]="InstallCheckWarnings",W[W.InstallCheckFailed=4]="InstallCheckFailed",W[W.InstallCheckWait=5]="InstallCheckWait",W[W.Eula=6]="Eula",W[W.InstallSelect=7]="InstallSelect",W[W.InstallSelectCustom=8]="InstallSelectCustom",W[W.InstallSelectInstallPath=9]="InstallSelectInstallPath",W[W.PreInstallCheck=10]="PreInstallCheck",W[W.PreInstallCheckRetry=11]="PreInstallCheckRetry",W[W.PreInstallCheckWait=12]="PreInstallCheckWait",W[W.PreRebootInstall=13]="PreRebootInstall",W[W.PackageDownloadProgress=14]="PackageDownloadProgress",W[W.ProcessDownloadedPackage=15]="ProcessDownloadedPackage",W[W.PackageDownloadFailed=16]="PackageDownloadFailed",W[W.InstallProgress=17]="InstallProgress",W[W.InstallRemoveProgress=18]="InstallRemoveProgress",W[W.InstallFinished=19]="InstallFinished",W[W.InstallFinishedNoSummary=20]="InstallFinishedNoSummary",W[W.InstallFinishedLaunch=21]="InstallFinishedLaunch",W[W.InstallFinishedNoSummaryLaunch=22]="InstallFinishedNoSummaryLaunch",W[W.InstallFinishedOptions=23]="InstallFinishedOptions",W[W.InstallFinishedNoSummaryOptions=24]="InstallFinishedNoSummaryOptions",W[W.InstallReboot=25]="InstallReboot",W[W.InstallRebootOptions=26]="InstallRebootOptions",W[W.InstallRebootNoSummary=27]="InstallRebootNoSummary",W[W.InstallRebootNoSummaryOptions=28]="InstallRebootNoSummaryOptions",W[W.InstallRemoveReboot=29]="InstallRemoveReboot",W[W.InstallFailed=30]="InstallFailed",W[W.WaitingOnUac=31]="WaitingOnUac"}(N=m.FormEnum||(m.FormEnum={})),function(W){W[W.Next=0]="Next",W[W.Close=1]="Close"}(Z=m.NextActionEnum||(m.NextActionEnum={}))}(I||(I={})),function(m){let Y;var N;let D;(N=Y=m.DriverTypeEnum||(m.DriverTypeEnum={}))[N.GameReadyDriver=0]="GameReadyDriver",N[N.CreatorReadyDriver=1]="CreatorReadyDriver",function(N){N.started="started",N.finished="finished",N.failed="failed",N.cancelled="cancelled"}(D=m.DriverUpdateCheckProgress||(m.DriverUpdateCheckProgress={}))}(q||(q={})),function(m){let Y;var d;let D,N,Z,W,A;(d=Y=m.ApplicationScanType||(m.ApplicationScanType={})).fast="fast",d.traditional="traditional",function(d){d.Unknown="Unknown",d.NotAvailable="NotAvailable",d.NotReady="NotReady",d.Ready="Ready"}(D=m.VopsStatus||(m.VopsStatus={})),function(d){d.STRING="STRING",d.INT="INT",d.FLOAT="FLOAT",d.ENUM="ENUM",d.BOOL="BOOL",d.DRIVER_ENUM="DRIVER_ENUM"}(N=m.Type||(m.Type={})),function(d){d.AC="AC",d.DC="DC"}(Z=m.ApplicationPowerMode||(m.ApplicationPowerMode={})),function(d){d.DISABLED="DISABLED",d.UNOPTIMIZED="UNOPTIMIZED",d.CUSTOMIZED="CUSTOMIZED",d.OPTIMIZED="OPTIMIZED"}(W=m.OptimizationState||(m.OptimizationState={})),function(d){d.started="started",d.finished="finished",d.failed="failed",d.progress="progress"}(A=m.Status||(m.Status={}))}(a||(a={}));var M,P,K,B,j,tt,ot,F,U,z,Q,y=function(m){return m.Driverinstall=I,m.Driverupdaterecommendation=q,m.Localgames=a,m}(y||{});!function(m){let Y;var N;let D;(N=Y=m.State||(m.State={})).percentage="percentage",N.indeterminate="indeterminate",N.pause="pause",N.complete="complete",function(N){N.active="active",N.inactive="inactive",N.failed="failed"}(D=m.State1||(m.State1={}))}(M||(M={})),function(m){let Y;var A;let D,N,Z,W;(A=Y=m.ApplicationLifetimeEventType||(m.ApplicationLifetimeEventType={})).ApplicationExit="APPLICATION_EXIT",A.SystemLogout="SYSTEM_LOGOUT",A.SystemSuspend="SYSTEM_SUSPEND",function(A){A.UserClosedWindow="USER_CLOSED_WINDOW",A.UserQuitWithShortcut="USER_QUIT_WITH_SHORTCUT",A.UserLoggedOut="USER_LOGGED_OUT",A.SelfUpdate="SELF_UPDATE",A.Relaunch="RELAUNCH",A.BrowserExit="BROWSER_EXIT",A.ForceShutdown="FORCE_SHUTDOWN"}(D=m.ShutdownReason||(m.ShutdownReason={})),function(A){A.Bluetooth="BLUETOOTH"}(N=m.SystemSetting||(m.SystemSetting={})),function(A){A.Launch="launch"}(Z=m.ApplicationTimeType||(m.ApplicationTimeType={})),function(A){A.LaunchSiteTime="LAUNCH_SITE_TIME",A.LaunchCefSiteTime="LAUNCH_CEF_SITE_TIME"}(W=m.ApplicationStartTimeType||(m.ApplicationStartTimeType={}))}(P||(P={})),function(m){let Y;var N;let D;(N=Y=m.ConversationIntent||(m.ConversationIntent={})).Support="Support",N.Recommendation="Recommendation",function(N){N.Installer="Installer",N.Game="Game",N.Share="Share",N.GameStream="GameStream"}(D=m.Component||(m.Component={}))}(K||(K={})),function(m){let Y;var D;(D=Y=m.InternalErrorCodeEnum||(m.InternalErrorCodeEnum={}))[D.Success=0]="Success",D[D.Error=1]="Error",D[D.Error_PermissionNotGiven=2]="Error_PermissionNotGiven",D[D.Error_NotFullScreen=3]="Error_NotFullScreen"}(B||(B={})),function(m){let Y;var D;(D=Y=m.DiscordAsset||(m.DiscordAsset={}))[D.Large=0]="Large"}(j||(j={})),function(m){let Y;var lt;let D,N,Z,W,A,d,H,$,J,st;(lt=Y=m.UpdateFrameworkResult||(m.UpdateFrameworkResult={}))[lt.NotImplemented=-1]="NotImplemented",lt[lt.Success=0]="Success",lt[lt.Error=1]="Error",lt[lt.UpdateFrameworkUninitialised=2]="UpdateFrameworkUninitialised",lt[lt.UpdateCheckMgrUninitialised=3]="UpdateCheckMgrUninitialised",lt[lt.NoUpdateCheckCandidate=4]="NoUpdateCheckCandidate",lt[lt.InvalidComponentType=5]="InvalidComponentType",lt[lt.UpdateCheckInfoException=6]="UpdateCheckInfoException",lt[lt.UpdateCheckComponentInapplicable=7]="UpdateCheckComponentInapplicable",lt[lt.InvalidArgument=8]="InvalidArgument",lt[lt.InvalidOperation=9]="InvalidOperation",lt[lt.FileDoesNotExist=10]="FileDoesNotExist",lt[lt.NotFound=11]="NotFound",lt[lt.BadJson=12]="BadJson",lt[lt.KeyDoesNotExist=13]="KeyDoesNotExist",lt[lt.InternalException=14]="InternalException",lt[lt.ProfileCatalogUninitialised=15]="ProfileCatalogUninitialised",lt[lt.AlreadyDownloaded=16]="AlreadyDownloaded",lt[lt.CannotDeleteFile=17]="CannotDeleteFile",lt[lt.DownloaderBusyTryLater=18]="DownloaderBusyTryLater",lt[lt.CurlInitFailed=19]="CurlInitFailed",lt[lt.PostProcessingPolicyDontRun=20]="PostProcessingPolicyDontRun",lt[lt.DownloadPolicyDontRun=21]="DownloadPolicyDontRun",lt[lt.UpdateCheckPeriodNotElapsed=22]="UpdateCheckPeriodNotElapsed",lt[lt.PluginLoadError=23]="PluginLoadError",lt[lt.PluginFnAddrError=24]="PluginFnAddrError",lt[lt.PluginError=25]="PluginError",function(lt){lt[lt.Official=0]="Official",lt[lt.Beta=1]="Beta",lt[lt.Unknown=-1]="Unknown"}(D=m.UpdateChannel||(m.UpdateChannel={})),function(lt){lt[lt.Full=0]="Full",lt[lt.Diff=1]="Diff",lt[lt.Unknown=-1]="Unknown"}(N=m.UpdateType||(m.UpdateType={})),function(lt){lt[lt.Auto=0]="Auto",lt[lt.Manual=1]="Manual",lt[lt.Unknown=-1]="Unknown"}(Z=m.InvokeType||(m.InvokeType={})),function(lt){lt[lt.Undefined=-1]="Undefined",lt[lt.DownloadTriggered=0]="DownloadTriggered",lt[lt.Downloading=1]="Downloading",lt[lt.VerifyingChecksum=2]="VerifyingChecksum",lt[lt.VerifyingSignature=3]="VerifyingSignature",lt[lt.Paused=4]="Paused",lt[lt.Cancelled=5]="Cancelled",lt[lt.NetworkErrorRetrying=6]="NetworkErrorRetrying",lt[lt.NetworkErrorRetryPaused=7]="NetworkErrorRetryPaused",lt[lt.Finished=8]="Finished",lt[lt.ChecksumVerificationFailed=9]="ChecksumVerificationFailed",lt[lt.SignatureVerificationFailed=10]="SignatureVerificationFailed",lt[lt.DiskWriteFail=11]="DiskWriteFail",lt[lt.Error=12]="Error",lt[lt.NotAllowedNow=13]="NotAllowedNow",lt[lt.Prohibited=14]="Prohibited"}(W=m.DownloadStatus||(m.DownloadStatus={})),function(lt){lt[lt.Undefined=-1]="Undefined",lt[lt.Ready=0]="Ready",lt[lt.Executing=1]="Executing",lt[lt.Completed=2]="Completed",lt[lt.CouldNotRun=3]="CouldNotRun",lt[lt.FailedRetryPending=4]="FailedRetryPending",lt[lt.Failed=5]="Failed"}(A=m.ActionStatus||(m.ActionStatus={})),function(lt){lt[lt.Undefined=-1]="Undefined",lt[lt.ExecutingActions=0]="ExecutingActions",lt[lt.Completed=1]="Completed",lt[lt.Failed=2]="Failed"}(d=m.PostProcessingStatus||(m.PostProcessingStatus={})),function(lt){lt[lt.Started=0]="Started",lt[lt.Retrying=1]="Retrying",lt[lt.RetryStopped=2]="RetryStopped",lt[lt.Finished=3]="Finished",lt[lt.Failed=4]="Failed"}(H=m.ProgressStatus||(m.ProgressStatus={})),function(lt){lt[lt.Unknown=-1]="Unknown",lt[lt.UpdateInProgress=0]="UpdateInProgress",lt[lt.UpdateUnavailable=1]="UpdateUnavailable",lt[lt.UpdateSuccessful=2]="UpdateSuccessful",lt[lt.UpdateFailed=3]="UpdateFailed"}($=m.UpdateState||(m.UpdateState={})),function(lt){lt[lt.Uninitialised=-1]="Uninitialised",lt[lt.CheckingForUpdate=0]="CheckingForUpdate",lt[lt.UpdateCheckEnd=1]="UpdateCheckEnd",lt[lt.Downloading=2]="Downloading",lt[lt.DownloadEnd=3]="DownloadEnd",lt[lt.PostProcessing=4]="PostProcessing",lt[lt.PostProcessingEnd=5]="PostProcessingEnd"}(J=m.UpdateExecutionPhase||(m.UpdateExecutionPhase={})),function(lt){lt[lt.Success=0]="Success",lt[lt.Failure=1]="Failure",lt[lt.FailureNoSourceProfile=2]="FailureNoSourceProfile"}(st=m.CreateProfileStatusEnum||(m.CreateProfileStatusEnum={}))}(tt||(tt={})),function(m){let Y;var gt;let D,N,Z,W,A,d,H,$,J,st,lt;(gt=Y=m.FileType||(m.FileType={})).video="video",gt.image="image",gt.other="other",function(gt){gt.Highlight="Highlight",gt.AnimatedGif="AnimatedGif",gt.Normal="Normal",gt.SuperResolution="SuperResolution",gt.SuperResolution_Oversized="SuperResolution_Oversized",gt.SubType_360Mono="360Mono",gt.Stereo="Stereo",gt.SubType_360Stereo="360Stereo",gt.Exr="Exr",gt.Normal_Ansel="Normal_Ansel",gt.Montage="Montage",gt.InstantReplay="InstantReplay",gt.Manual="Manual",gt.Unknown="Unknown"}(D=m.SubType||(m.SubType={})),function(gt){gt.Single="Single",gt.Separate="Separate",gt.Unknown="Unknown"}(N=m.AudioType||(m.AudioType={})),function(gt){gt.low="low",gt.medium="medium",gt.high="high"}(Z=m.Quality||(m.Quality={})),function(gt){gt.GFE_Share="GFE_Share",gt.GFE_Ansel="GFE_Ansel",gt.GFE_SDK="GFE_SDK",gt.StandAlone_Ansel="StandAlone_Ansel",gt.Undefined="Undefined"}(W=m.Source||(m.Source={})),function(gt){gt.screenshot="screenshot",gt.video="video"}(A=m.Type||(m.Type={})),function(gt){gt.video="video",gt.image="image",gt.audio="audio"}(d=m.InputFileType||(m.InputFileType={})),function(gt){gt.none="none",gt.titleBasic="titleBasic"}(H=m.SeqType||(m.SeqType={})),function(gt){gt.none="none",gt.brandSliderInOnly="brandSliderInOnly",gt.brandSlideInOut="brandSlideInOut"}($=m.BrandType||(m.BrandType={})),function(gt){gt.atStart="atStart",gt.atEnd="atEnd"}(J=m.Position||(m.Position={})),function(gt){gt.TrackerUpdateNotActive="TrackerUpdateNotActive",gt.TrackerUpdateInProgress="TrackerUpdateInProgress",gt.TrackerUpdateComplete="TrackerUpdateComplete",gt.CancelUpdateComplete="CancelUpdateComplete",gt.CancelUpdate="CancelUpdate"}(st=m.GalleryPathUpdateStatus||(m.GalleryPathUpdateStatus={})),function(gt){gt.none="none",gt.hidden="hidden",gt.empty="empty",gt.hiddenOrEmpty="hiddenOrEmpty",gt.hiddenAndEmpty="hiddenAndEmpty"}(lt=m.ExcludeDirectoryType||(m.ExcludeDirectoryType={}))}(ot||(ot={})),function(m){let Y;var D;(D=Y=m.IpcTargets||(m.IpcTargets={})).GfnMall="mallclient",D.GfnStreamer="streamer",D.GfnUpdater="selfupdater"}(F||(F={})),function(m){let Y;var D;(D=Y=m.PrivacySettings||(m.PrivacySettings={})).None="None",D.RequiredOnly="RequiredOnly",D.RequiredFunctional="RequiredFunctional",D.RequiredFunctionalTechnical="RequiredFunctionalTechnical"}(U||(U={})),function(m){let Y;var J;let D,N,Z,W,A,d,H,$;(J=Y=m.CaptureTypes||(m.CaptureTypes={})).regular="regular",J.stereoRegular="stereoRegular",J.highRes="highRes",J.sphericalPanorama="sphericalPanorama",J.stereoSphericalPanorama="stereoSphericalPanorama",function(J){J.ok="ok",J.failed="failed",J.started="started",J.failedToStart="failedToStart",J.noSpace="noSpace",J.permissionDenied="permissionDenied",J.invalidRequest="invalidRequest",J.failedToProcess="failedToProcess",J.processDeclined="processDeclined",J.alreadyEnabled="alreadyEnabled",J.alreadyDisabled="alreadyDisabled",J.outOfRange="outOfRange",J.alreadySet="alreadySet",J.incompatibleVersion="incompatibleVersion",J.disabled="disabled",J.okAnsel="okAnsel",J.okModsOnly="okModsOnly",J.failedToFinishCapture="failedToFinishCapture",J.failedToSaveShotFailedCreateDiretory="failedToSaveShotFailedCreateDiretory",J.failedToSaveShotNoSpaceLeft="failedToSaveShotNoSpaceLeft",J.processingCompleted="processingCompleted",J.shotSaved="shotSaved",J.processingFile="processingFile",J.failedToSaveShot="failedToSaveShot"}(D=m.AnselStatusEnum||(m.AnselStatusEnum={})),function(J){J.sdk="sdk",J.mods="mods",J.styleTransfer="styleTransfer",J.allowOffline="allowOffline"}(N=m.FeaturesSupported||(m.FeaturesSupported={})),function(J){J.windowedSDK="windowedSDK",J.fullscreenSDK="fullscreenSDK",J.windowedNoSDK="windowedNoSDK",J.fullscreenNoSDK="fullscreenNoSDK"}(Z=m.Mode||(m.Mode={})),function(J){J.mouse="mouse",J.keyboard="keyboard",J.gamepad="gamepad"}(W=m.Hid||(m.Hid={})),function(J){J.notAvailable="notAvailable",J.available="available",J.notEnabled="notEnabled",J.enabled="enabled"}(A=m.AnselState||(m.AnselState={})),function(J){J.roll="roll",J.fov="fov"}(d=m.Response||(m.Response={})),function(J){J.float="float",J.int="int",J.uint="uint",J.bool="bool"}(H=m.DataType||(m.DataType={})),function(J){J.success="success"}($=m.NgxAiUpResStatus||(m.NgxAiUpResStatus={}))}(z||(z={})),function(m){let Y;var N;let D;(N=Y=m.ApiStatusEnum||(m.ApiStatusEnum={})).Success="Success",N.Failure="Failure",function(N){N.Desktop="Desktop",N.Mobile="Mobile"}(D=m.UiModeEnum||(m.UiModeEnum={}))}(Q||(Q={}));var dt=function(m){return m.Applicationcontrol=M,m.Applicationinfo=P,m.Bot=K,m.Clientnotification=B,m.Discord=j,m.Downloader=tt,m.Gallery=ot,m.Ipc=F,m.Nvaccount=U,m.Nvcamera=z,m.Systeminfo=Q,m}(dt||{}),X=function(m){return m.Common=dt,m.Gfe=y,m.Gfn=b,m.Nvapp=s,m.Qxp=O,m.Share=g,m}(X||{})},32311:(Dt,ct,t)=>{"use strict";t.d(ct,{OA:()=>n,WU:()=>p,Y:()=>w});var e=t(13963),i=t(93190),L=t(70462),f=t(30502),x=t(89718),S=t(9681),u=t(1062),g=t(47422),h=t(45083),O=t(87965),E=t(15746),w=function(s){return s.IGO="igo",s.Streaming="streaming",s.ClientIME="ime",s.PrivacyPolicy="privacy",s.QuitGath="quitGame",s.OscNotification="OscNotification",s}(w||{}),p=function(s){return s.Visible="visible",s.Hidden="hidden",s}(p||{}),V=function(s){return s.Local="localhost",s.Stage="stage.nvidia.com",s.Partner="partner.nvidia.com",s}(V||{});const c=new RegExp("/mall/index[.]html$|/mall/$|/index[.]html$|/$");var l=t(61699),o=t(36480);let n=(()=>{var s;class R{get fullScreenEventSubject(){return this.fullScreenEvent}get fullScreenEventObs$(){return this.fullScreenEvent.asObservable()}get documentVisiblityChange(){return(0,i.R)(document,"visibilitychange")}resetExitPath(){this.fullScreenSource=void 0}setExitPath(b){this.fullScreenSource=b}get resumeFullScreenIGO(){return this.fullScreenSource===w.IGO}get applicationWindowState$(){return this.isPWAModeOnLGTV?this.webOSWindowStateSubject.asObservable():this.documentVisiblityChange.pipe((0,u.O)(0),(0,g.U)(b=>"visible"===document.visibilityState?"foreground":"background"),(0,h.x)())}constructor(b,I,q){var a;this.titleService=I,this.ngZone=q,this.keyCodes={c:"KeyC",i:"KeyI",j:"KeyJ",u:"KeyU",f12:"F12"},this.isPWAModeOnLGTV=e.ng.isPWAModeOnLGTV(),this.isPWAModeOnSamsungTV=e.ng.isPWAModeOnSamsungTV(),this.fullScreenEvent=new L.X(!1),this.webOSWindowStateSubject=new L.X("foreground"),this.webOSWindowStateListener=y=>{this.webOSWindowStateSubject.value!==y.detail.state&&this.webOSWindowStateSubject.next(y.detail.state)},this.logger=b.getLogger("gfn/browser-support"),this.appIcon=document.querySelector("#appIcon"),this.appIconHref=null===(a=this.appIcon)||void 0===a?void 0:a.href,this.hostBranch=window.location.pathname.replace(c,"")}initialize(b,I){b&&this.ngZone.runOutsideAngular(()=>{document.addEventListener("wheel",this.dummyWheelListener,{passive:!0})}),I||this.disableDevTools(),this.isPWAModeOnLGTV&&this.ngZone.runOutsideAngular(()=>{window.addEventListener("windowStateChanged",this.webOSWindowStateListener)})}dummyWheelListener(b){return b}disableDevTools(){this.ngZone.runOutsideAngular(()=>{document.addEventListener("contextmenu",b=>b.preventDefault()),window.addEventListener("keydown",b=>{(b.code===this.keyCodes.i&&b.ctrlKey&&b.shiftKey||b.code===this.keyCodes.j&&b.ctrlKey&&b.shiftKey||b.code===this.keyCodes.u&&b.ctrlKey||b.code===this.keyCodes.f12||b.code===this.keyCodes.c&&b.shiftKey&&b.metaKey||b.code===this.keyCodes.i&&b.altKey&&b.metaKey||b.code===this.keyCodes.j&&b.altKey&&b.metaKey||b.code===this.keyCodes.u&&b.altKey&&b.metaKey)&&b.preventDefault()})})}getGamepads(){if(!navigator.getGamepads)return[];const b=navigator.getGamepads();return b instanceof Array?b:Array.from(b).filter(q=>!!q)}goToPreviousPage(){window.history.back()}supportsRequestFullscreen(b){return document.fullscreenEnabled&&b.requestFullscreen||document.webkitFullscreenEnabled&&b.webkitRequestFullscreen}isFullscreen(){const b=screen.width===window.innerWidth&&screen.height===window.innerHeight;return document.fullscreenElement||document.webkitFullscreenElement||!(this.isPWAModeOnLGTV||this.isPWAModeOnSamsungTV)&&b}requestFullscreen(b){this.supportsRequestFullscreen(b)?b.requestFullscreen?b.requestFullscreen().catch(I=>{this.logger.error(`Error attempting to enable fullscreen mode: ${I.message} (${I.name})`)}):b.webkitRequestFullscreen?b.webkitRequestFullscreen():this.logger.error("No available method to enter fullscreen"):this.logger.error("Fullscreen not supported")}exitFullscreen(){document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():this.logger.error("No available method to exit fullscreen")}isStagingOrDevDomain(){return this.isStagingDomain()||this.isLocalDomain()}isStagingDomain(){return window.location.hostname.endsWith(V.Stage)}isPartnerDomain(){return window.location.hostname.endsWith(V.Partner)}isLocalDomain(){return window.location.hostname.endsWith(V.Local)}getHostBranchName(){return this.hostBranch}setTitle(b){b&&this.titleService.setTitle(b)}blinkAppIcon(b){this.appIcon&&this.appIconHref&&(b%2==1?this.appIcon.href="./assets/img/transparent.png":this.resetAppIcon())}resetAppIcon(){this.appIconHref&&(this.appIcon.href=this.appIconHref)}cleanup(){document.removeEventListener("wheel",this.dummyWheelListener),this.resetAppIcon(),this.isPWAModeOnLGTV&&window.removeEventListener("windowStateChanged",this.webOSWindowStateListener)}getPermission$(b){return(0,f.D)(navigator.permissions.query({name:b})).pipe((0,O.zg)(I=>(0,x.T)((0,S.of)(I.state),(0,i.R)(I,"change").pipe((0,g.U)(q=>q.target.state)))),(0,E.b)(I=>this.logger.info(`BrowserPermission: ${b} value: ${I}`)))}}return(s=R).\u0275fac=function(b){return new(b||s)(l.LFG(e.ed),l.LFG(o.Dx),l.LFG(l.R0b))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),R})()},64950:(Dt,ct,t)=>{"use strict";t.d(ct,{j:()=>k,tu:()=>j,LK:()=>P});var e=t(58175),i=t(87965),L=t(78943),f=t(13963),x=function(pt){return pt.Shared="sharedStore",pt.Webclient="webclientStore",pt.Config="configStore",pt}(x||{}),S=function(pt){return pt.Read="Read",pt.Write="Write",pt.Remove="Remove",pt.Cache="Cache",pt}(S||{}),u=t(61699);const g=L.Gh.Common.Applicationcontrol;let h=(()=>{var pt;class yt extends f.nM{constructor(It){super(),this.dbService=It}get handlers(){return{module:g.DeleteCookies.module,commands:{[g.DeleteCookies.method]:this.deleteCookies.bind(this),[g.LoadStringTable.method]:this.loadStringTable.bind(this),[g.ReadConfig.method]:this.readConfig.bind(this),[g.WriteConfig.method]:this.writeConfig.bind(this)}}}deleteCookies(It){return this.makeResult("true")}loadStringTable(It){return this.makeResult("true")}readConfig(It){return this.dbService.getGlobalStore(x.Config).getItem(It.payload.appname).pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>this.makeResult(Nt)))}writeConfig(It){return this.dbService.getGlobalStore(x.Config).setItem(It.payload.appname,It.payload.data).pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>this.makeResult("true")))}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.MC))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var O=t(77869),E=t(32484);const w=new E.xQ,p=new E.xQ;var V=t(21120);const c="WebclientChannel",C=L.Gh.Common.Ipc;let l=(()=>{var pt;class yt extends f.nM{constructor(It){super(),this.browserLeanModeService=It,this.ipcEnabled=!0,this.startBroadcastListener(),It.leanModeTransitionState.subscribe(Nt=>{this.ipcEnabled=!Nt,this.ipcEnabled?this.startBroadcastListener():this.stopBroadcastListener()})}ngOnDestroy(){this.stopBroadcastListener()}startBroadcastListener(){this.messages=[],typeof BroadcastChannel<"u"?(this.broadcastChannel=new BroadcastChannel(c),this.broadcastChannel.onmessage=It=>{this.onReceiveMessage(It.data)}):this.localStorageAvailable()&&(this.localStorage=localStorage,this.uuid=(0,O.Rl)(),this.storageEventListener=It=>{if(It.key!==c)return;const Nt=JSON.parse(It.newValue);!Nt||Nt.senderUuid===this.uuid||this.onReceiveMessage(Nt.message)},window.addEventListener("storage",this.storageEventListener))}stopBroadcastListener(){this.localStorage&&this.storageEventListener&&window.removeEventListener("storage",this.storageEventListener),this.broadcastChannel&&(this.broadcastChannel.close(),this.broadcastChannel=null)}get handlers(){return{module:C.Pop.module,commands:{[C.Pop.method]:this.popMessage.bind(this),[C.Push.method]:this.pushMessage.bind(this)}}}pushMessage(It){return this.ipcEnabled&&this.broadcastMessage(It.payload.message),this.makeResult("IPC Push Message successful")}popMessage(It){if(this.ipcEnabled&&this.messages.length){const Nt=this.messages.pop();return this.makeResult(Nt)}{const Nt={type:V.oIn.QueueEmpty,content:JSON.stringify(!1)};return this.makeResult(JSON.stringify(Nt))}}broadcastMessage(It){this.broadcastChannel?this.broadcastChannel.postMessage(It):this.localStorage&&(this.localStorage.setItem(c,JSON.stringify({message:It,senderUuid:this.uuid})),this.localStorage.removeItem(c))}onReceiveMessage(It){this.messages.push(JSON.stringify(It)),w.next({sender:"IpcPlugin",data:f.Nx.IpcNewMessage})}localStorageAvailable(){try{const It="__storage_test__";return localStorage.setItem(It,It),localStorage.removeItem(It),!0}catch{return!1}}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.rn))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var o=t(47178),n=t(45078);const s=L.Gh.Common.Sharedstorage;let R=(()=>{var pt;class yt extends f.nM{constructor(It,Nt){super(),this.dbService=It,this.swService=Nt}get handlers(){return{module:s.Read.module,commands:{[s.Read.method]:this.readFromSharedStorage.bind(this),[s.Write.method]:this.writeToSharedStorage.bind(this),[s.Remove.method]:this.removeFromSharedStorage.bind(this),[s.Cache.method]:this.getCacheOfSharedStorage.bind(this)}}}readFromSharedStorage(It){return this.dbService.getGlobalStore(x.Shared).getItem(It.payload.path[0]).pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>{if(!Nt)return this.makeError(204,"Data not found");if(1===It.payload.path.length)return this.makeResult(Nt);{const le=(0,o.get)(Nt,It.payload.path.slice(1),null);return null!==le?this.makeResult(le):this.makeError(204,"Data not found")}}))}writeToSharedStorage(It){return this.dbService.getGlobalStore(x.Shared).getItem(It.payload.path[0]).pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>{let le={};return Nt&&(le=Nt),le=1===It.payload.path.length?It.payload.data:(0,o.setWith)(le,It.payload.path.slice(1),It.payload.data,Object),this.postCacheUpdateMessage(S.Write,It.payload.path,le),this.dbService.getGlobalStore(x.Shared).setItem(It.payload.path[0],le)}),(0,i.zg)(Nt=>this.makeResult("true")))}removeFromSharedStorage(It){return this.dbService.getGlobalStore(x.Shared).getItem(It.payload.path[0]).pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>{let te,le={};return Nt&&(le=Nt),1===It.payload.path.length?te=this.dbService.getGlobalStore(x.Shared).removeItem(It.payload.path[0]):(le=(0,o.unset)(le,It.payload.path.slice(1)),te=this.dbService.getGlobalStore(x.Shared).setItem(It.payload.path[0],le)),this.postCacheUpdateMessage(S.Remove,It.payload.path),te}),(0,i.zg)(Nt=>this.makeResult("true")))}getCacheOfSharedStorage(It){return this.dbService.getGlobalStore(x.Shared).getAllItemsByCursor().pipe((0,e.K)(Nt=>this.makeError(500,"IndexedDB Error: "+Nt.toString())),(0,i.zg)(Nt=>(this.postCacheUpdateMessage(S.Cache,[],Nt),this.makeResult(Nt))))}postCacheUpdateMessage(It,Nt,le){const te={source:f.nM.browserInstanceId,path:Nt,data:null!=le?le:{},operationType:It},bt={type:n.rL.SharedStorageUpdate,content:JSON.stringify(te)};It!==S.Cache&&this.swService.postMessageSw(bt),p.next(te)}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.MC),u.LFG(n.HR))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var _=t(73992),b=t(9681),I=t(46939),q=t(36520),a=t(47422),y=t(680),M=t(15746);let P=(()=>{var pt;class yt{}return(pt=yt).\u0275fac=function(It){return new(It||pt)},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac}),yt})();var K=t(57536),B=t(30502);let j=(()=>{var pt;class yt{constructor(It){this.logger=It.getLogger("PlatformInfoService"),this.platformInfo$=(0,B.D)((0,K.getPlatformDetails)()).pipe((0,i.zg)(Nt=>(0,_.$R)((0,b.of)(Nt),this.getNetworkType(Nt.os))),(0,a.U)(([Nt,le])=>{const te=Nt.os;return{details:Nt,systemName:this.getSystemName(Nt),processorArchitecture:this.getProcessorArchitecture(te),cpuName:this.getCPUName(te),networkType:le}}),(0,y.d)(1))}getPlatformInfo(){return f.ng.isBrowserPlatform()?this.platformInfo$:(0,b.of)(null)}isBrowserStreamingSupported(){return this.platformInfo$.pipe((0,a.U)(It=>(0,K.IsFeatureSupported)(0,It.details)))}getTranslatedPayloadDeviceType(It){return(0,K.translatePlatformDetailsForPayload)(It).deviceType}getTranslatedPayloadOsType(It){return(0,K.translatePlatformDetailsForPayload)(It).os}getTranslatedPayloadBrowserType(It){return(0,K.translatePlatformDetailsForPayload)(It).browser}getTranslatedClientHeaderDeviceType(It){return(0,K.translatePlatformDetailsForClientHeader)(It).deviceType}getTranslatedClientHeaderOsType(It){return(0,K.translatePlatformDetailsForClientHeader)(It).os}getTranslatedClientHeaderBrowserType(It){return(0,K.translatePlatformDetailsForClientHeader)(It).browser}getSystemName(It){return"Tizen"===It.os?(0,O.dK)(O.qW.ModelName):It.deviceModel||void 0}getProcessorArchitecture(It){if("Tizen"===It)return(0,O.dK)(O.qW.PlatformCoreCpuArch);const Nt=window.navigator.appVersion;let le="x86";return Nt.includes("WOW64")||Nt.includes("Win64")?le="x64":Nt.includes("arm")&&(le="arm"),le}getCPUName(It){if("Tizen"===It)return(0,O.Ij)()}getNetworkType(It){return"Tizen"===It?(0,O.bw)().pipe((0,e.K)(Nt=>(this.logger.error("getTizenNetworkType failed, error:",Nt),(0,b.of)(void 0)))):(0,b.of)(void 0)}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.ed))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();const tt="deviceId",ot="systemInfoOverride",F=L.Gh.Common.Systeminfo;var U=function(pt){return pt[pt.Payload=0]="Payload",pt[pt.ClientHeader=1]="ClientHeader",pt}(U||{});let z=(()=>{var pt;class yt extends f.nM{constructor(It,Nt,le,te,bt){var Vt;super(),this.dbService=le,this.localeConfig=te,this.platformInfoService=bt,this.isOverrideStored=!1,this.sysInfoHandlers=new Map,this.logger=It.getLogger("SystemInfoPlugin"),this.logger.info("User Agent:",window.navigator.userAgent),this.overrideConfig=null!==(Vt=null==Nt?void 0:Nt.systemInfoOverrideConfig)&&void 0!==Vt?Vt:{allowedOSs:[],override:{}},this.setSysInfoHandler("DeviceType",this.getDeviceTypeInternal.bind(this)),this.setSysInfoHandler("Platform",this.getPlatformInternal.bind(this)),this.setSysInfoHandler("OSName",this.getOSNameInternal.bind(this)),this.setSysInfoHandler("OSVersion",this.getOSVersionInternal.bind(this)),this.setSysInfoHandler("BrowserName",this.getBrowserNameInternal.bind(this)),this.setSysInfoHandler("BrowserVersion",this.getBrowserVersionInternal.bind(this)),this.setSysInfoHandler("UserDefaultUILanguage",this.getUserDefaultUILanguageInternal.bind(this)),this.setSysInfoHandler("ProcessorArchitecture",this.getProcessorArchitectureInternal.bind(this)),this.setSysInfoHandler("Display",this.getDisplayInternal.bind(this)),this.setSysInfoHandler("GPU",this.getGPUInternal.bind(this)),this.setSysInfoHandler("Disk",this.getDiskInternal.bind(this)),this.setSysInfoHandler("Network",this.getNetworkInternal.bind(this)),this.setSysInfoHandler("ConfidenceInBrowser",this.getConfidenceInBrowserInternal.bind(this)),this.setSysInfoHandler("IsBrowserForged",this.getIsBrowserForgedInternal.bind(this)),this.setSysInfoHandler("VendorName",this.getVendorNameInternal.bind(this)),this.setSysInfoHandler("SystemName",this.getSystemNameInternal.bind(this)),this.setSysInfoHandler("CPUName",this.getCPUNameInternal.bind(this)),this.setSysInfoHandler("CurrentUiMode",this.getCurrentUiMode.bind(this))}get handlers(){return{module:F.GetDeviceId.module,commands:{[F.GetDeviceId.method]:this.getDeviceId.bind(this),[F.GetSystemInfo.method]:this.getSystemInfo.bind(this),[F.GetClientHeadersInfo.method]:this.getClientHeadersInfo.bind(this),[F.GetStreamingSupportInfo.method]:this.isStreamingSupported.bind(this)}}}isStreamingSupported(It){return this.platformInfoService.isBrowserStreamingSupported().pipe((0,I.q)(1),(0,i.zg)(Nt=>this.makeResult(JSON.stringify({IsStreamingSupported:Nt}))))}setSysInfoHandler(It,Nt){this.sysInfoHandlers.set(It,Nt)}makeSystemInfoData(It,Nt,le){const te={},bt=[];return null!=le&&le.length&&le.forEach(Vt=>{const ut=this.sysInfoHandlers.get(Vt);ut?te[Vt]=ut(Nt,It)[Vt]:bt.push(Vt)}),bt.length&&this.logger.info(`SystemInfo not implemented for keys ${JSON.stringify(bt)}`),te}getDeviceId(It){return this.readDeviceId().pipe((0,i.zg)(Nt=>{if(Nt)return this.makeResult(JSON.stringify({DeviceID:Nt}));{const le={DeviceID:(0,O.Rl)()};return this.storeDeviceId(le.DeviceID).pipe((0,q.w)(te=>this.makeResult(JSON.stringify(le))))}}),(0,e.K)(Nt=>this.makeError(500,"Failed to get device id: "+Nt.toString())))}getClientHeadersInfo(){const It=[];return this.sysInfoHandlers.forEach((Nt,le)=>{It.push(le)}),this.fetchSystemInfo(U.ClientHeader,It)}getSystemInfo(It){var Nt;return this.fetchSystemInfo(U.Payload,null===(Nt=It.payload)||void 0===Nt?void 0:Nt.keys)}fetchSystemInfo(It,Nt){const le=this.platformInfoService.getPlatformInfo().pipe((0,a.U)(bt=>this.makeSystemInfoData(It,bt,Nt))),te=this.platformInfoService.getPlatformInfo().pipe((0,i.zg)(bt=>{const Vt=this.platformInfoService.getTranslatedPayloadOsType(bt.details);return this.getSystemInfoOverride(Vt,Nt)}));return(0,_.$R)(le,te).pipe((0,I.q)(1),(0,i.zg)(([bt,Vt])=>(Object.assign(bt,Vt),this.makeResult(JSON.stringify(bt)))),(0,y.d)(1))}readDeviceId(){return this.dbService.getGlobalStore(x.Webclient).getItem(tt)}storeDeviceId(It){return this.dbService.getGlobalStore(x.Webclient).setItem(tt,It)}getDeviceTypeInternal(It,Nt){return{DeviceType:Nt===U.ClientHeader?this.platformInfoService.getTranslatedClientHeaderDeviceType(It.details):this.platformInfoService.getTranslatedPayloadDeviceType(It.details)}}getPlatformInternal(It,Nt){return{Platform:It.details.os}}getOSNameInternal(It,Nt){return{OSName:Nt===U.ClientHeader?this.platformInfoService.getTranslatedClientHeaderOsType(It.details):this.platformInfoService.getTranslatedPayloadOsType(It.details),OSVersion:this.getOSVersionInternal(It,Nt).OSVersion}}getOSVersionInternal(It,Nt){return{OSVersion:It.details.osVer&&"0"!==It.details.osVer?It.details.osVer:f.Px}}getBrowserNameInternal(It,Nt){return{BrowserName:Nt===U.ClientHeader?this.platformInfoService.getTranslatedClientHeaderBrowserType(It.details):this.platformInfoService.getTranslatedPayloadBrowserType(It.details)}}getBrowserVersionInternal(It,Nt){return"0"===It.details.browserFullVer?{BrowserVersion:It.details.browserVer||f.Px}:{BrowserVersion:It.details.browserFullVer||It.details.browserVer||f.Px}}getUserDefaultUILanguageInternal(It,Nt){var le;const te={UserDefaultUILanguage:this.sanitizeLanguage(null===(le=window.navigator.language)||void 0===le?void 0:le.replace("-","_"),"Safari"===It.details.browser)};return this.logger.info("preferred languages are",window.navigator.languages,"default pick is",te.UserDefaultUILanguage),te}getProcessorArchitectureInternal(It,Nt){return{ProcessorArchitecture:It.processorArchitecture||void 0}}getDisplayInternal(){return{Display:[{RefreshRate:"",LogicalResolution:window.screen.width.toString()+" x "+window.screen.height.toString(),PhysicalResolution:Math.floor(window.screen.width*window.devicePixelRatio)+" x "+Math.floor(window.screen.height*window.devicePixelRatio)}]}}getGPUInternal(It,Nt){return{GPU:{GPUData:[{LongGPUName:It.details.gpuDetail}]}}}getDiskInternal(It,Nt){return{Disk:[]}}getNetworkInternal(It,Nt){var le;const te=this.platformInfoService.getTranslatedPayloadOsType(It.details);return{Network:{Fingerprint:"",NetworkType:null!==(le=this.getMappedNetworkType(te,It.networkType))&&void 0!==le?le:void 0}}}getConfidenceInBrowserInternal(It,Nt){return{ConfidenceInBrowser:It.details.confidence}}getIsBrowserForgedInternal(It,Nt){return{IsBrowserForged:It.details.forging}}getVendorNameInternal(It,Nt){return{VendorName:It.details.vendor||void 0}}getSystemNameInternal(It,Nt){return{SystemName:It.systemName||void 0}}getCPUNameInternal(It,Nt){return{CPUName:It.cpuName||void 0}}getSystemInfoOverride(It,Nt){if(!this.overrideConfig.allowedOSs.includes(It))return(0,b.of)({});const le=(0,a.U)(bt=>{let Vt={};return bt&&(null!=Nt&&Nt.length?Nt.forEach(ut=>{bt[ut]&&(Vt[ut]=bt[ut])}):Vt=bt),Vt}),te=this.overrideConfig.override;return te&&Object.keys(te).length>0?(this.storeSystemInfoOverrideIfNeeded(te),(0,b.of)(te).pipe(le)):this.readSystemInfoOverride().pipe((0,M.b)(bt=>{bt&&(this.logger.info("Override is loaded from DB"),this.overrideConfig.override=bt)}),le)}storeSystemInfoOverrideIfNeeded(It){this.isOverrideStored||this.dbService.getGlobalStore(x.Webclient).setItem(ot,It).pipe((0,I.q)(1),(0,M.b)(Nt=>{this.logger.info("Override is stored in DB"),this.isOverrideStored=!0})).subscribe()}readSystemInfoOverride(){return this.dbService.getGlobalStore(x.Webclient).getItem(ot)}sanitizeLanguage(It,Nt){return Nt&&(It=It.replace(/(.*[-_])([a-zA-Z]*)/,(le,te,bt)=>`${te}${bt.toUpperCase()}`)),It}getMappedNetworkType(It,Nt){if("Tizen"===It)switch(Nt){case"ETHERNET":return f.VV.Ethernet;case"WIFI":return f.VV.WiFi2_4;case"2G":case"2.5G":case"3G":case"4G":case"NET_PROXY":return f.VV.Other;default:return f.VV.Unknown}}getCurrentUiMode(It,Nt){const le=It.details.deviceType;let te=L.Yk.Common.Systeminfo.UiModeEnum.Desktop;return le?("PHONE"===le||"TABLET"===le)&&(te=L.Yk.Common.Systeminfo.UiModeEnum.Mobile):("Android"===It.details.os||"iOS"===It.details.os||"iPadOS"===It.details.os)&&(te=L.Yk.Common.Systeminfo.UiModeEnum.Mobile),{CurrentUiMode:te}}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.ed),u.LFG(P,8),u.LFG(f.MC),u.LFG(f.b$),u.LFG(j))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var Q=t(89718),dt=t(85046);const X=L.Gh.Common.Windowevents,m=pt=>`json:${JSON.stringify(pt)}`;let Y=(()=>{var pt;class yt extends f.nM{constructor(It,Nt,le){super(),this.swService=Nt,this.ngZone=le,this.windowEvents=new E.xQ,this.defaultSharedStorageCache={type:f.Nx.SharedStorageUpdate},this.sharedStorageCache={...this.defaultSharedStorageCache},this.handleTizenAppControlEvent=()=>{const{callerAppId:te,appControl:bt}=(0,O.f6)();this.logger.info(`Received appcontrol event from (${te}), operation: ${bt.operation}`);const Vt=bt&&(0,O.a_)(bt);Vt?this.ngZone.run(()=>{this.windowEvents.next(m({type:f.Nx.RouteChange,"new-route":Vt}))}):this.logger.error("Invalid payload in requested app control")},this.logger=It.getLogger("CommonBrowserPlugins/WindowEvents"),this.logger.info("InstanceId: ",f.nM.browserInstanceId),w.pipe((0,dt.h)(te=>te.data===f.Nx.IpcNewMessage),(0,a.U)(te=>te.data)).subscribe(te=>this.onInternalMessage(te),te=>{}),(0,Q.T)(p,this.sharedStorageMessagesFromOtherTabs).subscribe(te=>{this.onSharedStorageUpdate(te)},te=>{this.logger.error("Error receiving update event from shared storage:",te)}),f.ng.isPWAModeOnSamsungTV()&&le.runOutsideAngular(()=>{window.addEventListener("appcontrol",this.handleTizenAppControlEvent)})}get handlers(){return{module:X.RegisterWindowEventsCallback.module,commands:{[X.RegisterWindowEventsCallback.method]:this.registerWindowCallbacks.bind(this)}}}get sharedStorageMessagesFromOtherTabs(){return this.swService.swSharedStorageUpdate$.pipe((0,a.U)(It=>JSON.parse(It.content)),(0,dt.h)(It=>It.source!==f.nM.browserInstanceId))}onInternalMessage(It){this.windowEvents.next(It)}onSharedStorageUpdate(It){switch(It.operationType){case S.Read:this.logger.verbose("Read operation (no-op)");break;case S.Write:this.logger.verbose("Write operation:",It),(0,o.setWith)(this.sharedStorageCache,It.path,It.data,Object);break;case S.Remove:this.logger.verbose("Remove operation:",It),(0,o.unset)(this.sharedStorageCache,It.path);break;case S.Cache:this.logger.verbose("Cache operation:",It),this.sharedStorageCache=(0,o.isEmpty)(It.data)?this.sharedStorageCache:{...this.sharedStorageCache,...It.data};break;default:this.logger.verbose("Invalid Operation Type:",It.operationType)}this.windowEvents.next(m(this.sharedStorageCache))}registerWindowCallbacks(It){return this.makePersistentResult(this.windowEvents.asObservable())}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.ed),u.LFG(n.HR),u.LFG(u.R0b))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var D=L.Yk.Common.Applicationinfo;const N=L.Gh.Common.Applicationinfo;let Z=(()=>{var pt;class yt extends f.nM{constructor(){super(),this.applicationLifeTimeSubject=new E.xQ}get handlers(){return{module:N.IsApplicationRunning.module,commands:{[N.IsApplicationRunning.method]:this.isApplicationRunning.bind(this),[N.IsApplicationInstalled.method]:this.IsApplicationInstalled.bind(this),[N.GetIsUIRefreshed.method]:this.getIsUIRefreshed.bind(this),[N.RegisterAppLifetimeEventsCallback.method]:this.registerAppLifetimeEventsCallback.bind(this),[N.OpenFileDialog.method]:this.openFileDialog.bind(this),[N.OpenDirectoryBrowser.method]:this.openDirectoryBrowser.bind(this)}}}applicationLifeTimeListener(It){window.addEventListener("unload",Nt=>{It.next({type:D.ApplicationLifetimeEventType.ApplicationExit,reason:D.ShutdownReason.BrowserExit})})}isApplicationRunning(It){return this.makeResult("true")}IsApplicationInstalled(It){return this.makeResult("true")}getIsUIRefreshed(It){return this.makeResult("false")}registerAppLifetimeEventsCallback(It){return this.applicationLifeTimeListener(this.applicationLifeTimeSubject),this.makePersistentResult(this.applicationLifeTimeSubject.asObservable())}openFileDialog(It){return this.makeResult("true")}openDirectoryBrowser(It){return this.makeResult("true")}}return(pt=yt).\u0275fac=function(It){return new(It||pt)},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var W=t(32311);const A=L.Gh.Common.Windowcontrol;let d=(()=>{var pt;class yt extends f.nM{constructor(It,Nt){super(),this.browserSupportService=Nt,this.logger=It.getLogger("crimson/browser/windowcontrol-plugin")}get handlers(){return{module:A.Maximize.module,commands:{[A.Maximize.method]:this.maximize.bind(this),[A.Minimize.method]:this.minimize.bind(this),[A.Restore.method]:this.restore.bind(this),[A.Resize.method]:this.resize.bind(this),[A.Close.method]:this.close.bind(this),[A.Focus.method]:this.focus.bind(this),[A.RequestUserAttention.method]:this.requestUserAttention.bind(this)}}}maximize(It){return this.makeResult("true")}minimize(It){return this.makeResult("true")}restore(It){return this.makeResult("true")}resize(It){if(0===It.payload.x&&0===It.payload.y&&0===It.payload.w&&0===It.payload.h){const Nt=document.getElementById("fullscreen-container");Nt&&this.browserSupportService.requestFullscreen(Nt)}return this.makeResult("true")}close(It){return(0,O.fO)()&&(0,O.rV)(),this.makeResult("true")}focus(It){return this.makeResult("true")}requestUserAttention(It){return this.makeResult("true")}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.ed),u.LFG(W.OA))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();const H=L.Gh.Common.Update;let $=(()=>{var pt;class yt extends f.nM{constructor(){super()}get handlers(){return{module:H.ReadTicket.module,commands:{[H.ReadTicket.method]:this.readTicket.bind(this),[H.GfnUpdate.method]:this.gfnUpdate.bind(this)}}}readTicket(It){return this.makeResult('{"available":false,"severity":"","version":""}')}gfnUpdate(It){return this.makeResult("true")}}return(pt=yt).\u0275fac=function(It){return new(It||pt)},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})();var J=t(32392),st=L.Yk.Common.Clientnotification;const lt=L.Gh.Common.Clientnotification;var gt=function(pt){return pt.Granted="granted",pt.Denied="denied",pt.Default="default",pt}(gt||{});const k=[{provide:f.m1,useClass:h,multi:!0},{provide:f.m1,useClass:l,multi:!0},{provide:f.m1,useClass:R,multi:!0},{provide:f.m1,useClass:z,multi:!0},{provide:f.m1,useClass:Y,multi:!0},{provide:f.m1,useClass:Z,multi:!0},{provide:f.m1,useClass:d,multi:!0},{provide:f.m1,useClass:$,multi:!0},{provide:f.m1,useClass:(()=>{var pt;class yt extends f.nM{constructor(It,Nt,le,te){super(),this.browserSupportService=Nt,this.serviceWorkerService=le,this.projectInterfaceService=te,this.success={_return_internal:st.InternalErrorCodeEnum.Success},this.error={_return_internal:st.InternalErrorCodeEnum.Error},this.logger=It.getLogger("ClientNotificationPlugin"),this.browserSupportService.documentVisiblityChange.subscribe(bt=>{this.isDocumentVisible=document.visibilityState===W.WU.Visible})}get handlers(){return{module:lt.ShowClientNotifications.module,commands:{[lt.ShowClientNotifications.method]:this.showClientNotification.bind(this),[lt.ClearNotificationsQueue.method]:this.clearNotificationsQueue.bind(this),[lt.DeleteNotification.method]:this.deleteNotification.bind(this)}}}deleteNotification(It){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,e.K)(Nt=>this.makeResult(JSON.stringify(this.error))),(0,i.zg)(Nt=>(Nt?(this.serviceWorkerService.postMessageSw({type:n.rL.UiPushNotification,content:JSON.stringify({delete:It.payload.uniqueId})}),this.logger.info("Notification Info is sent to SW")):this.logger.info("Notifications are not allowed"),this.makeResult(JSON.stringify(this.success)))))}clearNotificationsQueue(It){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,e.K)(Nt=>this.makeResult(JSON.stringify(this.error))),(0,i.zg)(Nt=>(Nt&&this.serviceWorkerService.postMessageSw({type:n.rL.UiPushNotification,content:JSON.stringify({clear:It.payload.clear})}),this.makeResult(JSON.stringify(this.success)))))}showClientNotification(It){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,e.K)(Nt=>this.makeResult(JSON.stringify(this.error))),(0,i.zg)(Nt=>this.canSendNotification(Nt)?this.isFullScreenAndVisible()?(this.logger.info("Cannot send Notifications when screen is fullscreen & visible"),this.makeResult(JSON.stringify({_return_internal:st.InternalErrorCodeEnum.Error_NotFullScreen}))):(this.serviceWorkerService.postMessageSw({type:n.rL.UiPushNotification,content:JSON.stringify({title:It.payload.title,body:It.payload.body,direction:It.payload.direction,language:It.payload.language,tag:It.payload.tag,silent:It.payload.silent})}),this.logger.info("Notifications are sent to SW"),this.makeResult(String(this.success._return_internal))):(this.logger.info("Cannot send Notification as permission is not given"),this.makeResult(JSON.stringify({_return_internal:st.InternalErrorCodeEnum.Error_PermissionNotGiven})))))}canSendNotification(It){return It&&Notification.permission===gt.Granted}isFullScreenAndVisible(){return this.browserSupportService.isFullscreen()&&this.isDocumentVisible}}return(pt=yt).\u0275fac=function(It){return new(It||pt)(u.LFG(f.ed),u.LFG(W.OA),u.LFG(n.HR),u.LFG(J.m3))},pt.\u0275prov=u.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),yt})(),multi:!0}]},31114:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>L});var e=t(61699);let L=(()=>{var f;class x{}return(f=x).\u0275fac=function(u){return new(u||f)},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac}),x})()},520:(Dt,ct,t)=>{"use strict";t.d(ct,{D:()=>u});var e=t(9681),i=t(33994),L=t(61699),f=t(31114);function x(g){return[g.system,g.module,g.method,g.legacyCommand].join(".")}let u=(()=>{var g;class h{constructor(E){this.bridgeConfig=E,this.responses={},this.persistentResponses={},this.errors={},this.configMocks={},this.callData={};for(const w of Object.values(E.mocks))this.configMocks[x(w.command)]=w.return}createResponse(E,w){const p=x(E);delete this.errors[p],this.responses[p]=w}createResponseSequence(E,w){const p=x(E);delete this.errors[p],this.responses[p]=w}createPersistentResponse(E,w){if(!E.persistent)throw new Error("Can only create a persistent response for persistent commands");{const p=x(E);delete this.errors[p],this.persistentResponses[p]=w}}createErrorResponse(E,w){const p=x(E);delete this.responses[p],this.errors[p]=w}executeCommand(E,w){const p=x(E);this.cacheCallData(p,w);let V=(0,e.of)(void 0);return p in this.errors?V=(0,i._)(this.errors[p]):p in this.responses?V=Array.isArray(this.responses[p])?(0,e.of)(this.responses[p].shift()):(0,e.of)(this.responses[p]):p in this.configMocks?V=(0,e.of)(this.configMocks[p]):p in this.persistentResponses&&(V=this.persistentResponses[p]),V}hasOverrideMock(E){const w=x(E);return w in this.responses||w in this.persistentResponses}hasErrorMock(E){return x(E)in this.errors}hasConfigMock(E){return x(E)in this.configMocks}hasMock(E){const w=this.hasOverrideMock(E)||this.hasConfigMock(E)||this.hasErrorMock(E);return this.bridgeConfig.isUnitTestConfig&&!w&&console.error("No mock provided for: "+x(E)),w}cacheCallData(E,w){this.bridgeConfig.cacheMockedCallData&&(E in this.callData||(this.callData[E]={count:0,params:[]}),this.callData[E].count++,this.callData[E].params.push(w))}resetCallData(){this.callData={}}getCallData(E){const w=x(E);return w in this.callData?this.callData[w]:{count:0,params:[]}}}return(g=h).\u0275fac=function(E){return new(E||g)(L.LFG(f.N))},g.\u0275prov=L.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),h})()},90803:(Dt,ct,t)=>{"use strict";t.d(ct,{d:()=>f});var e=t(61699),i=t(27597),L=t(520);let f=(()=>{var x;class S{constructor(g,h){this.logger=g,this.bridgeMockService=h}makeFullBridgeCommand(g,h,O){return{command:g.legacyCommand,system:g.system,module:g.module,method:g.method,payload:h,...O?h:null}}unpackReturnPayload(g){try{const h=JSON.parse(g);return"object"==typeof h&&"reference_uniqueid"in h&&"method"in h&&"payload"in h?h.payload:h}catch{return g}}handleSuccess(g,h,O){switch(O){case"true":g.next(!0);break;case"false":g.next(!1);break;default:g.next(this.unpackReturnPayload(O))}h||g.complete()}handleFailure(g,h,O,E,w){const p={code:O,message:E,isCancelled:204===O,request:h};this.logger.info(`Bridge Query returned error code ${O}: ${E}. Command: ${JSON.stringify(w?h:h.command)}`),g.error(p)}executeCommand(g,h,O=!0){return this.bridgeMockService.hasMock(g)?this.bridgeMockService.executeCommand(g,h):this.executeCommandInternal(g,h,O)}}return(x=S).\u0275fac=function(g){return new(g||x)(e.LFG(i.Yd),e.LFG(L.D))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),S})()},36125:(Dt,ct,t)=>{"use strict";t.d(ct,{RW:()=>b,nr:()=>P,q9:()=>a,m1:()=>o,NQ:()=>tt.N,dF:()=>e.d,Km:()=>j,nM:()=>l,U5:()=>n});var e=t(90803),i=t(61699),L=t(56293),f=t(27597),x=t(520);let S=(()=>{var ot;class F extends e.d{constructor(z,Q,dt){super(z.getLogger("crimson/cef"),dt),this.ngZone=Q}static isCefPlatform(){return"cefQuery"in window}executeCommandInternal(z,Q,dt){const X=this.makeFullBridgeCommand(z,Q,z.legacyCommand!==F.EXTENSION_MESSAGE),m=JSON.stringify(X),Y=window.cefQuery;return new L.y(D=>{if(Y)Y({request:m,persistent:z.persistent,onSuccess:N=>{i.R0b.isInAngularZone()?this.handleSuccess(D,z.persistent,N):this.ngZone.run(()=>{this.handleSuccess(D,z.persistent,N)})},onFailure:(N,Z)=>{i.R0b.isInAngularZone()?this.handleFailure(D,X,N,Z,dt):this.ngZone.run(()=>{this.handleFailure(D,X,N,Z,dt)})}});else{const N=m;this.logger.error(N),this.handleFailure(D,X,500,N,dt)}})}}return(ot=F).EXTENSION_MESSAGE="QUERY_IPC_EXTENSION_MESSAGE",ot.\u0275fac=function(z){return new(z||ot)(i.LFG(f.ed),i.LFG(i.R0b),i.LFG(x.D))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac}),F})();var u=t(9681),g=t(58175),h=t(87965);let O=(()=>{var ot;class F{constructor(z){this._plugins=z}get plugins(){return this._plugins}getPlugin(z){return this._plugins.find(Q=>Q instanceof z)}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.LFG(Array))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),F})(),E=(()=>{var ot;class F extends e.d{constructor(z,Q,dt,X){super(z,X),this.primaryManager=Q,this.fallbackManager=dt,this.handlerMap=new Map,this.buildHandlerMap()}buildHandlerMap(){var z;null===(z=this.fallbackManager)||void 0===z||null===(z=z.plugins)||void 0===z||z.forEach(Q=>{const dt=Q.handlers;this.handlerMap.set(dt.module,dt.commands)});for(const Q of this.primaryManager.plugins){const dt=Q.handlers;this.handlerMap.set(dt.module,dt.commands)}}getHandlerForMethod(z,Q){const dt=this.handlerMap.get(z);return dt?dt[Q]:null}executeCommandUsingPlugin(z,Q,dt){const X=this.makeFullBridgeCommand(z,Q,z.legacyCommand!==F.EXTENSION_MESSAGE),m=this.getHandlerForMethod(X.module,X.method);return m?new L.y(Y=>{m(X).pipe((0,g.K)(D=>(this.logger.info("failed to execute",z.legacyCommand,D),new L.y(N=>{this.handleFailure(N,X,D.code,D.error,dt)}))),(0,h.zg)(D=>new L.y(N=>{this.handleSuccess(N,X.persistent,D.data)}))).subscribe(D=>Y.next(D),D=>Y.error(D),()=>Y.complete())}):(this.logger.info("plugin does not have handler for",X.module,X.method),(0,u.of)(null))}}return(ot=F).EXTENSION_MESSAGE="QUERY_IPC_EXTENSION_MESSAGE",ot.\u0275fac=function(z){return new(z||ot)(i.LFG(f.Yd),i.LFG(O),i.LFG(O),i.LFG(x.D))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac}),F})();var w=t(77869),p=t(33994),V=t(47422);class c{createSuccessResponse(F){return{success:!0,code:200,data:F}}createErrorResponse(F,U){return{success:!1,code:F,error:U}}makeError(F,U){return(0,p._)(this.createErrorResponse(F,U))}makeResult(F){return(0,u.of)(this.createSuccessResponse(F))}makePersistentResult(F){return F.pipe((0,V.U)(U=>this.createSuccessResponse(U)))}}class l extends c{static get browserInstanceId(){return this._browserInstanceId}}l._browserInstanceId=(0,w.Rl)(!0);const o=new i.OlP("BrowserPlugins");let n=(()=>{var ot;class F extends O{constructor(z){super(z||[])}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.LFG(o,8))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),F})(),s=(()=>{var ot;class F extends E{constructor(z,Q,dt){super(z.getLogger("crimson/browser"),Q,void 0,dt)}executeCommandInternal(z,Q,dt){const X=this.makeFullBridgeCommand(z,Q,z.legacyCommand!==E.EXTENSION_MESSAGE);return this.handlerMap.has(X.module)?this.executeCommandUsingPlugin(z,Q,dt):(this.logger.info("Command not found",JSON.stringify(dt?X:X.command)),(0,u.of)(null))}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.LFG(f.ed),i.LFG(n),i.LFG(x.D))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac}),F})(),R=(()=>{var ot;class F extends e.d{constructor(z,Q,dt){super(z.getLogger("crimson/yggdrasil"),dt),this.ngZone=Q}executeCommandInternal(z,Q){return new L.y(dt=>{dt.next(null),dt.complete()})}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.LFG(f.ed),i.LFG(i.R0b),i.LFG(x.D))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac}),F})();var _=t(58556);const b=new i.OlP("AndroidPlugins");let I=(()=>{var ot;class F extends O{constructor(z){super(z||[])}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.LFG(b,8))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),F})();var y,M;class a extends c{static get androidInstanceId(){return this._androidInstanceId}}a._androidInstanceId=(0,w.Rl)(!0);class P{constructor(F,U){this.ngZone=U,Android.dispatch=this.dispatch.bind(this),Android.unregisterHandler=this.unregisterHandler.bind(this)}dispatch(F){if(!P.handlerMap[F.handlerId])throw new Error(`Cannot find handler Id=${F.handlerId}.`);const U=P.handlerMap[F.handlerId];this.parseResponse(U.observer,F.args),U.persistent||delete P.handlerMap[F.handlerId]}parseResponse(F,U){const z=JSON.parse(U),dt=z.errorCode,X=z.errorMessage;if(z.successful){const Y={response:z.response};i.R0b.isInAngularZone()?F.next(Y):this.ngZone.run(()=>{F.next(Y)})}else{const Y={errorCode:dt,errorMessage:X};i.R0b.isInAngularZone()?F.error(Y):this.ngZone.run(()=>{F.error(Y)})}}unregisterHandler(F){if(!P.handlerMap[F.handlerId])throw new Error(`Cannot find handler Id=${F.handlerId}.`);P.handlerMap[F.handlerId].observer.complete(),delete P.handlerMap[F.handlerId]}doesCommandExist(F,U){return Android.hasCommand&&Android.hasCommand(F,U)}executeCommandNative(F,U,z){const dt={request:JSON.stringify(F),persistent:U,handlerId:P.IdGenerator.next()},X=JSON.stringify(dt),m=new L.y(Y=>{P.handlerMap[dt.handlerId]={observer:Y,persistent:U}});return Android.executeCommand(X),m}}(y=P).IdGenerator=((M=class{static next(){return++this.count}}).count=0,M),y.handlerMap={},y.\u0275fac=function(F){return new(F||y)(i.LFG(f.ed),i.LFG(i.R0b))},y.\u0275prov=i.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"});let K=(()=>{var ot;class F extends E{static requiresNativeImplementation(z){return F.REQUIRES_NATIVE_IMPL.includes(z)}constructor(z,Q,dt,X,m){super(z.getLogger("crimson/android"),Q,dt,m),this.androidHelperService=X}executeCommandInternal(z,Q,dt){const X=this.makeFullBridgeCommand(z,Q,z.legacyCommand!==F.EXTENSION_MESSAGE),m=JSON.stringify(X);return _.n.isAndroidPlatform()?this.androidHelperService.doesCommandExist(z.module,z.method)?new L.y(D=>{this.androidHelperService.executeCommandNative(X,z.persistent,dt).subscribe(Z=>{this.handleSuccess(D,z.persistent,Z.response)},Z=>{this.handleFailure(D,X,Z.errorCode,Z.errorMessage,dt)},()=>{this.logger.info("callback complete")})}):!F.requiresNativeImplementation(X.module)&&this.handlerMap.has(X.module)?this.executeCommandUsingPlugin(z,Q,dt):(this.logger.info("Command not found",JSON.stringify(dt?X:X.command)),(0,u.of)(null)):new L.y(Y=>{const D=m;this.logger.error(D),this.handleFailure(Y,X,500,D,dt)})}}return(ot=F).REQUIRES_NATIVE_IMPL=[],ot.\u0275fac=function(z){return new(z||ot)(i.LFG(f.ed),i.LFG(I),i.LFG(n),i.LFG(P),i.LFG(x.D))},ot.\u0275prov=i.Yz7({token:ot,factory:ot.\u0275fac}),F})();const j={provide:e.d,useFactory:function B(ot,F,U,z){if(_.n.isCefPlatform())return new S(ot,F,U);if(_.n.isAndroidPlatform()){const Q=z.get(n),dt=z.get(I),X=z.get(P);return new K(ot,dt,Q,X,U)}if(_.n.isBrowserPlatform()){const Q=z.get(n);return new s(ot,Q,U)}return new R(ot,F,U)},deps:[f.ed,i.R0b,x.D,i.zs3]};var tt=t(31114)},35662:(Dt,ct,t)=>{"use strict";t.d(ct,{r:()=>L});var e=t(49481),i=t(61699);let L=(()=>{var f;class x{constructor(){this.leanModeTransitionSub=new e.t(1)}get leanModeTransitionState(){return this.leanModeTransitionSub.asObservable()}enableLeanMode(){this.leanModeTransitionSub.next(!0)}disableLeanMode(){this.leanModeTransitionSub.next(!1)}}return(f=x).\u0275fac=function(u){return new(u||f)},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),x})()},23323:(Dt,ct,t)=>{"use strict";t.d(ct,{i:()=>b});var e=t(36125),i=t(27597),L=t(68386),f=t(520),x=t(26575),S=t(86098),O=(t(39097),t(91903),t(64915),t(61699));t(81737),t(11296);let b=(()=>{var I;class q{static configure(y){return{ngModule:q,providers:[x.uU,{provide:i.nN,useValue:y.logger},{provide:e.NQ,useValue:y.bridge},{provide:L.A,useValue:y.window},{provide:S.b,useValue:y.locale},f.D,e.Km]}}}return(I=q).\u0275fac=function(y){return new(y||I)},I.\u0275mod=O.oAB({type:I}),I.\u0275inj=O.cJS({}),q})()},11296:(Dt,ct,t)=>{"use strict";t.d(ct,{r:()=>x});var e=t(47520),i=t(61699);const f=["ngClass.lt-400","ngClass.lt-360","ngClass.iphone","ngClass.ipad","ngClass.handset"];let x=(()=>{var S;class u extends e.jo{constructor(){super(...arguments),this.inputs=f}}return(S=u).\u0275fac=function(){let g;return function(O){return(g||(g=i.n5z(S)))(O||S)}}(),S.\u0275dir=i.lG2({type:S,selectors:[["","ngClass.lt-400",""],["","ngClass.lt-360",""],["","ngClass.iphone",""],["","ngClass.ipad",""],["","ngClass.handset",""]],inputs:{"ngClass.lt-400":"ngClass.lt-400","ngClass.lt-360":"ngClass.lt-360","ngClass.iphone":"ngClass.iphone","ngClass.ipad":"ngClass.ipad","ngClass.handset":"ngClass.handset"},features:[i.qOj]}),u})()},81737:(Dt,ct,t)=>{"use strict";t.d(ct,{W:()=>x});var e=t(47520),i=t(61699);const f=["fxShow.lt-400","fxShow.lt-360","fxShow.lt-340","fxShow.iphone","fxHide.lt-400","fxHide.lt-360","fxHide.lt-340","fxHide.iphone"];let x=(()=>{var S;class u extends e.Pe{constructor(){super(...arguments),this.inputs=f}}return(S=u).\u0275fac=function(){let g;return function(O){return(g||(g=i.n5z(S)))(O||S)}}(),S.\u0275dir=i.lG2({type:S,selectors:[["","fxShow.lt-400",""],["","fxShow.lt-360",""],["","fxShow.lt-340",""],["","fxShow.iphone",""],["","fxHide.lt-400",""],["","fxHide.lt-360",""],["","fxHide.lt-340",""],["","fxHide.iphone",""]],inputs:{"fxShow.lt-400":"fxShow.lt-400","fxShow.lt-360":"fxShow.lt-360","fxShow.lt-340":"fxShow.lt-340","fxShow.iphone":"fxShow.iphone","fxHide.lt-400":"fxHide.lt-400","fxHide.lt-360":"fxHide.lt-360","fxHide.lt-340":"fxHide.lt-340","fxHide.iphone":"fxHide.iphone"},features:[i.qOj]}),u})()},86098:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>i});var e=t(61699);let i=(()=>{var L;class f{}return(L=f).\u0275fac=function(S){return new(S||L)},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac}),f})()},62906:(Dt,ct,t)=>{"use strict";t.d(ct,{G:()=>e});var e=function(i){return i[i.None=-1]="None",i[i.Error=1]="Error",i[i.Warning=2]="Warning",i[i.Info=3]="Info",i[i.Trace=4]="Trace",i[i.Verbose=5]="Verbose",i[i.Event=6]="Event",i}(e||{})},27597:(Dt,ct,t)=>{"use strict";t.d(ct,{Yd:()=>u,ed:()=>g,nN:()=>S});var e=t(77869),i=t(62906),L=t(61699),f=t(26575),x=t(59115);let S=(()=>{var h;class O{}return(h=O).\u0275fac=function(w){return new(w||h)},h.\u0275prov=L.Yz7({token:h,factory:h.\u0275fac}),O})();class u{constructor(O,E,w,p,V,c){this.name=O,this.loggingLevel=E,this.datePipe=w,this.remoteLoggingService=p,this.remoteLoggingEnabled=V,this.consoleLoggingEnabled=c,this.remoteLogging=V,this.consoleLogging=c}error(...O){this.logEntry(i.G.Error,O,console.error.bind(console))}warn(...O){this.logEntry(i.G.Warning,O,console.warn.bind(console))}info(...O){this.logEntry(i.G.Info,O,console.log.bind(console))}verbose(...O){this.logEntry(i.G.Verbose,O,console.log.bind(console))}event(...O){this.logEntry(i.G.Event,O,console.log.bind(console))}trace(...O){this.logEntry(i.G.Trace,O,console.log.bind(console))}updateLogger(O,E){this.remoteLogging=O,this.consoleLogging=E}logEntry(O,E,w){if(this.loggingLevel<O)return;let p="";p=O===i.G.Trace?(0,e.M_)(this.name,i.G[O].toUpperCase(),this.datePipe,E):(0,e.gF)(this.name,i.G[O].toUpperCase(),this.datePipe,E),this.consoleLogging&&w(p),this.remoteLogging&&this.remoteLoggingService.collectLogString(p)}}let g=(()=>{var h;class O{constructor(w,p,V){this.config=w,this.datePipe=p,this.remoteLoggingService=V,this.loggingLevelOverrides={},this.loggers={},this.remoteLoggingEnabled=!1,this.consoleLoggingEnabled=!0,this.loggingLevelOverrides=t(26863)}updateLoggers(){Object.values(this.loggers).forEach(w=>{w.updateLogger(this.remoteLoggingEnabled,this.consoleLoggingEnabled)})}getLoggingLevel(w){return i.G[this.loggingLevelOverrides[w]]||this.config.defaultLoggingLevel}initialize(w,p){w&&this.remoteLoggingService.initialize(),(this.remoteLoggingEnabled!==w||this.consoleLoggingEnabled!==p)&&(this.remoteLoggingEnabled=w,this.consoleLoggingEnabled=p,this.consoleLoggingEnabled||console.clear(),this.updateLoggers())}getLogger(w){const p=this.getLoggingLevel(w);return this.config.appNamePrefix&&(w=this.config.appNamePrefix+"/"+w),this.loggers[w]||(this.loggers[w]=new u(w,p,this.datePipe,this.remoteLoggingService,this.remoteLoggingEnabled,this.consoleLoggingEnabled)),this.loggers[w]}}return(h=O).\u0275fac=function(w){return new(w||h)(L.LFG(S),L.LFG(f.uU),L.LFG(x.V))},h.\u0275prov=L.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),O})()},46699:(Dt,ct,t)=>{"use strict";t.d(ct,{_:()=>L});var e=t(61699),i=t(77869);let L=(()=>{var f;class x{constructor(u){this.networkStatusCheckService=u}get onlineStatusChanged(){return this.networkStatusCheckService.onlineStatusChanged()}get isOnline(){return this.networkStatusCheckService.isOnline()}}return(f=x).\u0275fac=function(u){return new(u||f)(e.LFG(i.kE))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),x})()},39097:(Dt,ct,t)=>{"use strict";t.d(ct,{$:()=>f});var e=t(77869),i=t(61699),L=t(43559);let f=(()=>{var x;class S{constructor(g){this.translate=g}translateText(g,h){return this.translate.instant(g,h)}transform(g){try{const h=Math.round(g);if(!g||!h||g<0)return this.translateText("main.byte",{value:0});const O=1;if(1===g||1===h)return this.translateText("main.byte",{value:g});if(isNaN(parseFloat(g.toString(10)))||!isFinite(g))return"-";const E=["main.bytes","main.kb","main.mb","main.gb","main.tb"],w=Math.floor(Math.log(g)/Math.log(1024));return this.translateText(E[w],{value:(g/Math.pow(1024,Math.floor(w))).toFixed(O)})}catch(h){throw(0,e.c1)(S,h.message)}}}return(x=S).\u0275fac=function(g){return new(g||x)(i.Y36(L.sK,16))},x.\u0275pipe=i.Yjl({name:"convertBytesToKBMBGB",type:x,pure:!0}),S})()},91903:(Dt,ct,t)=>{"use strict";t.d(ct,{WD:()=>S,Yt:()=>g,_x:()=>f});var e=t(77869),i=t(61699),L=t(43559);let f=(()=>{var h;class O{constructor(w){this.translate=w}translateText(w,p){return this.translate.instant(w,p)}transform(w,p){if(!w)return"";try{const V=parseInt(w,10),c=Math.floor(V/3600),C=Math.floor((V-3600*c)/60),l=V-3600*c-60*C;let o="";if(c){const n=this.translateText(1===c?"main.hr":p&&c>=2?"main.aboutHrs":"main.hrs",{value:c});o=p&&c>=2?n:n+" "}return!C||p&&c>=2||(o=o+this.translateText(1===C?"main.min":"main.mins",{value:C})+" "),!l||p&&c||(o+=this.translateText(1===l?"main.sec":"main.secs",{value:l})),o}catch(V){throw(0,e.c1)(O,V.message)}}}return(h=O).\u0275fac=function(w){return new(w||h)(i.Y36(L.sK,16))},h.\u0275pipe=i.Yjl({name:"convertSecondsToTime",type:h,pure:!0}),O})(),S=(()=>{var h;class O{transform(w,p=""){return function x(h,O=""){const E=parseFloat(h);let w=parseInt(h,10),p=Math.floor(w/3600);w%=3600;let V=Math.floor(w/60);w%=60,p<10&&(p=`0${p}`),V<10&&(V=`0${V}`),w<10&&(w=`0${w}`);let c="";return O.includes("fractional")&&(c=Math.round(E%1*1e3),c<10?c=`00${c}`:c<100&&(c=`0${c}`),c=`.${c}`),`${p}:${V}:${w}${c}`}(w,p)}}return(h=O).\u0275fac=function(w){return new(w||h)},h.\u0275pipe=i.Yjl({name:"time",type:h,pure:!0}),O})(),g=(()=>{var h;class O{transform(w){return function u(h){const O=h.toString().split(":");let E=0,w=0,p=0;return O.length>2?(E=parseFloat(O[0]),w=parseFloat(O[1]),p=parseFloat(O[2])):O.length>1?(w=parseFloat(O[0]),p=parseFloat(O[1])):p=parseFloat(O[0]),3600*E+60*w+p}(w)}}return(h=O).\u0275fac=function(w){return new(w||h)},h.\u0275pipe=i.Yjl({name:"seconds",type:h,pure:!0}),O})()},64915:(Dt,ct,t)=>{"use strict";t.d(ct,{W:()=>f});var e=t(77869),i=t(61699),L=t(36480);let f=(()=>{var x;class S{constructor(g){this.sanitizer=g}transform(g,h){try{return"url"===h?this.sanitizer.bypassSecurityTrustResourceUrl(g):this.sanitizer.bypassSecurityTrustHtml(g)}catch(O){throw(0,e.c1)(S,O.message)}}}return(x=S).\u0275fac=function(g){return new(g||x)(i.Y36(L.H7,16))},x.\u0275pipe=i.Yjl({name:"trustAsHtml",type:x,pure:!0}),S})()},58556:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>L});var e=t(77869),i=t(41164);class L{constructor(){}static isBrowserPlatform(){return!("cefQuery"in window)&&!L.isAndroidPlatform()}static isCefPlatform(){return"cefQuery"in window}static isAndroidPlatform(){return typeof window.Android<"u"&&"function"==typeof window.Android.isAndroid&&window.Android.isAndroid()}static isBrowserLikePlatform(){return L.isBrowserPlatform()||L.isAndroidPlatform()}static isNativeLikePlatform(){return L.isCefPlatform()||L.isAndroidPlatform()}static isPWAModeOnLGTV(){return/(NetCast|Web0S|Linux\/SmartTV).+PWA/.test(navigator.userAgent)}static isPWAModeOnSamsungTV(){return(0,e.fO)()&&!navigator.userAgent.includes("SamsungBrowser")}static isArmPlatform(){return window.navigator.userAgent.toLowerCase().includes(" arm")}static isTouchPlatform(){return!!window.Touch&&navigator.maxTouchPoints>0}static isMobileFromUserAgent(){return navigator.userAgent.toLowerCase().includes("mobile")}static isVisionPro(x){return x.OSName===i.wi.IPadOS&&"VISIONPRO"===x.SystemName}static isAndroidQuest(x){return L.isAndroidPlatform()&&"oculus"===x.VendorName&&x.SystemName.startsWith("Quest")}}},41164:(Dt,ct,t)=>{"use strict";t.d(ct,{Aq:()=>f,Px:()=>x,wi:()=>L,z7:()=>i});var i=function(S){return S.Desktop="Desktop",S.Laptop="Laptop",S.TV="TV",S.Phone="Phone",S.Tablet="Tablet",S.Server="Server",S.Console="Console",S.Undefined="undefined",S}(i||{}),L=function(S){return S.Windows="Windows",S.MacOS="MacOS",S.Shield="Shield",S.Android="Android",S.IOS="iOS",S.IPadOS="iPadOS",S.ChromeOS="ChromeOS",S.Linux="Linux",S.Tizen="Tizen",S.WebOS="WebOS",S.TvOS="tvOS",S.XBox="Xbox",S.SteamOS="SteamOS",S.VisionOS="visionOS",S.Undefined="undefined",S}(L||{}),f=function(S){return S.CHROME="Chrome",S.SAFARI="Safari",S.YANDEX="Yandex",S.EDGE="Edge",S.EDGE_LEGACY="Edge_legacy",S.FIREFOX="Firefox",S.SAMSUNG="Samsung",S.CHROMIUM="Chromium",S.OPERA="Opera",S.BRAVE="Brave",S.SILK="Silk",S.Undefined="undefined",S}(f||{});const x="undefined"},18819:(Dt,ct,t)=>{"use strict";t.d(ct,{Px:()=>u,Tv:()=>g,Ty:()=>S,iU:()=>h,nM:()=>x,sN:()=>f});var e=t(41164),i=t(36217);const f={clientId:"{CLIENTID}",clientVer:"{CLIENTVER}",feedbackId:"{FEEDBACKID}",feedbackName:"{FEEDBACKNAME}",feedbackProtocol:"4.4",feedbackSchemaVer:"{FEEDBACKSCHEMAVER}",feedbackSysVer:"",deviceId:i.kQ,userId:i.kQ,externalUserId:i.kQ,idpId:i.kQ,sessionId:i.kQ,sentTs:"",clientTs:"",deviceOS:e.wi.Undefined,deviceOSVersion:i.kQ,deviceMake:i.kQ,deviceModel:i.kQ,deviceType:e.z7.Undefined,clientType:i.Bh.Undefined,clientVariant:i.ns.Undefined,browserType:i.kQ,integrationId:i.kQ,productName:i.kQ,productVersion:i.kQ},x={functional:i.p6.None,technical:i.p6.None,behavioral:i.p6.None},S={bufferSize:5120,chunkCreationTimeout:3e5,chunksQueueSize:20,chunkResendRetryLimit:2},u="undefined";var g=function(O){return O[O.FeedbackRequestAccepted=200]="FeedbackRequestAccepted",O[O.FeedbackSizeOverLimits=413]="FeedbackSizeOverLimits",O[O.InvalidFeedback=460]="InvalidFeedback",O[O.FeedbackIdInUse=461]="FeedbackIdInUse",O[O.FeedbackIdExpired=462]="FeedbackIdExpired",O[O.AttachmentsRejected=466]="AttachmentsRejected",O[O.UnknownClientId=467]="UnknownClientId",O[O.ServerError=500]="ServerError",O}(g||{}),h=function(O){return O[O.AllFramesReceived=200]="AllFramesReceived",O[O.PartialFramesReceived=206]="PartialFramesReceived",O[O.InvalidFeedbackId=462]="InvalidFeedbackId",O[O.NonSequentialChunk=463]="NonSequentialChunk",O[O.FrameChecksumOrSizeMismatch=464]="FrameChecksumOrSizeMismatch",O[O.ServerError=500]="ServerError",O}(h||{})},36217:(Dt,ct,t)=>{"use strict";t.d(ct,{Bh:()=>i,kQ:()=>e,ns:()=>L,p6:()=>f});const e="undefined";var i=function(x){return x.Native="Native",x.Browser="Browser",x.GFNSDK="GFNSDK",x.Undefined="undefined",x}(i||{}),L=function(x){return x.iBeta="iBeta",x.Release="Release",x.Undefined="undefined",x}(L||{}),f=function(x){return x.Full="Full",x.None="None",x.Temp="Temp",x}(f||{})},44113:(Dt,ct,t)=>{"use strict";t.d(ct,{p:()=>w});var e=t(32484),i=t(47178),f=t(77869),x=t(69318),S=t(18819),u=t(61699),g=t(26575),h=t(46699),O=t(35662);const E="RemoteLogsSaveKey";let w=(()=>{var p;class V{constructor(C,l,o,n){this.datePipe=C,this.networkStatusService=l,this.injector=o,this.browserLeanModeService=n,this.logsBuffer="",this.chunksQueue=[],this.maxBufferSizeInBytes=S.Ty.bufferSize,this.chunkCreationTimeout=S.Ty.chunkCreationTimeout,this.logsChunkUpdated$=new e.xQ,this.chunksQueueSize=S.Ty.chunksQueueSize,this.chunkResendRetryLimit=S.Ty.chunkResendRetryLimit,this.logBufferingAllowed=!0,this.leanModeLogger=!1,this.isGfcHeadRequestSent=!1,this.timerSub$=new e.xQ,this.isTimerTriggered=!1,this.refreshFeedbackSessionSubject=new e.xQ,this.timeBasedLogClearanceCounter=0,this.feedbackSessionClosed=!1,this.newLine="\n",this.chunkSendInProgress=!1}initialize(){this.chunkResendRetryMap=new Map,this.addLogger("LogQueueService",["initialize"]),this.networkStatusService.onlineStatusChanged.subscribe(this.onNetworkStatusChanged.bind(this)),this.browserLeanModeService.leanModeTransitionState.subscribe(C=>{this.leanModeLogger=C,C&&this.stopTimeBasedLogCollection()})}addLogger(C,l){const o=(0,f.gF)(C,"INFO",this.datePipe,l);this.appendLogEntry(o)}setHeadRequestStatus(C){this.isGfcHeadRequestSent=C}checkFeasibilityAndSendChunk(C,l=!1,o){!this.isUserConsentAvailable||!this.isGfcHeadRequestSent||l||this.chunkSendInProgress||(0,i.isEmpty)(C)?this.isUserConsentAvailable&&l&&this.logsChunkUpdated$.next({logString:this.sendChunkToServer(C),isLastChunk:l,params:o}):this.logsChunkUpdated$.next({logString:this.sendChunkToServer(C),isLastChunk:!1})}startTimeBasedLogDispatch(){if(this.addLogger("LogQueueService",["Interval of 10 mins elapsed: current buffer length: ",this.logsBuffer.length]),this.addLogger("LogQueueService",["Chunk send in progress: ",this.chunkSendInProgress]),!1===this.chunkSendInProgress){this.refreshFeedbackSessionSubject.next(++this.timeBasedLogClearanceCounter),this.addLogger("LogQueueService",["Clearing chunk on timeout... "]);const C=this.extractAndSaveChunk();this.checkFeasibilityAndSendChunk(C)}}stopTimeBasedLogCollection(C=""){this.isTimerTriggered=!1,this.timerSub$.next({startTimer:!1,timeout:0}),this.addLogger("LogQueueService",["Stopping log collection timer. "+C])}isBufferSizeWithinLimits(C,l){return!(C.concat(l,this.newLine).length>this.maxBufferSizeInBytes)}sendChunkToServer(C){return this.chunkSendInProgress=!0,C||""}addChunksToQueue(C){this.chunksQueue.length===this.chunksQueueSize&&this.chunksQueue.splice(0,this.chunksQueue.length),this.chunksQueue.push(C),this.chunkResendRetryMap.set(this.chunksQueue[this.chunksQueue.length-1],0)}extractAndSaveChunk(){const C=this.logsBuffer.slice(0);return this.addChunksToQueue(C),this.logsBuffer="",this.popChunkFromQueue()}pushLogToBuffer(C){this.logsBuffer=this.logsBuffer.concat(C,this.newLine)}startTimer(){this.leanModeLogger||(this.timerSub$.next({startTimer:!0,timeout:this.chunkCreationTimeout}),this.isTimerTriggered=!0)}popChunkFromQueue(){const C=this.chunkResendRetryMap.get(this.chunksQueue[0]);return this.isUserConsentAvailable&&this.isGfcHeadRequestSent&&C<=this.chunkResendRetryLimit?(this.chunkResendRetryMap.set(this.chunksQueue[0],C+1),this.chunksQueue.slice(0,1).toString()):(this.isUserConsentAvailable&&this.isGfcHeadRequestSent&&C>this.chunkResendRetryLimit&&this.removeChunkFromSavedQueue(),"")}saveLogsToSessionStorage(){this.addChunksToQueue(this.logsBuffer);const C=JSON.stringify(this.chunksQueue);sessionStorage.setItem(E,C)}readConsoleLogsFromSessionStorage(){const C=JSON.parse(sessionStorage.getItem(E));sessionStorage.removeItem(E),this.appendPreviousLogs(C)}appendPreviousLogs(C){this.chunkResendRetryMap&&this.chunkResendRetryMap.clear(),C=C.concat(this.chunksQueue),this.chunksQueue=C.length>this.chunksQueueSize?C.slice(-this.chunksQueueSize):C;for(let l=0;l<this.chunksQueue.length;l++)this.chunkResendRetryMap.set(this.chunksQueue[l],0)}removeChunkFromSavedQueue(){this.chunkResendRetryMap.delete(this.chunksQueue[0]),this.chunksQueue.splice(0,1)}onNetworkStatusChanged(C){C?this.addLogger("LogQueueService",["LogCollector lib is online right now"]):(this.addLogger("LogQueueService",["LogCollector lib is offline right now"]),this.stopTimeBasedLogCollection())}updateFeedbackSessionStatus(C){this.feedbackSessionClosed=C}getRefreshFeedbackSubjectObservable(){return this.refreshFeedbackSessionSubject.asObservable()}onLogsChunkUpdated(){return this.logsChunkUpdated$.asObservable()}clearQueueAndBuffer(C){const l=this.chunkSendInProgress;this.chunkSendInProgress=!0,this.gfcService=(0,i.isUndefined)(this.gfcService)?this.injector.get(x.H0):this.gfcService;let o="";this.chunksQueue.forEach(n=>{o=o.concat(n,this.newLine)}),o=o.concat(this.logsBuffer,this.newLine),this.logBufferingAllowed&&this.isUserConsentAvailable&&(C?(o=o.concat("sendBeacon api is going to be called."),this.gfcService.sendLastFeedbackChunkEvent(o,this.eventData)):(o=o.concat("eob request will be sent for the last chunk."),this.checkFeasibilityAndSendChunk(o,!0,{isBrowserClosing:C,prevChunkInProgress:l}))),this.logsBuffer="",this.chunksQueue=[],this.chunkSendInProgress=!1,this.eventData=null}appendLogEntry(C){if(this.logBufferingAllowed)if(this.isBufferSizeWithinLimits(this.logsBuffer,C))this.pushLogToBuffer(C);else if(this.feedbackSessionClosed)this.feedbackSessionClosed=!1,this.timeBasedLogClearanceCounter=0,this.refreshFeedbackSessionSubject.next(this.timeBasedLogClearanceCounter),this.pushLogToBuffer(C);else{this.timeBasedLogClearanceCounter=0,this.isTimerTriggered&&this.stopTimeBasedLogCollection("due to buffer limit.");const l=this.extractAndSaveChunk();this.pushLogToBuffer(C),this.checkFeasibilityAndSendChunk(l)}}onSendChunkSuccess(){this.chunkSendInProgress=!1,this.removeChunkFromSavedQueue(),0!==this.chunksQueue.length?this.checkFeasibilityAndSendChunk(this.popChunkFromQueue()):this.startTimer()}onSendChunkFailure(C){switch(this.chunkSendInProgress=!1,C.status){case S.iU.NonSequentialChunk:case S.iU.FrameChecksumOrSizeMismatch:case S.iU.ServerError:this.checkFeasibilityAndSendChunk(this.popChunkFromQueue());break;default:console.log("Error encountered in sending chunks: ",C),C.status!==S.iU.InvalidFeedbackId&&this.checkFeasibilityAndSendChunk(this.popChunkFromQueue())}}stopChunkCollection(C=!1){this.logBufferingAllowed=C,this.stopTimeBasedLogCollection("Going to stop chunk collection. logBufferingAllowed: "+this.logBufferingAllowed+"."),this.clearQueueAndBuffer(!1)}setBufferConfig(C){this.chunkCreationTimeout=C.msBetweenChunkCreation,this.maxBufferSizeInBytes=C.maxBufferSizeInBytes,this.chunksQueueSize=C.chunksQueueSize,this.chunkResendRetryLimit=C.chunkResendRetryLimit}updateUserConsent(C){this.isUserConsentAvailable=C}updateEventData(C){this.eventData={...C}}timerSubscriptionChanged(){return this.timerSub$.asObservable()}updateTimer(C){"Timeout"===C?this.startTimeBasedLogDispatch():"Cleared"===C&&this.addLogger("LogQueueService",["Log collection timer has been stopped"])}ngOnDestroy(){this.logsBuffer=""}}return(p=V).\u0275fac=function(C){return new(C||p)(u.LFG(g.uU),u.LFG(h._),u.LFG(u.zs3),u.LFG(O.r))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},59115:(Dt,ct,t)=>{"use strict";t.d(ct,{V:()=>o});var e=t(47178),L=t(49481),f=t(9681),x=t(47422),S=t(87965),u=t(58175),g=t(90786),h=t(69318),O=t(77869),E=t(18819),w=t(36217),p=t(61699),V=t(44113),c=t(46699);let o=(()=>{var n;class s{constructor(_,b,I){this.injector=_,this.logQueueService=b,this.networkStatusService=I,this.defaultConsent=E.nM,this.currentUserConsent=E.nM,this.isUserConsentAvailable=!1,this.currentUserId=E.Px,this.externalUserId=E.Px,this.idpId=E.Px,this.commonFeedbackData=E.sN,this.isGfcHeadRequestSent=!1,this.isOnline=!1,this.chunkFailureCount=0,this.attachmentUploadedPermitted=!0,this.streamSubSessionIds=[],this.feedbackIdSubject=new L.t(1)}initialize(){this.logQueueService.initialize(),this.logQueueService.addLogger("RemoteLoggingService",["initialize"]),this.networkStatusService.onlineStatusChanged.subscribe(this.onNetworkStatusChanged.bind(this)),this.handleBrowserTabClosure(),this.getLatestLogsChunk(),this.trackIdleFeedbackSessions()}set defaultConsentLevel(_){this.defaultConsent=_}saveLogsToSessionStorage(){this.logQueueService.saveLogsToSessionStorage()}restoreSavedLogs(){return this.logQueueService.readConsoleLogsFromSessionStorage()}stopFeedbackUpload(){if(this.isChunkUploadPermitted()){var _,b;this.logQueueService.addLogger("RemoteLoggingService",["Close current feedback session."]),this.logQueueService.stopChunkCollection(!0),this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.logQueueService.updateFeedbackSessionStatus(!0),this.streamSubSessionIds.splice(0,this.streamSubSessionIds.length);const I={parameters:{streamSessionId:E.Px,streamSubSessionIds:this.streamSubSessionIds}};this.eventData=null!==(_=this.eventData)&&void 0!==_?_:{},this.eventData.parameters={...null===(b=this.eventData)||void 0===b?void 0:b.parameters,...I.parameters},this.commonFeedbackData={...this.commonFeedbackData,...this.eventData},this.logQueueService.updateEventData(this.eventData)}}trackIdleFeedbackSessions(){this.logQueueService.getRefreshFeedbackSubjectObservable().pipe((0,x.U)(_=>{3===_?(this.logQueueService.addLogger("RemoteLoggingService",["Stopping feedback upload since max idle timeout duration is reached"]),this.stopFeedbackUpload()):0===_&&(this.logQueueService.addLogger("RemoteLoggingService",["Initiating a new feedback session.."]),this.sendNewGfcHeadRequest())})).subscribe()}onNetworkStatusChanged(_){this.isOnline=_}addGdprConsentFields(){var _;const b={gdprFuncOptIn:null!==(_=this.currentUserConsent.functional)&&void 0!==_?_:this.defaultConsent.functional,gdprTechOptIn:this.currentUserConsent.technical,gdprBehOptIn:this.currentUserConsent.behavioral,deviceGdprFuncOptIn:this.defaultConsent.functional,deviceGdprTechOptIn:this.defaultConsent.technical,deviceGdprBehOptIn:this.defaultConsent.behavioral};this.commonFeedbackData=(0,e.extend)(b,this.commonFeedbackData)}isChunkUploadPermitted(){return!!this.attachmentUploadedPermitted&&this.chunkFailureCount<=2}getLatestLogsChunk(){this.logChunkReceivedSubscription=this.logQueueService.onLogsChunkUpdated().pipe((0,S.zg)(_=>(this.logQueueService.addLogger("RemoteLoggingService",["New batch! Attempting to send a batch of size: ",_.logString.length]),this.isChunkUploadPermitted()?this.isOnline&&this.isUserConsentAvailable?this.sendLogsChunk(_.logString,_.isLastChunk,_.params):(this.logQueueService.chunkSendInProgress=!1,this.logQueueService.addLogger("RemoteLoggingService",["Unable to send batch of logs due to lack of user consent and/or user is offline. isUserConsentAvailable: ",this.isUserConsentAvailable,", isOnline: ",this.isOnline]),(0,f.of)(!1)):(this.logQueueService.addLogger("RemoteLoggingService",["Stopping log collection as max failure count is reached."]),this.logQueueService.stopChunkCollection(),(0,f.of)(!1))))).subscribe(_=>{_||this.logQueueService.addLogger("RemoteLoggingService",["Chunk send failure."])})}terminateChunkReceivedSubscription(){this.logChunkReceivedSubscription&&(this.logChunkReceivedSubscription.unsubscribe(),this.logChunkReceivedSubscription=null)}sendNewGfcHeadRequest(){this.terminateChunkReceivedSubscription(),this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.commonFeedbackData.feedbackId=(0,O.Rl)(),this.feedbackIdSubject.next(this.commonFeedbackData.feedbackId),this.commonFeedbackData.clientTs=(new Date).toISOString(),this.logQueueService.addLogger("RemoteLoggingService",["New GFC feedback session created: ",this.commonFeedbackData.feedbackId]),console.log("New GFC feedback session created: ",this.commonFeedbackData.feedbackId),this.sendGfcHeadRequest(this.commonFeedbackData)}handleHeadRequestErrors(_){switch(_.status){case E.Tv.FeedbackIdInUse:case E.Tv.FeedbackIdExpired:this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.sendNewGfcHeadRequest();break;case E.Tv.AttachmentsRejected:this.attachmentUploadedPermitted=!1,this.logQueueService.stopChunkCollection()}}sendGfcHeadRequest(_){this.gfcService=(0,e.isUndefined)(this.gfcService)?this.injector.get(h.H0):this.gfcService,this.isOnline&&this.isUserConsentAvailable&&(_.sentTs=(new Date).toISOString(),this.gfcService.sendFeedbackEvent(_).subscribe(b=>{this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!0),(0,e.isNil)(this.logChunkReceivedSubscription)&&this.getLatestLogsChunk()},b=>{this.logQueueService.addLogger("RemoteLoggingService",["Send HEAD request error: ",b]),this.handleHeadRequestErrors(b)}))}handleExternalUrlLoad(){this.logQueueService.clearQueueAndBuffer(!0)}handleBrowserTabClosure(){window.addEventListener("pagehide",_=>{this.logQueueService.addLogger("RemoteLoggingService",["Window pagehide triggered."]),this.isGfcHeadRequestSent&&this.logQueueService.clearQueueAndBuffer(!0)})}handleSpecialAttachmentErrors(_){if(this.isChunkUploadPermitted()&&_.status===E.iU.InvalidFeedbackId)this.sendNewGfcHeadRequest();else if(this.isChunkUploadPermitted()&&_.status===E.iU.NonSequentialChunk){var b;const I=null==_||null===(b=_.rawResponse)||void 0===b||null===(b=b.headers)||void 0===b?void 0:b.get("x-data-offset");this.gfcService.updateOffsetOnSuccessfulAttachmentRequest(I)}else this.isChunkUploadPermitted()||(this.logQueueService.addLogger("RemoteLoggingService",["Attachment error, stopping log collection as max failure count is reached."]),this.logQueueService.stopChunkCollection())}sendLogsChunk(_,b,I){return this.gfcService.sendFeedbackChunkEvent(_,this.eventData,b,I).pipe((0,S.zg)(q=>(this.gfcService.updateOffsetOnSuccessfulAttachmentRequest(),this.logQueueService.onSendChunkSuccess(),(0,f.of)(!0))),(0,u.K)(q=>(this.logQueueService.addLogger("RemoteLoggingService",["Failure in sending a chunk: ",q]),null!=q&&q.status?(this.chunkFailureCount++,this.handleSpecialAttachmentErrors(q),this.logQueueService.onSendChunkFailure(q)):this.logQueueService.addLogger("RemoteLoggingService",["Non GFC error occurred: ",q,null==q?void 0:q.message]),(0,f.of)(!1))),(0,g.x)(()=>{b&&null!=I&&I.isBrowserClosing&&this.terminateChunkReceivedSubscription()}))}prepareGfcFeedbackEventParams(_){this.eventData={parameters:_},this.logQueueService.updateEventData(this.eventData)}prepareFeedbackCommonEventData(_){this.commonFeedbackData=(0,e.merge)(this.commonFeedbackData,_),this.feedbackIdSubject.next(this.commonFeedbackData.feedbackId),this.commonFeedbackData.userId===E.Px&&this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!1)}setUserConsent(_){this.currentUserConsent=_.userConsent,(0,e.isEmpty)(_.externalUserId)?(this.externalUserId=_.userId,this.currentUserId=h.kQ,this.idpId=h.kQ):(this.currentUserId=_.userId,this.externalUserId=_.externalUserId,this.idpId=_.idpId),this.currentUserConsent.technical===w.p6.Full?(this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!0),this.addGdprConsentFields(),this.commonFeedbackData.userId=this.currentUserId,this.commonFeedbackData.externalUserId=this.externalUserId,this.commonFeedbackData.idpId=this.idpId,this.commonFeedbackData.clientTs=(new Date).toISOString(),this.commonFeedbackData=(0,e.extend)(this.commonFeedbackData,this.eventData)):this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!1),this.isGfcHeadRequestSent||this.sendGfcHeadRequest(this.commonFeedbackData)}collectLogString(_){this.logQueueService.appendLogEntry(_)}setBufferConfiguration(_){this.logQueueService.setBufferConfig(_)}updateEventDataParamIds(_){_.streamSessionId?(0!==this.streamSubSessionIds.filter(b=>""===b).length&&this.streamSubSessionIds.splice(0,1),this.streamSubSessionIds.push(_.streamSubSessionId),this.eventData=(0,e.merge)(this.eventData,{parameters:{streamSessionId:_.streamSessionId,streamSubSessionIds:this.streamSubSessionIds}})):_.surveySessionId&&(this.eventData=(0,e.merge)(this.eventData,{parameters:{surveySessionId:_.surveySessionId}})),this.logQueueService.updateEventData(this.eventData)}get feedbackId$(){return this.feedbackIdSubject.asObservable()}ngOnDestroy(){this.terminateChunkReceivedSubscription()}}return(n=s).\u0275fac=function(_){return new(_||n)(p.LFG(p.zs3),p.LFG(V.p),p.LFG(c._))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()},78142:(Dt,ct,t)=>{"use strict";t.d(ct,{L3:()=>L,Rb:()=>i,oZ:()=>e,z_:()=>f});var e=function(x){return x.READ="read",x.WRITE="write",x.DELETE="delete",x.SUCCESS="success",x.ERROR="error",x}(e||{});const i="ssoLoginInfoEntry",L="loginids.json";var f=function(x){return x.NVAPP="nvapp",x.GFN="gfn",x}(f||{})},21356:(Dt,ct,t)=>{"use strict";t.d(ct,{y:()=>V});var e=t(78142),i=t(9681),L=t(56293),f=t(47422),x=t(87965),S=t(58175),u=t(15746),g=t(61699),h=t(33994),O=t(78943),E=t(13963);let w=(()=>{var c;class C{constructor(o,n){this.bridgeService=o,this.loggingService=n,this.logger=this.loggingService.getLogger("libraries/ConfigStoreService")}writeConfigFile(o,n){this.logger.info(`Writing in config file for ${o} ${JSON.stringify(n)}`);const s=Object.keys(n).map(_=>({key:_,value:n[_]}));return this.bridgeService.executeCommand(O.Gh.Common.Applicationcontrol.WriteGenericConfig,{configname:o,path:s}).pipe((0,u.b)(_=>this.logger.info("Write Success")),(0,S.K)(_=>(this.logger.error(_),(0,h._)(_))))}readConfigFile(o,n){return this.logger.info(`Reading config file for ${o} ${JSON.stringify(n)}`),this.bridgeService.executeCommand(O.Gh.Common.Applicationcontrol.ReadGenericConfig,{configname:o,path:n}).pipe((0,u.b)(R=>this.logger.info("Read Success")),(0,S.K)(R=>(this.logger.error(R),(0,h._)(R))))}removeFromConfig(o,n){return this.logger.info(`Removing config ${JSON.stringify(n)} from file for ${o}`),this.bridgeService.executeCommand(O.Gh.Common.Applicationcontrol.RemoveFromGenericConfig,{configname:o,path:n}).pipe((0,u.b)(R=>this.logger.info("Config removed")),(0,S.K)(R=>(this.logger.error(R),(0,h._)(R))))}}return(c=C).\u0275fac=function(o){return new(o||c)(g.LFG(E.dF),g.LFG(E.ed))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),C})();var p=t(27597);let V=(()=>{var c;class C{constructor(o,n){this.configStore=o,this.loggingService=n,this.cachedSsoLoginInfo=null,this.logger=this.loggingService.getLogger("silentlogin/logininfo-service")}isEmptySilentLoginInfo(o){return!(o&&o.idp_id&&o.login_hint&&o.applicationName&&""!==o.idp_id.trim()&&""!==o.login_hint.trim()&&""!==o.applicationName.trim())}returnNullIfEmpty(o){return o.pipe((0,f.U)(n=>this.isEmptySilentLoginInfo(n)?null:n))}getEmptySsoLoginEntry(){return{login_hint:"",idp_id:"",applicationName:""}}updateSsoLoginInfoEntry(o,n,s,R){return o?this.updateSsoLoginInfoEntryInternal({idp_id:n,login_hint:s,applicationName:R}):this.cleanUpSsoLoginInfo(R)}updateSsoLoginInfoEntryInternal(o){return this.getSsoLoginInfo().pipe((0,x.zg)(n=>n&&n.idp_id===(null==o?void 0:o.idp_id)&&n.login_hint===(null==o?void 0:o.login_hint)?(this.logger.info("No changes detected in SSO login info."),(0,i.of)(!1)):this.setSsoLoginInfo(o)),(0,S.K)(n=>(this.logger.error("Error updating SsoLoginInfoEntry",n),(0,i.of)(!1))))}getSsoLoginInfo(){return this.cachedSsoLoginInfo&&!this.isEmptySilentLoginInfo(this.cachedSsoLoginInfo)?(0,i.of)(this.cachedSsoLoginInfo):this.configStore.readConfigFile(e.L3,[e.Rb]).pipe((0,f.U)(o=>o[e.Rb]),this.returnNullIfEmpty.bind(this),(0,u.b)(o=>this.cachedSsoLoginInfo=o),(0,S.K)(o=>(this.logger.error("Error occurred while reading the loginids file-",o),(0,i.of)(null))))}setSsoLoginInfo(o){let n=this.getEmptySsoLoginEntry();return this.isEmptySilentLoginInfo(o)||(n=o),this.configStore.writeConfigFile(e.L3,{ssoLoginInfoEntry:n}).pipe((0,u.b)(s=>{s&&(this.cachedSsoLoginInfo=n)}),(0,S.K)(s=>(this.logger.error("Error occurred in writeConfigFile:",s),new L.y(R=>{R.next(!1),R.complete()}))))}cleanUpSsoLoginInfo(o){var n;return o===(null===(n=this.cachedSsoLoginInfo)||void 0===n?void 0:n.applicationName)?this.setSsoLoginInfo(null):(this.cachedSsoLoginInfo=null,(0,i.of)(!0))}}return(c=C).\u0275fac=function(o){return new(o||c)(g.LFG(w),g.LFG(p.ed))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),C})()},68386:(Dt,ct,t)=>{"use strict";t.d(ct,{A:()=>L,L:()=>i});var e=t(61699),i=function(f){return f.Gfe="gfeclient",f.Gfn="gfnclient",f.Igo="shareclient",f.Forager="foragerclient",f.Nvcpl="controlPanelclient",f.Oogg="ooggclient",f.Vdkplaytest="vdkplaytest",f.Nvapp="nvapp",f.Gdn="gdnclient",f}(i||{});let L=(()=>{var f;class x{}return(f=x).\u0275fac=function(u){return new(u||f)},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac}),x})()},13963:(Dt,ct,t)=>{"use strict";t.d(ct,{RW:()=>e.RW,FO:()=>V,nr:()=>e.nr,q9:()=>e.q9,rh:()=>li,L6:()=>yt.L,z_:()=>Vn.z_,E_:()=>Sn,P:()=>An,m1:()=>e.m1,gN:()=>at,dF:()=>e.dF,rn:()=>yn.r,nM:()=>e.nM,U5:()=>e.U5,Aq:()=>dt.Aq,Bh:()=>Ln.Bh,ns:()=>Ln.ns,n2:()=>Ee,z7:()=>dt.z7,p6:()=>Ln.p6,it:()=>Se.i,qR:()=>Tt,LA:()=>$e,c1:()=>Qt,MC:()=>ve,hO:()=>io,wi:()=>dt.wi,bi:()=>Zt,Il:()=>_e,ty:()=>ei,d_:()=>Le,k0:()=>Wi,CQ:()=>To,Du:()=>St,zl:()=>Yt,_V:()=>vt,b$:()=>N.b,OL:()=>Z,in:()=>gt,p3:()=>On.p,Yd:()=>I.Yd,GJ:()=>hi.G,ed:()=>I.ed,Eo:()=>he,wO:()=>kt,o1:()=>wn,Nx:()=>Je,_J:()=>k._,VV:()=>O,eJ:()=>Q,xv:()=>it,ng:()=>f.n,V$:()=>J.V,IW:()=>Mt,OA:()=>S,ol:()=>Ci,dD:()=>se,Ng:()=>ln,l7:()=>E,Ob:()=>D,sp:()=>qn,Px:()=>dt.Px,kQ:()=>Ln.kQ,un:()=>Xt,Yq:()=>lt,zv:()=>d,L2:()=>A});var x,e=t(36125),i=t(43559),L=t(49481),f=t(58556);class S{static sendTelemetry(Bt){S.retrySubject.subscribe({next:ne=>{Bt.info(ne.isSuccess?"success event ":"failure event ",Date.now(),ne)}})}static retry(Bt,ne,xt=S.retryAttempts,de=S.intervalBetweenRetries){let pe;return new Promise((Te,Ke)=>{Bt().then(function(xn){return f.n.isBrowserPlatform()&&(pe={isSuccess:!0,attemptCount:S.retryAttempts+1-xt,error:null,fileName:ne},S.retrySubject.next(pe)),Te(xn)}).catch(xn=>{if(f.n.isBrowserPlatform()){if(pe={isSuccess:!1,attemptCount:S.retryAttempts+1-xt,error:xn,fileName:ne},S.retrySubject.next(pe),1===xt)return void Ke(xn);setTimeout(()=>{S.retry(Bt,ne,xt-1,S.intervalBetweenRetries*(S.retryAttempts+1-xt)).then(Te,Ke)},de)}else Ke(xn)})})}}(x=S).retrySubject=new L.t(5),x.retryAttempts=5,x.intervalBetweenRetries=50;var u=t(9681),g=t(33994),h=t(47178);const O={Ethernet:"Ethernet",WiFi2_4:"WiFi 2.4",WiFi5_0:"WiFi 5.0",WiFi6_0:"WiFi 6.0",WiFiUnknown:"WiFi Unknown",Mobile:"Mobile",Other:"Other",Unknown:"Unknown"};var E=function(Jt){return Jt.DeviceId="DeviceId",Jt.ProductVersion="ProductVersion",Jt.ProductName="ProductName",Jt.Region="Region",Jt.CPUName="CPUName",Jt.Disk="Disk",Jt.PhysicalDisk="PhysicalDisk",Jt.Display="Display",Jt.GPU="GPU",Jt.HID="HID",Jt.Network="Network",Jt.OSName="OSName",Jt.OSVersion="OSVersion",Jt.BrowserName="BrowserName",Jt.BrowserVersion="BrowserVersion",Jt.OSBuildNumber="OSBuildNumber",Jt.PhysicalMemoryCapacity="PhysicalMemoryCapacity",Jt.Platform="Platform",Jt.ProcessorArchitecture="ProcessorArchitecture",Jt.SystemName="SystemName",Jt.UserDefaultUILanguage="UserDefaultUILanguage",Jt.VendorName="VendorName",Jt.SubApiName="SubApiName",Jt.ErrorMessage="ErrorMessage",Jt.ApiStatus="ApiStatus",Jt.ApiName="ApiName",Jt.PluginName="PluginName",Jt.DxVersion="DxVersion",Jt.DeviceType="DeviceType",Jt.ConfidenceInBrowser="ConfidenceInBrowser",Jt.IsBrowserForged="IsBrowserForged",Jt.Location="Location",Jt.Make="Make",Jt.Model="Model",Jt.CurrentUiMode="CurrentUiMode",Jt}(E||{});const w=[E.CPUName,E.OSName,E.OSVersion,E.BrowserName,E.BrowserVersion,E.OSBuildNumber,E.PhysicalMemoryCapacity,E.Platform,E.ProcessorArchitecture,E.SystemName,E.VendorName,E.DeviceType,E.ConfidenceInBrowser,E.IsBrowserForged,E.DeviceId,E.ProductVersion,E.ProductName,E.Make,E.Model,E.UserDefaultUILanguage,E.DxVersion],p=w.filter(Jt=>Jt!==E.DxVersion),V=Object.values(E);var c=t(47422),C=t(58175),l=t(87965),o=t(15746),n=t(19979),s=t(36520),R=t(55617),_=t(99901),b=t(45083),I=t(27597);class q{constructor(Bt,ne,xt,de="assets/i18n/",pe=".json"){this.http=Bt,this.prefix=de,this.suffix=pe,this.config={},this.logger=ne.getLogger("FallbackTranslationLoader"),this.config.localeFileHashes=xt}getTranslation(Bt){let ne;return ne=this.config.localeFileHashes&&this.config.localeFileHashes[Bt]?`${this.prefix}${Bt}.${this.config.localeFileHashes[Bt]}${this.suffix}`:`${this.prefix}${Bt}${this.suffix}`,this.http.get(ne)}}var a=t(54860);const y="en_GB",K=["ar"],B=new Map([["ar",["ar_SA","ar_EG"]],["bg",["bg_BG"]],["ca",["ca_ES"]],["cs",["cs_CZ"]],["da",["da_DK"]],["de",["de_DE","de_AT","de_CH"]],["el",["el_GR"]],["en",["en_GB"]],["en_MX",["en_US"]],["en_US",["en_GB"]],["es",["es_MX","es_US","es_ES"]],["es_ES",["es_MX","es_US"]],["fa",["fa_IR"]],["fi",["fi_FI"]],["fr",["fr_FR"]],["hr",["hr_HR"]],["hu",["hu_HU"]],["in",["in_ID"]],["id",["id_ID"]],["it",["it_IT"]],["iw",["iw_IL"]],["he",["he_IL"]],["ja",["ja_JP"]],["ka",["ka_GE"]],["ko",["ko_KR"]],["lt",["lt_LT"]],["lv",["lv_LV"]],["ms",["ms_MY"]],["nb",["nb_NO"]],["no",["nb_NO"]],["nl",["nl_NL"]],["pl",["pl_PL"]],["pt",["pt_BR","pt_PT"]],["pt_PT",["pt_BR"]],["ro",["ro_RO"]],["ru",["ru_RU"]],["sk",["sk_SK"]],["sl",["sl_SI"]],["sr",["sr_RS"]],["sv",["sv_SE"]],["th",["th_TH"]],["tl",["tl_PH"]],["tr",["tr_TR"]],["uk",["uk_UA"]],["vi",["vi_VN"]],["zh",["zh_CN"]],["zh_HK",["zh_TW","zh_CN"]],["zh_MO",["zh_TW","zh_CN"]],["zh_MY",["zh_CN"]],["zh_SG",["zh_CN"]],["zh_TW",["zh_HK","zh_CN"]],["zh-Latn_CN",["zh_CN"]]]);var j=t(58540),tt=t(61699),ot=t(64555),F=t(46939),U=t(78943),z=t(77869),Q=function(Jt){return Jt.Windows="Windows",Jt.Mac="Mac",Jt}(Q||{}),dt=t(41164),X=t(90803);let D=(()=>{var Jt;class Bt{constructor(xt,de,pe){this.bridgeService=de,this.previousSystemInfo={},this.systemInfoGuid=(0,z.Rl)(),this.systemInfoGuidSubject=new L.t(1),this.streams=new Map,this.logger=xt.getLogger("crimson/SystemInfoService"),this.clientHeaderInfoStream=pe.createStream(()=>this.fetchClientHeadersInfo(),!0,!0,!0,3e4),Object.values(E).forEach(Te=>{w.includes(Te)?this.streams.set(Te,pe.createStream(()=>this.fetchSpecificSystemInfo(Te))):this.streams.set(Te,pe.createStream(()=>this.fetchSpecificSystemInfo(Te),!0,!0,!0,3e4))}),this.getSystemInfo(p).subscribe()}checkStreamingSupport(){return this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetStreamingSupportInfo).pipe((0,c.U)(xt=>xt.IsStreamingSupported))}fetchDeviceId(){return this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetDeviceId).pipe((0,c.U)(xt=>({DeviceId:xt.DeviceID})))}getSystemInfoGuid(){return this.systemInfoGuidSubject.asObservable()}updateSystemInfoGuid(xt){(0,h.isEqual)(xt,this.previousSystemInfo)||(this.systemInfoGuid=(0,z.Rl)(),this.previousSystemInfo=xt),this.systemInfoGuidSubject.next(this.systemInfoGuid)}fetchClientHeadersInfo(){return f.n.isAndroidPlatform()?this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetSystemInfo):this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetClientHeadersInfo)}fetchSystemInfo(xt){const de=new Set(xt),pe=[];if(de.delete(E.DeviceId)){const Te=this.fetchDeviceId();pe.push(Te)}if(f.n.isCefPlatform()&&(de.delete(E.BrowserName)||de.delete(E.BrowserVersion))){const Te=this.fetchBrowserInfo();pe.push(Te)}if(de.size){const Te=this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetSystemInfo,{keys:[...de]}).pipe((0,c.U)(Ke=>(delete Ke._return_code,delete Ke._return_status,delete Ke._return_internal,Ke)));pe.push(Te)}return(0,ot.aj)([...pe]).pipe((0,c.U)(Te=>{let Ke={};return Te.forEach(xn=>{Ke={...Ke,...xn}}),Ke}),(0,o.b)(Te=>{const Ke={...this.previousSystemInfo,...Te};this.updateSystemInfoGuid(Ke)}))}fetchBrowserInfo(){return this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.GetBrowserInfo).pipe((0,c.U)(xt=>({BrowserName:(null==xt?void 0:xt.BrowserNameNative)||dt.Px,BrowserVersion:(null==xt?void 0:xt.BrowserVersionNative)||dt.Px})))}fetchSpecificSystemInfo(xt){return this.fetchSystemInfo([xt])}getSystemInfo(xt,de=!1){if(de)return this.fetchSystemInfo(xt);const pe=[],Te={};return xt.forEach(Ke=>{var xn;const ni=null===(xn=this.streams.get(Ke))||void 0===xn?void 0:xn.getData();ni&&ni[Ke]?Te[Ke]=ni[Ke]:pe.push(Ke)}),0===pe.length?(0,u.of)(Te):this.fetchSystemInfo(pe).pipe((0,c.U)(Ke=>({...Te,...Ke})),(0,o.b)(Ke=>{Object.keys(Ke).forEach(xn=>{this.streams.has(xn)?this.streams.get(xn).setData(Ke,!0):this.logger.error("No systemInfo stream for key ",xn)})}))}getClientHeadersInfo(xt=!1){return xt?this.clientHeaderInfoStream.refresh().pipe((0,F.q)(1)):this.clientHeaderInfoStream.get$().pipe((0,F.q)(1))}getDeviceOSType(){return this.getSystemInfo([E.OSName,E.Platform]).pipe((0,c.U)(xt=>f.n.isBrowserLikePlatform()?xt.OSName:xt.Platform===Q.Mac?dt.wi.MacOS:xt.Platform===Q.Windows?dt.wi.Windows:dt.wi.Undefined))}}return(Jt=Bt).BrowserNameNative="Chrome",Jt.\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(X.d),tt.LFG(z.O_))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var N=t(86098);let Z=(()=>{var Jt;class Bt{constructor(xt,de,pe,Te,Ke){this.translate=de,this.systemInfoService=pe,this.config=Ke,this.rtlLocaleSupported=!1,this.rtlLayoutEnabled=!1,this.layoutDirectionUpdated$=new L.t(1),this.retrySubject=new L.t(5),this.isSuccessEventSent=!1,this.isDirectionalityInitialized=!1,this.logger=xt.getLogger("LocaleService"),this.localeChangedSubscription=Te.createStream(this.updateLocale.bind(this)),this.translate.setDefaultLang("en_US")}updateLocale(){return this.systemInfoService.getSystemInfo([E.UserDefaultUILanguage]).pipe((0,c.U)(xt=>{let de=xt.UserDefaultUILanguage;return((0,h.isEmpty)(de)||this.isRTLLocale(de)&&!this.isRTLLocaleSupported)&&(this.logger.error(`Missing default UI language. Falling back to ${y} for default language.`),de=y),de}),(0,C.K)(()=>(this.logger.error(`Failed to get system info. Falling back to ${this.defaultLocale} for default language.`),(0,u.of)(y))),(0,l.zg)(xt=>{let de=xt;return(0,h.isNil)(this.config.supportedLang.find(pe=>pe===de))&&(de=this.getMappedLocale(de)),this.defaultLocale=de,this.updateCurrentLocale()}),(0,o.b)(xt=>this.logger.info("Locale set to "+xt)))}getLocaleDownloadRetryTelemetryData(){return this.retrySubject}retryOnFailure(xt,de){let pe=1;return xt.pipe((0,n.a)(Te=>Te.pipe((0,s.w)(Ke=>f.n.isBrowserPlatform()?(this.isSuccessEventSent=!1,this.retrySubject.next({isSuccess:!1,attemptCount:pe,error:null,fileName:de+".json"}),pe>=S.retryAttempts?(this.isSuccessEventSent=!0,this.logger.info("Locale JSON dowload retries expired."),(0,g._)(Ke)):(this.logger.info("Locale JSON dowload failed, trying again ",pe),pe+=1,(0,u.of)(Ke))):(this.logger.error("Not a Browser Client, so retry skipped",Ke),(0,g._)(Ke))),(0,R.g)(pe*S.intervalBetweenRetries))),(0,o.b)(()=>{j.locale(de),!this.isSuccessEventSent&&f.n.isBrowserPlatform()&&(this.retrySubject.next({isSuccess:!0,attemptCount:pe,error:null,fileName:de+".json"}),this.isSuccessEventSent=!0)}))}updateCurrentLocale(){const xt=(0,h.isNil)(this.currentLocale)?this.defaultLocale:this.currentLocale;return this.retryOnFailure(this.translate.use(xt),xt).pipe((0,_.h)(xt),(0,C.K)(de=>(this.logger.error("Locale Json download failed with error ",de),this.useMappedLocale(xt))))}getMappedLocale(xt){let de;if(!(0,h.isEmpty)(xt)&&xt.startsWith("zh_Hant")&&(de="zh_TW"),!(0,h.isEmpty)(xt)&&B.get(xt)){const pe=B.get(xt);de=null==pe?void 0:pe.find(Te=>this.config.supportedLang.includes(Te))}if(!de&&xt!==y&&!(0,h.isEmpty)(xt)&&xt.length>=2){const pe=B.get(xt.substr(0,2));de=null==pe?void 0:pe.find(Te=>this.config.supportedLang.includes(Te))}return de=de||y,this.logger.info(`Mapped locale for ${xt} is: ${de}`),de}useMappedLocale(xt){const de=this.getMappedLocale(xt);return this.isSuccessEventSent=!1,this.retryOnFailure(this.translate.use(de),de).pipe((0,_.h)(de),(0,C.K)(()=>de!==y?(this.logger.error(`Could not find translations for ${xt}, falling back to ${y}`),this.useMappedLocale(y)):(0,g._)(`Could not load fallback locale ${y}. Translations cannot be loaded.`)))}updateUIDirectionality(){var xt,de;this.isRTLLayoutEnabled=this.isRTLLocale(this.getLocale()),(null===(xt=document)||void 0===xt?void 0:xt.getElementsByTagName("html")[0]).dir=this.isRTLLayoutEnabled?"rtl":"ltr";const Te=null===(de=document)||void 0===de?void 0:de.getElementsByTagName("body")[0];Te.dir=this.isRTLLayoutEnabled?"rtl":"ltr",Te.classList.add(this.isRTLLayoutEnabled?"isRtl":"isLtr"),this.isDirectionalityInitialized=!0}isDirectionalityChanged(){return!this.isRTLLayoutEnabled===this.isRTLLocale(this.getLocale())}useDefaultLocale(){return this.currentLocale=void 0,this.localeChangedSubscription.refresh()}setLocale(xt){return(0,h.isNil)(this.config.supportedLang.find(de=>de===xt))&&(xt=this.getMappedLocale(xt)),xt===this.currentLocale?(0,u.of)(this.currentLocale):(this.currentLocale=xt,this.localeChangedSubscription.refresh())}getLocale(){return this.currentLocale?this.currentLocale:this.defaultLocale}getShortLocale(){return this.getLocale()?this.getLocale().substr(0,2):"en"}get localeChanged(){return this.localeChangedSubscription.get$().pipe((0,b.x)(),(0,o.b)(()=>{(!this.isDirectionalityInitialized||this.isDirectionalityChanged())&&this.updateUIDirectionality()}))}get isRTLLocaleSupported(){return this.rtlLocaleSupported}set isRTLLocaleSupported(xt){this.rtlLocaleSupported=xt}get isRTLLayoutEnabled(){return this.rtlLayoutEnabled}set isRTLLayoutEnabled(xt){this.rtlLayoutEnabled=xt,this.layoutDirectionUpdated$.next(!0)}isRTLLocale(xt){return K.includes(xt.substr(0,2))}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(i.sK),tt.LFG(D),tt.LFG(z.O_),tt.LFG(N.b))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();function A(Jt){return i.aw.forRoot({loader:{provide:i.Zw,useFactory:(Bt,ne)=>function W(Jt,Bt,ne){return new q(Jt,Bt,ne)}(Bt,ne,Jt),deps:[a.eN,I.ed]}})}function d(){return i.aw.forChild()}var $=t(45078),J=t(59115);const st="[Worker]:";let lt=(()=>{var Jt;class Bt{constructor(xt,de,pe){this.serviceWorkerService=xt,this.loggingService=de,this.remoteLoggingService=pe,this.logger=de.getLogger(st)}initialize(xt,de){this.serviceWorkerService.swLoggingUpdate$.pipe().subscribe(Te=>{this.remoteLoggingService.collectLogString(Te.content)});const pe=this.loggingService.getLoggingLevel(st);this.loggerSettings={remoteLoggingEnabled:xt,consoleLoggingEnabled:de,loggingLevel:pe,remoteLogFunction:null},this.serviceWorkerService.postMessageSw({type:$.rL.SetLoggerSettings,content:JSON.stringify(this.loggerSettings)})}getLoggerSettings(){return this.loggerSettings}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG($.HR),tt.LFG(I.ed),tt.LFG(J.V))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var gt=function(Jt){return Jt.INFO="INFO",Jt.WARN="WARN",Jt.DEBUG="DEBUG",Jt.ERROR="ERROR",Jt}(gt||{});let vt=(()=>{var Jt;class Bt{constructor(xt){this.loggingService=xt}logBasedOnLevel(xt){switch(xt.logLevel){case gt.INFO:case gt.DEBUG:this.logger.info(xt.logStr,xt.timeStamp);break;case gt.ERROR:this.logger.error(xt.logStr,xt.timeStamp);break;case gt.WARN:this.logger.warn(xt.logStr,xt.timeStamp)}}sendLog(xt){this.logger=this.loggingService.getLogger(xt.logModule?xt.logModule+"/"+xt.logTag:xt.logTag),this.logBasedOnLevel(xt)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var k=t(46699),pt=t(93190),yt=t(68386);let Xt=(()=>{var Jt;class Bt{constructor(xt,de){this.logger=xt.getLogger("crimson/windowService"),this.windowRef=window||{},this.windowRef.name=de.name}get window(){return this.windowRef}getFocusEvent(){return(0,pt.R)(window,"focus")}getPageShowEvent(){return(0,pt.R)(window,"pageshow")}getKeydownEvent(){return(0,pt.R)(window,"keydown")}getKeyupEvent(){return(0,pt.R)(window,"keyup")}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(yt.A))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})(),It=(()=>{var Jt;class Bt{get globalStores(){return this.globalStoreDefMap}get userStores(){return this.userStoreDefMap}get appDbName(){return this.dbName}constructor(xt){this.dbName=xt.name,this.globalStoreDefMap=new Map,this.userStoreDefMap=new Map}defineStore(xt,de){const pe=xt.storeName;if(de.has(pe))throw new Error(`Error: store name already exists: ${pe}`);let Te;return xt.name=this.dbName,xt.hasOwnProperty("storeDefault")&&(Te=xt.storeDefault,delete xt.storeDefault),de.set(pe,{config:xt,upgrades:new Map,storeDefault:Te}),this}defineUpgrade(xt,de,pe,Te){const Ke=Te.get(xt);return Ke.upgrades.set(de,pe),Ke.upgradeTargetVersion=de,this}defineGlobalStore(xt){return this.defineStore.call(this,xt,this.globalStoreDefMap)}defineUserStore(xt){return this.defineStore.call(this,xt,this.userStoreDefMap)}upgradeGlobalStore(xt,de,pe){return this.defineUpgrade.call(this,xt,de,pe,this.globalStoreDefMap)}upgradeUserStore(xt,de,pe){return this.defineUpgrade.call(this,xt,de,pe,this.userStoreDefMap)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(yt.A))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var Nt=t(32484),le=t(69531),te=t(30502),bt=t(37210),Vt=t(67293),ut=t(90786);class re{constructor(Bt,ne,xt){this.completesExternally=Bt,this.callbacks=ne,this.staticWorkerFn=xt,this.requestQueue$=new Nt.xQ,this.startRequestQueue()}startRequestQueue(){this.requestQueue$.pipe((0,Vt.b)(Bt=>Bt.workerFn.pipe((0,l.zg)(ne=>{if(Bt.response$.observers.length){if(this.completesExternally)return this.onRequestComplete$=new L.t(1),Bt.response$.next(ne),Bt.response$.complete(),this.callbacks.next&&this.callbacks.next(ne),this.onRequestComplete$;Bt.response$.next(ne),Bt.response$.complete(),this.callbacks.next&&this.callbacks.next(ne)}return(0,u.of)(!0)}),(0,C.K)(ne=>(Bt.response$.error(ne),Bt.response$.complete(),this.callbacks.error&&this.callbacks.error(ne),(0,u.of)(ne))),(0,ut.x)(()=>{this.callbacks.complete&&this.callbacks.complete()})))).subscribe()}queue(...Bt){let ne;return ne=(0,le.P)(this.staticWorkerFn?()=>this.staticWorkerFn(...Bt):Bt.length>1?()=>Bt[0](Bt.slice(1)):()=>Bt[0]()),(0,le.P)(()=>{const xt={workerFn:ne,response$:new Nt.xQ};return this.requestQueue$.next(xt),xt.response$.asObservable()})}notifyRequestCompletion(){this.completesExternally&&(this.onRequestComplete$.next(!0),this.onRequestComplete$.complete())}}var Wt=t(92130),oe=t(81171),Qt=function(Jt){return Jt.Loading="Loading",Jt.Dirty="Dirty",Jt.Saved="Saved",Jt.NotFound="NotFound",Jt}(Qt||{}),Pt=function(Jt){return Jt.UpgradeStart="UpgradeStart",Jt.UpgradeEnd="UpgradeEnd",Jt}(Pt||{}),Ut=function(Jt){return Jt.Upgrade="Upgrade",Jt}(Ut||{});const Tt="https://nvfile/";var it=function(Jt){return Jt.Measure="measure",Jt.Resource="resource",Jt.Element="element",Jt}(it||{}),Mt=function(Jt){return Jt.Image="img",Jt}(Mt||{});class zt{constructor(Bt,ne,xt){if(this.config=Bt,this.onDbItemChange=ne,this.requestQueue=xt,this.versionKey="_version",this.connected=!1,this.name=this.config.storeName,this.dbName=this.config.dbName,this.userId=this.config.userId,this.config.storeDefinition){const de=this.config.storeDefinition;this.upgrade$=this.upgradeStore(this.config.storeName,de.storeDefault,de.upgrades,de.upgradeTargetVersion||0)}else this.upgrade$=(0,u.of)(this);this.upgrade$.subscribe(()=>{this.connected=!0})}logError(...Bt){console.error("DbDataStore",this.name,JSON.stringify(Bt))}logInfo(...Bt){console.info("DbDataStore",this.name,JSON.stringify(Bt))}upgradeStore(Bt,ne,xt,de){let pe;return this.getItem(this.versionKey).pipe((0,l.zg)(Te=>(performance.mark(Pt.UpgradeStart),pe=Te||0,0===pe&&ne?(pe=ne.version,this.processDirectUpgrade(Bt,ne,pe)):this.processSequentialUpgrades(Bt,pe,xt,de))),(0,c.U)(()=>{performance.mark(Pt.UpgradeEnd);const Te=this.getDbUpgradeDuration();return this.logInfo(`Time spent in async db upgrade: ${Te}, store: ${Bt}, new version: ${pe}`),this}))}getDbUpgradeDuration(){try{return performance.measure(Ut.Upgrade,Pt.UpgradeStart,Pt.UpgradeEnd),performance.getEntriesByType(it.Measure).find(Bt=>Bt.name===Ut.Upgrade).duration}catch(Bt){return this.logError("Error while calling measure on performance",Bt),-1}}processDirectUpgrade(Bt,ne,xt){const de=[];for(const pe of Object.keys(ne.db))de.push(this.setItem(pe,ne.db[pe]));return(0,Wt.D)(de).pipe((0,l.zg)(()=>(this.logInfo(`Store ${Bt} successfully set to default version: ${xt}`),this.setItem(this.versionKey,ne.version))),(0,F.q)(1),(0,c.U)(()=>this),(0,C.K)(pe=>(this.logError(`Store ${Bt} failed to upgrade version from 0 to ${xt} due to error: ${pe}`),(0,g._)(pe))))}processSequentialUpgrades(Bt,ne,xt,de){if(ne>de)return(0,g._)(`Store ${Bt} db downgrade not supported. Version: ${ne}, Target: ${de}`);if(ne===de)return this.logInfo(`Upgrade not required for Store: ${Bt}, Version: ${ne}`),(0,u.of)(this);let pe;return(0,te.D)(xt.keys()).pipe((0,Vt.b)(Te=>{if(pe=+Te,pe>ne){this.logInfo(`Store: ${Bt}, attempting upgrade from version: ${ne} to ${pe}`);const Ke=xt.get(pe);return(0,te.D)(Ke(this)).pipe((0,l.zg)(()=>(this.logInfo(`Store ${Bt} successfully upgraded to version: ${pe}`),this.setItem(this.versionKey,ne=pe))))}return(0,u.of)(this)}),(0,oe.Z)(),(0,c.U)(()=>this),(0,C.K)(Te=>(this.logError(`Store ${Bt} failed to upgrade db from version: ${ne} to ${pe} due to error ${Te}`),(0,g._)(Te))))}getItem(Bt){return Bt?this.requestQueue.queue(this.name).pipe((0,l.zg)(ne=>{const de=ne.transaction(this.name,"readonly").objectStore(this.name);return(0,te.D)(de.get(Bt))}),(0,C.K)(ne=>(this.logError("error fetching item",ne),(0,g._)(ne))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()})):(0,g._)("invalid key")}setItem(Bt,ne){return this.config.storeDefinition?(ne instanceof Object&&(ne.ts=Date.now()),this.setItemInDb(Bt,ne).pipe((0,c.U)(xt=>(this.onDbItemChange.next({storeName:this.name,userId:this.userId,key:Bt}),ne)))):this.setItemInDb(Bt,ne)}setItemInDb(Bt,ne){return this.requestQueue.queue(this.name).pipe((0,l.zg)(xt=>{const de=xt.transaction(this.name,"readwrite"),Te=de.objectStore(this.name).put(ne,Bt);return this.finishReadWriteTxObservable(Te,de.done)}),(0,C.K)(xt=>(this.logError("error setting item",xt),(0,g._)(xt))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}removeItem(Bt){return this.requestQueue.queue(this.name).pipe((0,l.zg)(ne=>{const xt=ne.transaction(this.name,"readwrite"),pe=xt.objectStore(this.name).delete(Bt);return this.finishReadWriteTxObservable(pe,xt.done)}),(0,C.K)(ne=>(this.logError("error removing item",ne),(0,g._)(ne))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}getAllItems(){return this.requestQueue.queue(this.name).pipe((0,l.zg)(Bt=>{const xt=Bt.transaction(this.name,"readonly").objectStore(this.name);return(0,Wt.D)([(0,te.D)(xt.getAllKeys()),(0,te.D)(xt.getAll())])}),(0,c.U)(([Bt,ne])=>{const xt={};for(let de=0;de<Bt.length;de++)(0,h.set)(xt,Bt[de].split("/"),ne[de]);return xt}),(0,C.K)(Bt=>(this.logError("error fetching item",Bt),(0,g._)(Bt))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}getAllItemsByCursor(){return this.requestQueue.queue(this.name).pipe((0,l.zg)(Bt=>{const xt=Bt.transaction(this.name,"readonly").objectStore(this.name),de={};return new Promise((pe,Te)=>{xt.openCursor().then(function Ke(xn){return xn?((0,h.set)(de,xn.key.split("/"),xn.value),xn.continue().then(Ke)):Promise.resolve()}).then(()=>{pe(de)}).catch(()=>{Te("Error reading all keys from store")})})}),(0,C.K)(Bt=>(this.logError("error fetching item",Bt),(0,g._)(Bt))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}clear(){return this.requestQueue.queue(this.name).pipe((0,l.zg)(Bt=>{const ne=Bt.transaction(this.name,"readwrite"),de=ne.objectStore(this.name).clear();return this.finishReadWriteTxObservable(de,ne.done)}),(0,C.K)(Bt=>(this.logError("error clearing store",Bt),(0,g._)(Bt))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}length(){return this.keys().pipe((0,c.U)(Bt=>Bt.length))}keys(){return this.requestQueue.queue(this.name).pipe((0,l.zg)(Bt=>Bt.transaction(this.name,"readonly").objectStore(this.name).getAllKeys()),(0,C.K)(Bt=>(this.logError("error fetching keys",Bt),(0,g._)(Bt))),(0,ut.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}finishReadWriteTxObservable(Bt,ne){return(0,Wt.D)([(0,te.D)(this.preventTransactionCloseOnError(Bt)),(0,te.D)(ne)])}preventTransactionCloseOnError(Bt){const ne=(0,bt.Wg)(Bt);return ne.addEventListener("error",xt=>{this.logError("Request failed, error=",ne.error),xt.preventDefault(),xt.stopPropagation()}),Bt}}class ft{get onDbItemChange(){return this.dbItemChange$}constructor(Bt,ne,xt){this.dbName=Bt,this.globalStoreDefMap=ne,this.userStoreDefMap=xt,this.dbObjectStoresInitialized=new L.t(1),this.dataStores=new Map,this.dbItemChange$=new Nt.xQ,this.globalStoreDefMap||(this.globalStoreDefMap=new Map),this.userStoreDefMap||(this.userStoreDefMap=new Map),this.requestQueue=new re(!0,{next:void 0,error:this.closeDbConnection.bind(this),complete:this.closeDbConnection.bind(this)},this.refreshDbInstance.bind(this))}logError(...Bt){console.error("DbHandler",this.dbName,JSON.stringify(Bt))}logInfo(...Bt){console.info("DbHandler",this.dbName,JSON.stringify(Bt))}refreshDbInstance(Bt){return(0,le.P)(()=>this.dbObjectStores&&!this.dbObjectStores.contains(Bt)?(0,u.of)(!0):(0,u.of)(!1)).pipe((0,l.zg)(ne=>ne?(this.logInfo("retrieving db version from disk"),this.openDbInstance(Bt).pipe((0,l.zg)(xt=>{this.dbInstance=xt,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0);const de=this.dbInstance.version;return this.logInfo("current db version",de),this.closeDbConnection(),this.openDbInstance(Bt,de+1)}))):this.openDbInstance(Bt).pipe((0,l.zg)(xt=>{if(this.dbInstance=xt,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0),!this.dbObjectStores.contains(Bt)){const de=this.dbInstance.version;return this.logInfo(`store ${Bt} not found in current db version ${de}, upgrading`),this.closeDbConnection(),this.openDbInstance(Bt,de+1)}return(0,u.of)(this.dbInstance)}))),(0,C.K)(ne=>(this.logError("error",ne),(0,g._)(ne))))}openDbInstance(Bt,ne){return(0,te.D)((0,bt.X3)(this.dbName,ne,{upgrade:xt=>{this.logInfo("upgrading db for",Bt),this.dbInstance=xt,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0),this.dbObjectStores.contains(Bt)||this.dbInstance.createObjectStore(Bt)}}))}closeDbConnection(){this.dbInstance?(this.dbInstance.close(),this.dbInstance=null):this.logError("attempted to close db connection when local instance unavailable")}getDataStore(Bt){if(!this.dataStores.has(Bt.storeDbName)){this.logInfo(`Create datastore instance: ${Bt.storeDbName}`);const ne=Object.assign({},Bt,{dbName:this.dbName});this.dataStores.set(Bt.storeDbName,new zt(ne,this.dbItemChange$,this.requestQueue))}return this.dataStores.get(Bt.storeDbName)}getGlobalStore(Bt){return this.getDataStore({storeName:Bt,storeDbName:Bt,storeDefinition:this.globalStoreDefMap.get(Bt)})}getUserStore(Bt,ne){return this.getDataStore({storeName:ne,storeDbName:`${Bt}_${ne}`,userId:Bt,storeDefinition:this.userStoreDefMap.get(ne)})}getStore(Bt){return this.getDataStore({storeName:Bt,storeDbName:Bt})}checkIfStoreExists(Bt){return this.dbObjectStoresInitialized.asObservable().pipe((0,c.U)(()=>this.dbObjectStores.contains(Bt)))}}let ve=(()=>{var Jt;class Bt{constructor(xt,de){this.logger=de.getLogger("crimson/DBService"),this.globalStoreDefMap=xt.globalStores,this.userStoreDefMap=xt.userStores,this.dbName=xt.appDbName,this.dbhandlerInstance=new ft(this.dbName,this.globalStoreDefMap,this.userStoreDefMap)}get dbHandler(){return this.dbhandlerInstance}getGlobalStore(xt){return this.dbhandlerInstance.getGlobalStore(xt)}getUserStore(xt,de){return this.dbhandlerInstance.getUserStore(xt,de)}getStore(xt){return this.dbhandlerInstance.getStore(xt)}checkKeysOfExisitngDbStore(xt){return this.dbhandlerInstance.checkIfStoreExists(xt).pipe((0,F.q)(1),(0,l.zg)(de=>de?this.getGlobalStore(xt).length():(0,u.of)(0)))}deleteOldKeys(xt){return this.checkKeysOfExisitngDbStore(xt).pipe((0,l.zg)(de=>de?this.getGlobalStore(xt).clear():(0,u.of)(null)),(0,c.U)(de=>de?(this.logger.info("Keys in db store deleted"),!0):(this.logger.info("No keys in the dB store, skip deletion"),!1)))}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(It),tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var Ce=t(45976);class De{constructor(Bt,ne,xt,de){this.dbHandler=Bt,this.storeName=ne,this.key=xt,this.userId=de,this.status_=Qt.Loading,this.syncObservers=new Set,this.wait$=new Ce.c}get status(){return this.status_}updateStatus(Bt){const ne=this.status_;this.status_=Bt,this.isFirstSyncComplete(ne)&&(this.wait$.next(this.status),this.wait$.complete())}isFirstSyncComplete(Bt){return!this.wait$.closed&&Bt===Qt.Loading&&this.status_!==Qt.Loading}persist_(){this.updateStatus(Qt.Dirty);const Bt=this.getStore(this.userId,this.storeName),ne=(({status:xt,status_:de,persist_:pe,sync_:Te,observe_:Ke,unobserve_:xn,wait_:ni,dbHandler:mi,updateStatus:ci,isFirstSyncComplete:Do,getStore:zi,syncObservers:er,wait$:oo,...pi})=>pi)(this);return Bt.setItem(this.key,ne).pipe((0,o.b)(()=>this.updateStatus(Qt.Saved)),(0,C.K)(()=>(this.logError(`Error persisting the key ${this.key} to db`),(0,u.of)(ne))))}getStore(Bt,ne){return Bt?this.dbHandler.getUserStore(Bt,ne):this.dbHandler.getGlobalStore(ne)}sync_(){return this.getStore(this.userId,this.storeName).getItem(this.key).pipe((0,c.U)(ne=>{if(!((ne=ne||{})instanceof Object))throw new Error("Tried to cache plain old data. Only Object types supported");for(const xt of Object.keys(ne))this[xt]=ne[xt];return this.updateStatus(Qt.Saved),this.syncObservers.forEach(xt=>{xt()}),ne}))}wait_(){return this.wait$.closed&&(this.wait$=new Ce.c,this.status_!==Qt.Loading&&(this.wait$.next(this.status),this.wait$.complete())),this.wait$.asObservable()}observe_(Bt){this.syncObservers.add(Bt),this.status_!==Qt.Loading&&Bt()}unobserve_(Bt){this.syncObservers.delete(Bt)}logError(...Bt){console.error("DbHandler",this.storeName,JSON.stringify(Bt))}}let ze=(()=>{var Jt;class Bt{get globalCacheDefinitions(){return this.globalLoadMap}get userCacheDefinitions(){return this.userLoadMap}get globalCache(){return this.globalCacheMap}get userCache(){return this.userCacheMap}constructor(xt){this.dbService=xt,this.globalLoadMap=new Map,this.userLoadMap=new Map,this.globalCacheMap=new Map,this.userCacheMap=new Map}loadGlobalKey(xt,de){this.globalLoadMap.has(xt)||this.globalLoadMap.set(xt,new Set),this.globalLoadMap.get(xt).add(de),this.globalCacheMap.has(xt)||this.globalCacheMap.set(xt,new Map),this.globalCacheMap.get(xt).set(de,new De(this.dbService.dbHandler,xt,de))}loadUserKey(xt,de){this.userLoadMap.has(xt)||this.userLoadMap.set(xt,new Set),this.userLoadMap.get(xt).add(de)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(ve))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})(),$e=(()=>{var Jt;class Bt{constructor(xt,de,pe){this.loggingService=xt,this.dbService=pe,this.logger=this.loggingService.getLogger("crimson/dbCacheService"),this.globalCacheDefinitions=de.globalCacheDefinitions,this.userCacheDefinitions=de.userCacheDefinitions,this.globalCache=de.globalCache,this.userCacheMap=de.userCache,this.dbService.dbHandler.onDbItemChange.subscribe(Te=>{let Ke;Te.userId?this.userCacheMap.has(Te.userId)&&this.userCacheMap.get(Te.userId).has(Te.storeName)&&(Ke=this.userCacheMap.get(Te.userId).get(Te.storeName).get(Te.key)):this.globalCache.has(Te.storeName)&&(Ke=this.globalCache.get(Te.storeName).get(Te.key)),Ke&&Ke.sync_().subscribe()})}syncGlobal(xt){const de=this.globalCacheDefinitions.get(xt),pe=[];return de.forEach(Te=>{const Ke=this.globalCache.get(xt);pe.push(Ke.get(Te).sync_())}),(0,Wt.D)(pe).pipe((0,o.b)(()=>{this.logger.info(`Cached DB store ${xt} into memory`)}))}syncUser(xt,de){const pe=this.userCacheDefinitions.get(xt);this.userCacheMap.has(de)||this.initUserCache(de);const Te=[];return pe.forEach(Ke=>{const xn=this.userCacheMap.get(de).get(xt);Te.push(xn.get(Ke).sync_())}),(0,Wt.D)(Te).pipe((0,o.b)(()=>{this.logger.info(`Cached user DB store ${xt} into memory for user ${de}`)}))}initUserCache(xt){this.userCacheMap.set(xt,new Map),this.userCacheDefinitions.forEach((de,pe)=>{de.forEach(Te=>{this.userCacheMap.get(xt).has(pe)||this.userCacheMap.get(xt).set(pe,new Map),this.userCacheMap.get(xt).get(pe).set(Te,new De(this.dbService.dbHandler,pe,Te,xt))})})}getCachedGlobalItem(xt,de){if(this.globalCache.has(xt))return this.globalCache.get(xt).get(de)}getOrCreateCachedGlobalItem(xt,de){return(!this.globalCache.has(xt)||!this.globalCache.get(xt).has(de))&&(this.globalCacheDefinitions.has(xt)||this.globalCacheDefinitions.set(xt,new Set),this.globalCacheDefinitions.get(xt).add(de),this.globalCache.has(xt)||this.globalCache.set(xt,new Map),this.globalCache.get(xt).set(de,new De(this.dbService.dbHandler,xt,de))),this.globalCache.get(xt).get(de)}getCachedUserItem(xt,de,pe){return this.userCacheMap.has(xt)||this.initUserCache(xt),this.userCacheMap.get(xt).get(de).get(pe)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(ze),tt.LFG(ve))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var Gt,Se=t(23323);t(39097),t(91903),t(64915),function(Jt){let Bt;var ne;(ne=Bt=Jt.HandlerEventType||(Jt.HandlerEventType={})).SimpleWindowEvent="SIMPLE_WINDOW_EVENT",ne.StructuredWindowEvent="STRUCTURED_WINDOW_EVENT",ne.IpcEvent="IPC_EVENT"}(Gt||(Gt={}));var Zt=function(Jt){return Jt.Types=Gt,Jt}(Zt||{}),ee=t(6776);class _e{constructor(Bt,ne){this.bridgeService=Bt,this.keyToMessageType=new Map,this.eventHandlerLogger=ne,this.eventStreams=new z.eQ(xt=>{if(!this.keyToMessageType.has(xt))return this.eventHandlerLogger.error("No message type for key",xt),ee.C;const de=this.keyToMessageType.get(xt);return this.handlerMap[de].internalSubjects.set(xt,new Nt.xQ),this.handlerMap[de].internalSubjects.get(xt).asObservable()},!1,!1)}registerNewHandler(Bt,ne,xt,de,pe){this.handlerMap||(this.handlerMap={}),this.handlerMap[Bt]={pred:ne,keyFunc:xt,valFunc:de,transformedFunc:pe,internalSubjects:new Map}}get$(Bt,ne=this.defaultHandlerType){return this.keyToMessageType.has(Bt)||this.keyToMessageType.set(Bt,ne),this.eventStreams.get$(Bt)}processMessage(Bt){for(const ne of Object.keys(this.handlerMap))if(this.handlerMap[ne].pred(Bt)){const de=this.handlerMap[ne].transformedFunc(Bt),pe=this.handlerMap[ne].keyFunc(de),Te=this.handlerMap[ne].valFunc(de);this.handlerMap[ne].internalSubjects.has(pe)?this.handlerMap[ne].internalSubjects.get(pe).next(Te):this.eventHandlerLogger.info("No subscribers for event with key ",pe)}}}var Je=function(Jt){return Jt.ApplicationHide="APPLICATION_HIDE",Jt.ApplicationShow="APPLICATION_SHOW",Jt.WindowMinimize="MINIMIZE",Jt.WindowMaximize="MAXIMIZE",Jt.WindowRestore="RESTORE",Jt.IpcNewMessage="IPC_NEW_MESSAGE",Jt.SelfUpdate="SELF_UPDATE",Jt.RouteChange="URL_ROUTE_CHANGE",Jt.StoredCommandLine="STORED_COMMAND_LINE",Jt.ProcessEvent="PROCESS_EVENT",Jt.UpdateInitiated="UPDATE_INITIATED",Jt.SharedStorageUpdate="SHARED_STORAGE_UPDATE",Jt.ForegroundEvent="FOREGROUND_EVENT",Jt.DisplayModeChange="DISPLAYMODECHANGE",Jt}(Je||{});class qe{constructor(Bt){const{type:ne,...xt}=Bt;this.type=ne,this.params=xt}}class bn extends qe{constructor(Bt){super(Bt),this.newRoute=Bt["new-route"],this.currentRoute=Bt["current-route"]}}class kn{static create(Bt){return Bt.type===Je.RouteChange?new bn(Bt):new qe(Bt)}}let wn=(()=>{var Jt;class Bt extends _e{constructor(xt,de){const pe=de.getLogger("nativeEventService");super(xt,pe),this.logger=pe,this.defaultHandlerType=Zt.Types.HandlerEventType.SimpleWindowEvent,this.registerNewHandler(Zt.Types.HandlerEventType.StructuredWindowEvent,Te=>Te.startsWith("json:"),Te=>JSON.parse(Te).type,Te=>Te,Te=>Te.substring(5)),this.registerNewHandler(Zt.Types.HandlerEventType.SimpleWindowEvent,Te=>!Te.startsWith("json:"),Te=>Te,Te=>Te,Te=>Te),this.bridgeService.executeCommand(U.Gh.Common.Windowevents.RegisterWindowEventsCallback,{}).subscribe(Te=>{this.processMessage(Te)})}getNativeEvent$(xt){return this.get$(xt,Zt.Types.HandlerEventType.StructuredWindowEvent).pipe((0,c.U)(de=>kn.create(JSON.parse(de))))}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(e.dF),tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var On=t(44113),Ln=t(36217),yn=t(35662),Pe=t(39743),Ue=t(40153);const Gn="(orientation: portrait)",Yn="(orientation: landscape)",ye=`(max-width: 430px) and (max-height: 932px) and ${Gn}`,Ye=`(max-width: 932px) and (max-height: 430px) and ${Yn}`,kt={IPhone:`${ye}, ${Ye}`,IPhoneLandscape:`${Ye}`,IPhonePortrait:`${ye}`,IPhoneSELandscape:`(max-width: 568px) and (max-height: 320px) and ${Yn}`,IPhone8Portrait:`(max-width: 375px) and (max-height: 667px) and ${Gn}`,IPad:`(max-width: 1024px) and (max-height: 1366px) and ${Gn},\n             (max-width: 1366px) and (max-height: 1024px) and ${Yn}`},he=[{provide:Ue.Bs,useValue:[{alias:"lt-400",overlapping:!0,mediaQuery:"screen and (max-width: 399.98px)",priority:1050},{alias:"lt-360",overlapping:!0,mediaQuery:"screen and (max-width: 359.98px)",priority:1150},{alias:"lt-340",overlapping:!0,mediaQuery:"screen and (max-width: 339.98px)",priority:1250},{alias:"iphone",mediaQuery:kt.IPhone},{alias:"ipad",mediaQuery:kt.IPad},{alias:"handset",mediaQuery:Pe.u3.Handset}],multi:!0}],Ge="transparent";let at=(()=>{var Jt;class Bt{constructor(){this.enabled=!1,this.isBrowser=!1,this.isBrowser=f.n.isBrowserPlatform()}init(xt){this.enabled=xt,this.enabled&&this.setDefaultStyle()}setStyle(xt){document.documentElement.style.background=xt,document.body.style.background=xt}setDefaultStyle(){this.setStyle(this.isBrowser?"#191919":Ge)}setTransparent(xt){xt&&!this.isBrowser?this.setStyle(Ge):this.setDefaultStyle()}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();const St=[16,160,161,17,162,163,18,164,165,91,92,65335],Yt={0:"None",8:"Backsp",9:"Tab",16:"Shift",17:"Ctrl",18:"Alt",12:"Clear",13:"Enter",19:"Pause",20:"Caps",27:"Esc",32:"Space",33:"PgUp",34:"PgDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Exec",44:"PrtScn",45:"Insert",46:"Delete",47:"Help",91:"Win",92:"Win",93:"Apps",95:"Sleep",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"Num*",107:"Num+",108:"Separ",109:"Num-",110:"Num.",111:"Num/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLck",145:"ScrLck",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",65335:"Cmd"},se={Backspace:8,Tab:9,Shift:16,Control:17,Alt:18,Clear:12,Enter:13,Pause:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,Help:47,Win:91,ContextMenu:93,Standby:95,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,Cmd:65335};var fe=t(38435),Re=t(25219);class Ee{constructor(Bt,ne,xt){this.osType=ne,this.keyDownOnly=xt,this.currentKeyCombo=[],this.downSet=!1,this.logger=Bt.getLogger("crimson/KeypressHelper"),this.shortcutData$=new Nt.xQ,this.comboKeydown$=new Nt.xQ,xt&&this.comboKeydown$.pipe((0,s.w)(()=>(0,fe.H)(200))).subscribe(()=>{this.logger.verbose("combokeyhelper CurrentKeyCombo: ",this.currentKeyCombo),this.shortcutData$.next(this.currentKeyCombo),this.resetCurrentKeyCombo()})}get shortcutData(){return this.shortcutData$.asObservable()}get loadedKeyCombo(){return this.currentKeyCombo}get isDownSet(){return this.downSet}get isKeyDownOnly(){return this.keyDownOnly}setDown(){this.downSet=!0}setNonEnglishKeyboardLayout(Bt){this.nonEnglishKeyboardLayout=Bt}resetDownStatus(){this.downSet=!1}resetCurrentKeyCombo(){this.currentKeyCombo=[]}logEvent(Bt,ne){this.keyDownOnly||this.logger.info((ne?"Keyup":"Keydown")+" : "+Bt.key)}getCodeFromKbNonPrintableKey(Bt){for(const[ne,xt]of Re.jc.entries())if(ne.includes(Bt))return xt;return Bt.charCodeAt(0)}loadKey(Bt){if("Enter"===Bt.key||"Unidentified"===Bt.key||void 0===Bt.key)return!1;let ne=Bt.key;"Meta"===ne&&(ne=this.osType===dt.wi.MacOS?"Cmd":"Win")," "===ne&&(ne="Space");let xt=0;return Bt.code.startsWith("Digit")&&1===Bt.key.length?xt=Bt.code.charCodeAt(5):se[ne]?xt=se[ne]:1===ne.length?(this.nonEnglishKeyboardLayout&&(ne=this.getKeyFromCode(Bt.code.toLowerCase(),ne)),ne=ne.toUpperCase(),(1!==ne.length||" "===ne)&&(this.logger.info("toUpperCase broken: ",ne," resetting to key event: ",Bt.key),ne=Bt.key),xt=Bt.shiftKey?this.getCodeFromKbNonPrintableKey(ne):ne.charCodeAt(0)):this.logger.info("code is unknown: ",Bt.key),-1===this.currentKeyCombo.indexOf(xt)&&(this.currentKeyCombo.push(xt),!0)}isResetKey(Bt){return("Backspace"===Bt.key||"Delete"===Bt.key||" "===Bt.key)&&(this.currentKeyCombo.length=0,!0)}isMetaKey(Bt){return"Alt"===Bt.key||"Shift"===Bt.key||"Control"===Bt.key||"Meta"===Bt.key}isEscapeKey(Bt){return"Escape"===Bt.key&&(this.currentKeyCombo.length=0,!0)}shouldIgnore(Bt){return"Unidentified"===Bt.key||"Tab"===Bt.key||"ArrowDown"===Bt.key||"ArrowUp"===Bt.key||"ArrowLeft"===Bt.key||"ArrowRight"===Bt.key||this.osType===dt.wi.Windows&&"Meta"===Bt.key}isModifierKey(Bt){return("Shift"===Bt.key||"Meta"===Bt.key||"Control"===Bt.key||"Alt"===Bt.key)&&(this.logger.verbose("isModifierKey"),!0)}handleModifierKeys(Bt){if(Bt.metaKey){let ne;this.logger.verbose("processKeyDownEvent this.metaKey: "+Bt.metaKey),ne=this.osType===dt.wi.MacOS?"Cmd":"Win",this.currentKeyCombo.push(se[ne])}Bt.shiftKey&&(this.logger.verbose("processKeyDownEvent this.shiftKey: "+Bt.shiftKey),this.currentKeyCombo.push(se.Shift)),Bt.ctrlKey&&(this.logger.verbose("processKeyDownEvent this.ctrlKey: "+Bt.ctrlKey),this.currentKeyCombo.push(se.Control)),Bt.altKey&&(this.logger.verbose("processKeyDownEvent this.altKey: "+Bt.altKey),this.currentKeyCombo.push(se.Alt))}getKeyFromCode(Bt,ne){this.logger.verbose("getKeyFromCode code"+Bt);try{const xt=Bt.split("key");return this.logger.verbose("getKeyFromCode key"+xt[1]),xt[1]?xt[1]:ne}catch(xt){return this.logger.error("some error occured while fetching key from code",xt),ne}}processKeyDownEvent(Bt){this.logEvent(Bt,!1),(this.isKeyDownOnly||!this.isResetKey(Bt))&&(this.isEscapeKey(Bt)||this.shouldIgnore(Bt)||this.loadKey(Bt)&&this.comboKeydown$.next(Bt))}processKeyDownEventForHotkeyInvocation(Bt){this.logEvent(Bt,!1),(this.isKeyDownOnly||!this.isResetKey(Bt))&&(this.isEscapeKey(Bt)||this.shouldIgnore(Bt)||this.isModifierKey(Bt)||(this.handleModifierKeys(Bt),this.loadKey(Bt)&&this.comboKeydown$.next(Bt)))}}let Le=(()=>{var Jt;class Bt{constructor(xt){this.logger=xt.getLogger("crimson/hotkeyHelper")}processKey(xt){if(xt in Yt)return Yt[xt];const de=String.fromCharCode(xt);return""===de&&this.logger.error("ERROR: unsupported character: ",xt),de}shortcutToString(xt){return xt&&0!==xt.length?xt.map(de=>this.processKey(de)).join("+"):Yt[0]}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var xe=t(30285);const an={statusCode:xe.Bs.UnknownError};class Be{constructor(Bt,ne,xt){var de,pe;this.params=Bt,this.networkStatusService=ne,this.bridgeService=xt,this.getFailureCode=Te=>this.checkRequestCancelled(Te).pipe((0,l.zg)(Ke=>Ke.statusCode!==xe.Bs.UnknownError?(0,u.of)(Ke):this.checkNetworkStatus()),(0,l.zg)(Ke=>Ke.statusCode!==xe.Bs.UnknownError?(0,u.of)(Ke):this.checkDNSLookup(Te.requestUrl)),(0,C.K)(Ke=>(0,u.of)(an))),this.dnsLookupValidity=null!==(de=null===(pe=this.params)||void 0===pe?void 0:pe.dnsCacheValidity)&&void 0!==de?de:xe.PN,this.dnsLookupMap=new Map,this.requestCancelledMap=new Map}checkNetworkStatus(){return(0,u.of)(this.networkStatusService.isOnline?an:{statusCode:xe.Bs.NetworkStatusOffline})}getCachedDNSEntry(Bt){const ne=this.dnsLookupMap.get(Bt);if(ne&&Date.now()-ne.lastUpdatedTs<=this.dnsLookupValidity)return ne}checkDNSLookup(Bt){const ne=new URL(Bt).hostname,xt=this.getCachedDNSEntry(ne);return xt?(0,u.of)(xt.lookupSuccessful?an:{statusCode:xe.Bs.DNSLookupFailed,isUserOnline:!0,cachedDNSEntry:xt}):this.bridgeService.executeCommand(U.Gh.Common.Systeminfo.DNSLookup,{name:ne}).pipe((0,c.U)(de=>{if(!de)return an;const pe={lookupSuccessful:!0,lastUpdatedTs:Date.now(),destinationIp:(null==de?void 0:de.hostname)||""};return this.dnsLookupMap.set(ne,pe),{statusCode:xe.Bs.UnknownError,cachedDNSEntry:pe}}),(0,C.K)(de=>{const pe={lookupSuccessful:!1,lastUpdatedTs:Date.now(),destinationIp:""};return this.dnsLookupMap.set(ne,pe),(0,u.of)({statusCode:xe.Bs.DNSLookupFailed,isUserOnline:!0,cachedDNSEntry:pe})}))}checkRequestCancelled(Bt){const ne={statusCode:xe.Bs.RequestCancelled};return Bt.uniqueRequestId&&this.requestCancelledMap.has(Bt.uniqueRequestId)?(0,u.of)(ne):Bt.isCancelled?(Bt.uniqueRequestId&&this.requestCancelledMap.set(Bt.uniqueRequestId,!0),(0,u.of)(ne)):(0,u.of)(an)}}let ln=(()=>{var Jt;class Bt{constructor(xt,de){this.networkStatusService=xt,this.bridgeService=de}createAnalyzer(xt){return new Be(xt,this.networkStatusService,this.bridgeService)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(k._),tt.LFG(e.dF))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var tn=t(89718),Kn=t(85046),$n=t(680),mn=t(1062);function fn(Jt){return Jt instanceof HTMLInputElement||Jt instanceof HTMLTextAreaElement}function Rn(Jt,Bt){return Jt.visible===Bt.visible&&Jt.height===Bt.height}let qn=(()=>{var Jt;class Bt{get visualViewport(){return this.window.visualViewport}get document(){return this.window.document}get keyboardState$(){return this._keyboardState$.pipe((0,Kn.h)(xt=>void 0!==xt.height))}get keyboardVisible$(){return this._keyboardState$.pipe((0,c.U)(xt=>xt.visible))}constructor(xt,de,pe,Te){this.systemInfoService=pe,this.ngZone=Te,this.hiddenTextId="hiddentext",this.logger=xt.getLogger("SystemVirtualKeyboardService"),this.window=de.window,this._keyboardState$=this.createKeyboardState().pipe((0,b.x)(Rn),(0,$n.d)({bufferSize:1,refCount:!0}))}createKeyboardState(){return this.systemInfoService.getDeviceOSType().pipe((0,F.q)(1),(0,s.w)(xt=>{switch(xt){case dt.wi.WebOS:return this.createWebOSKeyboardState();case dt.wi.Tizen:return this.createTizenKeyboardState();case dt.wi.Windows:case dt.wi.Android:return this.createWindowsOrAndroidKeyboardState();case dt.wi.IOS:case dt.wi.IPadOS:return this.createIOSKeyboardState();default:return this.logger.warn("Attempting to monitor virtual keyboard state on unsupported platform"),ee.C}}))}createWebOSKeyboardState(){return f.n.isPWAModeOnLGTV()?this.ngZone.runOutsideAngular(()=>(0,pt.R)(this.document,"keyboardStateChange").pipe((0,c.U)(xt=>({visible:xt.detail.visibility})),(0,mn.O)({visible:!1}))):(this.logger.warn("Virtual keyboard detection is only possible in PWA mode"),ee.C)}createTizenKeyboardState(){return this.ngZone.runOutsideAngular(()=>{const xt=(0,tn.T)((0,pt.R)(this.window,"focusin").pipe((0,c.U)(pe=>fn(pe.target))),(0,pt.R)(this.window,"focusout").pipe((0,_.h)(!1))),de=(0,pt.R)(this.window,"keydown").pipe((0,Kn.h)(pe=>(65376===pe.keyCode||"Cancel"===pe.key)&&fn(pe.target)),(0,o.b)(pe=>{pe.target.blur()}),(0,s.w)(pe=>ee.C));return(0,tn.T)(xt,de).pipe((0,c.U)(pe=>({visible:pe})),(0,mn.O)({visible:!1}))})}createWindowsOrAndroidKeyboardState(){return this.visualViewport?this.ngZone.runOutsideAngular(()=>(0,pt.R)(this.visualViewport,"resize").pipe((0,c.U)(()=>Math.floor(this.window.innerHeight-this.visualViewport.height)),(0,b.x)()).pipe((0,c.U)(de=>{const Te=fn(this.document.activeElement)?de:0;return{visible:Te>0,height:Te}}),(0,o.b)(de=>{var pe;(null==de?void 0:de.height)<=0&&(null===(pe=this.document.activeElement)||void 0===pe?void 0:pe.id)===this.hiddenTextId&&this.document.activeElement.blur()}),(0,mn.O)({visible:!1,height:0}))):(this.logger.warn("visualViewport is required for virtual keyboard detection"),ee.C)}createIOSKeyboardState(){return this.visualViewport?this.ngZone.runOutsideAngular(()=>(0,tn.T)((0,pt.R)(this.visualViewport,"resize"),(0,pt.R)(this.window,"orientationchange")).pipe((0,Kn.h)(()=>this.visualViewport.height!==this.window.innerWidth),(0,c.U)(()=>this.window.innerHeight-this.visualViewport.height),(0,b.x)()).pipe((0,c.U)(de=>{const Te=fn(this.document.activeElement)?de:0;return{visible:Te>0,height:Te}}),(0,mn.O)({visible:!1,height:0}))):(this.logger.warn("visualViewport is required for virtual keyboard detection"),ee.C)}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(Xt),tt.LFG(D),tt.LFG(tt.R0b))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var hi=t(62906),Sn=function(Jt){return Jt.Registered="Registered",Jt.NotRegistered="NotRegistered",Jt.Played="Played",Jt.ClientError="ClientError",Jt}(Sn||{});const li="AppLaunch";let An=(()=>{var Jt;class Bt{constructor(xt){this.loggingService=xt,this.audioContextMap=new Map,this.audioSubject=new L.t(1),this.logger=this.loggingService.getLogger("AudioPlayService")}getAudioTelemetryData(){return this.audioSubject.asObservable()}playAudio(xt,de){const pe=this.audioContextMap.get(xt);var Te;pe?(this.logger.info(`Playing audio ${xt}`),null===(Te=pe.play())||void 0===Te||Te.then(Ke=>{this.logger.info(`Played audio ${xt}`),this.audioSubject.next({eventScenario:de,eventStatus:Sn.Played})}).catch(Ke=>{this.logger.error(`Error while playing Audio  ${xt} - ${Ke}`),this.audioSubject.next({eventScenario:de,eventStatus:Sn.ClientError,errorDetails:null!=Ke?Ke:""})})):(this.logger.error(`audio type ${xt} is not registered.`),this.audioSubject.next({eventScenario:de,eventStatus:Sn.NotRegistered}))}registerAudio(xt,de,pe){de?this.audioContextMap.has(xt)?this.logger.error(`audio type ${xt} is already registered.`):(this.logger.info(`Registering audio ${xt}.`),this.audioContextMap.set(xt,new Audio(de)),this.audioSubject.next({eventScenario:pe,eventStatus:Sn.Registered})):this.logger.error(`Invalid src param for audio ${xt}`)}removeAudio(xt){this.audioContextMap.has(xt)&&(this.logger.info(`Removing audio of type: ${xt}`),this.audioContextMap.delete(xt))}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var Nn=t(37717),Vn=t(78142);class Ci{constructor(Bt,ne,xt){this.ssoSharedPageUrl=ne,this.maxWaitTimeIframe=xt,this.clearUserDetailsFromSharedPage=this.iframeInteraction({type:Vn.oZ.DELETE}),this.getUserDetailsFromSharedPage=this.iframeInteraction({type:Vn.oZ.READ}),this.logger=Bt.getLogger("silentLogin");const de=new URL(ne);this.sharedUrlPageDomain=de.origin}openIframe(Bt){const ne=document.createElement("iframe");return ne.setAttribute("src",Bt),ne.style.border="0px",ne.style.width="0px",ne.style.height="0px",ne.style.display="none",document.body.appendChild(ne),(0,pt.R)(ne,"load").pipe((0,_.h)(ne))}closeIframe(Bt){Bt?Bt.remove():this.logger.error("Empty Iframe ELement")}sendIframeMessage(Bt,ne){if(!Bt)return this.logger.error("Iframe element is not present ",Bt),(0,g._)("Iframe element is not present");switch(this.logger.info("Sending message to iframe ",ne.type),ne.type){case Vn.oZ.WRITE:case Vn.oZ.READ:case Vn.oZ.DELETE:break;default:return(0,g._)("Invallid message type")}return Bt.contentWindow.postMessage(ne,this.sharedUrlPageDomain),(0,pt.R)(window,"message").pipe((0,Nn.V)(this.maxWaitTimeIframe),(0,F.q)(1),(0,c.U)(xt=>{var de,pe,Te;return(null==xt||null===(de=xt.data)||void 0===de?void 0:de.type)===Vn.oZ.SUCCESS?null===(Te=xt.data)||void 0===Te?void 0:Te.payload:(0,g._)(null==xt||null===(pe=xt.data)||void 0===pe?void 0:pe.type)}),(0,C.K)(xt=>(this.logger.info("Error occurred while listening to window message:",xt),(0,g._)(xt))))}iframeInteraction(Bt){let ne;return this.openIframe(this.ssoSharedPageUrl).pipe((0,l.zg)(xt=>(ne=xt,this.logger.info("Iframe loaded ",Bt.type),this.sendIframeMessage(xt,Bt))),(0,l.zg)(xt=>(this.logger.info("received reply from iframe, ",Bt.type),this.closeIframe(ne),(0,u.of)(xt))),(0,C.K)(xt=>(this.closeIframe(ne),(0,g._)(xt))))}saveUserDetailsToSharedPage(Bt){return Bt?(Bt.type=Vn.oZ.WRITE,this.iframeInteraction(Bt)):(0,g._)("Message Body empty")}}var Ve=t(95933),ri=t(50183),dn=function(Jt){return Jt.Laptop="Laptop",Jt.Notebook="Notebook",Jt.SubNotebook="Sub Notebook",Jt.Portable="Portable",Jt.Convertible="Convertible",Jt.Detachable="Detachable",Jt}(dn||{});const Zn=[dn.Laptop,dn.Convertible,dn.Detachable,dn.Notebook,dn.Portable,dn.SubNotebook];let ei=(()=>{var Jt;class Bt{constructor(xt,de,pe,Te){this.loggingService=xt,this.bridgeService=de,this.windowService=pe,this.eventStreamFactory=Te,this.logger=this.loggingService.getLogger("HardwareInformationService"),this.gpuInfoStream=this.eventStreamFactory.createStream(()=>this.fetchGPUInfo()),this.genericInfoStream=this.eventStreamFactory.createStream(()=>this.fetchGenericInfo()),this.setupHardwareInfoRefreshOnAppWindowFocus()}getGenericInfo(xt){return xt?this.genericInfoStream.refresh():this.genericInfoStream.get$()}getGpuInfo(xt){return xt?this.gpuInfoStream.refresh():this.gpuInfoStream.get$()}getSLIInformation(xt=!0){return this.getGpuInfo(xt).pipe((0,c.U)(de=>de.SLI))}getOptimusStatus(xt=!0){return this.getGpuInfo(xt).pipe((0,c.U)(de=>de.IsOptimus))}getIsLaptopSystem(){return this.getGenericInfo(!1).pipe((0,c.U)(xt=>Zn.includes(null==xt?void 0:xt.MoboType)),(0,C.K)(xt=>(0,u.of)(!1)))}fetchHardwareInfo(){return(0,ot.aj)([this.fetchGenericInfo(),this.fetchGPUInfo()]).pipe((0,F.q)(1),(0,o.b)(([xt,de])=>{const pe=this.genericInfoStream.getData(),Te=this.gpuInfoStream.getData();(0,h.isEqual)(pe,xt)||this.genericInfoStream.setData(xt,!0),(0,h.isEqual)(Te,de)||this.gpuInfoStream.setData(de,!0)}))}setupHardwareInfoRefreshOnAppWindowFocus(xt){var de;null===(de=this.onFocusInfoRefreshSub)||void 0===de||de.unsubscribe(),this.onFocusInfoRefreshSub=this.windowService.getFocusEvent().pipe((0,Ve.b)(null!=xt?xt:500),(0,s.w)(pe=>(this.logger.info("hardware info refreshed on focus"),this.fetchHardwareInfo())),(0,C.K)(pe=>(this.logger.error("failed to reload sys info",pe),(0,u.of)(!0)))).subscribe()}fetchGenericInfo(){return this.genericInfoObs$||(this.genericInfoObs$=this.bridgeService.executeCommand(U.Gh.Nvapp.Driverupdaterecommendation.GetGenericInfo).pipe((0,ri.B)(),(0,o.b)(xt=>{this.logger.info("Generic info fetched success:",xt)}),(0,C.K)(xt=>(this.logger.error("there is problem fetching generic info",xt),(0,g._)(xt))),(0,ut.x)(()=>{this.genericInfoObs$=null}))),this.genericInfoObs$}fetchGPUInfo(){return this.gpuInfoObs$||(this.gpuInfoObs$=this.bridgeService.executeCommand(U.Gh.Nvapp.Driverupdaterecommendation.GetGPUInfo).pipe((0,ri.B)(),(0,o.b)(xt=>{this.logger.info("Gpu info fetched success:",xt)}),(0,C.K)(xt=>(this.logger.error("there is problem fetching gpu info",xt),(0,g._)(xt))),(0,ut.x)(()=>{this.gpuInfoObs$=null}))),this.gpuInfoObs$}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed),tt.LFG(e.dF),tt.LFG(Xt),tt.LFG(z.O_))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})();var Wi=function(Jt){return Jt.png="png",Jt.png8="png8",Jt.png24="png24",Jt.png32="png32",Jt.png48="png48",Jt.png64="png64",Jt.jpe="jpe",Jt.jpeg="jpeg",Jt.jpg="jpg",Jt.ico="ico",Jt.icon="icon",Jt.webp="webp",Jt}(Wi||{});let To=(()=>{var Jt;class Bt{constructor(xt){this.defaultImageProperties={f:Wi.webp},this.logger=xt.getLogger("ImageFormatService")}formatImageServiceUrl(xt,de={}){const pe={...this.defaultImageProperties,...de},Te=Object.keys(pe);for(const Ke of Te){const xn=pe[Ke]||(0,h.isBoolean)(pe[Ke])?""+pe[Ke]:void 0;xn&&xn.length>0&&!(0,h.isNil)(xt)&&(xt+=";"+Ke+"="+pe[Ke])}return xt}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.LFG(I.ed))},Jt.\u0275prov=tt.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Bt})(),io=(()=>{var Jt;class Bt{constructor(xt){this.elRef=xt}ngOnInit(){this.registerDomChangedEvent(this.elRef.nativeElement)}registerDomChangedEvent(xt){new MutationObserver(xn=>{const ni=new CustomEvent("dom-changed",{detail:xn,bubbles:!0});xt.dispatchEvent(ni)}).observe(xt,{attributes:!0,childList:!0,subtree:!0})}}return(Jt=Bt).\u0275fac=function(xt){return new(xt||Jt)(tt.Y36(tt.SBq))},Jt.\u0275dir=tt.lG2({type:Jt,selectors:[["","nvWatchDomTree",""]]}),Bt})()},31157:(Dt,ct,t)=>{"use strict";t.d(ct,{sZ:()=>i,Dc:()=>W,Vi:()=>Z,H7:()=>V,sk:()=>w,$Q:()=>p,j1:()=>O,NI:()=>h});var e=t(61699);let i=(()=>{var A;class d{}return(A=d).\u0275fac=function($){return new($||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({}),d})();var L=t(33994),f=t(15746),x=t(58175),S=t(90786),u=t(47178),g=t(77869),h=function(A){return A.HttpUrl="http.url",A.HttpStatusCode="http.status_code",A.HttpStatusCodeFamily="http.status_code_family",A.HttpMethod="http.method",A.HttpHostname="http.hostname",A.HttpHeadersPrefix="http.headers.",A.HttpPath="http.path",A.HttpErrorText="http.error_text",A.ParamsPrefix="params.",A.Error="error",A.SpanKind="span.kind",A.Component="component",A.ClientOs="client.os",A.ClientOsName="client.os.name",A.ClientOsVersion="client.os.version",A.ServiceVersion="service.version",A.ServiceType="service.type",A.Type="type",A.DeviceId="deviceId",A.AppName="appName",A.LayoutExecutionId="layoutExecutionId",A.Origin="origin",A.VpcId="vpcId",A.Locale="locale",A.Trigger="trigger",A.LoginStatus="loginStatus",A.CmsId="cmsId",A.FailurePoint="failurePoint",A.ErrorCode="errorCode",A.ErrorType="errorType",A.NetworkOverridePresent="networkOverridePresent",A.NetworkTestStatus="networkTestStatus",A.ZoneName="zone.name",A.ZoneAddress="zone.address",A.OobeDialogShown="oobeDialogShown",A.LoginWindowShown="loginWindowShown",A.LaunchSource="launchSource",A.ShortName="shortName",A.UsedLatencyBasedRouting="usedLatencyBasedRouting",A.IsSessionAutoResumed="isSessionAutoResumed",A.ErrorDetails="errorDetails",A.RoutingOverrideUsed="routingOverrideUsed",A.OverrideZoneName="overrideZoneName",A.OverrideZoneAddress="overrideZoneAddress",A.SessionId="sessionId",A.SkippedAuthCheck="skippedAuthCheck",A.CountryCode="countryCode",A.FastestJarvisDomain="fastestJarvisDomain",A.TraceId="traceId",A.RequestId="requestId",A.PanelType="panelType",A.BeforeEventDuration="beforeEventDuration",A.PresentDuration="presentDuration",A.PushMessageType="pushMessageType",A.AccountLinkingProvider="accountLinkingProvider",A.HasFilters="hasFilters",A.HasSearchQuery="hasSearchQuery",A.IsFirstPage="isFirstPage",A}(h||{}),O=function(A){return A.DelegateToken="GetDelegateToken",A.ClientGetLayout="ClientGetLayout",A.FetchLayout="LayoutManagerGetLayout",A.GetServerInfo="GetServerInfo",A.GetSpecificServerInfo="GetSpecificServerInfo",A.ClientGetAppMetadata="ClientGetAppMetadata",A.ClientGetAppsList="ClientGetAppsList",A.FetchAppsList="LayoutManagerGetAppsList",A.FetchAppMetadata="LayoutManagerGetAppMetadata",A.FetchSubscriptions="FetchSubscriptions",A.GetEntitlementStatus="GetEntitlementStatus",A.GameLaunch="GameLaunch",A.ClientGetSubscriptions="ClientGetSubscriptions",A.GetActiveSessions="GetActiveSessions",A.GetSessionInfo="GetSessionInfo",A.StartStreaming="StartStreaming",A.GetUserEntitlements="GetUserEntitlements",A.UpdateCheck="UpdateCheck",A.PreStreaming="PreStreaming",A.StreamerAuthentication="StreamerAuthentication",A.StreamerAuthorization="StreamerAuthorization",A.StreamerNetworktest="StreamerNetworkTest",A.SessionLoading="SessionLoading",A.GetRatingsInfo="GetRatingsInfo",A.GxTargetGetFeature="GxTargetGetFeature",A.GetFastestDomain="GetFastestDomain",A.JarvisPing="JarvisPing",A.JarvisOAuth="JarvisOAuth",A.StarfleetOAuth="StarfleetOAuth",A.LcarsFetchQueryData="LcarsFetchQueryData",A.LcarsPostQueryData="LcarsPostQueryData",A.ClientGetSurvey="ClientGetSurvey",A.ClientDismissSurvey="ClientDismissSurvey",A.PlatformSelection="PlatformSelection",A.PlatformSelectionSharedStorageRead="PlatformSelectionSharedStorageRead",A.PlatformSelectionDialogInteraction="PlatformSelectionDialogInteraction",A.AccountLinking="AccountLinking",A.AccountLinkingDialogInteraction="AccountLinkingDialogInteraction",A.AlsGetLoginUrl="AlsGetLoginUrl",A.AlsPostLoginUrl="AlsPostLoginUrl",A.AlsPostToken="AlsPostToken",A.AlsSync="AlsSync",A.AlsDeleteLinking="AlsDeleteLinking",A.AlsUserLogin="AlsUserLogin",A.AlsTokenExchange="AlsTokenExchange",A.AlsUIConnect="AlsUIConnect",A.AlsUIDisconnect="AlsUIDisconnect",A.AlsUIReconnect="AlsUIReconnect",A.AlsUIResync="AlsUIResync",A.GetAemReleaseHighlights="GetAemReleaseHighlights",A.GetGfwslInformation="GetGfwslInformation",A.StarfleetDeleteClientToken="StarfleetDeleteClientToken",A.StarfleetGetClientToken="StarfleetGetClientToken",A.StarfleetGetAccessToken="StarfleetGetAccessToken",A.StarfleetGetUserInfo="StarfleetGetUserInfo",A.SendTelemetryEvent="SendTelemetryEvent",A.ClientSettings="ClientSettings",A.ScheduledMaintenance="ScheduledMaintenance",A.ScheduledMaintenanceSessionEndError="ScheduledMaintenanceSessionEndError",A.ClientGetCloudVariable="ClientGetCloudVariable",A.ClientStreamingQuality="ClientStreamingQuality",A.PushNotificationRegistration="PushNotificationRegistration",A.KVStoreGetClientData="KVStoreGetClientData",A.KVStoreSetClientData="KVStoreSetClientData",A.KVStoreDeleteClientData="KVStoreDeleteClientData",A.KVStoreAppendClientData="KVStoreAppendClientData",A.ClientGetPanel="ClientGetPanel",A.ClientDesktopPaste="ClientDesktopPaste",A.ClientClipboardAvailable="ClientClipboardAvailable",A.BackgroundNetworkTest="BackgroundNetworkTest",A.GetRemoteConfigV2="GetRemoteConfigV2",A.PushMessageReceived="PushMessageReceived",A.PnsRegistration="PnsRegistration",A.PnsUnregister="PnsUnregister",A.UserAccountData="UserAccountData",A.SessionLengthWarning="SessionLengthWarning",A.VrsGetRewards="VrsGetRewards",A.UpsellMessages="UpsellMessages",A.CampaignsInfo="CampaignsInfo",A.SearchFilterGames="SearchFilterGames",A.UasAcquireUser="UasAcquireUser",A.AdToken="AdToken",A.AdSession="AdSession",A.AdOpportunity="AdFetch",A.AdStart="AdStart",A.FilterGroupSortOrderDefinitions="FilterGroupSortOrderDefinitions",A.GetLoginWallData="GetLoginWallData",A.GetLoginWallStringsOnly="GetLoginWallStringsOnly",A.AddFavoriteApp="AddFavoriteApp",A.RemoveFavoriteApp="RemoveFavoriteApp",A.AddOwnedVariant="AddOwnedVariant",A.RemoveOwnedVariant="RemoveOwnedVariant",A.SelectOwnedVariant="SelectOwnedVariant",A}(O||{}),E=function(A){return A.XmlHttpRequest="XMLHttpRequest",A}(E||{}),w=function(A){return A.Pc_A7="pc-a7",A.Native_Windows="native-windows",A}(w||{}),p=function(A){return A.Client="client",A}(p||{}),V=function(A){return A.VpcId="ERROR_WHILE_GETTING_VPCID",A}(V||{}),C=t(26575),l=t(5717),o=t(9681),n=t(55617),s=t(87965),R=t(30285),_=t(45078),b=t(13963),I=t(14988),q=t(67009),a=t(13506),y=t(59261),M=t(65745),P=t(48859),K=t(64451),B=t(90790),j=t(71264),tt=t(32885),ot=t(35006),F=t(23474),z=t(85239),Q=t(10484),dt=t(46939);class X extends Q.M{constructor(d,H){super(d),this._isTracingDisabledReplaySubject=H}export(d,H){this._isTracingDisabledReplaySubject.asObservable().pipe((0,dt.q)(1)).subscribe($=>{$||super.export(d,H)})}}let m=(()=>{var A;class d{constructor(){this.initializationMap=new Map}initialize($,J){var st;if(this.initializationMap.get($.exportConfig.componentName))return;const gt={resource:new a._({[y.R9.SERVICE_NAME]:$.exportConfig.componentName})};this.provider=new I.m(gt);const vt=[new ot.jf];null!==(st=$.propagationConfig)&&void 0!==st&&st.openTracingContextPropagation&&vt.push(new M.RG),this.compositePropagator=new F.Y({propagators:vt}),P.u.setGlobalPropagator(this.compositePropagator);const pt=new tt.X;pt.enable(),this.provider.register({propagator:this.compositePropagator,contextManager:pt}),this.exporter=new X({headers:{"Lightstep-Access-Token":$.exportConfig.accessToken},url:$.exportConfig.collectorUrl},J),(0,z.c)(Nt=>{console.error("Error while tracing",Nt)}),this.provider.addSpanProcessor(new q.p(this.exporter,{disableAutoFlushOnDocumentHide:!0})),this.initializationMap.set($.exportConfig.componentName,!0)}getSpanContextInfo($){if(!this.tracer)return null;const J={},st=K.g.setSpanContext(B.D.active(),$.spanContext());return P.u.inject(st,J,j.M),J}getTraceInjectWrapper(){return this.getSpanContextInfo.bind(this)}createSpanUsingContextInfo($,J){if(!this.tracer)return null;const st=P.u.extract(B.D.active(),J),lt=this.tracer.startSpan($,{},st);return this.getSpanContextInfo(lt),lt}getCreateSpanUsingContextWrapper(){return this.createSpanUsingContextInfo.bind(this)}createSpan($,J){if(!this.tracer)return null;if(!J)return this.tracer.startSpan($);const st=K.g.setSpan(B.D.active(),J);return this.tracer.startSpan($,{},st)}getOTELTracer($,J){return this.initialize($,J),this.tracer=this.provider.getTracer(),this.tracer}extractContext($,J,st){const lt=J||B.D.active();return P.u.extract(lt,$,st)}runWithContext($,J,st,...lt){return B.D.with($,J,st,...lt)}}return(A=d).\u0275fac=function($){return new($||A)},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),d})();const Y={[XMLHttpRequest.UNSENT]:"unsent",[XMLHttpRequest.OPENED]:"opened",[XMLHttpRequest.HEADERS_RECEIVED]:"headers received",[XMLHttpRequest.LOADING]:"loading",[XMLHttpRequest.DONE]:"done"},D=(A,d)=>{A.setAttributes({[h.HttpStatusCode]:d,[h.HttpStatusCodeFamily]:d.toString().replace(/[0-9]{2}$/,"XX"),[h.Error]:d<=0||d>=400})};let N=(()=>{var A;class d extends C.JF{constructor($,J,st){super(),this.statusCodeZeroAnalyzerFactoryService=$,this.serviceWorkerService=J,this.otelTracerService=st,this.globalSpanTags={},this.tracer=null,this.tracingEnabledURLRegex=[],this.tracingEnabledUrls=new Map,this.pendingNetworkResponseSpanMap=new Map,this.createSpanUsingContext=this.otelTracerService.getCreateSpanUsingContextWrapper(),this.traceInjectWrapper=this.otelTracerService.getTraceInjectWrapper()}initialize($,J,st,lt){this.tracer=$,this.setTracingEnabledURLRegex(J.urlRegex),this.setStatusCodeZeroAnalyzerConfig(st),this.serviceWorkerService.networkResponseReceived.subscribe(gt=>{this.removeFromSWPendingRequests(gt)},l.Z),lt.asObservable().subscribe(gt=>{this.globalSpanTags=gt},gt=>{this.globalSpanTags={}})}addToSWPendingRequests($,J){this.pendingNetworkResponseSpanMap.set($,J)}removeFromSWPendingRequests($){if(this.pendingNetworkResponseSpanMap.has($.requestId)){const J=this.pendingNetworkResponseSpanMap.get($.requestId);this.pendingNetworkResponseSpanMap.delete($.requestId),0===$.responseStatusCode?this.statusCodeZeroAnalyzer.getFailureCode({requestUrl:$.requestUrl,uniqueRequestId:$.requestId,isCancelled:!1}).subscribe(st=>{D(J,st.statusCode),J.end($.responseReceivedTimeMs)},l.Z):(D(J,$.responseStatusCode),J.end($.responseReceivedTimeMs))}}build(){const $=new XMLHttpRequest;return(0,u.isNil)(this.tracer)||($.requestHeaders={},$.commonSpanTags=this.globalSpanTags,$.tracer=this.tracer,$.open=this.wrapOpen($),$.send=this.wrapSend($),$.setRequestHeader=this.wrapSetRequestHeader($),$.constructSpanTags=this.getConstructSpanTags(),$.injectCarrierHeaders=this.getInjectCarrierHeaders(),$.getOperationName=this.getOperationName(),$.createSpanUsingContext=this.createSpanUsingContextWrapper(),$.getResponseHeaders=this.getResponseHeaders(),$.analyzeStatusCodeZero=this.analyzeStatusCodeZero(),$.addEventListener("readystatechange",this.getOnReadyStateChangedListener()),$.addEventListener("abort",this.handleAbort())),$}handleAbort(){return function(){this.isRequestAborted=!0}}setTracingEnabledURLRegex($){this.tracingEnabledURLRegex=$.map(J=>new RegExp(J,"g"))}setStatusCodeZeroAnalyzerConfig($){this.statusCodeZeroAnalyzer&&(this.statusCodeZeroAnalyzer=null),this.statusCodeZeroAnalyzer=this.statusCodeZeroAnalyzerFactoryService.createAnalyzer($)}matchURLAgainstEnabledList($){if(!this.tracingEnabledUrls.has($)){const J=this.tracingEnabledURLRegex.findIndex(st=>{const lt=$.match(st);return!(0,u.isNil)(lt)&&1===lt.length});this.tracingEnabledUrls.set($,-1!==J)}return this.tracingEnabledUrls.get($)}isURLEnabledForTracing($){return!(0,u.isNil)($)&&this.matchURLAgainstEnabledList($.toString())}getResponseHeaders(){return function(){const st=this.getAllResponseHeaders().replace(/\s+$/,"").split(/\n/);for(let lt=0;lt<st.length;lt++)st[lt]=st[lt].replace(/\r/g,"").trim();return st}}getOperationName(){return function(){return this.method+" "+this.urlInfo.hostname+this.urlInfo.pathname}}createSpanUsingContextWrapper(){const $=this.createSpanUsingContext;return function(st){return $(st,this.requestHeaders)}}analyzeStatusCodeZero(){const $=this.statusCodeZeroAnalyzer.getFailureCode;return function(){return $({requestUrl:this.urlInfo.href,isCancelled:this.isRequestAborted,uniqueRequestId:this.uniqueRequestId||""})}}getOnReadyStateChangedListener(){return function(){const J=this.uniqueRequestId&&this.isHandledByServiceWorker?this.serviceWorkerSpan:this.span;(0,u.isNil)(J)||(this.readyState===XMLHttpRequest.UNSENT||this.readyState===XMLHttpRequest.OPENED?J.addEvent(Y[this.readyState]):this.readyState===XMLHttpRequest.HEADERS_RECEIVED?J.addEvent(Y[this.readyState],{method:this.method,url:this.urlInfo.href,responseHeaders:this.getResponseHeaders()}):this.readyState===XMLHttpRequest.LOADING?J.addEvent(Y[this.readyState]):this.readyState===XMLHttpRequest.DONE?(J.addEvent(Y[this.readyState],{method:this.method,url:this.urlInfo.href,statusText:this.statusText,responseType:this.responseType,responseHeaders:this.getResponseHeaders()}),0===this.status?(0,o.of)(!0).pipe((0,n.g)(100),(0,s.zg)(st=>this.analyzeStatusCodeZero(this.urlInfo.href))).subscribe(st=>{J.setAttributes({status:st.statusCode}),D(J,st.statusCode),J.end()}):(J.setAttributes({status:this.status}),D(J,this.status),J.end())):J.setAttributes({readyState:this.readyState}))}}getConstructSpanTags(){return function(){const J={[h.Component]:E.XmlHttpRequest,[h.HttpMethod]:this.method,[h.Type]:this.urlInfo.protocol.replace(":",""),[h.HttpHostname]:this.urlInfo.hostname,[h.HttpUrl]:this.urlInfo.pathname};return(0,u.extend)(J,this.commonSpanTags),Object.keys(this.requestHeaders).forEach(lt=>{J[h.HttpHeadersPrefix+lt]=this.requestHeaders[lt]}),this.urlInfo.searchParams.forEach((lt,gt)=>{J[h.ParamsPrefix+gt]=lt}),J}}getInjectCarrierHeaders(){const $=this.traceInjectWrapper;return function(){const st=$(this.span);Object.keys(st).forEach(gt=>{Object.getPrototypeOf(this).setRequestHeader.call(this,gt,st[gt]),this.setRequestHeader(gt,st[gt])})}}wrapOpen($){const J=$.open;return function(lt,gt,vt,k,pt){this.method=lt;try{this.urlInfo=new URL(gt)}catch{this.urlInfo=null}J.apply(this,arguments)}}wrapSend($){const J=$.send,st=this.isURLEnabledForTracing.bind(this),lt=this.serviceWorkerService.willGFNServiceWorkerHandleRequest.bind(this),gt=this.addToSWPendingRequests.bind(this),vt=this.omitOpentracingHeaders;return function(pt){(0,u.isNil)(this.urlInfo)||(this.span=this.createSpanUsingContext(this.getOperationName()),this.isHandledByServiceWorker=lt(this.urlInfo.href,this.bypassCacheHeaderValue),this.uniqueRequestId&&this.isHandledByServiceWorker&&(this.serviceWorkerSpan=this.createSpanUsingContext("SW "+this.getOperationName()),this.serviceWorkerSpan.setAttributes(this.constructSpanTags()),gt(this.uniqueRequestId,this.span)),this.requestHeaders=vt(this.requestHeaders),st(this.urlInfo)&&this.injectCarrierHeaders(),this.span.setAttributes(this.constructSpanTags()),this.span.addEvent("send")),J.apply(this,arguments)}}wrapSetRequestHeader($){const J=$.setRequestHeader;return function(lt,gt){"Authorization"===lt||"X_LOCAL_SECURITY_COOKIE"===lt||lt===_.Fk.SwCacheKeyAppendString||(this.requestHeaders[lt]=gt,lt===R.n0.xRequestId&&(this.uniqueRequestId=gt),lt===_.Fk.SwCacheBypass&&(this.bypassCacheHeaderValue=gt)),!lt.startsWith("ot-")&&!lt.startsWith("traceparent")&&J.apply(this,arguments)}}omitOpentracingHeaders($){return(0,u.omitBy)($,J=>!J.startsWith("ot-")&&!J.startsWith("traceparent"))}}return(A=d).\u0275fac=function($){return new($||A)(e.LFG(b.Ng),e.LFG(_.HR),e.LFG(m))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),d})();const Z={provide:C.JF,useExisting:N};let W=(()=>{var A;class d{constructor($,J,st){this.openTelemetryService=$,this.loggingService=J,this.injector=st,this.logger=this.loggingService.getLogger("DistributedTracingUtilService")}setSpanAttribute($,J,st){$.setAttribute(J,st)}setSpanAttributes($,J){$.setAttributes(J)}initializeDistributedTracing($,J,st){this.tracer=this.openTelemetryService.getOTELTracer($,J),st.subscribe(lt=>{this.commonTags=lt},lt=>{this.logger.error("Error while setting global tags. No global tags will be used",lt),this.commonTags={}}),this.distributedTracingXhrFactoryService=this.injector.get(N),this.distributedTracingXhrFactoryService.initialize(this.tracer,$.apiTracingConfig,$.statusCodeZeroAnalyzerConfig,st)}getFormattedUrlForHttpPopupSpan($,J){if(J&&this.tracer){const st={};this.injectSpanHttpHeaders(J,st);const lt=new URL($),gt=JSON.stringify((0,u.extend)({},st)),vt=lt.searchParams.toString();$=`${lt.origin}${lt.pathname}?tracer=${(0,g.h$)(gt,!0,!0)}`,vt.length&&($=`${$}&${vt}`)}return $}startSpan($,J){return this.openTelemetryService.createSpan($,J)}startSpanUsingContext($,J){return this.openTelemetryService.createSpanUsingContextInfo($,J)}inject($){return this.openTelemetryService.getSpanContextInfo($)}injectSpanHttpHeaders($,J){const st=this.openTelemetryService.getSpanContextInfo($),lt=Object.keys(st);for(const gt of lt)J[gt]=st[gt]}handleHttpError($,J){this.setSpanAttribute($,h.Error,!0),this.setSpanAttribute($,h.HttpStatusCode,J&&J.status||0)}handleHttpPopupError($,J){this.setSpanAttribute($,h.Error,!0),this.setSpanAttribute($,h.HttpStatusCode,J.errorCode),this.setSpanAttribute($,h.HttpErrorText,J.errorText),this.setSpanAttribute($,h.HttpUrl,J.failedUrl)}handleHttpSuccess($,J){this.setSpanAttribute($,h.Error,!1),J&&this.setSpanAttribute($,h.HttpUrl,J)}handleHttpEndpointSpan($,J,st,lt){const gt=J.headers?J.headers:{},vt=this.startSpan(st,lt);return vt?(this.setSpanAttributes(vt,J.params?J.params:{}),this.injectSpanHttpHeaders(vt,gt),$.pipe((0,f.b)(()=>this.handleHttpSuccess(vt)),(0,x.K)(pt=>(this.handleHttpError(vt,pt),(0,L._)(pt))),(0,S.x)(()=>this.closeSpan(vt)))):$}closeSpan($){$&&(this.setSpanAttributes($,this.commonTags),$.end())}closeHttpPopupSpan($,J,st){$&&(this.setSpanAttributes($,this.commonTags),J?this.handleHttpPopupError($,st):this.handleHttpSuccess($,st.failedUrl),$.end())}sendOpenTracingSpanTags($,J,st){const lt=this.startSpan($,st);null==J||J.forEach((gt,vt)=>{this.setSpanAttribute(lt,vt,gt)}),this.closeSpan(lt)}runWithinSpanContext($,J,st,...lt){const gt=this.openTelemetryService.extractContext($);return this.openTelemetryService.runWithContext(gt,J,st,...lt)}}return(A=d).\u0275fac=function($){return new($||A)(e.LFG(m),e.LFG(b.ed),e.LFG(e.zs3))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),d})()},14955:(Dt,ct,t)=>{"use strict";t.d(ct,{Dr:()=>V,iX:()=>y,BU:()=>L,r7:()=>c,xv:()=>O});var e=t(54860),i=t(61699);let L=(()=>{var M;class P{}return(M=P).\u0275fac=function(B){return new(B||M)},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),P})();var f=t(17401),x=t(45356),S=t(78654);let u=(()=>{var M;class P{constructor(B,j){this.dialogRef=B,this.data=j,this.content=j.content}}return(M=P).\u0275fac=function(B){return new(B||M)(i.Y36(f.so),i.Y36(f.WI))},M.\u0275cmp=i.Xpm({type:M,selectors:[["ng-component"]],decls:7,vars:3,consts:[["mat-dialog-title","",1,"font-header4"],["mat-dialog-content",""],[1,"exception-content","font-body2",3,"innerHTML"],["mat-dialog-actions","","fxLayoutAlign","end end","fxLayout","row"],["mat-button","",1,"font-button1",3,"mat-dialog-close"]],template:function(B,j){1&B&&(i.TgZ(0,"h1",0),i._uU(1),i.qZA(),i.TgZ(2,"div",1),i._UZ(3,"div",2),i.qZA(),i.TgZ(4,"div",3)(5,"button",4),i._uU(6," Close "),i.qZA()()),2&B&&(i.xp6(1),i.Oqu(j.data.title),i.xp6(2),i.Q6J("innerHTML",j.content,i.oJD),i.xp6(2),i.Q6J("mat-dialog-close",!0))},dependencies:[f.ZT,f.uh,f.xY,f.H8,x.xw,x.Wh,S.eB],styles:[".exception-content[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;background-color:#212121;padding:10px;overflow-wrap:anywhere}"]}),P})();const g_Sanitize=/(\w+:|[\\/]).*[\\/]/gi,g_Indentation=/ at /g,g_Class=/([^]+)/g;class O{constructor(P,K){this.err=K,this.errorMessage=P,this.metadata={}}get error(){return this.err}toString(){return this.errorMessage+":"+JSON.stringify(this.err)}addMetadata(P,K){this.metadata[P]=K}getMetaData(){return this.metadata}}var E=t(13752),w=t(89857),p=t(13963);const V={exceptionTimeLimiter:6e4,clientName:"unknown",isExceptionEnabled:!0,devMode:!1};let c=(()=>{var M;class P{constructor(B,j,tt){this.logger=B,this.injector=j,this.dialog=tt}handleError(B){var j,tt;let ot=!1;this.logger.info("UnHandled Exception was caught",B);const F=this.injector.get(L);if(F&&(this.isEnabled=F.isExceptionEnabled,this.devMode=F.devMode),!this.isEnabled||((null==B?void 0:B.rawResponse)instanceof e.UA?(this.logger.error("There was an HTTP error. Skipping exception event"),ot=!0):B instanceof E.W?(this.logger.error("Timeout error occured. Skipping exception event"),ot=!0):B instanceof TypeError?this.logger.error("Type error occured. Sending exception telemetry"):B instanceof Error?this.logger.error("Error occured. Sending exception telemetry"):(this.logger.error("Unknown error or cef query failure. Skipping exception event"),ot=!0),ot&&!this.devMode))return;const U={name:B.name,message:B.message,stackFrame:null,exceptionString:null};B.stack=null===(j=B.stack)||void 0===j?void 0:j.replace(g_Sanitize,""),U.stackFrame=null!==(tt=B.stack)&&void 0!==tt?tt:w.wy.Undefined;const z=JSON.stringify(U);this.logger.error("Exception stack trace ",z),this.devMode&&this.dialog.open(u,{autoFocus:!1,disableClose:!0,panelClass:"nv-overlay-panel",data:{title:"Unhandled Exception",content:B.stack?this.formatExceptionStack(B.stack):z}}),ot||(U.exceptionString=U.stackFrame,this.handleClientSideException(U,F))}formatExceptionStack(B){return B.replace(g_Indentation,"<br>&nbsp;&nbsp;&nbsp;at ").replace(g_Class,"<span>$1</span>")}}return(M=P).\u0275fac=function(B){return new(B||M)(i.LFG(p.Yd),i.LFG(i.zs3),i.LFG(f.uw))},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),P})();var C=t(28849),l=t(57665),o=t(86515),n=t(33910),s=t(99674),R=t(39038),_=t(60702);const b=[C.u5,S.yu,l.IF,R.gR,n.Cq,o.Ps,s.c,_.AV];let I=(()=>{var M;class P{}return(M=P).\u0275fac=function(B){return new(B||M)},M.\u0275mod=i.oAB({type:M}),M.\u0275inj=i.cJS({imports:[C.u5,b,C.u5,S.yu,l.IF,R.gR,n.Cq,o.Ps,s.c,_.AV]}),P})();var q=t(32995),a=t(43559);let y=(()=>{var M;class P{}return(M=P).\u0275fac=function(B){return new(B||M)},M.\u0275mod=i.oAB({type:M}),M.\u0275inj=i.cJS({imports:[f.Is,q.o9,I,a.aw]}),P})()},47927:(Dt,ct,t)=>{"use strict";t.d(ct,{sY:()=>L,$b:()=>f,Q6:()=>N,Qu:()=>K,Z4:()=>P});var e=t(61699);let i=(()=>{var Z;class W{}return(Z=W).\u0275fac=function(d){return new(d||Z)},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac}),W})(),L=(()=>{var Z;class W extends i{}return(Z=W).\u0275fac=function(){let A;return function(H){return(A||(A=e.n5z(Z)))(H||Z)}}(),Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac}),W})(),f=(()=>{var Z;class W{}return(Z=W).\u0275fac=function(d){return new(d||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({}),W})();var x=t(49481),S=t(9681),u=t(30502),g=t(64555),h=t(33994),O=t(92130),E=t(5717),w=t(73992),p=t(87965),V=t(46939),c=t(15746),C=t(58175),l=t(66587),o=t(47422),n=t(680),s=t(58540),R=t(47178),_=t(13963),b=t(54795),I=t(89857),q=t(14955),a=function(Z){return Z.OSName="osName",Z}(a||{});class y extends q.xv{constructor(){super("Empty cloud variable",null)}}class M extends q.xv{constructor(){super("Cloud variable could not be retrieved via API call nor cache. Please handle this case and use defaults",null)}}var P=function(Z){return Z.GxTargetGetFeatureRollout="GetFeatureRollout",Z.GxTargetGetCloudVariable="GetCloudVariable",Z.GxTargetGetSurveyFeature="GetSurveyFeature",Z.Other="Other",Z}(P||{}),K=function(Z){return Z.GxTargetGetECommerceFeature="GetECommerceFeature",Z.GxTargetGetSurveyFeature="GetSurveyFeature",Z.GxTargetGetQueueETAConfig="GetQueueETAConfig",Z.GxTargetGetAutohighlightFeature="GetAutohighlightFeature",Z.GxTargetGetFreestyleFeature="GetFreestyleFeature",Z.GxTargetGetStarfleetPhase1="GetStarfleetPhase1",Z.GxTargetGetStarfleetPhase2="GetStarfleetPhase2",Z.GxTargetGetKeyboardLayout="GetKeyboardLayout",Z.GxTargetGetAnselFeature="GetAnselFeature",Z.GxTargetGetGfnBroadcastFeature="GetGfnBroadcastFeature",Z.GxTargetGetDeeplinkSupport="GetDeeplinkSupport",Z.GxTargetGetKBLayoutsConfig="GetKBLayoutsConfig",Z.GxTargetGetUpsellMessage="GetUpsellMessage",Z.GxTargetGetAllCloudVariables="GetAllCloudVariables",Z.GxTargetGetBrowserClientCanary="GetBrowserClientCanary",Z.GxTargetGetReservedSKUEnabled="GetReservedSKUEnabled",Z.GxTargetGetReservedSKUIBetaFlag="GetReservedSKUIBetaFlag",Z.GxTargetGetClipboardPasteConfig="GetClipboardPasteConfig",Z.GxTargetGetPathToPurchaseConfig="GetPathToPurchaseConfig",Z.GxTargetGetPunctualUIConfig="GetPunctualUIConfig",Z.GxTargetGetEnableBrowserIGSS="GetEnableBrowserIGSS",Z.GxTargetGetGuestFlowClientConfig="GxTargetGetGuestFlowClientConfig",Z.Other="Other",Z}(K||{}),tt=function(Z){return Z.StreamingClient="StreamingClient",Z.MallClient="MallClient",Z.StoreLibrary="StoreLibrary",Z.Unknown="Unknown",Z.BackgroundAgent="BackgroundAgent",Z.NvAppClient="NvAppClient",Z}(tt||{}),ot=function(Z){return Z.GxTarget="GxTarget",Z}(ot||{}),F=function(Z){return Z.UNDEFINED="UNDEFINED",Z.TRUE="TRUE",Z.FALSE="FALSE",Z}(F||{});const U={HTTPFailure:{name:"HTTPFailure",gdprLevel:I.KM.Functional},HTTPSuccess:{name:"HTTPSuccess",gdprLevel:I.KM.Functional},HTTPCallResult:{name:"HTTPCallResult",gdprLevel:I.KM.Functional}};class z extends I.MW{constructor(W){super(W),this.name=U.HTTPFailure.name,this.gdprLevel=U.HTTPFailure.gdprLevel}}class Q extends I.MW{constructor(W){super(W),this.name=U.HTTPSuccess.name,this.gdprLevel=U.HTTPSuccess.gdprLevel}}class dt extends I.MW{constructor(W){super(W),this.name=U.HTTPCallResult.name,this.gdprLevel=U.HTTPCallResult.gdprLevel}}var X=t(31157),m=t(15665),Y=t(77869);const D="78589530426925203";let N=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt){this.config=d,this.loggingService=H,this.telemetryService=$,this.sharedStorageService=J,this.systemInfoService=st,this.eventStreamFactory=lt,this.localeService=gt,this.isCvListInitialized$=new x.t(1),this.cacheMaxAge=1440,this.isInitialized$=new x.t(1),this.batchCvsInitialized=new x.t(1),this.commonClientParams={},this.cachedCloudVariableMap=new Map,this.deviceOSName="",this.readFromSharedStorage=vt=>this.sharedStorageService.readBlock(vt).pipe((0,p.zg)(k=>(0,S.of)(k||{}))),this.writeToSharedStorage=(vt,k)=>{const pt=k.name;if(this.storageUpdateQueue.unshift(k),this.storageUpdateQueue.length>1)return void this.logger.info("Added experiment to storage update queue",pt);const yt=vt;let Xt;return(0,u.D)(this.readFromSharedStorage(yt)).pipe((0,p.zg)(It=>(Xt=It,this.updateExperimentRefreshDate(k),(It=this.cleanupStorageBlock(It))[pt]=k,this.sharedStorageService.writeBlock(yt,It)))).subscribe(()=>{this.logger.info("Cloud variable written to shared storage",k.name,k.value),this.processStorageUpdateQueue()},It=>{this.logger.error(`Error while writing to shared storage for ${pt}`,It),this.processStorageUpdateQueue()}),null},this.getSharedStorageKey=vt=>{let k=this.clientInfo.userId!==I.wy.Undefined?this.clientInfo.userId:void 0;return vt===I.yz.DEVICE_ID&&(k=void 0),this.logger.info("Got SharedStorageKey: ",this.storageKey+"_"+k),this.storageKey+"_"+k},this.logger=H.getLogger("experienceControl/service"),this.storageKey="experienceControl",this.storageUpdateQueue=[],this.clientInfo={deviceId:"",userId:I.wy.Undefined,idpId:I.wy.Undefined,clientId:this.config.clientId,clientVer:this.config.clientVersion,clientVariant:this.getCommonClientVariant(this.config.clientVariant),deviceOS:"",deviceType:"",deviceMake:"",deviceModel:"",deviceOSVersion:"",clientType:b.CommonClientType.Undefined,browserType:""},this.cacheMaxAge=this.config.cacheMaxAge||this.cacheMaxAge,this.fetchCloudVariableStream=this.eventStreamFactory.createStream(this.fetchCloudVariables.bind(this))}getCommonClientVariant(d){switch(d){case"ibeta":return b.CommonClientVariant.iBeta;case"release":return b.CommonClientVariant.Release;default:return b.CommonClientVariant.Undefined}}setUserInfo(d){this.clientInfo.userId=d.userId||I.wy.Undefined,this.clientInfo.idpId=d.idpId||I.wy.Undefined}setCvList(d){this.cvList=d,this.isCvListInitialized$.next(!0)}cvListInitialized(){return this.isCvListInitialized$.asObservable()}fetchCloudVariables(){return(0,g.aj)([this.isGxTargetConfiguredCorrectly(),this.cvListInitialized()]).pipe((0,V.q)(1),(0,p.zg)(([d,H])=>d?(0,O.D)([this.readFromSharedStorage(this.getSharedStorageKey(I.yz.USER_ID)),this.readFromSharedStorage(this.getSharedStorageKey(I.yz.DEVICE_ID))]):(this.batchCvsInitialized.next(!0),(0,h._)(`client info not available -> clientId, clientVersion, userId, idpId, deviceId, \n                        clientVariant, clientType, deviceOS, deviceOSVersion, deviceType, deviceModel, deviceMake:\n                        ${this.clientInfo.clientId}, ${this.clientInfo.clientVer}, ${this.clientInfo.userId},\n                        ${this.clientInfo.idpId}, ${this.clientInfo.deviceId}, ${this.clientInfo.clientVariant},\n                        ${this.clientInfo.clientType}, ${this.clientInfo.deviceOS}, ${this.clientInfo.deviceOSVersion},\n                        ${this.clientInfo.deviceType}, ${this.clientInfo.deviceModel}, ${this.clientInfo.deviceMake}`))),(0,p.zg)(([d,H])=>{const $=this.callGetMultipleCloudVariableApi({variant:this.config.clientVariant,...this.clientInfo.clientType===b.CommonClientType.Browser&&{userDefaultUILanguage:this.localeService.getShortLocale()}}).pipe((0,c.b)(lt=>{this.batchCvsInitialized.next(!0)}),(0,C.K)(lt=>{this.logger.error("Error in batch call",lt);const gt=new Map;return this.batchCvsInitialized.next(!0),(0,S.of)(gt)}));let J,st;return this.logger.info("Requested cvs in batch call",this.cvList),(0,R.isEmpty)(d)?$:(this.cvList.forEach(lt=>{st=d[lt],st?(J={variation:st.result,value:st.value,activity:st.activity,metadata:st.metadata,isCachedResult:!0},this.cachedCloudVariableMap.set(lt,J)):H&&H[lt]&&(st=H[lt],st&&(J={variation:st.result,value:st.value,activity:st.activity,metadata:st.metadata,isCachedResult:!0},this.cachedCloudVariableMap.set(lt,J)))}),$.subscribe(E.Z),$.pipe((0,l.L)(this.config.allCvNetworkTimeoutForCacheFallback,(0,S.of)(this.cachedCloudVariableMap))))}))}callGetMultipleCloudVariableApi(d={}){const H=new Map,$=[],J=this.cloudVariableSdk.startSpan(X.j1.ClientGetCloudVariable);return(0,u.D)(this.cloudVariableSdk.getCloudVariables(this.cvList,!1,{...this.commonClientParams,...d},J).catch(st=>{this.logger.error("Error in getCloudVariables from cloudVariableSdk",st)})).pipe((0,p.zg)(st=>{if((null==st?void 0:st.size)>0){this.sendCloudVariableFetchSuccessTelemetry(st,P.GxTargetGetCloudVariable,K.GxTargetGetAllCloudVariables);const lt={name:void 0,variation:void 0,value:void 0,activity:void 0,isCachedResult:!1,state:b.CloudVariableStatus.Unknown};return this.cvList.forEach(gt=>{if(st.get(gt)){const k=st.get(gt);k.clientRequestParams={commonClientParams:this.commonClientParams,additionalClientParams:d};const pt={name:k.name,variation:k.result,value:k.value,activity:k.activity,metadata:k.metadata,isCachedResult:!1,state:b.CloudVariableStatus.Unknown};H.set(k.name,pt),$.push((0,S.of)(pt))}else H.set(gt,lt)}),this.cloudVariableSdk.closeSpan(J),(0,w.$R)(...$)}return void 0===st?(this.sendCloudVariableFetchFailureTelemetry(st,P.GxTargetGetCloudVariable,K.GxTargetGetAllCloudVariables),this.logger.error("Batch call returned failure")):(this.sendCloudVariableFetchSuccessTelemetry(st,P.GxTargetGetCloudVariable,K.GxTargetGetAllCloudVariables),this.logger.error("Batch call returned empty result")),J.setTag(X.NI.Error,!0),this.cloudVariableSdk.closeSpan(J),(0,S.of)(new Map)}),(0,o.U)(()=>H),(0,n.d)(1))}refreshCloudVariables(){this.fetchCloudVariableStream.refresh()}get batchCvsFetchedStatus$(){return this.batchCvsInitialized.asObservable()}processStorageUpdateQueue(){if(this.storageUpdateQueue.pop(),this.storageUpdateQueue.length){this.logger.info("Processing next experiment in queue");const d=this.storageUpdateQueue.pop(),H=this.getSharedStorageKey(d.activity.activationType);this.writeToSharedStorage(H,d)}}cleanupStorageBlock(d){const H=new Set(Object.values(this.config.experiences));for(const $ in d)H.has($)||(this.logger.info(`removing deprecated activity: ${$} from storage`),delete d[$]);return d}updateExperimentRefreshDate(d){return d.metadata||(d.metadata={}),d.metadata.refreshDate=new Date,d}initialize(d,H){this.hostClientType=d||tt.Unknown;const $=(0,g.aj)([this.systemInfoService.getDeviceOSType(),this.systemInfoService.getSystemInfo([_.l7.DeviceId,_.l7.OSName,_.l7.OSVersion,_.l7.DeviceType,_.l7.BrowserName,_.l7.SystemName,_.l7.VendorName])]).pipe((0,o.U)(([J,st])=>({deviceId:this.config.piplExemption?_.kQ:st.DeviceId,osName:st.OSName,osVersion:st.OSVersion,osType:J,deviceType:st.DeviceType,browserType:st.BrowserName,deviceModel:st.SystemName,deviceMake:st.VendorName})));(0,g.aj)([$,H]).pipe((0,p.zg)(([J,st])=>{this.clientInfo.deviceId=J.deviceId,this.clientInfo.browserType=J.browserType,this.clientInfo.deviceOS=J.osType,this.deviceOSName=J.osName,this.clientInfo.deviceType=J.deviceType||I.wy.Undefined,this.clientInfo.deviceMake=J.deviceMake||I.wy.Undefined,this.clientInfo.deviceModel=J.deviceModel||I.wy.Undefined,this.clientInfo.deviceOSVersion=J.osVersion,this.clientInfo.clientType=_.ng.isBrowserPlatform()?b.CommonClientType.Browser:b.CommonClientType.Native,this.updateCommonClientParams(a.OSName,this.getSupportedOSName(J.osName)),this.logger.info("Client info at initialize:",this.clientInfo);const gt=this.config;return this.cloudVariableSdk=new b.CloudVariableSdkService({url:gt.server,defaultRetries:gt.defaultRetries,defaultTimeBetweenRetries:gt.defaultTimeBetweenRetries,defaultTimeout:gt.defaultTimeout,cacheMaxAge:gt.cacheMaxAge,storageConfig:{storageType:b.StorageType.IndexedDB},loggingLevel:b.LoggingLevel.Info,clientInfo:this.clientInfo},{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.config.openTracingConfig.componentName,disable_clock_skew_correction:!0,access_token:this.config.openTracingConfig.accessToken},this.config.storage===I.e6.IndexedDb?void 0:this.readFromSharedStorage,this.config.storage===I.e6.IndexedDb?void 0:this.writeToSharedStorage,this.getSharedStorageKey),this.initGlobalTagsForOpenTracing(st,d),(0,S.of)(!0)})).subscribe(()=>{this.logger.info("Initialized successfully"),this.isInitialized$.next(!0)},J=>{this.logger.error("Error initializing service",J),this.isInitialized$.next(!1)})}initGlobalTagsForOpenTracing(d,H){this.cloudVariableSdk.updateGlobalTags({[X.NI.ServiceVersion]:this.clientInfo.clientVer,[X.NI.ServiceType]:X.sk.Pc_A7,[X.NI.SpanKind]:X.$Q.Client,[X.NI.AppName]:H,[X.NI.DeviceId]:this.clientInfo.deviceId,[X.NI.ClientOs]:this.clientInfo.deviceOS,[X.NI.ClientOsName]:this.deviceOSName,[X.NI.ClientOsVersion]:this.clientInfo.deviceOSVersion,[X.NI.CountryCode]:d})}getSupportedOSName(d){var H,$;switch(null===($=d=null!==(H=d)&&void 0!==H&&H.toLowerCase().includes("windows")?"windows":d)||void 0===$?void 0:$.toLowerCase()){case"windows":return"WINDOWS";case"mac":case"macos":return"MACOS";case"linux":return"LINUX";case"chrome os":case"chromeos":return"CHROMEOS";case"ios":return"IOS";case"ipados":return"IPADOS";case"webos":return"WEBOS";case"tizen":return"TIZEN";case"xbox":return"XBOX";case"android":return"ANDROID";default:return this.logger.info("Cannot get supported OS name for OS: ",d),""}}updateCommonClientParams(d,H){d&&H&&(this.commonClientParams[d]=H)}getCloudVariable(d,H={},$,J,st,lt,gt){return this.config.denyListExperiences.includes(d)?this.fetchSingleCloudVariable(d,H,$,J,st,lt,gt).pipe((0,c.b)(vt=>this.logger.info("Received requested cloud variable information: ",d,vt))):this.batchCvsFetchedStatus$.pipe((0,V.q)(1),(0,p.zg)(()=>this.fetchCloudVariableStream.get$().pipe((0,p.zg)(vt=>{const k=vt.get(d);return k?null!=k&&k.value?(0,S.of)(k):(0,h._)(y):this.fetchSingleCloudVariable(d,H,$,J,st,lt)}),(0,c.b)(vt=>{this.logger.info("Received requested cloud variable information: ",d,vt)}),(0,C.K)(vt=>(0,h._)(vt)))))}fetchSingleCloudVariable(d,H={},$,J,st,lt,gt){let vt,k;return this.logger.info("fetchSingleCloudVariable called for ",d),this.isGxTargetConfiguredCorrectly(lt).pipe((0,p.zg)(([pt])=>(this.logger.info("cloud variable requested with params",d,H,{...this.clientInfo}),pt?this.fetchCachedData(d):(0,h._)(`client info not available -> clientId, clientVersion, userId, \n                        idpId, deviceId, clientVariant, clientType, deviceOS, deviceOSVersion, deviceType, deviceModel, deviceMake:\n                        ${this.clientInfo.clientId}, ${this.clientInfo.clientVer}, ${this.clientInfo.userId},\n                        ${this.clientInfo.idpId}, ${this.clientInfo.deviceId}, ${this.clientInfo.clientVariant},\n                        ${this.clientInfo.clientType}, ${this.clientInfo.deviceOS}, ${this.clientInfo.deviceOSVersion},\n                        ${this.clientInfo.deviceType}, ${this.clientInfo.deviceModel}, ${this.clientInfo.deviceMake}`))),(0,p.zg)(pt=>{vt=pt,k=vt&&vt[d];const yt=this.callGetCloudVariableApi(d,H,k,vt,J,st);if(k){const Xt={additionalClientParams:H,commonClientParams:this.commonClientParams},It=this.cacheIsCurrent(k,null==$?void 0:$.cacheLifetimeOverride)&&(gt||(0,R.isEqual)(Xt,k.clientRequestParams)),Nt=(0,S.of)({name:k.name,variation:k.result,value:k.value,activity:k.activity,metadata:k.metadata,isCachedResult:!0,state:b.CloudVariableStatus.Unknown});if(null!=$&&$.useCache){if(It)return Nt}else if(null!=$&&$.useNetworkTimeoutForCacheFallback)return yt.subscribe(E.Z,le=>{this.logger.info(`Error while fetching ${d}`,le)}),yt.pipe((0,l.L)(this.config.networkTimeoutForCacheFallback,Nt))}return yt}))}callGetCloudVariableApi(d,H={},$,J,st,lt){const gt=this.cloudVariableSdk.startSpan(X.j1.ClientGetCloudVariable);return(0,u.D)(this.cloudVariableSdk.getCloudVariable(d,!1,{...this.commonClientParams,...H},gt).catch(vt=>{this.logger.error("Error in getCloudVariable from cloudVariableSdk",vt)})).pipe((0,p.zg)(vt=>{if(vt){if(this.sendCloudVariableFetchSuccessTelemetry(vt,st,lt),(0,R.isEmpty)(vt))return(0,h._)(new y);this.cloudVariableSdk.closeSpan(gt);const k=vt;return k.clientRequestParams={commonClientParams:this.commonClientParams,additionalClientParams:H},(0,S.of)({name:k.name,variation:k.result,value:k.value,activity:k.activity,metadata:k.metadata,isCachedResult:!1,state:b.CloudVariableStatus.Unknown})}return void 0===vt?(0,h._)(new M):(this.sendCloudVariableFetchSuccessTelemetry(vt,st,lt),(0,h._)(new y))}),(0,C.K)(vt=>(gt.setTag(X.NI.Error,!0),this.cloudVariableSdk.closeSpan(gt),vt instanceof y?$?this.cleanupExperienceForCloudVariable(d,J).pipe((0,p.zg)(()=>(0,h._)(vt))):(this.logger.info("Empty cloud variable and no cached response"),(0,h._)(vt)):$?(this.logger.info(`Applying cached experiment: ${d}`),this.sendCloudVariableFetchFailureTelemetry(vt,st,lt),(0,S.of)({name:$.name,variation:$.result,value:$.value,activity:$.activity,metadata:$.metadata,isCachedResult:!0,state:b.CloudVariableStatus.Unknown})):(this.sendCloudVariableFetchFailureTelemetry(vt,st,lt),(0,h._)(vt)))),(0,n.d)(1))}cleanupExperienceForCloudVariable(d,H){const st=this.getSharedStorageKey(H[d].activity.activationType);return this.logger.info(`Empty experiment list clearing the cache for: ${d}`),delete H[d],this.sharedStorageService.writeBlock(st,H)}fetchCachedData(d){let H=(0,S.of)({});if(this.clientInfo.userId!==I.wy.Undefined){const $=this.getSharedStorageKey(I.yz.USER_ID);H=this.readFromSharedStorage($)}return(0,O.D)([H,this.readFromSharedStorage(this.getSharedStorageKey(I.yz.DEVICE_ID))]).pipe((0,p.zg)(([$,J])=>{let st;return $&&$[d]?(this.logger.info("found activity in user storage",d,$[d]),st=$):J&&J[d]?(this.logger.info("found activity in global storage",d,J[d]),st=J):st={},(0,S.of)(st)}))}cacheIsCurrent(d,H=this.cacheMaxAge){return-1===H?!!d:!!(d&&s(new Date).diff(s(this.getExperimentRefreshDate(d)),"minutes")<=H)}getExperimentRefreshDate(d){return d.metadata&&d.metadata.refreshDate}isGxTargetConfiguredCorrectly(d){let H=this.isInitialized$;return d&&(H=this.isInitialized$.pipe((0,p.zg)(()=>d),(0,p.zg)($=>(this.logger.info("Setting user info"),this.setUserInfo($),(0,S.of)($))))),H.pipe((0,V.q)(1),(0,o.U)(()=>[!!(this.clientInfo.clientId&&this.clientInfo.clientVer&&this.clientInfo.deviceId),this.clientInfo.clientId,this.clientInfo.clientVer,this.clientInfo.deviceId,this.clientInfo.userId,this.clientInfo.idpId,this.clientInfo.browserType,this.clientInfo.clientVariant,this.clientInfo.clientType,this.clientInfo.deviceOS,this.clientInfo.deviceOSVersion,this.clientInfo.deviceType,this.clientInfo.deviceModel,this.clientInfo.deviceMake]))}sendCloudVariableFetchFailureTelemetry(d,H,$){if(0===this.config.clientId.localeCompare(D)){var J,st;const vt=new z({sourceComponent:this.hostClientType||tt.Unknown,originalService:ot.GxTarget,serviceUseCase:H,serviceSubUseCase:$,url:(null==d||null===(J=d.config)||void 0===J?void 0:J.url)||"",networkErrorCode:String(d&&d.response?d.response.status:0),destinationIp:"",xRequestId:d&&d.xRequestId?d.xRequestId:"",retryCount:0,wasSWCacheBypassed:F.UNDEFINED,networkErrorMessage:(null==d||null===(st=d.response)||void 0===st||null===(st=st.message)||void 0===st?void 0:st.substring(0,1024))||""});this.telemetryService.push(vt)}else{var lt,gt;const vt=new dt({sourceComponent:this.hostClientType||tt.Unknown,originalService:ot.GxTarget,serviceUseCase:H,serviceSubUseCase:$,url:(null==d||null===(lt=d.config)||void 0===lt?void 0:lt.url)||"",networkErrorCode:String(d&&d.response?d.response.status:0),destinationIp:"",xRequestId:d&&d.xRequestId?d.xRequestId:"",httpStatus:(null==d||null===(gt=d.response)||void 0===gt?void 0:gt.status)||0,responseData:"",durationMs:0,retryCount:0,wasSWCacheBypassed:F.UNDEFINED});this.telemetryService.push(vt)}}sendCloudVariableFetchSuccessTelemetry(d,H,$){if(0===this.config.clientId.localeCompare(D)){const J=new Q({sourceComponent:this.hostClientType||tt.Unknown,originalService:ot.GxTarget,serviceUseCase:H,serviceSubUseCase:$,url:(null==d?void 0:d.url)||"",httpStatus:(null==d?void 0:d.httpStatus)||200,durationMs:Math.round(null==d?void 0:d.durationMs)||0,destinationIp:"",responseData:"",xRequestId:(null==d?void 0:d.xRequestId)||"",retryCount:0,wasSWCacheBypassed:F.UNDEFINED});this.telemetryService.push(J)}else{const J=new dt({sourceComponent:this.hostClientType||tt.Unknown,originalService:ot.GxTarget,serviceUseCase:H,serviceSubUseCase:$,url:(null==d?void 0:d.url)||"",networkErrorCode:"",destinationIp:"",xRequestId:(null==d?void 0:d.xRequestId)||"",httpStatus:(null==d?void 0:d.httpStatus)||200,responseData:"",durationMs:Math.round(null==d?void 0:d.durationMs)||0,retryCount:0,wasSWCacheBypassed:F.UNDEFINED});this.telemetryService.push(J)}}}return(Z=W).\u0275fac=function(d){return new(d||Z)(e.LFG(L),e.LFG(_.ed),e.LFG(I.y0),e.LFG(m.OA),e.LFG(_.Ob),e.LFG(Y.O_),e.LFG(_.OL))},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})()},5042:(Dt,ct,t)=>{"use strict";t.d(ct,{z8:()=>_,Se:()=>K,GM:()=>R});var e=t(13963),i=t(9681),L=t(89718),f=t(38435),x=t(64555),S=t(6776),u=t(93190),g=t(70506),h=t(17827),O=t(36520),E=t(99901),w=t(47422),p=t(45083),V=t(55617),c=t(1062),C=t(680),l=t(15746),o=t(50183),n=t(61699);const R=new n.OlP("NV_GAMEPAD_CONFIG");var _=function(B){return B[B.A=0]="A",B[B.B=1]="B",B[B.X=2]="X",B[B.Y=3]="Y",B[B.LeftBumper=4]="LeftBumper",B[B.RightBumper=5]="RightBumper",B[B.LeftTrigger=6]="LeftTrigger",B[B.RightTrigger=7]="RightTrigger",B[B.Back=8]="Back",B[B.Start=9]="Start",B[B.LeftStick=10]="LeftStick",B[B.RightStick=11]="RightStick",B[B.DpadUp=12]="DpadUp",B[B.DpadDown=13]="DpadDown",B[B.DpadLeft=14]="DpadLeft",B[B.DpadRight=15]="DpadRight",B[B.Center=16]="Center",B}(_||{}),b=t(32311);const a=.6,y=.05;function P(){return(0,O.w)(B=>B?(0,L.T)((0,i.of)(!0),(0,f.H)(250,250).pipe((0,E.h)(!0))):(0,i.of)(!1))}let K=(()=>{var B;class j{get isGamepadConnected$(){const ot=this.systemInfoService.getSystemInfo([e.l7.HID]).pipe((0,w.U)(U=>{var z;return(null==U||null===(z=U.HID)||void 0===z||null===(z=z.GamePad)||void 0===z?void 0:z.length)>0}));return(0,x.aj)([ot,this._isGamepadConnected$]).pipe((0,w.U)(([U,z])=>U||z))}get isAnyGamepadInUse$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAnyAxisTriggeredOrButtonPressed(F))),(0,p.x)()))}get leftPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAxisTriggeredOrButtonPressed(F,U=>U[0]<-a,_.DpadLeft))),(0,p.x)(),P()))}get rightPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAxisTriggeredOrButtonPressed(F,U=>U[0]>a,_.DpadRight))),(0,p.x)(),P()))}get upPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAxisTriggeredOrButtonPressed(F,U=>U[1]<-a,_.DpadUp))),(0,p.x)(),P()))}get downPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAxisTriggeredOrButtonPressed(F,U=>U[1]>a,_.DpadDown))),(0,p.x)(),P()))}get rightStickMoved$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,w.U)(ot=>ot.some(F=>this.isAxisTriggeredOrButtonPressed(F,U=>U[2]>y||U[3]<-y,_.RightStick))),(0,p.x)()))}onButtonPressed$(ot,F){return this.ngZone.runOutsideAngular(()=>this.getButtonPressed$(this.gamepadsTick$,ot,F))}onButtonLongPressed$(ot){return this.ngZone.runOutsideAngular(()=>this.getButtonPressed$(this.gamepadsTick$,ot).pipe((0,O.w)(F=>F?(0,i.of)(!0).pipe((0,V.g)(800)):S.C)))}onButtonComboPressed$(ot){return this.ngZone.runOutsideAngular(()=>this.getButtonComboPressed$(this.gamepadsTick$,ot))}constructor(ot,F,U,z,Q,dt){this.ngZone=U,this.browserSupportService=z,this.systemInfoService=Q,this.doNotUseWebGamepadAPI=!(null==dt||!dt.doNotUseWebGamepadAPI),this.logger=ot.getLogger("GamepadService");const Y=D=>(null==D?void 0:D.connected)&&(!!e.ng.isAndroidPlatform()||(D=>"standard"===(null==D?void 0:D.mapping))(D));U.runOutsideAngular(()=>{this._isGamepadConnected$=this.doNotUseWebGamepadAPI?(0,i.of)(!1):(0,L.T)((0,u.R)(window,"gamepadconnected"),(0,u.R)(window,"gamepaddisconnected")).pipe((0,c.O)(0),(0,w.U)(Z=>this.browserSupportService.getGamepads().some(Y)),(0,p.x)(),(0,C.d)(1));const D=F.leanModeTransitionState.pipe((0,c.O)(10),(0,w.U)(Z=>Z?33:10),(0,p.x)()),N=z.applicationWindowState$.pipe((0,w.U)(Z=>"foreground"===Z));this.gamepadsTick$=this.doNotUseWebGamepadAPI?g.E:(0,x.aj)([this._isGamepadConnected$,N]).pipe((0,O.w)(([Z,W])=>Z&&W?(this.logger.info("Start polling gamepad state"),D.pipe((0,l.b)(A=>{this.logger.info(`Polling gamepad state with period: ${A} ms`)}),(0,O.w)(A=>(0,h.F)(A)),(0,w.U)(A=>z.getGamepads().filter(Y)))):(this.logger.info(`Stop polling gamepad state (connected=${Z}, foreground=${W})`),(0,i.of)([]))),(0,o.B)())})}getButtonComboPressed$(ot,F){return ot.pipe((0,w.U)(U=>U.some(z=>F.every(Q=>this.isButtonPressed(z,Q)))),(0,p.x)())}getButtonPressed$(ot,F,U){const z=!(null==U||!U.repeat),Q=ot.pipe((0,w.U)(dt=>dt.some(X=>this.isButtonPressed(X,F,null==U?void 0:U.customButtonIndex))),(0,p.x)());return z?Q.pipe(P()):Q}isButtonPressed(ot,F,U){return ot.buttons[null!=U?U:F].pressed}isAxisTriggeredOrButtonPressed(ot,F,U){return F(ot.axes)||this.isButtonPressed(ot,U)}isAnyAxisTriggeredOrButtonPressed(ot){return ot.buttons.some(z=>z.pressed)||ot.axes.some(z=>z>y||z<-y)}}return(B=j).\u0275fac=function(ot){return new(ot||B)(n.LFG(e.ed),n.LFG(e.rn),n.LFG(n.R0b),n.LFG(b.OA),n.LFG(e.Ob),n.LFG(R,8))},B.\u0275prov=n.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),j})()},69318:(Dt,ct,t)=>{"use strict";t.d(ct,{a7:()=>x,H0:()=>V,sd:()=>C,sy:()=>O,kQ:()=>c});var e=t(9681),i=t(87965),L=t(30950),f=t(47178);const x={server:"https://telemetry.gfe.nvidia.com",version:"v1.0",schemaVersion:"",defaultRetries:2,defaultTimeBetweenRetries:1e3,defaultTimeout:3e4,msBetweenChunkCreation:3e5,maxBufferSizeInBytes:25600,chunksQueueSize:20,chunkResendRetryLimit:2,clientId:""};var g=function(l){return l.GfcHeadRequest="FeedbackHead",l.GfcAttachmentRequest="FeedbackAttachment",l}(g||{}),h=t(61699);let O=(()=>{var l;class o{}return(l=o).\u0275fac=function(s){return new(s||l)},l.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac}),o})();var E=t(30285);const p="gfc/v4.0/attachment";let V=(()=>{var l;class o{constructor(s,R){this.serverConfig=s,this.endpointFactory=R,this.latestOffset=0,this.commonFeedbackEventData={},this.previousChunkDataSize=0,this.prepareCommonFeedbackData(s),this.feedbackEndpointUrl=this.prepareFeedbackEndpoint(),this.feedbackAttachmentEndpointUrl=this.prepareFeedbackAttachmentEndpoint()}generateUrl(s){return this.serverConfig.server+"/"+s}computeSHA256Checksum(s){let R="";return(0,f.isEmpty)(s)||(R=(0,L.sha256)(s)),R}getDataSize(s){return(0,f.isEmpty)(s)?0:new Blob([s]).size}prepareFeedbackEndpoint(){return this.feedbackEndpointUrl=this.endpointFactory.createEndpoint({headers:{"Content-Type":"application/json"},config:{timeout:this.serverConfig.defaultTimeout,timeBetweenRetries:this.serverConfig.defaultTimeBetweenRetries,maxRetries:this.serverConfig.defaultRetries},reportRequestData:{originalService:"Gfc",serviceUseCase:g.GfcHeadRequest,reportSuccessTelemetry:"false"}}),this.feedbackEndpointUrl}prepareFeedbackAttachmentEndpoint(){return this.feedbackAttachmentEndpointUrl=this.endpointFactory.createEndpoint({config:{timeout:this.serverConfig.defaultTimeout,timeBetweenRetries:this.serverConfig.defaultTimeBetweenRetries,maxRetries:this.serverConfig.defaultRetries},reportRequestData:{originalService:"Gfc",serviceUseCase:g.GfcAttachmentRequest,reportSuccessTelemetry:"false"}}),this.feedbackAttachmentEndpointUrl}prepareCommonFeedbackData(s){this.commonFeedbackEventData=(0,f.extend)(this.commonFeedbackEventData,{clientId:s.clientId,feedbackProtocol:"4.4",feedbackSchemaVer:s.schemaVersion,feedbackSysVer:s.version})}buildGFCMultipartData(s,R,_,b,I=0,q=!1){const a=new FormData;return a.append("data2",new Blob([s])),a.append("feedbackId",R),a.append("size",_.toString()),a.append("checksum",this.computeSHA256Checksum(s)),b&&a.append("parameters",JSON.stringify(b.parameters)),a.append("offset",I.toString()),q&&a.append("eob","true"),a}updatePreviousChunkSizeAndBuildMultipartData(s,R,_=!1){return this.previousChunkDataSize=this.getDataSize(s),this.buildGFCMultipartData(s,this.xFeedbackId,this.previousChunkDataSize,R,this.latestOffset,_)}sendFeedbackHeadRequest(s){return s=(0,f.merge)(s,this.commonFeedbackEventData),this.feedbackEndpointUrl.makeRequestEx("POST",this.generateUrl("gfc/v4.0/head"),{body:s,headers:{"Content-Type":"application/json"},withCredentials:!0})}sendFeedbackEvent(s){return this.latestOffset=0,this.xFeedbackId=s.feedbackId,this.sendFeedbackHeadRequest(s)}sendFeedbackChunkEvent(s,R,_=!1,b){if(_){if(null!=b&&b.isBrowserClosing)return this.sendLastFeedbackChunkEvent(s,R),(0,e.of)({});{b.prevChunkInProgress&&this.updateOffsetOnSuccessfulAttachmentRequest();const I=this.updatePreviousChunkSizeAndBuildMultipartData(s,R,!0);return this.latestOffset=0,this.sendFeedbackAttachmentReq(I)}}{const I=this.updatePreviousChunkSizeAndBuildMultipartData(s,R);return this.sendFeedbackAttachmentReq(I)}}sendFeedbackAttachmentReq(s){return this.feedbackAttachmentEndpointUrl.makeRequestEx("POST",this.generateUrl(p),{body:s,withCredentials:!0})}sendLastFeedbackChunkEvent(s,R){const _=this.updatePreviousChunkSizeAndBuildMultipartData(s,R,!0);navigator.sendBeacon(this.generateUrl(p),_),this.latestOffset=0}updateOffsetOnSuccessfulAttachmentRequest(s){this.latestOffset=s||Number(this.latestOffset)+Number(this.previousChunkDataSize)}sendFeedbackBasedOnTechConsent(s,R,_){return s.sentTs=(new Date).toISOString(),this.sendFeedbackHeadRequest(s).pipe((0,i.zg)(()=>{if(R){const b=this.buildGFCMultipartData(_,s.feedbackId,this.getDataSize(_),void 0,0,!0);return this.sendFeedbackAttachmentReq(b)}return(0,e.of)(!0)}))}}return(l=o).\u0275fac=function(s){return new(s||l)(h.LFG(O),h.LFG(E.V9))},l.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})();const c="undefined";let C=(()=>{var l;class o{static forRoot(s){return{ngModule:o,providers:[{provide:O,useValue:s||x}]}}}return(l=o).\u0275fac=function(s){return new(s||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({}),o})()},78061:(Dt,ct,t)=>{"use strict";t.d(ct,{G:()=>U});var e=t(49481),i=t(9681),L=t(64555),f=t(46939),x=t(87965),S=t(36520),u=t(47422),g=t(58175),h=t(78943),O=t(47927),E=t(13963);const w="desktop",p="browser",V="android",C="selectOtherLayout";var l=function(Q){return Q.WindowsOS="Windows",Q.BrowserChromeOS="ChromeOS",Q.BrowserMacOS="macOS",Q.NativeMacOS="Mac",Q.XboxOS="Xbox",Q.AndroidOS="Android",Q.ShieldOS="Shield",Q}(l||{}),o=function(Q){return Q.Default="default",Q.Mac="mac",Q}(o||{});const n={WindowsOS:o.Default,BrowserChromeOS:o.Default,BrowserMacOS:o.Mac,NativeMacOS:o.Mac,XboxOS:o.Default,AndroidOS:o.Default},s={[w+l.WindowsOS]:"en-US",[w+l.NativeMacOS]:"m-us",[p+l.WindowsOS]:"en-US",[p+l.BrowserMacOS]:"m-us",[p+l.BrowserChromeOS]:"en-US",[p+l.XboxOS]:"en-US",[V+l.AndroidOS]:"en-US",[V+l.ShieldOS]:"en-US"},R=[`${w}${l.WindowsOS}`,`${w}${l.NativeMacOS}`,`${p}${l.WindowsOS}`,`${p}${l.BrowserMacOS}`,`${p}${l.BrowserChromeOS}`,`${p}${l.XboxOS}`,`${V}${l.AndroidOS}`,`${V}${l.ShieldOS}`],_={albanian:{default_keyCode:"sq-AL"},armenianPhonetic:{default_keyCode:"hy-AM"},assameseInscript:{default_keyCode:"as-IN"},azerbaijaniCyrillic:{default_keyCode:"az-Cyrl-AZ"},azerbaijaniLatin:{default_keyCode:"az-Latn-AZ"},banglaIndia:{default_keyCode:"bn-IN"},bashkir:{default_keyCode:"ba-RU"},belarusian:{default_keyCode:"be-BY"},belgianPeriod:{default_keyCode:"nl-BE"},belgianFrench:{default_keyCode:"fr-BE"},bosnianCyrillic:{default_keyCode:"bs-Cyrl-BA"},bulgarian:{default_keyCode:"bg-BG"},canadianEnglish:{default_keyCode:"en-CA"},canadianFrench:{default_keyCode:"fr-CA"},cherokeeNation:{default_keyCode:"chr-Cher-US"},chineseSimplified:{default_keyCode:"zh-CN"},chineseSimplifiedSingapore:{default_keyCode:"zh-SG"},chineseTraditional:{default_keyCode:"zh-TW"},chineseTraditionalHongKongSAR:{default_keyCode:"zh-HK"},chineseTraditionalMacaoSAR:{default_keyCode:"zh-MO"},croatian:{default_keyCode:"hr-HR",mac_keyCode:"m-hr"},czech:{default_keyCode:"cs-CZ",mac_keyCode:"m-cs"},danish:{default_keyCode:"da-DK",mac_keyCode:"m-da"},divehiPhonetic:{default_keyCode:"dv-MV"},dutch:{default_keyCode:"nl-NL",mac_keyCode:"m-nl-NL"},dzongkha:{default_keyCode:"dz-BT"},englishIndia:{default_keyCode:"en-IN"},englishUK:{default_keyCode:"en-GB",mac_keyCode:"m-brit"},englishUS:{default_keyCode:"en-US",mac_keyCode:"m-us"},estonian:{default_keyCode:"et-EE",mac_keyCode:"m-et"},faeroese:{default_keyCode:"fo-FO"},finnish:{default_keyCode:"fi-FI",mac_keyCode:"m-fi"},french:{default_keyCode:"fr-FR",mac_keyCode:"m-fr"},georgianQWERTY:{default_keyCode:"ka-GE"},german:{default_keyCode:"de-DE",mac_keyCode:"m-de"},greek:{default_keyCode:"el-GR",mac_keyCode:"m-el"},greenlandic:{default_keyCode:"kl-GL"},guarani:{default_keyCode:"gn-PY"},gujarati:{default_keyCode:"gu-IN"},hausa:{default_keyCode:"ha-Latn-NG"},hebrew:{default_keyCode:"he-IL"},hindiTraditional:{default_keyCode:"hi-IN"},hungarian:{default_keyCode:"hu-HU",mac_keyCode:"m-hu"},icelandic:{default_keyCode:"is-IS",mac_keyCode:"m-is"},igbo:{default_keyCode:"ig-NG"},inuktitutLatin:{default_keyCode:"iu-Latn-CA"},inuktitutNaqittaut:{default_keyCode:"iu-Cans-CA"},irish:{default_keyCode:"en-IE",mac_keyCode:"m-en-ie"},italian:{default_keyCode:"it-IT"},japanese106:{default_keyCode:"ja-106",mac_keyCode:"m-ja-106"},kannada:{default_keyCode:"kn-IN"},kazakh:{default_keyCode:"kk-KZ"},khmer:{default_keyCode:"km-KH"},korean:{default_keyCode:"ko-KR"},kyrgyzCyrillic:{default_keyCode:"ky-KG"},lao:{default_keyCode:"lo-LA"},latvianStandard:{default_keyCode:"lv-LV"},lithuanian:{default_keyCode:"lt-LT"},luxembourgish:{default_keyCode:"lb-LU"},macedonianStandard:{default_keyCode:"mk-MK"},malayalam:{default_keyCode:"ml-IN"},marathi:{default_keyCode:"mr-IN"},mongolianCyrillic:{default_keyCode:"mn-MN"},mongolianMongolianScriptStandard:{default_keyCode:"mn-Mong-CN"},nepali:{default_keyCode:"ne-NP"},norwegian:{default_keyCode:"nb-NO",mac_keyCode:"m-no"},norwegianSami:{default_keyCode:"se-NO"},odia:{default_keyCode:"or-IN"},pashtoAfghanistan:{default_keyCode:"ps-AF"},persian:{default_keyCode:"fa-IR"},polish:{default_keyCode:"pl-PL"},portuguese:{default_keyCode:"pt-PT",mac_keyCode:"m-pt"},portugueseBrazilianABNT:{default_keyCode:"pt-BR"},punjabiGurumukhi:{default_keyCode:"pa-IN"},russian:{default_keyCode:"ru-RU",mac_keyCode:"m-ru"},sakha:{default_keyCode:"sah-RU"},serbianCyrillic:{default_keyCode:"sr-Cyrl-CS"},serbianLatin:{default_keyCode:"sr-Latn-CS",mac_keyCode:"sr-Latn"},sesothoSaLeboa:{default_keyCode:"nso-ZA"},setswana:{default_keyCode:"tn-ZA"},sinhala:{default_keyCode:"si-LK"},slovak:{default_keyCode:"sk-SK",mac_keyCode:"m-sk"},slovenian:{default_keyCode:"sl-SI",mac_keyCode:"m-sl"},sorbianStandard:{default_keyCode:"hsb-DE"},spanish:{default_keyCode:"es-ES_tradnl",mac_keyCode:"m-es"},spanishLatinAmerican:{default_keyCode:"es-MX"},swedish:{default_keyCode:"sv-SE",mac_keyCode:"m-sv"},swedishSami:{default_keyCode:"se-SE"},swissFrench:{default_keyCode:"fr-CH",mac_keyCode:"m-ch-fr"},swissGerman:{default_keyCode:"de-CH",mac_keyCode:"m-ch-de"},syriac:{default_keyCode:"syr-SY"},tajik:{default_keyCode:"tg-Cyrl-TJ"},tamazightCentral:{default_keyCode:"tzm-Latn-DZ"},tamil:{default_keyCode:"ta-IN"},tatar:{default_keyCode:"tt-RU"},telugu:{default_keyCode:"te-IN"},thaiKedmanee:{default_keyCode:"th-TH"},tibetanPRCStandard:{default_keyCode:"bo-CN"},turkishQ:{default_keyCode:"tr-TR"},turkmen:{default_keyCode:"tk-TM"},urdu:{default_keyCode:"ur-PK"},uyghur:{default_keyCode:"ug-CN"},uzbekCyrillic:{default_keyCode:"uz-Cyrl-UZ"},vietnamese:{default_keyCode:"vi-VN"},wolof:{default_keyCode:"wo-SN"},yoruba:{default_keyCode:"yo-NG"},australian:{mac_keyCode:"m-AU"},austrian:{mac_keyCode:"m-AT"},belgian:{mac_keyCode:"m-nl-be"},brazilian:{mac_keyCode:"m-pt-br"},canadian:{mac_keyCode:"m-en-ca"},canadianCSA:{mac_keyCode:"m-ca-csa"},croatianPC:{default_keyCode:"hr-BA"},dvorak:{mac_keyCode:"m-dv"},englishABC:{mac_keyCode:"m-en-abc"},englishABCAZERTY:{mac_keyCode:"m-fr-abc"},englishUSInternationalPC:{mac_keyCode:"m-us-int"},faroese:{mac_keyCode:"m-fo"},frenchNumerical:{mac_keyCode:"m-fr-num"},frenchPC:{mac_keyCode:"m-fr-pc"},hawaiian:{default_keyCode:"haw-US"},italianPro:{mac_keyCode:"m-it-pro"},latvian:{mac_keyCode:"m-lv"},maltese:{default_keyCode:"mt-MT"},maori:{default_keyCode:"mi-NZ"},polishPro:{mac_keyCode:"m-pl-pro"},romanian:{mac_keyCode:"m-ro"},romanianStandard:{default_keyCode:"ro-RO"},serbian:{default_keyCode:"sr-Cyrl"},spanishISO:{mac_keyCode:"m-es-ISO"},swedishPro:{mac_keyCode:"m-sv-pro"},turkishQWERTY:{mac_keyCode:"m-tr-qty"},ukrainian:{mac_keyCode:"m-uk"},ukrainianPC:{default_keyCode:"uk-UA"},welsh:{default_keyCode:"cy-GB"},arabic101:{default_keyCode:"ar-SA"},japanese102:{default_keyCode:"ja-JP"},arabic:{mac_keyCode:"m-ar"},russianPC:{mac_keyCode:"m-ru-win"},russianPhonetic:{mac_keyCode:"m-ru-ph"}},b_windowsList=["albanian","arabic101","armenianPhonetic","assameseInscript","azerbaijaniCyrillic","azerbaijaniLatin","banglaIndia","bashkir","belarusian","belgianPeriod","belgianFrench","bosnianCyrillic","bulgarian","canadianEnglish","canadianFrench","cherokeeNation","chineseSimplified","chineseSimplifiedSingapore","chineseTraditional","chineseTraditionalHongKongSAR","chineseTraditionalMacaoSAR","croatian","czech","danish","divehiPhonetic","dutch","dzongkha","englishIndia","englishUK","welsh","englishUS","estonian","faeroese","finnish","french","georgianQWERTY","german","greek","greenlandic","guarani","gujarati","hausa","hebrew","hindiTraditional","hungarian","icelandic","igbo","inuktitutLatin","inuktitutNaqittaut","irish","italian","japanese106","japanese102","kannada","kazakh","khmer","korean","kyrgyzCyrillic","lao","latvianStandard","lithuanian","luxembourgish","macedonianStandard","malayalam","maltese","maori","marathi","mongolianCyrillic","mongolianMongolianScriptStandard","nepali","norwegian","norwegianSami","odia","pashtoAfghanistan","persian","polish","portuguese","portugueseBrazilianABNT","punjabiGurumukhi","romanianStandard","russian","sakha","serbianCyrillic","serbianLatin","sesothoSaLeboa","setswana","sinhala","slovak","slovenian","sorbianStandard","spanish","spanishLatinAmerican","swedish","swedishSami","swissFrench","swissGerman","syriac","tajik","tamazightCentral","tamil","tatar","telugu","thaiKedmanee","tibetanPRCStandard","turkishQ","turkmen","ukrainianPC","urdu","uyghur","uzbekCyrillic","vietnamese","wolof","yoruba"],b_macList=["arabic","australian","austrian","belgian","brazilian","bulgarian","belarusian","canadian","canadianCSA","chineseSimplified","chineseTraditional","croatian","croatianPC","czech","danish","dutch","dvorak","englishABC","englishABCAZERTY","englishUK","englishUS","englishUSInternationalPC","estonian","faroese","finnish","french","frenchNumerical","frenchPC","georgianQWERTY","german","greek","hawaiian","hebrew","hungarian","icelandic","irish","italian","italianPro","korean","latvian","lithuanian","macedonianStandard","maltese","maori","norwegian","polish","polishPro","portuguese","romanian","romanianStandard","russian","russianPC","russianPhonetic","serbian","serbianLatin","slovak","slovenian","spanish","spanishISO","swedish","swedishPro","swissFrench","swissGerman","turkishQWERTY","ukrainian","ukrainianPC","vietnamese","welsh","japanese106","japanese102"],b_browserWindowsList=["englishUS","spanishLatinAmerican","turkishQ","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","bulgarian","hebrew","croatian","dutch","slovak","serbianLatin","russian","chineseSimplified","japanese106","korean","chineseTraditional","japanese102"],b_browserMacList=["englishUS","englishABC","englishUK","spanishISO","canadian","german","french","italianPro","polishPro","frenchNumerical","englishUSInternationalPC","dutch","swedishPro","chineseSimplified","danish","hungarian","canadianCSA","finnish","russian","japanese106","korean","chineseTraditional"],b_browserXboxList=["englishUS","spanishLatinAmerican","turkishQ","russian","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","serbianLatin","hebrew","dutch"],b_androidList=["englishUS","spanishLatinAmerican","turkishQ","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","bulgarian","hebrew","croatian","dutch","slovak","serbianLatin","russian","chineseSimplified","japanese106","korean","chineseTraditional","japanese102"],I_browserWindowsList=["ru-RU"],I_browserMacList=["m-ru"];var q=function(Q){return Q.Functional="functional",Q.Technical="technical",Q.Behavioral="behavioral",Q}(q||{});class a{constructor(dt){this.parameters=dt,this.ts=(new Date).toISOString()}}const y={OverrideKeyboardLayout:{name:"OverrideKeyboardLayout",gdprLevel:q.Functional}};class M extends a{constructor(dt){super(dt),this.name=y.OverrideKeyboardLayout.name,this.gdprLevel=y.OverrideKeyboardLayout.gdprLevel}}var P=t(61699),K=t(21120),B=t(15665),j=t(43559),tt=t(89857),ot=h.Yk.Share.Shareserver.HotkeyEnum;const F="keyboardLayout";let U=(()=>{var Q;class dt{constructor(m,Y,D,N,Z,W,A,d,H,$,J){var st;this.idmService=m,this.loggingService=Y,this.systemInfoService=D,this.bridgeService=N,this.sharedStorage=Z,this.translateService=W,this.localeService=A,this.experienceControl=d,this.telemetryService=H,this.hotKeyHelper=$,this.config=J,this.defaultKbLayout$=new e.t(1),this.isPlatformBrowserLike=E.ng.isBrowserLikePlatform(),this.isPlatformBrowser=E.ng.isBrowserPlatform(),this.isPlatformAndroid=E.ng.isAndroidPlatform(),this.keyboardLayoutChange=new e.t(1),this.placeholder=new e.t(1),this.logger=Y.getLogger("KeyboardLayoutService"),this.logger.info("Initializing KeyboardLayoutService"),this.showOtherKeyboardLayout=!(null===(st=this.config.featureEnablement)||void 0===st||!st.showOtherKeyboardLayout),this.registerKBLayoutChange(),this.getKeyboardLayoutsList().subscribe(lt=>{this.isPlatformBrowserLike?this.setDefaultLayoutAndPlaceholder():this.sendKeyboardLayoutTelemetry()},lt=>{this.logger.info("Error getting the list of keyboard layouts : ",lt)}),this.readCachedKeyboardLayout()}sendKeyboardLayoutTelemetry(){this.readCachedKeyboardLayout().pipe((0,f.q)(1),(0,x.zg)(m=>{var Y;const D=new M({previousKeyboardLayout:"",overrideKeyboardLayout:null!==(Y=null==m?void 0:m.code)&&void 0!==Y?Y:"",defaultKeyboardLayout:""});return this.isPlatformBrowserLike?(D.parameters.defaultKeyboardLayout=this.getDefaultKBLayoutCode(),(0,i.of)(D)):this.detectKeyboardLayout().pipe((0,f.q)(1),(0,x.zg)(N=>(D.parameters.defaultKeyboardLayout=N,(0,i.of)(D))))})).subscribe(m=>{this.logger.info("Sending defaultKeyboardLayout telemetry through OverrideKeyboardLayout event",m),this.telemetryService.push(m)})}setDefaultLayoutAndPlaceholder(){this.idmService.accountStatusChanged.pipe((0,S.w)(m=>m.isAuthenticated?this.queryGxTargetForDefaultKBLayout():(0,i.of)(!1))).subscribe(m=>{this.handleDefaultKeyboardLayout(m),this.sendKeyboardLayoutTelemetry(),this.placeholder.next(this.getBrowserPlaceholder())})}get onKBLayoutChange$(){return this.keyboardLayoutChange.asObservable()}kbLayoutChanged(m){this.keyboardLayoutChange.next(m)}queryGxTargetForDefaultKBLayout(){return this.experienceControl.getCloudVariable("defaultKeyboardLayout",{userDefaultUILanguage:this.localeService.getShortLocale()},{useCache:!1},O.Z4.GxTargetGetCloudVariable,O.Qu.GxTargetGetKBLayoutsConfig).pipe((0,u.U)(m=>m.value),(0,g.K)(m=>(this.logger.error("Failed to resolve gx-target cloud variable:",m),(0,i.of)(!1))))}get fetchClientIMEHotkeys(){return this.bridgeService.executeCommand(h.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:ot.NativeKeyboardInputDialog}).pipe((0,u.U)(m=>m.keys),(0,u.U)(m=>this.hotKeyHelper.shortcutToString(m)))}get isOtherDefaultLayout(){return this._isOtherDefaultLayout}initializeKeyboardLayoutsListFromJson(m,Y){const D=[];for(const W of m){const A=_[W];D.push({name:this.translateService.instant("common.keyboardLayout.layouts."+W),code:A[`${Y}_keyCode`]||A[`${o.Default}_keyCode`]})}const N=this.localeService.getShortLocale();this.logger.info("Getting the language from locale for sorting purposes : ",N);const Z=new Intl.Collator(N,{numeric:!0,sensitivity:"base"});return D.sort(function(W,A){return Z.compare(W.name,A.name)}),this.showOtherKeyboardLayout&&D.unshift({name:this.translateService.instant("settings.keyboardLayout.other"),code:this.getDefaultKBLayoutCodeForOther(),params:{isOtherLayout:!0,showOnTop:!0}}),D}getKeyboardLayoutsList(){if(this.keyboardLayoutsList$)return this.keyboardLayoutsList$.asObservable();const m=new e.t(1);return this.logger.info("Fetching the list of Keyboard Layouts to be displayed"),this.keyboardLayoutsList$=m,(0,L.aj)([this.systemInfoService.getSystemInfo([E.l7.OSName,E.l7.OSVersion,E.l7.Platform]),this.localeService.localeChanged]).pipe((0,f.q)(1)).subscribe(([Y,D])=>{var N;this.logger.info("Getting the OS info using System info Service :",Y);let W,Z=[];this.platform=Y.Platform;const A=null===(N=this.platform)||void 0===N?void 0:N.toUpperCase();this.isPlatformBrowser?A===l.WindowsOS.toUpperCase()||A===l.BrowserChromeOS.toUpperCase()?(Z=b_browserWindowsList,W=n.BrowserChromeOS):A===l.BrowserMacOS.toUpperCase()?(Z=b_browserMacList,W=n.BrowserMacOS):A===l.XboxOS.toUpperCase()&&(Z=b_browserXboxList,W=n.XboxOS):this.isPlatformAndroid?(Z=b_androidList,W=n.AndroidOS):A===l.WindowsOS.toUpperCase()?(Z=b_windowsList,W=n.WindowsOS):A===l.NativeMacOS.toUpperCase()&&(Z=b_macList,W=n.NativeMacOS),Z.length>0?(this.defaultKBLayoutCodeForOther=s[this.getPlatformOS()],this.translatedKBLayoutList=this.initializeKeyboardLayoutsListFromJson(Z,W),m.next(this.translatedKBLayoutList),m.complete()):(this.logger.info(`Keyboard Layout feature is not supported on ${A}, disabling it`),m.complete(),this.keyboardLayoutsList$=null)},Y=>{m.error(Y),this.keyboardLayoutsList$=null}),m.asObservable()}getPlatformOS(){let m=w;return this.isPlatformAndroid?m=V:this.isPlatformBrowser&&(m=p),`${m}${this.platform}`}handleDefaultKeyboardLayout(m){const Y=this.getPlatformOS(),D=m||s;this.logger.info("Default keyboard layout for the user :",D);const N=D[Y];N&&N!==C?this.defaultKBLayoutCode=N:(this._isOtherDefaultLayout=N===C,this.defaultKBLayoutCode=this.defaultKBLayoutCodeForOther),this.setDefaultKBLayout(this.translatedKBLayoutList,this.defaultKBLayoutCodeForOther)}detectKeyboardLayout(){return this.bridgeService.executeCommand(h.Gh.Gfn.Streaming.GetKeyboardLayout)}onKBLayoutChange(){return this.bridgeService.executeCommand(h.Gh.Gfn.Streaming.OnKBLayoutChange)}isNonEnglishKeyboardLayout(m,Y){let D=[];return!(!this.isPlatformBrowserLike||!m)&&(Y===E.wi.Windows||Y===E.wi.ChromeOS||Y===E.wi.XBox?D=I_browserWindowsList:Y===E.wi.MacOS&&(D=I_browserMacList),-1!==D.indexOf(m))}saveKeyboardLayoutToSharedStorage(m){return this.cachedKeyboardLayout$.next(m),this.sharedStorage.writeBlock(F,m)}saveKeyboardLayoutCodeToSharedStorage(m){const Y=this.translatedKBLayoutList.find(D=>D.code===m);return this.saveKeyboardLayoutToSharedStorage(Y)}readCachedKeyboardLayout(){if(this.cachedKeyboardLayout$)return this.cachedKeyboardLayout$.asObservable();const m=new e.t(1);return this.logger.info("Fetching the cache value of Keyboard Layout"),this.cachedKeyboardLayout$=m,this.sharedStorage.readBlock(F).subscribe(Y=>(this.logger.info("Keyboard Layout cache read reponse",Y),m.next(Y),(0,i.of)(Y)),Y=>{m.error(Y),this.cachedKeyboardLayout$=null}),m}removeCachedKeyboardLayout(){return this.cachedKeyboardLayout$.next({}),this.sharedStorage.removeBlock(F)}getKeyboardLayoutEnabled(m){var Y;return(null===(Y=this.config.featureEnablement)||void 0===Y?void 0:Y.showPhysicalKeyboardLayoutSetting)&&R.filter(D=>D.toUpperCase()===(null==m?void 0:m.toUpperCase())).length>0}getDefaultKBLayoutCodeForOther(){return this.defaultKBLayoutCodeForOther}getDefaultKBLayoutCode(){return this.defaultKBLayoutCode}getDefaultKBLayout(){return this.defaultKbLayout}getDefaultKBLayoutObservable(){return this.defaultKbLayout$.asObservable()}setDefaultKBLayout(m,Y){let D;D=m.filter(N=>{var Z,W;return this.isOtherDefaultLayout?null===(Z=N.params)||void 0===Z?void 0:Z.isOtherLayout:N.code===this.getDefaultKBLayoutCode()&&!(null!==(W=N.params)&&void 0!==W&&W.isOtherLayout)})[0],D||(D=m.filter(N=>{var Z;return N.code===Y&&!(null!==(Z=N.params)&&void 0!==Z&&Z.isOtherLayout)})[0]),this.defaultKbLayout=D,this.logger.info("Set default kb layout",this.defaultKbLayout),this.defaultKbLayout$.next(this.defaultKbLayout)}selectKeyboardLayout(m,Y,D){this.logger.info("Keyboard layout override event triggered");const N=new M({previousKeyboardLayout:"",overrideKeyboardLayout:"",defaultKeyboardLayout:""});let Z,W,A;const d=this.getDefaultKBLayout();m?(W=m.code,A=this.isPlatformBrowserLike?null==d?void 0:d.code:null==D?void 0:D.code,Z=(null==Y?void 0:Y.code)||A,this.logger.info("Keyboard Layout Override event. Saving to cache. Override Keyboard Layout: ",m),this.saveKeyboardLayoutToSharedStorage(m).subscribe(H=>{this.logger.info("Keyboard layout cache saved successfully : ",H)},H=>this.logger.info("Keyboard layout cache save failed : ",H))):(this.isPlatformBrowserLike?(W=null==d?void 0:d.code,A=null==d?void 0:d.code,this.logger.info(`Default (${null==d?void 0:d.name}) ${null==d?void 0:d.code} keyboard layout selected. Clearing the cache.`)):(W=null==D?void 0:D.code,A=null==D?void 0:D.code,this.logger.info("Auto keyboard layout selected. Clearing the cache.")),Z=(null==Y?void 0:Y.code)||A,this.removeCachedKeyboardLayout().subscribe(H=>this.logger.info("Keyboard layout cache cleared : ",H),H=>this.logger.info("Keyboard layout cache clear failed : ",H))),N.parameters.previousKeyboardLayout=Z,N.parameters.overrideKeyboardLayout=W,N.parameters.defaultKeyboardLayout=A,this.logger.info("Sending override keyboard layout event telemetry",N),this.telemetryService.push(N)}isAutoOtherKBLayout(m){return this.detectKeyboardLayout().pipe((0,f.q)(1),(0,S.w)(Y=>{const D=m.find(N=>{var Z;return N.code===Y&&!(null!==(Z=N.params)&&void 0!==Z&&Z.isOtherLayout)});return(0,i.of)(!D&&this.showOtherKeyboardLayout)}))}getNativePlaceholder(m){if(this.logger.info("detectedKeyboardLayout : ",m),this.logger.info("isOtherKeyboardLayoutEnabled : ",this.showOtherKeyboardLayout),m||this.showOtherKeyboardLayout){var Y;const D=this.translateService.instant("common.other");return this.translateService.instant("settings.keyboardLayout.auto",{detectedKeyboardLayout:null!==(Y=null==m?void 0:m.name)&&void 0!==Y?Y:D})}return this.translateService.instant("common.auto")}get onPlaceholderChange(){return this.placeholder.asObservable()}getBrowserPlaceholder(){var m;return`${this.translateService.instant("common.default")} (${null===(m=this.getDefaultKBLayout())||void 0===m?void 0:m.name})`}registerKBLayoutChange(){this.onKBLayoutChange().subscribe(m=>{this.logger.info("System keyboard layout changed to: "+m),this.kbLayoutChanged(m)})}}return(Q=dt).\u0275fac=function(m){return new(m||Q)(P.LFG(K.No2),P.LFG(E.ed),P.LFG(E.Ob),P.LFG(E.dF),P.LFG(B.OA),P.LFG(j.sK),P.LFG(E.OL),P.LFG(O.Q6),P.LFG(tt.y0),P.LFG(E.d_),P.LFG(K.VKt))},Q.\u0275prov=P.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),dt})()},53576:(Dt,ct,t)=>{"use strict";t.d(ct,{Gr:()=>p,s:()=>c});var e=t(49481),i=t(9681),L=t(61236),f=t(680),x=t(47422),S=t(58175),u=t(90786),g=t(46939),h=t(47178),O=t(61699),E=t(13963),w=t(15665),p=function(l){return l.JWT="JWT",l.IDM="IDM",l.INVALID="Invalid",l.UNKNOWN="Unknown",l.IDM_FALLBACK="IDM_FALLBACK",l}(p||{});let c=(()=>{var l;class o{constructor(s,R){this.sharedStorage=R,this.telemetryStream=new e.t,this.startupComplete$=new e.t(1),this.logger=s.getLogger("streamer/gfnsdkService"),this.resetAuthConfig()}setSdkClient(s,R){s!==this.sdkClient&&(this.logger.info("SdkClient set to "+s),this.sdkClient=s,this.resetAuthConfig(R),this.getTelemetryData())}getTelemetryData(){return this.sdkClient&&(this.logger.info("Fetching sdk telemetry from shared storage."),this.sharedStorage.readBlock("sdk").subscribe(R=>{if(R)for(const _ in R)if(R[_].telemetry&&Array.isArray(R[_].telemetry)&&R[_].telemetry.length>0){const b={platformName:_,checkGFNItems:[],streamNowButtonClickItems:[]};R[_].telemetry.forEach(I=>{switch(I.eventName){case"CheckGFN":{const y={status:I.status||"",timeTaken:I.timeTaken||0,version:I.version||"",dllVersion:I.dllVersion||"",originalTimestamp:I.originalTimestamp||0,originalCmsId:(I.originalCmsId||"").toString(),originalShortname:I.originalShortname||"",originalAuthMethod:I.originalAuthMethod||"Other"};b.checkGFNItems.push(y);break}case"StreamNowButtonClick":{var q,a;const y={status:I.status||"",timeTaken:I.timeTaken||0,version:I.version||"",dllVersion:I.dllVersion||"",originalTimestamp:I.originalTimestamp||0,originalCmsId:(I.originalCmsId||"").toString(),originalShortname:I.originalShortname||"",originalAuthMethod:I.originalAuthMethod||"Other",timeRemaining:null==I.timeRemaining?-1:I.timeRemaining,hasPartnerData:null==I.hasPartnerData?(null===(q=R[_])||void 0===q||null===(q=q.partnerData)||void 0===q?void 0:q.length)>0:I.hasPartnerData,hasPartnerSecureData:null==I.hasPartnerSecureData?(null===(a=R[_])||void 0===a||null===(a=a.partnerSecureData)||void 0===a?void 0:a.length)>0:I.hasPartnerSecureData};b.streamNowButtonClickItems.push(y);break}default:this.logger.info(`Invalid telemetry event ${null==I?void 0:I.eventName} found in shared storage`)}}),b.checkGFNItems.length+b.streamNowButtonClickItems.length>0?this.telemetryStream.next(b):this.logger.info("Platform "+_+" has no telemetry data to send")}})),this.telemetryStream.pipe((0,L.E)(s=>s.platformName))}clearTelemetryData(s){this.sharedStorage.removeBlock("sdk/"+s.platformName+"/telemetry").subscribe(_=>{this.logger.info(`Cached telemetry for SDK client ${this.sdkClient} was removed from storage ${_?"":"un"}successfully.`)})}parseAuthType(s){if(!s.authType)return p.INVALID;switch(s.authType.toLowerCase()){case"jarvis":case"jwt_gfn":return p.IDM;case"jwt":return!s.token||0===s.token.length||!(0,h.isNil)(s.timeRemaining)&&(s.timeRemaining<=0||s.timeRemaining>3600)?p.IDM_FALLBACK:p.JWT;default:return p.INVALID}}resetAuthConfig(s){this.authConfig$=s?(0,i.of)(s):this.getAuthConfigFromStorage().pipe((0,f.d)(1))}getAuthConfigFromStorage(){if(this.sdkClient){this.logger.info("Fetching auth type from shared storage.");const s="sdk/"+this.sdkClient;return this.sharedStorage.readBlock(s).pipe((0,x.U)(R=>(this.logger.info(`Running in GFN SDK mode for SDK client ${this.sdkClient}, auth type is ${this.parseAuthType(R)}.`),R)),(0,S.K)(()=>(this.logger.error(`Unable to read stored settings for SDK client ${this.sdkClient}`),(0,i.of)({token:void 0}))),(0,u.x)(()=>{this.startupComplete$.asObservable().subscribe(()=>{["token","partnerSecureData","partnerData"].forEach(_=>{this.sharedStorage.removeBlock(`${s}/${_}`).pipe((0,g.q)(1)).subscribe(b=>{this.logger.info(`${_} for SDK client ${this.sdkClient} was removed from storage ${b?"":"un"}successfully.`)})})})}))}return this.logger.info("Running in regular GFN client mode, auth type is IDM."),(0,i.of)({authType:p.IDM,token:void 0})}getAuthType(){return this.authConfig$.pipe((0,x.U)(s=>{const R=this.parseAuthType(s);return this.logger.info(R!==p.INVALID?`Returning cached auth type: ${R}`:"Current auth type is invalid and cannot be used for authentication purposes"),R}))}continueStartup(){this.startupComplete$.next(!0)}getIsAnonymousUser(){return this.getAuthType().pipe((0,x.U)(s=>s===p.JWT))}forceIDMAuthType(){this.originalAuthConfig$=this.authConfig$,this.authConfig$=this.originalAuthConfig$.pipe((0,x.U)(s=>{const R=Object.assign({},s);return R.authType=p.IDM,R.token=void 0,R.delegateToken=void 0,R}))}getAuthToken(){return this.authConfig$.pipe((0,x.U)(s=>{const R=s.token;return this.logger.info(R?"Returning cached auth token":"Current auth token is empty and likely not useful for authentication purposes"),R}))}getAuthInfo(){return this.authConfig$.pipe((0,x.U)(s=>{const R=this.parseAuthType(s);this.logger.info(R!==p.INVALID?`Returning cached auth type: ${R}`:"Current auth type is invalid and cannot be used for authentication purposes for gfn sdk");const _=s.token;this.logger.info(_?"Returning cached auth token.":"Current auth token is empty and likely not useful for authentication purposes for gfn sdk");let b=null,I=null,q=null,a=null;if(_){try{const y=atob(_.split(".")[1]),M=JSON.parse(y);if(Array.isArray(M.options))M.options.forEach(function(P){"uid"===(null==P?void 0:P.key)?b=null==P?void 0:P.value:"external_id"===(null==P?void 0:P.key)?I=null==P?void 0:P.value:"idp_id"===(null==P?void 0:P.key)&&(q=null==P?void 0:P.value)});else{const P=JSON.parse(atob(M.options));b=P.userId,I=P.externalId,q=P.partnerId,a=P.authorizationId}}catch(y){this.logger.error("Got an exception while parsing JWT for user info: ",y)}b?this.logger.info(`Returning userId from JWT ${b}`):this.logger.warn("Current userId is empty and likely not useful for authentication purposes!"),I?this.logger.info(`Returning externalUserId from JWT ${I}.`):this.logger.warn("Current externalUserId is empty and likely not useful for authentication purposes!"),q?this.logger.info(`Returning idpId from JWT ${q}.`):this.logger.warn("Current ipdId is empty and likely not useful for authentication purposes!"),a?this.logger.info("Returning authorizationId from JWT."):this.logger.warn("No authorizationId")}return{authType:R,authToken:_,userId:b,externalUserId:I,idpId:q,timeRemaining:s.timeRemaining,authorizationId:a}}))}getPartnerData(){return this.authConfig$.pipe((0,x.U)(s=>(null==s?void 0:s.partnerData)||""))}getPartnerSecureData(){return this.authConfig$.pipe((0,x.U)(s=>(null==s?void 0:s.partnerSecureData)||""))}isThisAGFNSDKSession(){return this.sdkClient&&this.sdkClient.length>0}isAuthInfoValid(s){var R;return(null===(R=s.authToken)||void 0===R?void 0:R.length)>0&&(null==s.timeRemaining||s.timeRemaining>0&&s.timeRemaining<=3600)}}return(l=o).\u0275fac=function(s){return new(s||l)(O.LFG(E.ed),O.LFG(w.OA))},l.\u0275prov=O.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},56009:(Dt,ct,t)=>{"use strict";t.d(ct,{J:()=>S});var e=t(17401),i=t(68740),L=t(10481),f=t(85528),x=t(89332);class S{constructor(g){this.reference=g}get dialogRef(){return this.reference instanceof e.so&&this.reference.componentInstance instanceof L.D?this.reference:void 0}get bottomSheetRef(){return this.reference instanceof i.oL&&this.reference.instance instanceof f.A?this.reference:void 0}get threeQuarterSheetRef(){return this.reference instanceof e.so&&this.reference.componentInstance instanceof x.O?this.reference:void 0}get instance(){var g,h,O,E,w;return null!==(g=null!==(h=null===(O=this.dialogRef)||void 0===O?void 0:O.componentInstance)&&void 0!==h?h:null===(E=this.bottomSheetRef)||void 0===E?void 0:E.instance)&&void 0!==g?g:null===(w=this.threeQuarterSheetRef)||void 0===w?void 0:w.componentInstance}get primaryButtonClick(){var g;return null===(g=this.instance)||void 0===g?void 0:g.primaryButtonClick}get secondaryButtonClick(){var g;return null===(g=this.instance)||void 0===g?void 0:g.secondaryButtonClick}get linkClick(){var g;return null===(g=this.instance)||void 0===g?void 0:g.linkClick}get augmentedButtonClick(){return this.instance instanceof x.O?this.instance.augmentedButtonClick:void 0}get radioButtonClick(){return this.instance instanceof L.D||this.instance instanceof x.O?this.instance.radioButtonClick:void 0}get checkboxState(){var g;return null===(g=this.instance)||void 0===g||null===(g=g.data)||void 0===g?void 0:g.checkboxState}get radioOptionSelected(){var g;return null===(g=this.instance)||void 0===g||null===(g=g.data)||void 0===g?void 0:g.radioOptionSelected}set backToCloseResult(g){this.instance.backToCloseResult=g}close(g){var h,O,E;null===(h=this.dialogRef)||void 0===h||h.close(g),null===(O=this.bottomSheetRef)||void 0===O||O.dismiss(g),null===(E=this.threeQuarterSheetRef)||void 0===E||E.close(g)}afterClosed(){var g,h,O,E,w;return null!==(g=null!==(h=null===(O=this.dialogRef)||void 0===O?void 0:O.afterClosed())&&void 0!==h?h:null===(E=this.bottomSheetRef)||void 0===E?void 0:E.afterDismissed())&&void 0!==g?g:null===(w=this.threeQuarterSheetRef)||void 0===w?void 0:w.afterClosed()}afterOpened(){var g,h,O,E,w;return null!==(g=null!==(h=null===(O=this.dialogRef)||void 0===O?void 0:O.afterOpened())&&void 0!==h?h:null===(E=this.bottomSheetRef)||void 0===E?void 0:E.afterOpened())&&void 0!==g?g:null===(w=this.threeQuarterSheetRef)||void 0===w?void 0:w.afterOpened()}}},80602:(Dt,ct,t)=>{"use strict";t.d(ct,{HO:()=>u,Xm:()=>L,av:()=>S});var L=function(g){return g.ThreeQuarterSheet="ThreeQuarterSheet",g.BottomSheet="BottomSheet",g}(L||{});const f=32,x=112;function S(g=!1){return g?x:f}function u(g,h){const O=[];if(h.addOverlayPanelCls&&O.push("nv-overlay-panel"),(h.bottomSheet||h.threeQuarterSheet)&&O.push("nv-hig"),h.threeQuarterSheet&&O.push("nv-three-quarter-sheet"),h.tvMode&&O.push("is-tv"),O.length>0){const E=g.panelClass?g.panelClass instanceof Array?g.panelClass:new Array(g.panelClass):[];O.forEach(w=>{E.includes(w)||E.push(w)}),g.panelClass=E}}},85528:(Dt,ct,t)=>{"use strict";t.d(ct,{A:()=>y});var e=t(61699),i=t(68740),L=t(80602),f=t(97384),x=t(72416),S=t(17401);function u(M,P){if(1&M&&(e.TgZ(0,"i",20),e._uU(1),e.qZA()),2&M){const K=e.oxw(2);e.xp6(1),e.Oqu(K.data.icon)}}function g(M,P){if(1&M&&e._UZ(0,"img",21),2&M){const K=e.oxw(2);e.Q6J("src",K.data.image.url,e.LSH)}}function h(M,P){if(1&M&&e._UZ(0,"qrcode",22),2&M){const K=e.oxw(2);e.Q6J("qrdata",K.data.link.url)("width",K.tvMode?184:140)("errorCorrectionLevel","M")}}function O(M,P){if(1&M&&(e.TgZ(0,"div",16),e.YNc(1,u,2,1,"i",17),e.YNc(2,g,1,1,"img",18),e.YNc(3,h,1,3,"qrcode",19),e.qZA()),2&M){const K=e.oxw();e.xp6(1),e.Q6J("ngIf",K.data.icon),e.xp6(1),e.Q6J("ngIf",K.data.image),e.xp6(1),e.Q6J("ngIf",K.showQRCode)}}function E(M,P){if(1&M&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&M){const K=e.oxw();e.Q6J("ngClass",K.tvMode?"font-header5":"font-header6"),e.xp6(1),e.hij(" ",e.xi3(2,2,K.data.headerText.text,K.data.headerText.placeholders)," ")}}function w(M,P){1&M&&e._UZ(0,"mat-progress-spinner",24)}const p=function(M){return{"overflow-wrap-anywhere":M}};function V(M,P){if(1&M&&(e._UZ(0,"div",25),e.ALo(1,"translate")),2&M){const K=e.oxw();e.Q6J("ngClass",e.VKq(5,p,K.showQRCode))("innerHTML",K.data.bodyText.translated?K.data.bodyText.text:e.xi3(1,2,K.data.bodyText.text,K.data.bodyText.placeholders),e.oJD)}}const c=function(M){return{"font-tv-error-text":M}};function C(M,P){if(1&M&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&M){const K=e.oxw();e.Q6J("ngClass",e.VKq(5,c,K.tvMode)),e.xp6(1),e.hij(" ",e.xi3(2,2,K.data.errorCodeText.text,K.data.errorCodeText.placeholders)," ")}}function l(M,P){if(1&M&&(e.ynx(0),e.GkF(1,27)(2,27),e.BQk()),2&M){e.oxw();const K=e.MAs(15),B=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",K),e.xp6(1),e.Q6J("ngTemplateOutlet",B)}}function o(M,P){if(1&M&&e.GkF(0,27)(1,27),2&M){e.oxw();const K=e.MAs(17),B=e.MAs(15);e.Q6J("ngTemplateOutlet",K),e.xp6(1),e.Q6J("ngTemplateOutlet",B)}}const n=function(M){return{visible:M}};function s(M,P){if(1&M){const K=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(j){e.CHM(K);const tt=e.oxw(2);return e.KtG(tt.onPrimaryButtonClick(j))}),e._uU(1),e.ALo(2,"translate"),e.GkF(3,30),e.qZA()}if(2&M){const K=e.oxw(2),B=e.MAs(19);e.Q6J("ngClass",K.showAccentBtn?"font-button2 mat-flat-button mat-accent":"font-button2")("nvFocusRipple",K.showAccentBtn)("disabled",K.data.primaryButton.isDisabled)("nvAutoFocus",K.autoFocusOnPrimaryButton),e.xp6(1),e.hij(" ",e.lcZ(2,7,K.data.primaryButton.text)," "),e.xp6(2),e.Q6J("ngTemplateOutlet",B)("ngTemplateOutletContext",e.VKq(9,n,K.data.primaryButton.spinnerOverlay))}}function R(M,P){if(1&M&&e.YNc(0,s,4,11,"button",28),2&M){const K=e.oxw();e.Q6J("ngIf",K.data.primaryButton)}}function _(M,P){if(1&M){const K=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(j){e.CHM(K);const tt=e.oxw(2);return e.KtG(tt.onSecondaryButtonClick(j))}),e._uU(1),e.ALo(2,"translate"),e.GkF(3,30),e.qZA()}if(2&M){const K=e.oxw(2),B=e.MAs(19);e.Q6J("disabled",K.data.secondaryButton.isDisabled),e.xp6(1),e.hij(" ",e.lcZ(2,4,K.data.secondaryButton.text)," "),e.xp6(2),e.Q6J("ngTemplateOutlet",B)("ngTemplateOutletContext",e.VKq(6,n,K.data.secondaryButton.spinnerOverlay))}}function b(M,P){if(1&M&&e.YNc(0,_,4,8,"button",31),2&M){const K=e.oxw();e.Q6J("ngIf",K.data.secondaryButton)}}function I(M,P){1&M&&(e.TgZ(0,"div",34),e._UZ(1,"mat-progress-spinner",35),e.qZA()),2&M&&(e.xp6(1),e.Q6J("diameter",48))}function q(M,P){1&M&&e.YNc(0,I,2,1,"div",33),2&M&&e.Q6J("ngIf",P.visible)}const a=function(M,P){return{"has-image":M,"only-body":P}};let y=(()=>{var M;class P extends x.u{get hasImage(){return!!this.data.icon||!!this.data.image||this.showQRCode}get showQRCode(){var B;return this.showQRCodeForLinks&&!(null===(B=this.data.link)||void 0===B||!B.url)}get autoFocusOnPrimaryButton(){var B;return null===(B=this.data.autoFocusOnPrimaryButton)||void 0===B||B}get showAccentBtn(){return this.data.primaryButton.accentColor&&!this.tvMode}static open(B,j,tt){return(0,L.HO)(j,{bottomSheet:!0,tvMode:tt}),B.open(P,j)}constructor(B,j,tt,ot,F){super(tt,ot,B,F),this.primaryButtonClick=new e.vpe,this.secondaryButtonClick=new e.vpe,this.linkClick=new e.vpe,this.data={},this.data=B.get(i.OG,null),this.tvMode=!!j.tvMode,this.showQRCodeForLinks=!!j.showQRCodeForLinks}ngOnInit(){this.layoutType=this.hasImage||this.tvMode?"row":"column"}onPrimaryButtonClick(B){this.primaryButtonClick.emit(B)}onSecondaryButtonClick(B){this.secondaryButtonClick.emit(B)}onLinkClick(){this.linkClick.emit()}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(e.zs3),e.Y36(f.i,8),e.Y36(S.so,8),e.Y36(i.oL,8),e.Y36(e.R0b))},M.\u0275cmp=e.Xpm({type:M,selectors:[["nv-hig-bottom-sheet"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",linkClick:"linkClick"},features:[e.qOj],decls:20,vars:22,consts:[["fxLayoutAlign","space-between stretch","nvSpatialNavigationContainer","","nvTrapFocus","",1,"hig-bottom-sheet",3,"fxLayout"],["class","image-container",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start",1,"content",3,"fxFlex","ngClass","fxLayoutGap"],["fxFlex","nogrow","class","header-text",3,"ngClass",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutGap","24px",3,"fxLayoutAlign"],["fxFlex","none","mode","indeterminate","color","accent","diameter","64",4,"ngIf"],["fxFlex","","fxLayout","column",1,"font-body2"],["fxFlex","auto","class","body-text",3,"ngClass","innerHTML",4,"ngIf"],["fxFlex","auto","class","body-text",3,"ngClass",4,"ngIf"],["fxLayout","column",1,"actions-container",3,"fxFlex","fxFlexAlign"],[1,"buttons-container",3,"fxLayout","fxLayoutAlign","fxLayoutGap"],[4,"ngIf","ngIfElse"],["nonTvMode",""],["primaryButton",""],["secondaryButton",""],["buttonSpinner",""],[1,"image-container"],["class","material-icons",4,"ngIf"],[3,"src",4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],[1,"material-icons"],[3,"src"],[3,"qrdata","width","errorCorrectionLevel"],["fxFlex","nogrow",1,"header-text",3,"ngClass"],["fxFlex","none","mode","indeterminate","color","accent","diameter","64"],["fxFlex","auto",1,"body-text",3,"ngClass","innerHTML"],["fxFlex","auto",1,"body-text",3,"ngClass"],[3,"ngTemplateOutlet"],["mat-button","",3,"ngClass","nvFocusRipple","disabled","nvAutoFocus","click",4,"ngIf"],["mat-button","",3,"ngClass","nvFocusRipple","disabled","nvAutoFocus","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","","class","font-button2",3,"disabled","click",4,"ngIf"],["mat-button","",1,"font-button2",3,"disabled","click"],["fxLayout","column","fxLayoutAlign","center end","class","spinner-overlay",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center end",1,"spinner-overlay"],["mode","indeterminate",1,"mat-accent",3,"diameter"]],template:function(B,j){if(1&B&&(e.TgZ(0,"div",0),e.YNc(1,O,4,3,"div",1),e.TgZ(2,"div",2),e.YNc(3,E,3,5,"div",3),e.TgZ(4,"div",4),e.YNc(5,w,1,0,"mat-progress-spinner",5),e.TgZ(6,"div",6),e.YNc(7,V,2,7,"div",7),e.YNc(8,C,3,7,"div",8),e.qZA()()(),e.TgZ(9,"div",9)(10,"div",10),e.YNc(11,l,3,2,"ng-container",11),e.YNc(12,o,2,2,"ng-template",null,12,e.W1O),e.qZA(),e.YNc(14,R,1,1,"ng-template",null,13,e.W1O),e.YNc(16,b,1,1,"ng-template",null,14,e.W1O),e.YNc(18,q,1,1,"ng-template",null,15,e.W1O),e.qZA()()),2&B){const tt=e.MAs(13);e.ekj("is-tv",j.tvMode),e.Q6J("fxLayout",j.layoutType),e.xp6(1),e.Q6J("ngIf",j.hasImage),e.xp6(1),e.Q6J("fxFlex",j.tvMode?"":"grow")("ngClass",e.WLB(19,a,j.hasImage,!j.data.headerText))("fxLayoutGap",j.tvMode?"30px":"16px"),e.xp6(1),e.Q6J("ngIf",j.data.headerText),e.xp6(1),e.Q6J("fxLayoutAlign",j.data.headerText?"start start":"start center"),e.xp6(1),e.Q6J("ngIf",j.data.showSpinner),e.xp6(2),e.Q6J("ngIf",j.data.bodyText),e.xp6(1),e.Q6J("ngIf",j.data.errorCodeText),e.xp6(1),e.Q6J("fxFlex",j.tvMode?"":"initial")("fxFlexAlign",j.tvMode?"start":"end"),e.xp6(1),e.Q6J("fxLayout",j.tvMode?"column":"row")("fxLayoutAlign",j.tvMode?"":"end center")("fxLayoutGap",j.tvMode?"16px":"8px"),e.xp6(1),e.Q6J("ngIf",j.tvMode)("ngIfElse",tt)}},styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.hig-bottom-sheet[_ngcontent-%COMP%]{background-color:#393939;padding:0;width:100vw;min-height:132px;max-height:80vh}@media (orientation: portrait){.hig-bottom-sheet[_ngcontent-%COMP%]{min-height:180px;height:180px}}.isLtr[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin:16px max(env(safe-area-inset-right),16px) 0 max(env(safe-area-inset-left),16px)}html[dir=ltr][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:16px max(env(safe-area-inset-right),16px) 0 max(env(safe-area-inset-left),16px)}.isRtl[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin:16px max(env(safe-area-inset-left),16px) 0 max(env(safe-area-inset-right),16px)}html[dir=rtl][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:16px max(env(safe-area-inset-left),16px) 0 max(env(safe-area-inset-right),16px)}.actions-container[_ngcontent-%COMP%]{padding:8px max(env(safe-area-inset-right),8px) max(env(safe-area-inset-bottom),8px) max(env(safe-area-inset-left),8px)}.is-tv.hig-bottom-sheet[_ngcontent-%COMP%]{min-height:420px;height:420px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{margin:120px 0 0 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{--dummy: 0;margin:120px 0 0 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{margin:120px 120px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{--dummy: 0;margin:120px 120px 0 0}.is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:112px}.is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:112px;height:112px;object-fit:fill}.is-tv[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{padding:0;max-width:606px}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{min-width:0}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:120px 90px 0 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:120px 90px 0 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:120px 120px 0 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:120px 120px 0 90px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{margin:120px 90px 0 56px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{--dummy: 0;margin:120px 90px 0 56px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{margin:120px 56px 0 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{--dummy: 0;margin:120px 56px 0 90px}.is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{align-items:center}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{margin:0 90px 60px 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 90px 60px 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{margin:0 120px 60px 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 120px 60px 90px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{margin:0 90px 60px 56px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 90px 60px 56px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{margin:0 56px 60px 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 56px 60px 90px}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .font-tv-error-text[_ngcontent-%COMP%]{margin:24px 0 0}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;min-height:45px}.overflow-wrap-anywhere[_ngcontent-%COMP%]{overflow-wrap:anywhere}.buttons-container[_ngcontent-%COMP%]{height:calc(44px + max(env(safe-area-inset-bottom),8px))}.buttons-container[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{line-height:36px}.buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;z-index:1;background:transparent}.isLtr[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{margin-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{--dummy4: 0;margin-right:32px}.isRtl[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{margin-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{--dummy4: 0;margin-left:32px}.is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{height:100%;margin-top:120px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-right:80px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:80px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-left:80px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:80px}.is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;height:92px;width:100%;text-align:start;border-radius:5px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.image-container[_ngcontent-%COMP%]{margin:16px}"]}),P})()},10481:(Dt,ct,t)=>{"use strict";t.d(ct,{D:()=>F});var e=t(61699),i=t(17401),L=t(80602),f=t(72416),x=t(68740);function S(U,z){if(1&U&&(e.TgZ(0,"i",22),e._uU(1),e.qZA()),2&U){const Q=e.oxw();e.xp6(1),e.Oqu(Q.data.icon)}}function u(U,z){if(1&U&&e._UZ(0,"img",23),2&U){const Q=e.oxw();e.Q6J("src",Q.data.image.url,e.LSH)}}function g(U,z){if(1&U&&(e._UZ(0,"div",24),e.ALo(1,"translate")),2&U){const Q=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,Q.data.headerText.text,Q.data.translateValues),e.oJD)}}function h(U,z){1&U&&(e.TgZ(0,"div",25),e._UZ(1,"mat-progress-spinner",26),e.qZA())}function O(U,z){if(1&U&&(e._UZ(0,"div",27),e.ALo(1,"translate")),2&U){const Q=e.oxw();e.Q6J("innerHTML",Q.data.bodyText.translated?Q.data.bodyText.text:e.xi3(1,1,Q.data.bodyText.text,Q.data.bodyText.placeholders),e.oJD)}}function E(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(Q);const X=e.oxw(2);return e.KtG(X.onLinkClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&U){const Q=e.oxw(2);e.Q6J("href",Q.data.link.url,e.LSH)("shortUrl",null==Q.data.link?null:Q.data.link.shortUrl),e.xp6(1),e.Oqu(e.xi3(2,3,Q.data.link.text,Q.data.link.placeholders))}}function w(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"span",32),e.NdJ("click",function(){e.CHM(Q);const X=e.oxw(2);return e.KtG(X.onLinkClick())}),e.ALo(1,"translate"),e.qZA()}if(2&U){const Q=e.oxw(2);e.Q6J("innerHTML",e.xi3(1,1,Q.data.link.text,Q.data.link.placeholders),e.oJD)}}function p(U,z){if(1&U&&(e.TgZ(0,"div",28),e.YNc(1,E,3,6,"a",29),e.YNc(2,w,2,4,"span",30),e.qZA()),2&U){const Q=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=Q.data.link&&Q.data.link.isTextWithHyperlinkTag)),e.xp6(1),e.Q6J("ngIf",null==Q.data.link?null:Q.data.link.isTextWithHyperlinkTag)}}function V(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(Q);const X=e.oxw(2);return e.KtG(X.onLinkClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&U){const Q=e.oxw(2);e.Q6J("href",Q.data.link.url,e.LSH)("shortUrl",Q.data.link.shortUrl),e.xp6(1),e.Oqu(e.lcZ(2,3,Q.data.link.text))}}function c(U,z){if(1&U&&(e.TgZ(0,"a",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&U){const Q=e.oxw(2);e.Q6J("routerLink",Q.data.link.routerLink.commands)("skipLocationChange",Q.data.link.routerLink.skipLocationChange),e.xp6(1),e.hij(" ",e.lcZ(2,3,Q.data.link.text)," ")}}function C(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){e.CHM(Q);const X=e.oxw(2);return e.KtG(X.data.link.linkClickedCallback())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&U){const Q=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,Q.data.link.text)," ")}}function l(U,z){if(1&U&&(e.TgZ(0,"div",28),e.YNc(1,V,3,5,"a",29),e.YNc(2,c,3,5,"a",33),e.YNc(3,C,3,3,"a",34),e.qZA()),2&U){const Q=e.oxw();e.xp6(1),e.Q6J("ngIf",Q.data.link.url&&!Q.data.link.routerLink&&!Q.data.link.linkClickedCallback),e.xp6(1),e.Q6J("ngIf",Q.data.link.routerLink&&!Q.data.link.linkClickedCallback),e.xp6(1),e.Q6J("ngIf",Q.data.link.linkClickedCallback)}}function o(U,z){if(1&U&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&U){const Q=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,Q.data.errorCodeText.text,Q.data.errorCodeText.placeholders)," ")}}function n(U,z){if(1&U&&e._UZ(0,"img",44),2&U){const Q=e.oxw().$implicit;e.Q6J("src",Q.imageUrl,e.LSH)}}function s(U,z){if(1&U&&(e.TgZ(0,"mat-radio-button",40)(1,"div",41),e.YNc(2,n,1,1,"img",42),e.TgZ(3,"div",43),e._uU(4),e.qZA()()()),2&U){const Q=z.$implicit;e.Q6J("value",Q.value),e.xp6(2),e.Q6J("ngIf",Q.imageUrl),e.xp6(2),e.Oqu(Q.value)}}function R(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"mat-radio-group",38),e.NdJ("ngModelChange",function(X){e.CHM(Q);const m=e.oxw();return e.KtG(m.data.radioOptionSelected=X)})("change",function(){e.CHM(Q);const X=e.oxw();return e.KtG(X.onRadioOptionChange())}),e.YNc(1,s,5,3,"mat-radio-button",39),e.qZA()}if(2&U){const Q=e.oxw();e.Q6J("ngModel",Q.data.radioOptionSelected),e.xp6(1),e.Q6J("ngForOf",Q.data.radioButtonOptions)}}function _(U,z){if(1&U&&e._UZ(0,"mat-icon",50),2&U){const Q=e.oxw().$implicit;e.Q6J("svgIcon",Q.matIcon)}}function b(U,z){if(1&U&&(e.TgZ(0,"div",47),e.YNc(1,_,1,1,"mat-icon",48),e.TgZ(2,"div",49),e._uU(3),e.qZA()()),2&U){const Q=z.$implicit;e.xp6(1),e.Q6J("ngIf",Q.matIcon),e.xp6(2),e.Oqu(Q.text)}}function I(U,z){if(1&U&&(e.TgZ(0,"div",45),e.YNc(1,b,4,2,"div",46),e.qZA()),2&U){const Q=e.oxw();e.xp6(1),e.Q6J("ngForOf",Q.data.descriptionList)}}function q(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"div",51)(1,"div",52)(2,"a",53),e.NdJ("click",function(){return!1})("dragstart",function(){e.CHM(Q);const X=e.oxw();return e.KtG(X.onImageDragStart())}),e._uU(3),e.ALo(4,"translate"),e._UZ(5,"img",54),e.qZA(),e._UZ(6,"p",55),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"p",56),e.ALo(9,"translate"),e.qZA()}if(2&U){const Q=e.oxw();e.xp6(2),e.Q6J("href",Q.data.image.shortcutUrl,e.LSH),e.xp6(1),e.Oqu(e.xi3(4,6,Q.data.image.caption,Q.data.image.captionPlaceholder)),e.xp6(2),e.Q6J("src",Q.data.image.url,e.LSH)("alt",Q.data.image.captionPlaceholder),e.xp6(1),e.Q6J("innerHTML",e.xi3(7,9,Q.data.image.caption,Q.data.image.captionPlaceholder),e.oJD),e.xp6(2),e.Q6J("innerHTML",e.lcZ(9,12,Q.data.image.description),e.oJD)}}function a(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"mat-checkbox",57),e.NdJ("ngModelChange",function(X){e.CHM(Q);const m=e.oxw();return e.KtG(m.data.checkboxState=X)}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&U){const Q=e.oxw();e.Q6J("ngModel",Q.data.checkboxState),e.xp6(2),e.Oqu(e.lcZ(3,2,Q.data.checkbox.text))}}const y=function(U){return{visible:U}};function M(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(X){e.CHM(Q);const m=e.oxw();return e.KtG(m.onSecondaryButtonClick(X))}),e._uU(1),e.ALo(2,"translate"),e.GkF(3,59),e.qZA()}if(2&U){const Q=e.oxw(),dt=e.MAs(24);e.Q6J("disabled",Q.data.secondaryButton.isDisabled),e.xp6(1),e.hij(" ",e.lcZ(2,4,Q.data.secondaryButton.text)," "),e.xp6(2),e.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",e.VKq(6,y,Q.data.secondaryButton.spinnerOverlay))}}const P=function(U){return{"pointer-events":U}},K=function(U){return{visibility:U}};function B(U,z){if(1&U){const Q=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(X){e.CHM(Q);const m=e.oxw();return e.KtG(m.onPrimaryButtonClick(X))}),e.TgZ(1,"div",61),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.GkF(4,59),e.qZA()}if(2&U){const Q=e.oxw(),dt=e.MAs(24);e.Q6J("ngClass",Q.data.primaryButton.accentColor?"font-button2 mat-flat-button mat-accent":"font-button2")("nvFocusRipple",!!Q.data.primaryButton.accentColor)("disabled",Q.data.primaryButton.isDisabled)("nvAutoFocus",Q.autoFocusOnPrimaryButton)("ngStyle",e.VKq(11,P,Q.data.primaryButton.spinnerOverlay?"none":"all")),e.xp6(1),e.Q6J("ngStyle",e.VKq(13,K,Q.data.primaryButton.removeButtonTextOnClick?"hidden":"visible")),e.xp6(1),e.hij(" ",e.lcZ(3,9,Q.data.primaryButton.text)," "),e.xp6(2),e.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",e.VKq(15,y,Q.data.primaryButton.spinnerOverlay))}}function j(U,z){if(1&U&&(e.TgZ(0,"div",63),e._UZ(1,"mat-progress-spinner",64),e.qZA()),2&U){const Q=e.oxw(2);e.xp6(1),e.Q6J("ngClass",Q.data.spinnerClass?Q.data.spinnerClass:"mat-accent")("diameter",16)}}function tt(U,z){1&U&&e.YNc(0,j,2,2,"div",62),2&U&&e.Q6J("ngIf",z.visible)}const ot=function(U,z){return[U,z]};let F=(()=>{var U;class z extends f.u{get hasIcon(){return!!this.data.icon||!!this.data.image}get autoFocusOnPrimaryButton(){var dt;return null===(dt=this.data.autoFocusOnPrimaryButton)||void 0===dt||dt}static open(dt,X){return(0,L.HO)(X,{addOverlayPanelCls:!0}),dt.open(z,X)}constructor(dt,X,m,Y){super(X,m,dt,Y),this.primaryButtonClick=new e.vpe,this.secondaryButtonClick=new e.vpe,this.radioButtonClick=new e.vpe,this.linkClick=new e.vpe,this.data={},this.data=dt.get(i.WI,null)||{showSpinner:!1}}ngOnInit(){var dt,X;this.data.checkboxState=null!==(dt=null===(X=this.data.checkbox)||void 0===X?void 0:X.initialState)&&void 0!==dt&&dt}onPrimaryButtonClick(dt){this.primaryButtonClick.emit(dt)}onSecondaryButtonClick(dt){this.secondaryButtonClick.emit(dt)}onLinkClick(){this.linkClick.emit()}onRadioOptionChange(){this.radioButtonClick.emit()}onImageDragStart(){var dt;null===(dt=this.data.image)||void 0===dt||dt.dragStartCallback()}}return(U=z).\u0275fac=function(dt){return new(dt||U)(e.Y36(e.zs3),e.Y36(i.so,8),e.Y36(x.oL,8),e.Y36(e.R0b))},U.\u0275cmp=e.Xpm({type:U,selectors:[["nv-hig-dialog"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",radioButtonClick:"radioButtonClick",linkClick:"linkClick"},features:[e.qOj],decls:25,vars:28,consts:[["nvSpatialNavigationContainer","","nvTrapFocus","",3,"ngClass","forceEnable"],["fxLayout","row","fxLayoutAlign","stretch start",1,"hig-dialog-padding"],["class","hig-dialog-icon material-icons",4,"ngIf"],["class","hig-dialog-img",3,"src",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px",1,"hig-dialog-content-container"],["fxLayout","column","fxLayoutAlign","space-between stretch",1,"hig-dialog-info-container"],["class","font-header6 header-text",3,"innerHTML",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"hig-dialog-spinner-container",3,"ngClass"],["class","hig-dialog-spinner",4,"ngIf"],["fxLayout","column"],["class","font-body2 body-text",3,"innerHTML",4,"ngIf"],["class","hig-dialog-link-text",4,"ngIf"],["class","font-body2 hig-dialog-error-text",4,"ngIf"],["class","hig-radio-container","nvSpatialNavigationGroup","","navigateAction","focus",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","hig-description-list-container",4,"ngIf"],["class","hig-dialog-image-container","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px",1,"hig-dialog-actions-container"],["class","nv-hig",3,"ngModel","ngModelChange",4,"ngIf"],["fxLayoutAlign","end center","fxLayoutGap","8px",1,"hig-dialog-buttons-container"],["mat-button","","class","hig-dialog-secondary-button font-button2",3,"disabled","click",4,"ngIf"],["mat-button","",3,"ngClass","nvFocusRipple","disabled","nvAutoFocus","ngStyle","click",4,"ngIf"],["buttonSpinner",""],[1,"hig-dialog-icon","material-icons"],[1,"hig-dialog-img",3,"src"],[1,"font-header6","header-text",3,"innerHTML"],[1,"hig-dialog-spinner"],["mode","indeterminate","diameter","48","color","accent"],[1,"font-body2","body-text",3,"innerHTML"],[1,"hig-dialog-link-text"],["target","_blank","class","font-body2-link",3,"href","shortUrl","click",4,"ngIf"],["cdkMonitorSubtreeFocus","","target","_blank","class","font-body2",3,"innerHTML","click",4,"ngIf"],["target","_blank",1,"font-body2-link",3,"href","shortUrl","click"],["cdkMonitorSubtreeFocus","","target","_blank",1,"font-body2",3,"innerHTML","click"],["class","font-body2-link",3,"routerLink","skipLocationChange",4,"ngIf"],["class","font-body2-link",3,"click",4,"ngIf"],[1,"font-body2-link",3,"routerLink","skipLocationChange"],[1,"font-body2-link",3,"click"],[1,"font-body2","hig-dialog-error-text"],["nvSpatialNavigationGroup","","navigateAction","focus",1,"hig-radio-container",3,"ngModel","ngModelChange","change"],["nvMatRadioSpatialNavigationFixup","",3,"value",4,"ngFor","ngForOf"],["nvMatRadioSpatialNavigationFixup","",3,"value"],[1,"hig-radio-label-container"],["class","hig-radio-option-image",3,"src",4,"ngIf"],["dir","auto",1,"hig-radio-option-label"],[1,"hig-radio-option-image",3,"src"],[1,"hig-description-list-container"],["class","hig-description-list-item",4,"ngFor","ngForOf"],[1,"hig-description-list-item"],["class","hig-description-icon font-body2",3,"svgIcon",4,"ngIf"],[1,"hig-description-text","font-body2"],[1,"hig-description-icon","font-body2",3,"svgIcon"],["fxLayout","row","fxLayoutAlign","start start",1,"hig-dialog-image-container"],["fxLayout","column",1,"hig-dialog-image-shortcut-container"],[1,"hig-dialog-image-shortcut-link",3,"href","click","dragstart"],[1,"hig-dialog-image",3,"src","alt"],[1,"hig-dialog-image-caption",3,"innerHTML"],[1,"hig-dialog-image-description","font-body2",3,"innerHTML"],[1,"nv-hig",3,"ngModel","ngModelChange"],["mat-button","",1,"hig-dialog-secondary-button","font-button2",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",3,"ngClass","nvFocusRipple","disabled","nvAutoFocus","ngStyle","click"],[3,"ngStyle"],["fxLayoutAlign","center center","class","spinner-overlay",4,"ngIf"],["fxLayoutAlign","center center",1,"spinner-overlay"],["mode","indeterminate",3,"ngClass","diameter"]],template:function(dt,X){1&dt&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,S,2,1,"i",2),e.YNc(3,u,1,1,"img",3),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,g,2,4,"div",6),e.TgZ(7,"div",7),e.YNc(8,h,2,0,"div",8),e.TgZ(9,"div",9),e.YNc(10,O,2,4,"div",10),e.qZA()(),e.YNc(11,p,3,2,"div",11),e.YNc(12,l,4,3,"div",11),e.YNc(13,o,3,4,"div",12),e.YNc(14,R,2,2,"mat-radio-group",13),e.YNc(15,I,2,1,"div",14),e.YNc(16,q,10,14,"div",15),e.qZA(),e.TgZ(17,"div",16)(18,"div"),e.YNc(19,a,4,4,"mat-checkbox",17),e.qZA(),e.TgZ(20,"div",18),e.YNc(21,M,4,8,"button",19),e.YNc(22,B,5,17,"button",20),e.qZA(),e.YNc(23,tt,1,1,"ng-template",null,21,e.W1O),e.qZA()()()()),2&dt&&(e.Q6J("ngClass",X.data.isTransparent?"hig-dialog-transparent":"hig-dialog")("forceEnable",X.data.trapFocus),e.xp6(1),e.ekj("no-header-text",!X.data.headerText)("no-body-text",!X.data.bodyText)("no-spinner",!X.data.showSpinner)("has-icon",X.hasIcon),e.xp6(1),e.Q6J("ngIf",X.data.icon),e.xp6(1),e.Q6J("ngIf",X.data.image&&!X.data.image.isDraggableUrl),e.xp6(3),e.Q6J("ngIf",X.data.headerText),e.xp6(1),e.Q6J("ngClass",e.WLB(25,ot,X.data.bodyText?"hig-dialog-spinner-content-start":"hig-dialog-spinner-content-center",X.data.showSpinner?"hig-dialog-spinner-group":"")),e.xp6(1),e.Q6J("ngIf",X.data.showSpinner),e.xp6(2),e.Q6J("ngIf",X.data.bodyText),e.xp6(1),e.Q6J("ngIf",null==X.data.link?null:X.data.link.placeholders),e.xp6(1),e.Q6J("ngIf",X.data.link&&!X.data.link.placeholders),e.xp6(1),e.Q6J("ngIf",X.data.errorCodeText),e.xp6(1),e.Q6J("ngIf",X.data.radioButtonOptions),e.xp6(1),e.Q6J("ngIf",X.data.descriptionList),e.xp6(1),e.Q6J("ngIf",null==X.data.image?null:X.data.image.isDraggableUrl),e.xp6(3),e.Q6J("ngIf",X.data.checkbox),e.xp6(2),e.Q6J("ngIf",X.data.secondaryButton),e.xp6(1),e.Q6J("ngIf",X.data.primaryButton))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.hig-dialog[_ngcontent-%COMP%]{background-color:#393939;padding:0;width:560px}.hig-dialog-transparent[_ngcontent-%COMP%]{background-color:transparent;padding:0;width:100%}.isLtr[_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{padding:20px 8px 8px 24px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{--dummy: 0;padding:20px 8px 8px 24px}.isRtl[_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{padding:20px 24px 8px 8px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{--dummy: 0;padding:20px 24px 8px 8px}.hig-dialog-img[_ngcontent-%COMP%]{min-width:32px}.isLtr[_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}@media (max-width: 599.98px) and (orientation: portrait),screen and (max-width: 568px) and (max-height: 320px) and (orientation: landscape){.hig-dialog[_ngcontent-%COMP%]{width:calc(100vw - 32px)}}.hig-dialog-content-container[_ngcontent-%COMP%]{width:100%}.isLtr[_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{padding-right:15px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{--dummy2: 0;padding-right:15px}.isRtl[_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{padding-left:15px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{--dummy2: 0;padding-left:15px}.hig-dialog-spinner-group[_ngcontent-%COMP%]{margin-top:10px}.hig-dialog-link-text[_ngcontent-%COMP%]{margin:10px 0 0}.isLtr[_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.hig-dialog-buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;z-index:1;background:transparent}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.hig-dialog-buttons-container[_ngcontent-%COMP%]{flex-flow:row wrap-reverse}}.hig-dialog-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center}.hig-dialog-spinner-content-start[_ngcontent-%COMP%]{margin-top:10px;place-content:start}.no-header-text.no-spinner[_ngcontent-%COMP%]   .hig-dialog-spinner-content-start[_ngcontent-%COMP%]{margin-top:0}.hig-dialog-spinner-content-center[_ngcontent-%COMP%]{place-content:center}.no-body-text.has-icon[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], .no-header-text.no-spinner.has-icon[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{display:flex;height:32px;align-items:center}.hig-dialog-icon[_ngcontent-%COMP%]{font-size:32px;color:#595959}.hig-radio-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:16px}.hig-radio-label-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.hig-radio-option-image[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.hig-radio-option-label[_ngcontent-%COMP%]{line-height:24px;font-size:16px}.hig-dialog-image-container[_ngcontent-%COMP%]{width:100%;padding-top:24px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{width:154px}.isLtr[_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-link[_ngcontent-%COMP%]{position:relative;font-size:0;line-height:0;color:transparent;cursor:grab;cursor:-webkit-grab}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-link[_ngcontent-%COMP%]:active{cursor:grabbing;cursor:-webkit-grabbing}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image[_ngcontent-%COMP%]{width:130px;height:130px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-caption[_ngcontent-%COMP%]{text-align:center;margin:12px 0 0;color:#ffffffb3}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-description[_ngcontent-%COMP%]{margin:0}.hig-dialog-error-text[_ngcontent-%COMP%]{margin:24px 0 0}.hig-description-list-container[_ngcontent-%COMP%]{margin-top:16px}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-list-item[_ngcontent-%COMP%]{display:flex}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{width:14px;height:14px;margin-top:2px;flex-shrink:0}.isLtr[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),z})()},10087:(Dt,ct,t)=>{"use strict";t.d(ct,{G:()=>oe});var e=t(61699),i=t(39743),L=t(47178),x=t(32484),S=t(93190),u=t(17827),g=t(13303),h=t(85046),O=t(95933),E=t(79664),w=t(31868),p=t(77869),V=t(13963),c=t(92403),C=t(62404),l=t(26575),o=t(45356),n=t(47520),s=t(24565),R=t(78654),_=t(93170),b=t(89777),I=t(75889),q=t(87251),a=t(38616),y=t(422),M=t(81711),P=t(27247),K=t(43559);const B=["marqueeContainer"],j=["paginator"],tt=["marqueeTileContainerList"],ot=["paginatorList"],F=function(Qt){return{"no-mask":Qt}};function U(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"img",15),e.NdJ("load",function(){e.CHM(Ut);const it=e.oxw(3);return e.KtG(it.marqueeImageLoadComplete())})("error",function(){e.CHM(Ut);const it=e.oxw(3);return e.KtG(it.fallbackToPlaceholderImage())}),e.qZA()}if(2&Qt){const Ut=e.oxw(3);e.Q6J("src",Ut.marqueeImageUrl,e.LSH)("ngClass",e.VKq(2,F,Ut.imageMaskDisabled))}}const z=function(Qt,Pt,Ut){return{fadeInMarquee:Qt,"padded-image-container":Pt,"full-bleed-image-container":Ut}};function Q(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",13),e.YNc(1,U,1,4,"img",14),e.qZA()),2&Qt){const Ut=Pt.$implicit,Tt=e.oxw(2);e.Q6J("ngClass",e.kEZ(2,z,Ut.isVisible,Ut.imageType===Tt.tileOption.PaddedImage&&!Tt.tileIsShowingFallbackImage,Ut.imageType===Tt.tileOption.FullBleedImage||Tt.tileIsShowingFallbackImage)),e.xp6(1),e.Q6J("ngIf",Ut.isVisible)}}function dt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.TgZ(2,"div",19),e._uU(3),e.qZA()()),2&Qt){const Ut=e.oxw().$implicit;e.xp6(3),e.Oqu(Ut.app.promoTag)}}function X(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div"),e.YNc(1,dt,4,1,"div",16),e.qZA()),2&Qt){const Ut=Pt.$implicit;e.xp6(1),e.Q6J("ngIf",Ut.isVisible&&Ut.app.promoTag)}}const m=function(Qt,Pt){return{"marquee-tile-background-gradient":Qt,"marquee-tile-background-fallback-gradient":Pt}};function Y(Qt,Pt){if(1&Qt&&e._UZ(0,"div",13),2&Qt){const Ut=e.oxw(5);e.Q6J("ngClass",e.WLB(1,m,Ut.hasMarqueeScrim,!Ut.hasMarqueeScrim))}}function D(Qt,Pt){1&Qt&&e._UZ(0,"div",28)}function N(Qt,Pt){1&Qt&&e._UZ(0,"div",29)}function Z(Qt,Pt){1&Qt&&e._UZ(0,"div",30)}function W(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",23),e.YNc(1,Y,1,4,"div",24),e.YNc(2,D,1,0,"div",25),e.YNc(3,N,1,0,"div",26),e.YNc(4,Z,1,0,"div",27),e.qZA()),2&Qt){const Ut=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",Ut.gradients.background&&!Ut.isShowingFallbackImage),e.xp6(1),e.Q6J("ngIf",Ut.gradients.leftEdge&&!Ut.isShowingFallbackImage),e.xp6(1),e.Q6J("ngIf",Ut.gradients.leftMerge&&!Ut.isShowingFallbackImage),e.xp6(1),e.Q6J("ngIf",Ut.gradients.bottomEdge)}}const A=function(Qt){return{fadeInMarqueeDescription:Qt}};function d(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",21),e.YNc(1,W,5,4,"div",22),e.qZA()),2&Qt){const Ut=Pt.$implicit;e.Q6J("ngClass",e.VKq(2,A,Ut.isVisible)),e.xp6(1),e.Q6J("ngIf",Ut.isVisible)}}function H(Qt,Pt){if(1&Qt&&(e.ynx(0),e.YNc(1,d,2,4,"div",20),e.BQk()),2&Qt){const Ut=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Ut.marqueeData)}}function $(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&Qt){const Ut=e.oxw(5);e.Udp("color",Ut.fontColor),e.xp6(1),e.hij(" ",Ut.appTitle," ")}}function J(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"img",43),e.NdJ("error",function(){e.CHM(Ut);const it=e.oxw(5);return e.KtG(it.fallbackToAppLogo())}),e.qZA()}if(2&Qt){const Ut=e.oxw(5);e.Q6J("src",Ut.appLogoUrl,e.LSH)}}function st(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&Qt){const Ut=e.oxw(5);e.xp6(1),e.hij(" ",Ut.appSubtitle," ")}}function lt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&Qt){const Ut=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",Ut.app.additionalSubtitle," ")}}function gt(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"div",35),e.YNc(1,$,2,3,"div",36),e.YNc(2,J,1,1,"img",37),e.TgZ(3,"div",38),e.YNc(4,st,2,1,"div",39),e.YNc(5,lt,2,1,"div",40),e.qZA(),e.TgZ(6,"button",41),e.NdJ("click",function(it){e.CHM(Ut);const Mt=e.oxw(2).$implicit,zt=e.oxw(2);return e.KtG(zt.onViewAppDetails(it,Mt.app))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&Qt){const Ut=e.oxw(2).$implicit,Tt=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Tt.phoneMarqueeEnabled&&Tt.appTitle),e.xp6(1),e.Q6J("ngIf",!Tt.appTitle),e.xp6(1),e.Udp("color",Tt.fontColor),e.xp6(1),e.Q6J("ngIf",Tt.appSubtitle),e.xp6(1),e.Q6J("ngIf",Ut.app.additionalSubtitle),e.xp6(2),e.hij(" ",e.lcZ(8,7,"common.viewDetails")," ")}}function vt(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(it){e.CHM(Ut);const Mt=e.oxw(3).$implicit,zt=e.oxw(2);return e.KtG(zt.onActionClicked(it,Mt.app.action,zt.position))}),e._uU(1),e.qZA()}if(2&Qt){const Ut=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",Ut.app.action.label," ")}}function k(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&Qt){const Ut=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",Ut.app.action.infoText," ")}}function pt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",46)(1,"div",47),e._uU(2),e.qZA(),e._UZ(3,"div",48),e.YNc(4,vt,2,1,"button",49),e.YNc(5,k,2,1,"div",50),e.qZA()),2&Qt){const Ut=e.oxw(2).$implicit;e.xp6(1),e.Q6J("isMultiLineEllipsis",!0),e.xp6(1),e.hij(" ",Ut.app.title," "),e.xp6(1),e.Q6J("isMultiLineEllipsis",!0)("innerHTML",null==Ut.app?null:Ut.app.body,e.oJD),e.xp6(1),e.Q6J("ngIf",(null==Ut.app||null==Ut.app.action||null==Ut.app.action.label?null:Ut.app.action.label.length)>0),e.xp6(1),e.Q6J("ngIf",!(null==Ut.app.action||!Ut.app.action.infoText))}}const yt=function(Qt){return{"marquee-tile-data":Qt}};function Xt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",13),e.YNc(1,gt,9,9,"div",33),e.YNc(2,pt,6,6,"div",34),e.qZA()),2&Qt){const Ut=e.oxw().$implicit,Tt=e.oxw(2);e.Q6J("ngClass",e.VKq(3,yt,Ut.contentOverlayType!==Tt.tileOption.FullBleedImage)),e.xp6(1),e.Q6J("ngIf",Ut.contentOverlayType!==Tt.tileOption.FullBleedImage),e.xp6(1),e.Q6J("ngIf",Ut.contentOverlayType===Tt.tileOption.FullBleedImage)}}function It(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",31,32),e.YNc(2,Xt,3,5,"div",24),e.qZA()),2&Qt){const Ut=Pt.$implicit;e.Q6J("ngClass",e.VKq(2,A,Ut.isVisible)),e.xp6(2),e.Q6J("ngIf",Ut.isVisible)}}function Nt(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"button",53,54),e.NdJ("click",function(){e.CHM(Ut);const it=e.oxw(2);return e.KtG(it.prevSlide())}),e._UZ(2,"img",55),e.qZA()}2&Qt&&(e.xp6(2),e.Q6J("src","assets/img/lt_arrow.svg",e.LSH))}function le(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"button",56,57),e.NdJ("click",function(){e.CHM(Ut);const it=e.oxw(2);return e.KtG(it.nextSlide())}),e._UZ(2,"img",55),e.qZA()}2&Qt&&(e.xp6(2),e.Q6J("src","assets/img/rt_arrow.svg",e.LSH))}function te(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"li",61,62),e.NdJ("click",function(){const Mt=e.CHM(Ut).$implicit,zt=e.oxw(3);return e.KtG(zt.goToSlide(Mt))})("focusin",function(){const Mt=e.CHM(Ut).$implicit,zt=e.oxw(3);return e.KtG(zt.goToSlide(Mt))}),e.qZA()}if(2&Qt){const Ut=Pt.$implicit,Tt=e.oxw(3);e.ekj("active",Ut===Tt.position),e.uIk("tabindex",Tt.enablePaginatorNavigation?0:null)}}function bt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"ul",58,59),e.YNc(2,te,2,3,"li",60),e.qZA()),2&Qt){const Ut=e.oxw(2);e.uIk("tabindex",Ut.enablePaginatorNavigation?0:null),e.xp6(2),e.Q6J("ngForOf",Ut.slideAccessor)}}function Vt(Qt,Pt){1&Qt&&e._UZ(0,"div",63)}const ut=function(Qt,Pt,Ut,Tt,it,Mt,zt,ft,ve,Ce){return{"mobile-view":Qt,"tv-mode":Pt,"phone-marquee":Ut,"paginator-navigation":Tt,"scrim-has-alpha":it,"full-bleed-item":Mt,"full-bleed-item-not-first-position":zt,"no-bg-overhang":ft,"custom-bg":ve,"fallback-image-item":Ce}};function re(Qt,Pt){if(1&Qt){const Ut=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("swipeleft",function(){e.CHM(Ut);const it=e.oxw();return e.KtG(it.swipeLeft())})("swiperight",function(){e.CHM(Ut);const it=e.oxw();return e.KtG(it.swipeRight())})("click",function(){e.CHM(Ut);const it=e.oxw();return e.KtG(it.cancelAutoSlide())}),e.YNc(2,Q,2,6,"div",5),e.YNc(3,X,2,1,"div",6),e.YNc(4,H,2,1,"ng-container",7),e.YNc(5,It,3,4,"div",8),e.YNc(6,Nt,3,1,"button",9),e.YNc(7,le,3,1,"button",10),e.YNc(8,bt,3,2,"ul",11),e.YNc(9,Vt,1,0,"div",12),e.qZA()}if(2&Qt){const Ut=e.oxw();e.Udp("--scrim-color",Ut.scrimColor)("--dismiss-ratio",Ut.dismissRatio),e.Q6J("ngClass",e.rFY(14,ut,[Ut.mobileMode,Ut.tvMode,Ut.phoneMarqueeEnabled,Ut.enablePaginatorNavigation,Ut.scrimHasAlpha,Ut.isTileTypeFullBleedImage,Ut.isTileTypeFullBleedImageNotAtFirst,!1===Ut.backgroundOverhangEnabled,Ut.containerCustomBackground,Ut.tileIsShowingFallbackImage])),e.uIk("tabindex",Ut.enablePaginatorNavigation?0:null),e.xp6(2),e.Q6J("ngForOf",Ut.marqueeData),e.xp6(1),e.Q6J("ngForOf",Ut.marqueeData),e.xp6(1),e.Q6J("ngIf",!Ut.phoneMarqueeEnabled),e.xp6(1),e.Q6J("ngForOf",Ut.marqueeData),e.xp6(1),e.Q6J("ngIf",0!==Ut.position),e.xp6(1),e.Q6J("ngIf",Ut.position!==Ut.marqueeData.length-1),e.xp6(1),e.Q6J("ngIf",(null==Ut.marqueeData?null:Ut.marqueeData.length)>1),e.xp6(1),e.Q6J("ngIf",Ut.useMarqueeScrim)}}const Kt=function(Qt){return{"no-bg-overhang":Qt}};function jt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",64),e._UZ(1,"nv-hig-progress-circular"),e.qZA()),2&Qt){const Ut=e.oxw();e.Q6J("ngClass",e.VKq(1,Kt,!1===Ut.backgroundOverhangEnabled))}}function Wt(Qt,Pt){if(1&Qt&&(e.TgZ(0,"div",65)(1,"span",66),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"br"),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&Qt){const Ut=e.oxw();e.Q6J("ngClass",e.VKq(7,Kt,!1===Ut.backgroundOverhangEnabled)),e.xp6(2),e.hij("",e.lcZ(3,3,"common.genericLoadError")," "),e.xp6(3),e.Oqu(e.lcZ(6,5,"common.connectionError"))}}let oe=(()=>{var Qt;class Pt{set tileData(Tt){this._tileData=Tt,this.refreshMarquee(!0)}get tileData(){return this._tileData}set imageOverrides(Tt){(0,L.isEqual)(this._imageOverrides,Tt)||(this._imageOverrides=Tt,this.updateImageOverrides())}get imageOverrides(){return this._imageOverrides}get elementRef(){return this._elementRef}get tileOption(){return E.R}get hasMarqueeScrim(){return this._hasMarqueeScrim}set hasMarqueeScrim(Tt){this._hasMarqueeScrim=Tt}get hasFocus(){return this.marqueeContainer.nativeElement.contains(this.focusManager.currentFocusedElement)}get hasFocusable(){return!!this.focusManager.getInitialFocusable(this.marqueeContainer.nativeElement)}constructor(Tt,it,Mt,zt,ft,ve,Ce,De,ze,$e){this.imageFormatService=Mt,this.networkStatusService=zt,this.localeService=ft,this.ngZone=ve,this.breakpointObserver=Ce,this.spatialNavigationService=De,this.focusManager=ze,this.changeDetector=$e,this.useMarqueeScrim=!1,this.phoneMarqueeEnabled=!1,this.mobileMode=!1,this.tvMode=!1,this.dismissRatio=0,this.enablePaginatorNavigation=!1,this.actionClicked=new e.vpe,this.viewAppDetails=new e.vpe,this.imageLoadFailure=new e.vpe,this.marqueeScrolled=new e.vpe,this.paginatorRepositioned=new e.vpe,this.initialized=new e.vpe,this.slideAccessor=[],this.position=0,this.busyLoadingMarquee=!0,this.errorVisible=!1,this.isTileTypeFullBleedImage=!1,this.isTileTypeFullBleedImageNotAtFirst=!1,this.tileIsShowingFallbackImage=!1,this.globalFallbackImage=E.S,this.globalFallbackImageType=E.R.FullBleedImage,this.formatImages=!0,this.backgroundOverhangEnabled=!0,this.imageMaskDisabled=!1,this.containerCustomBackground=!1,this.contentOverlayType=E.R.FullBleedImage,this.isHandsetPortrait=!1,this.ismarketingTileReloaded=!1,this.autoScrollInterval=5e3,this.autoScroll=!0,this._elementRef=Tt,this.logger=it.getLogger("hig/MarqueeComponent"),this.destroy$=new x.xQ}ngOnInit(){var Tt,it,Mt,zt,ft;this.gradientOverrides&&(this.bottomEdgeGradientEnabled=null!==(Tt=this.gradientOverrides.bottomEdge)&&void 0!==Tt?Tt:this.bottomEdgeGradientEnabled,this.leftEdgeGradientEnabled=null!==(it=this.gradientOverrides.leftEdge)&&void 0!==it?it:this.leftEdgeGradientEnabled,this.leftMergeGradientEnabled=null!==(Mt=this.gradientOverrides.leftMerge)&&void 0!==Mt?Mt:this.leftMergeGradientEnabled,this.backgroundGradientEnabled=null!==(zt=this.gradientOverrides.background)&&void 0!==zt?zt:this.backgroundGradientEnabled,this.backgroundOverhangEnabled=null!==(ft=this.gradientOverrides.backgroundOverhang)&&void 0!==ft?ft:this.backgroundOverhangEnabled),this.constructMarquee(),this.switchableImageConfig&&(this.breakpointObserver.observe(`(min-width: ${this.switchableImageConfig.breakpointPx}px)`).pipe((0,g.R)(this.destroy$)).subscribe(ve=>{ve.matches&&(this.overrideImageType(this.switchableImageConfig.alternate),this.changeDetector.detectChanges())}),this.breakpointObserver.observe(`(max-width: ${this.switchableImageConfig.breakpointPx-1}px)`).pipe((0,g.R)(this.destroy$)).subscribe(ve=>{ve.matches&&(this.overrideImageType(this.switchableImageConfig.default),this.changeDetector.detectChanges())})),this.networkStatusService.onlineStatusChanged.pipe((0,h.h)(ve=>!0===ve)).pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.refreshMarquee(),this.changeDetector.detectChanges()}),this.phoneMarqueeEnabled&&(this.breakpointObserver.observe(i.u3.HandsetPortrait).pipe((0,g.R)(this.destroy$)).subscribe(ve=>{this.isHandsetPortrait=ve.matches,this.updateMarqueeImageUrl(this.tileInFocus.app),this.notifyPaginatorRepositioned(),this.changeDetector.detectChanges()}),(0,S.R)(window,"resize").pipe((0,O.b)(200),(0,g.R)(this.destroy$)).subscribe(ve=>{this.notifyPaginatorRepositioned()}))}updateImageOverrides(){var Tt,it,Mt,zt,ft,ve,Ce,De,ze,$e,Se;if(this.globalFallbackImage=null!==(Tt=null===(it=this.imageOverrides)||void 0===it?void 0:it.globalFallbackImageUrl)&&void 0!==Tt?Tt:this.globalFallbackImage,this.globalFallbackImageType=null!==(Mt=null===(zt=this.imageOverrides)||void 0===zt?void 0:zt.globalFallbackImageType)&&void 0!==Mt?Mt:this.globalFallbackImageType,this.formatImages=null!==(ft=null===(ve=this.imageOverrides)||void 0===ve?void 0:ve.formatImages)&&void 0!==ft?ft:this.formatImages,this.imageMaskDisabled=null!==(Ce=null===(De=this.imageOverrides)||void 0===De?void 0:De.disableMask)&&void 0!==Ce?Ce:this.imageMaskDisabled,this.containerCustomBackground=null!==(ze=null===($e=this.imageOverrides)||void 0===$e?void 0:$e.customBackground)&&void 0!==ze?ze:this.containerCustomBackground,this.switchableImageConfig=null===(Se=this.imageOverrides)||void 0===Se?void 0:Se.switchableImageConfig,!(0,L.isEmpty)(this.marqueeData))if((0,L.isNil)(this.tileData)||(0,L.isEmpty)(this.tileData)){const ge={fallbackImage:this.globalFallbackImage,type:this.globalFallbackImageType};this.marqueeData=[{...this.marqueeData[0],app:ge}];const qt=this.globalFallbackImageType!==E.R.PaddedImage;this.updateMetaData(this.marqueeData[0]),this.updateImageTypeByIndex(0,ge.type,qt)}else this.marqueeData.forEach((ge,qt)=>{this.updateMetaData(this.marqueeData[qt])})}overrideImageType(Tt){var it;this.marqueeData=null===(it=this.marqueeData)||void 0===it?void 0:it.map(Mt=>(Mt.imageType=Tt,Mt)),this.updateImageTypeByIndex(this.position,Tt,this.marqueeData[this.position].isShowingFallbackImage)}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.enablePaginatorNavigation&&this.ngZone.runOutsideAngular(()=>{var Tt,it;(0,S.R)(null===(Tt=this.marqueeContainer)||void 0===Tt?void 0:Tt.nativeElement,"navbeforefocus").pipe((0,g.R)(this.destroy$)).subscribe(this.onContainerNavBeforeFocus.bind(this)),(0,S.R)(null===(it=this.marqueeContainer)||void 0===it?void 0:it.nativeElement,"navnotarget").pipe((0,h.h)(Mt=>{var zt;return Mt.target===(null===(zt=this.marqueeContainer)||void 0===zt?void 0:zt.nativeElement)&&(0,w.kQ)(Mt.detail.dir)}),(0,g.R)(this.destroy$)).subscribe(this.navigateMarqueeSlide.bind(this))}),this.initialized.emit()}onContainerNavBeforeFocus(Tt){this.hasFocus?this.navigateWithinMarquee(Tt):this.navigateIntoMarquee(Tt)}navigateIntoMarquee(Tt){var it;let Mt;switch(Tt.detail.dir){case"up":Mt=null===(it=this.paginatorList.get(this.position))||void 0===it?void 0:it.nativeElement;break;case"down":case"left":case"right":Mt=this.focusManager.getFirstFocusableChild(this.marqueeTileContainerList.get(this.position).nativeElement)}var zt;Mt||(Mt=null===(zt=this.paginatorList.get(this.position))||void 0===zt?void 0:zt.nativeElement),Mt&&(Tt.preventDefault(),this.focusManager.focusViaLastOrigin(Mt))}navigateWithinMarquee(Tt){var it;const Mt=this.marqueeTileContainerList.get(this.position).nativeElement.contains(this.focusManager.currentFocusedElement),zt=this.paginator.nativeElement.contains(Tt.target),ft=this.marqueeTileContainerList.get(this.position).nativeElement.contains(Tt.target);if(Mt&&zt&&(0,w.kQ)(Tt.detail.dir))this.navigateMarqueeSlide(Tt),Tt.preventDefault();else if(Tt.target===(null===(it=this.paginator)||void 0===it?void 0:it.nativeElement)){var ve;Tt.preventDefault(),this.focusManager.focusViaLastOrigin(null===(ve=this.paginatorList.get(this.position))||void 0===ve?void 0:ve.nativeElement)}else if(ft&&(0,w.kQ)(Tt.detail.dir)){Tt.preventDefault();const Ce=this.spatialNavigationService.findNextTarget(Tt.target,Tt.detail.dir);Ce&&!this.marqueeContainer.nativeElement.contains(Ce)&&this.focusManager.navigateTo(Ce,Tt.detail.dir)}}navigateMarqueeSlide(Tt){let it=!1;it=(this.localeService.isRTLLayoutEnabled?"left"===Tt.detail.dir:"right"===Tt.detail.dir)?this.nextSlide():this.prevSlide(),it&&(Tt.preventDefault(),this.ngZone.run(()=>this.changeDetector.detectChanges()))}notifyPaginatorRepositioned(){setTimeout(()=>{var Tt,it;const Mt=null===(Tt=this.marqueeContainer)||void 0===Tt?void 0:Tt.nativeElement.getBoundingClientRect().top;let zt,ft;var ve,Ce;void 0!==(null===(it=this.paginator)||void 0===it?void 0:it.nativeElement)?(zt=null===(ve=this.paginator)||void 0===ve?void 0:ve.nativeElement.getBoundingClientRect().bottom,ft=parseInt(getComputedStyle(null===(Ce=this.paginator)||void 0===Ce?void 0:Ce.nativeElement).getPropertyValue("margin-bottom"),10)):(zt=this.marqueeTileContainerList.get(this.position).nativeElement.getBoundingClientRect().bottom,ft=32),void 0!==zt&&void 0!==Mt&&this.paginatorRepositioned.next(Math.floor(zt+ft-Mt))})}constructMarquee(){this.marqueeData=[],this.slideAccessor=[];const Tt=(0,L.isNil)(this.tileData)||(0,L.isEmpty)(this.tileData);if(Tt){const it={heroImage:this.globalFallbackImage,marqueeHeroImage:this.globalFallbackImage,type:this.globalFallbackImageType};this.marqueeData.push({isVisible:!1,app:it,gradients:this.getGradientConfig(it),contentOverlayType:this.getContentOverlayType(it),imageType:it.type,isShowingFallbackImage:this.globalFallbackImageType!==E.R.PaddedImage}),this.updateImageTypeByIndex(0,it.type,this.marqueeData[0].isShowingFallbackImage)}else this.tileData.forEach((it,Mt)=>{this.marqueeData.push({isVisible:!1,app:it,gradients:this.getGradientConfig(it),contentOverlayType:this.getContentOverlayType(it),imageType:it.type,isShowingFallbackImage:Tt}),this.slideAccessor.push(Mt),this.updateMetaData(this.marqueeData[Mt])});this.logger.info("Marquee Initialization"),this.errorVisible=!1,this.marqueeInitialization(),this.busyLoadingMarquee=!1,this.ismarketingTileReloaded=!0}getGradientConfig(Tt){var it,Mt,zt,ft,ve;return{bottomEdge:null!==(it=this.bottomEdgeGradientEnabled)&&void 0!==it?it:Tt.type===E.R.FullBleedImage,leftEdge:null!==(Mt=this.leftEdgeGradientEnabled)&&void 0!==Mt?Mt:Tt.type===E.R.PaddedImage,leftMerge:null!==(zt=this.leftMergeGradientEnabled)&&void 0!==zt&&zt,background:null!==(ft=this.backgroundGradientEnabled)&&void 0!==ft?ft:Tt.type===E.R.PaddedImage,backgroundOverhang:null===(ve=this.backgroundOverhangEnabled)||void 0===ve||ve}}getContentOverlayType(Tt){return this.overlayOverrides?this.overlayOverrides.contentOverlayType:Tt.type}updateMetaData(Tt){const it=Tt.app;if(it.marqueeScrim){const Mt=it.marqueeScrim;this.fontColor=it.fontColor,this.scrimHasAlpha=Mt.includes("rgba"),this.scrimColor=this.scrimHasAlpha?Mt:it.scrimColor,this.hasMarqueeScrim=!0}else this.isTileTypeFullBleedImage&&(this.scrimColor="0, 0, 0",this.hasMarqueeScrim=!0);this.updateMarqueeImageUrl(it),this.appLogoUrl=it.logoImage?this.formatImages?this.imageFormatService.formatImageServiceUrl(it.logoImage):it.logoImage:null}updateMarqueeImageUrl(Tt){let it,Mt;this.phoneMarqueeEnabled&&this.isHandsetPortrait?(it={w:960},Mt=Tt.heroImage):(it={w:1920},Mt=Tt.marqueeHeroImage),this.marqueeImageUrl=Mt?this.formatImages?this.imageFormatService.formatImageServiceUrl(Mt,it):Mt:null}marqueeInitialization(){this.position=0,this.marqueeData[this.position]&&(this.marqueeData[this.position].isVisible=!0),this.setSlideMetaData(0),this.initAutoScroll()}setSlideMetaData(Tt){var it;this.marqueeData[Tt]&&(this.tileInFocus=this.marqueeData[Tt],this.updateImageTypeByIndex(Tt,null===(it=this.tileInFocus)||void 0===it?void 0:it.imageType,this.tileInFocus.isShowingFallbackImage),this.resetData(),this.updateMetaData(this.tileInFocus),this.isTileTypeFullBleedImage||(this.appSubtitle=this.tileInFocus.app.subtitle))}updateImageTypeByIndex(Tt,it,Mt){this.tileIsShowingFallbackImage=Mt,this.isTileTypeFullBleedImage=it===E.R.FullBleedImage,this.isTileTypeFullBleedImageNotAtFirst=this.isTileTypeFullBleedImage&&Tt>0}resetData(){this.marqueeImageUrl=null,this.appLogoUrl=null,this.appTitle=null,this.hasMarqueeScrim=!1,this.scrimColor=null,this.scrimHasAlpha=!1,this.fontColor="white",this.appSubtitle=null}initAutoScroll(){var Tt;this.autoScroll&&(this.marqueeIterator=(0,u.F)(this.autoScrollInterval),null===(Tt=this.marqueeIteratorSubscription)||void 0===Tt||Tt.unsubscribe(),this.marqueeIteratorSubscription=this.marqueeIterator.pipe((0,h.h)(()=>{var it,Mt;return(null===(it=document)||void 0===it?void 0:it.hasFocus())&&(null===(Mt=this.paginator)||void 0===Mt?void 0:Mt.nativeElement.getBoundingClientRect().bottom)>0})).subscribe(()=>this.autoScrollNext()))}goToSlide(Tt){this.position!==Tt&&(this.changeSlide(Tt),this.pause(),this.marqueeScrolled.emit({position:this.position,autoScrolled:this.autoScroll}))}changeSlide(Tt){const it=this.marqueeContainer.nativeElement.contains(this.focusManager.currentFocusedElement),Mt=this.marqueeTileContainerList.get(this.position).nativeElement.contains(this.focusManager.currentFocusedElement);this.marqueeData.map((ft,ve)=>{ft.isVisible=ve===Tt});const zt=this.position;if(this.position=Tt,this.setSlideMetaData(this.position),this.spatialNavigationService.enabled&&this.enablePaginatorNavigation&&it){let ft=this.position-zt;ft*=this.localeService.isRTLLayoutEnabled?-1:1;const ve=ft>0?p.WH.ArrowRight:p.WH.ArrowLeft;this.ngZone.runOutsideAngular(()=>{const Ce=(0,p.An)(window,ve).pipe((0,g.R)(this.destroy$)).subscribe();setTimeout(()=>{var De;const ze=this.focusManager.getFirstFocusableChild(this.marqueeTileContainerList.get(this.position).nativeElement),$e=Mt&&ze?ze:null===(De=this.paginatorList.get(this.position))||void 0===De?void 0:De.nativeElement;this.focusManager.focusViaLastOrigin($e),Ce.closed||Ce.unsubscribe()})})}}prevSlide(){return this.position>0&&(this.goToSlide(this.position-1),!0)}nextSlide(){return this.position<this.marqueeData.length-1&&(this.goToSlide(this.position+1),!0)}autoScrollNext(){this.marqueeScrolled.emit({position:this.position,autoScrolled:this.autoScroll}),this.changeSlide((this.position+1)%this.marqueeData.length),this.changeDetector.detectChanges()}refreshMarquee(Tt){(this.errorVisible||Tt)&&(this.logger.info("Marquee data updated, constructing marquee..."),this.constructMarquee())}pause(){var Tt;this.autoScroll=!1,null===(Tt=this.marqueeIteratorSubscription)||void 0===Tt||Tt.unsubscribe()}ngOnDestroy(){var Tt;this.destroy$.next(),this.destroy$.complete(),null===(Tt=this.marqueeIteratorSubscription)||void 0===Tt||Tt.unsubscribe()}swipeLeft(){this.localeService.isRTLLayoutEnabled?this.prevSlide():this.nextSlide()}swipeRight(){this.localeService.isRTLLayoutEnabled?this.nextSlide():this.prevSlide()}marqueeImageLoadComplete(){0===this.position&&!0===this.ismarketingTileReloaded&&(this.ismarketingTileReloaded=!1)}fallbackToPlaceholderImage(){const Tt=this.marqueeData[this.position],it=Tt.app;this.logger.warn("Error loading image for "+it.title+" using fallback."),Tt.isShowingFallbackImage=!(0,L.isNil)(this.tileData)&&!(0,L.isEmpty)(this.tileData)||Tt.imageType!==E.R.PaddedImage,this.setSlideMetaData(this.position),this.marqueeImageUrl=it.fallbackImage?it.fallbackImage:this.globalFallbackImage,this.imageLoadFailure.next(this.position)}fallbackToAppLogo(){this.logger.warn("Error loading app logo for "+this.marqueeData[this.position].app.title+" using fallback."),this.appTitle=this.marqueeData[this.position].app.title}onViewAppDetails(Tt,it){this.logger.info("view app details",Tt),this.viewAppDetails.emit({app:it,...Tt})}onActionClicked(Tt,it,Mt){this.logger.info("action clicked",Tt,it),this.actionClicked.emit({action:it,position:Mt,...Tt})}setInitialFocus(){this.focusManager.focusChild(this.marqueeContainer.nativeElement,"first")}cancelAutoSlide(){this.pause()}}return(Qt=Pt).\u0275fac=function(Tt){return new(Tt||Qt)(e.Y36(e.SBq),e.Y36(V.ed),e.Y36(V.CQ),e.Y36(V._J),e.Y36(V.OL),e.Y36(e.R0b),e.Y36(i.Yg),e.Y36(c.j),e.Y36(C.I),e.Y36(e.sBO))},Qt.\u0275cmp=e.Xpm({type:Qt,selectors:[["nv-hig-marquee"]],viewQuery:function(Tt,it){if(1&Tt&&(e.Gf(B,5),e.Gf(j,5),e.Gf(tt,5),e.Gf(ot,5)),2&Tt){let Mt;e.iGM(Mt=e.CRH())&&(it.marqueeContainer=Mt.first),e.iGM(Mt=e.CRH())&&(it.paginator=Mt.first),e.iGM(Mt=e.CRH())&&(it.marqueeTileContainerList=Mt),e.iGM(Mt=e.CRH())&&(it.paginatorList=Mt)}},inputs:{tileData:"tileData",useMarqueeScrim:"useMarqueeScrim",phoneMarqueeEnabled:"phoneMarqueeEnabled",mobileMode:"mobileMode",tvMode:"tvMode",dismissRatio:"dismissRatio",enablePaginatorNavigation:"enablePaginatorNavigation",gradientOverrides:"gradientOverrides",overlayOverrides:"overlayOverrides",imageOverrides:"imageOverrides"},outputs:{actionClicked:"actionClicked",viewAppDetails:"viewAppDetails",imageLoadFailure:"imageLoadFailure",marqueeScrolled:"marqueeScrolled",paginatorRepositioned:"paginatorRepositioned",initialized:"initialized"},decls:3,vars:3,consts:[["class","marquee-container","nvSpatialNavigationGroup","",3,"ngClass","--scrim-color","--dismiss-ratio","swipeleft","swiperight","click",4,"ngIf"],["class","marquee-load-container",3,"ngClass",4,"ngIf"],["class","errorPlaceholder","fxLayoutAlign","center center",3,"ngClass",4,"ngIf"],["nvSpatialNavigationGroup","",1,"marquee-container",3,"ngClass","swipeleft","swiperight","click"],["marqueeContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","marquee-tile-overlay-container",3,"ngClass",4,"ngFor","ngForOf"],["mat-icon-button","","class","marquee-button marquee-button-prev","tabindex","-1",3,"click",4,"ngIf"],["mat-icon-button","","class","marquee-button marquee-button-next","tabindex","-1",3,"click",4,"ngIf"],["class","marquee-indicators","cdkMonitorSubtreeFocus","","nvSpatialNavigationGroup","",4,"ngIf"],["class","marquee-scrim",4,"ngIf"],[3,"ngClass"],["elementtiming","marqueeTile","class","marquee-tile-image",3,"src","ngClass","load","error",4,"ngIf"],["elementtiming","marqueeTile",1,"marquee-tile-image",3,"src","ngClass","load","error"],["class","marquee-promo-tag-container","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"marquee-promo-tag-container"],[1,"marquee-promo-tag-border"],["dir","auto",1,"marquee-promo-tag"],["class","marquee-tile-gradient-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"marquee-tile-gradient-container",3,"ngClass"],["class","marquee-tile-gradients",4,"ngIf"],[1,"marquee-tile-gradients"],[3,"ngClass",4,"ngIf"],["class","marquee-tile-left-edge-gradient",4,"ngIf"],["class","marquee-tile-left-merge-gradient",4,"ngIf"],["class","full-bleed-up-down-gradient",4,"ngIf"],[1,"marquee-tile-left-edge-gradient"],[1,"marquee-tile-left-merge-gradient"],[1,"full-bleed-up-down-gradient"],[1,"marquee-tile-overlay-container",3,"ngClass"],["marqueeTileContainerList",""],["class","overlay-content",4,"ngIf"],["class","full-bleed-overlay-content",4,"ngIf"],[1,"overlay-content"],["class","font-header4 marquee-app-title",3,"color",4,"ngIf"],["elementtiming","appLogo","class","marquee-app-title",3,"src","error",4,"ngIf"],[1,"subtitle-container"],["class","font-sub3",4,"ngIf"],["dir","auto","class","font-sub3",4,"ngIf"],["tabindex","0","mat-raised-button","","color","accent",1,"marquee-tile-action-button","font-button2","text-button-icon",3,"click"],[1,"font-header4","marquee-app-title"],["elementtiming","appLogo",1,"marquee-app-title",3,"src","error"],[1,"font-sub3"],["dir","auto",1,"font-sub3"],[1,"full-bleed-overlay-content"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3",1,"title-font",3,"isMultiLineEllipsis"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3",1,"body-font",3,"isMultiLineEllipsis","innerHTML"],["mat-raised-button","","color","accent","class","marquee-tile-action-button font-button2","nvProgressCircular","",3,"click",4,"ngIf"],["class","info-font",4,"ngIf"],["mat-raised-button","","color","accent","nvProgressCircular","",1,"marquee-tile-action-button","font-button2",3,"click"],[1,"info-font"],["mat-icon-button","","tabindex","-1",1,"marquee-button","marquee-button-prev",3,"click"],["leftButton",""],[1,"marquee-button-icon",3,"src"],["mat-icon-button","","tabindex","-1",1,"marquee-button","marquee-button-next",3,"click"],["rightButton",""],["cdkMonitorSubtreeFocus","","nvSpatialNavigationGroup","",1,"marquee-indicators"],["paginator",""],[3,"active","click","focusin",4,"ngFor","ngForOf"],[3,"click","focusin"],["paginatorList",""],[1,"marquee-scrim"],[1,"marquee-load-container",3,"ngClass"],["fxLayoutAlign","center center",1,"errorPlaceholder",3,"ngClass"],[1,"font-header5"]],template:function(Tt,it){1&Tt&&(e.YNc(0,re,10,25,"div",0),e.YNc(1,jt,2,3,"div",1),e.YNc(2,Wt,7,9,"div",2)),2&Tt&&(e.Q6J("ngIf",!it.busyLoadingMarquee&&!it.errorVisible),e.xp6(1),e.Q6J("ngIf",it.busyLoadingMarquee),e.xp6(1),e.Q6J("ngIf",it.errorVisible))},dependencies:[l.mk,l.sg,l.O5,o.xw,o.Wh,n.oO,s.Lv,R.eB,_.kH,b.A,I.b,q.E,a.p,y.W,M.VP,P.n,K.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}[_ngcontent-%COMP%]:root{--hig-marquee-ratio: .3229;--hig-marquee-parent-container-width: 100vw;--hig-marquee-container-height: calc(var(--hig-marquee-ratio) * 100vw);--hig-marquee-corner-column: 56px;--hig-marquee-text-column: 14vw;--hig-marquee-padded-image-first-row: calc(var(--hig-marquee-ratio) * (100vw - var(--hig-marquee-corner-column) - var(--hig-marquee-text-column)));--hig-marquee-padded-image-second-row: calc(var(--hig-marquee-container-height) - var(--hig-marquee-padded-image-first-row))}[_nghost-%COMP%]{--full-bleed-title-margin-bottom: 20px;--full-bleed-info-margin-top: 20px;--text-overlay-content-padding-bottom: 24px;--full-bleed-overlay-content-width: 38vw;--full-bleed-overlay-content-max-width: none;--hig-marquee-third-column: 6vw;--hig-marquee-fallback-background-gradient: linear-gradient( to top, rgba(128, 128, 128, 0) 0%, gray 40% );--hig-marquee-left-edge-gradient: linear-gradient( to left, rgba(25, 25, 25, 0) 0%, rgba(25, 25, 25, .25) 100% );--hig-marquee-left-merge-gradient: linear-gradient( 270deg, rgba(0, 0, 0, 0) 0%, #000000 66.62%, #000000 100% );--hig-marquee-custom-container-background: none;--text-overlay-content-title-lines: 2;--text-overlay-content-body-lines: 4;--hig-marquee-tile-action-button-margin-top: 24px;--hig-marquee-left-edge-gradient-width: calc(6 * var(--rwd-column-size) + 5 * var(--rwd-gutter-size));--hig-marquee-tile-overlay-container-margin-left: 24px;--hig-marquee-promo-tag-container-top: 10px;--hig-marquee-promo-tag-height: 24px;--hig-marquee-promo-tag-horizontal-padding: 8px;--hig-marquee-parallax-offset: -48px}.new-10ft   [_nghost-%COMP%]{--hig-marquee-tile-overlay-container-margin-left: 16px;--hig-marquee-promo-tag-container-top: 14px;--hig-marquee-scrim-opacity: 0}.mobile-view[_ngcontent-%COMP%]{--full-bleed-title-margin-bottom: 8px;--full-bleed-info-margin-top: 16px}.marquee-button[_ngcontent-%COMP%]{display:none;border-width:0;transition:all .2s ease;border:0;padding:0;background:none;outline:none;cursor:pointer}.marquee-button.mat-icon-button[_ngcontent-%COMP%]{border-radius:50%!important}.marquee-container[_ngcontent-%COMP%], .fallback-content[_ngcontent-%COMP%]{display:grid;align-items:center;justify-items:center;height:0;grid-template-columns:var(--hig-marquee-corner-column) var(--hig-marquee-text-column) var(--hig-marquee-third-column) 1fr var(--hig-marquee-corner-column);box-sizing:border-box;z-index:1;position:relative}.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{position:sticky;top:0;opacity:1;z-index:0;width:100%;height:100%;padding-bottom:0;transform:translateY(calc(var(--dismiss-ratio) * var(--hig-marquee-parallax-offset)));opacity:calc(1 - var(--dismiss-ratio));filter:blur(calc(10px * var(--dismiss-ratio)))}@media (orientation: portrait){.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{--image-portrait-ratio: .5625;--overlapping-size: 56px;--paginator-height: 36px;--overlay-container-height: 150px;grid-template-rows:calc(var(--image-portrait-ratio) * var(--hig-marquee-parent-container-width) - var(--overlapping-size)) var(--overlapping-size) var(--overlay-container-height) var(--paginator-height)}}@media (orientation: landscape){.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{--indicator-container-height: 24px;grid-template-rows:32.2916666667vw var(--indicator-container-height) 1fr}.marquee-container.phone-marquee.full-bleed-item[_ngcontent-%COMP%], .fallback-content.phone-marquee.full-bleed-item[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr) auto}.marquee-container.phone-marquee[_ngcontent-%COMP%]:not(.full-bleed-item), .fallback-content.phone-marquee[_ngcontent-%COMP%]:not(.full-bleed-item){grid-template-columns:repeat(16,1fr) 50%}}@media (orientation: portrait){.marquee-container.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha), .fallback-content.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 50vw,rgba(var(--scrim-color),.7) 90vw,rgba(var(--scrim-color),0) 150vw)}}@media (orientation: landscape){.marquee-container.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha), .fallback-content.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 55%,rgba(var(--scrim-color),.5) 80%,rgba(var(--scrim-color),0) 100%)}}[_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .marquee-container.phone-marquee[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .fallback-content.phone-marquee[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(var(--scrim-color),0) 0%,rgba(var(--scrim-color),.02) 3.42%,rgba(var(--scrim-color),.05) 6.68%,rgba(var(--scrim-color),.12) 9.55%,rgba(var(--scrim-color),.2) 12.3%,rgba(var(--scrim-color),.29) 15%,rgba(var(--scrim-color),.39) 17.52%,rgba(var(--scrim-color),.5) 20%,rgba(var(--scrim-color),.61) 22.48%,rgba(var(--scrim-color),.71) 25%,rgba(var(--scrim-color),.8) 27.7%,rgba(var(--scrim-color),.88) 30.45%,rgba(var(--scrim-color),.95) 33.32%,rgba(var(--scrim-color),.98) 36.58%,rgba(var(--scrim-color),1) 40%)}.marquee-container.phone-marquee.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%], .fallback-content.phone-marquee.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%]{background-color:var(--scrim-color)}[_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .marquee-container.phone-marquee[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .fallback-content.phone-marquee[_ngcontent-%COMP%]{background-color:var(--scrim-color)}@media (hover: hover) and (any-pointer: fine){.marquee-container[_ngcontent-%COMP%]:hover   .marquee-button[_ngcontent-%COMP%], .fallback-content[_ngcontent-%COMP%]:hover   .marquee-button[_ngcontent-%COMP%]{display:block}}.marquee-container[_ngcontent-%COMP%], .marquee-load-container[_ngcontent-%COMP%], .errorPlaceholder[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-padded-image-first-row) var(--hig-marquee-padded-image-second-row);padding-bottom:calc(var(--hig-marquee-padded-image-first-row) + var(--hig-marquee-padded-image-second-row))}.marquee-container[_ngcontent-%COMP%]{touch-action:pan-y!important}.marquee-container.no-bg-overhang[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-padded-image-first-row);padding-bottom:var(--hig-marquee-padded-image-first-row)}.marquee-container.no-bg-overhang.full-bleed-item[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-container-height);padding-bottom:var(--hig-marquee-container-height)}.marquee-container.custom-bg[_ngcontent-%COMP%]{background:var(--hig-marquee-custom-container-background)}.padded-image-container[_ngcontent-%COMP%]{grid-area:1/3/2/-1;height:100%;position:relative;z-index:0;justify-self:stretch}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]{min-height:unset;grid-area:1/1/3/-1}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]{grid-area:1/1/2/-1}}[_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;mask-size:calc(100% + 2px) calc(100% + 2px);-webkit-mask-size:calc(100% + 2px) calc(100% + 2px);mask-position:center;-webkit-mask-position:center}.isLtr[_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask), .isLtr   [_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask){-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient.97da07cc527f6200.svg);mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient.97da07cc527f6200.svg);-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient.97da07cc527f6200.svg)}.isRtl[_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask), .isRtl   [_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask){-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient_RTL.8f28b6a06d45d190.svg);mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient_RTL.8f28b6a06d45d190.svg);-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient_RTL.8f28b6a06d45d190.svg)}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{display:flex;align-content:flex-end}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{aspect-ratio:1.7777777778;min-height:unset;width:100%;height:auto;mask-size:100% 100%;-webkit-mask-size:100% 100%}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,rgba(0,0,0,.25) 15%,rgba(0,0,0,.5) 25%,black 50%);mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,rgba(0,0,0,.25) 15%,rgba(0,0,0,.5) 25%,black 50%)}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{aspect-ratio:3.0967741935}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-mask-image:url(assets/hashed/mobile_marquee_hero_mask_ltr.7fc7c054509b2c75.png);mask-image:url(assets/hashed/mobile_marquee_hero_mask_ltr.7fc7c054509b2c75.png)}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-mask-image:url(assets/hashed/mobile_marquee_hero_mask_rtl.40e2e47979f0f272.png);mask-image:url(assets/hashed/mobile_marquee_hero_mask_rtl.40e2e47979f0f272.png)}}.marquee-tile-gradient-container[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]{display:contents}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/-1;width:100%;height:100%}@media (orientation: portrait){.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 50vw,rgba(var(--scrim-color),.7) 90vw,rgba(var(--scrim-color),0) 150vw)}}@media (orientation: landscape){.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 55%,rgba(var(--scrim-color),.5) 80%,rgba(var(--scrim-color),0) 100%)}}[_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(var(--scrim-color),0) 0%,rgba(var(--scrim-color),.02) 3.42%,rgba(var(--scrim-color),.05) 6.68%,rgba(var(--scrim-color),.12) 9.55%,rgba(var(--scrim-color),.2) 12.3%,rgba(var(--scrim-color),.29) 15%,rgba(var(--scrim-color),.39) 17.52%,rgba(var(--scrim-color),.5) 20%,rgba(var(--scrim-color),.61) 22.48%,rgba(var(--scrim-color),.71) 25%,rgba(var(--scrim-color),.8) 27.7%,rgba(var(--scrim-color),.88) 30.45%,rgba(var(--scrim-color),.95) 33.32%,rgba(var(--scrim-color),.98) 36.58%,rgba(var(--scrim-color),1) 40%)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%]{background-color:var(--scrim-color)}[_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{background-color:var(--scrim-color)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-fallback-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/-1;background:var(--hig-marquee-fallback-background-gradient);width:100%;height:100%}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/3;width:100%;height:100%;background:var(--hig-marquee-left-edge-gradient)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%]{grid-area:1/1/1/-1;width:var(--hig-marquee-left-edge-gradient-width);height:100%;justify-self:start;background:var(--hig-marquee-left-merge-gradient);z-index:1}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .full-bleed-up-down-gradient[_ngcontent-%COMP%]{position:relative;grid-area:1/1/2/-1;width:100%;height:33%;align-self:end;z-index:1;bottom:-1px;background:linear-gradient(rgba(25,25,25,0) 0%,#191919 100%)}@media (min-width: 960px) and (max-width: 1439px),(min-width: 1440px) and (max-width: 1919px),(min-width: 1920px){[_nghost-%COMP%]{--hig-marquee-left-edge-gradient-width: calc(7 * var(--rwd-column-size) + 6 * var(--rwd-gutter-size))}}.marquee-button-prev[_ngcontent-%COMP%]{grid-area:1/1/2/2;position:relative;margin:16px;z-index:2}.isLtr[_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%]{justify-self:left}.isRtl[_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%]{justify-self:right}.marquee-button-next[_ngcontent-%COMP%]{grid-area:1/-2/2/-1;position:relative;margin:16px;z-index:2}.isLtr[_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%]{justify-self:right}.isRtl[_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%]{justify-self:left}.full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/1/2/-1;position:relative;z-index:0;height:100%;justify-self:stretch}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/1/3/-1}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/2/3/-1}}.full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee){--full-bleed-left-column: 16px}@media (orientation: portrait){.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee){--full-bleed-left-column: 8px}}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).full-bleed-item-not-first-position{--full-bleed-left-column: var(--hig-marquee-corner-column)}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container{--split-column: calc(var(--hig-marquee-corner-column) - var(--full-bleed-left-column));grid-template-columns:var(--full-bleed-left-column) var(--split-column) var(--hig-marquee-text-column) 6vw 1fr var(--hig-marquee-corner-column)}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-button-next[_ngcontent-%COMP%]{grid-area:1/6/2/-1}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-indicators[_ngcontent-%COMP%]{grid-area:1/3/1/-1}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/5}.full-bleed-overlay-content[_ngcontent-%COMP%]{text-align:start;width:var(--full-bleed-overlay-content-width);max-width:var(--full-bleed-overlay-content-max-width)}.full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.new-10ft[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{color:#ffffffd9}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--text-overlay-content-body-lines);align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{-webkit-line-clamp:var(--text-overlay-content-body-lines)}.full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-style:italic;margin-top:var(--full-bleed-info-margin-top)}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.new-10ft[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{color:#ffffffd9}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{-webkit-line-clamp:2}.full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700;margin-bottom:var(--full-bleed-title-margin-bottom)}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--text-overlay-content-title-lines);align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{-webkit-line-clamp:var(--text-overlay-content-title-lines)}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.new-10ft[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{color:#ffffffd9}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;font-style:italic}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.new-10ft[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{color:#ffffffd9}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{margin-top:16px}.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500;margin-bottom:0}.tv-view[_ngcontent-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:40px;line-height:56px}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{text-align:center;width:100vw}.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-top:auto}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-top:var(--hig-marquee-tile-action-button-margin-top)}}.marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/4;width:100%;position:relative;z-index:2;justify-self:flex-start;display:flex;align-items:center;padding-bottom:var(--text-overlay-content-padding-bottom)}.isLtr[_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-left:var(--hig-marquee-tile-overlay-container-margin-left)}html[dir=ltr][_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:var(--hig-marquee-tile-overlay-container-margin-left)}.isRtl[_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-right:var(--hig-marquee-tile-overlay-container-margin-left)}html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:var(--hig-marquee-tile-overlay-container-margin-left)}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-tile-data[_ngcontent-%COMP%]{width:100%}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:100%;height:auto;-webkit-line-clamp:3}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:24px;justify-content:center;text-align:center}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:inherit}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-bottom:0;pointer-events:none}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-left:0}html[dir=ltr][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:0}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:0}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:160px;height:90px;padding-bottom:8px}@media screen and (max-width: 667px) and (max-height: 375px) and (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:132px;height:74px}}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:2/1/4/-1;height:100%;align-items:stretch}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{width:calc(100vw - 48px);padding:0 24px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-tile-data[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 24px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:16px}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/11;width:100%;padding-top:10px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:0;padding-bottom:16px}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}}@media (orientation: landscape){.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/1/2/5}}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .marquee-tile-overlay-container[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.marquee-load-container[_ngcontent-%COMP%]{margin-bottom:61px;height:0;display:grid;align-items:center;justify-items:center;box-sizing:border-box}@keyframes _ngcontent-%COMP%_nv-hig-marquee_fadeInMarquee{0%{opacity:0;transform:translate(1%)}to{opacity:1;transform:translate(0)}}.fadeInMarquee[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_nv-hig-marquee_fadeInMarquee 1s forwards}@keyframes _ngcontent-%COMP%_nv-hig-marquee_fadeInMarqueeDescription{0%{opacity:0}to{opacity:1}}.fadeInMarqueeDescription[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_nv-hig-marquee_fadeInMarqueeDescription 1s forwards}.marquee-button-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;line-height:40px}.marquee-tile-action-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff;margin-top:var(--hig-marquee-tile-action-button-margin-top)}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{pointer-events:auto;margin-top:0}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-bottom:16px}}.tv-mode[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{height:72px;margin-top:var(--hig-marquee-tile-action-button-margin-top);min-width:fit-content}.overlay-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.marquee-indicators[_ngcontent-%COMP%]{grid-area:1/2/1/-1;align-self:end;z-index:3}.isLtr[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding-right:90px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{--dummy2: 0;padding-right:90px}.isRtl[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding-left:90px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{--dummy2: 0;padding-left:90px}.paginator-navigation.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{align-self:start;margin:0}@media (orientation: portrait){.paginator-navigation.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{margin:0 0 16px;grid-area:4/1/4/-1}}@media (orientation: landscape){.paginator-navigation.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{grid-area:2/1/2/-1}}.paginator-navigation[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding:0 8px;align-items:center;display:flex;width:fit-content;height:23px}.paginator-navigation[_ngcontent-%COMP%]   .marquee-indicators.cdk-keyboard-focused[_ngcontent-%COMP%]{border-radius:12px;background-color:#ffffff52;transition:background-color .75s ease}.paginator-navigation.tv-mode[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{height:48px}.paginator-navigation.tv-mode[_ngcontent-%COMP%]   .marquee-indicators.cdk-keyboard-focused[_ngcontent-%COMP%]{border-radius:22px}.marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;box-shadow:1px 1px 1px #00000080;border-radius:0;background:#636363;transition:all .2s ease;width:32px;height:6px;margin-bottom:2px}.isLtr[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.paginator-navigation[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:50%;width:7px;height:7px;margin:4px}.paginator-navigation[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{width:11px;height:11px;margin:2px}.paginator-navigation.tv-mode[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:50%;width:16px;height:16px;margin:12px}.paginator-navigation.tv-mode[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{width:24px;height:24px;margin:8px}.marquee-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#76b900}@media (hover: hover) and (any-pointer: fine){.marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:not(.active){cursor:pointer;background:rgba(118,185,0,.5)}}.errorPlaceholder[_ngcontent-%COMP%]{margin-bottom:61px;height:0;text-align:center;opacity:.5;box-sizing:border-box}.tv-mode[_ngcontent-%COMP%]{--hig-marquee-promo-tag-height: 42px;--hig-marquee-promo-tag-horizontal-padding: 10px}.mobile-view[_ngcontent-%COMP%]{--hig-marquee-promo-tag-height: 16px;--hig-marquee-promo-tag-horizontal-padding: 6px}.mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:12px;letter-spacing:0;line-height:16px}.tv-view[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.marquee-promo-tag-container[_ngcontent-%COMP%]{background:#292929;position:absolute;top:var(--hig-marquee-promo-tag-container-top);z-index:3}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy5: 0;right:0}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{right:unset}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy6: 0;right:unset}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{left:unset}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy6: 0;left:unset}.phone-marquee[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{top:5px}.marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{height:var(--hig-marquee-promo-tag-height);width:calc(var(--hig-marquee-promo-tag-height) / 2);background-color:#76b900}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,100% 0%,25% 100%,0% 100%)}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,75% 100%,100% 100%,100% 0%)}.marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{height:var(--hig-marquee-promo-tag-height);display:flex;align-items:center;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:var(--hig-marquee-promo-tag-horizontal-padding)}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-left:var(--hig-marquee-promo-tag-horizontal-padding)}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:var(--hig-marquee-promo-tag-horizontal-padding)}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-right:var(--hig-marquee-promo-tag-horizontal-padding)}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:var(--hig-marquee-promo-tag-horizontal-padding)}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-right:var(--hig-marquee-promo-tag-horizontal-padding)}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:var(--hig-marquee-promo-tag-horizontal-padding)}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-left:var(--hig-marquee-promo-tag-horizontal-padding)}.tv-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.new-10ft[_nghost-%COMP%]   .marquee-container[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .marquee-container[_ngcontent-%COMP%]{position:relative}.new-10ft[_nghost-%COMP%]   .marquee-scrim[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .marquee-scrim[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:var(--hig-marquee-scrim-opacity);background:linear-gradient(180deg,#000 68%,rgba(0,0,0,0) 100%);z-index:100;pointer-events:none;transition:opacity .15s ease}.overlay-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:1.7777777778}"],changeDetection:0}),Pt})()},79664:(Dt,ct,t)=>{"use strict";t.d(ct,{R:()=>e,S:()=>i});var e=function(L){return L.FullBleedImage="FullBleedImage",L.PaddedImage="PaddedImage",L}(e||{});const i="assets/img/Marquee_Hero_Image_Fallback.png"},89777:(Dt,ct,t)=>{"use strict";t.d(ct,{A:()=>x});var e=t(49003),i=t(61699),L=t(45356),f=t(33910);let x=(()=>{var S;class u{constructor(h){this.viewRef=h,this.isTv=!1,this.mode=e.zv.Indeterminate,this.value=0,this.diameter=this.isTv?e.xV:e.QL}}return(S=u).\u0275fac=function(h){return new(h||S)(i.Y36(i.s_b))},S.\u0275cmp=i.Xpm({type:S,selectors:[["nv-hig-progress-circular"]],inputs:{isTv:"isTv",mode:"mode",value:"value",diameter:"diameter"},decls:2,vars:3,consts:[["fxLayoutAlign","center center",1,"common-overlay"],[1,"mat-accent",3,"mode","diameter","value"]],template:function(h,O){1&h&&(i.TgZ(0,"div",0),i._UZ(1,"mat-progress-spinner",1),i.qZA()),2&h&&(i.xp6(1),i.Q6J("mode",O.mode)("diameter",O.diameter)("value",O.value))},dependencies:[L.Wh,f.Ou],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.common-overlay[_ngcontent-%COMP%]{position:absolute;right:0;left:0;display:flex;top:0;bottom:0;z-index:1;background-color:#000000bf}.common-overlay.light-background[_ngcontent-%COMP%]{background-color:#00000080}.common-overlay.no-background[_ngcontent-%COMP%]{background-color:transparent}"]}),u})()},49003:(Dt,ct,t)=>{"use strict";t.d(ct,{QL:()=>e,xV:()=>i,zv:()=>L});const e=16,i=2*e;var L=function(f){return f.Indeterminate="indeterminate",f.Determininate="determinate",f}(L||{})},35316:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>dt});var e=t(61699),i=t(50693),L=t(32484),f=t(70462),x=t(93190),S=t(13303),u=t(85046),g=t(46939),h=t(12501);const O={[i.Z.Init]:{expand:!1,text:!1,shadow:!1,icon:!1},[i.Z.Expanding]:{expand:!0,text:!0,shadow:!0,icon:!0},[i.Z.Expanded]:{expand:!0,text:!0,shadow:!0,icon:!0},[i.Z.Collapsing]:{expand:!0,text:!1,shadow:!1,icon:!1},[i.Z.Collapsed]:{expand:!1,text:!1,shadow:!1,icon:!1}};var E=t(13963),w=t(92403),p=t(62404),V=t(42586),c=t(26575),C=t(78654),l=t(86515),o=t(75889),n=t(27247),s=t(43559);const R=["higSidebarContainer"],_=["higSidebarHighlight"];function b(X,m){if(1&X){const Y=e.EpF();e.TgZ(0,"div",7),e.NdJ("@higSidebarOpacityAnimation.done",function(N){e.CHM(Y);const Z=e.oxw();return e.KtG(Z.onAnimationDone(N))}),e.qZA()}if(2&X){const Y=e.oxw();e.Q6J("@.disabled",!Y.expandable)("@higSidebarOpacityAnimation",Y.sidebarAnimationState)}}function I(X,m){1&X&&e._UZ(0,"div",8,9)}function q(X,m){if(1&X&&e._UZ(0,"img",19),2&X){const Y=e.oxw(3);e.s9C("src",Y.accountInfoSidebarItem.badgeUrl,e.LSH),e.Q6J("@higSidebarOpacityAnimation",Y.sidebarAnimationState)}}function a(X,m){if(1&X&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&X){const Y=e.oxw(3);let D;e.Tol(null!==(D=Y.accountInfoSidebarItem.fontTypeClass)&&void 0!==D?D:"font-sub2"),e.Q6J("@higSidebarTextAnimation",Y.sidebarAnimationState),e.xp6(1),e.hij(" ",e.lcZ(2,4,Y.accountInfoSidebarItem.text)," ")}}function y(X,m){if(1&X&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&X){const Y=e.oxw(4);e.xp6(1),e.Oqu(Y.accountInfoSidebarItem.subtext)}}function M(X,m){if(1&X&&(e.TgZ(0,"div",20)(1,"span",21),e._uU(2),e.qZA(),e.YNc(3,y,2,1,"span",22),e.qZA()),2&X){const Y=e.oxw(3);e.Q6J("@higSidebarTextAnimation",Y.sidebarAnimationState),e.xp6(2),e.Oqu(Y.accountInfoSidebarItem.text),e.xp6(1),e.Q6J("ngIf",Y.accountInfoSidebarItem.subtext)}}function P(X,m){if(1&X){const Y=e.EpF();e.TgZ(0,"div",12)(1,"button",13),e.NdJ("focus",function(N){e.CHM(Y);const Z=e.oxw(2);return e.KtG(Z.onItemFocus(N))})("click",function(N){e.CHM(Y);const Z=e.oxw(2);return e.KtG(Z.onItemClicked(N,Z.accountInfoSidebarItem.type))}),e.TgZ(2,"div",14),e._UZ(3,"mat-icon",15),e.YNc(4,q,1,2,"img",16),e.YNc(5,a,3,6,"span",17),e.YNc(6,M,4,3,"div",18),e.qZA()()()}if(2&X){const Y=e.oxw(2);e.xp6(1),e.ekj("has-badge",null==Y.accountInfoSidebarItem?null:Y.accountInfoSidebarItem.badgeUrl)("selected",(null==Y.currentSelectedItem?null:Y.currentSelectedItem.type)===Y.accountInfoSidebarItem.type),e.xp6(2),e.Q6J("svgIcon",Y.accountInfoSidebarItem.svgIconId)("@higSidebarOpacityAnimation",Y.sidebarAnimationState),e.xp6(1),e.Q6J("ngIf",Y.accountInfoSidebarItem.badgeUrl&&Y.animationStateMap[Y.sidebarAnimationState].icon),e.xp6(1),e.Q6J("ngIf",!(null!=Y.accountInfoSidebarItem&&Y.accountInfoSidebarItem.loggedIn)&&Y.animationStateMap[Y.sidebarAnimationState].text),e.xp6(1),e.Q6J("ngIf",(null==Y.accountInfoSidebarItem?null:Y.accountInfoSidebarItem.loggedIn)&&Y.animationStateMap[Y.sidebarAnimationState].text)}}function K(X,m){if(1&X&&(e.TgZ(0,"div",10),e.YNc(1,P,7,9,"div",11),e.qZA()),2&X){const Y=e.oxw();e.xp6(1),e.Q6J("ngIf",Y.accountInfoSidebarItem)}}function B(X,m){1&X&&e._UZ(0,"div",29)}function j(X,m){if(1&X&&(e.TgZ(0,"span",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&X){const Y=e.oxw().$implicit,D=e.oxw(2);let N;e.Tol(null!==(N=Y.fontTypeClass)&&void 0!==N?N:"font-sub2"),e.Q6J("@higSidebarTextAnimation",D.sidebarAnimationState),e.xp6(1),e.hij(" ",e.lcZ(2,4,Y.text)," ")}}function tt(X,m){if(1&X){const Y=e.EpF();e.TgZ(0,"div",12)(1,"button",26),e.NdJ("focus",function(N){e.CHM(Y);const Z=e.oxw(2);return e.KtG(Z.onItemFocus(N))})("click",function(N){const W=e.CHM(Y).$implicit,A=e.oxw(2);return e.KtG(A.onItemClicked(N,W.type))}),e.TgZ(2,"div",14),e.YNc(3,B,1,0,"div",27),e._UZ(4,"mat-icon",15),e.YNc(5,j,3,6,"span",28),e.qZA()()()}if(2&X){const Y=m.$implicit,D=e.oxw(2);e.xp6(1),e.ekj("selected",(null==D.currentSelectedItem?null:D.currentSelectedItem.type)===Y.type),e.xp6(2),e.Q6J("ngIf",Y.hasNotificationBadge),e.xp6(1),e.Q6J("svgIcon",Y.svgIconId),e.xp6(1),e.Q6J("ngIf",D.animationStateMap[D.sidebarAnimationState].text||!D.expandable)}}function ot(X,m){if(1&X&&(e.TgZ(0,"div",24),e.YNc(1,tt,6,5,"div",25),e.qZA()),2&X){const Y=e.oxw();e.xp6(1),e.Q6J("ngForOf",Y.pageNavSidebarItems)}}function F(X,m){if(1&X&&e._UZ(0,"mat-icon",15),2&X){const Y=e.oxw().$implicit,D=e.oxw(2);e.Q6J("svgIcon",Y.svgIconId)("@higSidebarOpacityAnimation",D.sidebarAnimationState)}}function U(X,m){if(1&X&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&X){const Y=e.oxw().$implicit,D=e.oxw(2);let N;e.Tol(null!==(N=Y.fontTypeClass)&&void 0!==N?N:"font-sub2"),e.Q6J("@higSidebarTextAnimation",D.sidebarAnimationState),e.xp6(1),e.hij(" ",e.lcZ(2,4,Y.text)," ")}}function z(X,m){if(1&X){const Y=e.EpF();e.TgZ(0,"div",12)(1,"button",32),e.NdJ("focus",function(N){e.CHM(Y);const Z=e.oxw(2);return e.KtG(Z.onItemFocus(N))})("click",function(N){const W=e.CHM(Y).$implicit,A=e.oxw(2);return e.KtG(A.onItemClicked(N,W.type))}),e.TgZ(2,"div",14),e.YNc(3,F,1,2,"mat-icon",33),e.YNc(4,U,3,6,"span",17),e.qZA()()()}if(2&X){const Y=m.$implicit,D=e.oxw(2);e.xp6(1),e.ekj("selected",(null==D.currentSelectedItem?null:D.currentSelectedItem.type)===Y.type),e.Q6J("hidden",!D.animationStateMap[D.sidebarAnimationState].expand),e.xp6(2),e.Q6J("ngIf",D.animationStateMap[D.sidebarAnimationState].icon),e.xp6(1),e.Q6J("ngIf",D.animationStateMap[D.sidebarAnimationState].text||!D.expandable)}}function Q(X,m){if(1&X&&(e.TgZ(0,"div",31),e.YNc(1,z,5,5,"div",25),e.qZA()),2&X){const Y=e.oxw();e.xp6(1),e.Q6J("ngForOf",Y.modalNavSidebarItems)}}let dt=(()=>{var X;class m{get expand(){return this._expand}set expand(D){!this.expandable||D===this._expand||(this._expand=D,this.sidebarAnimationStateSubject.next(D?i.Z.Expanding:i.Z.Collapsing))}set currentSelectedItem(D){var N;this._currentSelectedItem=null!=D?D:null===(N=this.pageNavSidebarItems)||void 0===N?void 0:N[0]}get currentSelectedItem(){return this._currentSelectedItem}get sidebarAnimationState(){return this.sidebarAnimationStateSubject.getValue()}get sidebarAnimationState$(){return this.sidebarAnimationStateSubject.asObservable()}constructor(D,N,Z,W,A,d,H,$){this.builder=D,this.loggingService=N,this.spatialNavigationService=Z,this.localeService=W,this.ngZone=A,this.focusManager=d,this.inputModalityService=H,this.changeDetector=$,this.expandable=!0,this.showBorder=!1,this.enlargeFocusedItem=!1,this.gradientOnFocusedItem=!1,this.itemClicked=new e.vpe,this.animationStateMap=O,this.HigSidebarAnimationStateType=i.Z,this.destroy$=new L.xQ,this.lastHighlightOffset=0,this.sidebarAnimationStateSubject=new f.X(i.Z.Init),this._expand=!1,this.logger=this.loggingService.getLogger("hig/SidebarComponent"),this.isRtl=this.localeService.isRTLLayoutEnabled}ngOnInit(){this.logger.info(`Init, expandable: ${this.expandable}`),this.localeService.localeChanged.pipe((0,S.R)(this.destroy$)).subscribe(D=>{this.isRtl=this.localeService.isRTLLayoutEnabled})}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.expandable&&this.ngZone.runOutsideAngular(()=>{(0,x.R)(this.higSidebarContainer.nativeElement,"navbeforefocus").pipe((0,u.h)(D=>!this.expand),(0,S.R)(this.destroy$)).subscribe(this.onNavigateToInside.bind(this)),(0,x.R)(this.higSidebarContainer.nativeElement,"navnotarget").pipe((0,u.h)(D=>!!this.expand&&(this.isRtl?"left"===D.detail.dir:"right"===D.detail.dir)),(0,S.R)(this.destroy$)).subscribe(this.onNavigateToOutside.bind(this))})}onAnimationDone(D){"void"===D.toState?this.sidebarAnimationStateSubject.next(i.Z.Collapsed):D.toState===i.Z.Expanding&&this.sidebarAnimationStateSubject.next(i.Z.Expanded)}onSidebarClicked(D){!this.expandable||this.expand||(this.expand=!0,this.moveFocusOnSelectedItem())}onItemClicked(D,N){this.expandable&&!this.expand||(this.expandable&&this.expand&&D.stopPropagation(),this.expandable&&this.currentSelectedItem.type===N&&this.navigateOutToPrevFocused(),this.itemClicked.emit({itemType:N,event:D}))}onItemFocus(D){if(this.higSidebarHighlight){this.higSidebarHighlight.nativeElement.style.height=`${D.target.getBoundingClientRect().height}px`;const N=(0,h.jt)(this.expandable&&this.sidebarAnimationState===i.Z.Expanded&&"keyboard"===this.inputModalityService.lastFocusOrigin?"200ms ease-in":0,(0,h.F4)([(0,h.oB)({transform:`translateY(${this.lastHighlightOffset}px)`}),(0,h.oB)({transform:`translateY(${D.target.getBoundingClientRect().top}px)`})]));this.lastHighlightOffset=D.target.getBoundingClientRect().top,this.builder.build(N).create(this.higSidebarHighlight.nativeElement).play()}}onFocusOut(D){this.expand&&!this.isFocusedElementInSidebar(D.relatedTarget)&&this.expand&&(this.expand=!1,this.changeDetector.detectChanges())}onFocusIn(D){!this.expandable||this.expand||"keyboard"!==this.inputModalityService.lastFocusOrigin||(this.expand=!0)}moveFocusOnSelectedItem(D){setTimeout(()=>{var N;if(!this.expandable)return;const Z=null===(N=this.higSidebarContainer)||void 0===N?void 0:N.nativeElement.querySelector(".selected");!Z||Z===this.focusManager.currentFocusedElement||(D?this.focusManager.navigateTo(Z,D):this.focusManager.focusViaLastOrigin(Z))})}onNavigateToInside(D){this.prevFocusedElementBeforeExpanding=this.focusManager.currentFocusedElement,D.preventDefault(),this.expand=!0,this.changeDetector.markForCheck(),this.moveFocusOnSelectedItem(D.detail.dir)}onNavigateToOutside(D){D.preventDefault(),this.sidebarAnimationState===i.Z.Expanded&&this.navigateOutToPrevFocused()}navigateOutToPrevFocused(){this.prevFocusedElementBeforeExpanding&&this.prevFocusedElementBeforeExpanding.isConnected?this.focusManager.navigateTo(this.prevFocusedElementBeforeExpanding,this.isRtl?"left":"right"):(this.sidebarAnimationState$.pipe((0,u.h)(N=>N===i.Z.Collapsed),(0,g.q)(1),(0,S.R)(this.destroy$)).subscribe(N=>{this.navigateToNearby(this.isRtl?"left":"right")}),this.expand=!1,this.changeDetector.markForCheck()),this.prevFocusedElementBeforeExpanding=null}navigateToNearby(D){const Z=document.activeElement.getBoundingClientRect(),A=this.higSidebarContainer.nativeElement.parentElement.nextElementSibling,d=this.higSidebarContainer.nativeElement.getBoundingClientRect();this.spatialNavigationService.setStartingPointAt(this.isRtl?d.left:d.right,(Z.top+Z.bottom)/2);const $=this.spatialNavigationService.getClosestChild(document.body,A,D);this.focusManager.navigateTo($,D)}isFocusedElementInSidebar(D){return this.higSidebarContainer.nativeElement.contains(D)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return(X=m).\u0275fac=function(D){return new(D||X)(e.Y36(h._j),e.Y36(E.ed),e.Y36(w.j),e.Y36(E.OL),e.Y36(e.R0b),e.Y36(p.I),e.Y36(V.b),e.Y36(e.sBO))},X.\u0275cmp=e.Xpm({type:X,selectors:[["nv-hig-sidebar"]],viewQuery:function(D,N){if(1&D&&(e.Gf(R,5),e.Gf(_,5)),2&D){let Z;e.iGM(Z=e.CRH())&&(N.higSidebarContainer=Z.first),e.iGM(Z=e.CRH())&&(N.higSidebarHighlight=Z.first)}},inputs:{expandable:"expandable",showBorder:"showBorder",enlargeFocusedItem:"enlargeFocusedItem",gradientOnFocusedItem:"gradientOnFocusedItem",expand:"expand",currentSelectedItem:"currentSelectedItem",accountInfoSidebarItem:"accountInfoSidebarItem",pageNavSidebarItems:"pageNavSidebarItems",modalNavSidebarItems:"modalNavSidebarItems"},outputs:{itemClicked:"itemClicked"},decls:7,vars:19,consts:[["class","hig-sidebar-gradient",4,"ngIf"],["nvSpatialNavigationGroup","",1,"hig-sidebar-container",3,"click","focusout","focusin"],["higSidebarContainer",""],["class","hig-sidebar-highlight",4,"ngIf"],["class","account-info-layout",4,"ngIf"],["class","page-nav-layout",4,"ngIf"],["class","modal-nav-layout",4,"ngIf"],[1,"hig-sidebar-gradient"],[1,"hig-sidebar-highlight"],["higSidebarHighlight",""],[1,"account-info-layout"],["class","hig-sidebar-item",4,"ngIf"],[1,"hig-sidebar-item"],["mat-button","",1,"account-button",3,"focus","click"],[1,"hig-sidebar-button-content"],[3,"svgIcon"],["class","avatar-badge",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],["class","account-info",4,"ngIf"],[1,"avatar-badge",3,"src"],[1,"account-info"],[1,"username","font-sub2"],["class","font-body3",4,"ngIf"],[1,"font-body3"],[1,"page-nav-layout"],["class","hig-sidebar-item",4,"ngFor","ngForOf"],["mat-button","",3,"focus","click"],["class","notification-badge",4,"ngIf"],["class","item-text","nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3",3,"class",4,"ngIf"],[1,"notification-badge"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3",1,"item-text"],[1,"modal-nav-layout"],["mat-button","",3,"hidden","focus","click"],[3,"svgIcon",4,"ngIf"]],template:function(D,N){1&D&&(e.YNc(0,b,1,2,"div",0),e.TgZ(1,"div",1,2),e.NdJ("click",function(W){return N.onSidebarClicked(W)})("focusout",function(W){return N.onFocusOut(W)})("focusin",function(W){return N.onFocusIn(W)}),e.YNc(3,I,2,0,"div",3),e.YNc(4,K,2,1,"div",4),e.YNc(5,ot,2,1,"div",5),e.YNc(6,Q,2,1,"div",6),e.qZA()),2&D&&(e.Q6J("ngIf",N.animationStateMap[N.sidebarAnimationState].shadow),e.xp6(1),e.Tol(N.animationStateMap[N.sidebarAnimationState].expand&&N.expandable?"expanded":"collapsed"),e.ekj("expandable",N.expandable)("show-border",N.showBorder)("enlarge-focused-item",N.enlargeFocusedItem)("collapsing",N.sidebarAnimationState===N.HigSidebarAnimationStateType.Collapsing)("expand-finished",N.sidebarAnimationState===N.HigSidebarAnimationStateType.Expanded),e.Q6J("@.disabled",!N.expandable),e.uIk("tabindex",N.expandable&&!N.expand?0:-1),e.xp6(2),e.Q6J("ngIf",N.expandable),e.xp6(1),e.Q6J("ngIf",N.expandable),e.xp6(1),e.Q6J("ngIf",(null==N.pageNavSidebarItems?null:N.pageNavSidebarItems.length)>0),e.xp6(1),e.Q6J("ngIf",N.expandable))},dependencies:[c.sg,c.O5,C.eB,l.Hw,o.b,n.n,s.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}[_nghost-%COMP%]{height:100%;--hig-sidebar-bg: #393939;--hig-sidebar-expand-width: 256px;--hig-sidebar-collapse-width: 120px;--hig-sidebar-layout-gap-size: 16px;--hig-sidebar-layout-first-item-top-gap: 16px;--hig-sidebar-button-padding-top-bottom-size: 8px;--hig-sidebar-button-padding-left-right-size: 16px;--hig-sidebar-button-left-indent: 0;--hig-sidebar-icon-size: 24px;--hig-sidebar-icon-default-color: rgba(255, 255, 255, .7);--hig-sidebar-expanded-icon-gap-size: 24px;--hig-sidebar-collapsed-icon-gap-size: 8px;--hig-sidebar-item-hover-rgba: rgba(255, 255, 255, .08);--hig-sidebar-item-focused-rgba: rgba(255, 255, 255, .32);--hig-sidebar-item-selected-left-border-size: 4px;--hig-sidebar-item-selected-left-border-color: #76b900;--hig-sidebar-item-selected-icon-color: #76b900;--hig-sidebar-item-selected-text-color: #ffffff;--hig-navigation-badge-width: 9px;--hig-navigation-badge-height: 9px;--hig-navigation-badge-bg: #76b900;--hig-navigation-badge-position-right: 8px;--hig-navigation-badge-position-top: -5px;--hig-sidebar-border-color-rgba: rgba(255, 255, 255, .16);--hig-sidebar-account-icon-size: 24px;--hig-sidebar-account-layout-margin-top: 28px;--hig-sidebar-expanded-account-icon-gap-size: 16px;--hig-sidebar-expanded-account-with-badge-icon-gap-size: 8px;--hig-sidebar-avatar-badge-img-size: 17px;--hig-sidebar-avatar-badge-img-relative-top: 9px;--hig-sidebar-avatar-badge-img-relative-right: 11px;--hig-sidebar-avatar-badge-img-relative-left: 34px;--hig-sidebar-modal-layout-margin-bottom: 28px;--hig-sidebar-background-linear-gradient-deg: 90deg}.isRtl   [_nghost-%COMP%]{--hig-sidebar-background-linear-gradient-deg: 270deg}.hig-sidebar-container[_ngcontent-%COMP%]{height:100%;background-color:var(--hig-sidebar-bg);display:flex;flex-direction:column}.hig-sidebar-container[_ngcontent-%COMP%]   .account-info-layout[_ngcontent-%COMP%], .hig-sidebar-container[_ngcontent-%COMP%]   .page-nav-layout[_ngcontent-%COMP%], .hig-sidebar-container[_ngcontent-%COMP%]   .modal-nav-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column}.hig-sidebar-container[_ngcontent-%COMP%]   .account-info-layout[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:var(--hig-sidebar-account-layout-margin-top)}.hig-sidebar-container[_ngcontent-%COMP%]   .modal-nav-layout[_ngcontent-%COMP%]{justify-content:flex-end;margin-bottom:var(--hig-sidebar-modal-layout-margin-bottom)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]{width:100%;margin:var(--hig-sidebar-layout-gap-size) 0}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]:first-of-type{margin-top:var(--hig-sidebar-layout-first-item-top-gap)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;width:100%;padding:var(--hig-sidebar-button-padding-top-bottom-size) var(--hig-sidebar-button-padding-left-right-size)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .hig-sidebar-button-content[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;height:var(--hig-navigation-badge-width);width:var(--hig-navigation-badge-height);background:var(--hig-navigation-badge-bg);border-radius:50%;right:var(--hig-navigation-badge-position-right);top:var(--hig-navigation-badge-position-top)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:var(--hig-sidebar-icon-size);width:var(--hig-sidebar-icon-size);height:var(--hig-sidebar-icon-size);color:var(--hig-sidebar-icon-default-color)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:var(--hig-sidebar-account-icon-size);width:var(--hig-sidebar-account-icon-size);height:var(--hig-sidebar-account-icon-size)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--hig-sidebar-item-hover-rgba)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%], .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]{background-color:var(--hig-sidebar-item-focused-rgba)}.isLtr[_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{box-shadow:inset var(--hig-sidebar-item-selected-left-border-size) 0 var(--hig-sidebar-item-selected-left-border-color)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{box-shadow:inset calc(var(--hig-sidebar-item-selected-left-border-size) * -1) 0 var(--hig-sidebar-item-selected-left-border-color)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--hig-sidebar-item-selected-icon-color)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--hig-sidebar-item-selected-text-color)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{position:relative;height:var(--hig-sidebar-avatar-badge-img-size);width:auto;top:var(--hig-sidebar-avatar-badge-img-relative-top)}.isLtr[_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{right:var(--hig-sidebar-avatar-badge-img-relative-right)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{left:var(--hig-sidebar-avatar-badge-img-relative-left)}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;min-width:0;max-width:70%}.hig-sidebar-container[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   .account-button[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hig-sidebar-highlight[_ngcontent-%COMP%]{--hig-linear-gradient-highlight-style-deg: 90deg;background-image:linear-gradient(var(--hig-linear-gradient-highlight-style-deg),rgba(255,255,255,.32) 0%,rgba(255,255,255,.32) 33%,rgba(255,255,255,0) 100%);transition:height .1s ease-in-out,opacity .3s ease-in-out,visibility .3s ease-in-out;left:0;opacity:0;visibility:hidden;position:absolute;top:0;width:100%}.isRtl[_nghost-%COMP%]   .hig-sidebar-highlight[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-highlight[_ngcontent-%COMP%]{--hig-linear-gradient-highlight-style-deg: 270deg}.hig-sidebar-container.expandable.expanded[_ngcontent-%COMP%]:not(.collapsing)   .hig-sidebar-highlight[_ngcontent-%COMP%]{opacity:1;visibility:visible}.hig-sidebar-container.show-border[_ngcontent-%COMP%]{box-sizing:border-box;border-right:1px solid var(--hig-sidebar-border-color-rgba)}.hig-sidebar-container.expandable[_ngcontent-%COMP%]{transition:width .3s ease-in-out}.hig-sidebar-container.expandable[_ngcontent-%COMP%]:hover{background-color:#ffffff14;cursor:pointer;transition:background-color .3s ease-in-out}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .account-info-layout[_ngcontent-%COMP%], .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .modal-nav-layout[_ngcontent-%COMP%]{flex:1 0 0}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .page-nav-layout[_ngcontent-%COMP%]{flex:2 0 0;justify-content:center}.isLtr[_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:calc(var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent))}html[dir=ltr][_ngcontent-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:calc(var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent))}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-right:calc(var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent))}html[dir=rtl][_ngcontent-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:calc(var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent))}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:unset;--hig-linear-gradient-highlight-style-deg: 90deg;background-image:linear-gradient(var(--hig-linear-gradient-highlight-style-deg),rgba(255,255,255,.08) 0%,rgba(255,255,255,.08) 33%,rgba(255,255,255,0) 100%)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{--hig-linear-gradient-highlight-style-deg: 270deg}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%], .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]{background-color:unset}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;transition:color .4s ease-in;filter:drop-shadow(0 3px 2px rgba(0,0,0,.5))}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[hidden][_ngcontent-%COMP%]:hover{--hig-linear-gradient-highlight-style-deg: 90deg;background-image:linear-gradient(var(--hig-linear-gradient-highlight-style-deg),rgba(255,255,255,0) 0%,rgba(255,255,255,0) 33%,rgba(255,255,255,0) 100%)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[hidden][_ngcontent-%COMP%]:hover, .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[hidden][_ngcontent-%COMP%]:hover{--hig-linear-gradient-highlight-style-deg: 270deg}.hig-sidebar-container.expandable[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[hidden][_ngcontent-%COMP%]:active{background-color:unset}.hig-sidebar-container.collapsed[_ngcontent-%COMP%]:not(.expandable)   mat-icon[_ngcontent-%COMP%]{margin-bottom:var(--hig-sidebar-collapsed-icon-gap-size)}.hig-sidebar-container.collapsed[_ngcontent-%COMP%]:not(.expandable)   .item-text[_ngcontent-%COMP%]{width:100%}.hig-sidebar-container.collapsed[_ngcontent-%COMP%]{width:var(--hig-sidebar-collapse-width)}.hig-sidebar-container.collapsed[_ngcontent-%COMP%]   .account-info-layout[_ngcontent-%COMP%], .hig-sidebar-container.collapsed[_ngcontent-%COMP%]   .page-nav-layout[_ngcontent-%COMP%], .hig-sidebar-container.collapsed[_ngcontent-%COMP%]   .modal-nav-layout[_ngcontent-%COMP%]{align-items:center}.hig-sidebar-container.collapsed[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .hig-sidebar-button-content[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.hig-sidebar-container.expandable.expand-finished[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.hig-sidebar-container.expandable.expand-finished[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%]{transition:font-size .2s ease-in-out}.hig-sidebar-container.expanded[_ngcontent-%COMP%]{width:var(--hig-sidebar-expand-width)}.hig-sidebar-container.expanded[_ngcontent-%COMP%]   .account-info-layout[_ngcontent-%COMP%], .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .page-nav-layout[_ngcontent-%COMP%], .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .modal-nav-layout[_ngcontent-%COMP%]{align-items:stretch}.hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:var(--hig-sidebar-expand-width)}.isLtr[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--hig-sidebar-expanded-icon-gap-size)}html[dir=ltr][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:var(--hig-sidebar-expanded-icon-gap-size)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--hig-sidebar-expanded-icon-gap-size)}html[dir=rtl][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:var(--hig-sidebar-expanded-icon-gap-size)}.isLtr[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]{padding-left:calc(calc(var(--hig-sidebar-icon-size) / 2 + var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent)) - (var(--hig-sidebar-account-icon-size) / 2))}html[dir=ltr][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:calc(calc(var(--hig-sidebar-icon-size) / 2 + var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent)) - (var(--hig-sidebar-account-icon-size) / 2))}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]{padding-right:calc(calc(var(--hig-sidebar-icon-size) / 2 + var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent)) - (var(--hig-sidebar-account-icon-size) / 2))}html[dir=rtl][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:calc(calc(var(--hig-sidebar-icon-size) / 2 + var(--hig-sidebar-button-padding-left-right-size) + var(--hig-sidebar-button-left-indent)) - (var(--hig-sidebar-account-icon-size) / 2))}.isLtr[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--hig-sidebar-expanded-account-icon-gap-size)}html[dir=ltr][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:var(--hig-sidebar-expanded-account-icon-gap-size)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--hig-sidebar-expanded-account-icon-gap-size)}html[dir=rtl][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:var(--hig-sidebar-expanded-account-icon-gap-size)}.isLtr[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--hig-sidebar-expanded-account-with-badge-icon-gap-size)}html[dir=ltr][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:var(--hig-sidebar-expanded-account-with-badge-icon-gap-size)}.isRtl[_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:var(--hig-sidebar-expanded-account-with-badge-icon-gap-size)}html[dir=rtl][_ngcontent-%COMP%]   .hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.account-button.has-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:var(--hig-sidebar-expanded-account-with-badge-icon-gap-size)}.hig-sidebar-container.expanded[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .hig-sidebar-button-content[_ngcontent-%COMP%]{flex-direction:row;justify-content:start}.hig-sidebar-container.expanded.collapsing[_ngcontent-%COMP%]{width:var(--hig-sidebar-collapse-width)}.hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:calc(var(--hig-sidebar-button-padding-top-bottom-size) + var(--hig-sidebar-icon-size) * 1.5);padding:0 var(--hig-sidebar-button-padding-left-right-size)}.hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   mat-icon[_ngcontent-%COMP%], .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   mat-icon[_ngcontent-%COMP%]{transform:scale(1.5);transition:transform .2s ease-in}.hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.new-10ft[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .new-10ft[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]:not(.account-button)   span[_ngcontent-%COMP%]{color:#ffffffd9}.hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-keyboard-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.cdk-program-focused.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.hig-sidebar-container.enlarge-focused-item[_ngcontent-%COMP%]   .hig-sidebar-item[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scale(1.5)}.hig-sidebar-gradient[_ngcontent-%COMP%]{background:linear-gradient(var(--hig-sidebar-background-linear-gradient-deg),#000000 16.12%,rgba(0,0,0,.99) 18.82%,rgba(0,0,0,.98) 21.45%,rgba(0,0,0,.965) 23.65%,rgba(0,0,0,.5) 100%);height:100vh;position:absolute;top:0;width:100vw}"],data:{animation:[(0,h.X$)("higSidebarOpacityAnimation",[(0,h.eR)("void => *",[(0,h.oB)({opacity:"0"}),(0,h.jt)("300ms ease-in",(0,h.oB)({opacity:"1"}))]),(0,h.eR)("* => void",[(0,h.oB)({opacity:"1"}),(0,h.jt)("300ms ease-in",(0,h.oB)({opacity:"0"}))])]),(0,h.X$)("higSidebarTextAnimation",[(0,h.eR)("void => *",[(0,h.oB)({opacity:"0",transform:"translateX(-10px)"}),(0,h.jt)("300ms ease-in",(0,h.oB)({opacity:"1",transform:"translateX(0)"}))]),(0,h.eR)("* => void",[(0,h.oB)({opacity:"1",transform:"translateX(0)"}),(0,h.jt)("300ms ease-in",(0,h.oB)({opacity:"0",transform:"translateX(-10px)"}))])])]}}),m})()},50693:(Dt,ct,t)=>{"use strict";t.d(ct,{Z:()=>e});var e=function(i){return i.Init="Init",i.Expanded="Expanded",i.Expanding="Expanding",i.Collapsed="Collapsed",i.Collapsing="Collapsing",i}(e||{})},66273:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>V});var e=t(61699),i=t(55998),L=t(58540),x=t(26575),S=t(45356),u=t(28849),g=t(52098),h=t(81337);const O=["slider"];function E(c,C){if(1&c){const l=e.EpF();e.TgZ(0,"input",4),e.NdJ("ngModelChange",function(n){e.CHM(l);const s=e.oxw();return e.KtG(s.inputValue=n)})("focus",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.onTextFocus())})("blur",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.onTextBlur())})("change",function(n){e.CHM(l);const s=e.oxw();return e.KtG(s.textChanged(n))})("input",function(n){e.CHM(l);const s=e.oxw();return e.KtG(s.textInput(n))}),e.qZA()}if(2&c){const l=e.oxw();e.Q6J("disabled",l.disabled)("ngModel",l.inputValue),e.uIk("tabindex",l.tabindex)}}var w=function(c){return c.Integer="integer",c.Decimal="decimal",c.Time="time",c.Percent="percent",c}(w||{});const p={[w.Integer]:/^-?\d*$/,[w.Decimal]:/^-?\d*\.*\d*$/,[w.Time]:/^-?\d*[:]?\d*$/,[w.Percent]:/^-?\d*$/};let V=(()=>{var c;class C{get min(){return this._min}set min(o){this._min=(0,i.su)(o,this._min)}get max(){return this._max}set max(o){this._max=(0,i.su)(o,this._max)}get step(){return this._step}set step(o){this._step=(0,i.su)(o,this._step),this.forceSliderTickUpdate()}get default(){return this._default}set default(o){this._default=(0,i.su)(o,this._default)}get tickInterval(){return this._tickInterval}set tickInterval(o){this._tickInterval="auto"===o?"auto":"number"==typeof o||"string"==typeof o?(0,i.su)(o,this._tickInterval):0,console.log("tickinterval: ",this._tickInterval),this.forceSliderTickUpdate()}get value(){return this._value}set value(o){this._value=(0,i.su)(o,this._value),setTimeout(()=>this.sliderMoved({source:this.slider,value:this.value}),0)}set formatTextAs(o){this._formatTextAs=w[o]||w.Integer}get formatTextAs(){return this._formatTextAs}constructor(o){this._min=0,this._max=100,this._step=1,this._default=void 0,this.disabled=!1,this.thumbLabel=!1,this.animating=!1,this._tickInterval=0,this._value=0,this.valueChange=new e.vpe,this.valueEntry=!1,this._formatTextAs=w.Integer,this.change=new e.vpe,this.input=new e.vpe,this.tabindex=void 0,this.sliderStep=0,this.inputValue=void 0,this.textFocused=!1,this.mouseDown=!1,this.initializing=!0,this.afterInit=!1,this.textValueValidation="",this.tabindex=parseInt(o,10),Number.isNaN(this.tabindex)&&(this.tabindex=void 0),this.realTabIndex="-1"}ngOnInit(){}ngAfterViewInit(){this.afterInit=!0,setTimeout(()=>{this.forceSliderTickUpdate(),this.sliderMoved({source:this.slider,value:this.value})},0),setTimeout(()=>this.initializing=!1,100)}forceSliderTickUpdate(){this.afterInit&&this.slider&&(this.slider.step=this.step,this.sliderStep=this.step,this.slider._onMouseenter())}onTextFocus(){this.textFocused=!0}onTextBlur(){this.textFocused=!1}textChanged(o){let n=o.target.value;if(this.formatTextAs===w.Time){const R=L(n,"mm:ss");n=60*R.minutes()+R.seconds()+""}let s=0;this.formatTextAs===w.Decimal?(s=100*(parseFloat(n)||0),this.step&&(s=Math.round((s-100*this.min)/(100*this.step))*this.step+this.min)):(s=parseInt(n,10)||0,this.step&&(s=Math.round((s-this.min)/this.step)*this.step+this.min)),s=Math.min(this.max,Math.max(s,this.min)),this.value=s,this.sliderChanged({source:this.slider,value:this.value}),o.stopImmediatePropagation()}sliderChanged(o){this.valueChange.emit(this.value),this.change.emit(o)}sliderMoved(o){if(o&&void 0!==o.value){if(this.formatTextAs===w.Time){let n=L({seconds:0});n=n.second(o.value),this.inputValue=n.format("mm:ss")}else this.inputValue=this.formatTextAs===w.Percent?o.value+" %":o.value+"";this.textValueValidation=this.inputValue,this.input.emit(o)}}textInput(o){const s=o.target;s&&!(p[this.formatTextAs]||p[w.Integer]).test(s.value)?s.value=this.textValueValidation:this.textValueValidation=s.value,o.stopImmediatePropagation()}onKeyDown(o){this.default&&"Period"===o.code&&(this.value=this.default,this.sliderChanged({source:this.slider,value:this.value}))}}return(c=C).\u0275fac=function(o){return new(o||c)(e.$8M("tabindex"))},c.\u0275cmp=e.Xpm({type:c,selectors:[["nv-hig-slider"]],viewQuery:function(o,n){if(1&o&&e.Gf(O,7),2&o){let s;e.iGM(s=e.CRH())&&(n.slider=s.first)}},hostVars:1,hostBindings:function(o,n){2&o&&e.Ikx("tabindex",n.realTabIndex)},inputs:{min:"min",max:"max",step:"step",default:"default",disabled:"disabled",thumbLabel:"thumbLabel",animating:"animating",tickInterval:"tickInterval",value:"value",valueEntry:"valueEntry",formatTextAs:"formatTextAs"},outputs:{valueChange:"valueChange",change:"change",input:"input"},decls:4,vars:15,consts:[["fxFlex","row","fxLayoutAlign","start start",1,"nv-hig"],["fxFlex","","nvMatSliderKeyboardFixup","",3,"min","max","step","disabled","thumbLabel","tickInterval","value","tabIndex","valueChange","input","change","mousedown","mouseup","keydown"],["slider",""],["type","text","fxFlex","none","class","slider-text-entry font-body2",3,"disabled","ngModel","ngModelChange","focus","blur","change","input",4,"ngIf"],["type","text","fxFlex","none",1,"slider-text-entry","font-body2",3,"disabled","ngModel","ngModelChange","focus","blur","change","input"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"mat-slider",1,2),e.NdJ("valueChange",function(R){return n.value=R})("input",function(R){return n.sliderMoved(R)})("change",function(R){return n.sliderChanged(R)})("mousedown",function(){return n.mouseDown=!0})("mouseup",function(){return n.mouseDown=!1},!1,e.Jf7)("keydown",function(R){return n.onKeyDown(R)}),e.qZA(),e.YNc(3,E,1,3,"input",3),e.qZA()),2&o&&(e.xp6(1),e.ekj("cdk-mouse-focused",n.textFocused)("nv-mouse-down",n.mouseDown)("hig-slider-no-animation",n.animating||n.initializing),e.Q6J("min",n.min)("max",n.max)("step",n.sliderStep)("disabled",n.disabled)("thumbLabel",n.thumbLabel)("tickInterval",n.tickInterval)("value",n.value)("tabIndex",n.tabindex),e.xp6(2),e.Q6J("ngIf",n.valueEntry))},dependencies:[x.O5,S.Wh,S.yH,u.Fj,u.JJ,u.On,g.ST,h.n3],styles:[".slider-text-entry[_ngcontent-%COMP%]{width:48px;height:23px;background-color:transparent;border:none;text-align:center;padding-bottom:2px;border-bottom:1px solid #636363;caret-color:#76b900}.isLtr[_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{margin:0 0 0 8px}html[dir=ltr][_ngcontent-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 0 8px}.isRtl[_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{margin:0 8px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 0 0}.slider-text-entry[_ngcontent-%COMP%]:disabled{opacity:.38}.slider-text-entry[_ngcontent-%COMP%]::selection{background-color:#76b900}.slider-text-entry[_ngcontent-%COMP%]:focus, .mat-slider[_ngcontent-%COMP%]:not(.mat-slider-disabled).cdk-focused ~ .slider-text-entry[_ngcontent-%COMP%]{padding-bottom:1px;border-bottom:2px solid #76b900;outline:none}"]}),C})()},89332:(Dt,ct,t)=>{"use strict";t.d(ct,{O:()=>K});var e=t(61699),i=t(17401),L=t(80602),f=t(72416),x=t(79565),S=t(68740);function u(B,j){if(1&B&&e._UZ(0,"div",21),2&B){const tt=e.oxw();e.Q6J("imageUrl",null==tt.data||null==tt.data.threeQuarterSheetData?null:tt.data.threeQuarterSheetData.backgroundImageUrl)}}function g(B,j){if(1&B&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&B){const tt=e.oxw();e.xp6(2),e.Oqu(tt.data.threeQuarterSheetData.title.translated?tt.data.threeQuarterSheetData.title.text:e.lcZ(3,1,tt.data.threeQuarterSheetData.title.text))}}function h(B,j){if(1&B&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&B){const tt=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,tt.data.headerText.text,tt.data.translateValues))}}function O(B,j){1&B&&e._UZ(0,"mat-progress-spinner",25)}function E(B,j){if(1&B&&(e.TgZ(0,"div",26),e._UZ(1,"qrcode",27),e.qZA()),2&B){const tt=e.oxw();e.xp6(1),e.Q6J("qrdata",tt.data.image.url)("width",200)("errorCorrectionLevel","M")}}function w(B,j){if(1&B&&(e._UZ(0,"div",28),e.ALo(1,"translate")),2&B){const tt=e.oxw();e.Q6J("innerHTML",tt.data.bodyText.translated?tt.data.bodyText.text:e.xi3(1,1,tt.data.bodyText.text,tt.data.bodyText.placeholders),e.oJD)}}function p(B,j){if(1&B&&e._UZ(0,"mat-icon",34),2&B){const tt=e.oxw().$implicit;e.Q6J("svgIcon",tt.matIcon)}}function V(B,j){if(1&B&&(e.TgZ(0,"div",31),e.YNc(1,p,1,1,"mat-icon",32),e.TgZ(2,"div",33),e._uU(3),e.qZA()()),2&B){const tt=j.$implicit;e.xp6(1),e.Q6J("ngIf",tt.matIcon),e.xp6(2),e.Oqu(tt.text)}}function c(B,j){if(1&B&&(e.TgZ(0,"div",29),e.YNc(1,V,4,2,"div",30),e.qZA()),2&B){const tt=e.oxw();e.xp6(1),e.Q6J("ngForOf",tt.data.descriptionList)}}function C(B,j){if(1&B&&(e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&B){const tt=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,tt.data.footerText.text))}}function l(B,j){if(1&B&&e._UZ(0,"img",40),2&B){const tt=e.oxw(2).$implicit;e.Q6J("src",tt.imageUrl,e.LSH)}}function o(B,j){if(1&B){const tt=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(tt);const F=e.oxw().$implicit,U=e.oxw();return e.KtG(U.onRadioButtonClick(F.value))}),e.YNc(1,l,1,1,"img",39),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&B){const tt=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",tt.imageUrl),e.xp6(1),e.hij(" ",e.lcZ(3,2,tt.value)," ")}}function n(B,j){if(1&B&&(e.ynx(0),e.YNc(1,o,4,4,"button",37),e.BQk()),2&B){const tt=j.$implicit;e.xp6(1),e.Q6J("ngIf",tt)}}function s(B,j){if(1&B){const tt=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(tt);const F=e.oxw();return e.KtG(F.onPrimaryButtonClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&B){const tt=e.oxw();e.Q6J("disabled",tt.data.primaryButton.isDisabled)("nvAutoFocus",tt.autoFocusOnPrimaryButton),e.xp6(1),e.hij(" ",e.lcZ(2,3,tt.data.primaryButton.text)," ")}}function R(B,j){if(1&B&&(e.ynx(0),e.GkF(1,42),e.BQk()),2&B){e.oxw();const tt=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",tt)}}function _(B,j){if(1&B&&(e.ynx(0),e.GkF(1,42)(2,42),e.BQk()),2&B){e.oxw();const tt=e.MAs(21),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",tt),e.xp6(1),e.Q6J("ngTemplateOutlet",ot)}}function b(B,j){if(1&B){const tt=e.EpF();e.ynx(0),e.TgZ(1,"button",43),e.NdJ("click",function(){const U=e.CHM(tt).$implicit,z=e.oxw();return e.KtG(z.onAugmentedButtonClick(U.id))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()}if(2&B){const tt=j.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,tt.text)," ")}}function I(B,j){if(1&B){const tt=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(tt);const F=e.oxw(2);return e.KtG(F.onLinkClick(F.data.link.url,F.data.link.shortUrl,F.data.link.shortUrlDescription,F.data.link.linkClickedCallback))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"i",46),e._uU(5,"open_in_new"),e.qZA()()}if(2&B){const tt=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,1,tt.data.link.text,tt.data.link.placeholders))}}function q(B,j){if(1&B&&(e.TgZ(0,"div",44),e._UZ(1,"md-divider",45),e.YNc(2,I,6,4,"button",37),e.qZA()),2&B){const tt=e.oxw();e.xp6(2),e.Q6J("ngIf",tt.data.link.url||tt.data.link.linkClickedCallback)}}function a(B,j){if(1&B){const tt=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(tt);const F=e.oxw(2);return e.KtG(F.onSecondaryButtonClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&B){const tt=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,tt.data.secondaryButton.text)," ")}}function y(B,j){if(1&B&&e.YNc(0,a,3,3,"button",47),2&B){const tt=e.oxw();e.Q6J("ngIf",tt.data.secondaryButton)}}function M(B,j){if(1&B){const tt=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(tt);const F=e.oxw(2);return e.KtG(F.onCheckboxClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&B){const tt=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,tt.data.checkbox.text)," ")}}function P(B,j){if(1&B&&e.YNc(0,M,3,3,"button",47),2&B){const tt=e.oxw();e.Q6J("ngIf",tt.data.checkbox)}}let K=(()=>{var B;class j extends f.u{get autoFocusOnPrimaryButton(){var ot;return null===(ot=this.data.autoFocusOnPrimaryButton)||void 0===ot||ot}static open(ot,F){return F.maxWidth="100vw",(0,L.HO)(F,{threeQuarterSheet:!0}),ot.open(j,{...F,width:"100%",height:"100%"})}constructor(ot,F,U,z,Q){super(U,z,ot,Q),this.offDeviceLinkService=F,this.primaryButtonClick=new e.vpe,this.secondaryButtonClick=new e.vpe,this.radioButtonClick=new e.vpe,this.augmentedButtonClick=new e.vpe,this.linkClick=new e.vpe,this.data={},this.data=ot.get(i.WI,null)}onPrimaryButtonClick(ot){this.primaryButtonClick.emit(ot)}onSecondaryButtonClick(ot){this.secondaryButtonClick.emit(ot)}onCheckboxClick(){this.data.checkboxState=!0,(this.data.checkbox.primaryActionInThreeQuarterSheet?this.primaryButtonClick:this.secondaryButtonClick).emit()}onRadioButtonClick(ot){this.data.radioOptionSelected=ot,this.radioButtonClick.emit(),this.primaryButtonClick.emit()}onLinkClick(ot,F,U,z){var Q;ot?this.offDeviceLinkService.open(ot,{shortUrl:F,shortUrlDescription:U,threeQuarterSheetData:null===(Q=this.data)||void 0===Q?void 0:Q.threeQuarterSheetData}):z&&z(),this.linkClick.emit()}onAugmentedButtonClick(ot){this.augmentedButtonClick.emit(ot)}}return(B=j).\u0275fac=function(ot){return new(ot||B)(e.Y36(e.zs3),e.Y36(x.q),e.Y36(i.so,8),e.Y36(S.oL,8),e.Y36(e.R0b))},B.\u0275cmp=e.Xpm({type:B,selectors:[["nv-hig-three-quarter-sheet"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",radioButtonClick:"radioButtonClick",augmentedButtonClick:"augmentedButtonClick",linkClick:"linkClick"},features:[e.qOj],decls:24,vars:19,consts:[["fxFlex","","fxLayout","row","nvSpatialNavigationContainer","","nvTrapFocus","",1,"main-dialog-sheet"],["class","image-layer","nvHigBackgroundImageOverlay","",3,"imageUrl",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between start",1,"content-container"],["class","title",4,"ngIf"],["fxLayout","column","fxLayoutGap","32px"],["class","content-header font-header4",4,"ngIf"],["fxLayout","row",1,"content-info"],["mode","indeterminate","diameter","48","color","accent",4,"ngIf"],["class","qrcode-container",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutGap","16px"],["class","font-body2",3,"innerHTML",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px","class","hig-description-list-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end end",4,"ngIf"],["fxLayout","column","fxLayoutGap","12px",1,"button-container"],[4,"ngFor","ngForOf"],["mat-button","","class","sentence-case",3,"disabled","nvAutoFocus","click",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["fxLayout","column","fxLayoutGap","16px",4,"ngIf"],["secondaryButton",""],["checkboxButton",""],["nvHigBackgroundImageOverlay","",1,"image-layer",3,"imageUrl"],[1,"title"],[1,"title-content"],[1,"content-header","font-header4"],["mode","indeterminate","diameter","48","color","accent"],[1,"qrcode-container"],[3,"qrdata","width","errorCorrectionLevel"],[1,"font-body2",3,"innerHTML"],["fxLayout","column","fxLayoutGap","16px",1,"hig-description-list-container"],["class","hig-description-list-item",4,"ngFor","ngForOf"],[1,"hig-description-list-item"],["class","hig-description-icon font-body2",3,"svgIcon",4,"ngIf"],[1,"hig-description-text","font-body2"],[1,"hig-description-icon","font-body2",3,"svgIcon"],["fxLayout","row","fxLayoutAlign","end end"],[1,"font-body3"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["class","prefix-image",3,"src",4,"ngIf"],[1,"prefix-image",3,"src"],["mat-button","",1,"sentence-case",3,"disabled","nvAutoFocus","click"],[3,"ngTemplateOutlet"],["mat-button","",1,"sentence-case",3,"click"],["fxLayout","column","fxLayoutGap","16px"],["role","separator",1,"separator"],[1,"material-icons","link-icon"],["mat-button","","class","sentence-case",3,"click",4,"ngIf"]],template:function(ot,F){if(1&ot&&(e.TgZ(0,"div",0),e.YNc(1,u,1,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,g,4,3,"div",3),e.TgZ(4,"div",4),e.YNc(5,h,3,4,"span",5),e.TgZ(6,"div",6),e.YNc(7,O,1,0,"mat-progress-spinner",7),e.YNc(8,E,2,3,"div",8),e.TgZ(9,"div",9),e.YNc(10,w,2,4,"div",10),e.YNc(11,c,2,1,"div",11),e.qZA()()(),e.YNc(12,C,4,3,"div",12),e.qZA(),e.TgZ(13,"div",13),e.YNc(14,n,2,1,"ng-container",14),e.YNc(15,s,3,5,"button",15),e.YNc(16,R,2,1,"ng-container",16),e.YNc(17,_,3,2,"ng-container",17),e.YNc(18,b,4,3,"ng-container",14),e.YNc(19,q,3,1,"div",18),e.YNc(20,y,1,1,"ng-template",null,19,e.W1O),e.YNc(22,P,1,1,"ng-template",null,20,e.W1O),e.qZA()()),2&ot){const U=e.MAs(21);e.xp6(1),e.Q6J("ngIf",null==F.data||null==F.data.threeQuarterSheetData?null:F.data.threeQuarterSheetData.backgroundImageUrl),e.xp6(1),e.ekj("translucent",null==F.data||null==F.data.threeQuarterSheetData?null:F.data.threeQuarterSheetData.backgroundImageUrl),e.xp6(1),e.Q6J("ngIf",null==F.data||null==F.data.threeQuarterSheetData?null:F.data.threeQuarterSheetData.title),e.xp6(2),e.Q6J("ngIf",F.data.headerText),e.xp6(2),e.Q6J("ngIf",F.data.showSpinner),e.xp6(1),e.Q6J("ngIf",null==F.data.image?null:F.data.image.url),e.xp6(2),e.Q6J("ngIf",F.data.bodyText),e.xp6(1),e.Q6J("ngIf",F.data.descriptionList),e.xp6(1),e.Q6J("ngIf",F.data.footerText),e.xp6(1),e.ekj("translucent",null==F.data||null==F.data.threeQuarterSheetData?null:F.data.threeQuarterSheetData.backgroundImageUrl),e.xp6(1),e.Q6J("ngForOf",F.data.radioButtonOptions),e.xp6(1),e.Q6J("ngIf",F.data.primaryButton&&!F.data.radioButtonOptions),e.xp6(1),e.Q6J("ngIf",null==F.data.checkbox?null:F.data.checkbox.primaryActionInThreeQuarterSheet),e.xp6(1),e.Q6J("ngIf",F.data.checkbox&&!F.data.checkbox.primaryActionInThreeQuarterSheet)("ngIfElse",U),e.xp6(1),e.Q6J("ngForOf",null==F.data.threeQuarterSheetData?null:F.data.threeQuarterSheetData.augmentedButtons),e.xp6(1),e.Q6J("ngIf",F.data.link)}},styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.main-dialog-sheet[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background:#393939;max-height:100%;width:100vw;height:100%}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:133px 88px 48px;width:1180px}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container.translucent[_ngcontent-%COMP%]{background:rgba(0,0,0,.7)}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{height:318px;word-break:break-word;display:flex;align-items:flex-end}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header.sentence-case[_ngcontent-%COMP%]{text-transform:lowercase}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header.sentence-case[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{--dummy4: 0;margin-right:32px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{--dummy4: 0;margin-left:32px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .qrcode-container[_ngcontent-%COMP%]{width:200px;height:200px}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{top:56px;position:fixed;display:flex;align-items:flex-end}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0;color:#fff9}.tv-view[_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:calc(100vw - 1180px);background:#191919;padding-top:374px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-left:40px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:40px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-right:40px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:40px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-right:88px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:88px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-left:88px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:88px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container.translucent[_ngcontent-%COMP%]{background:rgba(0,0,0,.9)}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:start;height:96px;border-radius:8px;white-space:normal;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{width:48px;height:48px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-left:12px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy1: 0;padding-left:12px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-right:12px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy1: 0;padding-right:12px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-right:28px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy2: 0;padding-right:28px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-left:28px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy2: 0;padding-left:28px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i.link-icon[_ngcontent-%COMP%]{vertical-align:middle;padding:0 16px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.sentence-case[_ngcontent-%COMP%]{text-transform:lowercase}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.sentence-case[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-top:4px}.image-layer[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1;opacity:.8}.hig-description-list-container[_ngcontent-%COMP%]{margin-top:16px}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-list-item[_ngcontent-%COMP%]{display:flex}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;margin-top:4px}.isLtr[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),j})()},31546:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>f});var e=t(55998),i=t(61699),L=t(62404);let f=(()=>{var x;class S{constructor(g,h){this.element=g,this.focusManager=h,this.autoFocusPolicy="self",this._focusEnabled=!0}get focusEnabled(){return this._focusEnabled}set focusEnabled(g){this._focusEnabled=(0,e.Ig)(g)}ngAfterViewInit(){this.focusEnabled&&("initial"===this.autoFocusPolicy?setTimeout(()=>this.focusManager.focusChild(this.element.nativeElement,"initial")):setTimeout(()=>this.focusManager.focusViaLastOrigin(this.element.nativeElement)))}}return(x=S).\u0275fac=function(g){return new(g||x)(i.Y36(i.SBq),i.Y36(L.I))},x.\u0275dir=i.lG2({type:x,selectors:[["","nvAutoFocus",""]],inputs:{autoFocusPolicy:"autoFocusPolicy",focusEnabled:["nvAutoFocus","focusEnabled"]}}),S})()},72416:(Dt,ct,t)=>{"use strict";t.d(ct,{u:()=>h});var e=t(17401),i=t(68740),L=t(32484),f=t(85046),x=t(46939),S=t(13303),u=t(77869),g=t(61699);let h=(()=>{var O;class E{constructor(p,V,c,C){this.dialogRef=p,this.bottomSheetRef=V,this.injector=c,this.ngZone=C,this.destroy$=new L.xQ}ngAfterViewInit(){var p;const V=this.dialogRef?this.injector.get(e.WI,null):this.bottomSheetRef?this.injector.get(i.OG,null):void 0,c=null!==(p=this.dialogRef)&&void 0!==p?p:this.bottomSheetRef;!c||null!=V&&V.disableBackToClose||this.ngZone.runOutsideAngular(()=>{c.keydownEvents().pipe((0,f.h)(u.wN),(0,x.q)(1),(0,S.R)(this.destroy$)).subscribe(C=>{C.stopPropagation(),C.preventDefault(),this.close(C)})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}close(p){var V,c,C;const l=null!==(V="function"==typeof this.backToCloseResult?this.backToCloseResult():this.backToCloseResult)&&void 0!==V?V:p;null===(c=this.dialogRef)||void 0===c||c.close(l),null===(C=this.bottomSheetRef)||void 0===C||C.dismiss(l)}}return(O=E).\u0275fac=function(p){return new(p||O)(g.Y36(e.so,8),g.Y36(i.oL,8),g.Y36(g.zs3),g.Y36(g.R0b))},O.\u0275dir=g.lG2({type:O,selectors:[["","nvBackToCloseModal",""]],inputs:{backToCloseResult:"backToCloseResult"}}),E})()},17340:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>V});var e=t(55998),i=t(32484),L=t(93190),f=t(38096),x=t(13303),S=t(46939),u=t(39614),g=t(69965),h=t(61699),O=t(92403),E=t(13963),w=t(62404);let V=(()=>{var c;class C{get enabled(){return this._enabled}set enabled(o){this._enabled=(0,e.Ig)(o)}get enableKeyThrottle(){return this._enableKeyThrottle}set enableKeyThrottle(o){this._enableKeyThrottle=(0,e.Ig)(o)}constructor(o,n,s,R,_,b){this.spatialNavigationService=o,this.elementRef=n,this.localeService=s,this.focusManager=R,this.ngZone=b,this.spacingTop=0,this.spacingBottom=0,this.spacingLeft=0,this.spacingRight=0,this._enabled=!0,this._enableKeyThrottle=!0,this.cancelScrolling$=new i.xQ,this.destroy$=new i.xQ,this.navBeforeFocus=I=>{if(!(this.enabled&&I.target instanceof HTMLElement))return;const q=this.scrollerElement,a=this.orientation;if(!q||!a)return;const y=I.target;if(!q.contains(y))return;const M=q.getBoundingClientRect(),P=y.getBoundingClientRect();if(this.isVisibleInScroller(P,M,a))return;I.preventDefault();const K=this.calculateRequiredScrollAmount(P,M,a);if(0===K)return;this.focusManager.focusViaLastOrigin(y,{preventScroll:!0});const{x:B,y:j}=this.getDestinationCoordinates(K);this.isScrolling&&this.cancelScrolling$.next();const tt=new g.p(this.scrollerElement,B,j,{easingFunction:u.w2,duration:96,rtlEnabled:this.localeService.isRTLLayoutEnabled});this.enableKeyThrottle&&(0,L.R)(y,"keydown",{capture:!0}).pipe((0,x.R)((0,f.S3)(tt.onScrollEnd(),this.cancelScrolling$,this.destroy$))).subscribe(this.swallowKeydownEvent),this.doScrolling(tt)},this.logger=_.getLogger("focusThenScrollDirective")}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("navbeforefocus",this.navBeforeFocus)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.elementRef.nativeElement.removeEventListener("navbeforefocus",this.navBeforeFocus)}isVisibleInScroller(o,n,s){return"horizontal"===s&&o.left>=n.left&&o.right<=n.right||"vertical"===s&&o.top>=n.top&&o.bottom<=n.bottom}calculateRequiredScrollAmount(o,n,s){let R=0;return R="horizontal"===s?o.left<n.left?o.left-this.spacingLeft-n.left:o.right+this.spacingRight-n.right:o.top<n.top?o.top-this.spacingTop-n.top:o.bottom+this.spacingBottom-n.bottom,R}getDestinationCoordinates(o){let n=this.scrollerElement.scrollLeft,s=this.scrollerElement.scrollTop;return"horizontal"===this.orientation?n+=o:s+=o,{x:n,y:s}}swallowKeydownEvent(o){o.stopPropagation(),o.preventDefault()}doScrolling(o){o.onScrollEnd().pipe((0,S.q)(1),(0,x.R)((0,f.S3)(this.destroy$,this.cancelScrolling$))).subscribe(()=>{this.isScrolling=!1}),o.onScrollStart().pipe((0,S.q)(1),(0,x.R)((0,f.S3)(this.destroy$,this.cancelScrolling$))).subscribe(()=>{this.isScrolling=!0}),o.start().pipe((0,x.R)((0,f.S3)(this.cancelScrolling$,this.destroy$))).subscribe()}}return(c=C).\u0275fac=function(o){return new(o||c)(h.Y36(O.j),h.Y36(h.SBq),h.Y36(E.OL),h.Y36(w.I),h.Y36(E.ed),h.Y36(h.R0b))},c.\u0275dir=h.lG2({type:c,inputs:{spacingTop:"spacingTop",spacingBottom:"spacingBottom",spacingLeft:"spacingLeft",spacingRight:"spacingRight",enabled:["enableFocusThenScroll","enabled"],enableKeyThrottle:"enableKeyThrottle"}}),C})()},59397:(Dt,ct,t)=>{"use strict";t.d(ct,{D:()=>x});var e=t(55998),i=t(31546),L=t(61699),f=t(62404);let x=(()=>{var S;class u{get enabled(){return this._enabled}set enabled(h){this._enabled=(0,e.Ig)(h)}constructor(h,O){this.element=h,this.focusManager=O,this._enabled=!0,this.restoreFunction=this.focusManager.createRestoreFocusFunction(this.focusManager.currentFocusedElement)}ngAfterViewInit(){this.enabled&&(this.autoFocusChildren.some(O=>O.focusEnabled)||this.focusManager.focusChild(this.element.nativeElement,"initial"))}shouldRestoreFocus(){const h=this.focusManager.currentFocusedElement;return h===document.body||this.element.nativeElement.contains(h)}ngOnDestroy(){this.enabled&&this.shouldRestoreFocus()&&setTimeout(()=>this.restoreFunction())}}return(S=u).\u0275fac=function(h){return new(h||S)(L.Y36(L.SBq),L.Y36(f.I))},S.\u0275dir=L.lG2({type:S,selectors:[["","nvCaptureRestoreFocus",""]],contentQueries:function(h,O,E){if(1&h&&L.Suo(E,i.h,5),2&h){let w;L.iGM(w=L.CRH())&&(O.autoFocusChildren=w)}},inputs:{enabled:["nvCaptureRestoreFocus","enabled"]}}),u})()},27247:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>L});var e=t(60702),i=t(61699);let L=(()=>{var f;class x{constructor(u,g,h){this.elementRef=u,this.renderer=g,this.matTooltip=h,this.isTooltipEnabled=!0,this.isMultiLineEllipsis=!1}ngOnInit(){this.domElement=this.elementRef.nativeElement;const u={"text-overflow":"ellipsis",overflow:"hidden","white-space":this.isMultiLineEllipsis?"wrap":"nowrap"};Object.keys(u).forEach(g=>{this.renderer.setStyle(this.domElement,`${g}`,u[g])})}ngAfterViewInit(){this.matTooltip.tooltipClass=this.tooltipClass}onMouseOver(){this.isTooltipEnabled&&(this.isMultiLineEllipsis?this.domElement.offsetHeight<this.domElement.scrollHeight:this.domElement.offsetWidth<this.domElement.scrollWidth)&&(this.matTooltip.message=this.domElement.innerText,this.matTooltip.show())}onMouseOut(){this.matTooltip.hide()}}return(f=x).\u0275fac=function(u){return new(u||f)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(e.gM))},f.\u0275dir=i.lG2({type:f,selectors:[["","nvEllipsifiedTextWithTooltip",""]],hostBindings:function(u,g){1&u&&i.NdJ("mouseover",function(){return g.onMouseOver()})("mouseout",function(){return g.onMouseOut()})},inputs:{tooltipClass:"tooltipClass",isTooltipEnabled:"isTooltipEnabled",isMultiLineEllipsis:"isMultiLineEllipsis"},features:[i._Bn([e.gM])]}),x})()},47011:(Dt,ct,t)=>{"use strict";t.d(ct,{E:()=>O});var e=t(6955),i=t(31868),L=t(32484),f=t(93190),x=t(85046),S=t(13303),u=t(55998),g=t(61699),h=t(92403);let O=(()=>{var E;class w{get enableFastNavigation(){return this._enalbeFastNavigation}set enableFastNavigation(V){this._enalbeFastNavigation=(0,u.Ig)(V)}get orientation(){return this._orientation}set orientation(V){this._orientation=V}get containFocus(){return this._containFocus}set containFocus(V){this._containFocus=Array.isArray(V)?V:(0,u.Ig)(V)}get isRTL(){return this._isRTL}set isRTL(V){this._isRTL=(0,u.Ig)(V)}constructor(V,c,C){this.container=V,this.spatialNavigationService=c,this.ngZone=C,this._enalbeFastNavigation=!0,this._orientation="horizontal",this._containFocus=!1,this._isRTL=!1,this.destroy$=new L.xQ}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.ngZone.runOutsideAngular(()=>{(0,f.R)(this.container.nativeElement,"keydown").pipe((0,x.h)(this.checkDirection.bind(this)),(0,S.R)(this.destroy$)).subscribe(this.onKeydown.bind(this))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkDirection(V){return"horizontal"===this.orientation?"ArrowLeft"===V.key||"ArrowRight"===V.key:"vertical"===this.orientation&&("ArrowUp"===V.key||"ArrowDown"===V.key)}getOffset(V){let c=0;return"horizontal"===this.orientation?(c="ArrowLeft"===V?-1:1,c*=this.isRTL?-1:1):"vertical"===this.orientation&&(c="ArrowDown"===V?1:-1),c}onKeydown(V){if(!this.enableFastNavigation)return;const c=V.key,C=this.getOffset(c),l=this.getCurrentFocusedIndex();if(l<0)return;const o=l+C,n=(0,i.mD)(c);let s=!1;!this.isOutofBoundary(o)&&this.items.get(o).focusableElement?(this.items.get(o).focus(n),s=!0):s=this.spatialNavigationService.shouldContainFocus(n,this.containFocus),s&&(V.preventDefault(),V.stopPropagation())}isOutofBoundary(V){return V<0||V>=this.items.length}getCurrentFocusedIndex(){let V=document.activeElement;for(;V&&V!==this.container.nativeElement;){if(V.hasAttribute("nvFastSpatialNavigationItem")){const c=this.items.toArray().findIndex(C=>{var l;return(null==C||null===(l=C.elementRef)||void 0===l?void 0:l.nativeElement)===V});if(-1!==c)return c}V=V.parentElement}return-1}}return(E=w).\u0275fac=function(V){return new(V||E)(g.Y36(g.SBq),g.Y36(h.j),g.Y36(g.R0b))},E.\u0275dir=g.lG2({type:E,selectors:[["","nvFast1DSpatialNavigation",""]],contentQueries:function(V,c,C){if(1&V&&g.Suo(C,e.N,5),2&V){let l;g.iGM(l=g.CRH())&&(c.items=l)}},inputs:{enableFastNavigation:"enableFastNavigation",orientation:"orientation",containFocus:"containFocus",isRTL:"isRTL"}}),w})()},6955:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>f});var e=t(61699),i=t(62404),L=t(92403);let f=(()=>{var x;class S{get focusableElement(){return this._focusableElement=this.spatialNavigationService.isFocusable(this._elementRef.nativeElement)?this._elementRef.nativeElement:this.focusManager.getFirstFocusableChild(this.elementRef.nativeElement,this.spatialNavigationService.isFocusable.bind(this.spatialNavigationService)),this._focusableElement}get elementRef(){return this._elementRef}constructor(g,h,O){this.focusManager=h,this.spatialNavigationService=O,this._focusableElement=null,this._elementRef=g}focus(g){this.focusManager.navigateTo(this.focusableElement,g)}}return(x=S).\u0275fac=function(g){return new(g||x)(e.Y36(e.SBq),e.Y36(i.I),e.Y36(L.j))},x.\u0275dir=e.lG2({type:x,selectors:[["","nvFastSpatialNavigationItem",""]]}),S})()},529:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>u});var e=t(32484),i=t(13303),L=t(55998),f=t(61699),x=t(62404),S=t(50275);let u=(()=>{var g;class h{get enableFocusBack(){return this._enableFocusBack}set enableFocusBack(E){this._enableFocusBack=(0,L.Ig)(E)}get scrollPosition(){var E;return null===(E=this.scroller)||void 0===E?void 0:E.measureScrollOffset()}constructor(E,w,p){this.elementRef=E,this.focusManager=w,this.scroller=p,this._enableFocusBack=!0,this.destroy$=new e.xQ}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onKeydownEvent(E){this.enableFocusBack&&(E.stopPropagation(),this.focusInitialFocusable())}focusInitialFocusable(){if(this.scroller){const E=this.scroller.elementRef.nativeElement;0===this.scrollPosition?this.focusManager.focusChild(E,"initial"):this.elementScrolledSub||this.scrollThenFocusInitialFocusable(E)}else this.focusManager.focusChild(this.elementRef.nativeElement,"initial")}scrollThenFocusInitialFocusable(E){let w=this.scrollPosition;this.elementScrolledSub=this.scroller.elementScrolled().pipe((0,i.R)(this.destroy$)).subscribe(()=>{0===this.scrollPosition||this.scrollPosition>w?(0===this.scrollPosition&&this.focusManager.focusChild(E,"initial"),this.elementScrolledSub.unsubscribe(),this.elementScrolledSub=void 0):w=this.scrollPosition}),this.scroller.scrollToIndex(0,"auto")}}return(g=h).\u0275fac=function(E){return new(E||g)(f.Y36(f.SBq),f.Y36(x.I),f.Y36(S.N7,8))},g.\u0275dir=f.lG2({type:g,selectors:[["","nvFocusBack",""]],hostBindings:function(E,w){1&E&&f.NdJ("keydown.escape",function(V){return w.onKeydownEvent(V)})},inputs:{enableFocusBack:"enableFocusBack"},exportAs:["nvFocusBack"]}),h})()},81711:(Dt,ct,t)=>{"use strict";t.d(ct,{VP:()=>l});var e=t(61699),i=t(55998),L=t(77869),f=t(97384),x=t(73274),S=t(42586),g=function(o){return o[o.Off=0]="Off",o[o.FocusIn=1]="FocusIn",o[o.On=2]="On",o[o.FocusOut=3]="FocusOut",o}(g||{});const h=["focus"],O=["blur"];function w({rippleRef:o,rectRef:n,targetWidth:s,targetHeight:R,borderWidth:_}){const b=o.nativeElement,I=n.nativeElement,q=function E(o){const n=o.width/2,s=o.height/2;return Math.sqrt(n*n+s*s)}({width:s,height:R});b.style.height=2*q+"px",b.style.width=2*q+"px",I.style.height=R-2*_+"px",I.style.width=s-2*_+"px"}const p={enterDuration:140,exitDuration:140};class C{constructor(n,s,R,_,b,I){this._target=n,this._ngZone=s,this._platform=_,this.borderWidth=b,this.inputModalityService=I,this.eventListeners={},this.focusAnimState=g.Off,this.clearListeners=()=>{var q,a;null===(q=this._currentRippleRef)||void 0===q||q.nativeElement.removeEventListener("transitionend",this.eventListeners.onTransitionEnd),null===(a=this._currentRippleRef)||void 0===a||a.nativeElement.removeEventListener("transitioncancel",this.eventListeners.onTransitionCancel)},_.isBrowser&&(this._containerElement=(0,i.fI)(R))}focusInRipple(n){this.tearDown(),this._containerElement.classList.add("nv-focus-ripple-cta-btn"),this._containerElement.classList.add("focus-green-text");const s=n.animation,R=this.borderWidth,_=this._containerElement.getBoundingClientRect(),b=document.createElement("div");b.classList.add("nv-ripple-center","nv-ripple-element");const I=document.createElement("div");I.classList.add("nv-ripple-center","nv-ripple-rect");const q=new e.SBq(b),a=new e.SBq(I);w({rippleRef:q,rectRef:a,targetWidth:_.width,targetHeight:_.height,borderWidth:R}),I.style.opacity="0.5",b.style.opacity="0",b.style.backgroundColor=n.color,I.style.backgroundColor=n.color,b.style.transitionDuration=`${s.enterDuration}ms`,I.style.transitionDuration=`${s.enterDuration}ms`,this._containerElement.appendChild(b),this._containerElement.appendChild(I),this._containerElement.getBoundingClientRect(),b.style.transform="scale3d(1, 1, 1)",b.style.opacity="0.5",I.style.transform="scale3d(1, 1, 1)",I.style.opacity="1",this.focusAnimState=g.FocusIn,this._currentRippleRef=q,this._currentRectRef=a,this._ngZone.runOutsideAngular(()=>{const y=P=>{"opacity"===P.propertyName&&(this.clearListeners(),this.focusAnimState=g.On,this._currentRectRef.nativeElement.style.border=`${R}px solid ${n.borderColor}`,this.observer=new ResizeObserver(([{borderBoxSize:[{inlineSize:K,blockSize:B}]}])=>{(K!==_.width||B!==_.height)&&w({rippleRef:this._currentRippleRef,rectRef:this._currentRectRef,targetWidth:K,targetHeight:B,borderWidth:R})}),this.observer.observe(this._containerElement))},M=P=>{"opacity"===P.propertyName&&this.tearDown()};this.eventListeners={onTransitionCancel:M,onTransitionEnd:y},this._currentRippleRef.nativeElement.addEventListener("transitionend",y),this._currentRippleRef.nativeElement.addEventListener("transitioncancel",M)})}tearDown(){var n;this.clearListeners(),this._destroyRipples(),null===(n=this.observer)||void 0===n||n.disconnect(),this.observer=null}focusOutRipple(){var n;null===(n=this.observer)||void 0===n||n.disconnect(),this.clearListeners();const s=this._currentRippleRef.nativeElement,R=this._currentRectRef.nativeElement;!R||!s||(R.style.border="none",s.style.transform="scale3d(0, 0, 0)",s.style.opacity="0",R.style.transform="scale3d(0, 0, 0)",R.style.opacity="0.5",this._containerElement.classList.remove("focus-green-text"),this.focusAnimState=g.FocusOut,this._ngZone.runOutsideAngular(()=>{const _=q=>{"opacity"===q.propertyName&&this.tearDown()},b=q=>{_(q)},I=q=>{_(q)};this.eventListeners={onTransitionCancel:I,onTransitionEnd:b},this._currentRippleRef.nativeElement.addEventListener("transitionend",b),this._currentRippleRef.nativeElement.addEventListener("transitioncancel",I)}))}setupTriggerEvents(n){const s=(0,i.fI)(n);!this._platform.isBrowser||!s||s===this._triggerElement||(this.removeTriggerEvents(),this._triggerElement=s,h.forEach(R=>{C._eventManager.addHandler(this._ngZone,R,s,this)}),O.forEach(R=>{C._eventManager.addHandler(this._ngZone,R,s,this)}))}removeTriggerEvents(){const n=this._triggerElement;n&&(h.forEach(s=>C._eventManager.removeHandler(s,n,this)),O.forEach(s=>C._eventManager.removeHandler(s,n,this)))}handleEvent(n){const s=this.inputModalityService.lastFocusOrigin;if("keyboard"===s||"program"===s)if(h.includes(n.type)){if(this.focusAnimState===g.On||this.focusAnimState===g.FocusIn)return;this._onFocusIn()}else if(O.includes(n.type)){if(this.focusAnimState===g.Off||this.focusAnimState===g.FocusOut)return;this._onFocusOut()}}_destroyRipples(){var n,s;this.focusAnimState=g.Off,null===(n=this._currentRippleRef)||void 0===n||null===(n=n.nativeElement)||void 0===n||n.remove(),null===(s=this._currentRectRef)||void 0===s||null===(s=s.nativeElement)||void 0===s||s.remove(),this._currentRippleRef=null,this._currentRectRef=null,this._containerElement.classList.remove("nv-focus-ripple-cta-btn")}_onFocusIn(){const n=this._target.rippleConfig.animation;(n.enterDuration||n.exitDuration)&&this.focusInRipple(this._target.rippleConfig)}_onFocusOut(){const n=this._target.rippleConfig.animation;(n.enterDuration||n.exitDuration)&&this.focusOutRipple()}}C._eventManager=new L.Qz;let l=(()=>{var o;class n{get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(R){this._trigger=R,this._setupTriggerEventsIfEnabled()}get flagEnabled(){return this._flagEnabled}set flagEnabled(R){this._flagEnabled=(0,i.Ig)(R)}get disableRipple(){return!this.focusRippleEnabled||!this._flagEnabled}constructor(R,_,b,I,q){this._elementRef=R,this.animation=p,this.color="#2c3220",this.borderColor="#76b900",this._flagEnabled=!0,this._isInitialized=!1,this.focusRippleEnabled=!!q.focusRippleEnabled,!this.disableRipple&&(this._rippleRenderer=new C(this,_,R,b,null==q?void 0:q.focusRippleBorderWidth,I))}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){var R;null===(R=this._rippleRenderer)||void 0===R||R.removeTriggerEvents()}get rippleConfig(){return{color:this.color,borderColor:this.borderColor,animation:this.animation}}_setupTriggerEventsIfEnabled(){this._isInitialized&&!this.disableRipple&&this._rippleRenderer.setupTriggerEvents(this.trigger)}}return(o=n).\u0275fac=function(R){return new(R||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(x.t4),e.Y36(S.b),e.Y36(f.i,8))},o.\u0275dir=e.lG2({type:o,selectors:[["button","color","accent"],["button","mat-raised-button",""],["button",8,"mat-accent"],["","nvFocusRipple",""]],inputs:{animation:["nvRippleAnimation","animation"],color:["nvRippleColor","color"],borderColor:["nvRippleBorderColor","borderColor"],trigger:["nvRippleTrigger","trigger"],flagEnabled:["nvFocusRipple","flagEnabled"]}}),n})()},38616:(Dt,ct,t)=>{"use strict";t.d(ct,{p:()=>p});var e=t(32484),i=t(93190),L=t(89718),f=t(85046),x=t(15746),S=t(13303),u=t(99901),g=t(46939),h=t(97384),O=t(77869),E=t(61699),w=t(10368);let p=(()=>{var V;class c{constructor(l,o,n,s){var R,_;this.elementRef=l,this.userActivationGuardService=o,this.ngZone=n,this.destroy$=new e.xQ,this.enable=!1,this.enable=!(null==s||null===(R=s.userActivationGuardConfig)||void 0===R||!R.link),this.message=null==s||null===(_=s.userActivationGuardConfig)||void 0===_?void 0:_.linkWarningMessage}ngAfterViewInit(){!this.enable||!this.message||this.ngZone.runOutsideAngular(()=>{(0,i.R)(this.elementRef.nativeElement,"click").pipe((0,f.h)(l=>this.isLink(l.target)),(0,f.h)(l=>!(0,O.Z3)(l)),(0,x.b)(()=>{this.displayWarningMessage()}),(0,S.R)(this.destroy$)).subscribe(l=>{l.preventDefault()})})}isLink(l){return"A"===l.tagName&&l.hasAttribute("href")}displayWarningMessage(){if(this.isWarningDisplayed)return;const l=this.userActivationGuardService.displayWarning(this.message);(0,L.T)(l.afterOpened().pipe((0,u.h)(!0)),l.afterDismissed().pipe((0,u.h)(!1))).pipe((0,g.q)(2),(0,S.R)(this.destroy$)).subscribe(o=>{this.isWarningDisplayed=o})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return(V=c).\u0275fac=function(l){return new(l||V)(E.Y36(E.SBq),E.Y36(w.w),E.Y36(E.R0b),E.Y36(h.i,8))},V.\u0275dir=E.lG2({type:V,selectors:[["","nvHyperLinkGuard",""],["a","href",""],["","innerHTML",""]]}),c})()},78186:(Dt,ct,t)=>{"use strict";t.d(ct,{Yx:()=>O});var e=t(55998),i=t(61699),L=t(50275),f=t(32484),x=t(45083),S=t(47178);class g{constructor(w,p,V){this._scrolledIndexChange=new f.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,x.x)()),this._viewport=null,this._itemOffsets=w,this._minBufferPx=p,this._maxBufferPx=V}attach(w){this._viewport=w,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(w,p,V){if(V<p)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemOffsets=w,this._minBufferPx=p,this._maxBufferPx=V,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(w,p){this._viewport&&this._itemOffsets&&this._itemOffsets.length>=w&&w>=0&&this._viewport.scrollToOffset(this._itemOffsets[w],p)}_updateTotalContentSize(){!this._viewport||!this._itemOffsets||0===this._itemOffsets.length||this._viewport.setTotalContentSize(this._itemOffsets[this._itemOffsets.length-1])}getIndexFromPosition(w){return Math.max(0,(0,S.sortedIndex)(this._itemOffsets,w)-1)}_updateRenderedRange(){if(!this._viewport||!this._itemOffsets||0===this._itemOffsets.length)return;const w=this._viewport.measureScrollOffset(),p=this.getIndexFromPosition(w),V=this._viewport.getRenderedRange(),c={start:V.start,end:V.end},C=this._viewport.getViewportSize(),l=this._viewport.getDataLength();c.start>this._itemOffsets.length&&(c.start=0,c.end=this._itemOffsets.length-1);const o=w-this._itemOffsets[c.start];if(o<this._minBufferPx&&0!==c.start){const n=this.getIndexFromPosition(this._maxBufferPx-o);c.start=Math.max(0,c.start-n),c.end=Math.min(l,Math.ceil(this.getIndexFromPosition(w+C+this._minBufferPx)))}else{const n=this._itemOffsets[c.end]-(w+C);if(n<this._minBufferPx&&c.end!==l){const s=this.getIndexFromPosition(this._maxBufferPx-n);s>0&&(c.end=Math.min(l,c.end+s),c.start=Math.max(0,Math.floor(this.getIndexFromPosition(this._itemOffsets[p]-this._minBufferPx))))}}this._viewport.setRenderedRange(c),this._viewport.setRenderedContentOffset(this._itemOffsets[c.start]),this._scrolledIndexChange.next(Math.floor(p))}}function h(E){return E._scrollStrategy}let O=(()=>{var E;class w{constructor(){this._itemOffsets=[0],this._minBufferPx=200,this._maxBufferPx=300,this._scrollStrategy=new g(this.itemOffsets,this.minBufferPx,this.maxBufferPx)}get itemOffsets(){return this._itemOffsets}set itemOffsets(V){this._itemOffsets=V}get minBufferPx(){return this._minBufferPx}set minBufferPx(V){this._minBufferPx=(0,e.su)(V)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(V){this._maxBufferPx=(0,e.su)(V)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemOffsets,this.minBufferPx,this.maxBufferPx)}}return(E=w).\u0275fac=function(V){return new(V||E)},E.\u0275dir=i.lG2({type:E,selectors:[["cdk-virtual-scroll-viewport","itemOffsets",""]],inputs:{itemOffsets:"itemOffsets",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i._Bn([{provide:L.yU,useFactory:h,deps:[(0,i.Gpc)(()=>E)]}]),i.TTD]}),w})()},27037:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>I});var e=t(70462),i=t(32484),L=t(17827),f=t(51192),x=t(89718),S=t(93190),u=t(85046),g=t(13303),h=t(31868),O=t(77869),E=t(39614),w=t(55998),p=t(97384),V=t(81906),c=t(61699),C=t(92403),l=t(62404),o=t(93170),n=t(13963),s=t(50275);let I=(()=>{var q;class a{get enableLongPressScroll(){return this._enableLongPressScroll}set enableLongPressScroll(M){this._enableLongPressScroll=(0,w.Ig)(M)}get repositionFocus(){return this._repositionFocus}set repositionFocus(M){this._repositionFocus=(0,w.Ig)(M)}get fixFocusAtScroller(){return this._fixFocusAtScroller}set fixFocusAtScroller(M){this._fixFocusAtScroller=(0,w.Ig)(M)}set scrollerElement(M){this._scrollerElement=M}get scrollerElement(){var M;return null!==(M=this._scrollerElement)&&void 0!==M&&M.isConnected||(this.scrollerElement=this.virtualScrollViewport?this.virtualScrollViewport.getElementRef().nativeElement:(0,V.J)(this.elementRef.nativeElement)),this._scrollerElement}constructor(M,P,K,B,j,tt,ot,F){var U;this.elementRef=M,this.spatialNavigationService=P,this.ngZone=K,this.focusManager=B,this.interactivityChecker=j,this.localeService=tt,this.virtualScrollViewport=ot,this.orientation="horizontal",this._enableLongPressScroll=!0,this._repositionFocus=!1,this._fixFocusAtScroller=!1,this.reachBoundary="remain",this.isScrollingMode=new e.X(!1),this.firstKeydownTime=-1,this.lastKey="",this.destroy$=new i.xQ,this.enabled=!1,this.enabled=!(null==F||null===(U=F.spatialNavigationConfig)||void 0===U||!U.longPressScrolling)}ngAfterViewInit(){!this.enabled||!this.spatialNavigationService.enabled||(this.scrollerElement=this.virtualScrollViewport?this.virtualScrollViewport.getElementRef().nativeElement:(0,V.J)(this.elementRef.nativeElement),this.ngZone.runOutsideAngular(()=>{(0,S.R)(this.elementRef.nativeElement,"keydown",{capture:!0}).pipe((0,u.h)(M=>this.enableLongPressScroll&&this.filterKeyEvent(M)),(0,g.R)(this.destroy$)).subscribe(this.onKeydown.bind(this)),(0,S.R)(this.elementRef.nativeElement,"keyup").pipe((0,u.h)(M=>this.enableLongPressScroll&&this.filterKeyEvent(M)),(0,g.R)(this.destroy$)).subscribe(this.onKeyup.bind(this)),(0,S.R)(this.elementRef.nativeElement,"focusout").pipe((0,u.h)(M=>!this.elementRef.nativeElement.contains(M.relatedTarget))).subscribe(this.clear.bind(this))}))}ngOnDestroy(){this.isScrollingMode.next(!1),this.isScrollingMode.complete(),this.destroy$.next(),this.destroy$.complete()}shouldEnterScrollerMode(M){var P;return!this.isScrollingMode.getValue()&&M.key===this.lastKey&&(new Date).getTime()-this.firstKeydownTime>400&&(null===(P=this.scrollerElement)||void 0===P?void 0:P.isConnected)&&!this.isBoundary((0,h.mD)(M.key))}fixFocusAtScrollerElement(){var M;this.fixFocusAtScroller&&(null!==(M=this.scrollerElement)&&void 0!==M&&M.isConnected||(this.isScrollerFocusable=this.interactivityChecker.isFocusable(this.scrollerElement)),this.isScrollerFocusable||this.scrollerElement.setAttribute("tabindex","-1"),this.scrollerElement.focus())}restoreScrollerElement(){this.fixFocusAtScroller&&(this.isScrollerFocusable||this.scrollerElement.removeAttribute("tabindex"))}onKeydown(M){this.lastKey!==M.key&&(this.firstKeydownTime=(new Date).getTime(),this.lastKey=M.key);const P=(0,h.mD)(M.key);this.shouldEnterScrollerMode(M)&&(this.isScrollingMode.next(!0),this.lastFocusPoint=document.activeElement.getBoundingClientRect(),this.fixFocusAtScrollerElement(),this.doScrolling(P)),this.isScrollingMode.getValue()&&(M.preventDefault(),M.stopPropagation())}clear(){this.firstKeydownTime=-1,this.lastKey=""}onKeyup(){this.clear()}onScrollerKeydown(M){M.preventDefault(),M.stopPropagation()}onScrollerKeyUp(M){if(this.isScrollingMode.getValue()){const P=(0,h.mD)(M.key);setTimeout(()=>{document.activeElement===this.scrollerElement&&this.repositionFocusFrom((0,h.dZ)(P)),this.leaveScrollingMode()})}}getStartingPoint(M){let P=this.lastFocusPoint.left+this.lastFocusPoint.width/2,K=this.lastFocusPoint.top+this.lastFocusPoint.height/2;const B=this.scrollerElement.getBoundingClientRect();switch(M){case"up":K=B.y;break;case"down":K=B.bottom;break;case"left":P=B.x;break;case"right":P=B.right}return{x:P,y:K}}repositionFocusFrom(M){if(!this.repositionFocus)return;const{x:P,y:K}=this.getStartingPoint(M);this.spatialNavigationService.setStartingPointAt(P,K);const B=this.scrollerElement.spatialNavigationSearch(M);B&&this.focusManager.navigateTo(B,M,{preventScroll:!0}),this.lastFocusPoint=void 0}filterKeyEvent(M){return"horizontal"===this.orientation?M.key===O.WH.ArrowLeft||M.key===O.WH.ArrowRight:"vertical"===this.orientation&&(M.key===O.WH.ArrowUp||M.key===O.WH.ArrowDown)}isBoundary(M){switch(M){case"up":return 0===this.scrollerElement.scrollTop;case"down":return this.scrollerElement.scrollTop+this.scrollerElement.clientHeight>=this.scrollerElement.scrollHeight;case"left":return this.localeService.isRTLLayoutEnabled?this.scrollerElement.scrollLeft-this.scrollerElement.clientWidth<=-this.scrollerElement.scrollWidth:0===this.scrollerElement.scrollLeft;case"right":return this.localeService.isRTLLayoutEnabled?0===this.scrollerElement.scrollLeft:this.scrollerElement.scrollLeft+this.scrollerElement.clientWidth>=this.scrollerElement.scrollWidth}}doScrolling(M){this.ngZone.runOutsideAngular(()=>{const P=(0,L.F)(0,f.Z).pipe((0,g.R)((0,x.T)(this.destroy$,this.isScrollingMode.pipe((0,u.h)(K=>!K))))).subscribe(K=>{this.isBoundary(M)?(this.repositionFocusFrom((0,h.dZ)(M)),"end"===this.reachBoundary&&this.leaveScrollingMode(),P.unsubscribe()):this.scroll(K,M)});(0,S.R)(this.scrollerElement,"keydown",{capture:!0}).pipe((0,g.R)((0,x.T)(this.destroy$,this.isScrollingMode.pipe((0,u.h)(K=>!K))))).subscribe(this.onScrollerKeydown.bind(this)),(0,S.R)(this.scrollerElement,"keyup").pipe((0,g.R)((0,x.T)(this.destroy$,this.isScrollingMode.pipe((0,u.h)(K=>!K))))).subscribe(this.onScrollerKeyUp.bind(this))})}scroll(M,P){const B=(M<150?(0,E.N1)(M/150):1)*this.getScrollAmount(P);switch(P){case"up":case"down":this.scrollerElement.scrollTop+=B;break;case"left":case"right":this.scrollerElement.scrollLeft+=B}}getScrollAmount(M){return"up"===M||"left"===M?-64:64}leaveScrollingMode(){this.isScrollingMode.next(!1),this.clear(),this.restoreScrollerElement()}}return(q=a).\u0275fac=function(M){return new(M||q)(c.Y36(c.SBq),c.Y36(C.j),c.Y36(c.R0b),c.Y36(l.I),c.Y36(o.ic),c.Y36(n.OL),c.Y36(s.N7,8),c.Y36(p.i,8))},q.\u0275dir=c.lG2({type:q,selectors:[["","nvLongPressScroller",""]],inputs:{orientation:"orientation",enableLongPressScroll:"enableLongPressScroll",repositionFocus:"repositionFocus",fixFocusAtScroller:"fixFocusAtScroller",reachBoundary:"reachBoundary"}}),a})()},11752:(Dt,ct,t)=>{"use strict";t.d(ct,{S:()=>x});var e=t(55998),i=t(97384),L=t(61699),f=t(60702);let x=(()=>{var S;class u{get disabled(){return this.tooltip.disabled}set disabled(h){this.tooltip.disabled=(0,e.Ig)(h)||this.shouldDisableTooltip}constructor(h,O){this.tooltip=O,this.shouldDisableTooltip=!1,this.shouldDisableTooltip=!(null==h||!h.mobileMode)||!(null==h||!h.tvMode)}ngOnInit(){this.shouldDisableTooltip&&(this.tooltip.disabled=!0)}}return(S=u).\u0275fac=function(h){return new(h||S)(L.Y36(i.i,8),L.Y36(f.gM))},S.\u0275dir=L.lG2({type:S,selectors:[["","matTooltip","","nvTooltipDisabled",""],["","matTooltip","","nvDisableTooltipIfNeeded","",3,"matTooltipDisabled",""]],inputs:{disabled:["nvTooltipDisabled","disabled"]}}),u})()},6099:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>L});var e=t(55998),i=t(61699);let L=(()=>{var f;class x{get enabled(){return this._enabled}set enabled(u){this._enabled=(0,e.Ig)(u)}constructor(u,g){this.el=u,this.renderer=g}setBackgroundStyles(){this.renderer.setStyle(this.el.nativeElement,"background",`url("${this.imageUrl}") 0% 0% / cover no-repeat black`)}removeBackgroundStyles(){["background","background-color","background-repeat","background-size"].forEach(u=>{this.renderer.removeStyle(this.el.nativeElement,u)})}ngOnChanges(u){var g,h,O,E;null!==(g=u.imageUrl)&&void 0!==g&&g.currentValue&&(null===(h=u.imageUrl)||void 0===h?void 0:h.currentValue)!==(null===(O=u.imageUrl)||void 0===O?void 0:O.previousValue)&&this.enabled&&this.setBackgroundStyles(),(null===(E=u.imageUrl)||void 0===E||!E.currentValue||!this.enabled)&&this.removeBackgroundStyles()}}return(f=x).\u0275fac=function(u){return new(u||f)(i.Y36(i.SBq),i.Y36(i.Qsj))},f.\u0275dir=i.lG2({type:f,selectors:[["","nvHigBackgroundImageOverlay",""]],inputs:{imageUrl:"imageUrl",enabled:["nvHigBackgroundImageOverlay","enabled"]},features:[i.TTD]}),x})()},81337:(Dt,ct,t)=>{"use strict";t.d(ct,{Q5:()=>y,TN:()=>q,WS:()=>_,jB:()=>a,jf:()=>b,n3:()=>I,wh:()=>R,xZ:()=>n,zU:()=>s});var e=t(61699),i=t(32484),L=t(93190),f=t(56293),x=t(13303),S=t(85046),u=t(77869),g=t(92106),h=t(64650),O=t(15550),E=t(10257),w=t(96355),p=t(10662),V=t(92403),c=t(52098),C=t(38940),l=t(95787),o=t(60989);let n=(()=>{var M;class P{constructor(B,j,tt,ot){this.el=B,this.radio=j,this.slide=tt,this.check=ot}keydownEvent(B){var j,tt,ot,F,U,z;const Q=null!==(j=null!==(tt=null!==(ot=null===(F=this.radio)||void 0===F||null===(F=F._inputElement)||void 0===F?void 0:F.nativeElement)&&void 0!==ot?ot:null===(U=this.slide)||void 0===U?void 0:U._inputElement.nativeElement)&&void 0!==tt?tt:null===(z=this.check)||void 0===z?void 0:z._inputElement.nativeElement)&&void 0!==j?j:this.el.nativeElement;B.target===Q&&("Enter"===B.key||" "===B.key)&&(this.radio?this.radio._onInputInteraction(B):this.slide?(this.slide._inputElement.nativeElement.checked=!this.slide.checked,this.slide._onChangeEvent(B)):this.check?this.check._onInputClick(B):this.el.nativeElement.click(),B.preventDefault(),B.stopPropagation())}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(e.SBq),e.Y36(g.U0,8),e.Y36(h.iZ,8),e.Y36(O.FC,8))},M.\u0275dir=e.lG2({type:M,selectors:[["","nvAddKeyboardActivate",""],["mat-slide-toggle"],["mat-radio-button"],["mat-checkbox"],["a",3,"href",""]],hostBindings:function(B,j){1&B&&e.NdJ("keydown",function(ot){return j.keydownEvent(ot)})}}),P})(),s=(()=>{var M;class P{constructor(B){this.matOption=B,this.optionClicked=new e.vpe,this.onClick=j=>{this.optionClicked.emit(j)}}ngAfterViewInit(){this.matOption._getHostElement().addEventListener("click",this.onClick,{capture:!0})}ngOnDestroy(){this.matOption._getHostElement().removeEventListener("click",this.onClick,{capture:!0})}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(E.ey))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-option","nvMapOptionNoSelect",""]],outputs:{optionClicked:"optionClicked"}}),P})(),R=(()=>{var M;class P{constructor(B){this.select=B}ngAfterViewInit(){this.select&&setTimeout(()=>{const B=this.select._handleKeydown.bind(this.select);this.select._handleKeydown=j=>{if((0,u.wN)(j)&&this.select.panelOpen)j.stopPropagation(),this.select.close();else if("ArrowLeft"!==j.key&&"ArrowRight"!==j.key||!this.select.panelOpen){if(this.select.panelOpen||"Enter"===j.key||" "===j.key){if(this.select.panelOpen&&"Enter"===j.key&&this.select._keyManager.activeItem._getHostElement().hasAttribute("nvMapOptionNoSelect"))return void this.select._keyManager.activeItem._getHostElement().click();B(j)}}else j.stopPropagation(),j.preventDefault()}},150)}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(w.gD))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-select","nvMatSelectKeyboardFixup",""]]}),P})(),_=(()=>{var M;class P{constructor(B){this.menu=B}ngAfterViewInit(){if(!this.menu||!this.menuTrigger)return;const B=this.menu._handleKeydown.bind(this.menu);this.menu._handleKeydown=j=>{(0,u.wN)(j)&&this.menuTrigger.menuOpen?(j.stopPropagation(),this.menuTrigger.closeMenu()):B(j)}}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(p.W0))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-menu","nvMatMenuKeyboardFixup","","menuTrigger",""]],inputs:{menuTrigger:"menuTrigger"}}),P})(),b=(()=>{var M;class P{constructor(B,j){this.menu=B,this.spatialNavigationService=j}ngAfterViewInit(){if(!this.menu||!this.spatialNavigationService.enabled)return;const B=this.menu._handleKeydown.bind(this.menu);this.menu._handleKeydown=j=>{"ArrowLeft"===j.key||"ArrowRight"===j.key?j.preventDefault():B(j)}}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(p.W0),e.Y36(V.j))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-menu","nvMatMenuFocusFixup",""]]}),P})(),I=(()=>{var M;class P{constructor(B){this.slider=B}ngAfterViewInit(){this.slider&&setTimeout(()=>{const B=this.slider._onKeydown.bind(this.slider);this.slider._onKeydown=j=>{"ArrowUp"!==j.key&&"ArrowDown"!==j.key&&B(j)}},150)}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(c.ST))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-slider","nvMatSliderKeyboardFixup",""]]}),P})(),q=(()=>{var M;class P{constructor(B){this.chipList=B}ngAfterViewInit(){this.chipList&&setTimeout(()=>{const B=this.chipList._keydown.bind(this.chipList);this.chipList._keydown=j=>{"ArrowUp"!==j.key&&"ArrowDown"!==j.key&&"ArrowLeft"!==j.key&&"ArrowRight"!==j.key&&B(j)}},150)}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(C.ir))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-chip-list","nvMatChipListKeyboardFixup",""]]}),P})(),a=(()=>{var M;class P{constructor(B){this.panelHeader=B}ngAfterViewInit(){this.panelHeader&&setTimeout(()=>{const B=this.panelHeader._keydown.bind(this.panelHeader);this.panelHeader._keydown=j=>{"ArrowUp"!==j.key&&"ArrowDown"!==j.key&&"ArrowLeft"!==j.key&&"ArrowRight"!==j.key&&B(j)}},150)}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(l.yz))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-expansion-panel-header","nvMatExpansionPanelHeaderKeyboardFixup",""]]}),P})(),y=(()=>{var M;class P{constructor(B,j,tt){this.tabGroup=B,this.ngZone=j,this.spatialNavigationService=tt,this.destroy$=new i.xQ}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.ngZone.runOutsideAngular(()=>{var B;null!==(B=this.tabGroup)&&void 0!==B&&null!==(B=B._elementRef)&&void 0!==B&&B.nativeElement&&(this.updateAllTabIndex(),this.observeTabIndexChanged$().pipe((0,x.R)(this.destroy$)).subscribe(j=>{const tt=j.target;"-1"===tt.getAttribute("tabindex")&&this.updateTabIndex(tt)}),(0,L.R)(this.tabGroup._elementRef.nativeElement,"keydown",{capture:!0}).pipe((0,S.h)(j=>"ArrowDown"===j.key||"ArrowUp"===j.key||"ArrowRight"===j.key||"ArrowLeft"===j.key),(0,x.R)(this.destroy$)).subscribe(j=>{switch(j.stopPropagation(),j.key){case"ArrowDown":this.spatialNavigationService.navigate("down");break;case"ArrowUp":this.spatialNavigationService.navigate("up");break;case"ArrowLeft":this.spatialNavigationService.navigate("left");break;case"ArrowRight":this.spatialNavigationService.navigate("right")}}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateAllTabIndex(){this.tabGroup._elementRef.nativeElement.querySelectorAll("[tabindex='-1']").forEach(this.updateTabIndex)}observeTabIndexChanged$(){return new f.y(B=>{const j=new MutationObserver(tt=>{tt.forEach(ot=>{B.next(ot)})});return j.observe(this.tabGroup._elementRef.nativeElement,{attributes:!0,subtree:!0,attributeFilter:["tabindex"]}),()=>{j.disconnect()}})}updateTabIndex(B){B.setAttribute("tabindex","0")}}return(M=P).\u0275fac=function(B){return new(B||M)(e.Y36(o.SP),e.Y36(e.R0b),e.Y36(V.j))},M.\u0275dir=e.lG2({type:M,selectors:[["mat-tab-group","nvMatTabGroupFixUp",""]]}),P})()},79550:(Dt,ct,t)=>{"use strict";t.d(ct,{t:()=>f});var e=t(61699),i=t(92106),L=t(92403);let f=(()=>{var x;class S{constructor(g,h){this.radio=g,this.spatialNavigationService=h}ngAfterViewInit(){if(this.spatialNavigationService.enabled&&this.radio._elementRef.nativeElement){const g=this.radio._inputElement.nativeElement.setAttribute.bind(this.radio._inputElement.nativeElement);this.radio._inputElement.nativeElement.setAttribute=(h,O)=>{g(h,"tabindex"===h?0:O)}}}}return(x=S).\u0275fac=function(g){return new(g||x)(e.Y36(i.U0),e.Y36(L.j))},x.\u0275dir=e.lG2({type:x,selectors:[["mat-radio-button","nvMatRadioSpatialNavigationFixup",""]]}),S})()},87251:(Dt,ct,t)=>{"use strict";t.d(ct,{E:()=>L});var e=t(61699),i=t(79565);let L=(()=>{var f;class x{constructor(u){this.offDeviceLinkService=u}onClick(u){const g=u.target;this.offDeviceLinkService.enabled&&g instanceof HTMLAnchorElement&&g.href&&(u.preventDefault(),this.offDeviceLinkService.open(g.href,{shortUrl:this.shortUrl}))}}return(f=x).\u0275fac=function(u){return new(u||f)(e.Y36(i.q))},f.\u0275dir=e.lG2({type:f,selectors:[["","nvOffDeviceLink",""],["a","href",""],["","innerHTML",""]],hostBindings:function(u,g){1&u&&e.NdJ("click",function(O){return g.onClick(O)})},inputs:{shortUrl:"shortUrl"}}),x})()},422:(Dt,ct,t)=>{"use strict";t.d(ct,{W:()=>x});var e=t(49003),i=t(89777),L=t(61699),f=t(13963);let x=(()=>{var S;class u{constructor(h,O,E){this.viewcontainerRef=h,this.renderer=O,this.diameter=e.QL,this.spinnerComponentNativeElement=null,this.logger=E.getLogger("nvProgressCircularDirective")}ngOnChanges(h){h&&h.isVisible&&h.isVisible.currentValue!==h.isVisible.previousValue&&(h.isVisible.currentValue?this.createSpinner():this.destroySpinner())}ngOnDestroy(){this.destroySpinner()}createSpinner(){this.spinnerComponentRef=this.viewcontainerRef.createComponent(i.A),this.spinnerComponentNativeElement=this.spinnerComponentRef.injector.get(i.A).viewRef.element.nativeElement,this.renderer.appendChild(this.viewcontainerRef.element.nativeElement,this.spinnerComponentNativeElement)}destroySpinner(){this.spinnerComponentNativeElement&&this.renderer.removeChild(this.viewcontainerRef.element.nativeElement,this.spinnerComponentNativeElement),this.spinnerComponentRef&&this.spinnerComponentRef.destroy(),this.spinnerComponentNativeElement=null}}return(S=u).\u0275fac=function(h){return new(h||S)(L.Y36(L.s_b),L.Y36(L.Qsj),L.Y36(f.ed))},S.\u0275dir=L.lG2({type:S,selectors:[["","nvProgressCircular",""]],inputs:{isVisible:"isVisible",diameter:"diameter"},features:[L.TTD]}),u})()},75889:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>S,b:()=>u});var e=t(55998),i=t(61699),L=t(92403),f=t(62404),x=t(13963);let S=(()=>{var g;class h{get containFocus(){return this._containFocus}set containFocus(E){this._containFocus=Array.isArray(E)?E.slice():(0,e.Ig)(E)}get captureFocusForChild(){return this._captureFocusForChild}set captureFocusForChild(E){this._captureFocusForChild=(0,e.Ig)(E),this.updateTabIndex()}get autoDisableCaptureIfNoChild(){return this._autoDisableCaptureIfNoChild}set autoDisableCaptureIfNoChild(E){this._autoDisableCaptureIfNoChild=(0,e.Ig)(E)}get enableSmoothScrolling(){return this._enableSmoothScrolling}set enableSmoothScrolling(E){this._enableSmoothScrolling=(0,e.Ig)(E)}constructor(E,w,p,V,c){this.element=E,this.spatialNavigationService=w,this.focusManager=p,this.ngZone=V,this.navigateFunction="grid",this.navigateAction="auto",this._containFocus=!0,this._captureFocusForChild=!1,this.captureAndTransitFocusPolicy="initial",this._autoDisableCaptureIfNoChild=!1,this._enableSmoothScrolling=!0,this.navBeforeFocus=C=>{if(this.captureFocusForChild){let l=C.target===this.element.nativeElement;if(this.autoDisableCaptureIfNoChild&&!this.spatialNavigationService.isFocusable(this.element.nativeElement)&&(this.updateTabIndex(),l=l||!this.element.nativeElement.contains(document.activeElement)),!l)return;let o=null;if("closest"===this.captureAndTransitFocusPolicy){const n=document.activeElement===document.body?this.element.nativeElement:document.activeElement;o=this.spatialNavigationService.getClosestChild(n,this.element.nativeElement,C.detail.dir)}else{const n=this.spatialNavigationService.isFocusable.bind(this.spatialNavigationService);o="first"===this.captureAndTransitFocusPolicy?this.focusManager.getFirstFocusableChild(this.element.nativeElement,n):this.focusManager.getInitialFocusable(this.element.nativeElement,n)}if(!o||o===this.element.nativeElement){let n="";o?o===this.element.nativeElement&&(n=`focus is on the container, container=${this.element.nativeElement.tagName}, containerClass=${this.element.nativeElement.className}`):n="target not found",this.logger.info(`possible focus lost. reason=${n}`)}C.preventDefault(),C.stopPropagation(),o&&o!==this.element.nativeElement?this.focusManager.navigateTo(o,C.detail.dir):this.autoDisableCaptureIfNoChild&&(this.updateTabIndex(),this.spatialNavigationService.navigate(C.detail.dir))}},this.navNoTarget=C=>{this.spatialNavigationService.shouldContainFocus(C.detail.dir,this.containFocus)&&C.target===this.element.nativeElement&&C.preventDefault()},this.logger=c.getLogger("SpatialNavigationContainer")}ngAfterContentInit(){this.spatialNavigationService.enabled&&this.spatialNavigationService.setNavigationContainerCssStyles(this.element.nativeElement,this.navigateFunction,this.navigateAction,this.enableSmoothScrolling)}ngAfterViewInit(){this.spatialNavigationService.enabled&&(this.ngZone.runOutsideAngular(()=>{this.element.nativeElement.addEventListener("navbeforefocus",this.navBeforeFocus),this.element.nativeElement.addEventListener("navnotarget",this.navNoTarget)}),this.updateTabIndex())}ngOnDestroy(){this.spatialNavigationService.enabled&&(this.element.nativeElement.removeEventListener("navbeforefocus",this.navBeforeFocus),this.element.nativeElement.removeEventListener("navnotarget",this.navNoTarget))}updateTabIndex(){if(this.element){const E=this.captureFocusForChild&&this.autoDisableCaptureIfNoChild?!!this.focusManager.getInitialFocusable(this.element.nativeElement,this.spatialNavigationService.isFocusable.bind(this.spatialNavigationService)):this.captureFocusForChild;this.element.nativeElement.tabIndex=E?0:-1}}}return(g=h).\u0275fac=function(E){return new(E||g)(i.Y36(i.SBq),i.Y36(L.j),i.Y36(f.I),i.Y36(i.R0b),i.Y36(x.ed))},g.\u0275dir=i.lG2({type:g,selectors:[["","nvSpatialNavigationContainer",""]],inputs:{navigateFunction:"navigateFunction",navigateAction:"navigateAction",containFocus:"containFocus",captureFocusForChild:"captureFocusForChild",captureAndTransitFocusPolicy:"captureAndTransitFocusPolicy",autoDisableCaptureIfNoChild:"autoDisableCaptureIfNoChild",enableSmoothScrolling:"enableSmoothScrolling"}}),h})(),u=(()=>{var g;class h{get enableSmoothScrolling(){return this._enableSmoothScrolling}set enableSmoothScrolling(E){this._enableSmoothScrolling=(0,e.Ig)(E)}constructor(E,w){this.element=E,this.spatialNavigationService=w,this.navigateFunction="grid",this.navigateAction="auto",this._enableSmoothScrolling=!0}ngAfterContentInit(){this.spatialNavigationService.enabled&&this.spatialNavigationService.setNavigationContainerCssStyles(this.element.nativeElement,this.navigateFunction,this.navigateAction,this.enableSmoothScrolling)}}return(g=h).\u0275fac=function(E){return new(E||g)(i.Y36(i.SBq),i.Y36(L.j))},g.\u0275dir=i.lG2({type:g,selectors:[["","nvSpatialNavigationGroup",""]],inputs:{navigateFunction:"navigateFunction",navigateAction:"navigateAction",enableSmoothScrolling:"enableSmoothScrolling"}}),h})()},17849:(Dt,ct,t)=>{"use strict";t.d(ct,{J:()=>u});var e=t(17340),i=t(81906),L=t(61699),f=t(92403),x=t(13963),S=t(62404);let u=(()=>{var g;class h extends e.e{get scrollOrientation(){return this.orientation}set scrollOrientation(E){if("horizontal"!==E&&"vertical"!==E)throw new Error("Invalid scroll orientation: "+E);this.orientation=E}get scrollerElement(){var E;return null!==(E=this._scrollerElement)&&void 0!==E&&E.isConnected||(this._scrollerElement=this.getScrollerElement()),this._scrollerElement}constructor(E,w,p,V,c,C){super(w,E,p,V,c,C)}ngAfterViewInit(){super.ngAfterViewInit(),this._scrollerElement=this.getScrollerElement()}getScrollerElement(){return this.scroller||(0,i.J)(this.elementRef.nativeElement)}refreshScrollerElement(){this._scrollerElement=this.getScrollerElement()}}return(g=h).\u0275fac=function(E){return new(E||g)(L.Y36(L.SBq),L.Y36(f.j),L.Y36(x.OL),L.Y36(S.I),L.Y36(x.ed),L.Y36(L.R0b))},g.\u0275dir=L.lG2({type:g,selectors:[["","nvSpatialNavigationFocusThenScroll",""]],inputs:{scroller:"scroller",scrollOrientation:"scrollOrientation"},features:[L.qOj]}),h})()},80774:(Dt,ct,t)=>{"use strict";t.d(ct,{l:()=>o});var e=t(32484),i=t(93190),L=t(38096),f=t(85046),x=t(13303),S=t(90786),u=t(31868),g=t(81906),h=t(69965),O=t(39614),E=t(55998),w=t(77869),p=t(61699),V=t(62404),c=t(50275),C=function(n){return n[n.Start=0]="Start",n[n.End=1]="End",n}(C||{});let o=(()=>{var n;class s{get enableScrollSnap(){return this._enableScrollSnap}set enableScrollSnap(_){this._enableScrollSnap=(0,E.Ig)(_)}get scrollerElement(){var _;return this.cdkVirtualScrollViewport?this.cdkVirtualScrollViewport.getElementRef().nativeElement:(null!==(_=this._scrollerElement)&&void 0!==_&&_.isConnected||(this._scrollerElement=(0,g.J)(this.elementRef.nativeElement)),this._scrollerElement)}get isScrolling(){var _;return!(!this.scrollingSubscription||null!==(_=this.scrollingSubscription)&&void 0!==_&&_.closed)}constructor(_,b,I,q,a){this.elementRef=_,this.ngZone=b,this.focusManager=I,this.spatialNavigationService=q,this.cdkVirtualScrollViewport=a,this._enableScrollSnap=!1,this.orientation="horizontal",this.containerPadding=0,this.blockSize=0,this.blockPadding=0,this.blockIndexStart="first",this.blockIndexEnd="last",this.alignmentPolicy="default",this.isRTL=!1,this.destroyed$=new e.xQ}ngAfterViewInit(){this.spatialNavigationService.enabled&&(this.refreshScrollerElement(),this.ngZone.runOutsideAngular(()=>{(0,i.R)(this.elementRef.nativeElement,"navbeforefocus").pipe((0,f.h)(_=>this.enableScrollSnap&&this.isValidOrientation(_)&&!!this.scrollerElement&&this.shouldScroll(_)),(0,x.R)(this.destroyed$)).subscribe(this.navBeforeFocus.bind(this))}))}refreshScrollerElement(){this.cdkVirtualScrollViewport||(this._scrollerElement=(0,g.J)(this.elementRef.nativeElement))}isValidOrientation(_){return"horizontal"===this.orientation?(0,u.kQ)(_.detail.dir):(0,u.bc)(_.detail.dir)}navBeforeFocus(_){let b;_.preventDefault(),_.stopPropagation(),b="horizontal"===this.orientation?this.isRTL?"left"===_.detail.dir?C.End:C.Start:"left"===_.detail.dir?C.Start:C.End:"up"===_.detail.dir?C.Start:C.End;const I=this.getKeylineCoordinateOf(b),q=_.target.getBoundingClientRect();let a=this.scrollerElement.scrollLeft,y=this.scrollerElement.scrollTop;"horizontal"===this.orientation?a+=(this.isRTL?q.right:q.left)-I:y+=q.y-I,this.isScrolling&&(this.scrollingSubscription.unsubscribe(),this.scrollingSubscription=void 0);const M=new h.p(this.scrollerElement,a,y,{easingFunction:O.w2,duration:200,rtlEnabled:this.isRTL});(0,w.An)(this.elementRef.nativeElement,(0,u.jq)(_.detail.dir)).pipe((0,x.R)((0,L.S3)(M.onScrollEnd(),this.destroyed$))).subscribe(),this.scrollingSubscription=M.start().pipe((0,S.x)(()=>{this.scrollingSubscription=void 0}),(0,x.R)(this.destroyed$)).subscribe(),this.focusManager.focusViaLastOrigin(_.target,{preventScroll:!0})}getIndex(_,b,I,q,a){if(a<=0)throw new Error(`block size should be greater than 0. current block size is ${a}`);if("number"==typeof _)return _;if("first"===_)return 0;if("last"===_){const y="horizontal"===I?b.width:b.height;return y-q<=a?0:Math.floor((y-q)/a)-1}}getKeylineCoordinateOf(_){const b=this.scrollerElement.getBoundingClientRect(),q=this.computeKeyLineCoordinate(_===C.Start?this.blockIndexStart:this.blockIndexEnd,b,this.orientation,this.blockSize,this.containerPadding,this.blockPadding);return"horizontal"===this.orientation&&this.isRTL?b.width-q:q}computeKeyLineCoordinate(_,b,I,q,a,y){return("horizontal"===I?b.x:b.y)+a+q*this.getIndex(_,b,I,a,q)+y}shouldScroll(_){return"always"===this.alignmentPolicy||this.outOfViewport(_.detail.dir,_.target)}outOfViewport(_,b){const I=b.getBoundingClientRect(),q=this.scrollerElement.getBoundingClientRect();switch(_){case"up":return I.top<q.top;case"down":return I.bottom>q.bottom;case"left":return I.left<q.left;case"right":return I.right>q.right;default:throw new Error(`${_} is not a valid spatial navigation direction.`)}}getAlignmentBlockSize(_,b){var I,q,a,y,M;if(!this.scrollerElement)return 0;const P=this.scrollerElement.getBoundingClientRect(),B=null!==(I=null==b?void 0:b.keyBlock)&&void 0!==I?I:this.blockIndexStart,j=null!==(q=null==b?void 0:b.blockSize)&&void 0!==q?q:this.blockSize,tt=null!==(a=null==b?void 0:b.containerPadding)&&void 0!==a?a:this.containerPadding,ot=null!==(y=null==b?void 0:b.blockPadding)&&void 0!==y?y:this.blockPadding,F=null!==(M=null==b?void 0:b.orientation)&&void 0!==M?M:this.orientation;return("horizontal"===this.orientation?P.width:P.height)-this.computeKeyLineCoordinate(B,P,F,j,tt,ot)-_+ot}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return(n=s).\u0275fac=function(_){return new(_||n)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(V.I),p.Y36(u.jr),p.Y36(c.N7,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","nvSpatialNavigationScrollSnap",""]],inputs:{enableScrollSnap:"enableScrollSnap",orientation:"orientation",containerPadding:"containerPadding",blockSize:"blockSize",blockPadding:"blockPadding",blockIndexStart:"blockIndexStart",blockIndexEnd:"blockIndexEnd",alignmentPolicy:"alignmentPolicy",isRTL:"isRTL"}}),s})()},88451:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>u});var e=t(17340),i=t(61699),L=t(50275),f=t(92403),x=t(62404),S=t(13963);let u=(()=>{var g;class h extends e.e{constructor(E,w,p,V,c,C,l){super(w,c,V,p,C,l),this.scroller=E}get orientation(){return this.scroller.orientation}get scrollerElement(){return this.scroller.getElementRef().nativeElement}}return(g=h).\u0275fac=function(E){return new(E||g)(i.Y36(L.N7),i.Y36(f.j),i.Y36(x.I),i.Y36(S.OL),i.Y36(i.SBq),i.Y36(S.ed),i.Y36(i.R0b))},g.\u0275dir=i.lG2({type:g,selectors:[["","nvSpatialNavigationVirtualScroll",""],["cdk-virtual-scroll-viewport","nvSpatialNavigationContainer","","navigateAction","focus"],["cdk-virtual-scroll-viewport","nvSpatialNavigationGroup","","navigateAction","focus"]],features:[i.qOj]}),h})()},79329:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>O});var h,e=t(32484),i=t(49481),L=t(13303),f=t(55998),x=t(61699),S=t(93170),u=t(62404),g=t(92403);class O{get forceEnable(){return this._forceEnable}set forceEnable(w){this._forceEnable=(0,f.Ig)(w)}static get topFocusTrap(){const w=O.focusTraps,p=w.length;return p>0?w[p-1]:void 0}constructor(w,p,V,c){this.focusMonitor=w,this.elementRef=p,this.focusManager=V,this.spatialNavigationService=c,this._forceEnable=!1,this.destroy$=new e.xQ}ngAfterViewInit(){this.elementRef&&(this.forceEnable||this.spatialNavigationService.enabled)&&(this.elementRef.nativeElement.tabIndex=0,O.focusTraps.push(this.elementRef.nativeElement),O.focusTrapsUpdated$.next(),O.focusTrapsUpdated$.asObservable().pipe((0,L.R)(this.destroy$)).subscribe(()=>{const p=this.elementRef.nativeElement;O.topFocusTrap===p?(p.contains(document.activeElement)||this.focusManager.focusViaLastOrigin(p),this.startFocusMonitor(p,document.activeElement)):this.focusMonitor.stopMonitoring(p)}))}ngOnDestroy(){this.elementRef&&this.spatialNavigationService.enabled&&(this.removeFocusTrap(this.elementRef.nativeElement),O.focusTrapsUpdated$.next()),this.destroy$.next(!0),this.destroy$.complete()}startFocusMonitor(w,p){let V=p;this.focusMonitor.monitor(w,!0).pipe((0,L.R)(this.destroy$)).subscribe(c=>{c?V=this.focusManager.currentFocusedElement:setTimeout(()=>{var C;const l=this.focusManager.currentFocusedElement!==document.body||null!==(C=V)&&void 0!==C&&C.isConnected?V:w;this.focusManager.focusViaLastOrigin(l)})})}removeFocusTrap(w){const p=O.focusTraps.indexOf(w);p>-1&&O.focusTraps.splice(p,1)}}(h=O).focusTraps=new Array,h.focusTrapsUpdated$=new i.t(1),h.\u0275fac=function(w){return new(w||h)(x.Y36(S.tE),x.Y36(x.SBq),x.Y36(u.I),x.Y36(g.j))},h.\u0275dir=x.lG2({type:h,selectors:[["","nvTrapFocus",""]],inputs:{forceEnable:"forceEnable"}})},97384:(Dt,ct,t)=>{"use strict";t.d(ct,{i:()=>L});const L=new(t(61699).OlP)("NV_HIG_CONFIG")},22843:(Dt,ct,t)=>{"use strict";t.d(ct,{hp:()=>W});var e=t(26575),i=t(54860),L=t(61699),f=t(32995),x=t(17401),S=t(68740),u=t(86515),g=t(69400),h=t(36480),O=t(43559),E=t(73725),w=t(27947),p=t(50275),V=t(85528),c=t(10481),C=t(89332),l=t(75889),o=t(81337),n=t(28849),s=t(52098),R=t(33910),_=t(78654),b=t(15550),I=t(92106),q=t(93170);t(54682);const y=[n.u5,s.XF,R.Cq,_.yu,u.Ps,I.Fk,b.Zh,S._r,x.Is,q.rt];let M=(()=>{var A;class d{}return(A=d).\u0275fac=function($){return new($||A)},A.\u0275mod=L.oAB({type:A}),A.\u0275inj=L.cJS({imports:[y,n.u5,s.XF,R.Cq,_.yu,u.Ps,I.Fk,b.Zh,S._r,x.Is,q.rt]}),d})();var P=t(87251),K=t(79329),B=t(31546),j=t(79550);var ot=t(60702),F=t(38616),U=t(81711),z=t(78128),Q=t(6099),dt=t(45356),X=t(47520),m=t(24565);const N={provide:L.ip1,useFactory:function D(A,d){return()=>function Y(A,d){return A.addSvgIconSetLiteral(d.bypassSecurityTrustHtml('<svg width="0" height="0" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><clipPath id="clip0_10669_139213"><path d="M0 0h32v32H0z"/></clipPath></defs><symbol id="account_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2a7.2 7.2 0 0 1-6-3.22c.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"/></symbol><symbol id="account_circle2" viewBox="0 0 80 74"><path d="M40.1 9.833C23.483 9.833 10 23.478 10 40.291a30.72 30.72 0 0 0 6.1 18.396c.16 0 .321-.041.482-.041 1.444-.162 2.809-.487 4.214-.893 1.244-.366 2.568-.65 3.772-1.097a23.448 23.448 0 0 0 3.652-1.787c1.164-.69 1.927-1.584 2.609-2.72.401-.731.762-1.26 1.565-1.544.16-.08.602-.203 1.043-.284v-1.218s-.802-.528-1.284-1.95c-.401-1.218-.642-3.98-.642-3.98s-.401-.121-.602-.202c-1.926-1.015-2.167-3.817-2.448-5.726-.12-.69-.281-1.706.361-2.193.12-.081.241-.163.361-.163-.441-1.218-.722-2.558-.963-3.776-.28-1.503-.762-2.843-.522-4.386.241-1.625 1.084-3.005 1.646-4.508.441-1.096 1.926-2.193 3.17-1.99.642-1.055 1.846-1.827 3.05-2.274a8.166 8.166 0 0 1 3.13-.487c1.445.04 2.73.569 4.134.771a8.482 8.482 0 0 1 2.609.813c.401.203.722.487 1.083.65.402.202.803.365 1.164.65.602.486 1.405 1.218 1.686 1.948.2.528.401.975.762 1.462.201.285.402.488.522.813.923 2.314.803 4.751.682 7.188-.04.974-.08 2.07-.401 3.045.16.04.321.081.481.203.763.569.482 2.924.281 3.736-.28 1.26-.842 2.965-1.284 3.533-.32.488-1.565.894-1.565.894s-.401 3.249-.722 4.183c-.321.934-1.084 1.665-1.084 1.665l-.04 1.258s1.405.203 1.806.731c.361.447.562.528.963.894.401.365.843.73 1.244 1.096.963.934 2.087 1.828 3.411 2.274.602.203 1.244.285 1.806.528.482.203.883.528 1.365.772 1.084.487 2.207.812 3.29 1.34.884.447 1.767.812 2.69 1.137 4.013-5.198 6.42-11.695 6.42-18.802C70.199 23.478 56.715 9.833 40.1 9.833Z"/></symbol><symbol id="add" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></symbol><symbol id="add_square" viewBox="0 0 44 44"><path d="M31.11 8A4.896 4.896 0 0 1 36 12.89v18.22A4.896 4.896 0 0 1 31.11 36H12.89A4.896 4.896 0 0 1 8 31.11V12.89A4.896 4.896 0 0 1 12.89 8h18.22Zm0 1.956H12.89a2.938 2.938 0 0 0-2.934 2.935v18.218a2.938 2.938 0 0 0 2.935 2.935h18.218a2.937 2.937 0 0 0 2.935-2.935V12.891a2.937 2.937 0 0 0-2.935-2.935ZM22 16a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4h-4a1 1 0 0 1 0-2h4v-4a1 1 0 0 1 1-1Z"/></symbol><symbol id="alert_circle" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></symbol><symbol id="analytics" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path fill="none" d="M7 12h2v5H7zm4 2h2v3h-2zm4-7h2v10h-2z"/><path d="M3 3v18h18V3H3zm6 14H7v-5h2v5zm4 0h-2v-3h2v3zm0-5h-2v-2h2v2zm4 5h-2V7h2v10z"/></symbol><symbol id="analytics_off" viewBox="0 0 24 24"><path d="M22.22 22.18 1.81 1.78.4 3.19 3 5.79V21h15.21l2.59 2.59 1.42-1.41ZM9 17H7v-5h2v5Zm4 0h-2v-3h.21L13 15.79V17Zm0-7v.14l2 2V7h2v7.14l4 4V3H5.86l7 7H13Z"/><path d="m17.892 17.846-1.415 1.414 4.335 4.335 1.414-1.414-4.334-4.335Z"/></symbol><symbol id="app" viewBox="0 0 32 32"><path d="M4 28V4h24v24H4Zm2.667-2.667h18.666v-16H6.667v16ZM9.333 16v-2.667h13.334V16H9.333Zm0 5.333v-2.666h8v2.666h-8Z" fill="currentColor"/></symbol><symbol id="arrow_down" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></symbol><symbol id="arrow_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M20 11H7.8l5.6-5.6L12 4l-8 8 8 8 1.4-1.4L7.8 13H20v-2z"/></symbol><symbol id="arrow_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/></symbol><symbol id="arrow_up" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></symbol><symbol id="audio" viewBox="0 0 24 24"><path d="M1 18h6v3H1v-3Zm8 0h6v3H9v-3Zm8 0h6v3h-6v-3ZM1 13h6v3H1v-3Zm8 0h6v3H9v-3Zm8 0h6v3h-6v-3ZM9 8h6v3H9V8Zm8 0h6v3h-6V8ZM9 3h6v3H9V3Z"/></symbol><symbol id="backspace" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"/></symbol><symbol id="bandaid" viewBox="0 0 512 512"><path d="M259.2 304c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm6.4-107.2c0-6.4-4.8-11.2-11.2-11.2s-11.2 4.8-11.2 11.2c0 6.4 4.8 11.2 11.2 11.2 4.8 0 11.2-4.8 11.2-11.2zm22.4 80c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm-91.2-35.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2 0-4.8-4.8-11.2-11.2-11.2zm28.8-27.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm3.2 59.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm88-3.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2zm-32-54.4c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2 0-4.8-4.8-11.2-11.2-11.2zM256 267.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2zm6.4 88-104-104 94.4-94.4 104 104c-32 32-64 62.4-94.4 94.4zm-115.2-96 105.6 105.6-1.6 1.6-46.4 46.4c-17.6 17.6-43.2 17.6-60.8 0-16-14.4-30.4-28.8-44.8-43.2-17.6-17.6-17.6-43.2 0-60.8l46.4-46.4c0-1.6 1.6-3.2 1.6-3.2zm217.6-6.4L259.2 147.2l1.6-1.6 46.4-46.4c17.6-17.6 43.2-17.6 60.8 0 16 14.4 30.4 30.4 46.4 44.8 17.6 17.6 17.6 43.2 0 59.2l-48 48s0 1.6-1.6 1.6z"/></symbol><symbol id="battery_boost" viewBox="0 0 768 768"><path d="M286.68 287.76v64.944l95.52-64.944 96.288 64.944V287.76L382.2 224.352z"/><path d="M286.68 398.376v64.92l95.52-64.92 96.288 64.92v-64.92L382.2 334.968z"/><path d="M286.68 510.504v64.968l95.52-64.968 96.288 64.968v-64.968L382.2 447.096z"/><path d="M383.16 32.328 78.576 208.176v351.672l304.56 175.8 304.536-175.8V208.176L383.16 32.328zm127.152 559.8c0 7.824-6.384 14.232-14.256 14.232H269.808c-7.872 0-14.256-6.408-14.256-14.232v-371.64c0-7.872 6.384-14.232 14.256-14.232h51.984v-45.84h122.28v45.84h51.984c7.872 0 14.256 6.384 14.256 14.232v371.64z"/></symbol><symbol id="battery_charging" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 4h-3V2h-4v2H7v18h10V4zm-6 16v-5.5H9L13 7v5.5h2L11 20z"/></symbol><symbol id="bell" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></symbol><symbol id="blank" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/></symbol><symbol id="broadcast" viewBox="0 0 24 24"><path d="M12 10a2 2 0 0 1 1.53 3.29L16.7 22h-2.13L12 14.93 9.43 22H7.3l3.17-8.71A2 2 0 0 1 12 10zm0-2a4 4 0 0 0-4 4c0 .5.1 1 .28 1.46l-.88 2.4A6.026 6.026 0 0 1 6 12a6 6 0 1 1 12 0c0 1.47-.53 2.81-1.4 3.86l-.88-2.4C15.9 13 16 12.5 16 12a4 4 0 0 0-4-4zm0-4a8 8 0 0 0-8 8c0 2.36 1 4.5 2.64 5.94l-.72 2A10.005 10.005 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 3.23-1.54 6.11-3.92 7.94l-.72-2C19 16.5 20 14.36 20 12a8 8 0 0 0-8-8z"/></symbol><symbol id="browser_disk_drive_removable" viewBox="0 0 24 24"><path d="M2 8v8h20V8H2zm2 5v-2h10v2H4zm14 1c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="browser_diskdrive" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M2 8v8h20V8H2zm16 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="browser_diskdrive_network" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 13V5H3v8h8v3H9v1H3v2h6v1h6v-1h6v-2h-6v-1h-2v-3h8zm-4-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/></symbol><symbol id="browser_nav_up" viewBox="0 0 24 24"><path d="M12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10-4.5 10-10 10zm0-15-5 5h3v4h4v-4h3l-5-5z"/></symbol><symbol id="cancel" viewBox="0 0 16 17"><path d="M8 1.795c3.667 0 6.667 3 6.667 6.666 0 3.667-3 6.667-6.667 6.667s-6.667-3-6.667-6.667c0-3.666 3-6.666 6.667-6.666Zm0 1.333c-1.267 0-2.4.4-3.267 1.133l7.467 7.467c.667-.933 1.133-2.067 1.133-3.267 0-2.933-2.4-5.333-5.333-5.333Zm3.267 9.533L3.8 5.195c-.733.866-1.133 2-1.133 3.266 0 2.934 2.4 5.334 5.333 5.334 1.267 0 2.4-.4 3.267-1.134Z" fill="#fff" fill-opacity=".7"/></symbol><symbol id="carrot_down" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m7 10 5 5 5-5H7z"/></symbol><symbol id="carrot_up" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m7 14 5-5 5 5H7z"/></symbol><symbol id="check" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></symbol><symbol id="check_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></symbol><symbol id="chevron_down" viewBox="0 0 768 768"><path d="M237.12 274.56 384 421.44l146.88-146.88L576 320 384 512 192 320l45.12-45.44z"/></symbol><symbol id="chevron_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></symbol><symbol id="chevron_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></symbol><symbol id="chevron_up" viewBox="0 0 768 768"><path d="M237.12 493.12 384 346.56l146.88 146.56L576 448 384 256 192 448l45.12 45.12z"/></symbol><symbol id="close" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 6.4 17.6 5 12 10.6 6.4 5 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6L19 6.4z"/></symbol><symbol id="cloud_download" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"/></symbol><symbol id="cloud_upload" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></symbol><symbol id="comment" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 2h19.99L22 22l-4-4H2z"/></symbol><symbol id="content_paste" viewBox="0 0 768 768"><path d="M608 640H160V128h64v96h320v-96h64zM384 64c17.673 0 32 14.327 32 32s-14.327 32-32 32c-17.673 0-32-14.327-32-32s14.327-32 32-32zm224 0H474.24C460.8 26.88 425.6 0 384 0s-76.8 26.88-90.24 64H160c-35.346 0-64 28.654-64 64v512c0 35.346 28.654 64 64 64h448c35.346 0 64-28.654 64-64V128c0-35.346-28.654-64-64-64z"/></symbol><symbol id="copy_generic" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M16 1.9v2H4v12H2v-14h14ZM6 6h16v16H6V6Z"/></symbol><symbol id="death" viewBox="0 0 24 24"><path d="M20.85 15.92c-.1-.54-.44-.98-.9-1.22.43-1.37.66-3.13.66-5.34 0-4.03-3.92-7.48-8.73-7.48-4.81 0-8.64 3.33-8.64 7.48 0 2.19.23 3.94.65 5.3-.5.23-.88.69-.98 1.26-.17.94.47 1.84 1.44 2.01l2.32.4c.1.05.19.09.29.13l.53 2.48s1.27.93 4.45.93 4.39-.93 4.39-.93l.54-2.47c.13-.05.25-.1.38-.16l2.17-.38a1.73 1.73 0 0 0 1.43-2.01ZM9.56 14.56c-1.36 1.13-2.95 1.58-3.85.7-.9-.88-.67-2.66.59-3.89s3.23-1.3 4.13-.42c.91.87.46 2.51-.87 3.61Zm3.76 3.33c-.34.38.01-.05-1.43-.05s-.95.48-1.41.03c-.46-.45-.22-1.43-.1-1.8.11-.35.75-1.83 1.52-1.83.76 0 1.36 1.47 1.49 1.83.13.36.31 1.4-.07 1.82Zm4.82-2.64c-.9.88-2.49.43-3.85-.7-1.33-1.1-1.77-2.74-.87-3.62.9-.88 2.87-.81 4.13.42 1.27 1.24 1.5 3.02.59 3.9Z"/></symbol><symbol id="delete" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></symbol><symbol id="delete_forever" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 21h12V7H6v14zm2.46-9.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"/></symbol><symbol id="desktop" viewBox="0 0 24 24"><path d="M14 2h10v20h-2v-2h-6v2h-2V2Zm7 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 2v2h6V8h-6Zm0 4v2h6v-2h-6Zm-4-6v2H2v8h10v2h-2v2h2v2H6v-2h2v-2H0V6h12Z"/></symbol><symbol id="desktop_mac" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9l-2 3v1h8v-1l-2-3h9V2zm-2 12H3V4h18v10z"/></symbol><symbol id="desktop_windows" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9v2H8v2h8v-2h-2v-2h9V2zm-2 14H3V4h18v12z"/></symbol><symbol id="devices" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 6h18V4H2v13H0v3h14v-3H4V6zm20 2h-8v12h8V8zm-2 9h-4v-7h4v7z"/></symbol><symbol id="download" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"/></symbol><symbol id="edit" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z"/></symbol><symbol id="edit_settings" viewBox="0 0 24 24"><path d="M4 20V5.684h8.71L10.554 7.75H6V18h10.356v-4.713l1.993-1.996V20H4Zm4.783-4.772v-3.38l5.72-5.706 3.408 3.34-5.74 5.746H8.783Zm10.264-6.88-3.408-3.34L17.652 3 21 6.4l-1.953 1.949Z"/></symbol><symbol id="epic_games_logo" viewBox="0 0 22 25"><g id="Settings" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M2.615.053H19.42c1.343 0 1.838.507 1.838 1.88v16.58c0 .156 0 1.231-1.054 1.8-.703.378-3.452 1.543-8.248 3.495-.424.199-.628.25-.938.244-.348 0-.479-.047-.943-.244-4.792-2.015-7.54-3.18-8.243-3.496C.777 19.84.828 19.246.797 18.947a4.39 4.39 0 0 1-.02-.434V1.933c0-1.373.496-1.88 1.838-1.88ZM17.998 16.95l.003-.04v-.089l-.003-.04-.004-.037-.015-.074-.008-.033-.01-.034-.012-.033-.015-.03-.019-.033-.019-.03-.022-.032-.022-.03-.027-.026-.026-.03-.03-.025-.03-.026-.03-.019-.03-.022-.03-.018-.033-.019-.034-.018-.037-.019-.038-.015-.037-.019-.041-.014-.034-.01-.034-.012-.037-.01-.034-.012-.037-.011-.037-.011-.038-.008-.041-.01-.038-.012-.04-.007-.042-.011-.041-.011-.041-.012-.038-.007-.033-.011-.034-.007-.03-.012-.03-.007-.045-.014-.041-.016-.037-.014-.03-.019-.034-.018-.026-.026-.016-.022-.018-.04-.004-.049v-.007l.004-.037.015-.033.022-.034.034-.03.026-.014.03-.015.034-.007.038-.008.04-.007h.083l.033.004.038.003.037.004.038.008.037.007.038.007.037.011.038.012.04.01.03.015.034.012.03.014.034.015.03.015.034.015.03.018.033.015.03.022.03.019.033.018.03.022.023-.03.019-.029.022-.03.023-.029.022-.033.019-.03.022-.03.023-.029.018-.03.023-.03.022-.029.02-.029.021-.034.023-.029.022-.03.019-.03.023-.029-.03-.022-.03-.022-.03-.022-.03-.019-.034-.022-.03-.018-.033-.019-.034-.018-.03-.015-.034-.019-.037-.014-.034-.015-.034-.015-.033-.01-.038-.016-.033-.007-.034-.011-.038-.011-.033-.008-.038-.007-.037-.008-.034-.007-.037-.007-.041-.004-.037-.008-.042-.003h-.037l-.042-.004-.04-.004h-.161l-.075.008-.038.003-.037.004-.034.008-.037.007-.034.007-.034.008-.03.007-.034.011-.037.015-.037.01-.034.016-.033.019-.034.014-.034.019-.03.018-.03.022-.03.023-.026.018-.03.026-.026.03-.026.025-.026.03-.023.03-.022.03-.019.032-.019.033-.015.034-.015.033-.014.033-.008.033-.012.034-.014.066-.004.037-.004.033-.004.037v.086l.004.04.004.037.004.037.007.033.008.037.011.03.011.033.011.03.015.025.019.033.019.03.018.026.023.026.023.025.025.026.027.026.026.023.03.018.03.022.033.019.03.018.038.019.034.018.037.015.038.015.037.014.041.015.034.011.033.011.034.011.037.008.034.011.037.01.038.008.037.011.038.008.04.01.039.008.04.011.038.008.037.01.034.008.034.011.03.008.026.007.045.019.037.015.034.014.03.015.03.022.026.022.019.026.015.037.004.044v.008l-.004.037-.012.033-.014.03-.023.025-.03.023-.026.014-.03.012-.034.007-.033.007-.038.007-.041.004h-.082l-.041-.004h-.038l-.037-.007-.042-.003-.037-.008-.037-.007-.038-.008-.034-.01-.037-.012-.037-.01-.034-.016-.034-.01-.033-.016-.034-.014-.034-.015-.03-.019-.033-.014-.03-.019-.034-.022-.03-.019-.033-.021-.03-.023-.034-.022-.03-.022-.023.03-.026.025-.022.03-.026.03-.023.025-.022.03-.026.03-.023.025-.026.03-.022.026-.027.03-.022.029-.022.026-.027.03-.022.029-.026.025-.023.03.03.026.026.022.03.022.03.023.03.022.03.022.03.019.03.018.034.019.03.018.033.018.034.015.033.018.034.015.034.015.037.015.034.01.037.012.034.015.038.01.037.012.034.007.037.011.037.008.038.007.075.015.037.004.038.007.04.004.038.003.037.004h.041l.038.004h.157l.037-.004.042-.004.037-.003.034-.004.037-.004.038-.007.033-.008.034-.007.037-.007.034-.011.038-.012.037-.01.037-.015.038-.015.034-.019.033-.015.034-.018.03-.022.03-.018.03-.023.026-.021.03-.027.022-.022.026-.025.023-.026.018-.03.023-.03.038-.059.015-.033.014-.03.015-.033.012-.037.007-.033.011-.037.008-.037.004-.04.004-.037Zm-2.625.74h.038v-.61h-1.468v-.458h1.303v-.573h-1.303v-.44h1.449V15h-2.163v2.69h2.144Zm-2.734 0h.037V15h-.767l-.019.029-.018.033-.023.03-.019.033-.018.03-.019.033-.022.03-.02.032-.018.03-.019.03-.022.032-.019.03-.018.033-.02.03-.021.033-.019.03-.02.03-.018.032-.018.03-.023.033-.018.03-.02.032-.018.03-.023.033-.018.03-.019.03-.019.032-.022.03-.019.033-.018.03-.019.033-.022.03-.019.032-.02.03-.018-.03-.018-.033-.023-.029-.019-.033-.018-.03-.019-.033-.018-.03-.023-.033-.019-.03-.018-.029-.02-.033-.018-.03-.023-.032-.018-.03-.019-.033-.018-.03-.02-.033-.022-.03-.018-.029-.019-.033-.02-.03-.021-.033-.02-.03-.018-.033-.018-.029-.02-.03-.022-.033-.018-.029-.019-.034-.019-.029-.019-.033-.022-.03-.019-.033-.018-.03h-.767v2.69h.71v-1.583l.023.03.019.033.022.03.019.033.022.03.019.033.023.03.018.033.023.03.018.033.023.03.019.033.022.03.019.033.022.03.019.032.023.03.022.033.019.03.022.034.018.03.023.032.019.03.022.033.02.03.021.033.02.03.021.033.02.03.022.033.018.03.023.033.019.03.022.033h.015l.019-.03.022-.033.019-.03.022-.03.02-.033.021-.03.02-.03.018-.032.023-.03.018-.03.023-.03.018-.032.023-.03.018-.03.02-.033.022-.03.018-.03.023-.032.018-.03.023-.03.019-.033.018-.03.023-.029.019-.034.022-.03.019-.029.022-.03.019-.033.018-.03.023-.03.019-.032.022-.03.019-.03.022-.033.019-.03v1.591h.685Zm-4.342-1.11.015.034h-.633l.015-.033.012-.034.015-.037.015-.033.011-.033.015-.034.015-.037.015-.033.011-.033.015-.034.015-.033.011-.037.015-.033.015-.034.011-.033.015-.033.015-.037L7.93 16l.012-.034.014-.033.015-.037.012-.034.015-.033.015.033.011.034.014.037.016.033.011.034.015.033.015.037.01.033.016.033.015.034.011.033.015.037.011.033.015.034.015.033.012.033.014.038.015.033.012.033.015.033.015.037.011.034Zm1.175 1.11h.037l-.015-.034-.014-.033-.015-.034-.012-.037-.015-.032-.015-.034-.014-.033-.03-.066-.015-.038-.015-.033-.012-.033-.015-.033-.015-.034-.015-.033-.014-.037-.016-.033-.03-.067-.01-.033-.016-.033-.015-.037-.015-.033-.015-.034-.03-.066-.015-.033-.01-.038-.016-.033-.015-.033-.015-.033-.015-.033-.015-.033-.015-.038-.014-.033-.012-.033-.014-.033-.016-.034-.015-.033-.015-.037-.015-.033-.03-.067-.01-.033-.016-.033-.015-.033-.014-.037-.03-.066-.016-.034-.014-.033-.012-.033-.015-.037-.015-.033-.015-.034-.015-.033-.015-.033-.015-.033-.015-.038-.01-.033-.015-.033-.016-.033-.015-.033-.015-.034-.015-.037-.015-.033-.015-.033-.01-.033-.016-.034-.015-.033-.014-.037-.016-.033-.015-.033-.015-.034-.014-.033-.012-.033-.015-.037-.015-.033-.015-.034-.015-.033h-.692l-.015.033-.015.034-.015.033-.011.037-.015.033-.015.033-.015.034-.015.033-.015.033-.015.037-.015.033-.011.034-.03.066-.015.033-.015.037-.015.034-.015.033-.015.033-.011.033-.015.034-.015.037-.03.066-.015.033-.015.034-.015.033-.01.037-.016.033-.015.033-.015.034-.015.033-.015.033-.015.037-.015.033-.011.033-.03.067-.015.033-.015.033-.015.037-.015.033-.015.034-.011.033-.015.033-.015.034-.015.037-.015.033-.015.033-.015.033-.015.033-.011.034-.015.037-.015.033-.015.033-.015.033-.015.034-.015.033-.015.037-.011.033-.03.067-.015.033-.015.033-.015.037-.015.033-.015.034-.011.033-.015.033-.015.034-.015.037-.015.033-.015.033-.03.066-.011.033-.015.037-.03.067-.015.033h.756l.015-.033.011-.033.015-.034.015-.037.011-.032.015-.034.015-.033.011-.033.015-.033.016-.034.01-.033.015-.037.016-.033.01-.034.016-.033h1.074l.015.033.011.034.015.033.015.037.011.033.015.034.015.033.011.033.03.066.011.033.015.037.015.034.012.033.014.033h.734Zm-3.278-.344.026-.022v-1.201H4.985v.54h.546v.335l-.03.019-.026.015-.033.014-.03.015-.034.015-.034.007-.037.012-.038.007-.037.007-.038.004-.04.004-.042.004h-.086l-.041-.004-.037-.004-.038-.008-.037-.007-.038-.011-.037-.011-.034-.015-.034-.015-.033-.014-.03-.019-.03-.018-.03-.023-.03-.022-.026-.022-.023-.026-.026-.026-.022-.025-.023-.03-.018-.03-.02-.029-.018-.033-.015-.034-.015-.037-.011-.03-.011-.032-.008-.034-.015-.066-.004-.037-.003-.033-.004-.037v-.085l.004-.037.003-.037.008-.041.008-.033.007-.037.011-.037.015-.033.011-.033.015-.034.02-.03.018-.032.019-.03.018-.026.023-.03.026-.025.022-.026.026-.022.027-.023.026-.021.03-.02.03-.018.03-.018.034-.015.033-.015.034-.01.033-.012.034-.007.037-.007.034-.004.038-.004h.078l.042.004.04.004.038.003.037.008.038.007.034.007.033.011.034.012.03.01.03.015.03.015.033.019.03.018.03.019.03.018.03.022.03.019.03.026.03.022.022-.03.026-.025.023-.03.026-.03.022-.03.023-.025.026-.03.023-.03.026-.03.022-.025.023-.03.026-.029.022-.026.023-.03.026-.029.022-.03.027-.025.022-.03-.03-.022-.03-.026-.03-.022-.03-.022-.03-.019-.03-.022-.033-.018-.03-.02-.033-.017-.03-.02-.034-.014-.034-.018-.034-.015-.033-.015-.034-.014-.034-.012-.03-.01-.033-.008-.034-.01L5.486 15l-.033-.007-.034-.007-.037-.008-.038-.007-.033-.004-.042-.007-.037-.004h-.038l-.04-.004-.042-.003h-.16l-.038.003-.038.004-.074.008-.038.007-.037.004-.037.007-.034.011-.038.007-.034.012-.033.007-.034.015-.037.01-.03.012-.037.018-.034.015-.034.015-.034.019-.033.018-.034.019-.03.018-.03.018-.03.023-.03.018-.03.022-.026.022-.03.026-.026.022-.026.026-.026.026-.023.026-.026.026-.023.026-.022.03-.022.029-.023.03-.038.059-.018.03-.019.029-.019.033-.015.033-.03.067-.014.033-.016.037-.01.033-.012.037-.01.033-.008.037-.012.037-.007.033-.004.037-.008.037-.003.041-.004.037v.037l-.003.04v.122l.003.037.004.037.003.037.004.034.008.037.003.033.008.037.011.033.008.037.011.033.007.033.015.034.012.03.015.032.015.034.014.033.015.033.02.03.018.033.019.03.018.03.023.029.019.029.022.026.022.03.023.025.026.026.026.026.026.023.027.025.026.023.026.022.03.022.03.022.03.022.03.019.03.018.034.019.03.018.033.019.034.014.033.015.034.015.038.014.033.012.034.014.034.011.037.008.034.011.037.007.034.008.037.007.037.007.038.004.037.004.038.004.04.003.038.004h.161l.042-.004.037-.003.041-.004.038-.004.04-.004.038-.003.037-.008.038-.007.033-.007.038-.008.034-.011.037-.01.034-.012.034-.011.033-.011.034-.015.037-.015.034-.015.037-.014.034-.02.034-.013.033-.02.034-.018.034-.018.03-.018.03-.019.03-.022.03-.019.03-.021.025-.02.03-.021Zm1.1-8.912V7.04H5.439V4.705h1.857V3.311h-3.26v9.31h3.259V11.23H5.438V8.435h1.857Zm9.311 2.444c0 .366-.184.536-.545.536h-.267c-.375 0-.58-.17-.58-.536V5.174c0-.366.205-.61.58-.61h.24c.44 0 .572.148.572.61v1.86l1.396.003V5.032c0-1.137-.592-1.712-1.756-1.712h-.696c-1.164 0-1.737.716-1.737 1.854v5.77c0 1.138.573 1.683 1.737 1.683h.71c1.164 0 1.742-.545 1.742-1.682V8.899h-1.396v1.98ZM11.95 12.62h1.396V3.31H11.95v9.31Zm-1.864-5.173c0 .372-.101.518-.44.518h-.49V4.562h.49c.338 0 .44.172.44.545v2.34ZM7.76 3.31v9.31h1.395V9.243h.704c1.088 0 1.625-.572 1.625-1.729V5.04c0-1.157-.537-1.729-1.625-1.729H7.76Zm6.983 17.698H7.295l3.724 1.389 3.724-1.389Z" id="path2-7" fill="#E8E8E8"/></g></symbol><symbol id="ethernet" viewBox="0 0 768 768"><path d="M224 480h64v96h64v-96h64v96h64v-96h64v96h64V288H480v-96H288v96H160v288h64v-96zM140.16 96h488c41.92 0 75.84 33.92 75.84 76.16v456c0 41.885-33.955 75.84-75.84 75.84h-488C97.92 704 64 670.08 64 628.16v-456C64 129.92 97.92 96 140.16 96z"/></symbol><symbol id="exit_to_app" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM21 3H3v6h2V5h14v14H5v-4H3v6h18V3z"/></symbol><symbol id="eye" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></symbol><symbol id="eye_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM3.42 2.45 2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l3.43 3.43 1.41-1.41L3.42 2.45zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33a2.97 2.97 0 0 0-2.64-2.64l2.64 2.64z"/></symbol><symbol id="favorite" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol><symbol id="favorite_border" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></symbol><symbol id="feedback" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 2H2.01L2 22l4-4h16V2zm-9 12h-2v-2h2v2zm0-4h-2V6h2v4z"/></symbol><symbol id="file" viewBox="0 0 24 24"><path d="M4.01 2 4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z"/></symbol><symbol id="filter_list" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/></symbol><symbol id="folder" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 4H2v16h20V6H12l-2-2z"/></symbol><symbol id="folder_open" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 6H12l-2-2H2v16h20V6zm-2 12H4V8h16v10z"/></symbol><symbol id="fps" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9v2H8v2h8v-2h-2v-2h9V2zm-2 14H3V4h18v12z"/><path d="M6 11h2V9H6V8h3V6H4v8h2v-3zm6 0h3V6h-5v8h2v-3zm0-3h1v1h-1V8zm8 1h-2V8h2V6h-4v5h2v1h-2v2h4V9z"/></symbol><symbol id="freestyle" viewBox="0 0 24 24"><path d="M12.3 9.4c-1.5 0-2.7 1.2-2.7 2.7 0 1.2-1.1 1.8-1.8 1.8.8 1.1 2.3 1.8 3.6 1.8 2 0 3.6-1.6 3.6-3.6 0-1.4-1.2-2.7-2.7-2.7zm10.697-5.383-6.364 6.364-2.475-2.475 6.364-6.364 2.475 2.475z"/><path d="M20 9v9H4V7h9l2-2H2v15h20V7l-2 2z"/></symbol><symbol id="fullscreen_exit" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></symbol><symbol id="gallery" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M18 2v6H4v8H2V2h2l2 4h2L6 2h2l2 4h2l-2-4h2l2 4h2l-2-4h4Zm1 14.5V19H9l3-4 2 2.7 3-3.7 2 2.5Zm1-4.5H8v8h12v-8Zm2-2v12H6V10h16Z"/></symbol><symbol id="game_controller" viewBox="0 0 768 768"><path d="M652.8 272c-6.4-32-44.8-64-76.8-64 0-19.2-12.8-32-32-32h-64c-19.2 0-32 12.8-32 32H320c0-16-16-32-32-32h-64c-19.2 0-32 12.8-32 32-32 0-70.4 28.8-76.8 64C108.8 304 64 496 64 560c0 32 32 64 64 64s64-32 96-64 32-35.2 64-64c32-32 32-32 64-32h64c32 0 32 0 64 32l64 64c32 32 64 64 96 64s64-32 64-64c0-60.8-44.8-256-51.2-288zM320 358.4h-41.6V400h-44.8v-41.6H192v-44.8h41.6V272h44.8v41.6H320v44.8zM512 400c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z"/></symbol><symbol id="game_controller_off" viewBox="0 0 768 768"><path d="M704 560c0 9.5-2.8 18.9-7.6 27.5L500 398.8c3.9.7 7.9 1.2 12 1.2 35.2 0 64-28.8 64-64s-28.8-64-64-64-64 28.8-64 64c0 5 .6 9.8 1.7 14.5L301.3 208H448c0-19.2 12.8-32 32-32h64c19.2 0 32 12.8 32 32 32 0 70.4 32 76.8 64S704 499.2 704 560zM146.9 224.6c-15.8 11.7-28.3 28.7-31.7 47.4C108.8 304 64 496 64 560c0 32 32 64 64 64s64-32 96-64 32-35.2 64-64c32-32 32-32 64-32h44.2m-110-105.6h-7.8V400h-44.8v-41.6H192v-44.8h41.6v-5.8M396.2 464l255 244.9 40.9-42.5-44.7-42.9L214.8 208 96.1 93.9l-40.9 42.5 91.7 88.1"/></symbol><symbol id="game_library" viewBox="0 0 768 768"><path d="M160 96v576h448V96H160zm352 400c-16 0-32-16-48-32l-32-32c-16-16-16-16-32-16h-32c-16 0-16 0-32 16l-32 32c-16 16-32 32-48 32s-32-16-32-32c0-32 22.4-128 25.6-144s22.4-32 38.4-32c0-9.6 6.4-16 16-16h32c9.6 0 16 6.4 16 16h64c0-9.6 6.4-16 16-16h32c9.6 0 16 6.4 16 16 16 0 35.2 16 38.4 32S544 432 544 464c0 16-16 32-32 32zM64 128h64v512H64V128zm576 0h64v512h-64V128z"/></symbol><symbol id="gamepad_b_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#CF3C33"/><path d="M17.588 34V14.094h6.508c2.16 0 3.782.446 4.867 1.34 1.094.893 1.64 2.214 1.64 3.964 0 .93-.264 1.755-.793 2.475-.528.711-1.248 1.262-2.16 1.654 1.076.301 1.924.875 2.543 1.723.63.838.944 1.841.944 3.008 0 1.786-.58 3.19-1.737 4.21C28.243 33.49 26.607 34 24.492 34h-6.904Zm2.625-9.31v7.163h4.334c1.221 0 2.183-.314 2.885-.943.71-.638 1.066-1.513 1.066-2.625 0-2.397-1.303-3.596-3.91-3.596h-4.375Zm0-2.106h3.965c1.148 0 2.064-.287 2.748-.861.693-.575 1.039-1.354 1.039-2.338 0-1.094-.32-1.887-.957-2.38-.638-.5-1.609-.751-2.912-.751h-3.883v6.33Z" fill="#fff"/></symbol><symbol id="gamepad_blue_b" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M16.836 34V14.094h6.973c2.415 0 4.247.465 5.496 1.394 1.248.92 1.873 2.274 1.873 4.06 0 .976-.25 1.837-.752 2.585-.502.738-1.199 1.28-2.092 1.627 1.02.255 1.823.77 2.406 1.545.593.774.889 1.722.889 2.843 0 1.915-.61 3.364-1.832 4.348-1.221.984-2.962 1.486-5.223 1.504h-7.738Zm4.102-8.668v5.373h3.513c.966 0 1.718-.228 2.256-.683.547-.465.82-1.103.82-1.915 0-1.822-.943-2.748-2.83-2.775h-3.76Zm0-2.898h3.035c2.069-.037 3.103-.862 3.103-2.475 0-.902-.264-1.55-.793-1.941-.52-.402-1.344-.602-2.474-.602h-2.872v5.018Z" fill="#fff"/></symbol><symbol id="gamepad_blue_rs" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M15.631 27.269h-3.086v6.967H8.671V15.203h6.986c2.221 0 3.934.5 5.14 1.503 1.205 1.002 1.807 2.419 1.807 4.249 0 1.298-.28 2.383-.84 3.255-.55.862-1.39 1.551-2.517 2.065l4.068 7.778v.183h-4.158Zm-3.086-3.177h3.125c.973 0 1.726-.248 2.26-.745.534-.506.8-1.198.8-2.079 0-.897-.254-1.603-.761-2.117-.5-.514-1.27-.772-2.312-.772h-3.112zm22.766 5.15c0-.74-.258-1.307-.775-1.699-.517-.4-1.446-.82-2.79-1.255-1.342-.444-2.405-.88-3.189-1.307-2.135-1.168-3.202-2.74-3.202-4.72 0-1.028.284-1.943.852-2.744.577-.81 1.399-1.443 2.466-1.896 1.077-.453 2.282-.68 3.616-.68 1.343 0 2.54.249 3.59.746 1.05.488 1.864 1.18 2.44 2.078.586.898.879 1.917.879 3.059h-3.874c0-.872-.271-1.547-.814-2.026-.542-.488-1.304-.732-2.285-.732-.947 0-1.683.205-2.209.614-.525.401-.787.933-.787 1.595 0 .619.305 1.137.917 1.556.62.418 1.528.81 2.724 1.176 2.204.671 3.81 1.503 4.817 2.497 1.007.993 1.51 2.23 1.51 3.712 0 1.648-.615 2.942-1.846 3.883-1.231.932-2.888 1.399-4.971 1.399-1.447 0-2.764-.266-3.952-.798-1.188-.54-2.096-1.276-2.724-2.209-.62-.933-.93-2.013-.93-3.242h3.887c0 2.1 1.24 3.15 3.719 3.15.92 0 1.64-.187 2.156-.562.517-.383.775-.915.775-1.594z" fill="#fff"/></symbol><symbol id="gamepad_blue_rt" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M15.991 27.436h-3.12v7.159H8.952V15.039h7.064c2.246 0 3.978.515 5.197 1.544 1.218 1.03 1.828 2.485 1.828 4.366 0 1.334-.283 2.449-.849 3.344-.557.886-1.406 1.594-2.546 2.122l4.113 7.992v.188h-4.205Zm-3.12-3.264h3.16c.983 0 1.745-.255 2.284-.766.54-.519.81-1.23.81-2.135 0-.922-.257-1.648-.77-2.176-.506-.528-1.285-.792-2.338-.792H12.87Zm26.818-5.87h-5.823v16.293h-3.917V18.303h-5.745v-3.264h15.485z" fill="#fff"/></symbol><symbol id="gamepad_blue_x" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="m23.854 21.775 4.477-7.24h5.659l-6.954 10.413 7.134 10.587h-5.724l-4.592-7.356-4.593 7.356h-5.724l7.135-10.587-6.954-10.414h5.658z" fill="#fff"/></symbol><symbol id="gamepad_blue_y" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="m23.986 23.063 4.143-8.97h4.484l-6.535 12.688V34h-4.17v-7.219l-6.535-12.687h4.498l4.115 8.969Z" fill="#fff"/></symbol><symbol id="gamepad_ls_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M13.104 31.854h9.433V34H10.465V14.094h2.639v17.76Zm18.293-6.727c-2.252-.647-3.892-1.44-4.922-2.379-1.021-.948-1.532-2.114-1.532-3.5 0-1.568.625-2.862 1.873-3.883 1.258-1.03 2.89-1.545 4.895-1.545 1.367 0 2.584.265 3.65.793 1.076.529 1.905 1.258 2.489 2.188.592.93.888 1.946.888 3.049H36.1c0-1.204-.383-2.147-1.149-2.83-.766-.693-1.846-1.04-3.24-1.04-1.294 0-2.306.288-3.035.862-.72.565-1.08 1.353-1.08 2.365 0 .811.341 1.5 1.025 2.064.693.556 1.864 1.067 3.514 1.532 1.659.465 2.953.98 3.883 1.545.938.556 1.631 1.207 2.078 1.955.455.747.683 1.627.683 2.638 0 1.614-.629 2.908-1.886 3.883-1.258.966-2.94 1.45-5.045 1.45-1.367 0-2.644-.26-3.828-.78-1.185-.529-2.101-1.249-2.748-2.16-.638-.912-.957-1.946-.957-3.104h2.638c0 1.204.442 2.156 1.326 2.858.893.693 2.083 1.039 3.569 1.039 1.385 0 2.447-.283 3.185-.848.739-.565 1.108-1.335 1.108-2.31 0-.976-.342-1.728-1.026-2.256-.683-.538-1.923-1.067-3.719-1.586Z" fill="#fff"/></symbol><symbol id="gamepad_lt_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M14.95 31.854h9.433V34H12.31V14.094h2.638v17.76Zm22.407-15.6H30.96V34h-2.611V16.254h-6.385v-2.16h15.394v2.16Z" fill="#fff"/></symbol><symbol id="gamepad_rs_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M16.672 25.947h-4.676V34H9.357V14.094h6.59c2.242 0 3.965.51 5.168 1.531 1.213 1.02 1.819 2.506 1.819 4.457 0 1.24-.338 2.32-1.012 3.24-.666.92-1.595 1.609-2.79 2.065l4.677 8.449V34h-2.817l-4.32-8.053Zm-4.676-2.146h4.033c1.304 0 2.338-.337 3.104-1.012.775-.674 1.162-1.577 1.162-2.707 0-1.23-.37-2.174-1.108-2.83-.729-.656-1.786-.989-3.171-.998h-4.02V23.8Zm20.494 1.326c-2.251-.647-3.892-1.44-4.922-2.379-1.02-.948-1.53-2.114-1.53-3.5 0-1.568.623-2.862 1.872-3.883 1.258-1.03 2.89-1.545 4.895-1.545 1.367 0 2.584.265 3.65.793 1.076.529 1.905 1.258 2.488 2.188.593.93.889 1.946.889 3.049h-2.639c0-1.204-.383-2.147-1.148-2.83-.766-.693-1.846-1.04-3.24-1.04-1.295 0-2.306.288-3.035.862-.72.565-1.08 1.353-1.08 2.365 0 .811.341 1.5 1.025 2.064.693.556 1.864 1.067 3.513 1.532 1.66.465 2.954.98 3.883 1.545.94.556 1.632 1.207 2.079 1.955.455.747.683 1.627.683 2.638 0 1.614-.629 2.908-1.887 3.883-1.258.966-2.94 1.45-5.045 1.45-1.367 0-2.643-.26-3.828-.78-1.185-.529-2.1-1.249-2.748-2.16-.638-.912-.957-1.946-.957-3.104h2.639c0 1.204.442 2.156 1.326 2.858.893.693 2.083 1.039 3.568 1.039 1.386 0 2.448-.283 3.186-.848s1.107-1.335 1.107-2.31c0-.976-.341-1.728-1.025-2.256-.684-.538-1.923-1.067-3.719-1.586Z" fill="#fff"/></symbol><symbol id="gamepad_rt_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="m24.272 34.207-3.206-.153-5.513-7.413h-3.85v7.413H8.97V15.41h5.755c1.242 0 2.276.075 3.104.225.828.142 1.573.4 2.236.776.745.426 1.325.964 1.739 1.616.423.642.634 1.46.634 2.454 0 1.344-.372 2.47-1.117 3.38-.746.902-1.771 1.582-3.078 2.042zm-4.69-13.55c0-.535-.106-1.007-.317-1.416-.203-.417-.543-.768-1.022-1.052a3.903 3.903 0 0 0-1.407-.5 10.7 10.7 0 0 0-1.918-.15h-3.215v7.036h2.76c.864 0 1.619-.066 2.262-.2.644-.142 1.192-.4 1.643-.776.414-.351.717-.752.91-1.202.203-.46.304-1.04.304-1.74zm20.902-3.044H33.74v16.441h-2.51v-16.44h-6.744V15.41h15.998z" fill="#fff"/></symbol><symbol id="gamepad_y_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#F19937"/><path d="m24.473 24.088 5.195-9.994h2.98l-6.863 12.482V34H23.16v-7.424l-6.863-12.482h3.008l5.168 9.994Z" fill="#fff"/></symbol><symbol id="gameplay" viewBox="0 0 24 24"><path d="M23 2v16h-9v2h2v2H8v-2h2v-2H1V2h22Zm-2 2H3v12h18V4ZM10 6c.3 0 .6.3.6.6H13c0-.4.3-.6.6-.6h1.1c.4 0 .6.3.6.6l.121.007c.57.06 1.186.533 1.279 1.093.1.6.9 4.1.8 5.1 0 .5-.5 1.1-1.1 1.1-.6 0-1.1-.5-1.7-1.1l-.962-.962-.138-.138c-.5-.6-.5-.6-1.1-.6h-1.3c-.403.003-.443.043-1 .6l-1.1 1.1c-.6.5-1.2 1.1-1.7 1.1s-1.1-.5-1.1-1.1c0-1.1.8-4.5.9-5.1.1-.6.8-1.1 1.3-1.1l.009-.114C8.56 6.162 8.83 6 9.1 6Z"/></symbol><symbol id="gfe_logo" viewBox="0 0 768 768"><path d="m42.667 608 83.2 83.2h601.6v34.133H110.934l-68.267-68.267z"/><path d="M42.667 42.667v512l102.4 102.4h582.4v-614.4h-684.8zM76.8 539.733V76.8h616.533V192c-179.2 0-332.8 72.533-392.534 125.867l12.8 38.4c10.666 29.867 23.467 59.733 40.533 87.466 2.133 6.4 6.4 10.666 8.534 17.067 38.4 64 85.333 119.467 134.4 164.267H396.799c-53.333-46.933-98.133-98.133-134.4-153.6-25.6 12.8-102.4 14.933-138.667 32 34.133 36.267 74.667 81.067 125.866 121.6h-91.733l-81.067-85.334zm503.467 85.334c-89.6-87.466-128-196.267-140.8-236.8-2.133-10.666-4.267-14.933-4.267-14.933s110.933-83.2 256-108.8v72.533c-46.933 19.2-98.133 44.8-145.067 85.333 0 0 0 4.267 2.133 8.534 6.4 25.6 29.866 100.267 89.6 160-6.4-70.4-4.267-119.467-4.267-134.4v-6.4s21.333-17.067 55.467-36.267v211.2h-108.8z"/></symbol><symbol id="gfe_logo_inverse" viewBox="0 0 768 768"><path d="M437.333 386.133c12.8 38.4 49.067 145.067 136.533 228.267h106.666V411.733c-34.133 19.2-53.333 34.133-53.333 34.133v6.4c0 17.067-2.133 61.867 4.267 130.133-57.6-59.733-81.067-130.133-87.466-155.733-2.133-6.4-2.133-8.534-2.133-8.534 44.8-38.4 93.867-64 138.667-81.067v-70.4c-140.8 23.467-247.467 104.533-247.467 104.533s2.133 6.4 4.267 14.933z"/><path d="M249.6 616.533c-49.066-40.533-87.467-83.2-119.467-119.467 36.267-14.933 108.8-19.2 134.4-29.866 34.133 53.333 78.933 104.534 130.133 149.333h96c-46.933-44.8-93.867-98.133-130.133-160-2.133-4.267-6.4-10.666-8.534-14.933-14.933-25.6-27.733-53.333-38.4-83.2-4.267-12.8-8.534-23.467-12.8-36.267 57.6-51.2 206.933-119.467 379.733-121.6v-115.2h-595.2v448l78.933 81.067h85.333z"/><path d="M42.667 42.667v612.267l70.4 70.4h612.267V42.668H42.668zm672 672h-595.2l-66.133-66.134V601.6l81.067 78.933h580.267v34.133zm0-66.134h-563.2L53.334 548.266V53.333h661.333v595.2z"/></symbol><symbol id="goal" viewBox="0 0 24 24"><g transform="translate(2 6)"><circle cx="10.388" cy="5.993" r="5.62"/><path d="M3.405 9.008H-.003v2.02h4.701a7.632 7.632 0 0 1-1.293-2.02zm-.626-3.015c0-.338.03-.669.073-.996H-.003v2.02h2.859a7.548 7.548 0 0 1-.077-1.024zM4.673.984H-.003v2.02h3.395A7.633 7.633 0 0 1 4.673.984z"/></g><path d="M15.379 1.999h-4.376c5.13 1.031 8.964 5.122 8.964 10.015 0 4.847-3.762 8.908-8.819 9.986h4.173c3.944-1.747 6.683-5.573 6.683-10.013-.001-4.419-2.712-8.229-6.625-9.988Z"/></symbol><symbol id="gpu" viewBox="0 0 768 768"><path d="M64 226.133v46.934h34.133v268.8H140.8V226.134zm128 0V499.2h34.133v46.933H448V499.2h256V226.133H192zm366.933 217.6c-42.667 0-81.067-34.133-81.067-81.067 0-42.667 34.133-81.067 81.067-81.067 42.667 0 81.067 34.133 81.067 81.067 0 42.667-34.133 81.067-81.067 81.067z"/></symbol><symbol id="guage" viewBox="0 0 768 768"><path d="M384 512c-53.019 0-96-42.981-96-96 0-35.84 19.52-67.2 48-83.52l310.72-179.84L469.76 459.2c-16 31.36-48.32 52.8-85.76 52.8zm0-416c57.92 0 112 16 159.04 42.24l-67.2 38.72C448 166.08 416 160 384 160c-141.385 0-256 114.615-256 256 0 70.72 28.48 134.72 74.88 180.8h.32c12.48 12.48 12.48 32.64 0 45.12s-32.96 12.48-45.44.32C99.84 584.32 64 504.32 64 416 64 239.269 207.269 96 384 96zm320 320c0 88.32-35.84 168.32-93.76 226.24-12.48 12.16-32.64 12.16-45.12-.32s-12.48-32.64 0-45.12C611.52 550.4 640 486.72 640 416c0-32-6.08-64-17.28-92.8l38.72-67.2C688 304 704 357.76 704 416z"/></symbol><symbol id="gun" viewBox="0 0 24 24"><path d="M23 6.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 5.342 6.095 5 5.643 5c-.451 0-.817.342-.817.763l.001.007H2.986v2.315L1.496 9.35v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855V7.652H23V6.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202Z"/></symbol><symbol id="gun2x" viewBox="0 0 24 36"><path d="M23 18.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 17.342 6.095 17 5.643 17c-.451 0-.817.342-.817.763l.001.007H2.986v2.315l-1.49 1.265v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855v-2.071H23V18.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202ZM11.94 13.43H5.96v-1.02l2.9-3.16c.24-.27.45-.51.61-.72.16-.21.29-.4.38-.57.1-.17.16-.33.2-.49a1.79 1.79 0 0 0-.03-1.02 1.244 1.244 0 0 0-.67-.75c-.16-.06-.35-.1-.56-.1-.26 0-.48.04-.67.12-.19.08-.35.2-.47.34-.12.15-.22.32-.28.52-.06.2-.1.42-.1.66H5.79c0-.39.07-.76.2-1.1.13-.34.33-.64.58-.9.26-.26.57-.46.95-.61.37-.15.8-.22 1.28-.22.44 0 .84.06 1.19.17.35.11.64.28.88.49.24.21.42.47.54.77a2.712 2.712 0 0 1 .06 1.83c-.09.27-.21.54-.37.81s-.35.54-.57.81c-.22.27-.46.54-.72.82l-1.99 2.13h4.13v1.19h-.01Zm3.6-4.44 1.26-2.17h1.65l-2.02 3.26 2.09 3.35h-1.64l-1.32-2.26-1.31 2.26H12.6l2.09-3.35-2.02-3.26h1.64z"/></symbol><symbol id="gun3x" viewBox="0 0 24 36"><path d="M23 18.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 17.342 6.095 17 5.643 17c-.451 0-.817.342-.817.763l.001.007H2.986v2.315l-1.49 1.265v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855v-2.071H23V18.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202ZM7.67 8.3h.88c.26 0 .48-.03.67-.1.19-.07.34-.16.47-.28.13-.12.22-.26.28-.43.06-.17.09-.35.09-.56 0-.42-.11-.75-.33-.99-.22-.23-.56-.34-1.02-.34-.2 0-.38.03-.54.09-.17.05-.31.14-.44.24-.12.11-.21.24-.28.4-.07.15-.1.32-.1.52H5.86c0-.35.07-.67.21-.97.14-.31.33-.56.59-.78.25-.22.55-.39.9-.51s.72-.19 1.13-.19c.42 0 .81.05 1.16.16.35.11.65.27.9.48.25.22.45.48.59.8.14.32.21.68.21 1.1 0 .18-.03.36-.09.54-.06.18-.14.36-.26.53-.11.17-.26.33-.43.48-.17.15-.37.27-.6.38.27.09.5.21.69.36.19.14.34.31.46.49s.2.38.26.58a2.736 2.736 0 0 1-.15 1.75c-.15.33-.36.6-.63.82-.27.22-.58.39-.95.51s-.76.17-1.18.17c-.39 0-.76-.05-1.11-.16a2.91 2.91 0 0 1-.93-.47c-.27-.21-.48-.47-.64-.78-.16-.31-.24-.68-.24-1.09h1.48c0 .2.03.37.1.54.07.16.17.3.29.42.13.12.28.21.46.27.18.06.38.09.6.09.46 0 .82-.12 1.09-.37.26-.24.4-.6.4-1.06 0-.25-.04-.47-.12-.65-.08-.18-.19-.33-.33-.46-.14-.12-.31-.21-.52-.27-.2-.06-.43-.09-.68-.09h-.85V8.3Zm7.86.69 1.26-2.17h1.65l-2.02 3.26 2.09 3.35h-1.64l-1.32-2.26-1.31 2.26h-1.65l2.09-3.35-2.02-3.26h1.64z"/></symbol><symbol id="heads_up_display" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M23 18h-9v2h2v2H8v-2h2v-2H1V2h22v16ZM21 4H3v12h18V4ZM5 10v4h6v-4H5Z"/></symbol><symbol id="heart" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol><symbol id="help" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></symbol><symbol id="highlights" viewBox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H2v16h20V4h-4Zm-3.5 13.987L12 16.478l-2.5 1.51.7-2.818L8 13.157l2.9-.201 1.1-2.717 1.1 2.717 2.9.201-2.2 1.912.7 2.918Z"/></symbol><symbol id="highlights_disabled" viewBox="0 0 24 24"><path d="M2.27 2 21 20.73 19.73 22l-2.002-2.001L2 20V4.269L1 3.27 2.27 2ZM10 4l2 4h3l-2-4h2l2 4h3.005L18 4h4v15.173l-6.027-6.026.036-.03-.07-.006-6.744-6.74L8 4.001h2Zm.663 8.933-2.645.183 2.198 1.997-.699 2.796 2.497-1.498 2.497 1.498-.36-1.488-3.488-3.488Z"/></symbol><symbol id="home" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></symbol><symbol id="icon_play" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.667 4.167v11.666L15.833 10 6.667 4.167Z" fill="#fff" fill-opacity=".9"/></symbol><symbol id="image" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 21V3H3v18h18zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></symbol><symbol id="image_off" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.67 22.084 1.914 3.328l1.414-1.414L22.084 20.67l-1.414 1.414Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.328 17.2V3h-14.2l14.2 14.2ZM4.3 3h-.972v18h18v-.972L19.301 18H5.327l3.5-4.5 2.5 3.01 2.833-3.65L4.3 3Z" fill="#fff"/></symbol><symbol id="ime" viewBox="0 0 24 24"><g fill="#FFF"><path d="M13.912 14.884h-.905V13.11H15.9a4.157 4.157 0 0 0-.302-.51l.92-.279c.186.233.372.542.472.79h2.662v1.772H18.7v-.905h-4.79v.905Zm5.795 2.5h-2.886v1.167c0 .495-.116.743-.495.882-.371.148-.867.155-1.5.155a3.363 3.363 0 0 0-.403-.936c.479.016 1.06.016 1.214.016.155 0 .201-.031.201-.14v-1.145h-2.87v-.874h2.87v-.41a5.31 5.31 0 0 0 .945-.635H14.29v-.859h3.42l.21-.046.61.48a7.772 7.772 0 0 1-1.71 1.338v.132h2.886v.874Z"/><path d="M20.232 2c.942 0 1.71.735 1.768 1.658v16.574c0 .936-.729 1.71-1.658 1.762l-.11.006H3.774c-.942 0-1.71-.735-1.768-1.665L2 20.232V3.768c0-.942.735-1.71 1.665-1.768h16.567Zm.626 1.258-.013.045a.804.804 0 0 1-.174.284L3.503 20.8a.695.695 0 0 1-.155.116c.104.058.22.103.342.116h16.542a.8.8 0 0 0 .8-.722l.007-.078V3.768a.83.83 0 0 0-.18-.51Zm-12.364 1.2H7.298L4.967 10.72h1.372l.43-1.29h2.263l.434 1.29h1.373L8.494 4.458ZM7.896 6.04l.787 2.344H7.118l.778-2.344Z"/></g></symbol><symbol id="info" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm1 15h-2v-6h2v6Zm0-8h-2V7h2v2Z"/></symbol><symbol id="ios_share" viewBox="0 0 44 44"><path d="m21 7-2.65 3.41a.931.931 0 0 1-.72.342c-.538 0-.944-.427-.944-1.012 0-.298.117-.527.314-.74l4.155-4.659C21.417 4.056 21.738 4 22 4s.415.056.676.341l4.432 4.645c.196.213.302.442.302.74 0 .585-.408 1.012-.958 1.012a.925.925 0 0 1-.708-.342L23 7v17c0 .598-.436 1-1 1-.564 0-1-.402-1-1V7ZM9 17.667c0-3.045 1.538-4.583 4.6-4.583L17 13v1.993h-3.686c-1.464 0-2.27.798-2.27 2.335l-.042 15.259c0 1.537.533 2.413 1.998 2.413h17.727C32.178 35 33 34.467 33 32.93l.042-15.26c0-1.536-.591-2.677-2.042-2.677h-4V13l3.4.084c3.062 0 4.6 1.538 4.6 4.583v14.75C35 35.464 33.462 37 30.4 37H13.6C10.538 37 9 35.463 9 32.418V17.667Z"/></symbol><symbol id="isp" viewBox="0 0 768 768"><path d="M384 64c-141.385 0-256 114.615-256 256 0 128.96 96 237.44 224 253.76V608h-32c-17.673 0-32 14.327-32 32H64v64h224c0 17.673 14.327 32 32 32h128c17.673 0 32-14.327 32-32h224v-64H480c0-17.673-14.327-32-32-32h-32v-34.24c128-16 224-124.8 224-253.76 0-141.385-114.615-256-256-256zm0 64s23.68 40.96 40.32 96h-80.64c16.64-55.04 40.32-96 40.32-96zm-71.36 13.76c-8.64 16-21.76 45.12-32.96 82.24h-61.76c22.08-37.12 54.08-66.24 94.72-82.24zm142.72.32c40.64 16 72.64 44.8 94.72 81.92h-61.76c-11.2-37.12-24.32-66.24-32.96-81.92zM194.88 288h71.36c-1.28 10.56-2.24 21.12-2.24 32s.96 21.44 2.24 32h-71.36c-1.92-10.56-2.88-21.12-2.88-32s.96-21.44 2.88-32zm135.36 0h107.52c1.28 10.56 2.24 21.12 2.24 32s-.96 21.44-2.24 32H330.24c-1.28-10.56-2.24-21.12-2.24-32s.96-21.44 2.24-32zm171.52 0h71.36c1.92 10.56 2.88 21.12 2.88 32s-.96 21.44-2.88 32h-71.36c1.28-10.56 2.24-21.12 2.24-32s-.96-21.44-2.24-32zM217.92 416h61.76c11.2 37.12 24.32 66.24 32.96 81.92-40.64-16-72.64-44.8-94.72-81.92zm125.76 0h80.64C407.68 471.04 384 512 384 512s-23.68-40.96-40.32-96zm144.64 0h61.76C528 453.12 496 482.24 455.36 498.24c8.64-16 21.76-45.12 32.96-82.24z"/></symbol><symbol id="keyboard" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M22 5H2.01L2 19h20V5zM11 8h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></symbol><symbol id="keyboard_arrow_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/></symbol><symbol id="keyboard_arrow_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></symbol><symbol id="keyboard_hide_icon" viewBox="0 0 20 20"><g id="Client-IME" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="11&#x2033;-iPad-Pro--Client-IME---portrait---snackbar" transform="translate(-780 -613)"><g id="Components-/-Button-/-Contained-icon-/-Active-Copy" transform="translate(762 594)"><g id="keyboard_hide" transform="translate(16 16)"><path id="Path" d="M0 0h24v24H0z"/><path d="M22 3H2.01L2 17h20V3ZM11 6h2v2h-2V6Zm0 3h2v2h-2V9ZM8 6h2v2H8V6Zm0 3h2v2H8V9Zm-1 2H5V9h2v2Zm0-3H5V6h2v2Zm9 7H8v-2h8v2Zm0-4h-2V9h2v2Zm0-3h-2V6h2v2Zm3 3h-2V9h2v2Zm0-3h-2V6h2v2Zm-7 15 4-4H8l4 4Z" id="Shape" fill="#FFF"/></g></g></g></g></symbol><symbol id="laptop" viewBox="0 0 32 32"><path d="M3 26v-2.235h4.47v-1.118H5.236V7h22.353v15.647h-2.235v1.118h4.47V26H3Zm4.47-5.588h17.883V9.235H7.47v11.177Z" fill="currentColor"/></symbol><symbol id="launch" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 19H5V5h7V3H3v18h18v-9h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></symbol><symbol id="link" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"/></symbol><symbol id="link_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4A4.986 4.986 0 0 0 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11A4.991 4.991 0 0 0 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"/></symbol><symbol id="lock" viewBox="0 0 24 24"><g fill="none"><path d="M0 0h24v24H0V0z"/><path d="M0 0h24v24H0V0z" opacity=".87"/></g><path d="M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19A5.008 5.008 0 0 0 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"/></symbol><symbol id="logout" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M14.6 15.6 16 17l5-5-5-5-1.4 1.4 2.6 2.6H7.5v2h9.7l-2.6 2.6ZM3 21h18v-3.976h-2V19H5V5h14v2.031h2V3H3v18Z"/></symbol><symbol id="medal" viewBox="0 0 24 24"><path d="M3.79 2h16.42v1.59H3.79zm0 3.18v11L12 22l8.21-5.82v-11H3.79Zm11.25 11.5L12 15.08l-3.04 1.6.58-3.39-2.46-2.4 3.4-.49L12 7.32l1.52 3.08 3.4.49-2.46 2.4.58 3.39Z"/></symbol><symbol id="memory" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V5h-4V3h-2v2h-2V3H9v2H5v4H3v2h2v2H3v2h2v4h4v2h2v-2h2v2h2v-2h4v-4h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/></symbol><symbol id="menu" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></symbol><symbol id="message" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 2H2.01L2 22l4-4h16V2zm-4 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></symbol><symbol id="mic" viewBox="0 0 24 24"><path d="M12 14c1.7 0 3-1.3 3-3V5c0-1.7-1.3-3-3-3S9 3.3 9 5v6c0 1.7 1.3 3 3 3zm5.3-3c0 3-2.5 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.4 2.7 6.2 6 6.7V21h2v-3.3c3.3-.5 6-3.3 6-6.7h-1.7z"/></symbol><symbol id="mic_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 10.6V5c0-1.66-1.34-3-3-3-1.54 0-2.79 1.16-2.96 2.65L15 10.6zm4 .4h-1.7c0 .58-.1 1.13-.27 1.64l1.27 1.27c.44-.88.7-1.87.7-2.91zM4.41 2.86 3 4.27l6 6V11c0 1.66 1.34 3 3 3 .23 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28a7.13 7.13 0 0 0 2.55-.9l4.2 4.2 1.41-1.41L4.41 2.86z"/></symbol><symbol id="montage" viewBox="0 0 24 24"><path d="m5 4 2 4h3L8 4h2l2 4h3l-2-4h2l2 4h3l-2-4h4v16H2V4h3Zm4.5 7-1.1 2.4L6 14.5l2.4 1.1L9.5 18l1.1-2.4 2.4-1.1-2.4-1.1L9.5 11Zm6-1.5-.8 1.7-1.7.8 1.7.8.8 1.7.8-1.7L18 12l-1.7-.8-.8-1.7Z"/></symbol><symbol id="more_horiz" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></symbol><symbol id="more_vert" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></symbol><symbol id="movie" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"/></symbol><symbol id="network_signal" viewBox="0 0 768 768"><path d="M611.875 130.56c139.852 140.084 139.852 367.028 0 506.88l-46.08-46.08c114.509-114.509 114.509-300.212 0-414.72l46.08-46.08zm-92.159 92.16c88.934 89.165 88.934 233.626 0 322.56l-46.08-46.08c63.59-63.59 63.59-166.81 0-230.4l46.08-46.08zM156.125 637.44c-139.853-140.083-139.853-367.027 0-506.88l46.08 46.08c-114.508 114.509-114.508 300.212 0 414.72l-46.08 46.08zm92.159-92.16c-88.934-89.164-88.934-233.626 0-322.56l46.08 46.08c-63.59 63.59-63.59 166.81 0 230.4l-46.08 46.08zM384 445.44c-33.932 0-61.44-27.508-61.44-61.44s27.508-61.44 61.44-61.44 61.44 27.508 61.44 61.44-27.508 61.44-61.44 61.44z"/></symbol><symbol id="nvidia-logo-horiz-rgb-wht-for-screen" viewBox="0 0 82 15.13"><path d="M8.53 4.52V3.15c.13 0 .27-.02.4-.02 3.74-.12 6.19 3.21 6.19 3.21s-2.65 3.68-5.49 3.68c-.41 0-.78-.07-1.11-.18V5.7c1.46.18 1.75.82 2.62 2.28l1.95-1.64s-1.42-1.86-3.82-1.86c-.26 0-.51.02-.75.04m0-4.52v2.04c.13-.01.27-.02.4-.02 5.2-.18 8.59 4.26 8.59 4.26s-3.89 4.73-7.94 4.73c-.37 0-.72-.03-1.05-.09v1.26c.28.04.57.06.87.06 3.77 0 6.5-1.93 9.14-4.21.44.35 2.23 1.2 2.6 1.58-2.51 2.1-8.36 3.8-11.68 3.8-.32 0-.63-.02-.93-.05v1.77h14.34V0H8.53zm0 9.84v1.08c-3.49-.62-4.46-4.25-4.46-4.25s1.67-1.86 4.46-2.16v1.18c-1.46-.18-2.6 1.19-2.6 1.19s.64 2.3 2.61 2.96M2.34 6.51s2.07-3.05 6.2-3.37V2.03C3.96 2.41 0 6.28 0 6.28s2.24 6.48 8.53 7.08v-1.18c-4.62-.58-6.2-5.67-6.2-5.67z" fill="#76b900"/><path d="M48.69 2.86v9.93h2.81V2.86zm-22.07-.01v9.94h2.83V5.24h2.19c.73 0 1.24.18 1.59.55.44.47.62 1.24.62 2.63v4.37h2.74V7.3c0-3.92-2.5-4.45-4.95-4.45H26.6m26.58.01v9.93h4.55c2.42 0 3.22-.4 4.07-1.31.6-.63 1-2.03 1-3.55 0-1.4-.33-2.64-.91-3.42-1.04-1.39-2.54-1.66-4.77-1.66h-3.94zm2.78 2.16h1.21c1.75 0 2.88.79 2.88 2.82s-1.13 2.83-2.88 2.83h-1.21zM44.62 2.86l-2.34 7.87-2.24-7.87h-3.03l3.2 9.93h4.04l3.23-9.93zm19.48 9.93h2.81V2.86H64.1zm7.86-9.93-3.92 9.93h2.77l.62-1.75h4.64l.59 1.75h3l-3.95-9.93zm1.82 1.81 1.7 4.65h-3.45zm7.34 8.42c-.48 0-.88-.39-.88-.88s.39-.88.88-.88.88.39.88.88-.39.88-.88.88zm0-1.58c-.39 0-.7.3-.7.71s.3.71.7.71.7-.3.7-.71-.3-.71-.7-.71zm.16 1.17-.17-.36h-.1v.36h-.21v-.93h.38c.19 0 .31.14.31.29 0 .13-.08.21-.17.25l.2.39zm-.12-.76h-.15v.24h.15c.08 0 .13-.06.13-.12s-.05-.12-.13-.12z" fill="#fff"/></symbol><symbol id="nvidia_logo_green" viewBox="0 0 44 44"><g fill="none"><path fill="#76B900" d="M7 37h30V7H7z"/><path fill="#FFF" d="M13.248 21.027s1.989-2.822 5.96-3.114v-1.024C14.81 17.229 11 20.811 11 20.811s2.157 5.999 8.208 6.548v-1.088c-4.44-.538-5.96-5.244-5.96-5.244Zm5.96 3.079v.997c-3.356-.576-4.287-3.93-4.287-3.93s1.611-1.717 4.287-1.996v1.094h-.005c-1.404-.162-2.501 1.1-2.501 1.1s.614 2.124 2.506 2.735Zm0-9.106v1.889c.13-.01.259-.018.389-.022 5.001-.162 8.26 3.944 8.26 3.944s-3.743 4.377-7.642 4.377c-.358 0-.692-.032-1.007-.085v1.168c.27.032.548.052.838.052 3.629 0 6.253-1.782 8.794-3.891.421.324 2.146 1.113 2.5 1.46-2.416 1.944-8.046 3.512-11.238 3.512-.307 0-.603-.018-.894-.045V29H33V15H19.208Zm0 4.177v-1.264c.128-.009.257-.015.389-.02 3.596-.108 5.956 2.972 5.956 2.972s-2.549 3.405-5.281 3.405c-.394 0-.746-.062-1.064-.164V20.27c1.4.163 1.682.758 2.524 2.107l1.872-1.518s-1.366-1.724-3.67-1.724c-.25 0-.49.017-.726.041Z"/></g></symbol><symbol id="nvidia_symbol" viewBox="0 0 768 768"><path d="M302.933 298.666v-38.4h12.8c106.667-4.267 174.933 89.6 174.933 89.6s-72.533 102.4-153.6 102.4c-12.8 0-21.333 0-29.866-4.267v-115.2c42.667 4.267 46.934 21.333 72.533 64l55.467-46.933s-38.4-51.2-106.667-51.2h-25.6zm0-127.999v55.467h12.8c145.066-4.267 238.934 123.733 238.934 123.733S443.734 482.134 332.801 482.134c-8.534 0-21.333 0-29.867-4.267V512h25.6c106.667 0 183.467-55.467 256-119.467 12.8 8.534 64 34.133 72.533 42.667C588.8 494.933 422.4 541.867 328.534 541.867h-25.6v55.467h401.067V170.667H302.934zm0 277.333v29.867C204.8 460.8 179.2 358.4 179.2 358.4s46.933-51.2 123.733-59.733V332.8c-42.667-4.267-72.533 34.133-72.533 34.133s17.067 64 72.533 81.067zM128 354.134s59.733-85.334 174.933-93.867V230.4C174.933 238.934 64 349.867 64 349.867s64 183.467 238.933 196.267v-34.133C174.933 499.201 128 354.134 128 354.134z"/></symbol><symbol id="open_in_full" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21v-8h2v4.6L17.6 5H13V3h8v8h-2V6.4L6.4 19H11v2H3Z"/></symbol><symbol id="open_in_new" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 19H5V5h7V3H3v18h18v-9h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></symbol><symbol id="optimize_all" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 27C21.299 27 26 22.299 26 16.5S21.299 6 15.5 6 5 10.701 5 16.5 9.701 27 15.5 27ZM7.1 16.753l4.063 3.947 1.025-.978-4.063-3.947-1.025.978Zm4.063 0 4.064 3.947 7.623-7.405-1.007-.995-6.616 6.427-3.057-2.97-1.007.996Zm3.039-.978 1.025.978 3.56-3.458-1.025-.977-3.56 3.457Z"/></symbol><symbol id="pan_zoom" viewBox="0 0 24 24"><path d="M16.256 11.498h-1.072V6h-2.976v10.239l-4.007-.85L7 16.619 12.337 22h8.601L22 14.378zM11 6V2H7l1.645 1.645-5 5L2 7v4h4L4.355 9.355l5-5z" fill-rule="evenodd"/></symbol><symbol id="pause" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></symbol><symbol id="perm_scan_wifi" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"/></symbol><symbol id="person" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4Zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="phone_illustration" viewBox="0 0 116 204"><path clip-rule="evenodd" d="M.267.268h115.466v203.466H.267V.268ZM6 6v192h104V6H6Z"/><path clip-rule="evenodd" d="M36 187.134a2.866 2.866 0 0 1 2.867-2.866h40.266a2.866 2.866 0 1 1 0 5.733H38.867A2.867 2.867 0 0 1 36 187.134ZM76 88h-8c0-5.52-4.48-10-10-10s-10 4.48-10 10h-8v32h36V88Zm-18-6c3.32 0 6 2.68 6 6H52c0-3.32 2.68-6 6-6Zm0 20c-5.52 0-10-4.48-10-10h4c0 3.32 2.68 6 6 6s6-2.68 6-6h4c0 5.52-4.48 10-10 10Z"/></symbol><symbol id="photo_camera" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle cx="12" cy="12" r="3"/><path d="M9 2 7.17 4H2v16h20V4h-5.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></symbol><symbol id="picture_in_picture" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 7h-8v6h8V7zm4-4H1v17.98h22V3zm-2 16.01H3V4.98h18v14.03z"/></symbol><symbol id="play_arrow" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8 5v14l11-7L8 5z"/></symbol><symbol id="play_circle_filled" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></symbol><symbol id="play_circle_outline" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></symbol><symbol id="power" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 7V3h-2v4h-4V3H8v4H6v7.5L9.5 18v3h5v-3l3.5-3.51V7h-2z"/></symbol><symbol id="quality_high" viewBox="0 0 24 24"><path d="M21 3H3v18h18V3ZM11 15H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6Zm7-1a1 1 0 0 1-1 1h-.75v1.5h-1.5V15H14a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v4Zm-3.5-.5h2v-3h-2v3Z"/></symbol><symbol id="quiet_mode" viewBox="0 0 24 24"><path d="M3 3h18v18H3V3Zm9.028 16.792c4.243 0 7.764-3.52 7.764-7.764 0-4.333-3.52-7.764-7.764-7.764-4.333 0-7.764 3.521-7.764 7.764 0 4.334 3.521 7.764 7.764 7.764Zm-5.326-8.486c-.542-.361-.723-1.083-.452-1.896.271-.813.722-1.625.722-1.625 0-.09.181-.09.271 0 .632.903 1.264 1.625 1.896 2.076.09.09.18.09.271.181-.361.542-.632 1.264-.632 1.986-.18 0-.361-.09-.542-.09-.541-.09-.993-.361-1.534-.632Zm3.701-2.077c-.09-.18-.18-.36-.09-.632-.18-.45-.18-.993-.18-1.625s.541-1.173 1.354-1.354c.812-.18 1.715-.18 1.715-.18.18 0 .27.18.18.27-.541.994-.812 1.896-.902 2.709v.361h-.452c-.632 0-1.173.18-1.625.451ZM9.05 13.292c.27.632.722 1.174 1.444 1.535-.09.18-.18.27-.36.451a5.26 5.26 0 0 1-1.355.993c-.451.271-1.264.09-1.806-.541-.541-.632-.993-1.445-.993-1.445-.09-.09-.09-.27.09-.27 1.084 0 1.987-.181 2.71-.542.09-.09.18-.09.27-.18Zm4.604 1.535c.09.09.09.27.09.632.181.451.181.993.181 1.625s-.542 1.174-1.354 1.354c-.813.18-1.715.18-1.715.18-.181 0-.271-.18-.181-.27.542-.993.813-1.896.903-2.709v-.36h.451c.632 0 1.174-.181 1.625-.452Zm4.514-5.056c.09.09 0 .271-.18.271-1.084 0-1.986.18-2.709.542-.09.09-.18.09-.27.18a3.187 3.187 0 0 0-1.355-1.535c.09-.18.18-.27.361-.45a5.26 5.26 0 0 1 1.355-.994c.451-.27 1.264-.09 1.805.542.542.632.993 1.444.993 1.444Zm-.812 2.98c.451.27.722 1.083.451 1.895-.27.813-.722 1.625-.722 1.625 0 .09-.18.09-.27 0-.633-.902-1.265-1.625-1.897-2.076-.09-.09-.18-.09-.27-.18.36-.542.631-1.265.631-1.987.18 0 .361 0 .542.09.542.09.993.362 1.535.632Zm-2.709-.723a2.618 2.618 0 1 1-5.236 0 2.618 2.618 0 0 1 5.236 0Z"/></symbol><symbol id="ram" viewBox="0 0 768 768"><path d="M64 256h640v256H64V256zm0-93.867h64v64H64v-64zm576 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zm-93.867 0h64v64h-64v-64zm-93.866 0h64v64h-64v-64zm-98.134 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zM64 546.134h64v64H64v-64zm576 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zm-93.867 0h64v64h-64v-64zm-93.866 0h64v64h-64v-64zm-98.134 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64z"/></symbol><symbol id="ranking_gold" viewBox="0 0 768 768"><path d="M70.4 560V208L384 32l313.6 176zm627.2-243.2v70.4L230.4 649.6l-64-35.2zm-368 390.4L384 736l313.6-176v-60.8z"/></symbol><symbol id="ranking_silver" viewBox="0 0 768 768"><path d="M697.6 387.2V208L384 32 70.4 208v352l160 89.6zm-368 320L384 736l313.6-176v-60.8z"/></symbol><symbol id="ranking_titanium" viewBox="0 0 768 768"><path d="M697.6 316.8v70.4L230.4 649.6l-64-35.2zm-368 390.4L384 736l313.6-176v-60.8zm368-499.2L384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M262.4 454.4V313.6L384 246.4l121.6 67.2-243.2 140.8z"/></symbol><symbol id="ranking_token" viewBox="0 0 768 768"><path d="m288 438.4 96 54.4 96-54.4V329.6l-96-54.4-96 54.4v108.8z"/><path d="M697.6 208 384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M70.4 560 384 736l313.6-176V208l-80 44.8v262.4L384 646.4 150.4 515.2z"/></symbol><symbol id="ranking_xp" viewBox="0 0 768 768"><path d="M697.6 208 384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M70.4 560 384 736l313.6-176V208l-80 44.8v262.4L384 646.4 150.4 515.2z"/><path d="M345.6 278.4h44.8l-67.2 102.4 70.4 112h-51.2l-44.8-73.6-48 73.6h-44.8L275.2 384l-64-105.6h51.2l41.6 67.2 41.6-67.2zM572.8 368c0 19.2-16 35.2-35.2 35.2h-80v86.4H416V278.4h121.6c19.2 0 35.2 16 35.2 35.2V368zm-115.2-3.2h64c6.4 0 9.6-3.2 9.6-9.6v-28.8c0-6.4-3.2-9.6-9.6-9.6h-64v48z"/></symbol><symbol id="readiness_score" viewBox="0 -960 960 960"><path d="M295-119q-36-1-68.5-18.5T165-189q-40-48-62.5-114.5T80-440q0-83 31.5-156T197-723q54-54 127-85.5T480-840q83 0 156 32t127 87q54 55 85.5 129T880-433q0 77-25 144t-71 113q-28 28-59 42.5T662-119q-18 0-36-4.5T590-137l-56-28q-12-6-25.5-9t-28.5-3q-15 0-28.5 3t-25.5 9l-56 28q-19 10-37.5 14.5T295-119Zm2-80q9 0 18.5-2t18.5-7l56-28q21-11 43.5-16t45.5-5q23 0 46 5t44 16l57 28q9 5 18 7t18 2q19 0 36-10t34-30q32-38 50-91t18-109q0-134-93-227.5T480-760q-134 0-227 94t-93 228q0 57 18.5 111t51.5 91q17 20 33 28.5t34 8.5Zm183-281Zm0 120q33 0 56.5-23.5T560-440q0-8-1.5-16t-4.5-16l50-67q10 13 17.5 27.5T634-480h82q-15-88-81.5-144T480-680q-88 0-155 56.5T244-480h82q14-54 57-87t97-33q17 0 32 3t29 9l-51 69q-2 0-5-.5t-5-.5q-33 0-56.5 23.5T400-440q0 33 23.5 56.5T480-360Z"/></symbol><symbol id="record" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 12c0 1.7-1.3 3-3 3s-3-1.3-3-3 1.3-3 3-3 3 1.4 3 3z"/><path d="m23.3 11.9-2.3-.6C20.6 6.7 16.7 3 12 3c-5 0-9 4-9 9 0 4.4 3.1 8 7.2 8.8.3.7 1 1.2 1.8 1.2 1.1 0 2-.9 2-2s-.9-2-2-2c-.7 0-1.2.3-1.6.8C7.3 18.1 5 15.4 5 12c0-3.9 3.1-7 7-7s7 3.1 7 7c0 1-.2 2-.6 2.8l4.9-2.9z"/></symbol><symbol id="record_disabled" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M9.76 5.42 8.24 3.9a8.89 8.89 0 0 1 3.83-.86c4.69 0 8.58 3.69 8.98 8.28l2.28.59-4.45 2.63-.23-.23c.26-.7.4-1.5.4-2.3 0-3.89-3.09-6.98-6.98-6.98-.82 0-1.59.14-2.31.39Zm2.31 9.59c-1.7 0-2.99-1.3-2.99-2.99 0-.47.1-.91.28-1.3L6.48 7.84a6.928 6.928 0 0 0-1.39 4.18c0 3.39 2.3 6.08 5.39 6.78.4-.5.9-.8 1.6-.8 1.1 0 2 .9 2 2s-.9 2-2 2c-.8 0-1.5-.5-1.8-1.2a8.903 8.903 0 0 1-7.18-8.78c0-2.13.73-4.08 1.95-5.61L3 4.36l1.42-1.42 16.71 16.71-1.42 1.42-6.34-6.34c-.39.18-.83.28-1.3.28Z"/></symbol><symbol id="recordings" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8.8 18.2C6.5 17 5 14.7 5 12c0-3.9 3.1-7 7-7l1.1.1L9 1v2.5C5.6 4.8 3 8.1 3 12c0 4.8 3.8 8.7 8.5 9l-2.7-2.8z"/><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M15.4 5.8c2.2 1.2 3.8 3.5 3.8 6.2 0 3.9-3.1 7-7 7l-1.2-.1 4.1 4.1v-2.5c3.5-1.2 6-4.6 6-8.5 0-4.8-3.8-8.7-8.5-9l2.8 2.8z"/><path d="M12 6c-3.3 0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm0 11c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5z"/></symbol><symbol id="remote" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41a5.022 5.022 0 0 1 7.08 0l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"/></symbol><symbol id="remove_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/></symbol><symbol id="replay" viewBox="0 0 24 24"><path d="M8.8 18.2C6.5 17 5 14.7 5 12c0-3.9 3.1-7 7-7l1.1.1L9 1v2.5C5.6 4.8 3 8.1 3 12c0 4.8 3.8 8.7 8.5 9l-2.7-2.8z"/><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M15.4 5.8c2.2 1.2 3.8 3.5 3.8 6.2 0 3.9-3.1 7-7 7l-1.2-.1 4.1 4.1v-2.5c3.5-1.2 6-4.6 6-8.5 0-4.8-3.8-8.7-8.5-9l2.8 2.8z"/></symbol><symbol id="replay_disabled" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 12.02c0-3.29-2.29-6.05-5.35-6.8l-2.17-2.17c.17-.01.34-.03.51-.03 4.96 0 8.99 4.02 8.99 8.99 0 1.38-.31 2.69-.87 3.86l-1.52-1.52c.26-.73.41-1.51.41-2.33Zm-9.34-6.6L7.99 3.75V.98l4 4 .03.03h-.03c-.82 0-1.6.15-2.33.41Zm11.37 14.23-1.44 1.42-2.02-2.02c-.51.41-1.06.76-1.65 1.05v2.89l-4-4h.29c1.48-.05 2.82-.57 3.93-1.39l-2.88-2.88a3.039 3.039 0 0 1-4.05-4.05L6.38 7.84a6.973 6.973 0 0 0-1.4 4.17c0 3.29 2.28 6.05 5.34 6.8l2.17 2.17c-.17.01-.33.03-.5.03-4.96 0-8.99-4.02-8.99-8.99 0-2.12.73-4.06 1.95-5.6L2.89 4.36l1.42-1.42 16.72 16.71Z"/></symbol><symbol id="reset" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M13 3a9 9 0 0 0-9 9H1l4 3.99L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18Z"/></symbol><symbol id="retry" viewBox="0 0 24 24"><path d="M12 4V0l5 5-5 5V6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6h2c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8"/></symbol><symbol id="rewards" viewBox="0 0 768 768"><path d="M448 384v251.733l-64-64-64 64V384H96v320h576V384zm42.666-128C539.732 249.6 576 211.2 576 160c0-53.333-42.667-96-96-96-49.067 0-89.6 38.4-96 85.334-6.4-49.066-49.067-85.333-96-85.333-55.467 0-96 42.667-96 96 0 49.066 38.4 89.6 87.466 96H63.999v96h256v-96h128v96h256v-96H490.666zM320 192h-32c-19.2 0-32-14.933-32-32s17.067-32 32-32c19.2 0 32 17.067 32 32v32zm123.733 0v-32c0-19.2 17.067-32 32-32 19.2 0 32 17.067 32 32s-14.933 32-32 32h-32z"/></symbol><symbol id="save" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 3H3v18h18V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></symbol><symbol id="score_graph_L0" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Z" fill="#FE1B0B"/></symbol><symbol id="score_graph_L1" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.046 11.203L13.18 13.18Z" fill="#FFB43E"/></symbol><symbol id="score_graph_L2" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0Z" fill="#A3DC2B"/></symbol><symbol id="score_graph_L3" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M76.82 13.18A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#76B900"/></symbol><symbol id="search" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></symbol><symbol id="send" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"/></symbol><symbol id="settings" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></symbol><symbol id="share" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></symbol><symbol id="shield_tv" viewBox="0 0 768 768"><path d="M533.832 482.28 223.68 292.032 45.912 592.416h422.736zM723.84 161.232H56.448l489.624 300.312zM203.16 279.456 31.872 174.384v394.464zm363.456 194.688 169.872 104.184v-391.2zm-12.264 20.712-57.696 97.536H713.4l-159.048-97.536zm-6.12 73.392V537.72h39.456v30.528h-39.456z"/></symbol><symbol id="shopping" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 6h-4c0-2.76-2.24-5-5-5S7 3.24 7 6H3v16h18V6zm-9-3c1.66 0 3 1.34 3 3H9c0-1.66 1.34-3 3-3zm0 10c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z"/></symbol><symbol id="signal_wifi_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23.64 7c-.45-.34-4.93-4-11.64-4-1.32 0-2.55.14-3.69.38L18.43 13.5 23.64 7zM3.41 1.31 2 2.72l2.05 2.05C1.91 5.76.59 6.82.36 7L12 21.5l3.91-4.87 3.32 3.32 1.41-1.41L3.41 1.31z"/></symbol><symbol id="social_share" viewBox="0 0 16 16"><path d="M8.5 8.068c-.38 0-.72.15-.98.387L3.955 6.37A1.65 1.65 0 0 0 4 6.021c0-.121-.02-.237-.045-.352L7.48 3.605c.27.251.625.407 1.02.407.83 0 1.5-.673 1.5-1.506a1.501 1.501 0 1 0-3 0c0 .12.02.236.045.351L3.52 4.921a1.49 1.49 0 0 0-1.02-.407c-.83 0-1.5.673-1.5 1.506s.67 1.506 1.5 1.506c.395 0 .75-.156 1.02-.407l3.56 2.089a1.42 1.42 0 0 0-.04.326c0 .808.655 1.466 1.46 1.466.805 0 1.46-.658 1.46-1.466 0-.808-.655-1.466-1.46-1.466Z"/></symbol><symbol id="sort" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></symbol><symbol id="space_bar" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 9v4H6V9H4v6h16V9z"/></symbol><symbol id="star_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/></symbol><symbol id="star_filled" viewBox="0 0 24 24"><path d="m22 9.2-7.2-.6L12 2 9.2 8.6 2 9.2 7.5 14l-1.6 7 6.2-3.7 6.2 3.7-1.6-7L22 9.2z"/></symbol><symbol id="steam_logo_icon" viewBox="0 0 93 93"><path fill-rule="evenodd" d="M46.422 1C71.594 1 92 21.37 92 46.5 92 71.629 71.594 92 46.422 92 25.556 92 7.979 78 2.569 58.9l17.471 7.21c1.184 5.893 6.405 10.343 12.65 10.343 7.114 0 12.901-5.777 12.901-12.88 0-.203-.006-.408-.014-.61l15.494-11.037c.13.004.26.007.39.007 9.478 0 17.19-7.7 17.19-17.16 0-9.462-7.712-17.16-17.19-17.16-9.479 0-17.19 7.698-17.19 17.16l.003.222-10.865 15.719a12.834 12.834 0 0 0-7.98 2.22L1 42.85C2.864 19.43 22.479 1 46.422 1ZM29.263 54.515a9.665 9.665 0 0 1 7.136.108 9.612 9.612 0 0 1 5.229 5.243 9.585 9.585 0 0 1-.015 7.396c-2.054 4.92-7.735 7.255-12.66 5.206a9.639 9.639 0 0 1-4.99-4.737l5.6 2.309c3.634 1.512 7.808-.204 9.322-3.831a7.112 7.112 0 0 0-3.838-9.306Zm32.198-31.177c6.316 0 11.454 5.13 11.454 11.435 0 6.304-5.138 11.433-11.454 11.433-6.315 0-11.454-5.13-11.454-11.433 0-6.304 5.139-11.435 11.454-11.435Zm.02 2.827c-4.752 0-8.605 3.844-8.605 8.588 0 4.743 3.853 8.588 8.604 8.588 4.752 0 8.604-3.845 8.604-8.588 0-4.744-3.852-8.588-8.604-8.588Z"/></symbol><symbol id="stop" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 6h12v12H6V6z"/></symbol><symbol id="storage" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></symbol><symbol id="sword" viewBox="0 0 24 24"><path d="m11.05 15.97 10.23-9.55L22 2l-4.42.72-9.55 10.23-1.6-1.59-1.31 1.31 6.21 6.21 1.31-1.31zm-8.04 5.02c-.83-.83-.83-2.19 0-3.02l2.65-2.65 3.02 3.02-2.65 2.65c-.83.83-2.18.83-3.02 0Z"/></symbol><symbol id="sync" viewBox="0 0 24 24"><path fill="none" d="M.01 0h24v24h-24V0z"/><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></symbol><symbol id="tablet" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M21 0H3v24h18V0zm-7 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z"/></symbol><symbol id="tag" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22.83 12.99 11.83 2H2v9.83l10.99 10.99 9.84-9.83zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/></symbol><symbol id="text_snippet" viewBox="0 -960 960 960"><path d="M200-200h560v-367L567-760H200v560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h400l240 240v400q0 33-23.5 56.5T760-120H200Zm80-160h400v-80H280v80Zm0-160h400v-80H280v80Zm0-160h280v-80H280v80Zm-80 400v-560 560Z"/></symbol><symbol id="thick_arrow_dash_up" viewBox="0 0 24 24"><path d="M7.027 14.513H0L12.009 0 24 14.513h-6.995v3.44H7.027Zm-.001 5.803h9.978v3.495H7.026Z" fill="#fff"/></symbol><symbol id="thick_arrow_up" viewBox="0 0 24 24"><path fill="#fff" d="M7.027 14.513H0L12.009 0 24 14.513h-6.995V24H7.027v-9.487z"/></symbol><symbol id="time" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2ZM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7Z"/></symbol><symbol id="tune" viewBox="0 0 24 24"><path d="M3 17v2h6v-2H3ZM3 5v2h10V5H3Zm10 16v-2h8v-2h-8v-2h-2v6h2ZM7 9v2H3v2h4v2h2V9H7Zm14 4v-2H11v2h10Zm-6-4h2V7h4V5h-4V3h-2v6Z"/></symbol><symbol id="tv_illustration" viewBox="0 0 238 163"><path clip-rule="evenodd" d="M.267.268h237.466v147.466H.267V.268ZM6 6v136h226V6H6Zm61 151.268h106v5.733H67v-5.733Z"/><path clip-rule="evenodd" d="M135.8 66.002c-.4-2-2.8-4-4.8-4 0-1.2-.8-2-2-2h-4c-1.2 0-2 .8-2 2h-8c0-1-1-2-2-2h-4c-1.2 0-2 .8-2 2-2 0-4.4 1.8-4.8 4-.4 2-3.2 14-3.2 18 0 2 2 4 4 4s4-2 6-4 2-2.2 4-4c2-2 2-2 4-2h4c2 0 2 0 4 2l4 4c2 2 4 4 6 4s4-2 4-4c0-3.8-2.8-16-3.2-18Zm-20.8 5.4h-2.6v2.6h-2.8v-2.6H107v-2.8h2.6v-2.6h2.8v2.6h2.6v2.8Zm12 2.6c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4Z"/></symbol><symbol id="upload" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 12V5H5v7H3V3h18v9h-2Zm-6-.67 2.59 2.58L17 12.5l-5-5-5 5 1.41 1.41L11 11.33V21h2v-9.67Z"/></symbol><symbol id="video" viewBox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H2v16h20V4z"/></symbol><symbol id="video_off" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 22.147V8.667L22.667 14V8h-8.814L28 22.147ZM4.547 2.48l-1.88 1.88L6.307 8H4v16h18.307l4 4 1.88-1.88L4.547 2.48Z"/></symbol><symbol id="videocam" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 10.5V6H3v12h14v-4.5l4 4v-11l-4 4z"/></symbol><symbol id="videocam_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 16.61V6.5l-4 4V6h-6.61zM3.41 1.86 2 3.27 4.73 6H3v12h13.73l3 3 1.41-1.41z"/></symbol><symbol id="view_detailed" viewBox="0 0 768 768"><path d="M320 160v192h350.016V160zM128 576h160.992V160H128zm192 0h350.016V384H320v192z"/></symbol><symbol id="view_grid" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"/></symbol><symbol id="view_summary" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"/></symbol><symbol id="volume" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></symbol><symbol id="volume_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4.34 2.93 2.93 4.34 7.29 8.7 7 9H3v6h4l5 5v-6.59l4.18 4.18c-.65.49-1.38.88-2.18 1.11v2.06a8.94 8.94 0 0 0 3.61-1.75l2.05 2.05 1.41-1.41L4.34 2.93zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zm-7-8-1.88 1.88L12 7.76zm4.5 8A4.5 4.5 0 0 0 14 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"/></symbol><symbol id="vr" viewBox="0 0 24 24"><path d="M3 8.5v5l-1-1v-3l1-1zm18 0v5l1-1v-3l-1-1zm-3-1.6c-1.3-.3-2-.4-6-.4-3 0-4.7.1-6 .4-1 .3-2 .6-2 1.6v6c0 1 3 3 4 3 2 0 3-1 4-1s2 1 4 1c1 0 4-2 4-3v-6c0-1-1-1.3-2-1.6zm-9.5 6.6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm7 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="warning" viewBox="0 0 768 768"><path d="M416 448h-64V320h64zm0 128h-64v-64h64zM32 672h704L384 64 32 672z"/></symbol><symbol id="wifi" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8 3 3 3-3a4.237 4.237 0 0 0-6 0zm-4-4 2 2a7.074 7.074 0 0 1 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></symbol><symbol id="wrench" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12.09 2.91C10.08.9 7.07.49 4.65 1.67l4.34 4.34-3 3-4.34-4.34C.48 7.1.89 10.09 2.9 12.1a6.507 6.507 0 0 0 6.89 1.48l9.82 9.82 3.71-3.71-9.78-9.79c.92-2.34.44-5.1-1.45-6.99z"/></symbol><symbol id="wrench_circle" viewBox="0 0 32 32"><path d="m12.7 14.566-3.133-3.133a5.704 5.704 0 0 0-.417 1.1c-.1.378-.15.756-.15 1.133 0 1.267.45 2.35 1.35 3.251.9.9 1.983 1.35 3.25 1.35A4.412 4.412 0 0 0 15.166 18l5.034 5 2.8-2.8-5-5.034c.089-.2.155-.428.2-.684.044-.255.067-.549.067-.882 0-1.267-.45-2.35-1.35-3.25-.9-.9-1.984-1.35-3.25-1.35-.378 0-.756.05-1.134.15-.378.1-.744.239-1.1.416l3.133 3.134-1.866 1.867ZM16 29.334c-1.845 0-3.578-.35-5.2-1.05a13.456 13.456 0 0 1-4.234-2.85c-1.2-1.2-2.15-2.61-2.849-4.233-.7-1.622-1.05-3.356-1.05-5.2 0-1.845.35-3.578 1.05-5.2a13.47 13.47 0 0 1 2.85-4.234c1.2-1.2 2.61-2.15 4.233-2.85 1.622-.7 3.355-1.05 5.2-1.05 1.844 0 3.578.35 5.2 1.05 1.622.7 3.033 1.65 4.233 2.85a13.47 13.47 0 0 1 2.85 4.234c.7 1.622 1.05 3.355 1.05 5.2 0 1.844-.35 3.578-1.05 5.2a13.456 13.456 0 0 1-2.85 4.233c-1.2 1.2-2.61 2.15-4.233 2.85-1.622.7-3.356 1.05-5.2 1.05Z" fill="currentColor"/></symbol></svg>')),Promise.resolve()}(A,d)},deps:[u.jv,h.H7],multi:!0},Z={showDelay:0,hideDelay:0,touchendHideDelay:1500,disableTooltipInteractivity:!0};let W=(()=>{var A;class d{}return(A=d).\u0275fac=function($){return new($||A)},A.\u0275mod=L.oAB({type:A}),A.\u0275inj=L.cJS({providers:[N,{provide:x.Bq,useValue:{...new x.vA,restoreFocus:!1}},{provide:S.xM,useValue:{...new S.H9,restoreFocus:!1}},{provide:ot.Jm,useValue:Z}],imports:[e.ez,f.o9,i.JF,M,O.aw,E.N,g.t,w.Bz,z.Tx,p.Cl]}),d})();L.B6R(c.D,[e.mk,e.sg,e.O5,e.tP,e.PC,dt.xw,dt.SQ,dt.Wh,X.oO,X.Zl,n.JJ,n.On,m.Lv,R.Ou,_.eB,u.Hw,I.VQ,I.U0,b.FC,q.kH,w.rH,l.N,l.b,o.xZ,P.E,K.e,B.h,j.t,F.p,U.VP],[O.X$]),L.B6R(V.A,[e.mk,e.O5,e.tP,dt.xw,dt.SQ,dt.Wh,dt.XD,dt.yH,X.oO,R.Ou,_.eB,E.V,l.N,P.E,K.e,B.h,F.p,U.VP],[O.X$]),L.B6R(C.O,[e.sg,e.O5,e.tP,dt.xw,dt.SQ,dt.Wh,dt.yH,R.Ou,_.eB,u.Hw,E.V,l.N,P.E,K.e,B.h,F.p,Q.b],[O.X$])},39614:(Dt,ct,t)=>{"use strict";function i(u){return 1-Math.cos(u*Math.PI/2)}function x(u){return u}function S(u){return 1-Math.pow(1-u,3)}t.d(ct,{GE:()=>x,N1:()=>i,w2:()=>S})},69965:(Dt,ct,t)=>{"use strict";t.d(ct,{p:()=>c});var e=t(39614),i=t(51192),L=t(69531),f=t(17827),x=t(32484),S=t(47422),u=t(24727),g=t(35048),h=t(85046),O=t(15746),E=t(90786);class c{constructor(l,o,n,s){var R,_;if(this.container=l,this.onScrollStatusChanged=new x.xQ,this.isComplete=!1,this.isStarted=!1,!(l&&l instanceof HTMLElement))throw new Error(`${l.tagName} is not a valid container`);if(null!=s&&s.rtlEnabled?(o=Math.min(0,o),o=Math.max(-(l.scrollWidth-l.clientWidth),o)):(o=Math.max(0,o),o=Math.min(l.scrollWidth-l.clientWidth,o)),n=Math.min(l.scrollHeight-l.clientHeight,n),n=Math.max(0,n),this.easingFunction=null!==(R=null==s?void 0:s.easingFunction)&&void 0!==R?R:e.GE,null!=s&&s.duration&&s.duration<0)throw new Error(`${s.duration} is not a valid duration. the duration must greater or equal than 0.`);this.duration=null!==(_=null==s?void 0:s.duration)&&void 0!==_?_:200,this.startX=l.scrollLeft,this.startY=l.scrollTop,this.scrollAmountX=o-this.startX,this.scrollAmountY=n-this.startY}onScrollStart(){return this.onScrollStatusChanged.pipe((0,h.h)(l=>l))}onScrollEnd(){return this.onScrollStatusChanged.pipe((0,h.h)(l=>!l))}start(){if(this.isComplete||this.isStarted)throw new Error(`the scrolling is ${this.isComplete?"completed":"started"}.`);return function V(C,l=i.Z){return function p(C=i.Z){return(0,L.P)(()=>{const l=C.now();return(0,f.F)(0,C).pipe((0,S.U)(()=>C.now()-l))})}(l).pipe((0,S.U)(o=>o/C),(0,u.o)(o=>o<1),(0,g.l)(1))}(this.duration).pipe((0,O.b)(()=>{this.isStarted||(this.isStarted=!0,this.onScrollStatusChanged.next(!0))}),(0,S.U)(l=>this.easingFunction(l)),(0,S.U)(l=>(this.container.scrollLeft=this.startX+this.scrollAmountX*l,this.container.scrollTop=this.startY+this.scrollAmountY*l,l)),(0,E.x)(()=>{this.isComplete=!0,this.onScrollStatusChanged.next(!1)}))}}},81906:(Dt,ct,t)=>{"use strict";function e(L){var f;const x=window.__spatialNavigation__;return null!==(f=null==x?void 0:x.isScrollContainer(L))&&void 0!==f&&f}function i(L){if(null==L||!L.isConnected)return null;let f=L;for(;f&&!e(f);)f=f.parentElement;return f}t.d(ct,{J:()=>i})},62404:(Dt,ct,t)=>{"use strict";t.d(ct,{I:()=>p});var e=t(17401),i=t(68740),L=t(46939),f=t(56009),x=t(31868),S=t(77869),u=t(61699),g=t(13963),h=t(92403),O=t(42586),E=t(93170);let p=(()=>{var V;class c{get currentFocusedElement(){return document.activeElement instanceof HTMLElement?document.activeElement:void 0}constructor(l,o,n,s,R){this.spatialNavigationService=o,this.inputModalityService=n,this.checker=s,this.focusMonitor=R,this.logger=l.getLogger("FocusManager")}canFocusElement(l,o){return!(!l||(l.isConnected?this.currentFocusedElement===l&&l.classList.contains(`.cdk-${o}-focused`)&&(this.logger.warn(`cdk-${o}-focused is existing in ${l.nodeName}.`),1):(this.logger.warn(`${l.nodeName} is not connected to DOM.`),1)))}getFirstFocusableChild(l,o){const n=null!=o?o:this.checker.isFocusable.bind(this.checker),s=l.children;for(let R=0;R<s.length;R++){const _=s[R];let b=null;if(b=_.nodeType===Node.ELEMENT_NODE&&n(_)?_:this.getFirstFocusableChild(_,o),b)return b}return null}focusChild(l,o,n,s){l&&setTimeout(()=>{const R="initial"===o?this.getInitialFocusable(l,n):this.getFirstFocusableChild(l,n);this.focusViaLastOrigin(R,s)},0)}getInitialFocusable(l,o){const n=null!=o?o:this.checker.isFocusable.bind(this.checker);let s=l.querySelector("[cdkFocusInitial]");return(!s||!n(s))&&(s=this.getFirstFocusableChild(l,n)),s}focusViaLastOrigin(l,o){var n;const s=null!==(n=this.inputModalityService.lastFocusOrigin)&&void 0!==n?n:"keyboard";this.focusVia(l,s,o)}focusVia(l,o,n){this.canFocusElement(l,o)&&(this.spatialNavigationService.enabled&&this.spatialNavigationService.setStartingPoint(null),this.focusMonitor.focusVia(l,o,n))}navigateTo(l,o,n){!l||!(0,x.gC)(l,"navbeforefocus",o)||this.focusViaLastOrigin(l,n)}getFocusRestorationTargetAt(l,o){const n=(0,S.hi)(l,o);if(!n||this.checker.isFocusable(n))return n;if(!Element.prototype.spatialNavigationSearch||!Element.prototype.focusableAreas)return;const R=n.getSpatialNavigationContainer().focusableAreas({mode:"visible"});let _,b=Number.POSITIVE_INFINITY;return R.forEach(I=>{if(!(I instanceof HTMLElement)||window.__spatialNavigation__.isContainer(I)&&R.some(P=>I.contains(P)))return;const q=I.getBoundingClientRect(),M=function w(V,c,C,l){return Math.abs(V-C)+Math.abs(c-l)}(l,o,(q.left+q.right)/2,(q.top+q.bottom)/2);M<b&&(b=M,_=I)}),_}createRestoreFocusFunction(l){if(l===document.body)return()=>{this.logger.warn("restoreTarget cannot be BODY. The focus might have already been lost before focus restoration")};const o=l.getBoundingClientRect();return()=>{if(l.isConnected&&this.checker.isFocusable(l))this.focusViaLastOrigin(l);else{const R=this.getFocusRestorationTargetAt((o.left+o.right)/2,(o.top+o.bottom)/2);R?this.focusViaLastOrigin(R):this.logger.warn("Potential focus loss (failed to restore focus) - target cannot be focused and no other focusable element is found")}}}restoreFocusAfterClosed(l,o){var n;const s=null!==(n=null==o?void 0:o.restoreFocusTarget)&&void 0!==n?n:this.currentFocusedElement,R=l();if(s){const _=this.createRestoreFocusFunction(s);let b;if(R instanceof e.so)b=R.afterClosed();else if(R instanceof i.oL)b=R.afterDismissed();else{if(!(R instanceof f.J))throw new Error("not a supported type.");b=R.afterClosed()}if(!b)throw new Error("afterClosed$ is not assigned.");b.pipe((0,L.q)(1)).subscribe(()=>{_()})}return R}}return(V=c).\u0275fac=function(l){return new(l||V)(u.LFG(g.ed),u.LFG(h.j),u.LFG(O.b),u.LFG(E.ic),u.LFG(E.tE))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})()},79565:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>w});var e=t(85528),i=t(89332),L=t(97384),f=t(70506),x=t(49481),S=t(89718),u=t(99901),g=t(61699),h=t(68740),O=t(17401),E=t(62404);let w=(()=>{var p;class V{get enabled(){return this._enabled}get isModalSheetOpened$(){return this.isModalSheetOpenSubject?this.isModalSheetOpenSubject.asObservable():f.E}constructor(C,l,o,n){this.matBottomSheet=l,this.matDialog=o,this.focusManager=n,this._enabled=!1,this.config=null==C?void 0:C.offDeviceLinkConfig,this.tvMode=!(null==C||!C.tvMode)}enable(){window.open=(C,l,o,n)=>(C&&this.open(C),null),this._enabled=!0,this.isModalSheetOpenSubject||(this.isModalSheetOpenSubject=new x.t(1))}open(C,l){if(!this.config)throw new Error("Off device link configuration is missing!");if(this._enabled){let o=!1;if(this.matDialog.openDialogs.length>0&&this.matDialog.openDialogs[this.matDialog.openDialogs.length-1].componentInstance instanceof i.O&&(o=!0),o){const n=this.focusManager.restoreFocusAfterClosed(()=>{var s;return i.O.open(this.matDialog,{data:{headerText:{text:null==l?void 0:l.shortUrl},bodyText:{text:null!==(s=null==l?void 0:l.shortUrlDescription)&&void 0!==s?s:this.config.title},primaryButton:{text:this.config.primaryButtonText},image:{url:C},threeQuarterSheetData:null==l?void 0:l.threeQuarterSheetData},autoFocus:!1})});n.componentInstance.primaryButtonClick.subscribe(()=>{n.close()}),(0,S.T)(n.afterOpened().pipe((0,u.h)(!0)),n.afterClosed().pipe((0,u.h)(!1))).subscribe(s=>this.isModalSheetOpenSubject.next(s))}else{const n=this.focusManager.restoreFocusAfterClosed(()=>e.A.open(this.matBottomSheet,{data:{headerText:{text:this.config.title},bodyText:null!=l&&l.shortUrl?{text:null==l?void 0:l.shortUrl}:void 0,primaryButton:{text:this.config.primaryButtonText},link:{url:C,text:null==l?void 0:l.shortUrl}}},this.tvMode));n.instance.primaryButtonClick.subscribe(()=>{n.dismiss()}),(0,S.T)(n.afterOpened().pipe((0,u.h)(!0)),n.afterDismissed().pipe((0,u.h)(!1))).subscribe(s=>this.isModalSheetOpenSubject.next(s))}}else window.open(C,"_blank")}}return(p=V).\u0275fac=function(C){return new(C||p)(g.LFG(L.i,8),g.LFG(h.ch),g.LFG(O.uw),g.LFG(E.I))},p.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},31868:(Dt,ct,t)=>{"use strict";t.d(ct,{aD:()=>e.aD,bc:()=>e.bc,dZ:()=>e.dZ,gC:()=>e.gC,jq:()=>e.jq,jr:()=>i.j,kQ:()=>e.kQ,mD:()=>e.mD});var e=t(22841),i=t(92403)},92403:(Dt,ct,t)=>{"use strict";t.d(ct,{j:()=>p});var e=t(56293),i=t(69531),L=t(89718),f=t(93190),x=t(9681),S=t(87965),u=t(97384),g=t(22841),h=t(61699),O=t(42586),E=t(13963);let w=(()=>{var V;class c{constructor(l,o,n,s){this.ngZone=l,this.inputModalityService=s,this.maxLength=0,this.focusIn=R=>{const _=this.queue.length>0&&this.queue[this.queue.length-1].fl,b={fo:null,fi:this.buildFocusEventData(R),fl:!1};R.target!==document.activeElement&&(b.ae=this.buildElementData(document.activeElement)),this.enqueue(b),_&&this.logger.info("Focus regained. Focus on: ",JSON.stringify(b.fi))},this.focusOut=R=>{const _=this.buildFocusEventData(R);let b;var I;0===this.queue.length||null!==this.queue[this.queue.length-1].fo?(b={fo:_,fl:this.shouldCheckFocusLoss(R.target),fi:null},this.enqueue(b)):(b=this.queue[this.queue.length-1],b.fo=_,b.fl=this.shouldCheckFocusLoss(R.target)&&(null===R.relatedTarget||!(null!==(I=R.relatedTarget)&&void 0!==I&&I.isConnected))),b.fl&&this.logger.warn("Potential focus loss. Focus history: ",JSON.stringify(this.queue))},this.logger=o.getLogger("FocusHistoryQueueService"),this.window=n.window}enqueue(l){this.queue.push(l)>this.maxLength&&this.queue.shift()}buildElementData(l,o=0){var n,s;if(!l)return null;const R={nn:null===(n=l.nodeName)||void 0===n||null===(s=n.toUpperCase)||void 0===s?void 0:s.call(n)};var _;return"BUTTON"===R.nn?R.it=l.textContent||(null===(_=l.querySelector("mat-icon[data-mat-icon-name]"))||void 0===_?void 0:_.getAttribute("data-mat-icon-name")):!l.textContent||"A"!==R.nn&&"MAT-SELECT"!==R.nn?l.textContent&&("DIV"===R.nn||"MAT-DIALOG-CONTAINER"===R.nn)&&(R.it=l.textContent.substring(0,50)):R.it=l.textContent,R.it||(R.cn=l.className,0===o&&(R.sc=this.buildElementData(l.getSpatialNavigationContainer(),o+1))),R}buildFocusEventData(l){return{ts:l.timeStamp,t:this.buildElementData(l.target),rt:this.buildElementData(l.relatedTarget),i:this.lastInputType}}shouldCheckFocusLoss(l){return this.lastInputType!==O.q.Touch&&this.lastInputType!==O.q.Mouse&&!(null!=l&&l.hasAttribute("data-focus-loss-exempt"))}start(l){this.logger.info("Starting Focus History Queue Service"),this.lastInputType=null,this.maxLength=l,this.queue=[],this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("focusin",this.focusIn),this.window.addEventListener("focusout",this.focusOut),this.inputModalitySubscription=this.inputModalityService.inputModalityChanged$.subscribe(o=>{this.lastInputType=o})})}stop(){this.logger.info("Stopping Focus History Queue Service"),this.ngZone.runOutsideAngular(()=>{var l;this.window.removeEventListener("focusin",this.focusIn),this.window.removeEventListener("focusout",this.focusOut),null===(l=this.inputModalitySubscription)||void 0===l||l.unsubscribe()})}}return(V=c).\u0275fac=function(l){return new(l||V)(h.LFG(h.R0b),h.LFG(E.ed),h.LFG(E.un),h.LFG(O.b))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})(),p=(()=>{var V;class c{get enabled(){return this._enabled}constructor(l,o,n){var s;this.focusHistoryQueueService=o,this.logginService=n,this.spatialNavigation=void 0,this._navigate=void 0,this._enabled=!1,this.config=null!==(s=null==l?void 0:l.spatialNavigationConfig)&&void 0!==s?s:{},this.spatialNavigation=window.__spatialNavigation__,this.logger=this.logginService.getLogger("SpatialNavigationService"),this.spatialNavigation&&(this._navigate=window.navigate,this.spatialNavigation.keyMode="NONE")}setNavigationContainerCssStyles(l,o,n,s=!0){this.enabled&&(l.setAttribute("data-spatial-navigation-contain","contain"),l.setAttribute("data-spatial-navigation-action",n),l.style.setProperty("--spatial-navigation-function",o),"focus"===n&&s&&l.style.setProperty("scroll-behavior","smooth"))}enable(l){var o,n;this._enabled=l,this.activated=l,this.enabled?(null===(o=this.config)||void 0===o?void 0:o.focusHistoryQueueSize)>0&&this.focusHistoryQueueService.start(this.config.focusHistoryQueueSize):(null===(n=this.config)||void 0===n?void 0:n.focusHistoryQueueSize)>0&&this.focusHistoryQueueService.stop()}get activated(){return!(!this.spatialNavigation||"NONE"===this.spatialNavigation.keyMode)}set activated(l){!this.enabled||!this.spatialNavigation||(this.spatialNavigation.keyMode=l?"ARROW":"NONE")}setStartingPoint(l){if(!this.enabled||!this.spatialNavigation)return;if(!l)return void this.spatialNavigation.setStartingPoint(null);const o=l.getBoundingClientRect();this.spatialNavigation.setStartingPoint(o.x+o.width/2,o.y+o.height/2)}setStartingPointAt(l,o){!this.enabled||!this.spatialNavigation||this.spatialNavigation.setStartingPoint(l,o)}getClosestChild(l,o,n,s){const R=o.focusableAreas({mode:"all"});let _=this.getClosestChildInternal(l,o,n,R);if(!_&&(null==s?void 0:s.length)>0)for(const b of s)if(_=this.getClosestChildInternal(l,o,b,R),_)break;return _}getClosestChildInternal(l,o,n,s){return l.spatialNavigationSearch(n,{container:o,candidates:s})}isFullyInViewport(l){return new e.y(o=>{const n=new IntersectionObserver(s=>{var R;const _=null===(R=s.filter(b=>b.intersectionRatio<1))||void 0===R?void 0:R[0];o.next(!_)});return n.observe(l),function(){n.disconnect()}})}onClick(l){return(0,i.P)(()=>(l instanceof HTMLAnchorElement&&(l.tabIndex=0),(0,L.T)((0,f.R)(l,"click"),(0,f.R)(l,"keydown")).pipe((0,S.zg)(o=>o instanceof MouseEvent||"Enter"===o.key||" "===o.key?(0,x.of)(o):(0,x.of)(void 0)))))}isDefaultFocusRequired(){return this.enabled&&!!this.config.isDefaultFocusRequired}navigate(l){var o;null===(o=this._navigate)||void 0===o||o.call(this,l)}isFocusable(l){return this.spatialNavigation.isFocusable(l)}findNextTarget(l,o,n=document.body){let s,R;const _=l.getBoundingClientRect();return(0,g.kQ)(o)?(s="left"===o?_.left-1:_.right+1,R=(_.top+_.bottom)/2):(s=(_.left+_.right)/2,R="up"===o?_.top-1:_.bottom+1),this.setStartingPointAt(s,R),this.getClosestChild(document.body,n,o)}shouldContainFocus(l,o){return Array.isArray(o)?o.includes(l):o}}return(V=c).\u0275fac=function(l){return new(l||V)(h.LFG(u.i,8),h.LFG(w),h.LFG(E.ed))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})()},22841:(Dt,ct,t)=>{"use strict";t.d(ct,{aD:()=>g,bc:()=>u,dZ:()=>x,gC:()=>i,jq:()=>f,kQ:()=>S,mD:()=>L});var e=t(77869);function i(h,O,E){const w=new CustomEvent(O,{bubbles:!0,cancelable:!0,detail:{dir:E}});return h.dispatchEvent(w)}function L(h){switch(h){case"ArrowUp":return"up";case"ArrowDown":return"down";case"ArrowLeft":return"left";case"ArrowRight":return"right";default:throw new Error(`${h} is not a valid navigation key value`)}}function f(h){switch(h){case"up":return e.WH.ArrowUp;case"down":return e.WH.ArrowDown;case"left":return e.WH.ArrowLeft;case"right":return e.WH.ArrowRight;default:throw new Error(`${h} is not a valid spatial navigation direction`)}}function x(h){switch(h){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left"}}function S(h){return"left"===h||"right"===h}function u(h){return"up"===h||"down"===h}const g=40},10368:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>O,w:()=>E});var e=t(97384),i=t(99901),L=t(46939),f=t(77869),x=t(89718),S=t(61699),u=t(13963),g=t(59074),h=t(43559),O=function(w){return w[w.Link=0]="Link",w[w.Share=1]="Share",w[w.Input=2]="Input",w[w.PlayMedia=3]="PlayMedia",w}(O||{});let E=(()=>{var w;class p{get enabled(){return this._enabled}set enabled(c){this._enabled=c,this.logger.info("UserActivationGuardService is enabled")}constructor(c,C,l,o){var n,s,R,_,b;this.snackbarService=C,this.translateService=l,this._enabled=!1,this.guardedTypes=[],this.logger=c.getLogger("UserActivationGuard"),this.defaultWarningMessage=null==o||null===(n=o.userActivationGuardConfig)||void 0===n?void 0:n.buttonWarningMessage,null!=o&&null!==(s=o.userActivationGuardConfig)&&void 0!==s&&s.link&&this.guardedTypes.push(O.Link),null!=o&&null!==(R=o.userActivationGuardConfig)&&void 0!==R&&R.input&&this.guardedTypes.push(O.Input),null!=o&&null!==(_=o.userActivationGuardConfig)&&void 0!==_&&_.playMedia&&this.guardedTypes.push(O.PlayMedia),null!=o&&null!==(b=o.userActivationGuardConfig)&&void 0!==b&&b.share&&this.guardedTypes.push(O.Share)}displayWarning(c,C){return this.snackbarService.open(this.translateService.instant(c,C))}isGuarded(c){return this.guardedTypes.includes(c)}guard(c,C,l,o){if(!this.isGuarded(c))return C;let n=!1;return(s,...R)=>{if((0,f.Z3)(s))C(s,...R);else if(!n){const I=this.displayWarning(null!=l?l:this.defaultWarningMessage,null!=o&&o.interpolationKey?{[o.interpolationKey]:null!=o&&o.useInnerText?s.target.innerText:null==o?void 0:o.text}:void 0);(0,x.T)(I.afterOpened().pipe((0,i.h)(!0)),I.afterDismissed().pipe((0,i.h)(!1))).pipe((0,L.q)(2)).subscribe(q=>{n=q})}}}}return(w=p).\u0275fac=function(c){return new(c||w)(S.LFG(u.ed),S.LFG(g.pl),S.LFG(h.sK),S.LFG(e.i,8))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},91467:(Dt,ct,t)=>{"use strict";t.d(ct,{SL:()=>N,aD:()=>j.aD,IK:()=>Q.I,UW:()=>H,RE:()=>g.R,hp:()=>e.hp,iN:()=>i.i,TX:()=>dt,AV:()=>x.A,Hy:()=>Ce,Dq:()=>ve,JP:()=>ot.J,GU:()=>u.G,Qe:()=>O.Q,OL:()=>S.O,qA:()=>Y.q,Xm:()=>tt.Xm,Ls:()=>d,pd:()=>De.p,NN:()=>V.N,JZ:()=>P.J,l9:()=>$e.l,jr:()=>B.j,Te:()=>A,wI:()=>Z.w,Ku:()=>Z.K,av:()=>tt.av,dZ:()=>j.dZ,JX:()=>ze.J,mD:()=>j.mD});var e=t(22843),i=t(97384),f=(t(66273),t(10481)),x=t(85528),S=t(89332),u=t(10087),g=t(79664),O=(t(50693),t(35316)),w=(t(55784),t(77869)),p=t(13963),V=t(75889),l=(t(88451),t(529),t(47011)),o=t(6955);t(78186);var P=t(17849),B=(t(81337),t(92403)),j=t(31868),tt=t(80602),ot=t(56009),F=t(61699),U=t(17401),z=t(68740),Q=t(62404);let dt=(()=>{var Se;class ce{constructor(qt,Ct,Gt,Zt){this.matDialog=qt,this.matBottomSheet=Ct,this.focusManager=Gt,this.tvMode=!!Zt.tvMode}open(qt,Ct){qt.autoFocus=!1;const Gt=()=>(null==Ct?void 0:Ct.preferredDialogType)===tt.Xm.BottomSheet?x.A.open(this.matBottomSheet,qt,this.tvMode):this.tvMode?qt.data.checkbox||qt.data.radioButtonOptions||(null==Ct?void 0:Ct.preferredDialogType)===tt.Xm.ThreeQuarterSheet?S.O.open(this.matDialog,qt):x.A.open(this.matBottomSheet,qt,this.tvMode):f.D.open(this.matDialog,qt);return null!=Ct&&Ct.disableFocusRestore?new ot.J(Gt()):this.focusManager.restoreFocusAfterClosed(()=>new ot.J(Gt()),Ct)}closeAll(){this.matDialog.closeAll(),this.matBottomSheet.dismiss()}}return(Se=ce).\u0275fac=function(qt){return new(qt||Se)(F.LFG(U.uw),F.LFG(z.ch),F.LFG(Q.I),F.LFG(i.i,8))},Se.\u0275prov=F.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),ce})();t(87251);var m=t(79329),Y=t(79565),D=t(28332);let N=(()=>{var Se;class ce{constructor(qt,Ct,Gt,Zt){this.ngZone=Gt,this.applicationLifetimeService=Zt,this.backToExitAppListener=ee=>{"Escape"!==ee.key&&"GoBack"!==ee.key||ee.defaultPrevented||this.ngZone.run(()=>{this.logger.info("Requesting application exit"),this.applicationLifetimeService.shutdownApplication(D.ld.ApplicationRequestedExit)})},this.logger=qt.getLogger("BackNavigationService"),this.window=Ct.window}enableBackToExitApp(){this.logger.info("Enabling back to exit app"),this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("keydown",this.backToExitAppListener)})}disableBackToExitApp(){this.logger.info("Disabling back to exit app"),this.window.removeEventListener("keydown",this.backToExitAppListener)}translateSystemBackTo(qt){this.logger.info("System back will be translated to",qt),this.translateTizenBackTo(qt),this.translateShiftedEscapeTo(qt)}translateTizenBackTo(qt){(0,w.fO)()&&this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("tizenhwkey",Ct=>{if("back"===Ct.keyName){const Gt=(0,w.tE)();(0,w.a9)(Gt,"keydown",qt),(0,w.a9)(Gt,"keyup",qt)}})})}translateShiftedEscapeTo(qt){const Ct=Gt=>{"Escape"===Gt.key&&Gt.shiftKey&&(Gt.preventDefault(),Gt.stopImmediatePropagation(),(0,w.a9)(Gt.target,Gt.type,qt))};this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("keydown",Ct,{capture:!0}),this.window.addEventListener("keyup",Ct,{capture:!0})})}}return(Se=ce).\u0275fac=function(qt){return new(qt||Se)(F.LFG(p.ed),F.LFG(p.un),F.LFG(F.R0b),F.LFG(D.Ll))},Se.\u0275prov=F.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),ce})();var Z=t(10368);t(38616);const A=2,d=480,H={MaxS1Width:479,MaxS2Width:719,MaxS3Width:959};var $=t(72416),J=t(26575),st=t(45356),lt=t(47520),gt=t(78654),vt=t(86515),k=t(73725),pt=t(31546),yt=t(6099),Xt=t(43559);const It=["selectorCardElements"];function Nt(Se,ce){if(1&Se&&(F.TgZ(0,"span",7),F._uU(1),F.ALo(2,"translate"),F.qZA()),2&Se){const ge=F.oxw();F.xp6(1),F.Oqu(F.xi3(2,1,ge.data.subtitle.text,null==ge.data.subtitle?null:ge.data.subtitle.placeholders))}}function le(Se,ce){1&Se&&F.GkF(0)}function te(Se,ce){if(1&Se&&F._UZ(0,"img",15),2&Se){const ge=F.oxw(2);F.Q6J("src",ge.choiceChip.choiceChipIcon.text,F.LSH)}}function bt(Se,ce){if(1&Se&&F._UZ(0,"qrcode",24),2&Se){const ge=F.oxw().$implicit,qt=F.oxw(3);F.Q6J("qrdata",ge.stepImage.url)("width",qt.qrCodeWidth)("errorCorrectionLevel","M")}}function Vt(Se,ce){if(1&Se&&F._UZ(0,"mat-icon",25),2&Se){const ge=F.oxw().$implicit;F.Q6J("svgIcon",ge.stepImage.matIcon)}}function ut(Se,ce){if(1&Se&&(F.TgZ(0,"div",18)(1,"div",19),F.YNc(2,bt,1,3,"qrcode",20),F.YNc(3,Vt,1,1,"mat-icon",21),F.qZA(),F.TgZ(4,"span",22),F._uU(5),F.ALo(6,"translate"),F.qZA(),F.TgZ(7,"span",23),F._uU(8),F.ALo(9,"translate"),F.qZA()()),2&Se){const ge=ce.$implicit;F.xp6(2),F.Q6J("ngIf",null==ge||null==ge.stepImage?null:ge.stepImage.url),F.xp6(1),F.Q6J("ngIf",null==ge||null==ge.stepImage?null:ge.stepImage.matIcon),F.xp6(2),F.Oqu(F.lcZ(6,4,ge.stepTitle.text)),F.xp6(3),F.Oqu(F.lcZ(9,6,ge.stepDescription.text))}}function re(Se,ce){if(1&Se&&(F.TgZ(0,"div",16),F.YNc(1,ut,10,8,"div",17),F.qZA()),2&Se){const ge=F.oxw(2);F.xp6(1),F.Q6J("ngForOf",ge.choiceChip.choiceChipContent)}}function Kt(Se,ce){if(1&Se){const ge=F.EpF();F.TgZ(0,"button",26),F.NdJ("click",function(){const Gt=F.CHM(ge).$implicit,Zt=F.oxw(2);return F.KtG(Zt.onButtonClick(Gt))}),F._uU(1),F.ALo(2,"translate"),F.qZA()}if(2&Se){const ge=ce.$implicit;F.Q6J("disabled",null==ge?null:ge.isDisabled),F.xp6(1),F.hij(" ",F.lcZ(2,2,ge.text)," ")}}function jt(Se,ce){if(1&Se&&(F.TgZ(0,"span",27),F._uU(1),F.ALo(2,"translate"),F.qZA()),2&Se){const ge=F.oxw(2);F.xp6(1),F.Oqu(F.lcZ(2,1,ge.choiceChip.choiceChipStatusText.title.text))}}function Wt(Se,ce){if(1&Se&&(F.TgZ(0,"div",8)(1,"div",9),F.YNc(2,te,1,1,"img",10),F.TgZ(3,"span"),F._uU(4),F.ALo(5,"translate"),F.qZA()(),F.YNc(6,re,2,1,"div",11),F.TgZ(7,"div",12),F.YNc(8,Kt,3,4,"button",13),F.qZA(),F.YNc(9,jt,3,3,"span",14),F.qZA()),2&Se){const ge=F.oxw();F.xp6(2),F.Q6J("ngIf",null==ge.choiceChip.choiceChipIcon?null:ge.choiceChip.choiceChipIcon.text),F.xp6(2),F.Oqu(ge.choiceChip.choiceChipTitle.translated?ge.choiceChip.choiceChipTitle.text:F.lcZ(5,5,ge.choiceChip.choiceChipTitle.text)),F.xp6(2),F.Q6J("ngIf",ge.choiceChip.choiceChipContent),F.xp6(2),F.Q6J("ngForOf",null==ge.choiceChip?null:ge.choiceChip.choiceChipButtons),F.xp6(1),F.Q6J("ngIf",null==ge.choiceChip||null==ge.choiceChip.choiceChipStatusText?null:ge.choiceChip.choiceChipStatusText.title)}}function oe(Se,ce){if(1&Se&&(F.TgZ(0,"span",41),F._uU(1),F.ALo(2,"translate"),F.qZA()),2&Se){const ge=F.oxw().$implicit;F.xp6(1),F.Oqu(F.lcZ(2,1,ge.secondaryInfo.text))}}function Qt(Se,ce){if(1&Se&&F._UZ(0,"mat-icon",42),2&Se){const ge=F.oxw().$implicit;F.Q6J("svgIcon",ge.secondaryInfo.matIcon)}}function Pt(Se,ce){if(1&Se&&(F.TgZ(0,"span",43),F._uU(1),F.ALo(2,"translate"),F.qZA()),2&Se){const ge=F.oxw().$implicit;F.xp6(1),F.Oqu(F.lcZ(2,1,ge.selectorCardStatusText.text))}}function Ut(Se,ce){if(1&Se){const ge=F.EpF();F.TgZ(0,"button",46),F.NdJ("click",function(){const Gt=F.CHM(ge).$implicit,Zt=F.oxw(4);return F.KtG(Zt.onButtonClick(Gt))}),F._uU(1),F.ALo(2,"translate"),F.qZA()}if(2&Se){const ge=ce.$implicit;F.Q6J("disabled",null==ge?null:ge.isDisabled),F.xp6(1),F.hij(" ",F.lcZ(2,2,ge.text)," ")}}function Tt(Se,ce){if(1&Se&&(F.TgZ(0,"div",44),F.YNc(1,Ut,3,4,"button",45),F.qZA()),2&Se){const ge=F.oxw().$implicit;F.xp6(1),F.Q6J("ngForOf",ge.selectorCardButtons)}}const it=function(Se){return{expanded:Se}},Mt=function(Se){return{visibility:Se}};function zt(Se,ce){if(1&Se){const ge=F.EpF();F.TgZ(0,"div",30,31),F.NdJ("focus",function(){const Gt=F.CHM(ge).index,Zt=F.oxw(2);return F.KtG(Zt.expandSelectorCard(Gt))})("mousemove",function(){const Gt=F.CHM(ge).index,Zt=F.oxw(2);return F.KtG(Zt.expandSelectorCard(Gt))}),F.TgZ(2,"div",32),F._UZ(3,"img",33),F.TgZ(4,"span",34),F._uU(5),F.qZA()(),F.TgZ(6,"div",35)(7,"div",36),F.YNc(8,oe,3,3,"span",37),F.YNc(9,Qt,1,1,"mat-icon",38),F.qZA(),F.YNc(10,Pt,3,3,"span",39),F.qZA(),F.YNc(11,Tt,2,1,"div",40),F.qZA()}if(2&Se){const ge=ce.$implicit,qt=ce.index,Ct=F.oxw(2);F.Q6J("ngClass",F.VKq(8,it,qt===Ct.expandedSelectorCardIndex)),F.xp6(3),F.Q6J("ngStyle",F.VKq(10,Mt,null!=ge.selectorCardIcon&&ge.selectorCardIcon.url?"visible":"hidden"))("src",ge.selectorCardIcon.url,F.LSH),F.xp6(2),F.Oqu(ge.selectorCardIcon.caption),F.xp6(3),F.Q6J("ngIf",null==ge||null==ge.secondaryInfo?null:ge.secondaryInfo.text),F.xp6(1),F.Q6J("ngIf",null==ge||null==ge.secondaryInfo?null:ge.secondaryInfo.matIcon),F.xp6(1),F.Q6J("ngIf",null==ge?null:ge.selectorCardStatusText),F.xp6(1),F.Q6J("ngIf",null==ge?null:ge.selectorCardButtons)}}function ft(Se,ce){if(1&Se&&(F.TgZ(0,"div",28),F.YNc(1,zt,12,12,"div",29),F.qZA()),2&Se){const ge=F.oxw();F.Q6J("isRTL",ge.isRTL),F.xp6(1),F.Q6J("ngForOf",ge.data.content)}}let ve=(()=>{var Se;class ce extends $.u{expandSelectorCard(qt,Ct=!0){var Gt;Ct&&qt===this.expandedSelectorCardIndex&&null!==(Gt=this.selectorCardElements.get(this.expandedSelectorCardIndex))&&void 0!==Gt&&null!==(Gt=Gt.nativeElement)&&void 0!==Gt&&Gt.contains(document.activeElement)||(this.expandedSelectorCardIndex=qt,setTimeout(()=>{this.focusManager.focusChild(this.selectorCardElements.get(this.expandedSelectorCardIndex).nativeElement,"initial")}))}constructor(qt,Ct,Gt,Zt,ee,_e){super(Ct,Gt,qt,Zt),this.focusManager=ee,this.localeService=_e,this.buttonClick=new F.vpe,this.qrCodeWidth=200,this.isRTL=!1,this.expandedSelectorCardIndex=0,this.data=qt.get(U.WI,null),this.isRTL=this.localeService.isRTLLayoutEnabled,this.data.content&&this.setContentData(this.data.content)}onButtonClick(qt){this.buttonClick.emit(qt)}setContentData(qt){qt.choiceChipTitle?this.choiceChip=qt:this.selectorCards=qt}ngAfterViewInit(){this.selectorCardElements.length>0&&this.expandSelectorCard(this.expandedSelectorCardIndex,!1)}}return(Se=ce).\u0275fac=function(qt){return new(qt||Se)(F.Y36(F.zs3),F.Y36(U.so,8),F.Y36(z.oL,8),F.Y36(F.R0b),F.Y36(Q.I),F.Y36(p.OL))},Se.\u0275cmp=F.Xpm({type:Se,selectors:[["nv-hig-fullpage-dialog"]],viewQuery:function(qt,Ct){if(1&qt&&F.Gf(It,5),2&qt){let Gt;F.iGM(Gt=F.CRH())&&(Ct.selectorCardElements=Gt)}},inputs:{data:"data"},outputs:{buttonClick:"buttonClick"},features:[F.qOj],decls:13,vars:11,consts:[["nvHigBackgroundImageOverlay","","fxFlex","","fxLayout","column","nvTrapFocus","",1,"fullpage-dialog",3,"imageUrl"],[1,"header","font-sub1"],[1,"title","font-header4"],["class","subtitle font-body2",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["choiceChipTemplate",""],["selectorCardsTemplate",""],[1,"subtitle","font-body2"],["fxLayout","column",1,"choice-chip-container"],[1,"choice-chip","font-sub2"],["class","chip-icon",3,"src",4,"ngIf"],["fxLayout","row","class","steps",4,"ngIf"],["nvAutoFocus","","autoFocusPolicy","initial",1,"buttons"],["mat-button","","class","font-button2",3,"disabled","click",4,"ngFor","ngForOf"],["class","status-text font-sub3",4,"ngIf"],[1,"chip-icon",3,"src"],["fxLayout","row",1,"steps"],["fxLayout","column","class","step",4,"ngFor","ngForOf"],["fxLayout","column",1,"step"],[1,"icon-container"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],["class","icon font-body2",3,"svgIcon",4,"ngIf"],[1,"step-title","font-body2"],[1,"step-description","font-body3"],[3,"qrdata","width","errorCorrectionLevel"],[1,"icon","font-body2",3,"svgIcon"],["mat-button","",1,"font-button2",3,"disabled","click"],[1,"status-text","font-sub3"],["nvFast1DSpatialNavigation","","fxLayout","row",1,"selector-cards",3,"isRTL"],["class","selector-card","nvFastSpatialNavigationItem","","tabindex","0",3,"ngClass","focus","mousemove",4,"ngFor","ngForOf"],["nvFastSpatialNavigationItem","","tabindex","0",1,"selector-card",3,"ngClass","focus","mousemove"],["selectorCardElements",""],[1,"card-icon"],[1,"icon",3,"ngStyle","src"],[1,"font-body3"],[1,"card-text"],[1,"selector-card-secondary-info"],["class","font-sub3 selector-card-secondary-info-text",4,"ngIf"],["class","selector-card-secondary-info-icon icon font-body2",3,"svgIcon",4,"ngIf"],["class","card-status-text font-body3",4,"ngIf"],["class","card-buttons",4,"ngIf"],[1,"font-sub3","selector-card-secondary-info-text"],[1,"selector-card-secondary-info-icon","icon","font-body2",3,"svgIcon"],[1,"card-status-text","font-body3"],[1,"card-buttons"],["mat-button","","class","font-button2 card-button",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",1,"font-button2","card-button",3,"disabled","click"]],template:function(qt,Ct){if(1&qt&&(F.TgZ(0,"div",0)(1,"span",1),F._uU(2),F.ALo(3,"translate"),F.qZA(),F.TgZ(4,"span",2),F._uU(5),F.ALo(6,"translate"),F.qZA(),F.YNc(7,Nt,3,4,"span",3),F.YNc(8,le,1,0,"ng-container",4),F.qZA(),F.YNc(9,Wt,10,7,"ng-template",null,5,F.W1O),F.YNc(11,ft,2,2,"ng-template",null,6,F.W1O)),2&qt){const Gt=F.MAs(10),Zt=F.MAs(12);F.Q6J("imageUrl",null==Ct.data?null:Ct.data.backgroundImageUrl),F.xp6(2),F.Oqu(F.lcZ(3,7,Ct.data.header.text)),F.xp6(3),F.Oqu(F.lcZ(6,9,Ct.data.title.text)),F.xp6(2),F.Q6J("ngIf",null==Ct.data?null:Ct.data.subtitle),F.xp6(1),F.Q6J("ngIf",Ct.choiceChip)("ngIfThen",Gt)("ngIfElse",Zt)}},dependencies:[J.mk,J.sg,J.O5,J.PC,st.xw,st.yH,lt.oO,lt.Zl,gt.eB,vt.Hw,k.V,m.e,pt.h,l.E,o.N,yt.b,Xt.X$],styles:['.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.fullpage-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;max-height:100%;width:100%;height:100%;align-items:center;padding:56px 88px}.fullpage-dialog[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1;background:linear-gradient(to top,rgba(0,0,0,.95) 7.22%,rgba(0,0,0,.7) 100%)}.header[_ngcontent-%COMP%]{align-self:self-start;color:#fff9}.title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{text-align:center}.subtitle[_ngcontent-%COMP%]{margin-top:16px;max-width:1152px}.selector-cards[_ngcontent-%COMP%], .choice-chip-container[_ngcontent-%COMP%]{align-items:center}.choice-chip[_ngcontent-%COMP%]{display:flex;margin-top:96px}.chip-icon[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff}.isLtr[_nghost-%COMP%]   .chip-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .chip-icon[_ngcontent-%COMP%]{margin:auto 16px auto 0}html[dir=ltr][_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{--dummy: 0;margin:auto 16px auto 0}.isRtl[_nghost-%COMP%]   .chip-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .chip-icon[_ngcontent-%COMP%]{margin:auto 0 auto 16px}html[dir=rtl][_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{--dummy: 0;margin:auto 0 auto 16px}.choice-chip-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.steps[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;margin:84px 0}.step[_ngcontent-%COMP%]{flex-direction:column;margin:0 48px;text-align:center;width:300px}.icon-container[_ngcontent-%COMP%]{height:200px;margin-bottom:56px}.icon[_ngcontent-%COMP%]{color:#fff;height:200px;width:238px}.step-title[_ngcontent-%COMP%]{align-items:center;border:#ffffff 2px solid;border-radius:24px;color:#fff;display:flex;font-weight:500;height:44px;justify-content:center;margin:0 auto 24px;width:44px}.step-description[_ngcontent-%COMP%]{margin:0;max-width:300px}.buttons[_ngcontent-%COMP%]{display:flex;gap:24px}.status-container[_ngcontent-%COMP%]{text-align:center}.status[_ngcontent-%COMP%]{margin:0}.selector-cards[_ngcontent-%COMP%]{margin-top:96px}.selector-card[_ngcontent-%COMP%]{width:264px;height:544px;margin:0 16px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;text-align:center}.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;align-items:center;opacity:.7;padding-top:200px}.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:64px;height:64px}.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-height:80px}.selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info[_ngcontent-%COMP%]{padding-top:16px;display:inline-flex;flex-direction:row}.isLtr[_nghost-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-text[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.selector-card[_ngcontent-%COMP%]   .selector-card-secondary-info-icon[_ngcontent-%COMP%]{height:32px;width:32px;color:#76b900}.selector-card[_ngcontent-%COMP%]   .card-status-text[_ngcontent-%COMP%], .selector-card[_ngcontent-%COMP%]   .card-buttons[_ngcontent-%COMP%]{display:none}.expanded.selector-card[_ngcontent-%COMP%]{width:444px;min-height:584px;box-sizing:border-box;padding:96px 60px 32px;background-color:#494949cc;justify-content:space-between;margin:0}.expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{opacity:1;padding-top:0}.expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:80px;height:80px}.expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:700}.tv-view[_ngcontent-%COMP%]   .expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .expanded.selector-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.expanded.selector-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:flex-start}.expanded.selector-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .card-status-text[_ngcontent-%COMP%]{display:block;padding-top:49%}.expanded.selector-card[_ngcontent-%COMP%]   .card-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%;min-height:160px}.expanded.selector-card[_ngcontent-%COMP%]   .card-buttons[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{height:72px}']}),ce})(),Ce=(()=>{var Se;class ce{constructor(qt,Ct){this.matDialog=qt,this.focusManager=Ct}open(qt,Ct){return this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(ve,{data:qt,autoFocus:!1,maxWidth:"100vw",panelClass:"dialogPaddingRemove",height:"100%",width:"100%"}),Ct)}}return(Se=ce).\u0275fac=function(qt){return new(qt||Se)(F.LFG(U.uw),F.LFG(Q.I))},Se.\u0275prov=F.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),ce})();var De=t(69965),ze=t(81906),$e=t(80774)},42586:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>C,q:()=>w});var e=t(93190),i=t(9681),L=t(6776),f=t(89718),x=t(36520),S=t(85046),u=t(99901),g=t(23675),h=t(47422),O=t(680),E=t(45083),w=function(l){return l.Keyboard="Keyboard",l.Gamepad="Gamepad",l.Mouse="Mouse",l.Touch="Touch",l}(w||{}),p=t(61699),V=t(13963),c=t(5042);let C=(()=>{var l;class o{get lastFocusOrigin(){return this.focusOriginModality.focusOrigin}get lastInputModality(){return this.focusOriginModality.inputModality}constructor(s,R,_){this.gamepadService=R,this.ngZone=_,this.focusOriginModality={},this.logger=s.getLogger("InputModalityService"),this.ngZone.runOutsideAngular(()=>{const b=(0,e.R)(document,"keydown",{capture:!0}).pipe((0,x.w)(y=>"GoBack"===y.key?(0,i.of)(w.Touch):y.isTrusted?(0,i.of)(w.Keyboard):L.C)),I=this.gamepadService.isAnyGamepadInUse$.pipe((0,S.h)(y=>!0===y),(0,u.h)(w.Gamepad)),q=(0,e.R)(document,"mousemove",{capture:!0}).pipe((0,g.p)(50),(0,u.h)(w.Mouse)),a=(0,e.R)(document,"pointerdown",{capture:!0}).pipe((0,S.h)(y=>"mouse"===y.pointerType||"touch"===y.pointerType),(0,h.U)(y=>{switch(y.pointerType){case"mouse":return w.Mouse;case"touch":return w.Touch}}));this.inputModalityChanged$=(0,f.T)(b,I,a,q).pipe((0,O.d)(1),(0,E.x)())})}startMonitoring(){var s;this.logger.info("start monitoring"),null===(s=this.focusOriginModalitySubscription)||void 0===s||s.unsubscribe(),this.focusOriginModalitySubscription=this.ngZone.runOutsideAngular(()=>this.inputModalityChanged$.pipe((0,h.U)(R=>{let _;switch(R){case w.Keyboard:case w.Gamepad:_="keyboard";break;case w.Mouse:_="mouse";break;case w.Touch:_="touch"}return{focusOrigin:_,inputModality:R}})).subscribe(R=>this.focusOriginModality=R))}stopMonitoring(){var s;this.logger.info("stop monitoring"),null===(s=this.focusOriginModalitySubscription)||void 0===s||s.unsubscribe(),this.focusOriginModalitySubscription=void 0,this.focusOriginModality={}}}return(l=o).\u0275fac=function(s){return new(s||l)(p.LFG(V.ed),p.LFG(c.Se),p.LFG(p.R0b))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},50323:(Dt,ct,t)=>{"use strict";t.d(ct,{Lh:()=>ot,tm:()=>l,Zl:()=>jt,gw:()=>F});const L={userId:"",core:{displayName:"",primaryEmail:"",birthdate:"",preferredLocale:"",primaryEmailVerified:"",created:"",lastLogin:"",passwordLastChanged:"",linkedAccounts:{}},privacySettings:{},isAuthenticated:!1};var f=t(9681),x=t(87965),S=t(47178);class u{static encode(oe){const Qt=new u;return Qt.data=window.btoa(encodeURIComponent(JSON.stringify(oe))),Qt}static decode(oe){return JSON.parse(decodeURIComponent(window.atob(oe.data)))}}class g{static loadFrom(oe,Qt){const Pt=(0,S.isEmpty)(Qt)?"session":`sdk/${Qt}/session`;return oe.readBlock(Pt).pipe((0,x.zg)(Ut=>(0,f.of)(new g(u.decode(Ut)))))}constructor(oe){this.data=(0,S.isNil)(oe)?{userToken:null,user:L}:oe}get user(){return this.data.user}set user(oe){this.data.user=oe}get sessionToken(){return this.sessionTokenString}set sessionToken(oe){this.sessionTokenString=oe}get userToken(){return this.data.userToken}set userToken(oe){this.data.userToken=oe}hasUserToken(){return!(0,S.isNil)(this.data.userToken)}hasSessionToken(){return!(0,S.isNil)(this.sessionToken)}writeTo(oe,Qt){const Pt=(0,S.isEmpty)(Qt)?"session":`sdk/${Qt}/session`;return oe.writeBlock(Pt,u.encode(this.data))}get affiliateStatus(){return this.data.isAffiliated}set affiliateStatus(oe){this.data.isAffiliated=oe}get expiry(){return this.data.expiry}set expiry(oe){this.data.expiry=oe}}var p=t(78943),c=function(Wt){return Wt.ShowLoginDialogStarted="Showing Login Dialog",Wt.ShowLoginDialogCompleted="Login Dialog Shown",Wt.LoginStarted="Login Started",Wt.LoginCompleted="Login Completed",Wt.LoginAbortedByUser="Login Aborted: User Cancelled Login",Wt.LoginAbortedAlreadyLoggedIn="Login Aborted: Already Logged In",Wt.LoginFailed="Login Failed",Wt.LogoutStarted="Logout Started",Wt.LogoutCompleted="Logout Complted",Wt.LogoutFailed="Logout Failed",Wt}(c||{}),C=t(61699);let l=(()=>{var Wt;class oe{}return(Wt=oe).\u0275fac=function(Pt){return new(Pt||Wt)},Wt.\u0275prov=C.Yz7({token:Wt,factory:Wt.\u0275fac}),oe})();var o=function(Wt){return Wt.Browser="Browser",Wt.Cef="Cef",Wt.Android="Android",Wt}(o||{}),n=t(26575),s=t(54860);class R{constructor(){}}var _=t(49481),b=t(73992),I=t(33994),q=t(17627),a=t(99901),y=t(15746),M=t(58175),P=t(47422),K=t(85046),B=t(90786),j=t(77869),tt=t(14955);class ot extends tt.xv{constructor(oe){super("Could not fetch delegate token",oe)}}class F extends tt.xv{constructor(){super("invalid or missing userSession parameter",null)}}var U=t(53576),z=t(13963),Q=t(6776),dt=t(38096),X=t(92130),m=t(46939),Y=t(30285),D=t(31157),N=t(91009);const Z="JARVIS",W=".com",d=3e4,$=2,J=1e3;let st=(()=>{var Wt;class oe{constructor(Pt,Ut,Tt,it,Mt,zt,ft,ve){this.jarvisConfig=Pt,this.endpointFactory=Ut,this.bridgeService=Tt,this.systemInfoService=it,this.distributedtracingUtilService=Mt,this.appConfig=zt;const{defaultRetries:Ce=$,defaultTimeBetweenRetries:De=J,defaultTimeout:ze=d}=Pt,ce={config:{maxRetries:Ce,timeout:ze,timeBetweenRetries:De}},ge={config:{timeout:1e4,maxRetries:Ce,timeBetweenRetries:De}};this.endpointDelegateRequest=this.endpointFactory.createEndpoint(ce),this.endpointDelegateRedeem=this.endpointFactory.createEndpoint(ce),this.endpointUserLogin=this.endpointFactory.createEndpoint(ce),this.endpointClientLogin=this.endpointFactory.createEndpoint(ce),this.endpointClientChain=this.endpointFactory.createEndpoint(ce),this.endpointProfileUser=this.endpointFactory.createEndpoint(ce),this.endpointThirdPartyProvider=this.endpointFactory.createEndpoint(ce),this.endpointRequestVerify=this.endpointFactory.createEndpoint(ce),this.endpointProxyCall=this.endpointFactory.createEndpoint(ce),this.endpointPingServer=this.endpointFactory.createEndpoint(ge),this.logger=ft.getLogger("libraries/jarvis-http.service"),this.fastestDomainStream=ve.createStream(this.getFastestJarvisDomain.bind(this))}get accountsUrl$(){return this.fastestDomainStream.get$().pipe((0,m.q)(1),(0,P.U)(Pt=>this.jarvisConfig.accountsUrl.replace(W,Pt)))}get serverUrl$(){return this.fastestDomainStream.get$().pipe((0,m.q)(1),(0,P.U)(Pt=>this.jarvisConfig.url.replace(W,Pt)))}getFastestJarvisDomain(){const Pt={reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Ping"}};let Ut=0;const Tt=this.distributedtracingUtilService.startSpan(D.j1.GetFastestDomain),it=[],Mt=Date.now();return this.jarvisConfig.urlDomains.forEach(zt=>{const ft=this.jarvisConfig.url.replace(`${W}/api/1`,`${zt}/ping`),ve=this.endpointPingServer.get(ft,Pt).pipe((0,y.b)(()=>this.logger.info("url",ft,"response time",Date.now()-Mt)));it.push(this.distributedtracingUtilService.handleHttpEndpointSpan(ve,Pt,D.j1.JarvisPing,Tt).pipe((0,a.h)(zt),(0,y.b)(()=>{this.logger.info(`Jarvis domain set to ${zt}`),Tt&&this.distributedtracingUtilService.setSpanAttribute(Tt,D.NI.Error,!1)}),(0,M.K)(Ce=>(this.logger.error(`Ping request to ${ft} failed with error ${Ce}`),Ut++,Ut>=this.jarvisConfig.urlDomains.length?(this.logger.error("All pings to jarvis servers failed, selecting default"),Tt&&this.distributedtracingUtilService.setSpanAttribute(Tt,D.NI.Error,!0),(0,f.of)(W)):Q.C))))}),(0,dt.S3)(it).pipe((0,y.b)(zt=>{Tt&&this.distributedtracingUtilService.setSpanAttribute(Tt,D.NI.FastestJarvisDomain,zt),this.distributedtracingUtilService.closeSpan(Tt)}))}getLoginToken(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing accessCode parameter");const Tt={body:{grant_type:"authorization_code",scope:"Any",code:Pt,redirect_uri:this.jarvisConfig.redirectUrl,client_id:this.jarvisConfig.clientId},reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_Login_Token"}};return this.serverUrl$.pipe((0,x.zg)(it=>this.endpointDelegateRequest.post(`${it}/oauth/resource`,Tt)))}getDelegateToken(Pt,Ut,Tt){if((0,S.isNil)(Pt)||0===Pt.trim().length)return(0,I._)(new F);const Mt={body:{clientId:Ut},headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_Delegate_Token"}},zt=this.serverUrl$.pipe((0,x.zg)(ft=>this.endpointUserLogin.post(`${ft}/authentication/delegate/request`,Mt)));return this.distributedtracingUtilService.handleHttpEndpointSpan(zt,Mt,D.j1.DelegateToken,Tt)}proxyPost(Pt,Ut,Tt,it){const Mt={body:it,headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),params:Tt};return this.serverUrl$.pipe((0,x.zg)(zt=>this.endpointProxyCall.post(`${zt}/proxy/${Ut}`,Mt)))}redeemDelegateToken(Pt,Ut){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing delegateToken parameter");return(0,X.D)([this.systemInfoService.getSystemInfo([z.l7.DeviceId]),this.serverUrl$]).pipe((0,x.zg)(([Tt,it])=>{const zt={body:{clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription,deviceId:Tt.DeviceId,scope:Ut||"session_token"},headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Redeem_Delegate_Token"}};return this.endpointDelegateRedeem.post(`${it}/authentication/delegate/redeem`,zt)}))}getUserToken(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing loginToken parameter");return(0,X.D)([this.systemInfoService.getSystemInfo([z.l7.SystemName,z.l7.DeviceId]),this.serverUrl$]).pipe((0,x.zg)(([Ut,Tt])=>{const Mt={body:{clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription,deviceDescription:Ut.SystemName,deviceId:Ut.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_User_Token"}};return this.endpointUserLogin.post(`${Tt}/authentication/user/login`,Mt)}),(0,M.K)(Ut=>(this.logger.error("Error while accessing the endpoint",Ut),(0,I._)(Ut))))}getSessionToken(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing userToken parameter");return(0,X.D)([this.systemInfoService.getSystemInfo([z.l7.DeviceId]),this.serverUrl$]).pipe((0,x.zg)(([Ut,Tt])=>{const Mt={body:{clientCapabilities:["OAuthPortal"],clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription.replace("{VERSION}",this.appConfig.get().build.version),deviceId:Ut.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_Session_Token"}};return this.endpointClientLogin.post(`${Tt}/authentication/client/login`,Mt)}))}chainSession(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing userSession parameter");return(0,X.D)([this.systemInfoService.getSystemInfo([z.l7.DeviceId]),this.serverUrl$]).pipe((0,x.zg)(([Ut,Tt])=>{const Mt={body:{clientId:this.jarvisConfig.clientId,deviceId:Ut.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Chain_Session"}};return this.endpointClientChain.post(`${Tt}/authentication/client/chain`,Mt)}))}getUserInfo(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing sessionToken parameter");const Ut={headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_User_Info"}};return this.serverUrl$.pipe((0,x.zg)(Tt=>this.endpointProfileUser.get(`${Tt}/profile/user`,Ut)))}getProviderInfo(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing sessionToken parameter");const Ut={headers:this.getJarvisAuthorizeHeaders(`${Pt}:`),reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Get_Third_Party_Provider_Info"}};return this.serverUrl$.pipe((0,x.zg)(Tt=>this.endpointThirdPartyProvider.get(`${Tt}/authentication/hints/token/linkedaccount`,Ut)))}requestEmailVerify(Pt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing emailAddress parameter");const Ut={body:{email:Pt},reportRequestData:{originalService:Z,serviceUseCase:"JARVIS_Request_Email_Verify"}};return this.serverUrl$.pipe((0,x.zg)(Tt=>this.endpointRequestVerify.post(`${Tt}/profile/user/email/requestverify`,Ut)))}getJarvisAuthorizeHeaders(Pt){const Ut=window.btoa(Pt);return{[Y.n0.authorization]:`Basic ${Ut}`}}getDeviceId(){return this.bridgeService.executeCommand(p.Iq.GenericCommand("QUERY_DEVICE_ID","",""),{})}getSharedUserData(Pt,Ut,Tt){if((0,S.isNil)(Pt)||0===Pt.trim().length)throw new Error("invalid or missing userSession parameter");const it={headers:this.getJarvisAuthorizeHeaders(`${Pt}:`)};return this.serverUrl$.pipe((0,x.zg)(Mt=>this.endpointUserLogin.get(`${Mt}/datastore/user/shared/${Ut}/client/${Tt}`,it)))}}return(Wt=oe).\u0275fac=function(Pt){return new(Pt||Wt)(C.LFG(l),C.LFG(Y.V9),C.LFG(z.dF),C.LFG(z.Ob),C.LFG(D.Dc),C.LFG(N.XL),C.LFG(z.ed),C.LFG(j.O_))},Wt.\u0275prov=C.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),oe})();var lt=t(70462),gt=t(93190),vt=t(17827),k=t(36520),pt=t(30241),yt=t(328),Xt=t(1062);let Nt=(()=>{var Wt;class oe{constructor(Pt,Ut,Tt,it){this.bridgeService=Pt,this.nativeEventService=Tt,this.distributedTracingUtilService=it,this.checkWindowOpenInterval=200,this.loginWindow=null,this.isWindowOpen=new lt.X(!1),this.logger=Ut.getLogger("jarvis/o-auth")}oAuthLogin(Pt,Ut){if(!Pt||0===Pt.trim().length)throw new Error("invalid or missing Login Url");if(!Ut)throw new Error("invalid or missing OAuth Config");const Tt=this.getWindowParamsString(Ut.windowParams),it=this.distributedTracingUtilService.startSpan(D.j1.JarvisOAuth);Pt=this.distributedTracingUtilService.getFormattedUrlForHttpPopupSpan(Pt,it);const Mt=(0,gt.R)(window,"message").pipe((0,K.h)(ft=>this.validateMessageEvent(ft)),(0,P.U)(ft=>(this.logger.info("Captured OAuth data via post message:",ft.data),ft.data.error?this.distributedTracingUtilService.closeHttpPopupSpan(it,!0,ft.data.error):this.distributedTracingUtilService.closeHttpPopupSpan(it,!1,{failedUrl:Pt,errorCode:"",errorText:""}),this.loginWindow.close(),this.isWindowOpen.next(!1),this.getMessageAccessCode(ft))),(0,q.P)());this.loginWindow=window.open(Pt,Ut.popUpWindowName,Tt),this.logger.info("login window opened with url",Pt),this.isWindowOpen.next(!0);const zt=(0,gt.R)(window,"focus").pipe((0,k.w)(ft=>(ft&&ft.preventDefault(),this.bridgeService.executeCommand(p.Gh.Common.Windowcontrol.Focus,{name:"app_oauth_window_with_back_button"})))).subscribe(ft=>{},ft=>{this.logger.error("Failed to set focus with error: ",ft)});if(Ut.useAppUrl){const ft=(0,vt.F)(this.checkWindowOpenInterval).pipe((0,pt.n)(()=>!this.loginWindow.closed),(0,P.U)(Ce=>(this.isWindowOpen.next(!1),zt.unsubscribe(),null)),(0,q.P)()),ve=this.nativeEventService.getNativeEvent$(z.Nx.RouteChange).pipe((0,K.h)(Ce=>Ce.newRoute.startsWith("oauth/")),(0,P.U)(Ce=>(this.isWindowOpen.next(!1),zt.unsubscribe(),this.loginWindow.close(),this.getUrlAccessCode(Ce.newRoute))),(0,q.P)());return(0,dt.S3)(ft,ve)}return(0,vt.F)(this.checkWindowOpenInterval).pipe((0,pt.n)(()=>!this.loginWindow.closed),(0,yt.M)(Mt.pipe((0,Xt.O)(null))),(0,P.U)(([ft,ve])=>(this.isWindowOpen.next(!1),zt.unsubscribe(),ve)),(0,q.P)())}checkIsWindowOpen(){return this.isWindowOpen.asObservable()}tryCloseOAuthWindow(){null!==this.loginWindow&&!this.loginWindow.closed&&this.loginWindow.close()}getWindowParamsString(Pt={}){let Ut="";Pt.toolbar&&(Ut+=`toolbar=${Pt.toolbar},`),Pt.location&&(Ut+=`location=${Pt.location},`),Pt.menubar&&(Ut+=`menubar=${Pt.menubar},`),Pt.fullscreen&&(Ut+=`fullscreen=${Pt.fullscreen},`),Pt.resizable&&(Ut+=`resizable=${Pt.resizable},`),Pt.scrollbars&&(Ut+=`scrollbars=${Pt.scrollbars},`);const Tt=Pt.width?Pt.width:window.innerWidth,it=Pt.height?Pt.height:window.innerHeight,Mt=Pt.top?Pt.top:window.screenY+window.innerHeight/2-it/2;return Ut+=`width=${Tt},`,Ut+=`height=${it},`,Ut+=`left=${Pt.left?Pt.left:window.screenX+window.innerWidth/2-Tt/2},`,Ut+=`top=${Mt},`,Ut}validateMessageEvent(Pt){let Ut=Pt&&Pt.data;return z.ng.isBrowserPlatform()&&(Ut=Ut&&Pt.origin===window.location.origin&&"oauth"===Pt.data.key),!!Ut}getCodeFromLocalStorage(Pt){const Ut=window.localStorage.getItem(Pt);window.localStorage.removeItem(Pt);try{return JSON.parse(Ut)}catch{return this.logger.error("malformed access code object",Ut),null}}getMessageAccessCode(Pt){let Ut;return Ut=z.ng.isBrowserPlatform()?this.getCodeFromLocalStorage((0,S.get)(Pt,"data.key")):Pt.data,(0,S.get)(Ut,"code")}getUrlAccessCode(Pt){const Ut=Pt.indexOf("?")>-1?Pt.split("?"):Pt.split("#/");if(Ut.length>1){let Tt=new URLSearchParams(Ut[1]).get("code");const it=new URLSearchParams(Ut[1]).get("access_token");return Tt?Tt=Tt.split("#/")[0]:it&&(Tt=it),Tt}return""}}return(Wt=oe).\u0275fac=function(Pt){return new(Pt||Wt)(C.LFG(z.dF),C.LFG(z.ed),C.LFG(z.o1),C.LFG(D.Dc))},Wt.\u0275prov=C.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),oe})();var le=t(15665),te=function(Wt){return Wt.ALREADY_LOGGED_IN="Already logged in",Wt.USER_ABORTED_LOGIN="User aborted login",Wt}(te||{});let bt=(()=>{var Wt;class oe extends R{constructor(Pt,Ut,Tt,it,Mt,zt,ft,ve,Ce,De){super(),this.config=Pt,this.jarvisHttpService=Tt,this.oAuthService=it,this.sharedStorage=Mt,this.bridgeService=zt,this.localeService=ft,this.networkStatus=Ce,this.gfnSdkService=De,this.SAFE_RETRY_COUNT=5,this.activelyRenewingsession=!1,this.loginTransitionSubject=new _.t(1),this.logger=Ut.getLogger("jarvis/desktop"),this.logger.info("initialize"),Pt.sdkClient&&this.logger.info("Running in GFN SDK mode for SDK client",Pt.sdkClient),window.name!==Pt.appWindowName&&(window.name=Pt.appWindowName),this.sessionTokenSubscription=ve.createStream(this.getSession.bind(this)),this.jarvisUserSubscription=ve.createStream(this.getCurrentUser.bind(this)),this.refreshUser()}get sessionToken(){return this.sessionTokenSubscription.get$().pipe((0,q.P)())}handleError(Pt,Ut){this.logger.error(Pt),Ut.next(!1),Ut.complete()}clearCookies(){const Pt=this.bridgeService.executeCommand(p.Gh.Common.Applicationcontrol.DeleteCookies,{url:".facebook.com",cookiename:""}),Ut=this.bridgeService.executeCommand(p.Gh.Common.Applicationcontrol.DeleteCookies,{url:".google.com",cookiename:""});return(0,b.$R)(Pt,Ut)}updateTransitionState(Pt,Ut,Tt){const it=Pt?"loading":"not loading";(0,S.isNil)(Tt)?(this.logger.info(`Jarvis state has changed to [${Ut}] and is now ${it}`),this.loginTransitionSubject.next({state:Ut,isLoading:Pt})):(this.logger.error(`Jarvis state has changed to [${Ut}] and is now ${it} with error: ${Tt}`),this.loginTransitionSubject.next({state:Ut,isLoading:Pt,error:Tt}))}login(Pt=!1,Ut){this.updateTransitionState(!0,c.ShowLoginDialogStarted);const Tt=new _.t(1);return(0,b.$R)(this.jarvisUserSubscription.get$(),this.localeService.localeChanged).pipe((0,q.P)(),(0,x.zg)(([it,Mt])=>it.userId===L.userId||Pt?(this.authServiceSubscription&&this.authServiceSubscription.unsubscribe(),this.buildJarvisUrl(this.config,Mt,Ut)):(this.updateTransitionState(!1,c.ShowLoginDialogCompleted),(0,I._)(te.ALREADY_LOGGED_IN))),(0,x.zg)(it=>this.clearCookies().pipe((0,a.h)(it))),(0,y.b)(()=>this.updateTransitionState(!1,c.ShowLoginDialogCompleted)),(0,x.zg)(it=>this.oAuthService.oAuthLogin(it,this.config.oAuthConfig)),(0,x.zg)(it=>(0,S.isNil)(it)?(0,I._)(te.USER_ABORTED_LOGIN):(0,f.of)(it)),(0,y.b)(()=>this.updateTransitionState(!0,c.LoginStarted)),(0,x.zg)(it=>this.attemptLogin(it))).subscribe(()=>{Tt.next(!0),Tt.complete(),this.updateTransitionState(!1,c.LoginCompleted)},it=>{switch(it){case te.ALREADY_LOGGED_IN:Tt.next(!0),Tt.complete(),this.updateTransitionState(!1,c.LoginAbortedAlreadyLoggedIn);break;case te.USER_ABORTED_LOGIN:Tt.next(!0),Tt.complete(),this.updateTransitionState(!1,c.LoginAbortedByUser);break;default:this.updateTransitionState(!1,c.LoginFailed,it),this.handleError(it,Tt)}}),Tt.asObservable()}logout(){this.updateTransitionState(!0,c.LogoutStarted);const Pt=new _.t(1);return this.storeSession(new g).subscribe(Ut=>{this.sessionTokenSubscription.refresh().pipe((0,x.zg)(()=>this.jarvisUserSubscription.refresh())).subscribe(()=>{this.logger.info("Logging out user."),Pt.next(!0),Pt.complete(),this.updateTransitionState(!1,c.LogoutCompleted)})},Ut=>(this.updateTransitionState(!1,c.LogoutFailed,Ut),this.handleError(Ut,Pt))),Pt.asObservable()}refreshUser(){return this.refreshSession().pipe((0,x.zg)(Pt=>this.jarvisUserSubscription.refresh()))}refreshSession(){return this.activelyRenewingsession?this.sessionToken:(this.activelyRenewingsession=!0,this.sessionTokenSubscription.refresh().pipe((0,y.b)(()=>this.activelyRenewingsession=!1)))}requestVerificationEmail(Pt){return this.jarvisHttpService.requestEmailVerify(Pt).pipe((0,a.h)(!0),(0,M.K)(Ut=>(this.logger.error(Ut),(0,f.of)(!1))))}getDelegateToken(Pt,Ut=!1,Tt){return this.safelyFetchData(it=>it.hasSessionToken()?this.jarvisHttpService.getDelegateToken(it.sessionToken,Pt,Tt).pipe((0,P.U)(Mt=>({delegateToken:Mt.delegateToken,expiration:new Date(Mt.expiration)})),(0,M.K)((Mt,zt)=>(this.logger.warn("Could not get delegate token.",Mt),(0,I._)(Mt)))):(0,f.of)(null),null,Ut).pipe((0,M.K)(it=>(0,I._)(it instanceof F?it:new ot(it))))}proxyPost(Pt,Ut,Tt,it){return this.safelyFetchData(Mt=>Mt.hasSessionToken()?this.jarvisHttpService.proxyPost(Mt.sessionToken,Pt+"/"+Ut,Tt,it):(0,f.of)(null),null,!0)}get accountsUrl$(){return this.jarvisHttpService.accountsUrl$}get accountStatusChanged(){let Pt;return this.jarvisUserSubscription.get$().pipe((0,K.h)(Ut=>(0,S.isNil)(Pt)||!(0,S.isEqual)(Pt.userId,Ut.userId)||!(0,S.isEqual)(Pt.core.primaryEmailVerified,Ut.core.primaryEmailVerified)),(0,y.b)(Ut=>{Pt=Ut}))}getThirdPartyProviderInfo(){return this.safelyFetchData(Pt=>Pt.hasSessionToken()?this.jarvisHttpService.getProviderInfo(Pt.sessionToken).pipe((0,P.U)(Ut=>(this.logger.info("Provider received: ",Ut),Ut)),(0,M.K)(Ut=>(this.logger.error("Error to fetch Provider: ",Ut),404===Ut.status?(this.logger.info("Handling as user logged in through native provider"),(0,f.of)(null)):(0,I._)(Ut)))):(0,I._)("Has no session token"),null,!0)}get jarvisUserDataChanged(){let Pt;return this.jarvisUserSubscription.get$().pipe((0,K.h)(Ut=>!(0,S.isEqual)(Pt,Ut)),(0,P.U)(Ut=>(Pt=Ut,{newJarvisUser:Ut,oldJarvisUser:Pt})))}get loginTransitionState(){return this.loginTransitionSubject.asObservable()}get isUserTokenAvailable(){return(0,S.isNil)(this.session)?(this.logger.info("Loading session object from shared storage to check if user token is present"),g.loadFrom(this.sharedStorage,this.config.sdkClient).pipe((0,P.U)(Pt=>Pt.hasUserToken()),(0,M.K)(()=>(0,f.of)(!1)))):(0,f.of)(this.session.hasUserToken())}getSharedUserData(Pt,Ut,Tt=!1){return this.safelyFetchData(it=>it.hasSessionToken()?this.jarvisHttpService.getSharedUserData(it.sessionToken,Pt,Ut):(0,f.of)(null),null,Tt)}getStoredSessionProperty(Pt){let Ut;return(0,S.isNil)(this.session)?(this.logger.info("Reading session from sharedstorage"),Ut=g.loadFrom(this.sharedStorage,this.config.sdkClient).pipe((0,M.K)(()=>(0,f.of)(new g)))):(this.logger.info("Session Info available in memory"),Ut=(0,f.of)(this.session)),Ut.pipe((0,P.U)(Tt=>{const it=Pt(Tt);let Mt=!1;const zt=new Date;return Mt=!(!(0,S.isNil)(Tt.expiry)&&!(0,S.isNil)(it))||new Date(Tt.expiry)<=zt,{data:it,expired:Mt}}))}get cachedUser(){return this.logger.info("Fetching the cached user"),this.getStoredSessionProperty(Pt=>Pt.user)}get cachedUserAndAffiliateStatus(){return this.logger.info("Fetching the cached user and affiliate status"),this.getStoredSessionProperty(Pt=>[Pt.user,Pt.affiliateStatus])}get cachedAffiliateStatus(){return this.logger.info("Fetching cached affiliate status"),this.getStoredSessionProperty(Pt=>Pt.affiliateStatus)}setCachedAffiliateStatus(Pt){return Pt!==this.session.affiliateStatus?(this.logger.info("Updating the affiliate status to:",Pt),this.session.affiliateStatus=Pt,this.storeSession(this.session).pipe((0,a.h)(Pt))):(this.logger.info("Skipping the affiliate status update shared storage"),(0,f.of)(Pt))}attemptLogin(Pt){const Ut=new g;return this.jarvisHttpService.getLoginToken(Pt).pipe((0,x.zg)(Tt=>this.jarvisHttpService.getUserToken(Tt.loginToken)),(0,x.zg)(Tt=>(Ut.userToken=Tt.userToken,this.logger.info("Storing session containing only userToken to sharedStorage"),this.storeSession(Ut))),(0,x.zg)(Tt=>this.sessionTokenSubscription.refresh()),(0,x.zg)(Tt=>(Ut.sessionToken=Tt.sessionToken,Ut.expiry=Tt.expiry,this.session=Ut,this.jarvisUserSubscription.refresh())),(0,x.zg)(Tt=>(Ut.user=Tt,this.logger.info("Storing complete session to sharedStorage"),this.storeSession(Ut))))}fetchSession(){return this.activelyRenewingsession=!0,this.jarvisHttpService.getSessionToken(this.session.userToken).pipe((0,y.b)(()=>this.activelyRenewingsession=!1),(0,x.zg)(Pt=>(this.session.sessionToken=Pt.sessionToken,this.session.expiry=Pt.expiration,(0,f.of)(this.session))),(0,M.K)(Pt=>(this.logger.info("Error refreshing session with jarvis:",Pt),(0,j.f0)(Pt)?(this.logger.info("The session refresh failed due to timeout or connection issues. So, will not log out the user"),(0,f.of)(this.session)):(this.logger.info("Error thrown from server. Hence, logging the user out"),(0,f.of)(new g)))))}buildJarvisUrl(Pt,Ut,Tt){return this.jarvisHttpService.serverUrl$.pipe((0,P.U)(it=>{let Mt=":server/oauth/authorize?response_type=code&scope=user_token&client_id=:clientId&redirect_uri=:redirectUri&prompt=login&locale=:locale";return Mt=Mt.replace(":server",it),Mt=Mt.replace(":clientId",Pt.clientId),Mt=Mt.replace(":redirectUri",encodeURIComponent(Pt.redirectUrl)),Mt=Mt.replace(":locale",Ut),!(0,S.isNil)(Tt)&&!(0,S.isEmpty)(Tt)&&(Mt+="&preferred_auth=:preferredAuth",Mt=Mt.replace(":preferredAuth",Tt.toString())),Mt}))}safelyFetchData(Pt,Ut,Tt=!1){return this.sessionToken.pipe((0,x.zg)(it=>(0,S.isNil)(this.session)||this.session.hasSessionToken()||!this.session.hasUserToken()?(0,f.of)(it):this.sessionTokenSubscription.refresh()),(0,x.zg)(it=>Pt(it)),(0,M.K)(it=>401===it.status?this.refreshSession().pipe((0,M.K)(Mt=>(this.logger.error("Failed to fetchSession",Mt),this.logoutAndReturnObservable(Ut))),(0,x.zg)(Mt=>this.safelyFetchData(Pt,Ut,Tt))):Tt?(0,I._)(it):(this.logger.error(it),(0,f.of)(Ut))))}logoutAndReturnObservable(Pt){return this.logout(),(0,f.of)(Pt)}getCurrentUser(){return this.safelyFetchData(Pt=>{if(this.logger.info("Getting current user"),this.logger.info(`hasSessionToken: ${Pt.hasSessionToken()}, hasUserToken: ${Pt.hasUserToken()}`),!this.networkStatus.isOnline&&Pt.hasUserToken())return this.logger.info("User is offline and session has user token. So returning cached user"),(0,f.of)(Pt.user);if(Pt.hasSessionToken()){const Ut=!(0,S.isNil)(Pt.user)&&!(0,S.isNil)(Pt.user.core.primaryEmailVerified);return this.jarvisHttpService.getUserInfo(Pt.sessionToken).pipe((0,P.U)(Tt=>(Tt.isAuthenticated=!0,Tt)),(0,x.zg)(Tt=>(Pt.user=Tt,(0,S.isNil)(Tt.core.primaryEmailVerified)||Ut?(0,f.of)(Pt):(this.logger.info("Primary Email Verified Info Updated. Hence saving userInfo to shared storage"),this.storeSession(Pt)))),(0,M.K)(Tt=>(this.logger.info("Error fetching userInfo from jarvis:",Tt),(0,j.f0)(Tt)?(this.logger.info("UserInfo refresh failed due to timeout or connection issue. So, will not log out the user"),(0,f.of)(Pt.user)):(this.logger.info("Error to is thrown by jarvis server. Will rethrow this error"),(0,I._)(Tt)))),(0,P.U)(Tt=>Pt.user))}return Pt.hasUserToken()&&!(0,S.isNil)(Pt.user)?(this.logger.info("Session fetch failed due to timeout or connection issue, not logging out the user"),(0,f.of)(Pt.user)):(0,f.of)(L)},L)}getSession(){return!this.config.sdkClient||!(0,S.isNil)(this.session)&&this.session.hasUserToken()?this.networkStatus.isOnline?this.renewSession():this.loadSessionFromSharedStorage():this.getSessionFromSdk()}renewSession(){return this.activelyRenewingsession=!0,this.loadSessionFromSharedStorage().pipe((0,x.zg)(Pt=>Pt.hasUserToken()?this.fetchSession():(0,f.of)(Pt)),(0,x.zg)(Pt=>this.storeSession(Pt)),(0,M.K)(Pt=>(this.logger.info("Error saving session to shared storage:",Pt),(0,f.of)(new g))),(0,B.x)(()=>this.activelyRenewingsession=!1))}loadSessionFromSharedStorage(Pt){return g.loadFrom(this.sharedStorage,Pt?void 0:this.config.sdkClient).pipe((0,x.zg)(Ut=>(this.logger.info("Loaded session successfully from shared storage"),this.session=Ut,Ut.hasUserToken()?(0,f.of)(Ut):Pt||(0,S.isEmpty)(this.config.sdkClient)?(this.logger.info("Stored session does not have user token. Hence, logging the user out"),(0,f.of)(new g)):this.loadSessionFromSharedStorage(!0))),(0,M.K)(Ut=>(this.logger.info("Error loading session from shared storage. Hence logging out the user.",Ut),this.session=new g,(0,f.of)(this.session))))}storeSession(Pt){return this.session=Pt,this.session.writeTo(this.sharedStorage,this.config.sdkClient).pipe((0,x.zg)(Ut=>(0,f.of)(this.session)),(0,M.K)(Ut=>(this.logger.info("Error saving session to shared storage:",Ut),(0,I._)(Ut))))}getSessionFromSdk(){if(!this.networkStatus.isOnline||!(0,S.isNil)(this.session)&&this.session.hasSessionToken())return(0,f.of)(this.session);this.activelyRenewingsession=!0;const Pt="sdk/"+this.config.sdkClient;return this.sharedStorage.removeBlock(`${Pt}/session`).pipe((0,x.zg)(Ut=>(this.logger.info("Cleared the stored session for SDK node",Pt,Ut),this.gfnSdkService.getAuthInfo())),(0,x.zg)(Ut=>(this.logger.info("Reading delegate token passed by SDK client",this.config.sdkClient),Ut.authType===U.Gr.IDM?this.jarvisHttpService.redeemDelegateToken(Ut.authToken):(0,I._)("Token was an authN JWT, could not redeem"))),(0,x.zg)(Ut=>(this.session=new g,this.session.sessionToken=Ut.sessionToken,this.storeSession(this.session))),(0,M.K)(()=>(this.logger.error("Unable to redeem delegate token from SDK client",this.config.sdkClient),this.renewSession())),(0,B.x)(()=>{this.activelyRenewingsession=!1}))}}return(Wt=oe).\u0275fac=function(Pt){return new(Pt||Wt)(C.LFG(l),C.LFG(z.ed),C.LFG(st),C.LFG(Nt),C.LFG(le.OA),C.LFG(z.dF),C.LFG(z.OL),C.LFG(j.O_),C.LFG(z._J),C.LFG(U.s))},Wt.\u0275prov=C.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),oe})();const ut={provide:R,useFactory:function Vt(Wt,oe,Qt,Pt,Ut,Tt,it,Mt,zt,ft){switch(Wt.platformType){case o.Browser:case o.Cef:return Wt.redirectUrl=Wt.redirectUrlIsRelative?window.location.origin+Wt.redirectUrl:Wt.redirectUrl,new bt(Wt,oe,Pt,Ut,Tt,Qt,Mt,it,zt,ft);default:oe.getLogger("jarvisServiceCreator").error("Cannot create JarvisService for unknown platform type: "+Wt.platformType)}},deps:[l,z.ed,z.dF,st,Nt,le.OA,j.O_,z.OL,z._J,U.s]};var re=t(33910);const Kt=[re.Cq];let jt=(()=>{var Wt;class oe{static configure(Pt){return{ngModule:oe,providers:[{provide:l,useValue:Pt},ut,Nt]}}}return(Wt=oe).\u0275fac=function(Pt){return new(Pt||Wt)},Wt.\u0275mod=C.oAB({type:Wt}),Wt.\u0275inj=C.cJS({providers:[ut],imports:[s.JF,n.ez,Kt,re.Cq]}),oe})()},89857:(Dt,ct,t)=>{"use strict";t.d(ct,{e6:()=>o,p6:()=>w,XA:()=>K,yz:()=>l,l3:()=>a,nM:()=>b,ys:()=>y,$P:()=>I,KM:()=>p,LP:()=>s,do:()=>X,i8:()=>ot,MW:()=>n,y0:()=>D,YM:()=>j,wy:()=>c});var e=t(49481),i=t(38435),L=t(92130),f=t(9681),x=t(70506),S=t(87965),u=t(47422),g=t(58175),h=t(15746),O=t(47178),E=t(13963),w=function(N){return N.Full="Full",N.None="None",N.Temp="Temp",N}(w||{}),p=function(N){return N.Required="required",N.Functional="functional",N.Technical="technical",N.Behavioral="behavioral",N}(p||{}),V=function(N){return N.Anonymous="anonymous",N.DeviceOnly="deviceOnly",N.DevicePreferred="devicePreferred",N.UserPreferred="userPreferred",N.UserRequired="userRequired",N}(V||{}),c=function(N){return N.Undefined="undefined",N}(c||{}),C=function(N){return N.EventsCommonStore="eventsCommonStore",N.EventsDetailStore="eventsDetailStore",N.EventsDetailStoreRequired="eventsDetailStoreRequired",N.EventsDetailStoreTechnical="eventsDetailStoreTechnical",N.EventsDetailStoreBehavioral="eventsDetailStoreBehavioral",N.UserDataConsentStore="userDataConsentStore",N}(C||{}),l=function(N){return N.USER_ID="USER_ID",N.DEVICE_ID="DEVICE_ID",N.SESSION_ID="SESSION_ID",N}(l||{}),o=function(N){return N.SharedStorage="SharedStorage",N.LocalStorage="LocalStorage",N.AbHub="AbHub",N.IndexedDb="IndexedDb",N}(o||{});class n{constructor(Z){this.parameters=Z,this.ts=(new Date).toISOString()}}const s={server:"https://events.gfe.nvidia.com",version:"v1.0",schemaVersion:"1.0",defaultRetries:2,defaultTimeBetweenRetries:1e3,defaultTimeout:3e4,msBetweenSendRequest:5e3,maxEventsPerRequest:128,clientId:"",systemInfoEventDelay:1e4,productName:"GFN"},R=new n({}),_={clientId:"{CLIENTID}",clientVer:"{CLIENTVER}",eventSchemaVer:"{EVENTSCHEMAVER}",eventSysVer:"0.16.3",deviceId:c.Undefined,userId:c.Undefined,externalUserId:c.Undefined,idpId:c.Undefined,sessionId:c.Undefined,deviceOS:c.Undefined,deviceOSVersion:c.Undefined,deviceType:c.Undefined,deviceModel:c.Undefined,deviceMake:c.Undefined,clientType:c.Undefined,clientVariant:c.Undefined,sentTs:"",events:[R],integrationId:c.Undefined,browserType:c.Undefined,productName:c.Undefined,productVersion:c.Undefined},b={required:w.None,functional:w.None,technical:w.None,behavioral:w.None},I={required:w.Temp,functional:w.Temp,technical:w.None,behavioral:w.None},a={required:w.Full,functional:w.Full,technical:w.None,behavioral:w.None},y={required:w.Full,functional:w.Full,technical:w.Full,behavioral:w.None};var M=function(N){return N.Ok="OK",N.InvalidInfoForEventType="INVALID_INFO_FOR_EVENT_TYPE",N.UnknownEventType="UNKNOWN_EVENT_TYPE",N.UnProcessed="UNPROCESSED",N.ExperimentAlreadyActive="EXPERIMENT_ALREADY_ACTIVE",N.FunctionalConsentNotReceived="FUNCTIONAL_CONSENT_NOT_RECEIVED",N.LocaleSwitchInProgress="LOCALE_SWITCH_INPROGRESS",N}(M||{}),P=function(N){return N.Win="Win",N.Mac="Mac",N.Android="Android",N.NvAndroid="NvAndroid",N.Linux="Linux",N.Web="Web",N.Undefined="undefined",N}(P||{});const K={userConsent:b,userId:"",externalUserId:"",idpId:""},j=1e3;var tt=t(61699);let ot=(()=>{var N;class Z{}return(N=Z).\u0275fac=function(A){return new(A||N)},N.\u0275prov=tt.Yz7({token:N,factory:N.\u0275fac}),Z})();var F=t(31157),U=t(30285);let z=(()=>{var N;class Z{constructor(A,d,H){this.sdkConfig=A,this.endpointFactory=d,this.distributedTracingUtilService=H,this.eventServerEndpoint=this.endpointFactory.createEndpoint({headers:{"Content-Type":"application/json"},config:{timeout:this.sdkConfig.defaultTimeout,timeBetweenRetries:this.sdkConfig.defaultTimeBetweenRetries,maxRetries:this.sdkConfig.defaultRetries},reportRequest:!1})}generateUrl(A){return this.sdkConfig.server+"/"+this.sdkConfig.version+A}sendEvent(A,d,H,$){null!==A&&A.hasOwnProperty("sync")&&delete A.sync;const st={body:d,headers:{"Content-Type":"application/json","X-Event-Protocol":"1.5"},params:{immediateRequest:JSON.stringify(H)}},lt=this.eventServerEndpoint.makeRequestEx("POST",this.generateUrl("/events/json"),st);return this.distributedTracingUtilService.handleHttpEndpointSpan(lt,st,F.j1.SendTelemetryEvent,$)}sendEventviaBeacon(A,d,H,$){null!=A&&A.hasOwnProperty("sync")&&delete A.sync;const J=new Blob([d],{type:"text/plain"});return navigator.sendBeacon(this.generateUrl("/events/json"),J),(0,f.of)(!0)}setServer(A){return this.sdkConfig.server=A,this.getServerLocale(null)}getServerLocale(A){const d=A||this.sdkConfig.server;return d&&""!==d?d.endsWith(".cn")?"china":"global":"unknown"}}return(N=Z).\u0275fac=function(A){return new(A||N)(tt.LFG(ot),tt.LFG(U.V9),tt.LFG(F.Dc))},N.\u0275prov=tt.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),Z})(),Q=(()=>{var N;class Z{constructor(){this.windowLocalStorage=null,E.ng.isBrowserPlatform()&&(this.windowLocalStorage=window.localStorage)}getWlsItem(A,d){return this.windowLocalStorage&&JSON.parse(this.windowLocalStorage.getItem(A+d))}setWlsItem(A,d,H){return this.windowLocalStorage&&this.windowLocalStorage.setItem(A+d,JSON.stringify(H))}removeWlsItem(A,d){return this.windowLocalStorage&&this.windowLocalStorage.removeItem(A+d)}getLength(){return this.windowLocalStorage&&this.windowLocalStorage.length}getKey(A){return this.windowLocalStorage&&this.windowLocalStorage.key(A)}clearall(A){var d;this.windowLocalStorage&&(null===(d=Object.keys(this.windowLocalStorage))||void 0===d||d.forEach(H=>{null!=H&&H.startsWith(A)&&this.windowLocalStorage.removeItem(H)}))}}return(N=Z).\u0275fac=function(A){return new(A||N)},N.\u0275prov=tt.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),Z})(),dt=(()=>{var N;class Z{getCommonData$(){return this.commonDataSubject.asObservable()}get registeredErrorCallbackVal(){return this.registeredErrorCallback}get defaultErrorCallbackVal(){return this.defaultErrorCallback}get cleanUpBacklogEventsVal(){return this.cleanUpBacklogEvents}get currentUserConsentUpdatedVal(){return this.currentUserConsentUpdated}setDefaultConsentVal(A){this.defaultConsent=A,this.deviceConsent=A}setSendEventsInProgressVal(A){this.sendEventsInProgress=A}constructor(A,d,H,$,J,st,lt){this.config=A,this.eventSdkService=d,this.logService=H,this.dbCacheService=$,this.dbService=J,this.networkStatusService=st,this.windowLocalStorage=lt,this.commonData=_,this.defaultConsent=b,this.deviceConsent=b,this.deviceConsentUpdated=!1,this.currentUserConsent=b,this.currentUserConsentUpdated=!1,this.currentUserId=c.Undefined,this.syncedUserConsentInfo=!1,this.registeredErrorCallback=this.defaultErrorCallback,this.cleanUpBacklogEvents=!1,this.sendBacklogEventsInitiated=!1,this.sendEventsInProgress=!1,this.eventsInBatch=!1,this.sendBatchEventsInProgress={functional:!1,technical:!1,behavioral:!1,required:!1},this.cleanBacklogEventsInProgress=[],this.cleanWlsBacklogEventsInProgress=[],this.customParams={platform:!1},this.browserPlatform=!1,this.isTelemetryDisabled=!1,this.commonDataSubject=new e.t(1),this.serverLocale="unknown",this.purgeInitiated=!1,this.purgeInProgress={commonDbIsClear:!1,functionalDbIsClear:!1,technicalDbIsClear:!1,behavioralDbIsClear:!1,requiredDbIsClear:!1,wlsDbIsClear:!1},this.setErrorCallback=gt=>{this.registeredErrorCallback=gt},this.logger=this.logService.getLogger("JsEventsService"),this.commonData.clientId=this.config.clientId,this.commonData.eventSchemaVer=this.config.schemaVersion,this.sendInterval$=(0,i.H)(0,this.config.msBetweenSendRequest),this.logger.info("initialize",A),this.networkStatusService.onlineStatusChanged.subscribe(this.onOnlineStateChanged.bind(this)),this.browserPlatform=E.ng.isBrowserPlatform(),this.serverLocale=this.eventSdkService.getServerLocale(null)}defaultErrorCallback(A){this.logger.error("message:",A&&A.message?A.message:"Unknown error")}updateServer(A){const d=this.eventSdkService.setServer(A);this.onLocationStateChanged(d)}sendToServerEndpoint(A,d){const H=A.events.slice(0);A.eventsToBeSent=A.events.length;const $=[];for(;0!==A.eventsToBeSent;){let J;this.logger.event("eventsToBeSent",A.eventsToBeSent.toString()),A.eventsToBeSent>this.config.maxEventsPerRequest?(J=H.slice(0,this.config.maxEventsPerRequest),H.splice(0,this.config.maxEventsPerRequest)):J=H,A.eventsToBeSent=A.eventsToBeSent-J.length;const st=A.commonData;st.events=J,st.sentTs=(new Date).toISOString();const lt=JSON.stringify(st);this.logger.info("events request",lt),$.push(this.eventSdkService.sendEvent(this.customParams,lt,d))}return(0,L.D)($)}updateCleanupState(A,d,H){let $=!1,J=0;this.cleanBacklogEventsInProgress.forEach(st=>{st.recordKey===A&&($=!0,st.functionalDbIsClear=d===p.Functional?H:st.functionalDbIsClear,st.technicalDbIsClear=d===p.Technical?H:st.technicalDbIsClear,st.behavioralDbIsClear=d===p.Behavioral?H:st.behavioralDbIsClear,st.requiredDbIsClear=d===p.Required?H:st.requiredDbIsClear,st.functionalDbIsClear&&st.technicalDbIsClear&&st.behavioralDbIsClear&&st.requiredDbIsClear&&(this.dbService.getGlobalStore(C.EventsCommonStore).removeItem(A).subscribe(),this.cleanBacklogEventsInProgress.splice(J,1)),J++)}),!1===$&&this.cleanBacklogEventsInProgress.push({recordKey:A,functionalDbIsClear:d===p.Functional&&H,technicalDbIsClear:d===p.Technical&&H,behavioralDbIsClear:d===p.Behavioral&&H,requiredDbIsClear:d===p.Required&&H})}getConsentedEvents(A,d,H,$){const J=[];return $&&$.events&&$.events.length>0&&$.events.forEach(st=>{const lt=this.eventHasConsent(st.personalization,A,d,H);if(lt===w.Full||lt===w.Temp){const gt=(0,O.extend)({},this.updatePersonalizationQualifiers(st));J.push(gt)}else this.logger.event("Event excluded from send due to no consent (to be discarded later): ",st,A)}),J}sendBacklogEventsDetailToServer(A,d,H,$,J,st){return this.logger.event("attempting to send backlog events for dbName:",H," userconsent: ",d,"key: ",J),this.dbService.getGlobalStore(H).getItem(J).pipe((0,S.zg)(lt=>{let gt={commonData:{},events:[],eventsToBeSent:0};const vt=pt=>{if(this.logger.event("jsEvents backlog response",pt,gt.eventsToBeSent),0===gt.eventsToBeSent)return this.dbService.getGlobalStore(H).removeItem(J).subscribe(),(0,f.of)(!0)},k=pt=>{this.logger.error("Failed to send backlog events",pt.status),this.logger.event("Failed to send backlog events for :",J,H,".ErrorInfo: status",pt.status)};return gt={commonData:(0,O.merge)({},st.common),events:this.getConsentedEvents($,A,d,lt),eventsToBeSent:0},gt.commonData&&gt.events&&gt.events.length>0?this.sendToServerEndpoint(gt,!1).pipe((0,u.U)(pt=>{pt.forEach(yt=>{vt(yt)})}),(0,g.K)(pt=>(k(pt),x.E))):(this.updateCleanupState(J,$,!0),this.dbService.getGlobalStore(H).removeItem(J).subscribe(),(0,f.of)(!0))}),(0,g.K)(lt=>(this.logger.event("detail data not available for backlog key",J),this.dbService.getGlobalStore(H).removeItem(J).subscribe(),(0,f.of)(!0))))}updateWlsCleanupState(A,d,H){let $=!1,J=0;this.cleanWlsBacklogEventsInProgress.forEach(st=>{st.recordKey===A&&($=!0,st.functionalDbIsClear=d===p.Functional?H:st.functionalDbIsClear,st.technicalDbIsClear=d===p.Technical?H:st.technicalDbIsClear,st.behavioralDbIsClear=d===p.Behavioral?H:st.behavioralDbIsClear,st.requiredDbIsClear=d===p.Required?H:st.requiredDbIsClear,st.functionalDbIsClear&&st.technicalDbIsClear&&st.behavioralDbIsClear&&st.requiredDbIsClear&&(this.windowLocalStorage.removeWlsItem(C.EventsCommonStore,A),this.cleanWlsBacklogEventsInProgress.splice(J,1)),J++)}),!1===$&&this.cleanWlsBacklogEventsInProgress.push({recordKey:A,functionalDbIsClear:d===p.Functional&&H,technicalDbIsClear:d===p.Technical&&H,behavioralDbIsClear:d===p.Behavioral&&H,requiredDbIsClear:d===p.Required&&H})}sendWlsBacklogEventsDetailToServer(A,d,H,$,J,st){this.logger.event("attempting to send wls backlog events for dbName:",H," userconsent: ",d,"key: ",J);const lt=this.windowLocalStorage.getWlsItem(H,J);if(lt){let gt={commonData:{},events:[],eventsToBeSent:0};const vt=pt=>{if(this.logger.event("jsEvents wls backlog response",pt,gt.eventsToBeSent),0===gt.eventsToBeSent)return this.windowLocalStorage.removeWlsItem(H,J)},k=pt=>{this.logger.error("Failed to send wls backlog events :",pt.status),this.logger.event("Failed to send wls backlog events for :",J,H,".ErrorInfo: status",pt.status)};return gt={commonData:(0,O.merge)({},st.common),events:this.getConsentedEvents($,A,d,lt),eventsToBeSent:0},gt.commonData&&gt.events&&gt.events.length>0?this.sendToServerEndpoint(gt,!1).pipe((0,u.U)(pt=>{pt.forEach(yt=>{vt(yt)})}),(0,g.K)(pt=>(k(pt),x.E))):(this.updateWlsCleanupState(J,$,!0),(0,f.of)(this.windowLocalStorage.removeWlsItem(H,J)))}return this.updateWlsCleanupState(J,$,!0),this.logger.event("detail data not available for wls backlog key",J),(0,f.of)(this.windowLocalStorage.removeWlsItem(H,J))}attemptSendFromAllEventStores(A,d,H,$,J){return(0,L.D)([A.call(this,d,H,C.EventsDetailStore,p.Functional,$,J),A.call(this,d,H,C.EventsDetailStoreTechnical,p.Technical,$,J),A.call(this,d,H,C.EventsDetailStoreBehavioral,p.Behavioral,$,J),A.call(this,d,H,C.EventsDetailStoreRequired,p.Required,$,J)])}sendBacklogEvents(A){try{this.dbService.getGlobalStore(C.EventsCommonStore).getItem(A).pipe((0,S.zg)(d=>{if(this.logger.event("testCommonData",d),d&&d.common){const H=JSON.parse(A);return this.getUserConsentFromCache(H.userId||"undefined",!1).pipe((0,S.zg)($=>(this.logger.event("userConsentFromCache",$),d.common.gdprFuncOptIn=this.getString($.functional),d.common.gdprTechOptIn=this.getString($.technical),d.common.gdprBehOptIn=this.getString($.behavioral),d.common.deviceGdprFuncOptIn=this.getString(this.deviceConsent.functional),d.common.deviceGdprTechOptIn=this.getString(this.deviceConsent.technical),d.common.deviceGdprBehOptIn=this.getString(this.deviceConsent.behavioral),this.attemptSendFromAllEventStores(this.sendBacklogEventsDetailToServer,this.deviceConsent,$,A,d))))}return this.logger.event("common data not available for backlog key",A),this.dbService.getGlobalStore(C.EventsCommonStore).removeItem(A).subscribe(),(0,f.of)(!0)}),(0,g.K)(d=>(this.logger.event("common data not available for backlog key",A),this.dbService.getGlobalStore(C.EventsCommonStore).removeItem(A).subscribe(),(0,f.of)(!0)))).subscribe()}catch(d){this.logger.error("catch backlog::",d)}}sendWlsBacklogEvents(A){try{const d=this.windowLocalStorage.getWlsItem(C.EventsCommonStore,A);if(this.logger.event("wlsCommonData",d),d){const H=JSON.parse(A);this.getUserConsentFromCache(H.userId||"undefined",!1).pipe((0,S.zg)($=>{this.logger.event("userConsentFromCache",$);const J={common:d};return J.common.gdprFuncOptIn=this.getString($.functional),J.common.gdprTechOptIn=this.getString($.technical),J.common.gdprBehOptIn=this.getString($.behavioral),J.common.deviceGdprFuncOptIn=this.getString(this.deviceConsent.functional),J.common.deviceGdprTechOptIn=this.getString(this.deviceConsent.technical),J.common.deviceGdprBehOptIn=this.getString(this.deviceConsent.behavioral),this.attemptSendFromAllEventStores(this.sendWlsBacklogEventsDetailToServer,this.deviceConsent,$,A,J)})).subscribe()}else this.logger.event("wls common data not available for backlog key",A),this.windowLocalStorage.removeWlsItem(C.EventsCommonStore,A)}catch(d){this.logger.error("catch wls backlog:",d)}}setInProgressState(A,d){this.sendBatchEventsInProgress.functional=A===p.Functional?d:this.sendBatchEventsInProgress.functional,this.sendBatchEventsInProgress.technical=A===p.Technical?d:this.sendBatchEventsInProgress.technical,this.sendBatchEventsInProgress.behavioral=A===p.Behavioral?d:this.sendBatchEventsInProgress.behavioral,this.sendBatchEventsInProgress.required=A===p.Required?d:this.sendBatchEventsInProgress.required,this.eventsInBatch=this.getInProgressState()}getInProgressState(){return this.sendBatchEventsInProgress.functional||this.sendBatchEventsInProgress.technical||this.sendBatchEventsInProgress.behavioral||this.sendBatchEventsInProgress.required}sendBatchedEventsDetailToServer(A,d,H,$,J,st){this.logger.event("attempting to send batched events for dbName:",H," userconsent: ",d,"key: ",J);const lt=this.dbCacheService.getCachedGlobalItem(H,J);let gt={commonData:{},events:[],eventsToBeSent:0};const vt=pt=>{this.logger.event("jsEvents batched response",pt);const yt=JSON.parse(pt.config.data);this.cleanUpSentEvents(yt.events,H,J),this.setInProgressState($,!1),this.sendEventsInProgress=!1},k=pt=>{this.setInProgressState($,!1),this.sendEventsInProgress=!1,this.logger.error("Failed to send events for :",J,".ErrorInfo: status",pt.status)};return gt={commonData:(0,O.merge)({},st.common),events:this.getConsentedEvents($,A,d,lt),eventsToBeSent:0},gt.commonData&&gt.events&&gt.events.length>0?(this.setInProgressState($,!0),this.sendEventsInProgress=!0,this.sendToServerEndpoint(gt,!1).subscribe(pt=>{pt.forEach(yt=>{vt(yt)})},pt=>{k(pt)})):(lt&&lt.events&&(lt.events.splice(0,lt.events.length),lt.persist_().subscribe()),this.setInProgressState($,!1),this.sendEventsInProgress=!1),x.E}sendEvents(){const A=this.getRecordKey(),d=this.dbCacheService.getCachedGlobalItem(C.EventsCommonStore,A);if(d&&d.common)this.getUserConsentFromCache(this.currentUserId||c.Undefined,!0).pipe((0,S.zg)(H=>(d.common.gdprFuncOptIn=this.getString(H.functional),d.common.gdprTechOptIn=this.getString(H.technical),d.common.gdprBehOptIn=this.getString(H.behavioral),d.common.deviceGdprFuncOptIn=this.getString(this.deviceConsent.functional),d.common.deviceGdprTechOptIn=this.getString(this.deviceConsent.technical),d.common.deviceGdprBehOptIn=this.getString(this.deviceConsent.behavioral),this.attemptSendFromAllEventStores(this.sendBatchedEventsDetailToServer,this.deviceConsent,H,A,d)))).subscribe();else{if(this.logger.event("common data not available for key",A),d&&(0,O.isUndefined)(d.common))try{this.registeredErrorCallback("common data not set before starting to send events")}catch(H){this.logger.error(H),this.defaultErrorCallback("Invalid callback. Original Error: common data not set before starting to send events")}this.sendEventsInProgress=!1}}startTimeBasedSendToServer(){this.stopTimeBasedSendToServer(),this.sendEventSubscription=this.sendInterval$.subscribe(()=>{this.logger.event("events in batch:",this.eventsInBatch),!0===this.eventsInBatch&&!1===this.sendEventsInProgress&&!1===this.getInProgressState()&&!1===this.getPurgeInProgressState()&&(this.sendEventsInProgress=!0,this.sendEvents())}),this.logger.event("send interval request made")}stopTimeBasedSendToServer(){this.sendEventSubscription&&(this.sendEventSubscription.unsubscribe(),this.sendEventSubscription=null,this.logger.event("send interval stopped"))}onOnlineStateChanged(A){this.isOnline=A,this.isOnline?this.deviceConsent!==b&&(this.logger.info("jsEvents turns into online"),this.startTimeBasedSendToServer()):(this.logger.info("jsEvents turns into offline"),this.stopTimeBasedSendToServer())}onLocationStateChanged(A){"unknown"!==this.serverLocale&&this.serverLocale!==A&&(this.logger.info("purge stored events"),this.purgeInitiated=!0,this.purgeEventStoreRecords()),this.serverLocale=A}purgeEventStoreRecords(){this.purgeInProgress={commonDbIsClear:!1,functionalDbIsClear:!1,technicalDbIsClear:!1,behavioralDbIsClear:!1,requiredDbIsClear:!1,wlsDbIsClear:!1},this.dbService.getGlobalStore(C.EventsDetailStore).clear().subscribe(()=>{this.purgeInProgress.functionalDbIsClear=!0}),this.dbService.getGlobalStore(C.EventsDetailStoreTechnical).clear().subscribe(()=>{this.purgeInProgress.technicalDbIsClear=!0}),this.dbService.getGlobalStore(C.EventsDetailStoreBehavioral).clear().subscribe(()=>{this.purgeInProgress.behavioralDbIsClear=!0}),this.dbService.getGlobalStore(C.EventsDetailStoreRequired).clear().subscribe(()=>{this.purgeInProgress.requiredDbIsClear=!0}),this.dbService.getGlobalStore(C.EventsCommonStore).clear().subscribe(()=>{this.purgeInProgress.commonDbIsClear=!0}),this.windowLocalStorage.clearall(C.EventsDetailStore),this.windowLocalStorage.clearall(C.EventsDetailStoreTechnical),this.windowLocalStorage.clearall(C.EventsDetailStoreBehavioral),this.windowLocalStorage.clearall(C.EventsDetailStoreRequired),this.windowLocalStorage.clearall(C.EventsCommonStore),this.purgeInProgress.wlsDbIsClear=!0}getPurgeInProgressState(){let A=!1;return this.purgeInitiated&&(A=!(this.purgeInProgress.wlsDbIsClear&&this.purgeInProgress.functionalDbIsClear&&this.purgeInProgress.technicalDbIsClear&&this.purgeInProgress.behavioralDbIsClear&&this.purgeInProgress.requiredDbIsClear&&this.purgeInProgress.commonDbIsClear),this.purgeInitiated=A),A}getUserConsentFromCache(A,d){const $={required:this.deviceConsent.required,functional:this.deviceConsent.functional,technical:w.None,behavioral:w.None},J=this.dbCacheService.getOrCreateCachedGlobalItem(C.UserDataConsentStore,A||c.Undefined);return J?J.sync_().pipe((0,u.U)(()=>{const st=J&&J.userConsent;return!0===d&&((0,O.isNil)(st)?this.currentUserId===c.Undefined&&(this.currentUserConsent=$,this.currentUserConsentUpdated=!0):(this.currentUserConsent=st,this.currentUserConsentUpdated=!0)),st||$}),(0,g.K)(st=>(0,f.of)($))):(0,f.of)($)}syncUserConsentInfo(A){const d=A.find(H=>H.userId===this.currentUserId);d&&(this.currentUserConsent=d.userConsent,this.currentUserConsentUpdated=!0),A.forEach(H=>{const $=this.dbCacheService.getOrCreateCachedGlobalItem(C.UserDataConsentStore,H.userId);this.logger.event("previously cached consent",$.userConsent),$.userConsent=H.userConsent,$.persist_().subscribe(),this.logger.event("updated consent",H.userConsent)}),this.syncedUserConsentInfo=!0,this.startSendingEvents()}setDefaultConsent(A){this.defaultConsent=A,this.deviceConsent=A,(this.currentUserId===c.Undefined||(0,O.isUndefined)(this.currentUserId))&&(this.currentUserConsent={required:this.deviceConsent.required,functional:this.deviceConsent.functional,technical:w.None,behavioral:w.None},this.currentUserConsentUpdated=!0),this.startSendingEvents()}setDeviceConsent(A){this.deviceConsent=A,this.deviceConsentUpdated=!0,this.logger.event("device consent",A),this.startSendingEvents()}eventHasConsent(A,d,H,$){let J;return J=A===V.Anonymous||A===V.DeviceOnly||A===V.DevicePreferred?H:A===V.UserRequired?this.currentUserId===c.Undefined||(0,O.isUndefined)(this.currentUserId)?b:$:this.currentUserId===c.Undefined||(0,O.isUndefined)(this.currentUserId)?{required:this.deviceConsent.required,functional:this.deviceConsent.functional,technical:w.None,behavioral:w.None}:$,d===p.Required?J.required:d===p.Functional?J.functional:d===p.Technical?J.technical:d===p.Behavioral?J.behavioral:w.None}cleanUpDbStore(){if(this.isTelemetryDisabled)return;const A=this;if(this.commonData.sessionId===c.Undefined)return void A.logger.info("Cleanup cannot proceed, this.commonData.sessionId is undefined");this.sendBacklogEventsInitiated=!0;const d=JSON.parse(this.getRecordKey());this.logger.info("cleanUpDbStore excluding session for",d);try{A.dbService.getGlobalStore(C.EventsCommonStore).keys().pipe((0,h.b)(H=>{H.forEach(($,J)=>{try{if(A.logger.event("Key#",J,"key ",$),"_version"===$)A.logger.info("_version to be skipped",$);else{const st=JSON.parse($);""===st.sessionId||st.sessionId===d.sessionId?A.logger.info("key not to be processed",st):A.sendBacklogEvents($)}}catch(st){A.logger.error("Json parsing failed for key:",$,"error:",null==st?void 0:st.message)}})})).subscribe()}catch(H){A.logger.error("encountered failure, error:",null==H?void 0:H.message)}}cleanUpWlsStore(){this.sendBacklogEventsInitiated=!0;const A=JSON.parse(this.getRecordKey());this.logger.info("cleanUpWlsStore excluding session for",A);for(let d=0;d<this.windowLocalStorage.getLength();++d){const H=this.windowLocalStorage.getKey(d);if(H.match("^"+C.EventsCommonStore)){this.logger.event("Key#",d,"key ",H);const $=JSON.parse(H.replace(C.EventsCommonStore,""));""===$.sessionId||$.sessionId===A.sessionId?this.logger.event("key not to be processed",$):this.sendWlsBacklogEvents(JSON.stringify($))}}}cleanUpSentEvents(A,d,H){this.logger.event("cleanUpSentEvents for",H);const $=this.dbCacheService.getCachedGlobalItem(d,H);A.forEach(J=>{if($&&$.events.length>0){const st=$.events.find(lt=>lt.ts===J.ts);if(st&&(0,O.isEqual)(st.parameters,J.parameters)){const lt=$.events.indexOf(st);this.logger.event("matching event found",J),$.events.splice(lt,1),$.persist_().subscribe()}else this.logger.event("matching event not found")}else this.logger.event("events seem to be already cleared")}),$.persist_().subscribe()}startSendingEvents(){this.isOnline&&this.deviceConsent!==b&&"unknown"!==this.serverLocale?(this.startTimeBasedSendToServer(),!1===this.sendBacklogEventsInitiated&&(this.cleanUpDbStore(),this.cleanUpBacklogEvents=!1)):this.logger.info("Device offline or No Functional consent. No clean job happened.",this.deviceConsent)}updateGdprQualifiers(A){return(0,O.omit)(A,"gdprLevel")}updatePersonalizationQualifiers(A){return(0,O.omit)(A,"personalization")}updateGdprAndPersonalizationQualifiers(A){return(0,O.omit)(A,["gdprLevel","personalization"])}getString(A){return A&&"string"!=typeof A?JSON.stringify(A):A||""}getRecordKey(){return JSON.stringify({sessionId:this.commonData.sessionId||c.Undefined,userId:this.currentUserId||c.Undefined})}getFormattedInputData(A,d){const H=(0,O.extend)({},this.commonData);!0===d.anonymize&&(H.deviceId="undefined",H.userId="undefined",H.sessionId="undefined",H.externalUserId="undefined",H.idpId="undefined");const $=(0,O.extend)({},this.updateGdprAndPersonalizationQualifiers(A));this.logger.event("eventDetail",$);const J=[];return J.push($),H.events=J,H.sentTs=(new Date).toISOString(),H.gdprFuncOptIn=this.getString(this.currentUserConsent.functional),H.gdprTechOptIn=this.getString(this.currentUserConsent.technical),H.gdprBehOptIn=this.getString(this.currentUserConsent.behavioral),H.deviceGdprFuncOptIn=this.getString(this.deviceConsent.functional),H.deviceGdprTechOptIn=this.getString(this.deviceConsent.technical),H.deviceGdprBehOptIn=this.getString(this.deviceConsent.behavioral),JSON.stringify(H)}setFormattedEventsDetailData(A,d,H){const $=this.getRecordKey();let st,J=C.EventsDetailStore;if(A.gdprLevel===p.Technical&&(J=C.EventsDetailStoreTechnical),A.gdprLevel===p.Behavioral&&(J=C.EventsDetailStoreBehavioral),A.gdprLevel===p.Required&&(J=C.EventsDetailStoreRequired),d){st=this.windowLocalStorage.getWlsItem(J,$)||{},st.events=st.events||[];const lt=(0,O.extend)({},this.updateGdprQualifiers(A));this.logger.event("eventDetail wls",lt),st.events.push(lt),this.logger.event("details list wls",st.events),this.windowLocalStorage.setWlsItem(J,$,st),(0,O.isFunction)(H)&&H(),this.logger.event("request to batch an exit time event")}else{st=this.dbCacheService.getOrCreateCachedGlobalItem(J,$);let lt=st.events;const gt=(0,O.extend)({},this.updateGdprQualifiers(A));if(this.logger.event("eventDetail IDb",gt),lt)lt.push(gt);else{const vt=[];vt.push(gt),lt=vt}this.logger.event("details list indexed db",lt),st.events=lt,st.persist_().subscribe(()=>{(0,O.isFunction)(H)&&H(),this.logger.event("request to batch an event"),this.eventsInBatch=!0})}}storeEventDetail(A,d){this.setFormattedEventsDetailData(A,this.browserPlatform&&d.appExit||!1,d.afterDone||null)}checkIfEventIsSendable(A,d){return(0,O.isEqual)(this.deviceConsent,b)||A&&(0,O.isUndefined)(A.gdprLevel)?(this.logger.info("No consent available, discarding event",A.name,A.gdprLevel),(0,O.isFunction)(d.afterDone)&&d.afterDone(),M.FunctionalConsentNotReceived):this.getPurgeInProgressState()?M.LocaleSwitchInProgress:M.Ok}sendEventDetail(A,d){if(A){d=(0,O.merge)({},d),this.isValidPersonalization(A.personalization)||(A.personalization=V.UserPreferred);const H=this.checkIfEventIsSendable(A,d);if(H!==M.Ok)return H;if("unknown"===this.serverLocale||!0!==d.immediateRequest&&!0!==d.useBeacon||!0!==this.isOnline)this.storeEventDetail(A,d);else{const $=this.eventHasConsent(A.personalization,A.gdprLevel,this.deviceConsent,this.currentUserConsent);if(this.logger.event("attempting to send immediate event for userId:",this.currentUserId," userconsent: ",this.currentUserConsent,"deviceconsent: ",this.deviceConsent),$!==w.Full&&$!==w.Temp)return this.currentUserId&&this.currentUserId!==c.Undefined&&!1===this.currentUserConsentUpdated?(this.storeEventDetail(A,d),this.logger.event("Event stored as userConsent not synced yet",$,this.currentUserConsentUpdated)):((0,O.isFunction)(d.afterDone)&&d.afterDone(),this.logger.error("Event cannot be sent due to consent level:",$)),$;{const J=this.getFormattedInputData(A,d);this.logger.info("jsonString request to send:",J);let st=this.eventSdkService.sendEvent,lt=!0;d.useBeacon&&(st=this.eventSdkService.sendEventviaBeacon,lt=!1),st.call(this.eventSdkService,this.customParams,J,lt).subscribe(gt=>{this.logger.event("jsevents response",gt),(0,O.isFunction)(d.afterDone)&&d.afterDone()},gt=>{this.logger.error("Failed to send eventdata for:",A.name,".ErrorInfo: status",gt.status,", data",gt.config&&gt.config.data),this.storeEventDetail(A,d)})}}return M.Ok}return this.logger.error("Empty request"),M.UnProcessed}sendEventDetailWithPromise(A,d){return new Promise((H,$)=>{if(A){if(d=(0,O.merge)({},d),(0,O.isEqual)(this.deviceConsent,b)||A&&(0,O.isUndefined)(A.gdprLevel))return this.logger.info("Functional consent not received, discarding event",A.name,A.gdprLevel),(0,O.isFunction)(d.afterDone)&&d.afterDone(),void $(M.FunctionalConsentNotReceived);if(this.getPurgeInProgressState())return void $(M.LocaleSwitchInProgress);if("unknown"===this.serverLocale||!0!==d.immediateRequest&&!0!==d.useBeacon||!0!==this.isOnline)this.storeEventDetail(A,d),H(M.Ok);else{const J=this.eventHasConsent(A.personalization,A.gdprLevel,this.deviceConsent,this.currentUserConsent);if(this.logger.event("attempting to send immediate event for userId:",this.currentUserId," userconsent: ",this.currentUserConsent,"deviceconsent: ",this.deviceConsent),J===w.Full||J===w.Temp){const st=this.getFormattedInputData(A,d);let lt=this.eventSdkService.sendEvent,gt=!0;d.useBeacon&&(lt=this.eventSdkService.sendEventviaBeacon,gt=!1),lt.call(this.eventSdkService,this.customParams,st,gt).subscribe(vt=>{this.logger.event("jsevents response",vt),(0,O.isFunction)(d.afterDone)&&d.afterDone(),H(M.Ok)},vt=>{this.logger.error("Failed to send eventdata for:",A.name,".ErrorInfo: status",vt.status,", data",vt.config&&vt.config.data),this.storeEventDetail(A,d),H(M.UnProcessed)})}else this.currentUserId&&this.currentUserId!==c.Undefined&&!1===this.currentUserConsentUpdated?(this.storeEventDetail(A,d),this.logger.event("Event stored as userConsent not synced yet",J,this.currentUserConsentUpdated)):((0,O.isFunction)(d.afterDone)&&d.afterDone(),this.logger.error("Event cannot be sent due to consent level:",J)),H(J)}}else this.logger.error("Empty request"),H(M.Ok)})}isValidPlatformType(A){return A===P.Win||A===P.Mac||A===P.Android||A===P.NvAndroid||A===P.Linux||A===P.Web}isValidPersonalization(A){return A===V.Anonymous||A===V.DeviceOnly||A===V.DevicePreferred||A===V.UserPreferred||A===V.UserRequired}setEventsCommonData(A){if(!A)return this.logger.error("Undefined common data sent by client"),(0,f.of)(void 0);this.cleanUpBacklogEvents=!1,this.commonData.sessionId===c.Undefined&&A.sessionId&&(this.cleanUpBacklogEvents=!0),this.commonData=(0,O.merge)({},this.commonData,A),this.logger.info("client user data",A.userId,A.externalUserId,A.idpId),this.logger.info("this.commonData user data",this.commonData.userId,this.commonData.externalUserId,this.commonData.idpId),this.commonData.eventProtocol="1.5",this.currentUserId=this.commonData.idpId!==c.Undefined?this.commonData.userId:this.commonData.externalUserId,this.isValidPlatformType(this.commonData.platform)||(this.commonData.platform=P.Undefined),this.currentUserConsentUpdated=!1,this.logger.info("Device Id:",this.commonData.deviceId,"set for client:",this.commonData.clientId);const d=this.getUserConsentFromCache(this.currentUserId,!0);this.logger.event(this.commonData);const H=this.getRecordKey(),$=this.dbCacheService.getOrCreateCachedGlobalItem(C.EventsCommonStore,H);if($.common=this.commonData,$.persist_().subscribe(),this.browserPlatform){let J=this.windowLocalStorage.getWlsItem(C.EventsCommonStore,H)||{};J=this.commonData,this.windowLocalStorage.setWlsItem(C.EventsCommonStore,H,J)}return this.isOnline&&this.deviceConsent!==b&&"unknown"!==this.serverLocale?(this.startTimeBasedSendToServer(),this.cleanUpBacklogEvents&&!1===this.sendBacklogEventsInitiated&&(this.cleanUpDbStore(),this.cleanUpBacklogEvents=!1),this.browserPlatform&&this.cleanUpWlsStore()):this.logger.info("Device offline or No Functional consent. No clean job happened.",this.deviceConsent),this.commonDataSubject.next(this.commonData),d}setOverrideToolTelemetryState(A){this.isTelemetryDisabled=A}ngOnDestroy(){this.sendEventSubscription&&(this.sendEventSubscription.unsubscribe(),this.sendEventSubscription=void 0)}}return(N=Z).\u0275fac=function(A){return new(A||N)(tt.LFG(ot),tt.LFG(z),tt.LFG(E.ed),tt.LFG(E.LA),tt.LFG(E.MC),tt.LFG(E._J),tt.LFG(Q))},N.\u0275prov=tt.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),Z})(),X=(()=>{var N;class Z{static forRoot(A){return{ngModule:Z,providers:[{provide:ot,useValue:A||s}]}}}return(N=Z).\u0275fac=function(A){return new(A||N)},N.\u0275mod=tt.oAB({type:N}),N.\u0275inj=tt.cJS({}),Z})();var m=t(78943),Y=t(17627);let D=(()=>{var N;class Z{constructor(A,d,H){this.loggingService=A,this.bridgeService=d,this.jsEventsService=H,this.clientVersion="undefined",this.currentScreen="",this.deviceId="undefined",this.isUIRefreshed=!1,this.launchUiEventSent=!1,this.sessionId="undefined",this.sync=!1,this.userId="undefined",this.externalUserId="undefined",this.idpId="undefined",this.platform=null,this.deviceOS=null,this.deviceOSVersion=null,this.deviceType=null,this.deviceModel=null,this.deviceMake=null,this.clientType=null,this.clientVariant=null,this.integrationId=null,this.browserType=null,this.productName=null,this.productVersion=null,this.isTelemetryDisabled=!1,this.defaultConsentListener$=new e.t(1),this.deviceConsentListener$=new e.t(1),this.commonDataListener$=new e.t(1),this.validUserIdResetListener$=new e.t(1),this.consentUpdatedPromise=new Promise($=>{$(null)}),this.logEvaluatorCallback=$=>!0,this.logger=this.loggingService.getLogger("telemetryService"),this.getUIRefreshState(),this.sessionId=this.generateSessionId()}updateTelemetrySessionId(A){this.sessionId=A}initialize(A){this.isTelemetryDisabled=A,this.jsEventsService.setOverrideToolTelemetryState(this.isTelemetryDisabled)}getCommonData$(){return this.jsEventsService.getCommonData$()}setLaunchUiEventSent(A){this.launchUiEventSent=A,this.logger.info("Launch UI event sent: ",this.launchUiEventSent)}getLaunchUiEventSent(){return this.launchUiEventSent}setLoggingEvaluator(A){this.logEvaluatorCallback=A}getUIRefreshState(){this.logger.info("Getting  UI Refreshed state"),this.bridgeService.executeCommand(m.Gh.Common.Applicationinfo.GetIsUIRefreshed).subscribe(A=>{this.isUIRefreshed=A,this.logger.info("Refreshed state",this.isUIRefreshed)},()=>{this.logger.error("Failed to get UI Refreshed state")})}generateSessionId(){let A=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(H){const $=(A+16*Math.random())%16|0;return A=Math.floor(A/16),("x"===H?$:3&$|8).toString(16)})}get telemetrySessionId(){return this.sessionId}setEventsCommonData(A,d=!1,H=!1){this.logger.info("telemetry sessionId is ",this.sessionId),!this.deviceId&&A&&A.deviceId&&this.logger.info("telemetry deviceId",A.deviceId),(d&&A&&A.userId||A&&A.externalUserId)&&(this.logger.info("telemetry userId ",A.userId),this.logger.info("telemetry externalUserId ",A.externalUserId),this.logger.info("telemetry idpId ",A.idpId)),this.deviceId=A&&A.deviceId?A.deviceId:this.deviceId,this.clientVersion=A&&A.clientVer||this.clientVersion,d&&(this.userId=A.userId||"undefined",this.externalUserId=A.externalUserId||"undefined",this.idpId=A.idpId||"undefined"),this.platform=this.platform||A.platform,this.deviceOS=this.deviceOS||A.deviceOS,this.deviceOSVersion=this.deviceOSVersion||A.deviceOSVersion,this.deviceType=this.deviceType||A.deviceType,this.deviceModel=this.deviceModel||A.deviceModel,this.deviceMake=this.deviceMake||A.deviceMake,this.clientType=this.clientType||A.clientType,this.clientVariant=this.clientVariant||A.clientVariant,this.integrationId=this.integrationId||A.integrationId,this.browserType=this.browserType||A.browserType,this.productName=this.productName||A.productName,this.productVersion=this.productVersion||A.productVersion,H&&(this.integrationId=A.integrationId||"undefined"),this.logger.info("Setting common events data: ",{clientVer:this.clientVersion,sessionId:this.sessionId,deviceId:this.deviceId,userId:this.userId,externalUserId:this.externalUserId,idpId:this.idpId,platform:this.platform,deviceOS:this.deviceOS,deviceOSVersion:this.deviceOSVersion,deviceType:this.deviceType,deviceModel:this.deviceModel,deviceMake:this.deviceMake,clientType:this.clientType,clientVariant:this.clientVariant,integrationId:this.integrationId,browserType:this.browserType,productName:this.productName,productVersion:this.productVersion}),this.consentUpdatedPromise=this.jsEventsService.setEventsCommonData({clientVer:this.clientVersion,sessionId:this.sessionId,deviceId:this.deviceId,userId:this.userId,externalUserId:this.externalUserId,idpId:this.idpId,platform:this.platform,deviceOS:this.deviceOS||c.Undefined,deviceOSVersion:this.deviceOSVersion||c.Undefined,deviceType:this.deviceType||c.Undefined,deviceModel:this.deviceModel||c.Undefined,deviceMake:this.deviceMake||c.Undefined,clientType:this.clientType||c.Undefined,clientVariant:this.clientVariant||c.Undefined,integrationId:this.integrationId||c.Undefined,browserType:this.browserType||c.Undefined,productName:this.productName||c.Undefined,productVersion:this.productVersion||c.Undefined}).toPromise(),this.userId&&this.deviceId&&this.deviceId!==c.Undefined&&this.commonDataListener$.next(!0),this.validUserIdResetListener$.next(d&&this.userId&&this.userId!==c.Undefined)}setScreen(A){this.currentScreen=A}getScreen(){return this.currentScreen}changeSync(A){this.sync=A}setDefaultClientConsent(A){this.logger.event("Set client consent: ",A),this.jsEventsService.setDefaultConsent(A),this.defaultConsentListener$.next(!0)}setDeviceConsent(A){this.logger.event("Set device consent: ",A),this.jsEventsService.setDeviceConsent(A),this.defaultConsentListener$.next(!0),this.deviceConsentListener$.next(!0)}setUserConsent(A){this.logger.event("Set user consent: ",A),this.jsEventsService.syncUserConsentInfo(A)}getDefaultClientConsentObserable(){return this.defaultConsentListener$.pipe((0,Y.P)())}getDeviceConsentObservable(){return this.deviceConsentListener$.pipe((0,Y.P)())}getCommonDataObservable(){return this.commonDataListener$.pipe((0,Y.P)())}getValidUserIdResetObservable(){return this.validUserIdResetListener$.asObservable()}setServerConfig(A){this.jsEventsService.updateServer(A)}push(A,d,H){if(this.isUIRefreshed||this.isTelemetryDisabled)this.logger.info("Disabled telemetry",A.name);else if(A){if(H=(0,O.merge)({},H),H=(0,O.extend)(H,{appExit:this.sync}),d&&A.parameters.hasOwnProperty("totalMs")){const $=Date.now(),J=$-d;this.logger.info("Started ",A.name,"at ",d,"and ended at ",$,"Time elapsed(ms)",J),A.parameters=(0,O.merge)(A.parameters,{totalMs:J})}this.logEvaluatorCallback(A)&&this.logger.event("Event detail: ",A),this.consentUpdatedPromise.then(()=>{this.logger.info("Sending event "+A.name),this.jsEventsService.sendEventDetail(A,H)})}else this.logger.error("Empty event.")}pushWithPromise(A,d,H){if(this.isUIRefreshed||this.isTelemetryDisabled)return this.logger.info("Disabled telemetry",A.name),new Promise(($,J)=>{$("Disabled telemetry")});if(A){if(H=(0,O.merge)({},H),H=(0,O.extend)(H,{appExit:this.sync}),d&&A.parameters.hasOwnProperty("totalMs")){const $=Date.now(),J=$-d;this.logger.info("Started ",A.name,"at ",d,"and ended at ",$,"Time elapsed(ms)",J),A.parameters=(0,O.merge)(A.parameters,{totalMs:J})}return this.logEvaluatorCallback(A)&&this.logger.event("Event detail: ",A),new Promise($=>{this.consentUpdatedPromise.then(()=>this.jsEventsService.sendEventDetailWithPromise(A,H)).then(J=>{$(J)})})}return this.logger.error("Empty event."),new Promise(($,J)=>{J("Empty event.")})}}return(N=Z).\u0275fac=function(A){return new(A||N)(tt.LFG(E.ed),tt.LFG(E.dF),tt.LFG(dt))},N.\u0275prov=tt.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),Z})()},30285:(Dt,ct,t)=>{"use strict";t.d(ct,{PN:()=>C,n0:()=>n,uW:()=>i,ay:()=>_,V9:()=>b,Bs:()=>c});var e=t(61699);let i=(()=>{var I;class q{}return(I=q).\u0275fac=function(y){return new(y||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({}),q})();var L=t(54860),f=t(37717),x=t(87965),S=t(47422),u=t(19979),g=t(33994),h=t(38435),O=t(32484),E=t(47178);const w={timeBetweenRetries:0,maxRetries:0,retryOnTimeout:!1,exponentialBackoffMaxDelay:3e4},p="TimeoutError";var c=function(I){return I[I.UnknownError=0]="UnknownError",I[I.RequestTimeout=-100]="RequestTimeout",I[I.RequestCancelled=-101]="RequestCancelled",I[I.NetworkStatusOffline=-102]="NetworkStatusOffline",I[I.DNSLookupFailed=-103]="DNSLookupFailed",I}(c||{});const C=36e5;var o,l=t(77869);const n={authorization:"Authorization",xRequestId:"x-request-id"};class _{static httpErrorEvents$(){return _.httpErrorEventsSubject.asObservable()}static httpSuccessEvents$(){return _.httpSuccessEventsSubject.asObservable()}static httpStartEvents$(){return _.httpStartEventsSubject.asObservable()}constructor(q,a,y={}){this.http=q,this.networkStatusService=a,this.configOptions=y,(0,E.isNil)(this.configOptions.config)&&(this.configOptions.config=w),(0,E.isNil)(this.configOptions.config.retryOnTimeout)&&(this.configOptions.config.retryOnTimeout=w.retryOnTimeout),(0,E.isNil)(this.configOptions.config.exponentialBackoffMaxDelay)&&(this.configOptions.config.exponentialBackoffMaxDelay=w.exponentialBackoffMaxDelay)}static replaceTemplateKey(q,a,y,M){let P=q;if("string"==typeof y){const K=":"+a;-1!==q.indexOf(K)&&(P=q.replace(new RegExp(K,"g"),encodeURIComponent(y)),M(a))}return P}static formatUrl(q,a){let y=q;return y=Object.keys(a).reduce((M,P)=>_.replaceTemplateKey(M,P,a[P],K=>delete a[K]),y),y}static isRetryableError(q,a,y){let M=!0;return q instanceof L.UA?0!==q.status||y.isOnline?429===q.status?M=!0:0!==q.status&&(q.status<500||q.status>=600)&&(M=!1):M=!1:q instanceof Error&&q.name===p&&!a.retryOnTimeout&&(M=!1),M}static formatError(q,a,y,M){const P=_.getFullUrl(q,a);let K,B;y instanceof L.UA?(K=y,B=y.status):y&&y.name===p&&(B=c.RequestTimeout);const j={url:P,status:B,rawResponse:K};return(0,E.isNil)(M.headers[n.xRequestId])||(j.xRequestId=M.headers[n.xRequestId]),j}static getFullUrl(q,a){const y=Object.keys(a);if(y.length>0){q+="?";for(const M of y)q+=`${M}=${a[M]}&`;q=q.substring(0,q.length-1)}return q}static applyTimeout(q,a){return(0,E.isNil)(a.timeout)?q:q.pipe((0,f.V)(a.timeout))}static isReportRequest(q){return(0,E.isNil)(q.reportRequest)||!0===q.reportRequest}genericRetryStrategy(q,a,y){return y.pipe((0,x.zg)((M,P)=>{const K=P+1,B=_.formatError(q,a.params,M,a);if(_.isReportRequest(a)&&(a.reportRequestData={...a.reportRequestData,retryCount:String(K)},_.httpErrorEventsSubject.next({response:B,options:a})),K>a.config.maxRetries||!_.isRetryableError(M,a.config,this.networkStatusService))return(0,g._)(B);let j;if(a.config.timeBetweenRetries)j=a.config.timeBetweenRetries;else{var tt;const ot=null===(tt=a.config)||void 0===tt?void 0:tt.exponentialBackoffMaxDelay;j=1e3,K>1&&(j=Math.min(1e3*Math.pow(2,K-1),ot))}if(M instanceof L.UA&&(429===M.status||503===M.status)){const ot=+(M.headers.get("retry-after")||0);isNaN(ot)||(j=Math.max(j,1e3*ot))}return(0,h.H)(j)}))}initRequest(q,a){const y=a;return y.params={...this.configOptions.params,...a.params},y.headers={...this.configOptions.headers,...a.headers},y.config={...this.configOptions.config,...a.config},y.reportRequestData={...this.configOptions.reportRequestData,...a.reportRequestData},y.reportRequest=this.configOptions.reportRequest&&a.reportRequest,y.includeRequestId&&(y.headers[n.xRequestId]=(0,l.Rl)()),[y,_.formatUrl(q,y.params)]}makeRequest(q,a,y={}){return this.makeRequestEx(q,a,y).pipe((0,S.U)(M=>null!=y&&y.includeFullResponse?M:M.body))}get(q,a={}){return this.makeRequest("GET",q,a)}delete(q,a={}){return this.makeRequest("DELETE",q,a)}post(q,a={}){return this.makeRequest("POST",q,a)}patch(q,a={}){return this.makeRequest("PATCH",q,a)}put(q,a={}){return this.makeRequest("PUT",q,a)}makeRequestEx(q,a,y={}){const[M,P]=this.initRequest(a,y);_.isReportRequest(M)&&_.httpStartEventsSubject.next({method:q,url:P,options:M}),M.reportRequestData.requestStartTime=Date.now().toString();const K=this.http.request(q,P,{body:M.body,params:M.params,headers:M.headers,responseType:M.responseType,observe:"response",withCredentials:!!M.withCredentials&&M.withCredentials});return _.applyTimeout(K,this.configOptions.config).pipe((0,u.a)(B=>this.genericRetryStrategy(P,M,B)),(0,S.U)(B=>{const j=(0,E.extend)(B,{config:{data:M.body}});return M.reportRequestData.requestEndTime=Date.now().toString(),_.isReportRequest(M)&&"false"!==M.reportRequestData.reportSuccessTelemetry&&_.httpSuccessEventsSubject.next({response:j,options:M}),j}))}getResponse(q,a={}){return this.makeRequestEx("GET",q,a)}}(o=_).httpErrorEventsSubject=new O.xQ,o.httpSuccessEventsSubject=new O.xQ,o.httpStartEventsSubject=new O.xQ;let b=(()=>{var I;class q{constructor(y,M){this.http=y,this.networkStatusService=M}createEndpoint(y){return new _(this.http,this.networkStatusService,y)}}return(I=q).\u0275fac=function(y){return new(y||I)(e.LFG(L.eN),e.LFG(l.kE))},I.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),q})()},25219:(Dt,ct,t)=>{"use strict";t.d(ct,{Mu:()=>e,dM:()=>i,jc:()=>f,zT:()=>L});var e=function(x){return x.Space="Space",x.CapsLock="CapsLock",x.Backspace="Backspace",x.ArrowLeft="ArrowLeft",x.ArrowRight="ArrowRight",x.Enter="Enter",x.Escape="Escape",x.PrimaryType="abc",x.SecondaryType="*&$",x}(e||{}),i=function(x){return x[x.Off=0]="Off",x[x.Once=1]="Once",x[x.Always=2]="Always",x}(i||{});const L=new Map([[["0",")"],"Digit0"],[["1","!"],"Digit1"],[["2","@"],"Digit2"],[["3","#"],"Digit3"],[["4","$"],"Digit4"],[["5","%"],"Digit5"],[["6","^"],"Digit6"],[["7","&"],"Digit7"],[["8","*"],"Digit8"],[["9","("],"Digit9"],[[";",":"],"Semicolon"],[["/","?"],"Slash"],[["`","~"],"Backquote"],[["[","{"],"BracketLeft"],[["\\","|"],"Backslash"],[["]","}"],"BracketRight"],[["'",'"'],"Quote"],[[".",">"],"Period"],[[",","<"],"Comma"],[["-","_"],"Minus"],[["=","+"],"Equal"]]),f=new Map([[[";",":"],186],[["=","+"],187],[[",","<"],188],[["-","_"],189],[[".",">"],190],[["/","?"],191],[["`","~"],192],[["[","{"],219],[["\\","|"],220],[["]","}"],221],[["'",'"'],222]])},52290:(Dt,ct,t)=>{"use strict";t.d(ct,{AZ:()=>le,Gp:()=>O,Ow:()=>Nt});var e=t(26575),i=t(86515),L=t(78654),f=t(68740),x=t(43559),S=t(72698),u=t(32995),g=t(91467),h=t(61699);let O=(()=>{var te;class bt{}return(te=bt).\u0275fac=function(ut){return new(ut||te)},te.\u0275mod=h.oAB({type:te}),te.\u0275inj=h.cJS({imports:[e.ez,L.yu,f._r,i.Ps,g.hp,S.U8,u.o9,x.aw.forChild()]}),bt})();var E=t(83517),w=t(32484),p=t(89718),V=t(93190),c=t(30241),C=t(47422),l=t(13303),o=t(5042),n=t(25219),s=t(75889),R=t(79329),_=t(47520);const b=["container"],I=function(){return["1","2","3","4","5","6","7","8","9","0"]},q=function(te){return{keys:te}},a=function(){return["q","w","e","r","t","y","u","i","o","p"]},y=function(){return["a","s","d","f","g","h","j","k","l","@"]},M=function(){return["z","x","c","v","b","n","m",",",".","?"]},P=function(te){return{text:te}};function K(te,bt){if(1&te&&(h.ynx(0),h.TgZ(1,"tr",null,13),h.GkF(3,14),h.TgZ(4,"td",15),h.GkF(5,16),h.qZA()(),h.TgZ(6,"tr"),h.GkF(7,14),h.TgZ(8,"td",17),h.GkF(9,16),h.qZA(),h.TgZ(10,"td",17),h.GkF(11,16),h.qZA()(),h.TgZ(12,"tr"),h.GkF(13,14),h.TgZ(14,"td",18),h.GkF(15,16),h.qZA()(),h.TgZ(16,"tr"),h.GkF(17,14),h.qZA(),h.TgZ(18,"tr")(19,"td",17),h.GkF(20,16),h.qZA(),h.TgZ(21,"td",19),h.GkF(22,16),h.qZA(),h.TgZ(23,"td",17),h.GkF(24,14),h.qZA(),h.TgZ(25,"td",20),h.GkF(26,16),h.qZA()(),h.BQk()),2&te){const Vt=h.oxw(),ut=h.MAs(5),re=h.MAs(19),Kt=h.MAs(15),jt=h.MAs(17),Wt=h.MAs(11),oe=h.MAs(13),Qt=h.MAs(9),Pt=h.MAs(23),Ut=h.MAs(21);h.xp6(3),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(18,q,h.DdM(17,I))),h.xp6(2),h.Q6J("ngTemplateOutlet",re),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(21,q,h.DdM(20,a))),h.xp6(2),h.Q6J("ngTemplateOutlet",Kt),h.xp6(2),h.Q6J("ngTemplateOutlet",jt),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(24,q,h.DdM(23,y))),h.xp6(2),h.Q6J("ngTemplateOutlet",Wt),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(27,q,h.DdM(26,M))),h.xp6(3),h.Q6J("ngTemplateOutlet",oe),h.xp6(2),h.Q6J("ngTemplateOutlet",Qt),h.xp6(2),h.Q6J("ngTemplateOutlet",Pt)("ngTemplateOutletContext",h.VKq(29,P,Vt.inputSymbol.SecondaryType)),h.xp6(2),h.Q6J("ngTemplateOutlet",Ut)}}const B=function(){return["`","~","!","@","#","$","%","^","&","*"]},j=function(){return["=","+","(",")","[","]","{","}","-","_"]},tt=function(){return["\xa3","\u20ac","'",'"',"|",";",":",",",".","?"]},ot=function(){return["\u2122","\xa9","\xa2","\xa5","\xa1","\xbf","<",">","\\","/"]};function F(te,bt){if(1&te&&(h.ynx(0),h.TgZ(1,"tr"),h.GkF(2,14),h.TgZ(3,"td",15),h.GkF(4,16),h.qZA()(),h.TgZ(5,"tr"),h.GkF(6,14),h.TgZ(7,"td",17),h.GkF(8,16),h.qZA(),h.TgZ(9,"td",17),h.GkF(10,16),h.qZA()(),h.TgZ(11,"tr"),h.GkF(12,14),h.TgZ(13,"td",18),h.GkF(14,16),h.qZA()(),h.TgZ(15,"tr"),h.GkF(16,14),h.qZA(),h.TgZ(17,"tr")(18,"td",17),h.GkF(19,16),h.qZA(),h.TgZ(20,"td",19),h.GkF(21,16),h.qZA(),h.TgZ(22,"td",17),h.GkF(23,14),h.qZA(),h.TgZ(24,"td",20),h.GkF(25,16),h.qZA()(),h.BQk()),2&te){const Vt=h.oxw(),ut=h.MAs(5),re=h.MAs(19),Kt=h.MAs(15),jt=h.MAs(17),Wt=h.MAs(11),oe=h.MAs(13),Qt=h.MAs(9),Pt=h.MAs(23),Ut=h.MAs(21);h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(18,q,h.DdM(17,B))),h.xp6(2),h.Q6J("ngTemplateOutlet",re),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(21,q,h.DdM(20,j))),h.xp6(2),h.Q6J("ngTemplateOutlet",Kt),h.xp6(2),h.Q6J("ngTemplateOutlet",jt),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(24,q,h.DdM(23,tt))),h.xp6(2),h.Q6J("ngTemplateOutlet",Wt),h.xp6(2),h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(27,q,h.DdM(26,ot))),h.xp6(3),h.Q6J("ngTemplateOutlet",oe),h.xp6(2),h.Q6J("ngTemplateOutlet",Qt),h.xp6(2),h.Q6J("ngTemplateOutlet",Pt)("ngTemplateOutletContext",h.VKq(29,P,Vt.inputSymbol.PrimaryType)),h.xp6(2),h.Q6J("ngTemplateOutlet",Ut)}}function U(te,bt){if(1&te&&(h.ynx(0),h.TgZ(1,"td")(2,"button",22),h._uU(3),h.qZA()(),h.BQk()),2&te){const Vt=bt.$implicit;h.xp6(2),h.s9C("name",Vt),h.xp6(1),h.Oqu(Vt)}}function z(te,bt){1&te&&h.YNc(0,U,4,2,"ng-container",21),2&te&&h.Q6J("ngForOf",bt.keys)}function Q(te,bt){if(1&te&&(h.TgZ(0,"div",26),h._uU(1),h.qZA()),2&te){const Vt=h.oxw().key;h.xp6(1),h.Oqu(Vt)}}function dt(te,bt){if(1&te&&h._UZ(0,"mat-icon",27),2&te){const Vt=h.oxw().svgIcon;h.Q6J("svgIcon",Vt)}}function X(te,bt){if(1&te&&(h.TgZ(0,"div",23),h.YNc(1,Q,2,1,"div",24),h.TgZ(2,"button",22),h._uU(3),h.YNc(4,dt,1,1,"mat-icon",25),h.qZA()()),2&te){const Vt=bt.key,ut=bt.svgIcon,re=bt.text,Kt=bt.name,jt=bt.class;let Wt;h.xp6(1),h.Q6J("ngIf",Vt),h.xp6(1),h.Tol(jt),h.s9C("name",null!==(Wt=Kt)&&void 0!==Wt?Wt:re),h.xp6(1),h.hij(" ",re," "),h.xp6(1),h.Q6J("ngIf",ut)}}const m=function(te){return{name:te,svgIcon:"space_bar"}};function Y(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(2,m,Vt.inputSymbol.Space))}}const D=function(te,bt){return{text:te,key:bt,class:"text-capitalize"}};function N(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.WLB(2,D,Vt.inputSymbol.Enter,Vt.gamepadKey.LT))}}const Z=function(te,bt,Vt){return{key:te,class:"caps-lock-button",name:bt,svgIcon:Vt}};function W(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.kEZ(2,Z,Vt.gamepadKey.LB,Vt.inputSymbol.CapsLock,Vt.capsLockOff?"thick_arrow_up":"thick_arrow_dash_up"))}}const A=function(te){return{name:te,svgIcon:"keyboard_arrow_left"}};function d(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(2,A,Vt.inputSymbol.ArrowLeft))}}const H=function(te){return{name:te,svgIcon:"keyboard_arrow_right"}};function $(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(2,H,Vt.inputSymbol.ArrowRight))}}const J=function(te,bt){return{name:te,key:bt,svgIcon:"backspace"}};function st(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.WLB(2,J,Vt.inputSymbol.Backspace,Vt.gamepadKey.X))}}const lt=function(te){return{name:te,text:"Hide",class:"text-capitalize"}};function gt(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=h.oxw(),ut=h.MAs(7);h.Q6J("ngTemplateOutlet",ut)("ngTemplateOutletContext",h.VKq(2,lt,Vt.inputSymbol.Escape))}}const vt=function(te,bt){return{text:te,key:bt,class:"text-lower-case"}};function k(te,bt){if(1&te&&h.GkF(0,14),2&te){const Vt=bt.text,ut=h.oxw(),re=h.MAs(7);h.Q6J("ngTemplateOutlet",re)("ngTemplateOutletContext",h.WLB(2,vt,Vt,ut.gamepadKey.RB))}}const pt=function(te,bt){return{"caps-lock-always":te,"caps-lock-once":bt}};let yt=(()=>{var te;class bt{get capsLockAlways(){return this.capsLockState===n.dM.Always}get capsLockOnce(){return this.capsLockState===n.dM.Once}get capsLockOff(){return this.capsLockState===n.dM.Off}constructor(ut,re,Kt){this.focusManager=ut,this.nvKeyboardService=re,this.gamepadService=Kt,this.primaryType=!0,this.inputSymbol=n.Mu,this.gamepadKey={X:"X",LT:"LT",LB:"LB",RB:"RB"},this.capsLockState=n.dM.Off,this.destroy$=new w.xQ,this.pressedKeys=new Set}ngAfterViewInit(){const ut=(Kt,jt,Wt)=>this.gamepadService.onButtonPressed$(Kt,Wt).pipe((0,c.n)(oe=>!oe),(0,C.U)(oe=>[jt,oe]));let re;(0,p.T)(ut(o.z8.X,n.Mu.Backspace,{repeat:!0}),ut(o.z8.LeftTrigger,n.Mu.Enter,{repeat:!0}),ut(o.z8.LeftBumper,n.Mu.CapsLock),ut(o.z8.RightBumper,n.Mu.PrimaryType),ut(o.z8.B,n.Mu.Escape)).pipe((0,l.R)(this.destroy$)).subscribe(([Kt,jt])=>{this.processEvent(this.newKeyboardEvent(jt?"keydown":"keyup",Kt))}),(0,p.T)((0,V.R)(this.container.nativeElement,"mousedown"),(0,V.R)(this.container.nativeElement,"mouseup")).pipe((0,l.R)(this.destroy$)).subscribe(Kt=>{if(Kt.target instanceof HTMLButtonElement){const jt="mousedown"===Kt.type?"keydown":"keyup";Kt.preventDefault(),("keydown"===jt||Kt.target===re)&&this.processEvent(this.newKeyboardEvent(jt,Kt.target.name)),re=Kt.target}}),this.focusCentralButton()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleKeyboardType(){this.primaryType=!this.primaryType,this.focusCentralButton()}focusCentralButton(){setTimeout(()=>{const ut=this.container.nativeElement,re=ut.rows[Math.floor(ut.rows.length/2)],Kt=re.cells[Math.floor(re.cells.length/2)];this.focusManager.focusChild(Kt,"initial")})}toggleCapsLock(){this.capsLockState=this.capsLockOff?n.dM.Once:this.capsLockOnce?n.dM.Always:n.dM.Off}escapeKeyDown(ut){ut.stopPropagation()}keyDown(ut){ut.isTrusted?(this.nvKeyboardService.sendInput(ut),(ut.key.includes("Arrow")||"Tab"===ut.key)&&ut.preventDefault()):ut.target instanceof HTMLButtonElement&&"Enter"===ut.key&&(this.processEvent(ut,ut.target.name),this.lastKeydownEvent=ut)}keyUp(ut){if(ut.isTrusted)this.nvKeyboardService.sendInput(ut);else if(ut.target instanceof HTMLButtonElement&&"Enter"===ut.key){var re;this.processEvent(ut,ut.target.name),(null===(re=this.lastKeydownEvent)||void 0===re?void 0:re.target)===ut.target&&(this.lastKeydownEvent=void 0)}}focusOut(){var ut;(null===(ut=this.lastKeydownEvent)||void 0===ut?void 0:ut.target)instanceof HTMLButtonElement&&(this.processEvent(this.lastKeydownEvent,this.lastKeydownEvent.target.name,"keyup"),this.lastKeydownEvent=void 0)}processEvent(ut,re,Kt){const jt=null!=re?re:ut.key,Wt=this.newKeyboardEvent(null!=Kt?Kt:ut.type,jt),oe=1===jt.length,Qt="keyup"===Wt.type;jt===n.Mu.PrimaryType||jt===n.Mu.SecondaryType?Qt&&this.toggleKeyboardType():jt===n.Mu.CapsLock?Qt&&this.toggleCapsLock():oe?(this.nvKeyboardService.sendInput(Wt),this.capsLockOnce&&(this.capsLockState=n.dM.Off)):this.nvKeyboardService.sendInput(Wt)}getKeyCode(ut){for(const[Kt,jt]of n.zT.entries())if(Kt.includes(ut))return jt;return[n.Mu.Escape,n.Mu.Backspace,n.Mu.ArrowLeft,n.Mu.ArrowRight,n.Mu.Enter,n.Mu.Space,n.Mu.CapsLock].includes(ut)?ut:1===ut.length&&/^[A-Za-z]+$/.test(ut)?"Key"+ut.toUpperCase():void 0}newKeyboardEvent(ut,re){const Kt=this.nvKeyboardService.needShiftKey(re);let jt=!1;const Wt=this.pressedKeys.has(re);return"keydown"===ut?(Wt||this.pressedKeys.add(re),jt="Shift"!==re&&Wt):"keyup"===ut&&Wt&&this.pressedKeys.delete(re),new KeyboardEvent(ut,{key:re,code:this.getKeyCode(re),shiftKey:Kt,repeat:jt,modifierCapsLock:!this.capsLockOff,view:window,bubbles:!0,cancelable:!0})}}return(te=bt).\u0275fac=function(ut){return new(ut||te)(h.Y36(g.IK),h.Y36(Nt),h.Y36(o.Se))},te.\u0275cmp=h.Xpm({type:te,selectors:[["nv-keyboard"]],viewQuery:function(ut,re){if(1&ut&&h.Gf(b,5),2&ut){let Kt;h.iGM(Kt=h.CRH())&&(re.container=Kt.first)}},hostBindings:function(ut,re){1&ut&&h.NdJ("keydown.escape",function(jt){return re.escapeKeyDown(jt)})("keydown",function(jt){return re.keyDown(jt)})("keyup",function(jt){return re.keyUp(jt)})("focusout",function(){return re.focusOut()})},decls:24,vars:6,consts:[["nvTrapFocus","","nvSpatialNavigationContainer","",3,"ngClass"],["container",""],[4,"ngIf"],["keyList",""],["composite",""],["spaceBar",""],["enter",""],["capsLock",""],["arrowLeft",""],["arrowRight",""],["backspace",""],["hide",""],["keyboardType",""],["row1",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","4",1,"top-right-cell"],[3,"ngTemplateOutlet"],["colspan","2"],["rowspan","2","colspan","4"],["colspan","6"],["colspan","4"],[4,"ngFor","ngForOf"],["mat-button","",3,"name"],[1,"key-container"],["class","keypad-circle",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"keypad-circle"],[3,"svgIcon"]],template:function(ut,re){1&ut&&(h.TgZ(0,"table",0,1),h.YNc(2,K,27,31,"ng-container",2),h.YNc(3,F,26,31,"ng-container",2),h.qZA(),h.YNc(4,z,1,1,"ng-template",null,3,h.W1O),h.YNc(6,X,5,7,"ng-template",null,4,h.W1O),h.YNc(8,Y,1,4,"ng-template",null,5,h.W1O),h.YNc(10,N,1,5,"ng-template",null,6,h.W1O),h.YNc(12,W,1,6,"ng-template",null,7,h.W1O),h.YNc(14,d,1,4,"ng-template",null,8,h.W1O),h.YNc(16,$,1,4,"ng-template",null,9,h.W1O),h.YNc(18,st,1,5,"ng-template",null,10,h.W1O),h.YNc(20,gt,1,4,"ng-template",null,11,h.W1O),h.YNc(22,k,1,5,"ng-template",null,12,h.W1O)),2&ut&&(h.Q6J("ngClass",h.WLB(3,pt,re.capsLockAlways,re.capsLockOnce)),h.xp6(2),h.Q6J("ngIf",re.primaryType),h.xp6(1),h.Q6J("ngIf",!re.primaryType))},dependencies:[e.mk,e.sg,e.O5,e.tP,L.eB,i.Hw,s.N,R.e,_.oO],styles:['table[_ngcontent-%COMP%]{width:100vw;height:23.4vw;border-spacing:0;direction:ltr}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:20%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}table[_ngcontent-%COMP%]   td.top-right-cell[_ngcontent-%COMP%]{width:20%}table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;font-size:max(1.5vw,14px);font-weight:400;text-transform:lowercase;place-content:center;align-items:center;border:1px solid rgba(0,0,0,.5);background-color:#29292980}table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:flex;width:unset;height:unset;font-size:max(1.5vw,14px)}table[_ngcontent-%COMP%]   button.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize}table[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]{border:1px solid #ffffff}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]{position:relative;height:100%}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:max(1.5vw,14px)}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before{position:absolute;background-color:#fff;border-radius:50%;width:calc(max(1.5vw,14px)/2);height:calc(max(1.5vw,14px)/2);top:10px;left:10px;content:""}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   .keypad-circle[_ngcontent-%COMP%]{display:table-cell;position:absolute;background-color:#0b8abc;width:max(1.5vw,14px);height:max(1.5vw,14px);border-radius:50%;line-height:max(1.5vw,14px);font-size:max(.8vw,6px);color:#fff;text-align:center;vertical-align:middle;top:calc(50% - (max(1.5vw,14px)/2));right:10px;z-index:1;pointer-events:none}table.caps-lock-always[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.text-capitalize):not(.text-lower-case), table.caps-lock-once[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.text-capitalize):not(.text-lower-case){text-transform:uppercase}table.caps-lock-always[_ngcontent-%COMP%]:not(.caps-lock-once)   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before, table.caps-lock-once[_ngcontent-%COMP%]:not(.caps-lock-once)   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before{background-color:#76b900}']}),bt})();var Xt=t(45356);let It=(()=>{var te;class bt{}return(te=bt).\u0275fac=function(ut){return new(ut||te)},te.\u0275cmp=h.Xpm({type:te,selectors:[["nv-keyboard-hint"]],decls:6,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center"],[1,"fab-hint"]],template:function(ut,re){1&ut&&(h.TgZ(0,"div",0)(1,"div",1),h._uU(2,"Y"),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.ALo(5,"translate"),h.qZA()()),2&ut&&(h.xp6(4),h.Oqu(h.lcZ(5,1,re.hint)))},dependencies:[Xt.xw,Xt.Wh,x.X$],styles:[".fab-hint[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:18px;line-height:64px;letter-spacing:0;font-weight:700;display:flex;background-color:#0b8abc;border-radius:50%;color:#fff;justify-content:center;align-items:center;width:64px;height:64px}.tv-view[_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{font-size:36px;line-height:128px}.isLtr[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}p[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:23px;letter-spacing:0;font-weight:400;white-space:nowrap;margin:0}.tv-view[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;line-height:46px}"]}),bt})(),Nt=(()=>{var te;class bt{get enabled(){return this._enabled}set enabled(ut){this._enabled=ut}get onInput$(){return this.onInput.asObservable()}constructor(ut,re){this.matBottomSheet=ut,this.overlay=re,this.onInput=new w.xQ,this.shiftKeyPressed=!1,this._enabled=!1}open(){if(!this.enabled)throw new Error("NvKeyboard is not enabled");return this.matBottomSheet.open(yt,{panelClass:["nv-hig","nv-keyboard"],hasBackdrop:!1,disableClose:!1,autoFocus:!1,restoreFocus:!1})}sendShiftKeyEvent(ut,re){this.onInput.next(new KeyboardEvent(ut,{key:"Shift",code:"ShiftLeft",shiftKey:re,view:window,bubbles:!0,cancelable:!0}))}needShiftKey(ut){return'!@#$%^&*()~_+{}|:"<>?'.includes(ut)}sendInput(ut){if(!this.enabled)throw new Error("NvKeyboard is not enabled");const re=this.needShiftKey(ut.key);re&&!this.shiftKeyPressed&&"keydown"===ut.type&&(this.shiftKeyPressed=!0,this.sendShiftKeyEvent(ut.type,!0)),this.onInput.next(ut),re&&this.shiftKeyPressed&&"keyup"===ut.type&&(this.shiftKeyPressed=!1,this.sendShiftKeyEvent(ut.type,!1))}createHintOverlay(ut){const Kt=this.overlay.position().flexibleConnectedTo(ut).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:24}]),jt=this.overlay.create(new S.X_({positionStrategy:Kt})),Wt=jt.attach(new E.C5(It)).instance;return{updateHint:oe=>Wt.hint=oe,dispose:()=>jt.dispose()}}}return(te=bt).\u0275fac=function(ut){return new(ut||te)(h.LFG(f.ch),h.LFG(S.aV))},te.\u0275prov=h.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),bt})();var le=function(te){return te.SystemKeyboard="keyboardType.system",te.AppKeyboard="keyboardType.app",te}(le||{})},11917:(Dt,ct,t)=>{"use strict";t.d(ct,{zJ:()=>P,dp:()=>K,fS:()=>y,ZJ:()=>M,z:()=>s,ZO:()=>p,sy:()=>R,fo:()=>j,RC:()=>B});var e=t(83918),i=t(70462),L=t(30502),f=t(85046),x=t(46939),S=t(47178),u=t(89857),g=t(13963);const h=["portable","laptop","sub notebook","convertible","detachable","notebook"];var E=function(tt){return tt.Unknown="-1",tt.Disabled="0",tt.Enabled="1",tt}(E||{}),w=function(tt){return tt.Locale="Locale",tt.SystemInfo="SystemInfo",tt.User="User",tt.Init="Init",tt.Geo="Geo",tt}(w||{}),p=function(tt){return tt.GfeContent="nvidia_web_services/controller.gfeclientcontent.NG.php",tt.Installer="nvidia_web_services/controller.driverinstallercontent.NG.php",tt.Profile="nvidia_web_services/controller.gfeclientaffinity.php",tt.Vrs="nvidia_web_services/controller.gfeclientvrs.php",tt}(p||{});const V={hasGeoInfo:!0,hasLocaleInfo:!0,hasSystemInfo:!0,hasUserInfo:!1},c={additionalHwInfo:!1,geo:!1},C=[{LCID:[1029],code:"cs-CZ",name:"\u010ce\u0161tina (Czech)",isoThreeLetter:"ces",countryCode:"CZ"},{LCID:[1030],code:"da-DK",name:"Dansk (Danish)",isoThreeLetter:"dan",countryCode:"DK"},{LCID:[1031,3079,5127,4103,2055],code:"de-DE",name:"Deutsch (German)",isoThreeLetter:"deu",countryCode:"DE"},{LCID:[1032],code:"el-GR",name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac (Greek)",isoThreeLetter:"ell",countryCode:"GR"},{LCID:[1033],code:"en-US",name:"English - United States",isoThreeLetter:"eng",countryCode:"US"},{LCID:[2057,1078,1052,1118,1067,1101,1068,5146,1026,1109,1050,4122,1125,2067,1126,3081,10249,6153,5129,7177,12297,1061,1127,1071,2108,1084,1079,1129,1039,1136,1137,2144,1120,1087,1153,2128,2068,1048,2074,1091,1093,2117,16393,1081,1121,2145,1094,2118,1113,2137,1115,2080,3081,15369,14345,17417,5129,13321,18441],code:"en-GB",name:"English - United Kingdom",isoThreeLetter:"eng",countryCode:"GB"},{LCID:[3082,1069,1027,1034],code:"es-ES",name:"Espa\xf1ol - Espa\xf1a (Spanish - Spain)",isoThreeLetter:"spa",countryCode:"ES"},{LCID:[2058,11274,16394,13322,9226,5130,7178,12298,17418,4106,18442,58378,19466,6154,15370,10250,20490,21514,14346,8202],code:"es-MX",name:"Espa\xf1ol - M\xe9xico (Spanish - Mexico)",isoThreeLetter:"spa",countryCode:"MX"},{LCID:[1035],code:"fi-FI",name:"Suomi (Finnish)",isoThreeLetter:"fin",countryCode:"FI"},{LCID:[1036,2060,11276,3084,9228,12300,15372,5132,13324,6156,14348,58380,8204,10252,4108,7180,1122],code:"fr-FR",name:"Fran\xe7ais (French)",isoThreeLetter:"fra",countryCode:"FR"},{LCID:[1038],code:"hu-HU",name:"Magyar (Hungarian)",isoThreeLetter:"hun",countryCode:"HU"},{LCID:[1040,2064],code:"it-IT",name:"Italiano (Italian)",isoThreeLetter:"ita",countryCode:"IT"},{LCID:[1041],code:"ja-JP",name:"\u65e5\u672c\u8a9e (Japanese)",isoThreeLetter:"jpn",countryCode:"JP"},{LCID:[1042],code:"ko-KR",name:"\ud55c\uad6d\uc5b4 (Korean)",isoThreeLetter:"kor",countryCode:"KR"},{LCID:[1043],code:"nl-NL",name:"Nederlands (Dutch)",isoThreeLetter:"nld",countryCode:"NL"},{LCID:[1044,14],code:"nb-NO",name:"Norsk (Norwegian)",isoThreeLetter:"nor",countryCode:"NO"},{LCID:[1045],code:"pl-PL",name:"Polski (Polish)",isoThreeLetter:"pol",countryCode:"PL"},{LCID:[2070],code:"pt-PT",name:"Portugu\xeas - Portugal (Portuguese - Portugal)",isoThreeLetter:"por",countryCode:"PT"},{LCID:[1046,2070],code:"pt-BR",name:"Portugu\xeas - Brasil (Portuguese - Brazil)",isoThreeLetter:"por",countryCode:"BR"},{LCID:[1049,2092,1059,1088,1104,2073,3098,2115],code:"ru-RU",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (Russian)",isoThreeLetter:"rus",countryCode:"RU"},{LCID:[1051],code:"sk-SK",name:"Sloven\u010dina (Slovak)",isoThreeLetter:"slk",countryCode:"SK"},{LCID:[1060],code:"sl-SI",name:"Sloven\u0161\u010dina (Slovenian)",isoThreeLetter:"slv",countryCode:"SI"},{LCID:[1053],code:"sv-SE",name:"Svenska (Swedish)",isoThreeLetter:"swe",countryCode:"SE"},{LCID:[1054],code:"th-TH",name:"\u0e44\u0e17\u0e22 (Thai)",isoThreeLetter:"tha",countryCode:"TH"},{LCID:[1055],code:"tr-TR",name:"T\xfcrk\xe7e (Turkish)",isoThreeLetter:"tur",countryCode:"TR"},{LCID:[1058],code:"uk-UA",name:"Ukrainian (Ukraine)",isoThreeLetter:"ukr",countryCode:"UA"},{LCID:[2052,804,4],code:"zh-CHS",cmsCode:"zh_CN",name:"\u7b80\u4f53\u4e2d\u6587 (Chinese - Simplified)",isoThreeLetter:"zho",countryCode:"CN"},{LCID:[3076,1028,4100,404,5124,31748],code:"zh-CHT",cmsCode:"zh_TW",name:"\u7e41\u9ad4\u4e2d\u6587 (Chinese - Traditional)",isoThreeLetter:"zho",countryCode:"CN"}];var o=t(78943).Yk.Nvapp.Driverupdaterecommendation.DriverTypeEnum,n=t(61699);let s=(()=>{var tt;class ot{}return(tt=ot).\u0275fac=function(U){return new(U||tt)},tt.\u0275prov=n.Yz7({token:tt,factory:tt.\u0275fac}),ot})(),R=(()=>{var tt;class ot{constructor(U,z,Q,dt,X){this.config=z,this.systemInfoService=Q,this.localeService=dt,this.injector=X,this.logger=U.getLogger("crimson/sdk/gfwsl/GfwslParamsService"),this.config.includedParams=this.config.includedParams||c,this.params={gcV:this.config.appVersion},this.hasGeneralSystemInfo=!1,this.hasGenericSystemInfo=!1,this.hasGpuInfo=!1,this.hasLocaleInfo=!1,this.hasUserInfo=!1,this.hasGeoInfo=!1,this.gfwslParamsUpdated$=new i.X(this.getParamEventData(w.Init))}digestMessage(U){return(0,e.Z)(function*(){const z=(new TextEncoder).encode(U),Q=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(Q)).map(m=>m.toString(16).padStart(2,"0")).join("")})()}getParamEventData(U){return{type:U,hasSystemInfo:this.isSystemInfoComplete(),hasLocaleInfo:this.hasLocaleInfo,hasUserInfo:this.hasUserInfo,hasGeoInfo:this.hasGeoInfo,params:this.params}}isSystemInfoComplete(){return this.hasGeneralSystemInfo&&this.config.includedParams.additionalHwInfo===this.hasGenericSystemInfo&&this.config.includedParams.additionalHwInfo===this.hasGpuInfo}get gfwslParamsUpdated(){return this.gfwslParamsUpdated$}initialize(){this.processSystemInfo(),this.processLocaleInfo(),this.config.includedParams.additionalHwInfo&&(this.hardwareService=this.injector.get(g.ty),this.hardwareService||this.logger.error("ERROR:: Failed to obtain HardwareInformationService"),this.processGenericInfo(),this.processGpuInfo()),this.config.includedParams.geo&&this.initGeoService(),(0,L.D)(this.digestMessage(this.config.userAgent+"/"+this.params.gcV)).subscribe(U=>{this.params.aiD=U})}onAccountStatusChanged(U,z,Q,dt,X){this.params.jUid=z?btoa(U):U,this.hasUserInfo=z,this.params.uCst=[Q===u.p6.Full?E.Enabled:E.Disabled,dt===u.p6.Full?E.Enabled:E.Disabled,X===u.p6.Full?E.Enabled:E.Disabled],this.gfwslParamsUpdated$.next(this.getParamEventData(w.User))}onGfwslParamsReady(U=V){return this.gfwslParamsUpdated$.pipe((0,f.h)(z=>this.checkAvailableGfwslParams(U,z)),(0,x.q)(1))}initGeoService(){this.processGeoInfo()}checkAvailableGfwslParams(U,z){for(const Q of Object.keys(U))if(U[Q]!==z[Q])return!1;return!0}processSystemInfo(){this.systemInfoService.getSystemInfo([g.l7.OSName,g.l7.OSVersion,g.l7.ProcessorArchitecture,g.l7.UserDefaultUILanguage,g.l7.PhysicalMemoryCapacity]).subscribe(U=>{this.params.is6="x64"===U.ProcessorArchitecture?E.Enabled:E.Disabled,({ProcessorArchitecture:this.params.pArch,CPUName:this.params.cID}=U),[this.params.osC,this.params.osB]=this.getOSInfo(U.OSName,U.OSVersion),this.params.sM=this.computeMemory(U),this.params.IsB=E.Disabled,this.params.gIsB=E.Disabled,this.params.apRT="802.11a",this.userDefaultUILanguage=U.UserDefaultUILanguage,this.params.sdWmfp=E.Enabled,this.params.O=`${this.params.pArch}/${this.params.osC}`,this.hasGeneralSystemInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(w.SystemInfo))},U=>{this.logger.error("System info errored out",U)})}processGenericInfo(){this.hardwareService.getGenericInfo(!1).subscribe(U=>{var z;(0,S.isEqual)(U,this.genericInfo)||(this.genericInfo=U,this.params.iLp=h.includes(null===(z=U.MoboType)||void 0===z?void 0:z.toLowerCase())?E.Enabled:E.Disabled,this.params.isCRD=(U.DriverType?U.DriverType:o.GameReadyDriver).toString(),this.params.sM=this.computeMemory(U),({DriverVersion:this.params.GFPV,CurrentResolution:this.params.cSR,IsDCHDriverInstalled:this.params.dch}=U),this.params.GFPV=this.params.GFPV?this.params.GFPV:"0.00",this.hasGenericSystemInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(w.SystemInfo)))},U=>{this.logger.error("Generic info errored out",U)})}computeMemory(U){const z=U.TotalPhysicalMemory&&parseInt(U.TotalPhysicalMemory,10)>.1?U.TotalPhysicalMemory:U.PhysicalMemoryCapacity;return`${(parseInt(z,10)/1024**3).toFixed()}GB`}getOSInfo(U,z){const Q=z.split(".");let dt="";return U.match(/windows/i)&&(dt=Q.pop()),[Q.join("."),dt]}processGpuInfo(){this.hardwareService.getGpuInfo(!1).subscribe(U=>{if(0===(0,S.size)(U.GPU))return void this.logger.error("Empty GPU list in gpu hardware info",U);const z=U.GPU.find(Q=>Q.IsPrimary===E.Enabled)||U.GPU[0];this.params.IsQ=z.IsQuadro,this.params.D=JSON.parse(`{"VEN_${z.VendorId}&DEV_${z.DeviceId}":"DISPLAY"}`),this.params.dIDa=this.getGpuDeviceIdArray(U),this.params.dFma=this.getGpuDeviceFamilyArray(U),this.params.isO=U.IsOptimus,this.params.isSLI=this.computeSliStatus(U.SLI),this.params.pgpuId=this.getPrimaryGpuId(U),this.hasGpuInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(w.SystemInfo))},U=>{this.logger.error("GPU info errored out",U)})}getPrimaryGpuId(U){let z=null;return U.GPU.every(Q=>!Q.IsPrimary||(z=Q.GpuHandle,!1)),z}getGpuDeviceIdArray(U){return Array.from(this.getSortedGpuArray(U),(z,Q)=>this.buildGpuDeviceId(z,Q))}getSortedGpuArray(U){return Array.from(U.GPU).sort(z=>z.IsPrimary===E.Enabled?-1:1)}buildGpuDeviceId(U,z){let Q="";return U.DeviceId&&U.VendorId?(Q=`${U.DeviceId}_${U.VendorId}`,Q=U.SubSystemId&&U.SubVendorId?`${Q}_${U.SubSystemId}_${U.SubVendorId}`:`${Q}_FFFF_FFFF`):(this.logger.error("GPU info has invalid DeviceId and/or VendorId",U),Q="FFFF_FFFF_FFFF_FFFF"),`${Q}_${++z}`}getGpuDeviceFamilyArray(U){return Array.from(this.getSortedGpuArray(U),z=>parseInt(z.GPUArchitecture,10).toString(16))}computeSliStatus(U){return U.SLISupported===E.Enabled&&U.HasActiveSLITopology===E.Enabled?U.ActiveTopologyGPUCount:U.SLISupported}processGeoInfo(){this.params.go="",this.hasGeoInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(w.Geo))}onUserConsentUpdated(U){this.params.uCst=[this.getFunctionalConsent(U),this.getGfwslConsent(U,"trackTechnicalData"),this.getGfwslConsent(U,"trackBehavioralData")]}getFunctionalConsent(U){return this.formatConsentForGfwsl(U.consentSettings?U.consentSettings.trackFunctionalData:{level:u.p6.None})}formatConsentForGfwsl(U){return U.level===u.p6.Full?E.Enabled:E.Disabled}getGfwslConsent(U,z){return U.consentSettings?this.formatConsentForGfwsl(U.consentSettings[z]):U.privacySettings&&U.privacySettings.dataTracking?this.formatConsentForGfwsl(U.privacySettings.dataTracking[z]):E.Unknown}processLocaleInfo(){this.localeService.localeChanged.subscribe(U=>{this.setGfwslLocaleParams(U),this.hasLocaleInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(w.Locale))},U=>{this.logger.error("Locale info errored out",U)})}setGfwslLocaleParams(U){const z=C.find(dt=>{var X;return dt.code===(null===(X=null!=U?U:this.userDefaultUILanguage)||void 0===X?void 0:X.replace("_","-"))||dt.cmsCode===U}),Q=null==z?void 0:z.LCID[0].toString();this.params.gLg=null==z?void 0:z.code,this.params.lg=Q,this.params.L={CC:null==z?void 0:z.isoThreeLetter,LCID:Q}}getParams(U={},z){U=(0,S.omitBy)(U,dt=>"string"==typeof dt&&"CTP_"===dt.slice(0,4));let Q=(0,S.assignIn)({},this.params,U);return z&&(Q=(0,S.pick)(Q,z)),Q}}return(tt=ot).\u0275fac=function(U){return new(U||tt)(n.LFG(g.ed),n.LFG(s),n.LFG(g.Ob),n.LFG(g.OL),n.LFG(n.zs3))},tt.\u0275prov=n.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})();var _=t(77869),b=t(31157),I=t(30285),a=t(33994);let y=(()=>{var tt;class ot{}return(tt=ot).\u0275fac=function(U){return new(U||tt)},tt.\u0275prov=n.Yz7({token:tt,factory:tt.\u0275fac}),ot})(),M=(()=>{var tt;class ot{constructor(U,z,Q,dt,X){this.endpointFactory=z,this.gfwslParamsService=Q,this.config=dt,this.distributedtracingUtilService=X,this.logger=U.getLogger("crimson/sdk/aem/AemService"),this.endpointMap=new Map,this.endpointDefinitionMap=new Map,this.endpointRetryConfig={},({defaultRetries:this.endpointRetryConfig.maxRetries,defaultTimeBetweenRetries:this.endpointRetryConfig.timeBetweenRetries,defaultTimeout:this.endpointRetryConfig.timeout}=this.config)}setUrlGenerator(U,z,Q){let dt;const X=JSON.stringify(this.gfwslParamsService.getParams(Q,z.paramMask));return dt=(0,_.D5)([U,z.classPath,z.clientPath,z.endpointPath]),(0,S.isEmpty)(X)||(dt=dt+"?"+X),dt}addEndpointDefinitions(U){U.forEach(z=>{const Q=z.name;this.endpointDefinitionMap.set(Q,z),this.endpointMap.set(Q,this.endpointFactory.createEndpoint(z))})}callAemEndpoint(U,z,Q,dt={},X={},m){const Y=this.endpointMap.get(U),D=this.endpointDefinitionMap.get(U);if(!Y)return(0,a._)(`No endpoint found for ${U}. Add this definition with the initialize call.`);z=this.gfwslParamsService.getParams(z,D.paramMask);const N=this.setUrlGenerator(this.config.server,D,z);this.logger.info("Going to call AEM URL:",N,"with dynamic headers:",X);const Z={config:this.endpointRetryConfig,body:dt,headers:{...D.headers,...X},includeRequestId:!1,reportRequestData:(0,S.isNil)(Q)?{}:{...Q}},W=Y.makeRequestEx(D.method,N,Z);return this.distributedtracingUtilService.handleHttpEndpointSpan(W,Z,b.j1.GetAemReleaseHighlights,m)}setConfigServer(U){this.config.server=U}}return(tt=ot).\u0275fac=function(U){return new(U||tt)(n.LFG(g.ed),n.LFG(I.V9),n.LFG(R),n.LFG(y),n.LFG(b.Dc))},tt.\u0275prov=n.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})();var P=function(tt){return tt.services="services/com.nvidia.services/",tt}(P||{}),K=function(tt){return tt.GfeClient="AEMGFEClientContent",tt}(K||{});let B=(()=>{var tt;class ot{static forRoot(U){return{ngModule:ot,providers:[{provide:s,useValue:U.gfwsl},{provide:y,useValue:U.aem}]}}}return(tt=ot).\u0275fac=function(U){return new(U||tt)},tt.\u0275mod=n.oAB({type:tt}),tt.\u0275inj=n.cJS({}),ot})();var j=function(tt){return tt.Get="GET",tt.Post="POST",tt}(j||{})},95432:(Dt,ct,t)=>{"use strict";t.d(ct,{Iv:()=>L,o_:()=>w,cX:()=>p,DN:()=>g});var e=t(47178),i=t(31157);const L={server:"",version:"v1",defaultRetries:2,exponentialBackoffMaxDelay:3e4,defaultTimeout:3e4,clientId:""},x="application/json";var S=function(V){return V.Register="PNS_Registrations",V.Unregister="PNS_Unregister",V}(S||{}),u=t(61699);let g=(()=>{var V;class c{}return(V=c).\u0275fac=function(l){return new(l||V)},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac}),c})();var h=t(30285);let w=(()=>{var V;class c{constructor(l,o,n){this.serverConfig=l,this.endpointFactory=o,this.distributedTracingUtilService=n,this.commonHeaders={"Content-Type":x,Accept:x,"NV-Client-ID":l.clientId},this.endpointConfig={timeout:this.serverConfig.defaultTimeout,exponentialBackoffMaxDelay:this.serverConfig.exponentialBackoffMaxDelay,maxRetries:this.serverConfig.defaultRetries},this.pnsRegisterEndpointUrl=this.preparePnsRegisterEndpoint(),this.pnsUnregisterEndpointUrl=this.preparePnsUnregisterEndpoint()}generateUrl(l){return this.serverConfig.server+"/"+this.serverConfig.version+"/"+l}preparePnsRegisterEndpoint(){return this.endpointFactory.createEndpoint({headers:this.commonHeaders,config:this.endpointConfig,reportRequestData:{originalService:"PNS",serviceUseCase:S.Register,reportSuccessTelemetry:"true"}})}preparePnsUnregisterEndpoint(){return this.endpointFactory.createEndpoint({headers:this.commonHeaders,config:this.endpointConfig,reportRequestData:{originalService:"PNS",serviceUseCase:S.Unregister,reportSuccessTelemetry:"true"}})}pnsRegister(l,o,n){return this.commonHeaders=(0,e.merge)(this.commonHeaders,o),this.pnsRegistrationRequest(l,this.commonHeaders,n)}pnsUnregister(l,o){return this.commonHeaders=(0,e.merge)(this.commonHeaders,o),this.pnsUnregistrationRequest(l,this.commonHeaders)}getCommonHeaders(){return this.commonHeaders}pnsRegistrationRequest(l,o,n){const s={body:l,headers:o},R=this.pnsRegisterEndpointUrl.post(this.generateUrl("registrations"),s);return this.distributedTracingUtilService.handleHttpEndpointSpan(R,s,i.j1.PnsRegistration,n)}pnsUnregistrationRequest(l,o){const n={body:l,headers:o},s=this.pnsUnregisterEndpointUrl.post(this.generateUrl("unregister"),n);return this.distributedTracingUtilService.handleHttpEndpointSpan(s,n,i.j1.PnsUnregister)}}return(V=c).\u0275fac=function(l){return new(l||V)(u.LFG(g),u.LFG(h.V9),u.LFG(i.Dc))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})(),p=(()=>{var V;class c{static forRoot(l){return{ngModule:c,providers:[{provide:g,useValue:l||L}]}}}return(V=c).\u0275fac=function(l){return new(l||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({}),c})()},32392:(Dt,ct,t)=>{"use strict";t.d(ct,{pJ:()=>ot,tn:()=>_,mV:()=>S,m3:()=>u});var e=t(70462),i=t(32484),L=t(49481),f=t(61699),x=t(13963);let S=(()=>{var F;class U{}return(F=U).\u0275fac=function(Q){return new(Q||F)},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),U})(),u=(()=>{var F;class U{constructor(Q,dt){this.config=dt,this.enableListenerSubject=new e.X(!0),this.exitStreamerFlowNotify$=new i.xQ,this.logger=Q.getLogger("ProjectInterfaceService"),this.closeOSC$=new i.xQ,this.quitStreaming$=new i.xQ,this.sendCustomMessage$=new i.xQ,this.onCustomMessage$=new i.xQ,this.isNonEnglishKeyboardLayout$=new i.xQ,this.unsupportedDialogCloseSubject=new L.t(1),this.config.waitForDialogClose||this.closeUnsupportedDialog(),this._streamingBegin$=new i.xQ,this._streamingEnd$=new i.xQ,this._streamingSessionSetupSuccess$=new i.xQ}get streamingSessionSetupSuccess$(){return this._streamingSessionSetupSuccess$.asObservable()}get streamingBegin$(){return this._streamingBegin$.asObservable()}get streamingEnd$(){return this._streamingEnd$.asObservable()}notifyStreamingSessionSetupSuccess(Q){this._streamingSessionSetupSuccess$.next(Q)}notifyStreamingBegin(Q){this._streamingBegin$.next(Q)}notifyStreamingEnd(Q){this._streamingEnd$.next(Q)}get gfnUnsupportedDialogCloseState(){return this.unsupportedDialogCloseSubject.asObservable()}get triggerCloseIGO(){return this.closeOSC$.asObservable()}get triggerQuitStreaming(){return this.quitStreaming$.asObservable()}get enableListener(){return this.enableListenerSubject.asObservable()}get sendCustomMessage(){return this.sendCustomMessage$.asObservable()}get onCustomMessageReceived(){return this.onCustomMessage$.asObservable()}get isNonEnglishKeyboardLayout(){return this.isNonEnglishKeyboardLayout$.asObservable()}get exitStreamerFlowNotify(){return this.exitStreamerFlowNotify$.asObservable()}notifyStreamerFlowExit(){this.exitStreamerFlowNotify$.next(!0)}setNotificationAllowedCallBack(Q){this.logger.verbose("Setting isNotificationAllowed Callback"),this.isNotificationAllowedCallBack=Q}setShortcutCheckCallBacks(Q){this.logger.verbose("Setting checkIfShortcutIsPresent Callback"),this.checkIfShortcutIsPresentCallback=Q}setExitStreamerCallBack(Q){this.logger.verbose("Setting exitStreamer Callback"),this.exitStreamerCallBack=Q}resumeListening(){this.enableListenerSubject.next(!0)}pauseListening(){this.enableListenerSubject.next(!1)}quitStreaming(){this.quitStreaming$.next(!0)}closeIGO(){this.closeOSC$.next(!0)}closeUnsupportedDialog(){this.unsupportedDialogCloseSubject.next(!0)}setForceTouchModeCallback(Q){this.logger.verbose("Setting force touch mode callback"),this.getForceTouchMode=Q}postCustomMessage(Q,dt,X){const m={messageType:X||"customMessage",messageRecipient:dt,data:Q};this.logger.verbose("CustomMessage being sent:",m),this.sendCustomMessage$.next(m)}onCustomMessage(Q){Q.data=Q.data.replace("\0",""),this.onCustomMessage$.next(Q)}setIsNonEnglishKeyboardLayout(Q){this.isNonEnglishKeyboardLayout$.next(Q)}}return(F=U).\u0275fac=function(Q){return new(Q||F)(f.LFG(x.ed),f.LFG(S))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),U})();var g=t(9681),h=t(92130),O=t(64555),E=t(87965),w=t(46939),p=t(58175),V=t(47422),c=t(67293),C=t(13303),l=t(99901),o=t(15746),n=t(47178),s=t(78943),R=t(21120),_=function(F){return F.PermissionPending="PermissionPending",F.PermissionDenied="PermissionDenied",F.Muted="Muted",F.Unmuted="Unmuted",F.NoMicFound="NoMicFound",F}(_||{}),b=function(F){return F.PerformaceWarning="microphone.performanceWarning",F.PermissionBlocked="microphone.micBlockedWarning",F.PermissionBlockedMacOS="microphone.micBlockedWarningMacOS",F.PermissionBlockedWindows="microphone.micBlockedWarningWindows",F}(b||{});const I="undefined",q={startState:I,requestedState:I,streamSessionId:I,subSessionId:I,resultState:I};var a=t(77869),y=function(F){return F.Start="Start",F.Stop="Stop",F.Initializing="Initializing",F.Muted="Muted",F.Unmuted="Unmuted",F.PermissionPending="PermissionPending",F.PermissionDenied="PermissionDenied",F.NoMicFound="NoMicFound",F}(y||{}),M=function(F){return F.Initialize="Initialize",F.UnmuteMic="UnmuteMic",F.MuteMic="MuteMic",F.AwaitPermssion="AwaitPermssion",F.DenyPermission="DenyPermission",F.LookForMic="LookForMic",F.StopMic="StopMic",F}(M||{});const P=new Map([[_.Unmuted,M.UnmuteMic],[_.Muted,M.MuteMic],[_.PermissionPending,M.AwaitPermssion],[_.PermissionDenied,M.DenyPermission],[_.NoMicFound,M.LookForMic]]);var K=t(59074),B=t(43559),j=t(15665),tt=t(89857);let ot=(()=>{var F;class U{constructor(Q,dt,X,m,Y,D,N){this.snackbar=dt,this.bridgeService=X,this.translateService=m,this.sharedStorageService=Y,this.telemetryService=D,this.systemInfoService=N,this.blockName="gfnMicState",this.isInitialized=!1,this.currentMicState=new e.X(_.PermissionPending),this.micInfo=q,this.isMicToggled=!1,this.stopSubject=new i.xQ,this.micStateMachine=new a.DV({tag:a.m$.MicrophoneStateMachine,states:{[y.Start]:{onExit:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.applyUserPreference(W)))},[y.Initializing]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.completeInitialization(W)),(0,E.zg)(W=>this.updateStateValue(W))),onExit:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.sendInitTelemetry(W)))},[y.Unmuted]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.showToastMessage(W)),(0,E.zg)(W=>this.writeUserPreference(W)),(0,E.zg)(W=>this.sendToggleTelemetry(W)),(0,E.zg)(W=>this.updateStateValue(W)))},[y.Muted]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.writeUserPreference(W)),(0,E.zg)(W=>this.sendToggleTelemetry(W)),(0,E.zg)(W=>this.updateStateValue(W)))},[y.PermissionPending]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.sendToggleTelemetry(W)),(0,E.zg)(W=>this.updateStateValue(W)))},[y.PermissionDenied]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.showToastMessage(W)),(0,E.zg)(W=>this.sendToggleTelemetry(W)),(0,E.zg)(W=>this.updateStateValue(W)))},[y.NoMicFound]:{onEnter:Z=>(0,g.of)(Z).pipe((0,E.zg)(W=>this.sendToggleTelemetry(W)),(0,E.zg)(W=>this.updateStateValue(W)))},[y.Stop]:{}},transitions:{[M.Initialize]:[{from:y.Start,to:y.Initializing}],[M.UnmuteMic]:[{from:y.Initializing,to:y.Unmuted},{from:y.Muted,to:y.Unmuted},{from:y.PermissionPending,to:y.Unmuted},{from:y.NoMicFound,to:y.Unmuted},{from:y.PermissionDenied,to:y.Unmuted},{from:y.Unmuted,to:y.Unmuted}],[M.MuteMic]:[{from:a.Kr,to:y.Muted}],[M.AwaitPermssion]:[{from:y.Initializing,to:y.PermissionPending},{from:y.NoMicFound,to:y.PermissionPending}],[M.DenyPermission]:[{from:y.Initializing,to:y.PermissionDenied},{from:y.PermissionPending,to:y.PermissionDenied},{from:y.PermissionDenied,to:y.PermissionDenied},{from:y.Muted,to:y.PermissionDenied}],[M.LookForMic]:[{from:a.Kr,to:y.NoMicFound}],[M.StopMic]:[{from:a.Kr,to:y.Stop}]},startState:y.Start,endState:y.Stop}),this.logger=Q.getLogger("MicrophoneService")}toggleMicrophone(){this.isMicToggled=!0,this.currentMicState$.pipe((0,w.q)(1)).subscribe(Q=>{(0,n.set)(this.micInfo,"startState",Q),Q===_.Unmuted?(this.setMicrophoneState(!1),(0,n.set)(this.micInfo,"requestedState",_.Muted),this.logger.info(`Mic button pressed, current state: ${Q}, requested state: Muted`)):(this.setMicrophoneState(!0),(0,n.set)(this.micInfo,"requestedState",_.Unmuted),this.logger.info(`Mic button pressed, current state: ${Q}, requested state: Unmuted`))})}get currentMicState$(){return this.currentMicState.asObservable()}getMicEvent(){this.logger.info("Get microphone event called"),this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.GetMicState).subscribe()}setMicrophoneState(Q){this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.SetMicState,{enable:Q}).subscribe()}start(Q,dt,X=!1){this.logger.info("Started"),(0,n.set)(this.micInfo,"streamSessionId",Q||I),(0,n.set)(this.micInfo,"subSessionId",dt||I),this.setupCallback(Q,dt,X),this.getMicEvent()}stop(){this.logger.info("Stopped"),this.isInitialized=!1,this.stopSubject.next(),this.micStateMachine.on(M.StopMic,null).subscribe(Q=>this.micStateMachine.reset(),Q=>this.micStateMachine.reset())}willBeEnabledOnStreamStart(){return(0,h.D)([this.sharedStorageService.readBlock(this.blockName).pipe((0,p.K)(Q=>(0,g.of)(null))),this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.ShouldDefaultEnableMic)]).pipe((0,V.U)(([Q,dt])=>dt&&((0,n.isEmpty)(Q)||(null==Q?void 0:Q.preference)===_.Unmuted)),(0,w.q)(1))}setupCallback(Q,dt,X=!1){this.logger.info("Microphone callback is set up"),(0,O.aj)([this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.RegisterMicCallback),this.sharedStorageService.readBlock(this.blockName).pipe((0,p.K)(m=>(0,g.of)(null))),X?(0,g.of)(!0):this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.ShouldDefaultEnableMic),this.systemInfoService.getSystemInfo([x.l7.BrowserName]),this.systemInfoService.getDeviceOSType(),(0,g.of)(Q),(0,g.of)(dt)]).pipe((0,V.U)(([m,Y,D,N,Z,W,A])=>this.getActionAndStateData({...m,blockData:Y,shouldDefaultEnableMic:D,osType:Z,shouldApplyPreference:!((Z===x.wi.IOS||Z===x.wi.IPadOS)&&N.BrowserName===x.Aq.SAFARI),streamSessionId:W,streamSubSessionId:A})),(0,c.b)(([m,Y])=>this.micStateMachine.on(m,Y).pipe((0,p.K)(D=>(this.logger.info("error occurred:",D.code,D.message,D.data),(0,g.of)(D))))),(0,C.R)(this.stopSubject)).subscribe({next:m=>this.logger.info("Current mic state:",this.micStateMachine.currentState),error:m=>this.logger.info("Unexpected error occurred:",m),complete:()=>this.logger.info("Observable stream terminated")})}getActionAndStateData(Q){return this.logger.info("getActionAndStateData",Q),[this.isInitialized?P.get(Q.uiMicState):M.Initialize,Q]}updateStateValue(Q){return this.logger.info("updateStateValue",Q),this.currentMicState.next(Q.uiMicState),(0,g.of)(Q)}applyUserPreference(Q){this.logger.info("applyUserPreference",Q);let dt=!1;return Q.shouldApplyPreference&&((0,n.isEmpty)(Q.blockData)&&Q.shouldDefaultEnableMic?(this.logger.info("No preference set, unmuting microphone"),this.setMicrophoneState(!0),dt=!0):(0,n.isEmpty)(Q.blockData)||(this.logger.info("Not initialized, applying stored user preference:",Q.blockData.preference),Q.blockData.preference===_.Unmuted?(this.setMicrophoneState(!0),dt=!0):Q.blockData.preference===_.Muted&&(this.setMicrophoneState(!1),dt=!0))),dt||this.getMicEvent(),(0,g.of)(Q)}sendInitTelemetry(Q){return this.logger.info("sendInitTelemetry",Q),this.telemetryService.push(new R.qmX({uiMicState:Q.uiMicState,internalMicState:Q.internalMicState,streamSessionId:Q.streamSessionId||I,streamSubSessionId:Q.streamSubSessionId||I})),(0,g.of)(Q)}completeInitialization(Q){return this.logger.info("completeInitialization",Q),this.isInitialized=!0,(0,g.of)(Q)}sendToggleTelemetry(Q){return this.logger.info("sendToggleTelemetry",Q),this.isMicToggled&&((0,n.set)(this.micInfo,"resultState",Q.uiMicState),this.logger.info("Sending telemetry:",this.micInfo),this.isMicToggled=!1,this.telemetryService.push(new R.W9g(this.micInfo))),(0,g.of)(Q)}writeUserPreference(Q){return this.logger.info("writeUserPreference",Q),this.isMicToggled&&Q.shouldApplyPreference?this.sharedStorageService.writeBlock(this.blockName,{preference:Q.uiMicState}).pipe((0,l.h)(Q)):(0,g.of)(Q)}showToastMessage(Q){this.logger.info("showToastMessage",Q);let dt=null;return Q.uiMicState!==_.Unmuted||Q.osType!==x.wi.ChromeOS||Q.shouldDefaultEnableMic?Q.uiMicState===_.PermissionDenied&&(x.ng.isBrowserPlatform()?dt=b.PermissionBlocked:x.ng.isCefPlatform()&&this.isMicToggled&&(Q.osType===x.wi.MacOS?dt=b.PermissionBlockedMacOS:Q.osType===x.wi.Windows&&(dt=b.PermissionBlockedWindows))):dt=b.PerformaceWarning,dt?this.showToastMessageInternal(dt).pipe((0,l.h)(Q)):(0,g.of)(Q)}showToastMessageInternal(Q){return this.logger.info("Showing toast notification"),this.translateService.get(Q).pipe((0,o.b)(dt=>{this.snackbar.open(dt,"",{duration:7e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:"nv-hig"})}))}}return(F=U).\u0275fac=function(Q){return new(Q||F)(f.LFG(x.ed),f.LFG(K.pl),f.LFG(x.dF),f.LFG(B.sK),f.LFG(j.OA),f.LFG(tt.y0),f.LFG(x.Ob))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),U})()},17577:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>d});var e=t(61699),i=t(52290),L=t(5042),f=t(32484),x=t(70462),S=t(89718),u=t(93190),g=t(70506),h=t(64555),O=t(13303),E=t(99901),w=t(95933),p=t(85046),V=t(36520),c=t(46939),C=t(15746),l=t(90786),o=t(87965),n=t(96084),s=t(47178),R=t(96004),_=t(77869),b=t(91467),I=t(42586),q=t(36591),a=t(13963),y=t(14831),M=t(41997),P=t(17401),K=t(28849),B=t(26575),j=t(45356),tt=t(78654),ot=t(69400),F=t(86515),U=t(11296),z=t(55998);let Q=(()=>{var H;class ${get caretEnabled(){return this._caretEnabled}set caretEnabled(st){this._caretEnabled=(0,z.Ig)(st),this._caretEnabled?(this.initCaret(),setTimeout(()=>this.moveCaret())):this.stopCaret()}constructor(st,lt){this.render=lt,this._caretEnabled=!1,this.destroy$=new f.xQ,this.blinkingInterval=1e3,this.inputElement=st.nativeElement}initCaret(){const st=getComputedStyle(this.inputElement),lt=st.getPropertyValue("font-size"),gt=st.getPropertyValue("padding-left"),vt=st.getPropertyValue("caret-color"),k=parseInt(gt,10),pt=parseInt(lt,10)+k;this.subTextElement=this.render.createElement("div"),this.render.setStyle(this.subTextElement,"visibility","hidden"),this.render.setStyle(this.subTextElement,"width","fit-content"),this.render.setStyle(this.subTextElement,"position","fixed"),this.render.setStyle(this.subTextElement,"font-size",lt),this.inputElementParent=this.inputElement.parentElement,this.inputElementParent.appendChild(this.subTextElement),this.caretElement=this.render.createElement("div"),this.render.setStyle(this.caretElement,"position","absolute"),this.render.setStyle(this.caretElement,"width","1px"),this.render.setStyle(this.caretElement,"height",`${pt}px`),this.render.setStyle(this.caretElement,"border-left",`1px solid ${vt}`),this.render.setStyle(this.caretElement,"opacity","0"),this.inputElementParent.appendChild(this.caretElement);const yt=this.inputElement.getBoundingClientRect(),Xt=this.inputElementParent.getBoundingClientRect();this.caretOffset={x:yt.left-Xt.left+k,y:(yt.height-pt)/2},this.caretAnimation=this.caretElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.blinkingInterval,iterations:1/0,easing:"steps(2, end)"});const It=this.inputElement.value.length;this.inputElement.setSelectionRange(It,It),(0,S.T)((0,u.R)(this.inputElement,"input"),(0,u.R)(window,"resize")).pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.moveCaret()})}moveCaret(){this.subTextElement&&(this.subTextElement.innerHTML=this.inputElement.value.substring(0,this.inputElement.selectionStart).replace(/\s/g,"\xa0"),this.animateCaret(this.subTextElement.clientWidth<this.inputElement.getBoundingClientRect().width),this.render.setStyle(this.caretElement,"transform",`translate(${this.subTextElement.clientWidth+this.caretOffset.x}px, ${this.caretOffset.y}px)`))}animateCaret(st){"running"===this.caretAnimation.playState!==st&&(st?this.caretAnimation.play():this.caretAnimation.cancel())}stopCaret(){var st;null===(st=this.caretAnimation)||void 0===st||st.cancel(),this.subTextElement&&(this.inputElementParent.removeChild(this.subTextElement),this.subTextElement=void 0),this.caretElement&&(this.inputElementParent.removeChild(this.caretElement),this.caretElement=void 0)}ngOnDestroy(){this.stopCaret(),this.destroy$.next(!0),this.destroy$.complete()}}return(H=$).\u0275fac=function(st){return new(st||H)(e.Y36(e.SBq),e.Y36(e.Qsj))},H.\u0275dir=e.lG2({type:H,selectors:[["input","nvCaret",""]],inputs:{caretEnabled:["nvCaret","caretEnabled"]}}),$})();var dt=t(81337),X=t(31546),m=t(43559);const Y=["inputContainer"],D=["inputElement"];function N(H,$){1&H&&(e.TgZ(0,"mat-icon",10),e._uU(1," search "),e.qZA())}function Z(H,$){if(1&H){const J=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(lt){e.CHM(J);const gt=e.oxw();return e.KtG(gt.clearSearchInput(lt))})("focus",function(){e.CHM(J);const lt=e.oxw();return e.KtG(lt.closeButtonFocused=!0)})("blur",function(){e.CHM(J);const lt=e.oxw();return e.KtG(lt.closeButtonFocused=!1)}),e.TgZ(1,"mat-icon",12),e._uU(2,"close"),e.qZA()()}if(2&H){const J=e.oxw();e.uIk("tabindex",J.activated?null:-1)}}function W(H,$){1&H&&e._UZ(0,"mat-divider")}var A=function(H){return H[H.None=0]="None",H[H.FocusInputField=1]="FocusInputField",H[H.FocusInputFieldWithHint=2]="FocusInputFieldWithHint",H[H.FocusInputContainer=3]="FocusInputContainer",H[H.FocusFirstTile=4]="FocusFirstTile",H}(A||{});let d=(()=>{var H;class ${set activated(st){this._activated!==st&&(this._activated=st,this.activatedChange.emit(this.activated))}get activated(){return this._activated}get nvKeyboardOpened(){var st,lt;return null!==(st=null===(lt=this.nvKeyboardOpened$)||void 0===lt?void 0:lt.value)&&void 0!==st&&st}constructor(st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te){this.searchService=gt,this.indexService=vt,this.ngZone=k,this.windowService=pt,this.nvKeyboardService=yt,this.matDialogService=Xt,this.injector=It,this.focusManager=Nt,this.inputModalityService=te,this.autoFocusOnInputContainer=!1,this.displayClearIcon=!0,this._activated=!1,this.activatedChange=new e.vpe,this.searchInputInteraction=new e.vpe,this.searchInputFocusOut=new e.vpe,this.useNvKeyboard=!1,this.query="",this.inputType="text",this.closeButtonFocused=!1,this.searchResultState=n.Y2.None,this.categorizedResult=null,this.currentCategory="",this.recentSearchesCache=[],this.destroy$=new f.xQ,this.commitSearch$=new f.xQ,this.isWebSearch=!0,this.searchDebounceTime=200,this.logger=st.getLogger("SearchComponent"),(null==lt?void 0:lt.searchInputDebounceTime)>=0&&(this.searchDebounceTime=lt.searchInputDebounceTime),null!=lt&&lt.searchInputType&&(this.inputType=lt.searchInputType),this.useNvKeyboard=yt.enabled,this.isWebSearch||this.indexService.isConnectedToServer().pipe((0,O.R)(this.destroy$)).subscribe(bt=>{this.serverConnectivityStatus=bt,this.serverConnectivityStatus||this.updateSearchResultState(n.Y2.FailedToConnect)}),this.clickSearchInput=le.guard(b.Ku.Input,this.clickSearchInput.bind(this),"search.requireTapOnSearchBar"),this.onInputContainerClick=le.guard(b.Ku.Input,this.onInputContainerClick.bind(this),"search.requireTapOnSearchBar")}ngOnInit(){this.isWebSearch||(this.indexService.getSearchIndexAvailability().pipe((0,O.R)(this.destroy$)).subscribe(st=>{this.isSearchIndexAvailable=st,this.isSearchIndexAvailable?(this.updateSearchResultState(n.Y2.None),this.performSearch()):this.updateSearchResultState(n.Y2.IndexNotAvailable)}),this.indexService.getRecentSearches().pipe((0,O.R)(this.destroy$)).subscribe(st=>{this.recentSearchesCache=st})),this.indexService.onSearchTriggered.pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.performSearch()}),this.useNvKeyboard&&(this.gamepadService=this.injector.get(L.Se),this.nvKeyboardOpened$=new x.X(!1),this.actionAfterDismissed$=new x.X(A.None),this.subscribeToActionState(),this.subscribeToKeyboardState(),this.activatedChange.pipe((0,O.R)(this.destroy$)).subscribe(st=>{st||this.closeNvKeyboardAndOverlayHint()})),this.indexService.onClearSearchQuery().pipe((0,O.R)(this.destroy$)).subscribe(st=>{this.query="",this.inputField.nativeElement.value=""})}ngAfterViewInit(){this.inputField&&(0,S.T)((0,u.R)(this.inputField.nativeElement,"input").pipe((0,E.h)(!1)),this.commitSearch$.pipe((0,E.h)(!0))).pipe((0,w.b)(this.searchDebounceTime),(0,O.R)(this.destroy$)).subscribe(st=>{this.query!==this.inputField.nativeElement.value?(this.query=this.inputField.nativeElement.value,""===this.query&&this.updateSearchResultState(n.Y2.EmptyQuery),this.searchInputInteraction.emit({currentQuery:this.query,interactionType:n.af.Input}),this.performSearch(st)):st&&this.indexService.focusFirstTile()}),this.indexService.onAutoSearchTriggered$.pipe((0,O.R)(this.destroy$)).subscribe(st=>{this.indexService.savedSearchQuery&&setTimeout(()=>{this.query=this.indexService.savedSearchQuery,this.inputField.nativeElement.value=this.query,this.indexService.savedSearchQuery=""},0)}),this.ngZone.runOutsideAngular(()=>{this.windowService.getKeydownEvent().pipe((0,p.h)(st=>(st.metaKey||st.ctrlKey)&&("f"===st.key||"F"===st.key)),(0,O.R)(this.destroy$)).subscribe(st=>{var lt;0===(null===(lt=this.matDialogService)||void 0===lt||null===(lt=lt.openDialogs)||void 0===lt?void 0:lt.length)&&this.clickSearchInput(st)}),(0,u.R)(document,"touchstart").pipe((0,O.R)(this.destroy$)).subscribe(st=>{st.target!==this.inputField.nativeElement&&this.activated&&this.isInputFocused&&this.inputField.nativeElement.blur()})}),!this.isWebSearch&&!this.indexService.wasSearchIndexingTriggered&&this.indexService.isLazySearchIndexingEnabled().pipe((0,V.w)(st=>st?this.activatedChange.pipe((0,p.h)(lt=>!0===lt)):g.E),(0,c.q)(1)).subscribe(()=>{this.indexService.triggerBuildingSearchIndex()})}openNvKeyboard(){this.nvKeyboardRef=this.nvKeyboardService.open(),(0,S.T)(this.nvKeyboardRef.afterOpened().pipe((0,c.q)(1),(0,E.h)(!0)),this.nvKeyboardRef.afterDismissed().pipe((0,c.q)(1),(0,E.h)(!1))).pipe((0,C.b)(st=>{this.activated=st,this.nvKeyboardOpened$.next(st)}),(0,V.w)(st=>st?this.nvKeyboardService.onInput$:g.E),(0,O.R)(this.destroy$),(0,l.x)(()=>{this.nvKeyboardOpened$.next(!1)})).subscribe(st=>{this.sendToInputField(st)})}subscribeToKeyboardState(){(0,h.aj)([this.nvKeyboardOpened$.asObservable(),this.actionAfterDismissed$.asObservable()]).pipe((0,o.zg)(([st,lt])=>{var gt;const vt=st?i.AZ.SystemKeyboard:lt===A.FocusInputFieldWithHint&&document.activeElement===(null===(gt=this.inputField)||void 0===gt?void 0:gt.nativeElement)?i.AZ.AppKeyboard:void 0;if(vt){const k=!!this.gamepadHintOverlay;if(k||(this.gamepadHintOverlay=this.nvKeyboardService.createHintOverlay(this.inputContainer.nativeElement)),this.gamepadHintOverlay.updateHint(vt),!k)return this.overlayDestroy$=new f.xQ,this.gamepadService.onButtonPressed$(L.z8.Y).pipe((0,O.R)(this.overlayDestroy$),(0,p.h)(pt=>!0===pt))}else this.disposeGamepadOverlay();return g.E}),(0,O.R)(this.destroy$)).subscribe(()=>{this.nvKeyboardOpened?(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(A.FocusInputFieldWithHint)):this.activateNvKeyboard(!0)})}subscribeToActionState(){this.nvKeyboardOpened$.pipe((0,V.w)(st=>st?g.E:this.actionAfterDismissed$),(0,O.R)(this.destroy$)).subscribe(st=>{switch(st){case A.FocusInputField:case A.FocusInputFieldWithHint:this.focusManager.focusViaLastOrigin(this.inputField.nativeElement);break;case A.FocusFirstTile:this.indexService.focusFirstTile();break;case A.FocusInputContainer:this.focusManager.focusViaLastOrigin(this.inputContainer.nativeElement)}})}disposeGamepadOverlay(){this.actionAfterDismissed$.value!==A.None&&this.actionAfterDismissed$.next(A.None),this.overlayDestroy$&&(this.overlayDestroy$.next(!0),this.overlayDestroy$.complete()),this.gamepadHintOverlay&&(this.gamepadHintOverlay.dispose(),this.gamepadHintOverlay=void 0)}activateNvKeyboard(st){var lt;st&&!this.nvKeyboardOpened?(null===(lt=this.inputField)||void 0===lt||lt.nativeElement.blur(),this.openNvKeyboard()):!st&&this.nvKeyboardOpened&&this.nvKeyboardRef.dismiss()}sendToInputField(st){const lt=this.inputField.nativeElement;if("keydown"===st.type){switch(st.key){case"Backspace":lt.selectionStart===lt.selectionEnd?lt.selectionStart>0&&lt.setRangeText("",lt.selectionStart-1,lt.selectionStart):lt.setRangeText("",lt.selectionStart,lt.selectionEnd);break;case"ArrowLeft":lt.selectionStart>0&&(lt.selectionEnd=--lt.selectionStart);break;case"ArrowRight":lt.selectionStart<lt.value.length&&(lt.selectionEnd=++lt.selectionStart);break;case"Space":this.inputCharacter(lt,st);break;default:1===st.key.length&&this.inputCharacter(lt,st)}lt.dispatchEvent(new Event("input"))}else"Enter"===st.key?(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(A.FocusFirstTile)):"Escape"===st.key&&(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(A.FocusInputContainer))}inputCharacter(st,lt){st.setRangeText("Space"===lt.key?" ":lt.getModifierState("CapsLock")?lt.key.toUpperCase():lt.key,st.selectionStart,st.selectionEnd,st.selectionStart===st.selectionEnd?"end":"select"),st.setSelectionRange(st.selectionEnd,st.selectionEnd)}onInputContainerClick(st){this.searchInputInteraction.emit({currentQuery:this.query,interactionType:n.af.Click}),this.activated||this.logger.trace(_.y$.UserGesture,_.Px.Search,_.Rf.open," search operation."),this.activateSearchInput()}clearSearchInput(st){this.logger.trace(_.y$.UserGesture,_.Px.Search,_.Rf.close),this.isWebSearch||this.indexService.sendTextSearchTelemetry({searchType:R.Sc.AbandonedSearch,searchQuery:this.query},this.categorizedResult&&this.categorizedResult[this.currentCategory]||[]),this.query="",this.updateSearchResultState(n.Y2.EmptyQuery),this.categorizedResult=null,this.performSearch()}get isInputFocused(){var st;return document.activeElement===(null===(st=this.inputField)||void 0===st?void 0:st.nativeElement)}clickSearchInput(st){this.onInputContainerClick(st)}activateSearchInput(){this.inputField&&!this.isInputFocused&&(this.useNvKeyboard&&this.inputModalityService.lastInputModality===I.q.Gamepad?this.activateNvKeyboard(!0):(this.focusManager.focusViaLastOrigin(this.inputField.nativeElement),this.inputField.nativeElement.setSelectionRange(0,this.query.length)))}showRecentSearches(){this.categorizedResult=null,this.updateSearchResultState(n.Y2.None),this.recentSearchesCache.length>0&&this.updateSearchResultState(n.Y2.RecentSearches),this.notifySearchResultChanged({resultsLength:this.recentSearchesCache.length,categorizedResult:{recents:this.recentSearchesCache}})}performSearch(st=!1){this.indexService.savedSearchQuery&&(this.query=this.indexService.savedSearchQuery,this.indexService.savedSearchQuery=""),this.isWebSearch?this.indexService.performWebSearchOperation(this.query):this.serverConnectivityStatus?this.isSearchIndexAvailable?0!==this.query.length&&(this.logger.trace(_.y$.UserGesture,"Searched for game with keyword "+this.query),this.categorizedResult={},this.searchService.performSearch(this.query).pipe((0,o.zg)(lt=>this.indexService.processSearchedResultsCallback(lt)),(0,O.R)(this.destroy$)).subscribe(lt=>{var gt;lt.resultsLength>0?(this.categorizedResult=lt.categorizedResult,this.categories=Object.keys(this.categorizedResult),this.currentCategory=(null===(gt=this.categories)||void 0===gt?void 0:gt.length)>0?this.categories[0]:"",this.updateSearchResultState(n.Y2.ResultAvailable)):(this.categorizedResult=null,this.updateSearchResultState(n.Y2.ResultNotAvailable)),this.notifySearchResultChanged(lt),st&&this.indexService.focusFirstTile()},lt=>{this.logger.error("Error in processing search Results"+lt)})):this.updateSearchResultState(n.Y2.IndexNotAvailable):this.updateSearchResultState(n.Y2.FailedToConnect)}updateSearchResultState(st){this.searchResultState=st,this.indexService.notifySearchResultStateChanged(this.searchResultState)}notifySearchResultChanged(st){this.indexService.notifySearchResultChanged({processedSearchResult:st,query:this.query})}onInputKeydown(st){if((0,_.wN)(st)){if(st.stopPropagation(),st.preventDefault(),this.activated)if(this.useNvKeyboard){var lt;null===(lt=this.actionAfterDismissed$)||void 0===lt||lt.next(A.FocusInputContainer)}else this.focusManager.focusViaLastOrigin(this.inputContainer.nativeElement)}else"Enter"===st.key&&(st.stopPropagation(),st.preventDefault(),this.useNvKeyboard?this.activateNvKeyboard(!0):this.commitSearch$.next())}onMouseDown(){var st;this.useNvKeyboard&&(this.activateNvKeyboard(!1),null===(st=this.actionAfterDismissed$)||void 0===st||st.next(A.FocusInputField))}focusInputContainer(){this.focusManager.focusViaLastOrigin(this.inputContainer.nativeElement)}onInputBlur(st){(0,s.isNil)(st.relatedTarget)&&!this.isWebSearch&&this.indexService.sendTextSearchTelemetry({searchType:R.Sc.PausedSearch,searchQuery:this.query},this.categorizedResult&&this.categorizedResult[this.currentCategory]||[]),this.searchInputFocusOut.emit({currentQuery:this.query}),this.activated=!1}closeNvKeyboardAndOverlayHint(){this.activateNvKeyboard(!1),this.disposeGamepadOverlay()}ngOnDestroy(){this.activated=!1,this.indexService.savedSearchQuery=this.query,this.destroy$.next(!0),this.destroy$.complete()}}return(H=$).\u0275fac=function(st){return new(st||H)(e.Y36(a.ed),e.Y36(q.j,8),e.Y36(y.o),e.Y36(M.x),e.Y36(e.R0b),e.Y36(a.un),e.Y36(i.Ow),e.Y36(P.uw),e.Y36(e.zs3),e.Y36(b.IK),e.Y36(b.wI),e.Y36(I.b))},H.\u0275cmp=e.Xpm({type:H,selectors:[["nv-search"]],viewQuery:function(st,lt){if(1&st&&(e.Gf(Y,5),e.Gf(D,5)),2&st){let gt;e.iGM(gt=e.CRH())&&(lt.inputContainer=gt.first),e.iGM(gt=e.CRH())&&(lt.inputField=gt.first)}},inputs:{smallWidthMode:"smallWidthMode",autoFocusOnInputContainer:"autoFocusOnInputContainer",displayClearIcon:"displayClearIcon",activated:"activated"},outputs:{activatedChange:"activatedChange",searchInputInteraction:"searchInputInteraction",searchInputFocusOut:"searchInputFocusOut"},decls:11,vars:16,consts:[["ngClass.handset","handset",1,"search-container"],["fxLayout","column"],["fxLayout","row"],["nvAddKeyboardActivate","",1,"search-input-container",3,"tabindex","nvAutoFocus","click"],["inputContainer",""],["class","material-icons search-icon",4,"ngIf"],["maxlength","80","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModel","type","placeholder","nvCaret","blur","focus","keydown","mousedown"],["inputElement",""],["mat-icon-button","","class","clear-icon-button",3,"click","focus","blur",4,"ngIf"],[4,"ngIf"],[1,"material-icons","search-icon"],["mat-icon-button","",1,"clear-icon-button",3,"click","focus","blur"],[1,"material-icons"]],template:function(st,lt){1&st&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4),e.NdJ("click",function(vt){return lt.onInputContainerClick(vt)}),e.YNc(5,N,2,0,"mat-icon",5),e.TgZ(6,"input",6,7),e.NdJ("blur",function(vt){return lt.onInputBlur(vt)})("focus",function(){return lt.activated=!0})("keydown",function(vt){return lt.onInputKeydown(vt)})("mousedown",function(){return lt.onMouseDown()}),e.ALo(8,"translate"),e.qZA(),e.YNc(9,Z,3,1,"button",8),e.qZA()(),e.YNc(10,W,1,0,"mat-divider",9),e.qZA()()),2&st&&(e.ekj("nv-keyboard",lt.nvKeyboardOpened),e.xp6(3),e.Q6J("tabindex",lt.activated?-1:0)("nvAutoFocus",lt.autoFocusOnInputContainer),e.xp6(2),e.Q6J("ngIf",!lt.smallWidthMode),e.xp6(1),e.Tol(lt.smallWidthMode?"font-body1":"font-body2"),e.s9C("type",lt.inputType),e.s9C("placeholder",e.lcZ(8,14,"search.searchGames")),e.Q6J("ngModel",lt.query)("nvCaret",lt.nvKeyboardOpened&&!lt.isInputFocused),e.uIk("tabindex",lt.activated||lt.closeButtonFocused?null:-1),e.xp6(3),e.Q6J("ngIf",lt.displayClearIcon&&lt.query.length>0),e.xp6(1),e.Q6J("ngIf",lt.smallWidthMode))},dependencies:[K.Fj,K.JJ,K.nD,K.On,B.O5,j.xw,tt.eB,ot.d,F.Hw,U.r,Q,dt.xZ,X.h,m.X$],styles:['.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.constants-position-relative[_ngcontent-%COMP%]{position:relative}.constants-position-absolute[_ngcontent-%COMP%]{position:absolute}.constants-display-none[_ngcontent-%COMP%]{display:none}.search-container[_ngcontent-%COMP%]{position:relative;z-index:100;white-space:initial;min-width:320px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:auto}.search-container[_ngcontent-%COMP%]   .no-focus-outline[_ngcontent-%COMP%]:focus{outline:0;border:0}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{display:flex;position:relative;padding:0!important;height:42px;background-color:#292929}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:before{position:absolute;width:100%;height:100%;border-radius:0;border-style:solid;border-color:#fff3;border-width:1px;box-sizing:border-box;pointer-events:none;z-index:1;content:""}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:auto}mat-icon[_ngcontent-%COMP%]{color:#fff9;font-size:18px}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#fff9;background-color:#292929;transition:opacity .2s ease-in-out;padding:0;min-width:0;width:40px;flex-shrink:0;line-height:40px;display:flex;justify-content:center;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{height:auto}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .active-search-icon[_ngcontent-%COMP%]{color:#fffc}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{visibility:visible;opacity:1;width:100%;transition:width .2s ease-in-out;max-width:484px;min-width:320px;border-color:#fff3}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{opacity:1}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-shadow:none;border-radius:0;border-style:solid;border-width:0;width:100%;background-color:#292929;padding-top:2px;padding-bottom:2px;margin:0;outline:none;color:#fffc}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]:not(.nv-keyboard)   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within){outline:none}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .clear-icon-button[_ngcontent-%COMP%]{background-color:#ffffff52;transition:background-color .75s ease}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .clear-icon-button[_ngcontent-%COMP%]{background-color:#ffffff14}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   .clear-icon-button[_ngcontent-%COMP%]{background-color:#fff6}.search-container[_ngcontent-%COMP%]:not(.nv-keyboard)   .search-input-container[_ngcontent-%COMP%]:not(:focus):focus-within:after, .search-container.nv-keyboard[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:after{position:absolute;width:100%;height:100%;border-bottom:2px solid #76b900;background-clip:padding-box;box-sizing:border-box;pointer-events:none;content:""}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{caret-color:#fff}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{color:#fff9;background-color:#292929}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button{display:none}.search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{width:40px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.selected-search-item[_ngcontent-%COMP%]{background-color:#282828cc!important}.search-container.handset[_ngcontent-%COMP%]{min-width:0}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{max-width:none;min-width:0;background-color:transparent;border-width:0}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within), .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   input[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .clear-icon-button[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus, .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   input[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .clear-icon-button[_ngcontent-%COMP%]{background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{caret-color:#ffffffb3}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;color:#ffffff4d;background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#ffffffe6}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input.search-input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3}.search-container.handset[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:2px;border-top-color:#76b900}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{height:64px;max-width:800px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{height:inherit}.isLtr.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{width:64px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:inherit}.new-10ft[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{width:fit-content;margin-top:56px;margin-bottom:32px}.new-10ft[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{width:800px}.new-10ft[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:before, .new-10ft   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:before{border-width:2px}']}),$})()},96004:(Dt,ct,t)=>{"use strict";t.d(ct,{Hs:()=>S,Sc:()=>f,kS:()=>u});var e=t(89857);const i={Click:{name:"Click",gdprLevel:e.KM.Technical},TextSearch:{name:"TextSearch",gdprLevel:e.KM.Behavioral}};var f=function(g){return g.RecentSearchResult="RecentSearchResult",g.NewSearchResult="NewSearchResult",g.AbandonedSearch="AbandonedSearch",g.PausedSearch="PausedSearch",g}(f||{});class S extends e.MW{constructor(h){super(h),this.name=i.TextSearch.name,this.gdprLevel=i.TextSearch.gdprLevel}}const u=1e3},96084:(Dt,ct,t)=>{"use strict";t.d(ct,{Y2:()=>e,af:()=>i,x4:()=>L});var e=function(E){return E[E.None=0]="None",E[E.RecentSearches=1]="RecentSearches",E[E.ResultAvailable=2]="ResultAvailable",E[E.ResultNotAvailable=3]="ResultNotAvailable",E[E.FailedToConnect=4]="FailedToConnect",E[E.IndexNotAvailable=5]="IndexNotAvailable",E[E.EmptyQuery=6]="EmptyQuery",E}(e||{}),i=function(E){return E[E.Click=0]="Click",E[E.Input=1]="Input",E}(i||{}),L=function(E){return E.RecentSearchesStore="recentSearchesStore",E}(L||{});!function g(E){for(const w of Object.keys(E)){const p=w.split(/\|/g),V=E[w];delete E[w],p.forEach(c=>{E[c]=V})}}({"en_US|en_GB|da_DK|de_DE|es_ES|es_MX|fi_FI|fr_FR|hu_HU|it_IT|nb_NO|nl_NL|pl_PL|pt_BR|pt_PT|sk_SK|sl_SI|sv_SE|tr_TR|ro_RO|cs_CZ|hr_HR":"Latin","ru_RU|bg_BG|uk_UA":"Cyrillic",th_TH:"Thai",el_GR:"Greek",ko_KR:"Hangul","zh_CHT|zh_CHS|zh_CN|zh_TW":"Chinese",ja_JP:"Japanese",all_locales:"AllSupportedLocales"})},36591:(Dt,ct,t)=>{"use strict";t.d(ct,{j:()=>L});const L=new(t(61699).OlP)("NV_SEARCH_CONFIG")},41997:(Dt,ct,t)=>{"use strict";t.d(ct,{x:()=>_});var e=t(13963),i=t(96084),L=t(96004),f=t(70462),x=t(49481),S=t(32484),u=t(64555),g=t(9681),h=t(14430),O=t(69531),E=t(47178),p=t(36520),V=t(15746),c=t(58175),C=t(99901),l=t(87965),o=t(46939),n=t(61699),s=t(14831),R=t(89857);let _=(()=>{var b;class I{constructor(a,y,M,P){this.searchService=y,this.dbCacheService=M,this.telemetryService=P,this.searchIndexAvailableSubject=new f.X(!1),this.serverConnectivityStatusSubject=new x.t(1),this.lazySearchIndexingEnabledSubject=new x.t(1),this.maxRecentSearchesCount=5,this.recentSearchesSubject=new x.t(1),this.recentSearches=null,this.recentSearchesStore=null,this.searchResultChangedSubject=new x.t(1),this.searchResultStateChangedSubject=new x.t(1),this.strSearch="SEARCH",this.strRecent="RECENT",this.strNew="NEW",this.clearSearchSub=new S.xQ,this.autoSearchTriggerSubject$=new x.t(1),this.logger=a.getLogger("IndexService"),this.triggerSearch$=new S.xQ,this.triggerRecentSearchUpdate$=new S.xQ,this.triggerBuildSearchIndex$=new S.xQ,this.focusFirstTile$=new S.xQ,this._savedSearchQuery="",this._wasSearchIndexingTriggered=!1}get onSearchTriggered(){return this.triggerSearch$.asObservable()}get savedSearchQuery(){return this._savedSearchQuery}set savedSearchQuery(a){this._savedSearchQuery=a}get localSearchResultState(){return this.searchResultState}get wasSearchIndexingTriggered(){return this._wasSearchIndexingTriggered}get onFocusFirstTile$(){return this.focusFirstTile$.asObservable()}get onAutoSearchTriggered$(){return this.autoSearchTriggerSubject$.asObservable()}getSearchHierarchy(){return`${this.strSearch}/${this.localSearchResultState===i.Y2.RecentSearches?this.strRecent:this.strNew}`}isSearchHierarchy(a){return(null==a?void 0:a.startsWith(this.strSearch))||!1}init(a,y,M){return this.searchIndexAvailableSubject.next(!1),this.serverConnectivityStatusSubject.next(!0),this.lazySearchIndexingEnabledSubject.next(M),this.lazySearchIndexingEnabledSubject.complete(),this.searchService.initialize(a,y)}triggerSearch(){this.triggerSearch$.next(!0)}triggerRecentSearchesUpdateIfSearching(a){this.triggerRecentSearchUpdate$.next(a)}focusFirstTile(){this.focusFirstTile$.next()}triggerAutoSearch(a){this.savedSearchQuery=a,this.autoSearchTriggerSubject$.next()}get onRecentSearchesUpdateTriggered(){return this.triggerRecentSearchUpdate$.asObservable()}setLocalSearchConfig(a){return this.searchService.setSearchConfig(a)}buildStateIndex(a,y,M){return this.searchService.buildStateIndex(a,y,M)}setWebSearchCallback(a){this.performWebSearch=a}performWebSearchOperation(a){this.performWebSearch&&this.performWebSearch(a)}setCallbacks(a,y){this.processSearchedResultsCallback=a,this.processRecentResultsCallback=y}setSearchIndexAvailable(a){this.searchIndexAvailableSubject.next(a)}getSearchIndexAvailability(){return this.searchIndexAvailableSubject.asObservable()}isSearchIndexAvailable(){return this.searchIndexAvailableSubject.value}setServerConnectivityStatus(a){this.serverConnectivityStatusSubject.next(a)}isConnectedToServer(){return this.serverConnectivityStatusSubject.asObservable()}isLazySearchIndexingEnabled(){return this.lazySearchIndexingEnabledSubject.asObservable()}isDBUpgradeRequired(a){return!!(a.length>0&&(0,E.isNil)(a[0].telemetryTitle))}loadRecentSearchesCacheFromDB(a){return this.recentSearchesStore=this.dbCacheService.getOrCreateCachedGlobalItem(i.x4.RecentSearchesStore,a),this.recentSearchesStore.sync_().pipe((0,p.w)(()=>{const y=this.recentSearchesStore.recentSearches||[],M=this.isDBUpgradeRequired(y);return(0,u.aj)([this.processRecentResultsCallback(y),(0,g.of)(M)])}),(0,V.b)(([y,M])=>{this.recentSearches=y,this.recentSearchesSubject.next(this.recentSearches)}),(0,p.w)(([y,M])=>M&&this.recentSearchesStore.status_===e.c1.Saved?(this.recentSearchesStore.recentSearches=y,this.recentSearchesStore.persist_()):(0,g.of)(!0)),(0,c.K)(y=>(this.logger.error("Error in getting recent searches"+y),this.resetRecentSearches(),(0,g.of)(!1))),(0,C.h)(!0))}getRecentSearches(){return this.recentSearchesSubject.asObservable()}onSearchResultChanged(){return this.searchResultChangedSubject.asObservable()}notifySearchResultChanged(a){this.searchResultChangedSubject.next(a)}onSearchResultStateChanged(){return this.searchResultStateChangedSubject.asObservable()}notifySearchResultStateChanged(a){this.searchResultState=a,this.searchResultStateChangedSubject.next(a)}onTriggerBuildingSearchIndex(){return this.triggerBuildSearchIndex$.asObservable()}triggerBuildingSearchIndex(){return this._wasSearchIndexingTriggered=!0,this.triggerBuildSearchIndex$.next(!0)}resetRecentSearches(){this.recentSearchesSubject.next([]),this.recentSearches=null}loadCurrentUserRecentSearches(a){return a?this.loadRecentSearchesCacheFromDB(a).pipe((0,l.zg)(y=>(0,h.s)(()=>!!this.pendingRecentSearchUpdate$,(0,O.P)(()=>this.pendingRecentSearchUpdate$.pipe((0,C.h)(y))),(0,g.of)(y)))):(0,g.of)(!1)}updateCurrentUserRecentSearches(a){if(!this.recentSearches)return void(this.pendingRecentSearchUpdate$=(0,O.P)(()=>this.updateCurrentUserRecentSearches(a)));this.pendingRecentSearchUpdate$=void 0;let y=[];a.isRecentSearch=!0,y=(0,E.filter)(this.recentSearches,function(M){return M.ref!==a.ref}),y.unshift(a),y.length>this.maxRecentSearchesCount&&y.pop(),this.recentSearches=y,this.recentSearchesSubject.next(this.recentSearches),this.recentSearchesStore&&this.recentSearchesStore.status_===e.c1.Saved&&(this.recentSearchesStore.recentSearches=y,this.recentSearchesStore.persist_().subscribe())}onUserLoggedOut(){this.recentSearchesSubject.pipe((0,o.q)(1)).subscribe(()=>{setTimeout(()=>this.triggerSearch())}),this.resetRecentSearches()}onUserLoggedIn(a){return this.loadCurrentUserRecentSearches(a)}sendTextSearchTelemetry(a,y){this.initializeTextSearchInfo(a),this.updateTextSearchInfoTopResults(y),this.telemetryService.push(new L.Hs(this.textSearchInfo))}updateRecentSearchesAndSendTelemetry(a,y,M){const P={searchType:a.isRecentSearch?L.Sc.RecentSearchResult:L.Sc.NewSearchResult,searchQuery:M,selectedResult:a.telemetryTitle,selectedPreview:"",selectedRank:a.indexInCategory};this.updateCurrentUserRecentSearches(a),this.sendTextSearchTelemetry(P,y)}initializeTextSearchInfo(a){this.textSearchInfo={searchType:"",searchQuery:"",selectedResult:"",selectedPreview:"",selectedRank:0,aggregatedPreviews:"",rank0Result:"",rank1Result:"",rank2Result:"",rank3Result:"",rank4Result:""},this.textSearchInfo=(0,E.merge)(this.textSearchInfo,a)}updateTextSearchInfoTopResults(a){let y=[];(0,E.each)((0,E.range)(0,5),M=>{a[M]&&(this.textSearchInfo["rank"+M+"Result"]=a[M].telemetryTitle,y.push.apply(y,(0,E.keys)(a[M].preview)))}),y=(0,E.uniq)(y),this.textSearchInfo.aggregatedPreviews=this.formatAggregatedPreviews(y)}formatAggregatedPreviews(a){let y="";for(const M of a){const P=M+", "+y;if(!(P.length<L.kS))break;y=P}return y.slice(0,-2)}clearSearchQuery(){this.savedSearchQuery="",this.clearSearchSub.next()}onClearSearchQuery(){return this.clearSearchSub.asObservable()}}return(b=I).\u0275fac=function(a){return new(a||b)(n.LFG(e.ed),n.LFG(s.o),n.LFG(e.LA),n.LFG(R.y0))},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})()},14831:(Dt,ct,t)=>{"use strict";t.d(ct,{o:()=>S});var e=t(30502),i=t(87965),L=t(99901),f=t(61699),x=t(13963);let S=(()=>{var u;class g{constructor(O){this.workerLoggingService=O}initialize(O,E){const w=this.workerLoggingService.getLoggerSettings();return this.searchHelper=E,this.initialize$=(0,e.D)(this.searchHelper.initialize(O,w)),this.initialize$}setSearchConfig(O){return this.initialize$.pipe((0,i.zg)(()=>this.searchHelper.setSearchConfig(O)),(0,L.h)(!0))}applyPipeline(O){return this.initialize$.pipe((0,i.zg)(()=>this.searchHelper.applyPipeline(O)))}buildStateIndex(O,E,w){return this.initialize$.pipe((0,i.zg)(()=>this.searchHelper.buildStateIndex(O,E,w)))}performSearch(O){return this.initialize$.pipe((0,i.zg)(()=>this.searchHelper.performSearch(O)))}}return(u=g).\u0275fac=function(O){return new(O||u)(f.LFG(x.Yq))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),g})()},67585:(Dt,ct,t)=>{"use strict";t.d(ct,{xB:()=>L.x,j0:()=>_.j,gS:()=>f.g,af:()=>e.af,t8:()=>R});var e=t(96084),L=(t(14831),t(41997)),f=t(17577),x=t(28849),S=t(26575),u=t(32995),g=t(57665),h=t(33910),O=t(86515),E=t(99674),w=t(78654),p=t(39038),V=t(60702),c=t(61699);const C=[x.u5,w.yu,g.IF,p.gR,h.Cq,O.Ps,E.c,V.AV];let l=(()=>{var b;class I{}return(b=I).\u0275fac=function(a){return new(a||b)},b.\u0275mod=c.oAB({type:b}),b.\u0275inj=c.cJS({imports:[x.u5,C,x.u5,w.yu,g.IF,p.gR,h.Cq,O.Ps,E.c,V.AV]}),I})();var o=t(13963),n=t(52290),s=t(91467);let R=(()=>{var b;class I{}return(b=I).\u0275fac=function(a){return new(a||b)},b.\u0275mod=c.oAB({type:b}),b.\u0275inj=c.cJS({imports:[x.u5,S.ez,u.o9,l,(0,o.zv)(),o.it,n.Gp,s.hp]}),I})();var _=t(36591)},45078:(Dt,ct,t)=>{"use strict";t.d(ct,{Fk:()=>l,No:()=>ot,nz:()=>s,HR:()=>q,rL:()=>o});var e=t(32484),i=t(89718),L=t(9681),f=t(30502),x=t(680),S=t(36520),u=t(99901),g=t(46939),h=t(47422),O=t(87965),E=t(85046),w=t(58175);t(62906);var c=function(D){return D.Gfn="geforcenow",D.Nvapp="nvidiaapplication",D}(c||{}),C=function(D){return D.FetchSuccess="SW_FETCH_SUCCESS",D.RuntimeCacheUpdated="SW_RUNTIME_CACHE_UPDATED",D}(C||{}),l=function(D){return D.ETag="etag",D.SwCacheBypass="x-sw-cachebypass",D.XRequestId="x-request-id",D.SwCacheKeyAppendString="sw-cache-key-append-string",D.SwCache="sw-cache",D.SwNotifyFetch="sw-notify-fetch",D.SwNoDataUpdate="sw-no-data-update",D}(l||{}),o=function(D){return D.SkipWaiting="SKIP_WAITING",D.GameLaunched="GAME_LAUNCHED",D.GameExit="GAME_EXIT",D.CloseStreamerSession="CLOSE_STREAM_SESSION",D.PushNotification="BROWSER_PUSH_NOTIFICATION",D.IpcPushNotification="IPC_PUSH_NOTIFICATION",D.PushNotificationTelemetry="PUSH_NOTIFICATION_TELEMETRY",D.UiPushNotification="BROWSER_VISIBLE_PUSH_NOTIFICATION",D.PushNotificationTracing="PUSH_NOTIFICATION_TRACING",D.SharedStorageUpdate="SHARED_STORAGE_UPDATE",D.LoggerNotification="LOGGER_NOTIFICATION",D.GetClientVersion="GET_CLIENT_VERSION",D.SetLoggerSettings="SET_LOGGING_SETTINGS",D.GetClientVersionWaitingSW="GET_CLIENT_VERSION_FROM_WAITING_SW",D}(o||{}),n=function(D){return D.INSTALLING="installing",D.INSTALLED="installed",D.ACTIVATING="activating",D.ACTIVATED="activated",D.REDUNDANT="redundant",D}(n||{}),s=function(D){return D.PushNotificationReceived="PushNotificationReceived",D.PushNotificationError="PushNotificationError",D}(s||{}),b=t(61699),I=t(13963);let q=(()=>{var D;class N{constructor(W){this.swSharedStorageUpdate=new e.xQ,this.swLoggingUpdate=new e.xQ,this.swActivationRequested$=new e.xQ,this.swClientVersion=new e.xQ,this.logger=W.getLogger("libraries/service-worker.service"),this.swCacheUpdate$=new e.xQ,this.networkFetchSucceeded$=new e.xQ,this.swActivated$=new e.xQ,this.swUpdateReady$=new e.xQ,this.resetSwUpdateCache$=new e.xQ,this.swNotifyListener$=new e.xQ,this.swPushNotificationListener$=new e.xQ,this.swPushNotificationTelemetryListener$=new e.xQ,this.swPushNotificationTracing=new e.xQ,this.swUpdateReadyCached$=(0,i.T)(this.swUpdateReady$.asObservable(),this.resetSwUpdateCache$).pipe((0,x.d)(1))}get swCacheUpdated(){return this.swCacheUpdate$.asObservable()}get networkResponseReceived(){return this.networkFetchSucceeded$.asObservable()}get swUpdateReady(){return this.swUpdateReady$.asObservable()}get swUpdateReadyCached(){return this.swUpdateReadyCached$}get swActivated(){return this.swActivated$.asObservable()}get swNotifyListener(){return this.swNotifyListener$.asObservable()}get swPushNotificationListener(){return this.swPushNotificationListener$.asObservable()}get swPushNotificationTelemetryListener(){return this.swPushNotificationTelemetryListener$.asObservable()}get swPushNotificationTracingListener(){return this.swPushNotificationTracing.asObservable()}get swSharedStorageUpdate$(){return this.swSharedStorageUpdate.asObservable()}get swLoggingUpdate$(){return this.swLoggingUpdate.asObservable()}get swAssociatedClientVersion(){return this.swClientVersion.asObservable()}initialize(){this.serviceWorkerSupported()?(this.swHandleMessages(),this.swHandleControllerChanges(),this.swHandleUpdates()):this.logger.info("Service worker not supported")}willGFNServiceWorkerHandleRequest(W,A){if(A&&A===JSON.stringify(!0))return!1;for(const d in ot.staleWhileRevalidate)if(ot.staleWhileRevalidate.hasOwnProperty(d)&&ot.staleWhileRevalidate[d].routePattern.test(W))return!0;return!1}serviceWorkerSupported(){return"serviceWorker"in navigator}getSWRegistrationInfo(){var W,A;return this.serviceWorkerSupported()?{isSuccess:null===(W=window)||void 0===W||null===(W=W.SWRegistrationInfo)||void 0===W?void 0:W.isSuccess,error:null===(A=window)||void 0===A||null===(A=A.SWRegistrationInfo)||void 0===A?void 0:A.error}:null}clearSwUpdateCache(){this.logger.info("SW Update Cache: Cleared"),this.resetSwUpdateCache$.next(null)}checkForUpdates(){return this.serviceWorkerSupported()?navigator.serviceWorker.getRegistration().then(W=>W?this.swHasUpdate(W)?W:W.update():Promise.reject("Registration does not exist")).then(W=>({updateAvailable:this.swHasUpdate(W),error:null})).catch(W=>(this.logger.error("SW Update Check: Error",W.toString()),Promise.resolve({updateAvailable:!1,error:W}))):Promise.reject("SW Update Check: Browser does not support service workers")}activateServiceWorker(){return this.serviceWorkerSupported()?(0,f.D)(navigator.serviceWorker.getRegistration()).pipe((0,S.w)(W=>W?this.swHasUpdate(W)?W.installing?(this.logger.info("SW Activate: Waiting for new service worker to be installed"),this.swUpdateReady.pipe((0,u.h)(W),(0,g.q)(1))):(0,L.of)(W):(this.logger.info("SW Activate: Nothing to activate"),(0,L.of)(null)):(this.logger.info("SW Activate: No service worker registration"),(0,L.of)(null))),(0,h.U)(W=>null!=W&&W.waiting?(this.logger.info("SW Activate: Requested to activate."),W.waiting.postMessage({type:o.SkipWaiting}),this.swActivationRequested$.next(),!0):(this.logger.info("SW Activate: No service worker waiting."),!1)),(0,g.q)(1)):(this.logger.info("SW Activate: Browser does not support service workers"),(0,L.of)(!1))}get swActivationRequested(){return this.swActivationRequested$.asObservable()}postMessageSw(W){this.serviceWorkerSupported()?navigator.serviceWorker.ready.then(A=>{var d;W.type===o.SharedStorageUpdate?this.logger.verbose("Calling SW postMessage with: ",W):this.logger.info("Calling SW postMessage with: ",W),null===(d=A.active)||void 0===d||d.postMessage({type:W.type,content:W.content})}):this.logger.info("SW PostMsg: Browser does not support service workers")}swHasUpdate(W){return!(!W.installing&&!W.waiting)}swHandleMessages(){navigator.serviceWorker.addEventListener("message",W=>{if(W.data.type===C.RuntimeCacheUpdated){var A;this.logger.info("CacheUpdated event received from Service Worker: ",null===(A=W.data.payload)||void 0===A?void 0:A.requestUrl);const{cacheName:H,requestUrl:$,noDataUpdate:J}=W.data.payload;(0,f.D)(caches.open(H)).pipe((0,O.zg)(st=>st.match($)),(0,E.h)(st=>!!st),(0,O.zg)(st=>st.json()),(0,w.K)(st=>(this.logger.info("error while checking for cache update",st.toString()),(0,L.of)(null)))).subscribe(st=>{st&&(this.logger.info("SW cache updated",H),this.swCacheUpdate$.next({name:H,url:$,data:st,noDataUpdate:J}))})}else if((null==W?void 0:W.data.type)===o.CloseStreamerSession)this.logger.info("Msg received from another tab: ",W.data.type),this.swNotifyListener$.next(W.data);else if((null==W?void 0:W.data.type)===o.PushNotification)this.logger.info("Firebase Token received from Service Worker: ",W.data.type),this.swPushNotificationListener$.next(W.data);else if((null==W?void 0:W.data.type)===o.PushNotificationTelemetry)this.logger.info("Telemetry Event received from Service Worker: ",W.data.type),this.swPushNotificationTelemetryListener$.next(W.data);else if((null==W?void 0:W.data.type)===o.PushNotificationTracing)this.logger.info("Telemetry Event received from Service Worker: ",W.data.type),this.swPushNotificationTracing.next(W.data);else if((null==W?void 0:W.data.type)===o.SharedStorageUpdate)this.logger.info("SharedStorageUpdate event received from Service Worker: ",W.data.type),this.swSharedStorageUpdate.next(W.data);else if((null==W?void 0:W.data.type)===C.FetchSuccess){var d;this.logger.info("FetchSuccess event received from Service Worker: ",null===(d=W.data.payload)||void 0===d?void 0:d.requestUrl),this.networkFetchSucceeded$.next(W.data.payload)}else(null==W?void 0:W.data.type)===o.LoggerNotification?(this.logger.info("Logger event received from Service Worker: ",W.data.type),this.swLoggingUpdate.next(W.data)):(null==W?void 0:W.data.type)===o.GetClientVersion?(this.logger.info("Received client version is ",W.data),this.swClientVersion.next(W.data.content)):this.logger.info("Unhandled event received from Service Worker ",W.data)})}swHandleUpdates(){return this.serviceWorkerSupported()?(this.logger.info("SW Updates: Init"),navigator.serviceWorker.getRegistration().then(W=>{if(!W)return Promise.reject("SW Updates: Registration does not exist");let A=this.swIsActive();this.logger.info(`SW Updates: Registration Exists, First Installation: ${!A}`),this.swOnUpdateInstalled(W,d=>{this.logger.info("SW Updates: Update installed"),this.logger.info("SW Updates: Notifying"),d.firstInstallation=!A,this.swUpdateReady$.next(d),A=!0})}).catch(W=>this.logger.error("SW Updates: Error",W.toString()))):Promise.reject("SW Updates: Browser does not support service workers")}swOnUpdateInstalled(W,A){const d=$=>{$.state===n.INSTALLED&&A({state:$.state,ts:Date.now()})},H=$=>{$&&(this.logger.info("SW Update Listener: Update found"),d($),$.addEventListener("statechange",()=>{this.logger.info("SW Update Listener: New worker state change:",$.state),d($)}))};W?(W.waiting?(this.logger.info("SW Update Listener: An update is ready"),A({state:n.INSTALLED,ts:Date.now()})):W.installing&&H(W.installing),W.onupdatefound||(this.logger.info("SW Update Listener: Waiting for any updates to current worker"),W.addEventListener("updatefound",()=>H(W.installing)))):this.logger.info("SW Update Listener: No service worker registration")}swIsActive(){var W;return!(null===(W=navigator.serviceWorker)||void 0===W||!W.controller)}swHandleControllerChanges(){if(!this.serviceWorkerSupported()||navigator.serviceWorker.oncontrollerchange)return;this.logger.info("SW Ctrl Change: Init");let W=this.swIsActive();this.logger.info("SW Ctrl Change: has active service worker -",W),navigator.serviceWorker.addEventListener("controllerchange",()=>{if(this.logger.info("SW Ctrl Change: New service worker activated"),this.swActivated$.next({firstInstallation:!W,ts:Date.now()}),!W)return this.logger.info("SW Ctrl Change: First activation"),void(W=!0)})}}return(D=N).\u0275fac=function(W){return new(W||D)(b.LFG(I.ed))},D.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),N})();const a=c.Gfn,y=1440,M=60*y;var K=function(D){return D.LCARS="lcars",D.LCARSStatic="lcarsStatic",D.LCARSUserAccount="lcarsUserAccount",D.LCARSClientStrings="lcarsClientStrings",D.ServiceUrls="service",D.ServerInfo="server",D.RConfig="rconfig",D.GxTarget="gxtarget",D.Subscriptions="subscriptions",D.Telemetry="telemetry",D.Offline="offline",D.GfcFeedbacks="gfcFeedbacks",D.PNSNotifications="pnsNotifications",D.LoginWallData="loginwalldata",D.LoginWallStrings="loginwallstrings",D}(K||{});const ot={staleWhileRevalidate:{lcars:{name:K.LCARS,cacheName:`${a}-${K.LCARS}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=panels/,expiry:{maxEntries:10,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},lcarsStatic:{name:K.LCARSStatic,cacheName:`${a}-${K.LCARSStatic}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=staticAppData/,expiry:{maxEntries:5,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},lcarsUserAccount:{name:K.LCARSUserAccount,cacheName:`${a}-${K.LCARSUserAccount}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=userAccount/,expiry:{maxEntries:2,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},lcarsClientStrings:{name:K.LCARSClientStrings,cacheName:`${a}-${K.LCARSClientStrings}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=clientStrings/,expiry:{maxEntries:2,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},serviceUrls:{name:K.ServiceUrls,cacheName:`${a}-${K.ServiceUrls}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v1\/serviceUrls)/,expiry:{maxEntries:10,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},server:{name:K.ServerInfo,cacheName:`${a}-${K.ServerInfo}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v2\/serverInfo)/,expiry:{maxEntries:10,maxAgeSeconds:14*M,purgeOnQuotaError:!0}},subscriptions:{name:K.Subscriptions,cacheName:`${a}-${K.Subscriptions}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v4\/subscriptions)/,expiry:{maxEntries:20,maxAgeSeconds:7*M,purgeOnQuotaError:!0},flushCacheOnResponseCodes:[404]},loginwall:{name:K.LoginWallData,cacheName:`${a}-${K.LoginWallData}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=loginWallData/,expiry:{maxEntries:2,maxAgeSeconds:7*M,purgeOnQuotaError:!0}},loginwallstrings:{name:K.LoginWallStrings,cacheName:`${a}-${K.LoginWallStrings}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=loginWallStrings/,expiry:{maxEntries:2,maxAgeSeconds:7*M,purgeOnQuotaError:!0}}},networkFirst:{},networkOnly:{telemetry:{name:K.Telemetry,cacheName:`${a}-${K.Telemetry}-v1`,routePattern:/https:\/\/events\.gfe(stage)?\.nvidia\.com\/v1\.0\/events\/json\?immediateRequest=true/,maxRetentionTime:y},gfcFeedbacks:{name:K.GfcFeedbacks,cacheName:`${a}-${K.GfcFeedbacks}-v1`,routePattern:/https:\/\/telemetry\.gfe(stage)?\.nvidia\.com\/gfc\/v4\.0\//,maxRetentionTime:y},pnsNotifications:{name:K.PNSNotifications,cacheName:`${a}-${K.PNSNotifications}-v1`,routePattern:/https:\/\/(stg.pns.nvidiagrid.net)?(pns.geforcenow.com)?\/v1\/unregister/,maxRetentionTime:y}}}},16098:(Dt,ct,t)=>{"use strict";t.d(ct,{O:()=>c});var e=t(47178),L=t(49481),f=t(33994),x=t(9681),S=t(47422),u=t(58175),g=t(46939),h=t(87965),O=t(15746),E=t(99901),w=t(13963),p=t(78943),V=t(61699);let c=(()=>{var C;class l{constructor(n,s,R){this.bridgeService=n,this.nativeEventService=R,this.logger=s.getLogger("libraries/shared-storage"),this.cachedSharedStorage$=new L.t(1),this.isInitialized=!1}initialize(){this.logger.info("init"),this.bridgeService.executeCommand(p.Gh.Common.Sharedstorage.Cache).subscribe(n=>{this.logger.info("cached shared storage"),this.cachedSharedStorage$.next(n)},n=>{this.logger.error("error caching shared storage",n)}),this.nativeEventService.get$(w.Nx.SharedStorageUpdate,w.bi.Types.HandlerEventType.StructuredWindowEvent).pipe((0,S.U)(n=>JSON.parse(n)),(0,u.K)(n=>(this.logger.error("error receiving native event",n),this.cachedSharedStorage$.pipe((0,g.q)(1))))).subscribe(n=>{this.logger.info("shared storage cache updated"),this.cachedSharedStorage$.next(n)}),this.isInitialized=!0}readBlock(n){return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,g.q)(1),(0,h.zg)(s=>{const R=(0,e.get)(s,n.split("/"));return R?(0,x.of)(R):(0,f._)({code:204})}),(0,u.K)(s=>(this.logReadError(n,s),(0,x.of)({}))))}logReadError(n,s){switch(s.code){case 404:this.logger.info("No shared storage file found, creating a new one.");break;case 204:this.logger.info(`No entry for ${n} exists. Defaulting to empty object.`);break;default:this.logger.error(`Error (${s.code}) ${s.message}. Defaulting to empty object for path ${n}.`)}}writeBlock(n,s,R){const _=this.writeBlockInternal(n,s).pipe((0,g.q)(1),(0,O.b)(b=>{this.logger.info("write status to shared storage for path",n,b)}),(0,u.K)(b=>(this.logger.error("error writing to shared storage for path",n,b),(0,x.of)(!1))));return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,g.q)(1),(0,h.zg)(b=>(this.cachedSharedStorage$.next((0,e.setWith)(b,n.split("/"),s,Object)),R?_:(_.subscribe(),(0,x.of)(!0)))))}writeBlockInternal(n,s){return this.bridgeService.executeCommand(p.Gh.Common.Sharedstorage.Write,{path:n.split("/"),data:s})}removeBlock(n){return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,g.q)(1),(0,S.U)(s=>{const R=(0,e.unset)(s,n);return this.cachedSharedStorage$.next(s),this.removeBlockInternal(n).subscribe(),R}))}removeBlockInternal(n){return this.bridgeService.executeCommand(p.Gh.Common.Sharedstorage.Remove,{path:n.split("/")}).pipe((0,E.h)(!0),(0,u.K)(s=>(204===s.code?this.logger.warn(`No entry for ${n} exists. Removal failed.`):this.logger.error(`Error (${s.code}) ${s.message}.`),(0,x.of)(!1))))}}return(C=l).\u0275fac=function(n){return new(n||C)(V.LFG(w.dF),V.LFG(w.ed),V.LFG(w.o1))},C.\u0275prov=V.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),l})()},15665:(Dt,ct,t)=>{"use strict";t.d(ct,{TC:()=>L,OA:()=>e.O});var e=t(16098),i=t(61699);let L=(()=>{var S;class u{}return(S=u).\u0275fac=function(h){return new(h||S)},S.\u0275mod=i.oAB({type:S}),S.\u0275inj=i.cJS({}),u})();t(78943)},68221:(Dt,ct,t)=>{"use strict";t.d(ct,{FI:()=>L,L$:()=>O,Tq:()=>u,Z0:()=>e,Z1:()=>h,sO:()=>i,vz:()=>S,yq:()=>g,zs:()=>f});const e=":server/authorize?response_mode=query&response_type=id_token+token&device_id=:deviceId&scope=:scope&client_id=:clientId&redirect_uri=:redirectUri&ui_locales=:locale&nonce=:nonce&prompt=select_account",i=":server/authorize?response_type=code&device_id=:deviceId&scope=:scope&client_id=:clientId&redirect_uri=:redirectUri&ui_locales=:locale&nonce=:nonce&prompt=select_account&code_challenge=:codeChallenge&code_challenge_method=S256",L=":server/logout?id_token_hint=:idToken&ui_locales=:locale",f=":server/logout?id_token_hint=:idToken&ui_locales=:locale&post_logout_redirect_uri=:redirect_uri",S={clientToken:null,accessToken:null,idToken:null,user:{sub:"",idp_name:"",idp_id:"",external_id:"",preferred_username:"",consent:{trackTechnicalData:!1,trackBehavioralData:!1},isAuthenticated:!1},clientTokenExpiry:null,accessTokenExpiry:null,idTokenExpiry:null},u="starfleet";var g=function(E){return E.DBName="starfleet",E.DBKey="starfleetSession",E}(g||{}),h=function(E){return E.SharedStorage="sharedStorage",E.IndexedDB="indexedDB",E}(h||{}),O=function(E){return E[E.Failure=0]="Failure",E[E.Success=1]="Success",E[E.Cancel=2]="Cancel",E[E.CloseOnFailure=3]="CloseOnFailure",E}(O||{})},1073:(Dt,ct,t)=>{"use strict";t.d(ct,{z:()=>h});var e=t(9681),i=t(87965),L=t(47422),f=t(68221),x=t(16098),S=t(47178);class g{static encode(E){const w=new g;return w.data=window.btoa(encodeURIComponent(JSON.stringify(E))),w.authProvider=f.Tq,w}static decode(E){return JSON.parse(decodeURIComponent(window.atob(E.data)))}}class h{constructor(E,w,p=f.Z1.SharedStorage){this.idTokenRefreshUnderDuration=E,this.data=(0,S.isNil)(w)?Object.assign({},f.vz):w,this.setStorageType(p)}static loadFrom(E,w){let V;return V=E?E instanceof x.O?f.Z1.SharedStorage:f.Z1.IndexedDB:f.Z1.SharedStorage,(V===f.Z1.IndexedDB?E.getItem(f.yq.DBKey):E.readBlock("starfleetSession")).pipe((0,i.zg)(C=>{const l=(null==C?void 0:C.authProvider)===f.Tq?g.decode(C):null,o=new h(w,l,V);return(0,S.isEmpty)(l)?V===f.Z1.IndexedDB?o.writeToDb(E):o.writeTo(E):(0,e.of)(o)}))}setStorageType(E){this.storageType=E===f.Z1.IndexedDB?f.Z1.IndexedDB:f.Z1.SharedStorage}writeTo(E){return this.storageType===f.Z1.IndexedDB?this.writeToDb(E):E.writeBlock("starfleetSession",g.encode(this.data),!0).pipe((0,L.U)(()=>this))}writeToDb(E){return E.setItem(f.yq.DBKey,g.encode(this.data)).subscribe(),(0,e.of)(this)}hasClientToken(){return!(0,S.isNil)(this.data.clientToken)}isClientTokenValid(){return this.hasClientToken()&&this.data.clientTokenExpiry>Date.now()}hasClientTokenExpired(){return this.hasClientToken()&&this.data.clientTokenExpiry<=Date.now()}hasAccessToken(){return!(0,S.isNil)(this.data.accessToken)}isAccessTokenValid(){return this.hasClientToken()&&this.data.accessTokenExpiry>Date.now()}isIdTokenValid(){return 0===this.data.idTokenExpiry||this.hasClientToken()&&this.data.idTokenExpiry>Date.now()+this.idTokenRefreshUnderDuration}}},3310:(Dt,ct,t)=>{"use strict";t.d(ct,{C4:()=>x,L$:()=>P.L$,TR:()=>L,E9:()=>yt,DO:()=>e,yq:()=>P.yq,fH:()=>f,Z1:()=>P.Z1});class e{constructor(){}}var i=t(61699);let L=(()=>{var Nt;class le{}return(Nt=le).\u0275fac=function(bt){return new(bt||Nt)},Nt.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac}),le})();var f=function(Nt){return Nt.LoginAlreadyInProgress="Login Already In Progress",Nt.OpenOAuthUrlStarted="Open OAuth url started",Nt.OpenOAuthUrlCompleted="Open OAuth url completed",Nt.LoginStarted="Login Started",Nt.LoginCompleted="Login Completed",Nt.LoginRedirectCompleted="Login redirect completed",Nt.LoginAbortedByUser="Login Aborted: User Cancelled Login",Nt.LoginAbortedAlreadyLoggedIn="Login Aborted: Already Logged In",Nt.LoginFailed="Login Failed",Nt.LoginFailedNoRetry="Login Failed No Retry",Nt.LoginFailedToStart="Login failed to Start",Nt.LogoutStarted="Logout Started",Nt.LogoutCompleted="Logout Completed",Nt.LogoutFailed="Logout Failed",Nt.LoginInProgressNeedDisplayCode="Login Started Need Display Code",Nt.LoginNotReturningFromLoginPage="Login not returning from login page",Nt}(f||{}),x=function(Nt){return Nt.NOT_LOGGED_IN="Not Logged In, Must login",Nt.USER_OFFLINE="User is Offline",Nt.ALREADY_LOGGED_IN="Already logged in",Nt.AUTH_ERROR="Auth Error",Nt.AGE_RESTRICTED="age_restricted",Nt.ACCOUNT_LOCKED="account_locked",Nt.HTTP_START_FAILED="Http Server start failed",Nt.CLIENT_TOKEN_FAIL="Client token url access failed",Nt.OAUTH_DATA_EMPTY="JSON parsing fialed for OAUTH Data",Nt.STARFLEET_REDIRECT_FAIL="Failure on Starfleet Redirect Page",Nt.REDEEM_AUTHCODE_FAILED="Failuer in redeeming auth code",Nt.NONCE_VALIDATION_FAILED="Nonce validation failed",Nt.ACCOUNT_INACTIVE="account_inactive",Nt.LOGIN_CANCELLED_BY_USER="User pressed back from login page",Nt.LOGOUT_NOT_SUPPORTED="logout_not_supported",Nt.LOGOUT_GENERIC_ERROR="logout_generic_error",Nt.LOGIN_SILENT_LOGIN_FAILED="silent_login_failed",Nt}(x||{}),S=function(Nt){return Nt.Browser="Browser",Nt.Cef="Cef",Nt.Android="Android",Nt}(S||{}),u=t(26575),g=t(54860),h=t(49481),O=t(9681),E=t(33994),w=t(5717),p=t(38435),V=t(15746),c=t(87965),C=t(46939),l=t(47422),o=t(17627),n=t(58175),s=t(680),R=t(19979),_=t(85046),b=t(90786),I=t(47178),q=t(78943),a=t(13963),y=t(77869),M=t(1073),P=t(68221),K=t(30285),B=t(31157),j=t(91009);const tt="Starfleet",ot="KVStore",F=3e4,U=2,z=1e3;let Q=(()=>{var Nt;class le{constructor(bt,Vt,ut,re,Kt,jt,Wt){this.starfleetConfig=bt,this.endpointFactory=Vt,this.bridgeService=ut,this.systemInfoService=re,this.appConfig=Kt,this.distributedtracingUtilService=Wt;const{defaultRetries:oe=U,defaultTimeBetweenRetries:Qt=z,defaultTimeout:Pt=F}=bt,Tt={config:{maxRetries:oe,timeout:Pt,timeBetweenRetries:Qt}};this.endpointAccessToken=this.endpointFactory.createEndpoint(Tt),this.endpointClientToken=this.endpointFactory.createEndpoint(Tt),this.endpointUserInfo=this.endpointFactory.createEndpoint(Tt),this.endpointKVStore=this.endpointFactory.createEndpoint(Tt),this.logger=jt.getLogger("libraries/starfleet-http.service")}requestDeviceAuthorize(bt,Vt,ut,re){let Kt=(new g.LE).set("client_id",this.starfleetConfig.clientId).set("scope",this.starfleetConfig.scope).set("device_id",bt).set("display_name",Vt);ut&&(Kt=Kt.set("idp_id",ut));const jt={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:Kt.toString(),reportRequestData:{originalService:tt,serviceUseCase:"Device_Authorization"}},oe=this.endpointAccessToken.post(`${this.starfleetConfig.url}/device/authorize`,jt);return this.distributedtracingUtilService.handleHttpEndpointSpan(oe,jt,B.j1.StarfleetGetAccessToken,re)}getAccessToken(bt,Vt,ut){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing clientToken parameter"));if((0,I.isNil)(Vt)||0===Vt.trim().length)return(0,E._)(new Error("invalid or missing sub parameter"));const Kt={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new g.LE).set("grant_type","urn:ietf:params:oauth:grant-type:client_token").set("client_token",bt).set("client_id",this.starfleetConfig.clientId).set("sub",Vt).toString(),reportRequestData:{originalService:tt,serviceUseCase:"Get_Access_Token"}},jt=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,Kt);return this.distributedtracingUtilService.handleHttpEndpointSpan(jt,Kt,B.j1.StarfleetGetAccessToken,ut)}getAccessTokenFromDeviceCode(bt,Vt){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing clientToken parameter"));const re={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new g.LE).set("grant_type","urn:ietf:params:oauth:grant-type:device_code").set("device_code",bt).set("client_id",this.starfleetConfig.clientId).toString(),reportRequestData:{originalService:tt,serviceUseCase:"Get_Access_Token"}},Kt=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,re);return this.distributedtracingUtilService.handleHttpEndpointSpan(Kt,re,B.j1.StarfleetGetAccessToken,Vt)}getUserInfo(bt,Vt){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing accessToken parameter"));const ut={headers:this.getStarfleetAuthorizeHeaders(bt),reportRequestData:{originalService:tt,serviceUseCase:"Get_User_Info"}},re=this.endpointUserInfo.get(`${this.starfleetConfig.url}/userinfo`,ut);return this.distributedtracingUtilService.handleHttpEndpointSpan(re,ut,B.j1.StarfleetGetUserInfo,Vt)}getClientToken(bt,Vt){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing accessToken parameter"));const ut={headers:this.getStarfleetAuthorizeHeaders(bt),reportRequestData:{originalService:tt,serviceUseCase:"Get_Client_Token"}},re=this.endpointClientToken.get(`${this.starfleetConfig.url}/client_token`,ut);return this.distributedtracingUtilService.handleHttpEndpointSpan(re,ut,B.j1.StarfleetGetClientToken,Vt)}redeemAuthCode(bt,Vt,ut,re){var Kt,jt,Wt;if(null==bt||null===(Kt=bt.trim())||void 0===Kt||!Kt.length)return(0,E._)(new Error("invalid or missing auth code parameter"));if(null==Vt||null===(jt=Vt.trim())||void 0===jt||!jt.length)return(0,E._)(new Error("invalid or missing redirectUri parameter"));if(null==ut||null===(Wt=ut.trim())||void 0===Wt||!Wt.length)return(0,E._)(new Error("invalid or missing codeVerifier parameter"));const Qt={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new g.LE).set("grant_type","authorization_code").set("code",bt).set("redirect_uri",Vt).set("code_verifier",ut).toString(),reportRequestData:{originalService:tt,serviceUseCase:"Get_Access_Token"}},Pt=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,Qt);return this.distributedtracingUtilService.handleHttpEndpointSpan(Pt,Qt,B.j1.StarfleetGetAccessToken,re)}deleteClientTokens(bt,Vt){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing accessToken parameter"));const ut={params:{level:"client"},headers:this.getStarfleetAuthorizeHeaders(bt),reportRequestData:{originalService:tt,serviceUseCase:"Delete_Client_Data"}},re=this.endpointClientToken.delete(`${this.starfleetConfig.url}/assets/v2/Tokens`,ut);return this.distributedtracingUtilService.handleHttpEndpointSpan(re,ut,B.j1.StarfleetDeleteClientToken,Vt)}getStarfleetAuthorizeHeaders(bt){return{[K.n0.authorization]:`Bearer ${bt}`}}getClientData(bt,Vt,ut){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing idToken parameter"));const re={headers:this.getKVStoreAuthorizeHeaders(bt),reportRequestData:{originalService:ot,serviceUseCase:"Get_Client_Data"}},Kt=this.formatKeyValStoreUrl(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,Vt),jt=this.endpointKVStore.get(Kt,re);return this.distributedtracingUtilService.handleHttpEndpointSpan(jt,re,B.j1.KVStoreGetClientData,ut)}deleteClientData(bt,Vt,ut,re){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing idToken parameter"));const Kt={headers:this.getKVStoreAuthorizeHeaders(bt),reportRequestData:{originalService:ot,serviceUseCase:"Delete_Client_Data"}},jt=this.formatKeyValStoreUrl(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,[Vt],ut),Wt=this.endpointKVStore.delete(jt,Kt);return this.distributedtracingUtilService.handleHttpEndpointSpan(Wt,Kt,B.j1.KVStoreDeleteClientData,re)}setClientData(bt,Vt,ut,re){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing idToken parameter"));const Kt={headers:this.getKVStoreAuthorizeHeaders(bt),reportRequestData:{originalService:ot,serviceUseCase:"Set_Client_Data"},body:{key:Vt,value:ut}},jt=this.endpointKVStore.post(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,Kt);return this.distributedtracingUtilService.handleHttpEndpointSpan(jt,Kt,B.j1.KVStoreSetClientData,re)}appendClientData(bt,Vt,ut,re){if((0,I.isNil)(bt)||0===bt.trim().length)return(0,E._)(new Error("invalid or missing idToken parameter"));const Kt={headers:this.getKVStoreAuthorizeHeaders(bt),reportRequestData:{originalService:ot,serviceUseCase:"Set_Client_Data"},body:{key:Vt,value:ut}},jt=this.endpointKVStore.put(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,Kt);return this.distributedtracingUtilService.handleHttpEndpointSpan(jt,Kt,B.j1.KVStoreAppendClientData,re)}formatKeyValStoreUrl(bt,Vt,ut){if((0,I.isEmpty)(Vt))return bt;const re=[];return Vt.forEach(Kt=>{re.push(`key=${Kt}`)}),ut&&ut.forEach(Kt=>{re.push(`value=${Kt}`)}),encodeURI(`${bt}?${re.join("&")}`)}getKVStoreAuthorizeHeaders(bt){return{[K.n0.authorization]:`GFNJWT ${bt}`}}}return(Nt=le).\u0275fac=function(bt){return new(bt||Nt)(i.LFG(L),i.LFG(K.V9),i.LFG(a.dF),i.LFG(a.Ob),i.LFG(j.XL),i.LFG(a.ed),i.LFG(B.Dc))},Nt.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),le})();var dt=t(93190),X=t(14430),m=t(32484),Y=t(30502),D=t(99901),N=t(37717);const Z="oauth",A="GfnOauthUrlData";let d=(()=>{var Nt;class le{constructor(bt,Vt,ut,re){this.bridgeService=Vt,this.distributedTracingUtilService=re,this.isBrowserPlatform=!1,this.httpSubscription=null,this.authWindow=null,this.isSameTabLoginFeatureEnabled=!1,this.authSaveDataNotifySubject=new h.t(1),this.logger=ut.getLogger("starfleet/o-auth"),this.isBrowserPlatform=a.ng.isBrowserPlatform(),this.isSameTabLoginFeatureEnabled=bt.sameTabLogin}sameTabAuthStarted(){return this.authSaveDataNotifySubject.asObservable()}emitAuthStartNotification(bt){this.authSaveDataNotifySubject.next(bt)}oAuthLogin(bt,Vt,ut,re,Kt,jt,Wt,oe,Qt){if(this.isBrowserPlatform)return this.browserClientOAuthLogin(bt,Vt,ut,re,Kt,jt,Wt,oe,Qt);let Pt,Ut;if(Qt)Pt=(0,O.of)(Qt.url),Ut=Qt.observable;else{let Tt;[Tt,Ut]=this.startHttpServer(bt,Vt),Pt=Tt.pipe((0,l.U)(it=>bt.redirectUrl.replace("{portnumber}",it.toString())))}return Pt.pipe((0,c.zg)(Tt=>this.openOAuthUrl(bt,Vt,ut,re,Tt,Kt,null,null,oe)),(0,c.zg)(Tt=>Ut.pipe((0,l.U)(it=>this.handleHttpRequest(it)),(0,l.U)(it=>(it.oAuthUrl=Tt,it)))),(0,V.b)(Tt=>{this.closeHttpSpan(Tt,Tt.oAuthUrl.span,Tt.oAuthUrl.url)}))}browserClientOAuthLogin(bt,Vt,ut,re,Kt,jt,Wt,oe,Qt){const Pt=!!oe,Ut=this.openOAuthUrl(bt,Vt,ut,re,null,Kt,jt,Wt,oe);return this.isSameTabLoginFeatureEnabled&&!Pt?Ut.pipe((0,D.h)(null)):Ut.pipe((0,c.zg)(Tt=>{this.logger.info("Received response");const it=(0,dt.R)(window,"message");return(0,X.s)(()=>Pt,it.pipe((0,N.V)(bt.maxWaitTimeSSO)),it).pipe((0,l.U)(Mt=>({event:Mt,oAuthUrl:Tt})),(0,n.K)(Mt=>(this.logger.info("Error occurred during silent login:",Mt),(0,E._)(Mt))))}),(0,_.h)(Tt=>this.validateMessageEvent(Tt.event)),(0,l.U)(Tt=>{const it=this.getOAuthLoginData(Tt.event);if(!it)throw this.logger.error("oAuthLoing Data is null ",it),x.OAUTH_DATA_EMPTY;if(it.oAuthUrl=Tt.oAuthUrl,this.logger.info("Captured OAuth data via post message: ",it.error),this.closeHttpSpan(it,Tt.oAuthUrl.span,Tt.oAuthUrl.url),Pt)oe.silentLoginHelperInstance.closeIframe(it.oAuthUrl.ifrmEl);else if(null==Qt||!Qt.skipSuccessRedirect){const Mt=new URL(bt.onCompleteRedirectUrl);bt.redirectParams&&bt.redirectParams.forEach(zt=>{zt in it&&Mt.searchParams.append(zt,it[zt])}),Tt.oAuthUrl.oAuthWindow.location.href=Mt.href}return it}),(0,C.q)(1))}openOAuthUrl(bt,Vt,ut,re,Kt,jt,Wt,oe,Qt){const Pt=!!Qt;let Ut=(0,O.of)(null);return this.buildStarfleetUrl(bt,Vt,ut,Kt,jt,Qt).pipe((0,c.zg)(Tt=>{let it;const Mt=this.distributedTracingUtilService.startSpan(B.j1.StarfleetOAuth);return it=bt.addLogintracer?this.distributedTracingUtilService.getFormattedUrlForHttpPopupSpan(Tt.url,Mt):Tt.url,Wt?(this.authWindow=Wt,this.authWindow.location.href=it):!Pt&&this.isSameTabLoginFeatureEnabled?(oe||this.logger.error("returnLocationUrl Argument is empty ",this.isSameTabLoginFeatureEnabled,oe),this.logger.info("overwriting login URL"),this.emitAuthStartNotification(f.LoginStarted),this.authSaveDataNotifySubject.pipe((0,C.q)(1)).subscribe(zt=>{this.logger.info("Received notification for ",zt),Tt.returnUrl=oe,window.sessionStorage.setItem(A,JSON.stringify(Tt)),window.open(it,"_self")})):Pt&&Qt.silentLoginHelperInstance?Ut=Qt.silentLoginHelperInstance.openIframe(it):bt.useNativeAuthCommands?this.bridgeService.executeCommand(q.Gh.Common.Nativeauth.initiateLogIn,{url:it}).pipe((0,C.q)(1)).subscribe():this.authWindow=window.open(it,"_blank"),this.logger.info("login window opened with url",it),re&&re.next(f.OpenOAuthUrlCompleted),Tt.url=it,Tt.span=Mt,Tt.oAuthWindow=this.authWindow,Pt&&Qt.silentLoginHelperInstance?Ut.pipe((0,l.U)(zt=>(Tt.ifrmEl=zt,Tt))):(0,O.of)(Tt)}))}closeHttpSpan(bt,Vt,ut){bt&&bt.error?this.distributedTracingUtilService.closeHttpPopupSpan(Vt,!0,{errorCode:bt.error,errorText:bt.error,failedUrl:ut}):this.distributedTracingUtilService.closeHttpPopupSpan(Vt,!1,{errorCode:"",errorText:"",failedUrl:ut})}startHttpServer(bt,Vt,ut=[]){const re=new m.xQ,Kt=new m.xQ;return this.httpSubscription=this.bridgeService.executeCommand(q.Gh.Common.Httpserver.StartHttpServer,{ports:bt.portNumbers,redirectUrl:bt.onCompleteRedirectUrl,redirectParams:this.getRedirectParams(ut,bt.redirectParams,Vt)}).subscribe(jt=>{switch(this.logger.info("httpresponse recieved"),(0,I.get)(jt,"callbackReason")){case"serverCreated":re.next((0,I.get)(jt,"portNumber")),re.complete();break;case"httpRequest":Kt.next(jt.url),Kt.complete(),this.stopHttpServer();break;case"httpRequestAborted":Kt.error(x.LOGIN_CANCELLED_BY_USER),this.stopHttpServer()}},jt=>{this.logger.error("error starting httpserver",jt),re.error(x.HTTP_START_FAILED),Kt.error(x.HTTP_START_FAILED)}),[re,Kt]}getRedirectParams(bt,Vt,ut){const re=bt,Kt=[];return bt.forEach(jt=>Kt.push(jt.split("=")[0])),Vt.forEach(jt=>{jt.split("=")[0]in Kt||re.push(jt)}),re.push(`ui_locales=${ut}`),re}handleHttpRequest(bt){const Vt={};return bt&&new URL(bt).searchParams.forEach((re,Kt)=>{Vt[Kt]=re}),Vt}b64url(bt){return btoa(String.fromCharCode.apply(null,bt)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}buildStarfleetUrl(bt,Vt,ut,re,Kt,jt){let Wt=bt.useAuthorizationCodeFlow?P.sO:P.Z0;Wt=Wt.replace(":server",bt.url),Wt=Wt.replace(":clientId",bt.clientId),Wt=Wt.replace(":scope",encodeURIComponent(bt.scope));let oe="";oe=re||bt.redirectUrl,Wt=Wt.replace(":redirectUri",encodeURIComponent(oe)),Wt=Wt.replace(":locale",Vt),Wt=Wt.replace(":deviceId",ut);const Qt=this.generateNonce();if(Wt=Wt.replace(":nonce",Qt),jt){var Pt,Ut;if(null===(Pt=jt.ssoSharedPageData)||void 0===Pt||!Pt.idp_id||null===(Ut=jt.ssoSharedPageData)||void 0===Ut||!Ut.login_hint)return this.logger.error("Missing login hints for silent login"),(0,E._)("Missing login hints for silent login");jt.silentLoginHelperInstance&&(Wt=Wt.replace("select_account","none")),Wt+="&idp_id="+encodeURIComponent(jt.ssoSharedPageData.idp_id),Wt+="&login_hint="+encodeURIComponent(jt.ssoSharedPageData.login_hint)}let Tt=null,it=null;if(bt.useAuthorizationCodeFlow){const Mt=window.crypto.getRandomValues(new Uint8Array(32));it=this.b64url(Mt);const zt=(new TextEncoder).encode(it);Tt=(0,Y.D)(window.crypto.subtle.digest("SHA-256",zt)).pipe((0,l.U)(ft=>{const ve=this.b64url(new Uint8Array(ft));return Wt=Wt.replace(":codeChallenge",ve),Wt}))}else Tt=(0,O.of)(Wt);return Tt.pipe((0,l.U)(Mt=>(!(0,I.isNil)(Kt)&&!Wt.includes("idp_id")&&(Wt=Wt+"&idp_id="+Kt),{url:Wt,codeVerifier:it,redirectUrl:oe,nonce:Qt})))}generateNonce(){let bt=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ut){const re=(bt+16*Math.random())%16|0;return bt=Math.floor(bt/16),("x"===ut?re:3&re|8).toString(16)})}cancelOAuthLogin(bt,Vt,ut){let re=null,Kt=null;return ut?(this.stopHttpServer(),Kt=(0,O.of)("")):[re,Kt]=this.startHttpServer(bt,Vt,["error=cancelled"]),this.authWindow&&(this.authWindow.close(),this.authWindow=null),Kt.pipe((0,l.U)(jt=>this.handleHttpRequest(jt)))}stopHttpServer(){this.httpSubscription&&(this.httpSubscription.unsubscribe(),this.httpSubscription=null,this.bridgeService.executeCommand(q.Gh.Common.Httpserver.StopHttpServer).subscribe(bt=>this.logger.info("success stopping httpserver",bt),bt=>this.logger.error("error stopping httpserver",bt)))}validateMessageEvent(bt){if("no_localstorage_supported"===bt.data.key)throw this.logger.error("Starfleet Redirect page failure ",bt),x.STARFLEET_REDIRECT_FAIL;return!(!bt||!bt.data||bt.data.key!==Z||bt.origin!==window.location.origin)}getOAuthLoginData(bt){const Vt=this.isSameTabLoginFeatureEnabled?Z:(0,I.get)(bt,"data.key"),ut=window.localStorage.getItem(Vt);window.localStorage.removeItem(Vt),this.logger.info("Extracted key for reading oAuthLogin data ",Vt);try{return JSON.parse(ut).data}catch{return this.logger.error("malformed access code object",ut),null}}readAndValidateoAuthLoginData(){const bt=this.getOAuthLoginData();if(bt){const Vt=window.sessionStorage.getItem(A);window.sessionStorage.removeItem(A);try{bt.oAuthUrl=JSON.parse(Vt)}catch{this.logger.error("malformed access code object",Vt)}}return this.logger.info("Received oAuth Data on return from login ",bt),bt}}return(Nt=le).\u0275fac=function(bt){return new(bt||Nt)(i.LFG(L),i.LFG(a.dF),i.LFG(a.ed),i.LFG(B.Dc))},Nt.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),le})();var H=t(15665);const $="markLogoutInitiated",J="Logout Initiated",st="logoutNotSupportedUrl";let lt=(()=>{var Nt;class le extends e{constructor(bt,Vt,ut,re,Kt,jt,Wt,oe,Qt,Pt,Ut,Tt){var it,Mt;super(),this.config=bt,this.starfleetHttpService=ut,this.oAuthService=re,this.sharedStorage=Kt,this.localeService=jt,this.networkStatus=oe,this.systemInfoService=Qt,this.errorHandler=Pt,this.bridgeService=Ut,this.dbService=Tt,this.storageType=P.Z1.SharedStorage,this.SAFE_RETRY_COUNT=5,this.initSub=new h.t(1),this.authStatusSubject=new h.t(1),this.loginSubscription=null,this.deviceIdSub=null,this.useCachedUser=!1,this.firstRefreshDone=!1,this.errorInfo={error_code:"",error_description:"",error_uri:""},this.isSessionRefreshable=!0,this.isNextClientTokenRefreshAllowed=!0,this.deviceDisplayCode=null,this.skipOpeningLogoutUrl=!1,this.isSameTabLoginFeatureEnabled=!1,this.idTokenRefreshUnderDuration=0,this.logger=Vt.getLogger("starfleet/desktop"),this.logger.info("constructing"),this.useDeviceAuthLogin=!(null==bt||!bt.useDeviceAuthLogin),this.skipOpeningLogoutUrl=!(null==bt||!bt.skipOpeningLogoutUrl),this.starfleetUserSubscription=Wt.createStream(this.getCurrentUser.bind(this)),this.isSameTabLoginFeatureEnabled=this.config.sameTabLogin,this.idTokenRefreshUnderDuration=null!==(it=this.config.idTokenRefreshUnderDuration)&&void 0!==it?it:0,this.storageType=null!==(Mt=this.config.storageType)&&void 0!==Mt?Mt:P.Z1.SharedStorage,this.idTokenRefreshUnderDuration<0&&(this.idTokenRefreshUnderDuration=0),this.storageType===P.Z1.IndexedDB&&(this.globalStore=this.dbService.getGlobalStore(P.yq.DBName))}getAuthStatus(){return this.authStatusSubject.asObservable()}initialize(bt=!1,Vt=!1,ut){this.logger.info(`initializing session: ${bt}, user: ${Vt}, id_token?: ${!!ut}`),this.useCachedUser=Vt;const re=this.oAuthService.readAndValidateoAuthLoginData();re?this.attemptLoginAtInit(re):this.loadSessionFromStorage().pipe((0,V.b)(()=>this.initSub.next(!0)),(0,c.zg)(()=>this.getOrRefreshSession(!bt,!0,ut))).subscribe(()=>this.logger.info("initialized success")),this.checkIfReturnFromLogout(),this.deviceIdSub=this.getDeviceId(),this.deviceIdSub.subscribe(),this.accountStatusChanged.pipe((0,C.q)(1)).subscribe()}getDeviceId(){return this.systemInfoService.getSystemInfo([a.l7.DeviceId]).pipe((0,l.U)(bt=>bt.DeviceId),(0,o.P)(),(0,n.K)(bt=>(this.logger.error("failed to get deviceId",bt),(0,O.of)(""))),(0,s.d)())}handleLoginError(bt){switch(bt){case x.ALREADY_LOGGED_IN:this.logger.info("user already logged in"),this.loginSubject.next(f.LoginAbortedAlreadyLoggedIn),this.loginSubject.complete();break;case x.AUTH_ERROR:this.logger.info("Auth error in login"),this.loginSubject.next(f.LoginFailed),this.loginSubject.complete();break;case x.ACCOUNT_LOCKED:case x.AGE_RESTRICTED:this.logger.info("Auth error in login: ",bt),this.loginSubject.next(f.LoginFailedNoRetry),this.loginSubject.complete();break;case x.HTTP_START_FAILED:this.logger.info("Http Start in error Login"),this.loginSubject.next(f.LoginFailedToStart),this.loginSubject.complete();break;case x.CLIENT_TOKEN_FAIL:this.logger.info("Client token url access failed"),this.errorInfo.error_description=x.CLIENT_TOKEN_FAIL,this.loginSubject.next(f.LoginFailed),this.loginSubject.complete();break;case x.OAUTH_DATA_EMPTY:this.logger.info("JSON parsing fialed for OAUTH Data"),this.errorInfo.error_description=x.OAUTH_DATA_EMPTY,this.loginSubject.next(f.LoginFailed),this.loginSubject.complete();break;case x.STARFLEET_REDIRECT_FAIL:this.logger.info("JSON parsing fialed for OAUTH Data"),this.errorInfo.error_description=x.STARFLEET_REDIRECT_FAIL,this.loginSubject.next(f.LoginFailed),this.loginSubject.complete();break;case x.LOGIN_CANCELLED_BY_USER:this.logger.info("canceled by user"),this.errorInfo.error_description=x.LOGIN_CANCELLED_BY_USER,this.loginSubject.next(f.LoginAbortedByUser),this.loginSubject.complete();break;default:this.logger.info("unknown error in login",bt),this.loginSubject.next(f.LoginFailed),this.loginSubject.complete()}}cancelLogin(bt=!0){return this.logger.info("cancelling login"),this.loginSubject&&!1===this.loginSubject.isStopped&&(this.loginSubject.next(f.LoginAbortedByUser),this.loginSubject.complete()),this.loginSubscription&&(this.loginSubscription.unsubscribe(),this.loginSubscription=null),this.oAuthService.cancelOAuthLogin(this.config,this.localeService.getLocale(),bt)}sameTabAuthStarted(){return this.oAuthService.sameTabAuthStarted()}login(bt){return this.loginSubject&&!this.loginSubject.isStopped?(0,E._)(f.LoginAlreadyInProgress):(this.loginSubject=new h.t(1),this.logger.info("login started"),this.loginSubject.next(f.LoginStarted),this.loginSubscription=this.getOrRefreshSession().pipe((0,c.zg)(Vt=>!bt.force&&Vt.isAccessTokenValid()?(0,E._)(x.ALREADY_LOGGED_IN):this.deviceIdSub),(0,c.zg)(Vt=>this.useDeviceAuthLogin?(bt.deviceName||(this.logger.error("Missing device name in off-device login flow, falling back to default value"),bt.deviceName="unknown"),this.performDeviceLogin(Vt,bt.deviceName,bt.idpId)):(this.loginSubject.next(f.OpenOAuthUrlStarted),this.oAuthService.oAuthLogin(this.config,this.localeService.getLocale(),Vt,this.loginSubject,bt.idpId,bt.preCreatedWindow,bt.returnLocationUrl,bt.silentLoginInfo,bt.redirect))),(0,o.P)(),(0,c.zg)(Vt=>!Vt||(0,I.isEmpty)(Vt)?(this.logger.info("received empty oauth login data ",this.isSameTabLoginFeatureEnabled),(0,O.of)(null)):(this.loginSubject.next(f.LoginRedirectCompleted),this.logger.info("OAuth login complete, starting to retrive token"),this.loginSubject.next(f.LoginStarted),this.attemptLogin(Vt))),(0,c.zg)(Vt=>Vt?this.refreshUser():(0,O.of)(Vt)),(0,V.b)(Vt=>{Vt?this.loginSubject.next(f.LoginCompleted):this.isSameTabLoginFeatureEnabled||this.logger.error("session is null"),this.loginSubject.complete()})).subscribe(w.Z,this.handleLoginError.bind(this)),this.loginSubject.asObservable())}updatePiplConfigUrls(bt){this.logger.info("Updating PIPL config urls: ",bt),Object.assign(this.config,bt)}checkIfReturnFromLogout(){let Vt,bt=null;if(window.sessionStorage.getItem($)===J){window.sessionStorage.removeItem($),this.logger.info("Returning from logout");const ut=new URL(window.location.href).searchParams.get("error");Vt=window.sessionStorage.getItem(st),window.sessionStorage.removeItem(st),ut&&(this.logger.info("Logout failed with error ",ut),bt=ut===x.LOGOUT_NOT_SUPPORTED?x.LOGOUT_NOT_SUPPORTED:x.LOGOUT_GENERIC_ERROR),this.authStatusSubject.next({authReturnState:f.LogoutCompleted,error:bt,logoutNotSupportedRedirectUrl:Vt})}else this.logger.info("Not returning from logout")}completeLoginAtInit(bt,Vt){bt===f.LoginFailed&&(this.session=new M.z(this.idTokenRefreshUnderDuration,null,this.storageType)),this.initSub.next(!0),this.authStatusSubject.next({authReturnState:bt,error:Vt}),this.refreshUser(),this.loginSubject.next(bt),this.loginSubject.complete()}attemptLoginAtInit(bt){if(this.loginSubject&&!this.loginSubject.isStopped)return this.logger.info("Login already in progress"),(0,O.of)(f.LoginAlreadyInProgress);this.loginSubject=new h.t(1),this.logger.info("OAuth login complete, starting to retrive token"),this.loginSubject.next(f.LoginStarted),this.attemptLogin(bt).pipe((0,V.b)(Vt=>{this.completeLoginAtInit(f.LoginCompleted,null)},Vt=>{this.completeLoginAtInit(f.LoginFailed,Vt)})).subscribe()}retryDeviceLogin(bt,Vt,ut){return ut.pipe((0,c.zg)((re,Kt)=>{var jt,Wt;const oe=Kt+1;return console.log("attempt number: ",oe),oe>bt?(0,E._)(re):"authorization_pending"===(null==re||null===(jt=re.rawResponse)||void 0===jt||null===(jt=jt.error)||void 0===jt?void 0:jt.error)?(0,p.H)(1e3*Vt):"slow_down"===(null==re||null===(Wt=re.rawResponse)||void 0===Wt||null===(Wt=Wt.error)||void 0===Wt?void 0:Wt.error)?(0,p.H)(1e3*(Vt+5)):(0,E._)(re)}))}waitForDeviceLogin(bt){const Vt=Math.max(1,Math.floor(bt.expires_in/bt.interval)-1);return(0,p.H)(1e3*bt.interval).pipe((0,c.zg)(()=>this.starfleetHttpService.getAccessTokenFromDeviceCode(bt.device_code)),(0,R.a)(ut=>this.retryDeviceLogin(Vt,bt.interval,ut)),(0,l.U)(ut=>({error:"",error_description:"",access_token:ut.access_token,token_type:ut.token_type,expires_in:ut.expires_in,id_token:ut.id_token})))}performDeviceLogin(bt,Vt,ut){return this.starfleetHttpService.requestDeviceAuthorize(bt,Vt,ut).pipe((0,o.P)(),(0,c.zg)(re=>(this.deviceDisplayCode={url:re.verification_uri,url_complete:re.verification_uri_complete,user_code:re.user_code},this.loginSubject.next(f.LoginInProgressNeedDisplayCode),(!re.interval||re.interval<=0)&&(re.interval=5),this.waitForDeviceLogin(re))))}getStarfleetLogoutURL(bt,Vt){return P.FI.replace(":server",this.config.url).replace(":idToken",bt).replace(":locale",Vt)}getStarfleetLogoutURLSameTab(bt,Vt,ut){return P.zs.replace(":server",this.config.logoutUrl).replace(":idToken",bt).replace(":locale",Vt).replace(":redirect_uri",ut)}saveRequiredDataAndOpenLogoutUrl(bt,Vt,ut){return this.oAuthService.sameTabAuthStarted().subscribe(re=>{this.logger.info("Received notification for ",re),window.sessionStorage.setItem($,J),window.sessionStorage.setItem(st,Vt),window.open(this.getStarfleetLogoutURLSameTab(bt,this.localeService.getLocale(),ut),"_self")}),this.oAuthService.emitAuthStartNotification(f.LogoutStarted),(0,O.of)(!0)}logout(bt,Vt,ut,re=!1){var Kt;if(!1===this.session.isClientTokenValid())return this.logger.info("already logged out, completing the logout process"),(0,O.of)(f.LogoutCompleted);if(this.logoutSubject&&!this.logoutSubject.isStopped)return this.logger.info("logout already in progress"),this.logoutSubject.asObservable();this.logoutSubject=new h.t(1),this.logger.info("Logging out user."),this.logoutSubject.next(f.LogoutStarted);const jt=null===(Kt=this.session)||void 0===Kt||null===(Kt=Kt.data)||void 0===Kt?void 0:Kt.idToken;if(!(bt||this.skipOpeningLogoutUrl||this.isSameTabLoginFeatureEnabled||re)){const Qt=this.getStarfleetLogoutURL(jt,this.localeService.getLocale());this.config.useNativeAuthCommands?this.bridgeService.executeCommand(q.Gh.Common.Nativeauth.initiateLogOut,{url:Qt}).pipe((0,C.q)(1)).subscribe():window.open(Qt,"_blank")}return this.deleteClientToken(!1,bt).pipe((0,n.K)(Qt=>(this.logger.error("delete token failed with error: ",Qt),(0,O.of)(null))),(0,c.zg)(()=>this.storeSession(new M.z(this.idTokenRefreshUnderDuration,null,this.storageType))),(0,c.zg)(()=>this.skipOpeningLogoutUrl||re||!this.isSameTabLoginFeatureEnabled?this.refreshUser():this.saveRequiredDataAndOpenLogoutUrl(jt,Vt,ut))).subscribe(()=>{this.logger.info("log out complete."),this.logoutSubject.next(f.LogoutCompleted),this.logoutSubject.complete()},Qt=>{this.logger.error("log out failed with error:",Qt),this.logoutSubject.next(f.LogoutFailed),this.logoutSubject.complete(),this.skipOpeningLogoutUrl||re||!this.isSameTabLoginFeatureEnabled?this.refreshUser():this.saveRequiredDataAndOpenLogoutUrl(jt,Vt,ut)}),this.logoutSubject.asObservable()}deleteClientToken(bt=!1,Vt){return(Vt?(0,O.of)(Vt):this.getAccessToken(bt)).pipe((0,c.zg)(ut=>this.starfleetHttpService.deleteClientTokens(ut)),(0,n.K)(ut=>(this.logger.error("Got error while deleting client token.",ut),this.handleAuthError(ut,bt,this.deleteClientToken.bind(this)))))}refreshUser(){return this.firstRefreshDone=!0,this.starfleetUserSubscription.refresh()}get accountStatusChanged(){let bt;return this.starfleetUserSubscription.get$().pipe((0,_.h)(Vt=>{var ut,re,Kt,jt,Wt,oe;return(0,I.isNil)(bt)||!(0,I.isEqual)(bt.sub,Vt.sub)||!(0,I.isEqual)(null===(ut=bt.consent)||void 0===ut?void 0:ut.trackBehavioralData,null===(re=Vt.consent)||void 0===re?void 0:re.trackBehavioralData)||!(0,I.isEqual)(null===(Kt=bt.consent)||void 0===Kt?void 0:Kt.trackTechnicalData,null===(jt=Vt.consent)||void 0===jt?void 0:jt.trackTechnicalData)||!(0,I.isEqual)(null===(Wt=bt.consent)||void 0===Wt?void 0:Wt.targetedAdsOptIn,null===(oe=Vt.consent)||void 0===oe?void 0:oe.targetedAdsOptIn)||!(0,I.isNil)(null==Vt?void 0:Vt.age)}),(0,V.b)(Vt=>{bt=Vt}))}getStarfleetSession(){return this.sessionSubject.asObservable()}get isUserLoggedIn(){return this.initSub.pipe((0,l.U)(()=>this.session.isClientTokenValid()))}attemptLogin(bt){if(this.errorInfo.error_code=bt.error?bt.error:"",this.errorInfo.error_description=bt.error_description?bt.error_description:"",this.errorInfo.error_uri=bt.error_uri?bt.error_uri:"",bt.error||bt.error_description)return this.logger.error("failed to login user with error",bt.error,bt.error_description),(0,E._)(bt.error);let Vt=null;return Vt=bt.code&&bt.oAuthUrl.codeVerifier?this.starfleetHttpService.redeemAuthCode(bt.code,bt.oAuthUrl.redirectUrl,bt.oAuthUrl.codeVerifier).pipe((0,l.U)(ut=>(bt.access_token=ut.access_token,bt.id_token=ut.id_token,bt.expires_in=ut.expires_in,bt.token_type=ut.token_type,bt)),(0,n.K)(ut=>{throw this.logger.error("error in redeeming auth code",ut),x.REDEEM_AUTHCODE_FAILED})):(0,O.of)(bt),Vt.pipe((0,c.zg)(ut=>this.completeLogin(bt)))}validateRedirectResponse(bt){if(this.useDeviceAuthLogin)return!0;const Vt=this.parseIdToken(bt.id_token);if(Vt&&Vt.nonce!==bt.oAuthUrl.nonce)throw x.NONCE_VALIDATION_FAILED;return!0}completeLogin(bt){const Vt=new M.z(this.idTokenRefreshUnderDuration,null,this.storageType);return this.starfleetHttpService.getClientToken(bt.access_token).pipe((0,n.K)(ut=>{throw this.logger.error("Client Token url failure ",ut),x.CLIENT_TOKEN_FAIL}),(0,l.U)(ut=>(Vt.data.accessToken=bt.access_token,Vt.data.accessTokenExpiry=Date.now()+1e3*bt.expires_in,Vt.data.idToken=bt.id_token,Vt.data.clientToken=ut.client_token,Vt.data.clientTokenExpiry=Date.now()+1e3*ut.expires_in,Vt.data.clientTokenExpiryLength=1e3*ut.expires_in,Vt.data.idTokenExpiry=this.getIdTokenExpiry(Vt.data.idToken),this.session=Vt,this.session)))}syncSession(bt){var Vt;return null!=bt&&bt.isClientTokenValid()?null!==(Vt=this.session)&&void 0!==Vt&&Vt.isClientTokenValid()?this.updateUserTokens(bt):this.migrateUser(bt):(0,O.of)(this.session)}migrateUser(bt){return this.session=bt,this.logger.info("migrateUser"),this.refreshUser().pipe((0,l.U)(Vt=>this.session))}updateUserTokens(bt){return this.session.data.idTokenExpiry=bt.data.idTokenExpiry,this.session.data.clientTokenExpiry=bt.data.clientTokenExpiry,this.session.data.accessTokenExpiry=bt.data.accessTokenExpiry,this.session.data.idToken=bt.data.idToken,this.session.data.clientToken=bt.data.clientToken,this.session.data.accessToken=bt.data.accessToken,(0,O.of)(this.session)}getIdTokenExpiry(bt){let Vt=0;const ut=this.parseIdToken(bt);return ut&&(Vt=Date.now()+1e3*(+ut.exp-+ut.iat)),Vt}parseIdToken(bt){try{const ut=bt.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(ut))))}catch(Vt){return this.errorHandler.handleError(new Error(`idToken parse failed with error '${Vt}'`)),this.logger.error("failed to parse idToken",Vt),null}}isClientTokenRefreshRequired(){let bt=!1;if(this.session.isClientTokenValid()){const Vt=this.session.data.clientTokenExpiry-Date.now();bt=this.session.data.clientTokenExpiryLength?Vt<this.config.clientTokenRefreshDurationInPercentage/100*this.session.data.clientTokenExpiryLength:Vt<this.config.clientTokenRefreshDuration}return bt}fetchSession(bt,Vt){return this.starfleetHttpService.getAccessToken(this.session.data.clientToken,this.session.data.user.sub,Vt).pipe((0,c.zg)(ut=>(this.session.data.accessToken=ut.access_token,this.session.data.clientToken=ut.client_token,this.session.data.idToken=ut.id_token,this.session.data.accessTokenExpiry=Date.now()+1e3*ut.expires_in,this.session.data.idTokenExpiry=this.getIdTokenExpiry(this.session.data.idToken),this.isSessionRefreshable=!0,(0,O.of)(this.session))),(0,c.zg)(()=>{const ut=this.session.data.clientTokenExpiry-Date.now();return this.isClientTokenRefreshRequired()&&this.isNextClientTokenRefreshAllowed?(this.logger.info("Refreshing Client Token"),this.starfleetHttpService.getClientToken(this.session.data.accessToken,Vt).pipe((0,l.U)(re=>(this.logger.info("Client Token refreshed Successfully"),this.session.data.clientToken=re.client_token,this.session.data.clientTokenExpiry=Date.now()+1e3*re.expires_in,this.session.data.clientTokenExpiryLength=1e3*re.expires_in,this.isNextClientTokenRefreshAllowed=ut<this.session.data.clientTokenExpiryLength,this.session)))):(0,O.of)(this.session)}),(0,n.K)(ut=>(this.logger.info("Error refreshing access token with starfleet:",ut),(0,y.f0)(ut)?(this.logger.info("The session refresh failed due to timeout or connection issues. So, will not log out the user"),(0,O.of)(this.session)):(this.logger.info("Error thrown from server. Hence, logging the user out"),this.storeSession(new M.z(this.idTokenRefreshUnderDuration,null,this.storageType))))),(0,b.x)(()=>{bt||this.refreshUser()}))}getCurrentUser(bt=!1){return this.getOrRefreshSession(bt,!0).pipe((0,c.zg)(Vt=>(this.logger.info("Getting current user"),this.useCachedUser?(this.useCachedUser=!1,(0,E._)("using cached user at initialize")):!this.networkStatus.isOnline&&Vt.isClientTokenValid()?(this.logger.info("User is offline and session has client token. So returning cached user"),(0,E._)(x.USER_OFFLINE)):Vt.isAccessTokenValid()?Vt.data.user&&!this.firstRefreshDone?(this.firstRefreshDone=!0,this.refreshUser(),(0,E._)("using deferred refresh for user")):this.starfleetHttpService.getUserInfo(Vt.data.accessToken).pipe((0,l.U)(ut=>(ut.isNetworkCall=!0,ut))):(0,E._)(x.NOT_LOGGED_IN))),(0,c.zg)(Vt=>(Vt.isAuthenticated=!0,this.session.data.user=Vt,this.storeSession(this.session))),(0,l.U)(()=>this.session.data.user),(0,n.K)(Vt=>this.handleAuthError(Vt,bt,this.getCurrentUser.bind(this))),(0,n.K)(Vt=>(this.logger.error("Error fetching userInfo from starfleet:",Vt.toString()),(0,y.f0)(Vt)&&this.logger.info("UserInfo refresh failed due to timeout or connection issue"),(0,O.of)(this.session.data.user))))}createNewSessionFromIdToken(bt){return this.getOrRefreshSession(!1,!1,bt).pipe((0,V.b)(()=>this.refreshUser()))}getOrRefreshSession(bt,Vt,ut,re){return this.sessionSubject&&!1===this.sessionSubject.isStopped||(this.sessionSubject=new h.t(1),this.initSub.pipe((0,c.zg)(()=>{const Kt=this.session.isClientTokenValid();return(bt||!this.session.isAccessTokenValid())&&Kt&&this.networkStatus.isOnline&&this.isSessionRefreshable?(this.logger.info("refreshing session. Force Refresh: ",bt),this.fetchSession(Vt,re)):Kt?(this.logger.info("Using existing client token "),(0,O.of)(this.session)):ut&&0!==ut.length?this.createSessionFromIdToken(ut):(this.logger.info(`Loading session from  ${this.storageType}`),this.loadSessionFromStorage())})).subscribe(Kt=>{this.sessionSubject.next(Kt),this.sessionSubject.complete()},Kt=>{this.sessionSubject.error(Kt),this.logger.error("failed to refersh session",Kt)})),this.sessionSubject.asObservable()}createSessionFromIdToken(bt){let Vt;this.logger.info("Building session from sdk id token");try{let re=bt.split(".")[1];re=JSON.parse(window.atob(re)),Vt={sub:re.sub,idp_name:re.idp_name,idp_id:re.idp_id,external_id:re.external_id,preferred_username:re.preferred_username,consent:re.consent,isAuthenticated:!0}}catch{return this.logger.error("Failed to parse id token to get expiry"),this.logger.info(`Loading session from  ${this.storageType}`),this.loadSessionFromStorage()}const ut={clientToken:"This is required for the session object to validate, but is not used",accessToken:"This is required for the session object to validate, but is not used",idToken:bt,user:Vt,clientTokenExpiry:Date.now()+1728e5,accessTokenExpiry:Date.now()+1728e5,idTokenExpiry:this.getIdTokenExpiry(bt)};return this.isSessionRefreshable=!1,this.session=new M.z(this.idTokenRefreshUnderDuration,ut,this.storageType),(0,O.of)(this.session)}loadSessionFromStorage(){return M.z.loadFrom(this.storageType===P.Z1.SharedStorage?this.sharedStorage:this.globalStore,this.idTokenRefreshUnderDuration).pipe((0,c.zg)(Vt=>(this.logger.info(`Loaded session successfully from ${this.storageType}`),this.session=Vt,Vt.isClientTokenValid()?(0,O.of)(Vt):(this.logger.info("Stored session does not have user token. Hence, logging the user out"),this.session=new M.z(this.idTokenRefreshUnderDuration,null,this.storageType),this.isSessionRefreshable=!0,(0,O.of)(this.session)))),(0,n.K)(Vt=>(this.logger.info(`Error loading session from ${this.storageType}. Hence logging out the user.`,Vt),this.session=new M.z(this.idTokenRefreshUnderDuration,null,this.storageType),(0,O.of)(this.session))))}storeSession(bt){var Vt,ut;return this.session=(0,I.cloneDeep)(bt),null===(Vt=bt.data.user)||void 0===Vt||delete Vt.age,null===(ut=bt.data.user)||void 0===ut||delete ut.isNetworkCall,bt.writeTo(this.storageType===P.Z1.SharedStorage?this.sharedStorage:this.globalStore).pipe((0,c.zg)(()=>(0,O.of)(bt)),(0,n.K)(Kt=>(this.logger.info(`Error saving session to ${this.storageType}:`,Kt),(0,E._)(Kt))))}getAuthToken(bt,Vt){return this.initSub.pipe((0,c.zg)(ut=>bt||!this.session.isIdTokenValid()?this.session.hasClientTokenExpired()?(this.refreshUser(),(0,O.of)(new M.z(this.idTokenRefreshUnderDuration,null,this.storageType))):this.getOrRefreshSession(!0,null,null,Vt):(0,O.of)(this.session)),(0,l.U)(ut=>ut.data.idToken))}getAccessToken(bt,Vt){return this.initSub.pipe((0,c.zg)(ut=>bt||!this.session.isAccessTokenValid()?this.getOrRefreshSession(!0,null,null,Vt):(0,O.of)(this.session)),(0,l.U)(ut=>ut.data.accessToken))}getClientData(bt,Vt,ut=!1){return this.getAuthToken(ut,Vt).pipe((0,c.zg)(re=>this.starfleetHttpService.getClientData(re,bt,Vt)),(0,n.K)(re=>this.handleAuthError(re,ut,this.getClientData.bind(this),bt)))}setClientData(bt,Vt,ut,re=!1){return this.getAuthToken(re,ut).pipe((0,c.zg)(Kt=>this.starfleetHttpService.setClientData(Kt,bt,Vt,ut)),(0,n.K)(Kt=>this.handleAuthError(Kt,re,this.setClientData.bind(this),bt,Vt)))}appendClientData(bt,Vt,ut,re=!1){return this.getAuthToken(re,ut).pipe((0,c.zg)(Kt=>this.starfleetHttpService.appendClientData(Kt,bt,Vt,ut)),(0,n.K)(Kt=>this.handleAuthError(Kt,re,this.appendClientData.bind(this),bt,Vt)))}deleteClientData(bt,Vt,ut,re=!1){return this.getAuthToken(re,ut).pipe((0,c.zg)(Kt=>this.starfleetHttpService.deleteClientData(Kt,bt,Vt,ut)),(0,n.K)(Kt=>this.handleAuthError(Kt,re,this.deleteClientData.bind(this),bt)))}handleAuthError(bt,Vt,ut,...re){return 401===bt.status?Vt?(0,E._)(x.NOT_LOGGED_IN):(this.logger.info("refershing auth token for fn: ",null==ut?void 0:ut.name),re.push(!0),ut(...re)):(0,E._)(bt)}get lastError(){return this.errorInfo}getDeviceDisplayCode(){return this.deviceDisplayCode}cancel(){var bt,Vt;!1===(null===(bt=this.loginSubject)||void 0===bt?void 0:bt.isStopped)&&this.loginSubject.complete(),null===(Vt=this.loginSubscription)||void 0===Vt||Vt.unsubscribe(),this.loginSubscription=null}}return(Nt=le).\u0275fac=function(bt){return new(bt||Nt)(i.LFG(L),i.LFG(a.ed),i.LFG(Q),i.LFG(d),i.LFG(H.OA),i.LFG(a.OL),i.LFG(y.O_),i.LFG(a._J),i.LFG(a.Ob),i.LFG(i.qLn),i.LFG(a.dF),i.LFG(a.MC))},Nt.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),le})();const vt={provide:e,useFactory:function gt(Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe,Qt){switch(Nt.platformType){case S.Browser:case S.Cef:return Nt.redirectUrl=Nt.redirectUrlIsRelative?window.location.origin+Nt.redirectUrl:Nt.redirectUrl,new lt(Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe,Qt);default:le.getLogger("starfleetServiceCreator").error("Cannot create StarfleetService for unknown platform type: "+Nt.platformType)}},deps:[L,a.ed,Q,d,H.OA,a.OL,y.O_,a._J,a.Ob,i.qLn,a.dF,a.MC]};var k=t(33910);const pt=[k.Cq];let yt=(()=>{var Nt;class le{static configure(bt){return{ngModule:le,providers:[{provide:L,useValue:bt},vt,d]}}}return(Nt=le).\u0275fac=function(bt){return new(bt||Nt)},Nt.\u0275mod=i.oAB({type:Nt}),Nt.\u0275inj=i.cJS({providers:[vt],imports:[g.JF,u.ez,pt,k.Cq]}),le})();t(14955)},37800:(Dt,ct,t)=>{"use strict";t.d(ct,{P:()=>V});var e=t(61699),i=t(90193),L=t(13963),f=t(26575),x=t(45356),S=t(47520),u=t(33910),g=t(10481),h=t(79329);const O=["surveyFrame"];function E(c,C){if(1&c){const l=e.EpF();e.TgZ(0,"div",4)(1,"iframe",5,6),e.NdJ("load",function(n){e.CHM(l);const s=e.oxw();return e.KtG(s.onLoad(n))})("error",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.onError())}),e.qZA()()}if(2&c){const l=e.oxw();e.Q6J("hidden",l.loadingFrame)("ngStyle",l.nvContainerSize),e.xp6(1),e.Q6J("src",l.getSource(),e.uOi)("ngStyle",l.nvSize)}}function w(c,C){if(1&c){const l=e.EpF();e.TgZ(0,"div")(1,"nv-hig-dialog",7),e.NdJ("primaryButtonClick",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.dismiss())}),e.qZA()()}if(2&c){const l=e.oxw();e.xp6(1),e.Q6J("data",l.dialogData)}}function p(c,C){if(1&c&&(e.TgZ(0,"div",8)(1,"div"),e._UZ(2,"mat-progress-spinner",9),e.qZA()()),2&c){const l=e.oxw();e.Q6J("ngStyle",l.nvContainerSize),e.xp6(2),e.Q6J("diameter",35)}}let V=(()=>{var c;class C{get state(){return this._state}set state(o){this.logger.info("state updated:",o),this._state=o}constructor(o,n){this.networkStatusService=n,this.continue=new e.vpe,this.nvOnClose=new e.vpe,this.nvOnSend=new e.vpe,this.loadingFrame=!0,this.firstLoad=!0,this.isLoading=!1,this.loadEvent=null,this._state=i.Nf.SurveyMain,this.errorText="",this.errorTitle="",this.buttonText="",this.dialogData={},this.logger=o.getLogger("survey-feedback/surveyComponent"),this.logger.info("Attempting to open survey form")}ngOnInit(){this.isLoading=!1,this.loadEvent=null,this.activateOnlineSubscription(),this.isSurveyError&&(this.loadingFrame=!1),this.errorTitle=this.isSurveyError?"feedback.feedbackErrorTitle":"",this.errorText=this.isSurveyError?"feedback.feedbackErrorMessage":"feedback.problemConnectingToNvidia",this.buttonText="feedback.dismiss",this.dialogData={headerText:{text:this.errorTitle},bodyText:{text:this.errorText},primaryButton:{text:this.buttonText}}}onKeyUp(){this.dismiss()}getSource(){return this.nvSource}onError(){this.state=i.Nf.SurveyError,this.loadingFrame=!1,this.firstLoad=!1}dismiss(){this.loadEvent&&!this.isSurveyError&&!this.loadingFrame&&this.nvOnClose.emit("escape"),this.nvOnClose.emit("closed")}onLoad(o){this.loadEvent=o,this.isLoading=!0,this.loadEvent&&this.loadEvent.target&&this.loadEvent.target.src&&(this.state!==i.Nf.SurveyMain&&(this.state=i.Nf.SurveyMain),this.firstLoad=!1,this.logger.info("survey form opened"),this.loadingFrame=!1,setTimeout(()=>{var n;return null===(n=this.surveyFrame)||void 0===n?void 0:n.nativeElement.focus()}),this.isSurveyError&&this.onError())}eventListener(o){switch(o.data){case"surveyengine.error":this.logger.error("invalid survey response",o.data),this.checkIfFailSilently(),this.onError();break;case"surveyengine.nosurvey":case"surveyengine.cancel":this.dismiss();break;case"surveyengine.thanks":this.nvOnSend.emit("sent")}}checkIfFailSilently(){this.failSilently&&this.firstLoad&&(this.firstLoad=!1,this.logger.error("failing silently .."),this.continue.emit("continue"))}activateOnlineSubscription(){this.onlineSubscription=this.networkStatusService.onlineStatusChanged.subscribe(o=>{this.state!==i.Nf.SurveyMain&&(this.state=i.Nf.SurveyMain),this.loadingFrame=!this.isSurveyError,o?this.isLoading||window.addEventListener("message",n=>{this.eventListener(n)}):(this.isLoading||this.checkIfFailSilently(),this.logger.info("showing survey error"),this.onError())},o=>{this.logger.error("Error fetching online status at load",o),this.onError()})}ngOnDestroy(){this.onlineSubscription&&this.onlineSubscription.unsubscribe()}}return(c=C).\u0275fac=function(o){return new(o||c)(e.Y36(L.ed),e.Y36(L._J))},c.\u0275cmp=e.Xpm({type:c,selectors:[["nv-survey"]],viewQuery:function(o,n){if(1&o&&e.Gf(O,5),2&o){let s;e.iGM(s=e.CRH())&&(n.surveyFrame=s.first)}},hostBindings:function(o,n){1&o&&e.NdJ("keyup.esc",function(){return n.onKeyUp()},!1,e.Jf7)},inputs:{nvSize:"nvSize",nvContainerSize:"nvContainerSize",nvErrorSize:"nvErrorSize",nvSource:"nvSource",failSilently:"failSilently",isSurveyError:"isSurveyError"},outputs:{continue:"continue",nvOnClose:"nvOnClose",nvOnSend:"nvOnSend"},decls:4,vars:3,consts:[["nvTrapFocus","",1,"survey-container-parent",3,"ngSwitch"],["class","survey-container",3,"hidden","ngStyle",4,"ngSwitchDefault"],[4,"ngSwitchCase"],["class","survey-loading-dialog-pane","fxLayoutAlign","center center",3,"ngStyle",4,"ngIf"],[1,"survey-container",3,"hidden","ngStyle"],["data-focus-loss-exempt","","id","survey-frame","allow","gamepad",1,"survey-iframe",3,"src","ngStyle","load","error"],["surveyFrame",""],[3,"data","primaryButtonClick"],["fxLayoutAlign","center center",1,"survey-loading-dialog-pane",3,"ngStyle"],["mode","indeterminate",1,"mat-accent",3,"diameter"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,E,3,4,"div",1),e.YNc(2,w,2,1,"div",2),e.qZA(),e.YNc(3,p,3,2,"div",3)),2&o&&(e.Q6J("ngSwitch",n.state),e.xp6(2),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngIf",n.loadingFrame))},dependencies:[f.O5,f.PC,f.RF,f.n9,f.ED,x.Wh,S.Zl,u.Ou,g.D,h.e],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.survey-loading-dialog-pane[_ngcontent-%COMP%]{background-color:#1f2224;height:610px;width:472px;border:0;overflow-y:overlay;overflow-x:hidden;max-height:80vh}.survey-loading-pane[_ngcontent-%COMP%]{margin:24px}.survey-bottom-filler[_ngcontent-%COMP%]{height:64px}.survey-iframe[_ngcontent-%COMP%]{border:0;max-height:80vh}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#6ba800}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):focus{background-color:#6ba800}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):active{background-color:#619900}.survey-nav-icon-container[_ngcontent-%COMP%]{display:block;text-align:center;line-height:48px;font-size:48px;height:48px;width:48px}.isLtr[_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{margin-left:25px}html[dir=ltr][_ngcontent-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:25px}.isRtl[_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{margin-right:25px}html[dir=rtl][_ngcontent-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:25px}.survey-container[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:hidden;max-height:80vh;background:#1f2224}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.survey-container[_ngcontent-%COMP%]{overflow-y:hidden;background:#393939}.survey-iframe[_ngcontent-%COMP%]{width:inherit!important;height:inherit!important;min-height:inherit!important;max-height:inherit;padding-bottom:inherit}}@media (max-width: 599.98px) and (orientation: portrait) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape) and (orientation: portrait){.survey-iframe[_ngcontent-%COMP%]{height:-webkit-fill-available!important}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.survey-container[_ngcontent-%COMP%], .survey-loading-dialog-pane[_ngcontent-%COMP%]{width:100vw!important;height:calc(100% - env(safe-area-inset-bottom))!important;min-height:unset!important;max-height:100%;padding-bottom:env(safe-area-inset-bottom)}.survey-container-parent[_ngcontent-%COMP%]{height:100%}}.tv-view[_nghost-%COMP%]   .survey-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-container[_ngcontent-%COMP%]{overflow-y:hidden;background:#393939}.tv-view[_nghost-%COMP%]   .survey-iframe[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-iframe[_ngcontent-%COMP%]{width:inherit!important;height:inherit!important;min-height:inherit!important;max-height:inherit;padding-bottom:inherit}@media (orientation: portrait){.tv-view[_nghost-%COMP%]   .survey-iframe[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-iframe[_ngcontent-%COMP%]{height:-webkit-fill-available!important}}.tv-view[_nghost-%COMP%]   .survey-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-container[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .survey-loading-dialog-pane[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-loading-dialog-pane[_ngcontent-%COMP%]{width:100vw!important;height:calc(100% - env(safe-area-inset-bottom))!important;min-height:unset!important;max-height:100%;padding-bottom:env(safe-area-inset-bottom)}.tv-view[_nghost-%COMP%]   .survey-container-parent[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .survey-container-parent[_ngcontent-%COMP%]{height:100%}"]}),C})()},90193:(Dt,ct,t)=>{"use strict";t.d(ct,{$6:()=>O,Kz:()=>h,M4:()=>E,Nf:()=>f,cJ:()=>g});const f={SurveyMain:"main",SurveyError:"error"},g={width:"477px",height:"700px"},h={width:"477px",height:"700px"},O={width:"472px",height:"610px"},E={width:"472px",height:"610px"}},97881:(Dt,ct,t)=>{"use strict";t.d(ct,{TB:()=>M,n_:()=>p});var e=t(78654),i=t(17401),L=t(86515),f=t(33910),x=t(59074),S=t(32995),u=t(26575),g=t(28849),h=t(43559),O=t(60702),E=t(91467),w=t(61699);let p=(()=>{var P;class K{}return(P=K).\u0275fac=function(j){return new(j||P)},P.\u0275mod=w.oAB({type:P}),P.\u0275inj=w.cJS({imports:[u.ez,g.u5,S.o9,i.Is,x.y,L.Ps,f.Cq,e.yu,O.AV,h.aw.forChild(),E.hp,u.ez,g.u5]}),K})();var V=t(37800),c=t(90193),C=t(47178),l=t(70462),o=t(49481),n=t(9681),s=t(87965),R=t(46939),_=t(47422),b=t(46014),I=t(77869),q=t(13963),a=t(36480);let M=(()=>{var P;class K{constructor(j,tt,ot,F,U,z){this.sanitizer=tt,this.dialog=ot,this.translateService=F,this.snackbar=U,this.focusManager=z,this.feedbackUrl="",this.feedbackUrlLoaded=new l.X(!1),this.logger=j.getLogger("FeedbackService"),this.userInfo$=new o.t(1)}getUserInfoUpdated(){return this.userInfo$.asObservable()}onAccountStatusChanged(j){this.userInfo$.next(j)}initializeFeedback(j,tt,ot,F){return this.isAdminHubSurvey=!1,this.isAdminHubSurveyError=!1,ot().pipe((0,s.zg)(U=>U?tt().pipe((0,R.q)(1),(0,_.U)(z=>(z?(this.logger.info("AdminHub Feedback Survey feature is enabled and survey found"),this.setFeedbackUrl(z.surveyContainerUrl),this.feedbackUrlLoaded.next(!0),this.isAdminHubSurvey=!0,this.subscribeToSurveyEvents(z)):(this.logger.info("initializeFeedback - AdminHub Feedback Survey is not availanble"),this.isAdminHubSurveyError=!0,this.setFeedbackUrl("")),!0))):(this.logger.info("Surveys Feature rollout is disabled, show error dialog"),this.isAdminHubSurveyError=!0,this.setFeedbackUrl(""),(0,n.of)(!1))))}setFeedbackUrl(j){this.feedbackUrl=this.sanitizer.bypassSecurityTrustResourceUrl(j)}closeFeedbackDialog(){this.logger.trace(I.y$.UserGesture,I.Px.Feedback,I.Rf.close," by clicking dismiss"),this.isFeedbackDialogOpen()&&this.globalDialogref.close()}isFeedbackDialogOpen(){return!(0,C.isNil)(this.globalDialogref)&&0===this.globalDialogref.getState()}setUpToastContainer(j){this.tc=j}onOpenFeedbackDialog(j){if(this.logger.trace(I.y$.UserGesture,I.Px.Feedback,I.Rf.open,"feedback option"),!this.isFeedbackDialogOpen())return this.globalDialogref=this.focusManager.restoreFocusAfterClosed(()=>{const tt=["dialogPaddingRemove","survey-cdk-overlay-pane"];return this.isAdminHubSurveyError&&tt.push("survey-cdk-overlay-error-pane"),this.dialog.open(V.P,{panelClass:tt,autoFocus:!1,hasBackdrop:!0,disableClose:!0,maxWidth:"100vw"})}),this.globalDialogref.componentInstance.nvSource=this.feedbackUrl,this.globalDialogref.componentInstance.nvContainerSize={width:this.isAdminHubSurvey?c.cJ.width:c.$6.width,height:this.isAdminHubSurvey?c.cJ.height:c.$6.height},this.globalDialogref.componentInstance.nvSize={width:this.isAdminHubSurvey?c.Kz.width:c.M4.width,height:this.isAdminHubSurvey?c.Kz.height:c.M4.height},this.globalDialogref.componentInstance.isSurveyError=this.isAdminHubSurveyError,this.globalDialogref.componentInstance.nvOnSend.pipe((0,R.q)(1)).subscribe(tt=>{this.onSurveySent(),this.globalDialogref.close()}),this.globalDialogref.componentInstance.nvOnClose.pipe((0,R.q)(1)).subscribe(tt=>{"escape"===tt&&j(),this.globalDialogref.close()}),this.globalDialogref;this.logger.info("Feedback Dialog is already open")}feedbackUrlInitialized(){return this.feedbackUrlLoaded.asObservable()}onSurveySent(){this.logger.trace(I.y$.UserGesture,I.Px.Feedback,I.Rf.close," by clicking send"),this.translateService.get("feedback.thanksMessage").subscribe(j=>{this.snackbar.open(j,"",{duration:7e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["nv-hig"]})}),this.logger.info("survey sent")}subscribeToSurveyEvents(j){j?(this.surveyEventReferenceSubmitted=(0,b.subscribeToIFrameEvents)({surveyId:j.surveyId,type:b.SurveyEventType.Submitted},this.surveyEventListenerSubmitted.bind(this)),this.surveyEventReferenceDismissed=(0,b.subscribeToIFrameEvents)({surveyId:j.surveyId,type:b.SurveyEventType.Dismissed},this.surveyEventListenerDismissed.bind(this)),this.surveyEventReferenceCloseDialog=(0,b.subscribeToIFrameEvents)({surveyId:j.surveyId,type:b.SurveyEventType.CloseDialog},this.surveyEventListenerCloseDialog.bind(this))):this.logger.info("Error subscribing to survey events since survey result is empty")}surveyEventListenerSubmitted(){this.logger.info("Feedback Service - Survey Submitted, close Modal Dialog..."),this.onSurveySent(),this.closeFeedbackDialog(),this.surveyEventReferenceSubmitted.unsubscribe()}surveyEventListenerDismissed(){this.logger.info("Feedback Service - Survey Dismissed, close Modal Dialog..."),this.closeFeedbackDialog(),this.surveyEventReferenceDismissed.unsubscribe()}surveyEventListenerCloseDialog(){this.logger.info("Feedback Service - closing Modal Dialog..."),this.closeFeedbackDialog(),this.surveyEventReferenceCloseDialog.unsubscribe()}}return(P=K).\u0275fac=function(j){return new(j||P)(w.LFG(q.ed),w.LFG(a.H7),w.LFG(i.uw),w.LFG(h.sK),w.LFG(x.pl),w.LFG(E.IK))},P.\u0275prov=w.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),K})()},70959:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D5:()=>normalizeUrl,IM:()=>cloneOrNull,KF:()=>getString,RE:()=>isValidType4UUID,Rl:()=>generateUuid,Zp:()=>isBase64,c1:()=>invalidPipeArgumentError,f0:()=>isTimeoutOrConnectivityError,gF:()=>formatLogString,h$:()=>base64Encode});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47178),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);function normalizeUrl(Dt){let ct="";return Dt.forEach((t,e)=>{!t.startsWith("/")&&0!==e&&(ct+="/"),t.endsWith("/")?ct+=t.slice(0,t.length-1):ct+=t}),ct}function toLowerCaseOrEmpty(Dt){return Dt&&Dt.toLowerCase()||""}let CachedUuid=(()=>{class ct{static getUuid(){return ct.uuid}static refreshUuid(){ct.uuid=generateUuidInternal()}}return ct.uuid=null,ct})();function generateUuidInternal(){let Dt=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=(Dt+16*Math.random())%16|0;return Dt=Math.floor(Dt/16),("x"===t?e:3&e|8).toString(16)})}function generateUuid(Dt=!1){return Dt?CachedUuid.getUuid():generateUuidInternal()}function invalidPipeArgumentError(Dt,ct){return Error(`InvalidPipeArgument: '${ct}' for pipe '${Dt.toString()}'`)}function getString(Dt,ct){let t=Dt&&"string"!=typeof Dt?JSON.stringify(Dt):Dt||"";return ct&&(t=t.substr(0,ct)),t}function isTimeoutOrConnectivityError(Dt){return!((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Dt)||(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Dt.status)||0!==Dt.status&&-100!==Dt.status)}function formatLogString(Dt,ct,t,e){let i="";for(const x of e)try{i+="string"==typeof x?x:JSON.stringify(x,null,"\t"),i+=" "}catch{}return`${t.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[ct]}  ${Dt}  ${i}`}function base64Encode(Dt,ct,t){return t&&(Dt=window.encodeURIComponent(Dt)),ct&&(Dt=window.unescape(Dt)),window.btoa(Dt)}function isBase64(Dt){if(""===Dt||""===Dt.trim())return!1;try{return btoa(atob(Dt))===Dt}catch{return!1}}function isValidType4UUID(Dt){return!!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-4[a-f0-9]{3}\b-[89aAbB][a-f0-9]{3}\b-[0-9a-fA-F]{12}$/gi.test(Dt)}function cloneOrNull(Dt){return Dt?{...Dt}:null}function evalCss(expr){return eval(expr.trim().replace(/calc/g,"").replace(/px/g,"").replace(/100vw/g,window.innerWidth.toString()).replace(/100vh/g,window.innerHeight.toString()).replace(/[^-()\d/*+.]/g,""))}CachedUuid.refreshUuid()},26518:(Dt,ct,t)=>{"use strict";t.d(ct,{Px:()=>e,Rf:()=>i,y$:()=>L});var e=function(f){return f.EvidencePanel="EvidencePanelTracer",f.Search="SearchTracer",f.SeeMore="SeeMoreTracer",f.UserInfo="UserDetails",f.Login="LoginTracer",f.Settings="SettingsTracer",f.Feedback="FeedbackTracer",f}(e||{}),i=function(f){return f.open="Opened",f.close="Closed",f}(i||{}),L=function(f){return f.UserGesture="UserGesture",f.Endpoint="EndPoint",f.Errormessage="ErrorMessage",f.PushNotification="PushNotification",f.UserDetails="UserDetails",f}(L||{})},77869:(Dt,ct,t)=>{"use strict";t.d(ct,{Qz:()=>w,WH:()=>It,Rf:()=>a.Rf,Px:()=>a.Px,y$:()=>a.y$,eQ:()=>h,YV:()=>c,kE:()=>_,by:()=>Vt,Gb:()=>g,O_:()=>V,DV:()=>st,m$:()=>lt,qW:()=>K,Kr:()=>J,h$:()=>C.h$,IM:()=>C.IM,An:()=>bt,tr:()=>pt,a9:()=>k,rV:()=>ot,gF:()=>C.gF,M_:()=>q,oc:()=>te,Rl:()=>C.Rl,a_:()=>j,hi:()=>re,f6:()=>tt,tE:()=>vt,KF:()=>C.KF,dK:()=>F,Ij:()=>Q,gd:()=>dt,bw:()=>U,bq:()=>X,c1:()=>C.c1,Wl:()=>le,wN:()=>Nt,Zp:()=>C.Zp,wA:()=>ut,Z3:()=>yt,f0:()=>C.f0,fO:()=>B,RE:()=>C.RE,D5:()=>C.D5,L2:()=>m,gk:()=>Y});var e=t(49481),i=t(9681),L=t(69531),f=t(38435),x=t(73992),S=t(15746);class u extends e.t{constructor(jt){super(jt),this.lastValue=null}getValue(){return this.lastValue}setValue(jt){this.lastValue=jt}next(jt){this.lastValue=jt,super.next(jt)}clear(){this.lastValue=null}}class g{constructor(jt,Wt=!0,oe=!0,Qt=!0,Pt=-1){this.workerFn=jt,this.cacheLastResult=oe,this.clearCacheOnRefresh=Qt,this.cacheLifeTime=Pt,this.internalSubject=null,this.subscription=null,Wt||this.get$()}refresh(){const jt=new e.t(1);this.cacheLastResult&&this.internalSubject instanceof u&&this.clearCacheOnRefresh&&this.internalSubject.clear();const Wt=this.ensureEntryIsInitialized(!0);return Wt&&this.pipeNewDataToReplaySubject(Wt,jt),jt.asObservable()}setData(jt,Wt=!1){this.internalSubject instanceof u&&this.internalSubject.setValue(jt),Wt&&(this.ensureEntryIsInitialized(!1),this.pipeNewDataToReplaySubject((0,i.of)(jt),null))}getData(){return this.internalSubject instanceof u?this.internalSubject.getValue():null}get$(){const jt=this.ensureEntryIsInitialized(!1);return jt&&this.pipeNewDataToReplaySubject(jt,null),this.internalSubject.asObservable()}getRefreshObservable(){return(0,L.P)(()=>this.refresh())}pipeNewDataToReplaySubject(jt,Wt){(0,f.H)(0).pipe((0,S.b)(oe=>this.subscription=jt.subscribe(Qt=>{Wt&&Wt.next(Qt),this.internalSubject&&this.internalSubject.next(Qt),this.cacheLastResult&&this.cacheLifeTime>=0&&(0,f.H)(this.cacheLifeTime).subscribe(()=>{this.internalSubject=null})},Qt=>{const Pt=this.internalSubject;this.subscription&&this.subscription.unsubscribe(),this.internalSubject=null,Wt&&Wt.error(Qt),Pt&&Pt.error(Qt)}))).subscribe()}ensureEntryIsInitialized(jt){if(jt||!this.internalSubject)return this.subscription&&this.subscription.unsubscribe(),this.internalSubject||(this.internalSubject=this.createNewSubject()),this.workerFn()}createNewSubject(){return this.cacheLastResult?new u(1):new e.t(1)}}class h{constructor(jt,Wt=!0,oe=!0,Qt=!0,Pt=-1){this.workerFn=jt,this.lazyInit=Wt,this.cacheLastResult=oe,this.clearCacheOnRefresh=Qt,this.cacheLifeTime=Pt,this.eventStreamMap=new Map}refresh(jt){return this.ensureMapEntryExists(jt),this.eventStreamMap.get(jt).refresh()}refreshAll(){const jt=[];return this.eventStreamMap.forEach((Wt,oe)=>{jt.push(Wt.refresh())}),(0,x.$R)(...jt)}setData(jt,Wt,oe=!1){this.ensureMapEntryExists(jt),this.eventStreamMap.get(jt).setData(Wt,oe)}getData(jt){return this.ensureMapEntryExists(jt),this.eventStreamMap.get(jt).getData()}get$(jt){return this.ensureMapEntryExists(jt),this.eventStreamMap.get(jt).get$()}ensureMapEntryExists(jt){this.eventStreamMap.has(jt)||this.eventStreamMap.set(jt,new g(()=>this.workerFn(jt),this.lazyInit,this.cacheLastResult,this.clearCacheOnRefresh,this.cacheLifeTime))}}var O=t(73274);const E=(0,O.i$)({passive:!0,capture:!0});class w{constructor(){this._events=new Map,this._delegateEventHandler=jt=>{var Wt;const oe=(0,O.sA)(jt);oe&&(null===(Wt=this._events.get(jt.type))||void 0===Wt||Wt.forEach((Qt,Pt)=>{(Pt===oe||Pt.contains(oe))&&Qt.forEach(Ut=>Ut.handleEvent(jt))}))}}addHandler(jt,Wt,oe,Qt){const Pt=this._events.get(Wt);if(Pt){const Ut=Pt.get(oe);Ut?Ut.add(Qt):Pt.set(oe,new Set([Qt]))}else this._events.set(Wt,new Map([[oe,new Set([Qt])]])),jt.runOutsideAngular(()=>{document.addEventListener(Wt,this._delegateEventHandler,E)})}removeHandler(jt,Wt,oe){const Qt=this._events.get(jt);if(!Qt)return;const Pt=Qt.get(Wt);Pt&&(Pt.delete(oe),0===Pt.size&&Qt.delete(Wt),0===Qt.size&&(this._events.delete(jt),document.removeEventListener(jt,this._delegateEventHandler,E)))}}var p=t(61699);let V=(()=>{var Kt;class jt{createStream(oe,Qt=!0,Pt=!0,Ut=!0,Tt=-1){return new g(oe,Qt,Pt,Ut,Tt)}}return(Kt=jt).\u0275fac=function(oe){return new(oe||Kt)},Kt.\u0275prov=p.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),jt})(),c=(()=>{var Kt;class jt{createStream(oe){return new h(oe)}}return(Kt=jt).\u0275fac=function(oe){return new(oe||Kt)},Kt.\u0275prov=p.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),jt})();var C=t(70959),l=t(93190),o=t(89718),n=t(99901),s=t(1062),R=t(45083);let _=(()=>{var Kt;class jt{constructor(){}onlineStatusChanged(){const oe=(0,l.R)(window,"online").pipe((0,n.h)(!0)),Qt=(0,l.R)(window,"offline").pipe((0,n.h)(!1));return(0,o.T)(oe,Qt).pipe((0,s.O)(window.navigator.onLine),(0,R.x)())}isOnline(){return window.navigator.onLine}}return(Kt=jt).\u0275fac=function(oe){return new(oe||Kt)},Kt.\u0275prov=p.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),jt})();const b=[];function I(Kt,jt,Wt){for(;0!==b.length;){const oe=`${jt.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[Kt]} ${Wt[0]} ${b[b.length-1]} ${a.Rf.close}`;console.log(oe),b.pop()}}function q(Kt,jt,Wt,oe){if(oe.length>=3&&oe[1].toString().includes("Tracer"))if(b[b.length-1]!==oe[1]){if(oe[2]===a.Rf.close){const Pt=`${Wt.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[jt]} ${oe[0]} ${b[b.length-1]} ${oe[2]}`;b.pop(),console.log(Pt),b.length&&b.pop()}else oe[2]===a.Rf.open&&b.includes(oe[1])&&I(jt,Wt,oe);b.push(oe[1])}else b[b.length-1]===oe[1]&&b.pop();else if("Clicked on Back button"===oe[1])return void I(jt,Wt,oe);return(0,C.gF)(Kt,jt,Wt,oe)}var a=t(26518),y=t(56293),M=t(37717),P=function(Kt){return Kt.EdenResume="http://samsung.com/appcontrol/operation/eden_resume",Kt}(P||{}),K=function(Kt){return Kt.PlatformCoreCpuArch="http://tizen.org/feature/platform.core.cpu.arch",Kt.ModelName="http://tizen.org/system/model_name",Kt}(K||{});function B(){return"tizen"in window}function j(Kt){var jt;if(Kt.operation===P.EdenResume)return null===(jt=Kt.data.find(Wt=>"PAYLOAD"===Wt.key))||void 0===jt?void 0:jt.value[0]}function tt(){var Kt;return null===(Kt=tizen)||void 0===Kt?void 0:Kt.application.getCurrentApplication().getRequestedAppControl()}function ot(){var Kt;null===(Kt=tizen)||void 0===Kt||Kt.application.getCurrentApplication().exit()}function F(Kt){try{var jt;return null===(jt=tizen)||void 0===jt?void 0:jt.systeminfo.getCapability(Kt)}catch{return}}function U(){return B()?new y.y(jt=>{var Wt;let oe=!0;return null===(Wt=tizen)||void 0===Wt||Wt.systeminfo.getPropertyValue("NETWORK",Qt=>{oe&&(jt.next(Qt.networkType),jt.complete())},Qt=>{oe&&jt.error(Qt)}),()=>oe=!1}).pipe((0,M.V)(5e3)):(0,i.of)(void 0)}function z(){return window.webapis}function Q(){var Kt,jt;const Wt=null===(Kt=z())||void 0===Kt||null===(Kt=Kt.productinfo)||void 0===Kt?void 0:Kt.getModelCode();return null==Wt||null===(jt=Wt.split("_"))||void 0===jt?void 0:jt[1]}function dt(){var Kt;return null===(Kt=z())||void 0===Kt||null===(Kt=Kt.productinfo)||void 0===Kt?void 0:Kt.isUdPanelSupported()}function X(){var Kt;return null===(Kt=z())||void 0===Kt||null===(Kt=Kt.productinfo)||void 0===Kt?void 0:Kt.getSmartTVServerVersion()}function m(Kt){var jt;if(!Kt)return{};const[Wt,oe]=null===(jt=Kt.split("T-INFOLINK")[1])||void 0===jt?void 0:jt.split("-");return{year:Wt,version:oe}}function Y(Kt,jt){let Wt=null;return new y.y(Qt=>{let Pt=!0;return Wt=tizen.filesystem.openFile(Kt,"w"),Wt.writeStringNonBlocking(jt,Ut=>{var Tt;Pt&&(Qt.next(Ut),Qt.complete(),null===(Tt=Wt)||void 0===Tt||Tt.closeNonBlocking())},Ut=>{var Tt;Pt&&(Qt.error(Ut.name),Qt.complete(),null===(Tt=Wt)||void 0===Tt||Tt.closeNonBlocking())}),()=>{var Ut;Pt=!1,null===(Ut=Wt)||void 0===Ut||Ut.closeNonBlocking()}})}var D=t(32484),N=t(33994),Z=t(46939),W=t(67293),A=t(58175),d=t(13303),H=function(Kt){return Kt.InvalidStates="InvalidStates",Kt.InvalidTransitions="InvalidTransitions",Kt.InvalidStartState="InvalidStartState",Kt.InvalidEndState="InvalidEndState",Kt.InvalidWildcardState="InvalidWildcardState",Kt.TransitionFromEndState="TransitionFromEndState",Kt.TransitionNotFound="TransitionNotFound",Kt.TransitionError="TransitionError",Kt.UnreachableState="UnreachableState",Kt.InvalidStateName="InvalidStateName",Kt.AmbiguousTransition="AmbiguousTransition",Kt.WildcardTargetState="WildcardTargetState",Kt.MultipleWildcardTransitions="MultipleWildcardTransitions",Kt}(H||{});class $ extends Error{constructor(jt,Wt,oe,Qt){super(`${jt} - ${Wt} - ${oe}`),this.name="StateMachineError",this.tag=jt,this.code=Wt,this.data=Qt}}const J="**";class st{get currentState(){return this._currentState}constructor(jt,Wt){this._serializer=new D.xQ,this._reset=new D.xQ,this.setupStateMachine(jt),Wt&&this.validateStateMachine(),this.setupSerializer()}on(jt,Wt){return(0,L.P)(()=>{const oe={action:jt,stateData:Wt,response:new e.t(1)};return this._serializer.next(oe),oe.response.asObservable()})}reset(){this._reset.next(),this._currentState=this._startState,this.setupSerializer()}executeTransition(jt,Wt){var oe,Qt,Pt;if(this._currentState===this._endState)return(0,N._)(this.createStateMachineError(H.TransitionFromEndState,"Cannot transition from end state"));const Ut=null===(oe=this._transitions[jt])||void 0===oe||null===(oe=oe.find(ft=>ft.from===this._currentState||ft.from===J))||void 0===oe?void 0:oe.to;if(!Ut)return(0,N._)(this.createStateMachineError(H.TransitionNotFound,`Could not find a valid targetState from currentState ${this.currentState} on action ${jt}`));const Tt=this._states[this._currentState],it=this._states[Ut],Mt=null!==(Qt=null==Tt?void 0:Tt.onExit)&&void 0!==Qt?Qt:ft=>(0,i.of)(ft),zt=null!==(Pt=null==it?void 0:it.onEnter)&&void 0!==Pt?Pt:ft=>(0,i.of)(ft);return Mt(Wt).pipe((0,Z.q)(1),(0,S.b)(()=>this._currentState=Ut),(0,W.b)(ft=>zt(ft)),(0,Z.q)(1),(0,A.K)(ft=>(0,N._)(this.createStateMachineError(H.TransitionError,`Error transitioning to ${Ut}`,ft))))}setupStateMachine(jt){if(this._tag=jt.tag,this._states=jt.states,!this._states)throw this.createStateMachineError(H.InvalidStates,"State list cannot be nullish");if(this._transitions=jt.transitions,!this._transitions)throw this.createStateMachineError(H.InvalidTransitions,"Transitions list cannot be nullish");if(this._startState=Object.keys(this._states).find(Wt=>Wt===jt.startState),!this._startState)throw this.createStateMachineError(H.InvalidStartState,`Could not find valid start state with name ${jt.startState}`);if(this._endState=Object.keys(this._states).find(Wt=>Wt===jt.endState),!this._endState)throw this.createStateMachineError(H.InvalidEndState,`Could not find valid end state with name ${jt.endState}`);if(Object.keys(this._states).includes(J))throw this.createStateMachineError(H.InvalidWildcardState,"Wildcard state name cannot be specified manually in state definitions");this._currentState=jt.startState}setupSerializer(){this._serializer.pipe((0,W.b)(jt=>this.executeTransition(jt.action,jt.stateData).pipe((0,W.b)(Wt=>(jt.response.next(Wt),jt.response.complete(),(0,i.of)(Wt))),(0,A.K)(Wt=>(jt.response.error(Wt),(0,i.of)(Wt))))),(0,d.R)(this._reset)).subscribe()}createStateMachineError(jt,Wt,oe){return new $(this._tag,jt,Wt,oe)}validateStateMachine(){const jt=new Map;Object.keys(this._states).forEach(Wt=>jt.set(Wt,!1)),jt.set(this._startState,!0),Object.keys(this._transitions).forEach(Wt=>{const oe=new Map;Object.keys(this._states).forEach(Qt=>oe.set(Qt,0)),this._transitions[Wt].forEach(Qt=>{if(Qt.from===this._endState)throw this.createStateMachineError(H.TransitionFromEndState,"Cannot transition from end state");if(Qt.to===J)throw this.createStateMachineError(H.WildcardTargetState,`Wildcard state cannot be targetState on action ${Wt}`);if(Qt.from===J&&1!==this._transitions[Wt].length)throw this.createStateMachineError(H.MultipleWildcardTransitions,`Cannot specify multiple transitions on action ${Wt} if one of them is a Wildcard`);if(![...Object.keys(this._states),J].includes(Qt.from))throw this.createStateMachineError(H.InvalidStateName,`Invalid currentState ${Qt.from} on action ${Wt} to state ${Qt.to}`);if(!Object.keys(this._states).includes(Qt.to))throw this.createStateMachineError(H.InvalidStateName,`Invalid targetState ${Qt.to} on action ${Wt} from state ${Qt.from}`);oe.set(Qt.from,oe.get(Qt.from)+1),jt.set(Qt.to,!0)}),oe.forEach((Qt,Pt)=>{if(Qt>1)throw this.createStateMachineError(H.AmbiguousTransition,`Ambiguous transition on action ${Wt} from state ${Pt}`)})}),jt.forEach((Wt,oe)=>{if(!Wt)throw this.createStateMachineError(H.UnreachableState,`State ${oe} is unreachable`)})}}var lt=function(Kt){return Kt.MicrophoneStateMachine="MicrophoneStateMachine",Kt}(lt||{});function gt(Kt){let jt;switch(Kt){case"ArrowUp":jt=38;break;case"ArrowDown":jt=40;break;case"ArrowLeft":jt=37;break;case"ArrowRight":jt=39;break;case"Enter":jt=13;break;case"Escape":jt=27}return{key:Kt,keyCode:jt}}function vt(){var Kt;return null!==(Kt=document.activeElement)&&void 0!==Kt?Kt:document}function k(Kt,jt,Wt){Kt instanceof HTMLIFrameElement||Kt.dispatchEvent(new KeyboardEvent(jt,{...gt(Wt),view:window,bubbles:!0,cancelable:!0}))}function pt(Kt){Kt instanceof HTMLIFrameElement||Kt.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}function yt(Kt){return null==Kt?void 0:Kt.isTrusted}var Xt=t(85046),It=function(Kt){return Kt.ArrowUp="ArrowUp",Kt.ArrowDown="ArrowDown",Kt.ArrowLeft="ArrowLeft",Kt.ArrowRight="ArrowRight",Kt}(It||{});function Nt(Kt){return"Escape"===Kt.key||"GoBack"===Kt.key}function le(Kt){return"ArrowUp"===Kt.key||"ArrowDown"===Kt.key||"ArrowLeft"===Kt.key||"ArrowRight"===Kt.key}function te(Kt,jt,Wt){const oe=(0,l.R)(Kt,jt);return Wt?oe.pipe((0,Xt.h)(Qt=>Qt.key===Wt)):oe}function bt(Kt,jt){const Wt=(0,l.R)(Kt,"keyup",{capture:!0}).pipe((0,Xt.h)(oe=>oe.key===jt),(0,Z.q)(1));return(0,l.R)(Kt,"keydown",{capture:!0}).pipe((0,Xt.h)(oe=>oe.key===jt),(0,S.b)(oe=>{oe.stopPropagation(),oe.preventDefault()}),(0,d.R)(Wt))}var Vt=function(Kt){return Kt.Mouse="mouse",Kt.Pen="pen",Kt.Touch="touch",Kt}(Vt||{});function ut(Kt,jt){return(null==Kt?void 0:Kt.pointerType)===jt}function re(Kt,jt,Wt){const oe=document.elementFromPoint(Kt,jt)||void 0;if(!oe)return;const Qt=Ut=>Ut instanceof HTMLElement&&(!Wt||Wt(Ut));return Qt(oe)?oe:document.elementsFromPoint(Kt,jt).slice(1).find(Ut=>Qt(Ut))}},15118:(Dt,ct,t)=>{"use strict";t.d(ct,{$A:()=>p,$s:()=>x,IS:()=>C,LH:()=>h,Lo:()=>S,O9:()=>q,R$:()=>s,TB:()=>R,Yy:()=>I,_3:()=>w,_B:()=>f,dA:()=>c,ef:()=>o,hV:()=>E,iX:()=>g,oY:()=>u,u9:()=>V,wb:()=>a});var L,e=t(21120),i=t(14955),f=function(y){return y[y.GameItem=0]="GameItem",y[y.FilterItem=1]="FilterItem",y}(f||{}),x=function(y){return y[y.Loading=0]="Loading",y[y.Ready=1]="Ready",y[y.Error=2]="Error",y[y.Login=3]="Login",y[y.EmptyLibrary=4]="EmptyLibrary",y}(x||{}),S=function(y){return y.GenericError="common.genericLoadError",y.ConnectionError="common.connectionError",y.LoginRequired="layout.myLibraryLoginRequiredMessage",y.EmptyLibrary="layout.emptyLibraryMessage",y}(S||{});class u{constructor(M,P){this.pointOfFailure=M,this.err=P}get failurePoint(){return this.pointOfFailure}get error(){return this.err}}(L=u).ErrorPlaceholder=new L;var g=function(y){return y.AppsFetch="AppsListFetch",y.AppMetadataFetch="AppMetadataFetch",y.LayoutFetch="LayoutFetch",y.FilterGroupListFetch="FilterGroupListFetch",y}(g||{});class h extends i.xv{constructor(){super("Got Empty layout for non-personalized data:",{})}}var E=function(y){return y[y.GameTileWidth=154]="GameTileWidth",y[y.GameTileHeight=218]="GameTileHeight",y[y.WideTileWidth=272]="WideTileWidth",y[y.WideTileHeight=153]="WideTileHeight",y[y.TvGameTileWidth=230]="TvGameTileWidth",y[y.TvGameTileHeight=328]="TvGameTileHeight",y[y.TvWideTileWidth=408]="TvWideTileWidth",y[y.TvWideTileHeight=230]="TvWideTileHeight",y[y.MobileRenderingWidth=256]="MobileRenderingWidth",y}(E||{}),w=function(y){return y.WideTileImageFallback="assets/img/DefaultGameArt.png",y.GameTileImageFallback="assets/img/DefaultGameArt-BoxArt.jpg",y}(w||{});const p=200,V=500,c=9/16;var C=function(y){return y.FadeIn="FadeIn",y.BottomSlideIn="BottomSlideIn",y}(C||{});const o=300,s=7500,R=400;var I=function(y){return y[y.Wide=0]="Wide",y[y.Tall=1]="Tall",y[y.Filter=2]="Filter",y}(I||{});const q={[e.whE.Favorites]:e.oWM.FAVORITES_CHANGE,[e.whE.Library]:e.oWM.LIBRARY_CHANGE,[e.whE.Main]:e.oWM.LAYOUT_CHANGE},a=[e.whE.Favorites]},33201:(Dt,ct,t)=>{"use strict";t.d(ct,{M:()=>q});var _,e=t(13963),i=t(21120),L=t(32484),f=t(33994),x=t(9681),S=t(64555),u=t(5717),g=t(87965),h=t(15746),O=t(46939),E=t(47422),w=t(58175),p=t(90786),V=t(680),c=t(36520),C=t(85046),l=t(47178),n=t(15118),s=t(53576),R=t(78943);const b=[i.BwP.DIRECT_INPUT_GAMEPAD_PARTIAL,i.BwP.X_INPUT_GAMEPAD_PARTIAL,i.BwP.GAMEPAD_PARTIAL,i.BwP.DIRECT_INPUT_GAMEPAD,i.BwP.X_INPUT_GAMEPAD,i.BwP.GAMEPAD],I=[i.BwP.KEYBOARD,i.BwP.MOUSE,i.BwP.MOUSE_KEYBOARD];class q{constructor(y,M,P,K,B,j,tt,ot,F,U,z,Q,dt,X,m,Y,D,N,Z,W,A,d,H){var $,J,st,lt;this.metaData=y,this.loggingService=M,this.networkStatusService=P,this.launchService=K,this.idmService=B,this.idmLoginService=j,this.ecomService=tt,this.dialogService=ot,this.lcarsService=F,this.telemetryUtilService=U,this.gameShareUrlService=z,this.ownershipSyncService=Q,this.appConfig=dt,this.gfnSdkService=X,this.unsupportedBrowserService=m,this.pathService=Y,this.settingsService=D,this.systemInfoService=N,this.bridgeService=Z,this.gamepadService=W,this.ratingService=A,this.browseUxService=d,this.refreshUiService=H,this.visible=!0,this.clientSupportsKBMouseGames=!0,this.clientSupportsTouchGames=!1,this.checkMobileDataUsage=!1,this.prioritizeGamepadWarning=!1,this.metaDataUpdated=new L.xQ,this.metaDataUpdated$=this.metaDataUpdated.asObservable(),this.campaignDataUpdated=new L.xQ,this.isLaunchFlow=!1,this.campaignDataUpdated$=this.campaignDataUpdated.asObservable(),this.logger=this.loggingService.getLogger("ApplicationClass"),this.metaData.variants&&this.setPlatformPreference(),this.clientSupportsKBMouseGames=!(null===($=dt.client)||void 0===$||!$.supportsKeyboardMouseGames),this.clientSupportsTouchGames=!(null===(J=dt.client)||void 0===J||!J.supportsTouchGames),this.checkMobileDataUsage=!(null===(st=dt.client)||void 0===st||!st.checkMobileDataUsage),this.prioritizeGamepadWarning=!(null==dt||null===(lt=dt.featureEnablement)||void 0===lt||!lt.prioritizeGamepadWarning)}static onIsInLibraryChanged(){return this.isInLibraryChangedSubject.asObservable()}static onIsInFavoriteChanged(){return this.isInFavoriteChangedSubject.asObservable()}get data(){return this.metaData}get id(){return this.metaData.id}get visibility(){return this.visible}set visibility(y){this.visible=y}get appStore(){var y;return null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&y.appStore?this.metaData.selectedPlatformVariant.appStore:this.metaData.appStore}get appStoreInfo(){return i.vAT.getStoreInfoForAppstore(this.appStore)}get streetDate(){var y,M;return(null===(y=this.metaData)||void 0===y||null===(y=y.selectedPlatformVariant)||void 0===y?void 0:y.streetDate)||(null===(M=this.metaData)||void 0===M||null===(M=M.computedValues)||void 0===M?void 0:M.earliestStreetDate)}get action(){return this.metaData.action}get body(){return this.metaData.body}get digitalStoresInfo(){return this.fetchMultiPlatformDigitalStores()}get combinedLabel(){return this.digitalStoresInfo.map(y=>{var M;return(null==y?void 0:y.label)!==i.rVM?null==y?void 0:y.label:null===(M=this.metaData)||void 0===M?void 0:M.publisherName}).filter(Boolean).join(", ")}get contentRatings(){return this.metaData.contentRatings}get developerName(){var y;return null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&y.developerName?this.metaData.selectedPlatformVariant.developerName:this.metaData.developerName}get displaysOwnRatingDuringGameplay(){var y;return null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&y.displaysOwnRatingDuringGameplay?this.metaData.selectedPlatformVariant.displaysOwnRatingDuringGameplay:this.metaData.displaysOwnRatingDuringGameplay}get genres(){const y=[];var P,M;return(0,l.isEmpty)(i.vAT.genreDefinitionsMap)?null!==(P=this.metaData)&&void 0!==P&&P.genres?this.metaData.genres:[]:(null===(M=this.metaData)||void 0===M||null===(M=M.genres)||void 0===M||M.forEach(K=>{i.vAT.genreDefinitionsMap.has(K)&&y.push(i.vAT.genreDefinitionsMap.get(K))}),y)}get images(){return this.metaData.images}get boxArtImage(){var y,M,P;return null!==(y=null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.images)||void 0===M?void 0:M.GAME_BOX_ART)&&void 0!==y?y:null===(P=this.metaData)||void 0===P||null===(P=P.images)||void 0===P?void 0:P.GAME_BOX_ART}get tvBannerImage(){var y,M,P;return null!==(y=null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.images)||void 0===M?void 0:M.TV_BANNER)&&void 0!==y?y:null===(P=this.metaData)||void 0===P||null===(P=P.images)||void 0===P?void 0:P.TV_BANNER}get heroImage(){var y,M,P;return null!==(y=null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.images)||void 0===M?void 0:M.HERO_IMAGE)&&void 0!==y?y:null===(P=this.metaData)||void 0===P||null===(P=P.images)||void 0===P?void 0:P.HERO_IMAGE}get logoImage(){var y,M,P;return null!==(y=null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.images)||void 0===M?void 0:M.GAME_LOGO)&&void 0!==y?y:null===(P=this.metaData)||void 0===P||null===(P=P.images)||void 0===P?void 0:P.GAME_LOGO}get marqueeHeroImage(){var y,M,P;return null!==(y=null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.images)||void 0===M?void 0:M.MARQUEE_HERO_IMAGE)&&void 0!==y?y:null===(P=this.metaData)||void 0===P||null===(P=P.images)||void 0===P?void 0:P.MARQUEE_HERO_IMAGE}get keywords(){var y;return null!==(y=this.metaData.computedValues)&&void 0!==y&&y.allKeywords?this.metaData.computedValues.allKeywords:[]}get longDescription(){return this.metaData.longDescription}get maxOnlinePlayers(){return this.metaData.maxOnlinePlayers}get maxLocalPlayers(){return this.metaData.maxLocalPlayers}get marqueeScrimPrimaryRGB(){var y,M,P;return null!==(y=this._activeCampaignInfo)&&void 0!==y&&y.marqueeScrimPrimaryRGB&&!(0,l.isNil)(null===(M=this._activeCampaignInfo)||void 0===M||null===(M=M.marqueeScrimPrimaryRGB)||void 0===M?void 0:M.r)?null===(P=this._activeCampaignInfo)||void 0===P?void 0:P.marqueeScrimPrimaryRGB:this.metaData.marqueeScrimPrimaryRGB}get publisherName(){var y;return(null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&y.publisherName?this.metaData.selectedPlatformVariant.publisherName:this.metaData.publisherName)||""}get campaignIds(){var y,M;return null!==(y=null===(M=this.metaData)||void 0===M||null===(M=M.itemMetadata)||void 0===M?void 0:M.campaignIds)&&void 0!==y?y:[]}get activeCampaignInfo(){return this._activeCampaignInfo}get shortName(){var y;return null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&y.shortName?this.metaData.selectedPlatformVariant.shortName:this.metaData.id}get telemetryId(){var y,M;return null!==(y=null===(M=this.metaData.selectedPlatformVariant)||void 0===M?void 0:M.id)&&void 0!==y?y:this.metaData.id}get sortName(){return this.metaData.sortName}get supportedControls(){var y,M;return null!==(y=null===(M=this.metaData.selectedPlatformVariant)||void 0===M?void 0:M.supportedControls)&&void 0!==y?y:this.metaData.supportedControls}get shortDescription(){return this.metaData.shortDescription}get title(){return this.metaData.title}get itemType(){return n._B.GameItem}get type(){return this.metaData.type}get fencedStatus(){var y;return null!==(y=this.metaData.selectedPlatformVariant)&&void 0!==y&&null!==(y=y.gfn)&&void 0!==y&&y.status?this.metaData.selectedPlatformVariant.gfn.status:i.zu9.UNAVAILABLE}get variants(){return this.metaData.variants}getAppStoreVariant(y){return this.metaData.variants.find(M=>M.appStore===y)}get selectedPlatformVariant(){return this.metaData.selectedPlatformVariant}setSelectedPlatformVariant(y){this.metaData.selectedPlatformVariant=y}get selectedPlatformVariantOnServer(){var y;return null!==(y=this.metaData.variants.find(M=>{var P;return null==M||null===(P=M.gfn)||void 0===P||null===(P=P.library)||void 0===P?void 0:P.selected}))&&void 0!==y?y:null}get isInLibrary(){const y=(0,i.j9B)(this.selectedPlatformVariant);return y===i.mkU.OwnedManual||y===i.mkU.OwnedPlatformSync}get isInputControlsSupported(){return this.checkInputSupported()}get selectedPlatformVariantGameType(){var y,M;let P;var B,K;return P=this.selectedPlatformVariant?null===(B=this.selectedPlatformVariant)||void 0===B?void 0:B.paymentModels:null===(K=this.metaData)||void 0===K||null===(K=K.computedValues)||void 0===K?void 0:K.paymentModels,null!==(y=P)&&void 0!==y&&y.find(j=>(null==j?void 0:j.__typename)===i.UeV.DemoPaymentModel)?i.D$u.Demo:null!==(M=P)&&void 0!==M&&M.find(j=>(null==j?void 0:j.__typename)===i.UeV.FreeToPlayPaymentModel)?i.D$u.Free:i.D$u.Paid}get favorited(){var y;return(null===(y=this.metaData)||void 0===y||null===(y=y.library)||void 0===y?void 0:y.favorited)||!1}updateFavoritedStatus(y,M){var P;this.logger.info("Updating favorited status for game id: ",y),null!==(P=this.metaData)&&void 0!==P&&P.library||(this.metaData.library={}),this.metaData.library.favorited=M}updateFencedStatus(y,M){this.metaData.variants.map(P=>{P.id===y&&(P.gfn.status=M)}),this.metaDataUpdated.next(),this.logger.info(`Update patching info for id: ${this.metaData.id} cmsId:[${y}] as ${M}`)}updateCampaignData(y,M){this._activeCampaignInfo=M?y:null,this.campaignDataUpdated.next()}get promoTag(){var y;return(null===(y=this._activeCampaignInfo)||void 0===y||null===(y=y.promoText)||void 0===y?void 0:y.tag)||null}get promoSummary(){var y;return(null===(y=this._activeCampaignInfo)||void 0===y||null===(y=y.promoText)||void 0===y?void 0:y.summary)||null}get activeCampaignId(){var y;return(null===(y=this._activeCampaignInfo)||void 0===y?void 0:y.id)||null}get promoAction(){var y;return(null===(y=this._activeCampaignInfo)||void 0===y?void 0:y.action)||null}get threeQuarterSheetOption(){var y;return null!==(y=this.appConfig)&&void 0!==y&&null!==(y=y.featureEnablement)&&void 0!==y&&y.new10ftUx?{backgroundImageUrl:this.heroImage,title:{text:this.title,translated:!0}}:void 0}updateData(y){var M,P,K;const B=[];this.metaData.variants.forEach(tt=>{B.push({id:tt.id})}),y.variants.forEach(tt=>{const ot=B.findIndex(F=>F.id===tt.id);-1!==ot?B[ot]=tt:B.push(tt)}),y.variants=B,null!==(M=this.metaData)&&void 0!==M&&M.itemMetadata&&(this.metaData.itemMetadata.campaignIds=[]);const j=this.metaData.variants&&(!this.selectedPlatformVariant||(null===(P=this.selectedPlatformVariantOnServer)||void 0===P?void 0:P.id)===(null===(K=this.selectedPlatformVariant)||void 0===K?void 0:K.id));this.metaData=(0,l.merge)(this.metaData,y),j&&this.setPlatformPreference(),this.metaDataUpdated.next()}launch(y,M){if(this.gameLaunch$)return this.logger.info(`Launch game already in progress, returning: ${this.metaData.title} [${this.metaData.id}]`),this.gameLaunch$;this.logger.info(`Launch game ${this.metaData.title} [${this.metaData.id}]`);let P=null,K=null,B=Date.now(),j=!1;const tt=new L.xQ;return this.dialogService.threeQuarterSheetBackgroundData=this.threeQuarterSheetOption,this.gameLaunch$=this.checkNetworkStatus().pipe((0,g.zg)(ot=>this.pwaGuardCheck()),(0,g.zg)(ot=>this.unsupportedBrowserCheck()),(0,g.zg)(ot=>this.checkAuthentication(y)),(0,h.b)(ot=>{j=j||ot.dialogShown}),(0,g.zg)(ot=>this.entitlementCheck(M)),(0,O.q)(1),(0,E.U)(ot=>(this.isLaunchFlow=!0,this.fetchSelectedVariant())),(0,g.zg)(ot=>(K=ot,P=parseInt(K.id,10),this.checkFencedStatus())),(0,g.zg)(ot=>{var F,U;const dt={accountLinkingStoreLabel:null===(F=this.appStoreInfo)||void 0===F||null===(F=F.accountLinkingMetadata)||void 0===F?void 0:F.label,appStore:this.appStore,appStoreLabel:null===(U=this.appStoreInfo)||void 0===U?void 0:U.label,storeUrlClickedCallback:()=>{},storeUrl:this.appConfig.pathToPurchase.isEnabled?this.selectedPlatformVariant.storeUrl:void 0,variant:this.selectedPlatformVariant};return this.checkAndOpenAccountLinkingDialog(dt).pipe((0,g.zg)(X=>X.returnValue?(0,x.of)(X):(0,f._)("User canceled game launch because account not linked.")))}),(0,g.zg)(ot=>(j=j||ot.dialogShown,this.checkForRequiredInput())),(0,g.zg)(ot=>(j=j||ot.dialogShown,this.checkLowTimeRemaining(y,M))),(0,E.U)(ot=>(j=j||ot.dialogShown,this.telemetryUtilService.sendClickEvent(i.lzt.LaunchGame,this.telemetryId,M,!0,this.activeCampaignId,(0,i.j9B)(this.selectedPlatformVariant)),this.gameShareUrlService.updateShareUrlInfo(this.metaData.id,this.metaData.images.TV_BANNER))),(0,g.zg)(ot=>(B=j?Date.now():B,this.launchVariantGame(P,B))),(0,h.b)(ot=>{tt.next(ot)}),(0,w.K)(ot=>{var F,U;const z=`Error while launching ${null===(F=this.metaData)||void 0===F?void 0:F.title} cmsID: ${null===(U=this.metaData.selectedPlatformVariant)||void 0===U?void 0:U.id}`;return ot.isIntentionalAbort?this.logger.info(z,ot):this.logger.error(z,ot),tt.next(!1),(0,x.of)(ot)}),(0,O.q)(1),(0,p.x)(()=>{this.isLaunchFlow=!1,this.gameLaunch$=null,this.dialogService.threeQuarterSheetBackgroundData=void 0,tt.complete()}),(0,V.d)(1)),this.gameLaunch$.subscribe(),tt.asObservable()}fetchSelectedVariant(){return this.isMultiPlatformGame()?this.metaData.selectedPlatformVariant:this.metaData.variants[0]}checkAndOpenAccountLinkingDialog(y){return this.ownershipSyncService.getAccountLinkingStateForGame(y.appStore,y.variant.id).pipe((0,g.zg)(M=>M.isEnabled?this.ownershipSyncService.openAccountLinkingDialog(y,M.isRequired,!0,!1):(0,x.of)({returnValue:!0,dialogShown:!1})))}checkFencedStatus(){return this.fencedStatus===i.zu9.SERVER_MAINTENANCE||this.fencedStatus===i.zu9.PATCHING?(this.dialogService.openFencedStatusErrorDialog(this.fencedStatus),(0,f._)(`Game is under ${this.fencedStatus}`)):(0,x.of)(!0)}returnTrueWithoutDialog(){return(0,x.of)(this.getLaunchStepResult(!0,!1))}showGamepadWarning(){return this.dialogService.openGamepadRequiredDialog(this.threeQuarterSheetOption).pipe((0,g.zg)(y=>y?(0,x.of)(this.getLaunchStepResult(!0,!0)):(0,f._)({errorString:"User canceled the launch from requires a gamepad dialog.",isIntentionalAbort:!0})))}showKeyboardMouseWarning(){return this.dialogService.openKeyboardMouseRequiredDialog(this.threeQuarterSheetOption).pipe((0,g.zg)(y=>y?(0,x.of)(this.getLaunchStepResult(!0,!0)):(0,f._)({errorString:"User canceled the launch from a keyboard/mouse required dialog.",isIntentionalAbort:!0})))}isKeyboardMouseConnected(){return e.ng.isAndroidPlatform()?this.bridgeService.executeCommand(R.Gh.Common.Connectionstate.KeyboardAndMouseConnected):(0,x.of)(!0)}checkForRequiredInput(){return this.getLaunchMode().pipe((0,c.w)(y=>{if(y===i.xld.TouchFriendly)return this.returnTrueWithoutDialog();{var M,P;const K=this.clientSupportsKBMouseGames&&(null===(M=this.supportedControls)||void 0===M?void 0:M.some(ot=>I.includes(ot))),B=null===(P=this.supportedControls)||void 0===P?void 0:P.some(ot=>b.includes(ot)),j=K?this.isKeyboardMouseConnected():(0,x.of)(!1),tt=B?this.gamepadService.isGamepadConnected$:(0,x.of)(!1);return(0,S.aj)([j,tt]).pipe((0,c.w)(([ot,F])=>{let U=this.returnTrueWithoutDialog();return K&&B?!ot&&!F&&(U=this.prioritizeGamepadWarning?this.showGamepadWarning():this.showKeyboardMouseWarning()):K&&!ot?U=this.showKeyboardMouseWarning():B&&!F&&(U=this.showGamepadWarning()),U}))}}))}updateShortcutLaunchMetaData(){this.isMultiPlatformGame()&&this.browseUxService.readLaunchMetaData(this.id).pipe((0,g.zg)(y=>{if(null!=y&&y.selectedVariantCmsId){const M={selectedVariantCmsId:this.selectedPlatformVariant.id};return this.logger.info("Writing new plaform selection data in shared storage"),this.browseUxService.writeLaunchMetaData(this.id,M)}return(0,x.of)(null)}),(0,O.q)(1)).subscribe(()=>{},y=>{this.logger.error("Error writing launchMetaData in shared storage",y)})}checkLowTimeRemaining(y,M){return this.ecomService.checkIfNearingExpiry().pipe((0,O.q)(1),(0,g.zg)(P=>P?this.dialogService.showTimeAlertDialog(y,M).pipe((0,g.zg)(K=>K?(0,x.of)(this.getLaunchStepResult(!0,!0)):(0,f._)({errorString:"User canceled the launch low playtime dialog.",isIntentionalAbort:!0}))):this.returnTrueWithoutDialog()))}getLaunchMode(){var y;return this.clientSupportsTouchGames&&null!==(y=this.supportedControls)&&void 0!==y&&y.includes(i.BwP.TOUCHSCREEN)?this.systemInfoService.getSystemInfo([e.l7.CurrentUiMode]).pipe((0,E.U)(M=>M.CurrentUiMode===R.Yk.Common.Systeminfo.UiModeEnum.Mobile?i.xld.TouchFriendly:i.xld.Default)):(0,x.of)(i.xld.Default)}launchVariantGame(y,M){return this.launchService.setGameLaunchData(M,this.shortName),this.hasFullMetaData()?this.lcarsService.setMetadataForCmsId(y,this.metaData):this.fetchMissingFields().subscribe(P=>{P&&this.lcarsService.setMetadataForCmsId(y,this.metaData)},u.Z),(0,S.aj)([this.ownershipSyncService.isAccountLinkEnabledForGame(this.appStore,y),this.getLaunchMode()]).pipe((0,g.zg)(([P,K])=>this.launchService.launchStreamer(y,this.shortName,K,M,P,void 0,void 0,void 0,void 0,this.metaData.title)),(0,E.U)(P=>(this.logger.info("Launched status - ",P),this.telemetryUtilService.sendUserSessionEvent(i.Vwu.LaunchGame,P?i.N3X.Success:i.N3X.Failure,M),P)),(0,w.K)(P=>(this.logger.error("Launch failed:",P),this.telemetryUtilService.sendUserSessionEvent(i.Vwu.LaunchGame,i.N3X.Failure,M,P),(0,f._)(P))))}setPlatformPrefernceForSinglePlatform(){this.metaData.selectedPlatformVariant=this.metaData.variants[0]}setPlatformPreference(){this.isMultiPlatformGame()?this.metaData.selectedPlatformVariant=this.metaData.variants.find(y=>{var M;return null==y||null===(M=y.gfn)||void 0===M||null===(M=M.library)||void 0===M?void 0:M.selected}):this.setPlatformPrefernceForSinglePlatform()}getStoresLabel(y){const M=y.appStoreInfo.label;return M===i.rVM?y.publisherName:M}isVariantOwnedThroughPlatformSync(){const y=this.ownershipSyncService.isAccountSyncedOrLinkComplete(this.selectedPlatformVariant.appStore),M=(0,i.j9B)(this.selectedPlatformVariant)===i.mkU.OwnedPlatformSync;return y&&M}addToLibrary(y,M){if(this.addToLibrary$)return this.logger.info(`Add game to library for ${this.metaData.title}  [${this.metaData.id}], already in progress, returning`),this.addToLibrary$;this.logger.info(`Add game to library for ${this.metaData.title}  [${this.metaData.id}]`);const P=Date.now();let K=null,B=!1;const j=new L.xQ;this.dialogService.threeQuarterSheetBackgroundData=this.threeQuarterSheetOption;let tt,ot="";const F=()=>{this.dialogService.openGetGameFullPageDialog({gameName:this.title,variants:[this.selectedPlatformVariant],heroImageURL:this.heroImage,isInputSupported:this.checkInputSupported(),selectedPlatformVariant:this.selectedPlatformVariant}).subscribe()};return this.addToLibrary$=this.checkNetworkStatus().pipe((0,g.zg)(U=>this.checkAuthentication(y)),(0,g.zg)(U=>{var z,Q;if(K=this.fetchSelectedVariant(),this.selectedPlatformVariantGameType===i.D$u.Demo)return(0,x.of)({checkIfGamesAutoSynced:!1});const X=this.appConfig.pathToPurchase.isEnabled?this.selectedPlatformVariant.storeUrl:void 0,m={accountLinkingStoreLabel:null===(z=this.appStoreInfo)||void 0===z||null===(z=z.accountLinkingMetadata)||void 0===z?void 0:z.label,appStore:this.appStore,appStoreLabel:null===(Q=this.appStoreInfo)||void 0===Q?void 0:Q.label,storeUrlClickedCallback:X?F:void 0,storeUrl:X,variant:this.selectedPlatformVariant};return this.ownershipSyncService.checkForConnection(m)}),(0,g.zg)(U=>{var z;return B=U.checkIfGamesAutoSynced,tt=U.markAsOwnedTrigger,B&&(null===(z=K.gfn)||void 0===z||null===(z=z.library)||void 0===z?void 0:z.status)===i.mkU.NotOwned?(0,f._)("GAME_NOT_FOUND"):B?(ot="GAME_FOUND_IN_STORE_LIBRARY",(0,x.of)(!1)):(ot="STORE_SYNC_NOT_ATTEMPTED",(0,x.of)(!0))}),(0,g.zg)(U=>{var z;return U?(this.refreshUiService.startNotificationTimerRace(i.oWM.LIBRARY_CHANGE,this.appConfig.lcars.libraryChangeNotificationWaitTime),this.addVariantToLibrary(K.id,P)):null!==(z=K.gfn)&&void 0!==z&&null!==(z=z.library)&&void 0!==z&&z.selected?(0,x.of)(!0):this.lcarsService.selectOwnedVariant(K.id)}),(0,h.b)(U=>{this.telemetryUtilService.sendClickEvent(i.lzt.AddGameToLibrary,this.telemetryId,`${M}/${tt}`,!0,this.activeCampaignId,ot),B||(this.fetchMissingFields().subscribe(),this.updateLibraryStatus(K.id,i.mkU.OwnedManual),q.isInLibraryChangedSubject.next(this)),j.next(!0)}),(0,w.K)(U=>{var z;return this.logger.error(`Error while adding game to library for ${this.metaData.title} cmsID: ${null===(z=this.metaData.selectedPlatformVariant)||void 0===z?void 0:z.id}`,U),this.telemetryUtilService.sendClickEvent(i.lzt.AddGameToLibrary,this.telemetryId,`${M}/${tt}`,!0,this.activeCampaignId,JSON.stringify(U)),j.next(!1),(0,x.of)(U)}),(0,O.q)(1),(0,p.x)(()=>{this.addToLibrary$=null,this.dialogService.threeQuarterSheetBackgroundData=void 0,j.complete()}),(0,V.d)(1)),this.addToLibrary$.subscribe(),j.asObservable()}removeFromLibrary(y,M){if(this.removefromLibrary$)return this.logger.info(`Remove desktop shortcut already in progress for ${this.metaData.title} [${this.metaData.id}], returning`),this.removefromLibrary$;this.logger.info(`Remove game from library for ${this.metaData.title} [${this.metaData.id}]`);const P=Date.now();this.telemetryUtilService.sendClickEvent(i.lzt.UninstallGame,this.telemetryId,M,!0,this.activeCampaignId);const K=this.fetchSelectedVariant().id,B=new L.xQ;return this.removefromLibrary$=this.checkNetworkStatus().pipe((0,g.zg)(j=>(this.refreshUiService.startNotificationTimerRace(i.oWM.LIBRARY_CHANGE,this.appConfig.lcars.libraryChangeNotificationWaitTime),this.removeVariantFromLibrary(K,P))),(0,g.zg)(j=>this.lcarsService.getAppdata(this.metaData.id,{isCmsId:!1,includeLibraryFields:!0},!0)),(0,h.b)(j=>{this.updateData(j[0]),this.updateLibraryStatus(K,i.mkU.NotOwned),q.isInLibraryChangedSubject.next(this),B.next(!0)}),(0,w.K)(j=>{var tt;return this.logger.error(`Error while removing game from library for ${this.metaData.title} cmsID: ${null===(tt=this.metaData.selectedPlatformVariant)||void 0===tt?void 0:tt.id}`,j),this.updateLibraryStatus(K,i.mkU.NotOwned),this.isMultiPlatformGame()&&this.setSelectedPlatformVariant(null),q.isInLibraryChangedSubject.next(this),B.next(!1),(0,x.of)(j)}),(0,O.q)(1),(0,p.x)(()=>{this.removefromLibrary$=null,this.browseUxService.deleteLaunchMetaData(this.id).subscribe(u.Z,u.Z),B.complete()}),(0,V.d)(1)),this.removefromLibrary$.subscribe(),B.asObservable()}addDesktopShortCut(y,M,P){var K,B;if(this.addDesktopShortcut$)return this.logger.info(`Add desktop shortcut already in progress for for parentGameId:${this.metaData.id}, cmsId: ${null===(B=this.metaData.selectedPlatformVariant)||void 0===B?void 0:B.id}, returning`),this.addDesktopShortcut$;this.logger.info(`Adding Desktop Shortcut for parentGameId:${this.metaData.id}, cmsId: ${null===(K=this.metaData.selectedPlatformVariant)||void 0===K?void 0:K.id}`);const j=new L.xQ;return this.addDesktopShortcut$=this.checkAuthentication(y).pipe((0,g.zg)(tt=>{const ot={cmsId:this.metaData.selectedPlatformVariant.id,parentGameId:this.isMultiPlatformGame()?this.metaData.id:"",title:this.metaData.title,shortName:this.shortName,keyArtUrl:this.metaData.images.KEY_ART,appStore:this.appStore};return this.launchService.addDesktopShortcut(ot,M,P)}),(0,E.U)(tt=>tt.installed),(0,h.b)(tt=>{j.next(!0)}),(0,w.K)(tt=>(this.logger.error("error while adding desktop shortcut platform",tt),j.next(!1),(0,x.of)(tt))),(0,O.q)(1),(0,p.x)(()=>{this.addDesktopShortcut$=null,j.complete()}),(0,V.d)(1)),this.addDesktopShortcut$.subscribe(),j.asObservable()}addToFavorite(y,M){if(this.addToFavorite$)return this.logger.info(`Add game to favorites for ${this.metaData.title}  [${this.metaData.id}], already in progress, returning`),this.addToFavorite$;this.logger.info(`Add game to favorites for ${this.metaData.title}  [${this.metaData.id}]`);const P=new L.xQ;return this.addToFavorite$=this.checkNetworkStatus().pipe((0,g.zg)(K=>(this.refreshUiService.startNotificationTimerRace(i.oWM.FAVORITES_CHANGE,this.appConfig.lcars.favoriteChangeNotificationWaitTime),this.lcarsService.addFavoriteApp(this.metaData.id))),(0,h.b)(K=>{this.fetchMissingFields().subscribe(),this.updateFavoritedStatus(this.metaData.id,!0),this.telemetryUtilService.sendClickEvent(i.lzt.AddToFavorite,this.id,M,!0,this.activeCampaignId),q.isInFavoriteChangedSubject.next(this),P.next(!0)}),(0,w.K)(K=>(this.logger.error(`Error while adding game to favorites for ${this.metaData.title} id: ${this.metaData.id}`,K),this.updateFavoritedStatus(this.metaData.id,!1),P.next(!1),(0,x.of)(K))),(0,O.q)(1),(0,p.x)(()=>{this.addToFavorite$=null,P.complete()}),(0,V.d)(1)),this.addToFavorite$.subscribe(),P.asObservable()}removeFromFavorite(y,M){if(this.removefromFavorite$)return this.logger.info(`Remove Favorite already in progress for ${this.metaData.title} [${this.metaData.id}], returning`),this.removefromFavorite$;this.logger.info(`Remove game from favorites list for ${this.metaData.title} [${this.metaData.id}]`),this.telemetryUtilService.sendClickEvent(i.lzt.RemoveFromFavorite,this.id,M,!0,this.activeCampaignId);const P=new L.xQ;return this.removefromFavorite$=this.checkNetworkStatus().pipe((0,g.zg)(K=>(this.refreshUiService.startNotificationTimerRace(i.oWM.FAVORITES_CHANGE,this.appConfig.lcars.favoriteChangeNotificationWaitTime),this.lcarsService.removeFavoriteApp(this.metaData.id))),(0,h.b)(K=>{this.updateFavoritedStatus(this.metaData.id,!1),q.isInFavoriteChangedSubject.next(this),P.next(!0)}),(0,w.K)(K=>(this.logger.error(`Error while removing game from favorites list for ${this.metaData.title} id : ${this.metaData.id}`,K),this.updateFavoritedStatus(this.metaData.id,!0),P.next(!1),(0,x.of)(K))),(0,O.q)(1),(0,p.x)(()=>{this.removefromFavorite$=null,P.complete()}),(0,V.d)(1)),this.removefromFavorite$.subscribe(),P.asObservable()}isMultiPlatformGame(){var y;return(null===(y=this.metaData.variants)||void 0===y?void 0:y.length)>1}fetchMultiPlatformDigitalStores(){return[...this.metaData.variants.map(y=>y.appStoreInfo)]}fetchMultiPlatformCMSIds(){return[...this.metaData.variants.map(y=>y.id)]}updateLibraryStatus(y,M){var P;const K=this.metaData.variants.findIndex(B=>B.id===y);null!==(P=this.metaData.variants[K].gfn)&&void 0!==P&&P.library||(this.metaData.variants[K].gfn.library={}),this.metaData.variants[K].gfn.library.status=M}resetLibraryStatusForAllVariants(){var y;null===(y=this.metaData.variants)||void 0===y||y.forEach(M=>{var P;null!==(P=M.gfn)&&void 0!==P&&P.library&&(M.gfn.library.status=i.mkU.NotOwned)}),this.metaDataUpdated.next()}hasFullMetaData(){return this.metaData.hasOwnProperty("developerName")}fetchMissingFields(){return this.hasFullMetaData()?(0,x.of)(!1):this.lcarsService.getAppdata(this.metaData.id).pipe((0,g.zg)(y=>(this.updateData(y[0]),(0,x.of)(!0))),(0,w.K)(y=>(this.logger.error(`Error encountered while fetching app data : ${y}`),(0,x.of)(!1))))}checkNetworkStatus(){return this.networkStatusService.isOnline?this.checkMobileDataUsage?this.systemInfoService.getSystemInfo([e.l7.Network]).pipe((0,c.w)(y=>{var M;return(null===(M=y.Network)||void 0===M?void 0:M.NetworkType)===e.VV.Mobile?this.settingsService.getSettingsData().pipe((0,g.zg)(P=>P.playWithMobileNetwork?(0,x.of)(!0):this.dialogService.openMobileDataWarningDialog(this.threeQuarterSheetOption)),(0,g.zg)(P=>P?(this.settingsService.setPlayWithMobileNetworkEnabled(!0),(0,x.of)(!0)):(0,f._)("User canceled game launch."))):(this.logger.info("User is Online"),(0,x.of)(!0))})):(this.logger.info("User is Online"),(0,x.of)(!0)):(this.dialogService.openConnectionErrorDialog(),(0,f._)("User is offline"))}pwaGuardCheck(){return e.ng.isNativeLikePlatform()?this.returnTrueWithoutDialog():this.unsupportedBrowserService.shouldDisplayPWAGuidance$.pipe((0,O.q)(1),(0,g.zg)(y=>y?(this.pathService.navigate([i.fFR.PwaWall],{skipLocationChange:!1}),(0,f._)("Gameplay is only allowed within PWA mode in this browser")):this.returnTrueWithoutDialog()))}unsupportedBrowserCheck(){return e.ng.isNativeLikePlatform()?this.returnTrueWithoutDialog():this.idmService.accountStatusChanged.pipe((0,O.q)(1),(0,g.zg)(y=>y.isAuthenticated?(0,x.of)({unsupportedState:i.DI4.None}):this.unsupportedBrowserService.unsupportedBrowserState$),(0,g.zg)(y=>y.unsupportedState!==i.DI4.None?(this.dialogService.openUnsupportedBrowserDialog(y,this.threeQuarterSheetOption),(0,f._)("Gameplay is not allowed on unsupported system")):this.returnTrueWithoutDialog()))}checkAuthentication(y){return this.idmService.accountStatusChanged.pipe((0,O.q)(1),(0,g.zg)(M=>M.isAuthenticated?(this.logger.info("User is LoggedIn"),this.returnTrueWithoutDialog()):this.gfnSdkService.getAuthType().pipe((0,g.zg)(P=>{if(P===s.Gr.JWT)return this.logger.info("Skipping login dialog because this is an sdk session with provided credentials, but an anonymous user"),(0,x.of)(this.getLaunchStepResult(!0,!0));this.logger.info("User not logged in, opening alert dialog");const K=this.telemetryUtilService.getJoinTodayAlertDialogHierarchy(y,this.id);return this.dialogService.openJoinTodayAlertDialog(y,K,this.threeQuarterSheetOption).pipe((0,g.zg)(B=>B===i.V__.Login?this.idmLoginService.login(i.CGJ.ScreenAccountMenu).pipe((0,g.zg)(j=>j?(this.logger.info("Login successful"),(0,x.of)(this.getLaunchStepResult(j,!0))):(0,f._)("Login was not successful."))):(0,f._)("Login cancelled")))}))))}getLaunchStepResult(y,M){return{returnValue:y,dialogShown:M}}entitlementCheck(y){return this.ecomService.getUserMembership().pipe((0,C.h)(M=>M.membershipStatus!==i.Tn6.LoggedOut&&M.membershipStatus!==i.Tn6.UnKnown),(0,O.q)(1),(0,g.zg)(M=>M.eComFeatureEnabled&&M.membershipStatus===i.Tn6.UnEntitled?(this.ecomService.openJoinNowDialog(y),(0,f._)("User is not entitled")):(this.logger.info("User is entitled"),(0,x.of)(!0))))}addVariantToLibrary(y,M){return this.lcarsService.addOwnedVariant(y).pipe((0,g.zg)(P=>(this.logger.info(`Successfully added ${this.shortName}[${y}]`),this.telemetryUtilService.sendUserSessionEvent(i.Vwu.AddGameToLibrary,i.N3X.Success,M),(0,x.of)(!0))),(0,w.K)(P=>(this.telemetryUtilService.sendUserSessionEvent(i.Vwu.AddGameToLibrary,i.N3X.Failure,M,P),this.logger.error(`Error encountered while adding ${this.shortName}[${y}] - ${P}`),(0,x.of)(!0))))}removeVariantFromLibrary(y,M){return this.lcarsService.removeOwnedVariant(y).pipe((0,E.U)(P=>(this.logger.info(`Successfully uninstalled ${this.shortName}[${y}]`),this.telemetryUtilService.sendUserSessionEvent(i.Vwu.UninstallGame,i.N3X.Success,M),!0)),(0,w.K)(P=>(this.logger.error(`Error encountered while removing ${this.shortName}[${y}]`,P),this.telemetryUtilService.sendUserSessionEvent(i.Vwu.UninstallGame,i.N3X.Failure,M,P),this.logger.error(`Error while removing ${this.shortName}[${y}]`),(0,f._)(P))))}addPlatformPreference(y,M=!1){if(this.addPlatformPreference$)return this.logger.info(`Add Platform Preference already in progress for: ${y}, returning`),this.addPlatformPreference$;this.logger.info("Add Platform Preference:",y),this.metaData.selectedPlatformVariant=this.metaData.variants.find(K=>K.id===y);const P=new L.xQ;return this.addPlatformPreference$=this.lcarsService.selectOwnedVariant(y).pipe((0,h.b)(K=>{P.next(!0)}),(0,w.K)(K=>(this.logger.error("Error saving the game variant preference."+K),P.next(!1),(0,x.of)(K))),(0,O.q)(1),(0,p.x)(()=>{this.addPlatformPreference$=null,P.complete()}),(0,V.d)(1)),this.addPlatformPreference$.subscribe(),P.asObservable()}checkInputSupported(){var y,M;return!!this.clientSupportsKBMouseGames||null!==(y=null===(M=this.supportedControls)||void 0===M?void 0:M.some(P=>!I.includes(P)))&&void 0!==y&&y}fetchCurrentRating(){return this.contentRatings?this.ratingService.getCurrentRating(this.contentRatings.type,this.contentRatings.categoryKey).pipe((0,h.b)(y=>{this.ratingSystemName=y.ratingSystem,this.ratingCategoryTitle=y.rating.label})):(0,x.of)(null)}}(_=q).isInLibraryChangedSubject=new L.xQ,_.isInFavoriteChangedSubject=new L.xQ},90031:(Dt,ct,t)=>{"use strict";t.d(ct,{P:()=>Q});var e=t(47178),i=t(49481),L=t(32484),f=t(5717),x=t(9681),S=t(6776),u=t(64555),g=t(70506),h=t(33994),O=t(27734),E=t(85046),w=t(66407),p=t(47422),V=t(1062),c=t(55617),C=t(15746),l=t(46939),o=t(87965),n=t(85581),s=t(58175),R=t(36520),_=t(13963),b=t(21120),I=t(50323),q=t(77869),a=t(33201),y=t(15118),K=t(31157);class B{constructor(X,m){this.filterItem=X,this.loggingService=m,this.visible=!0,this.logger=this.loggingService.getLogger("FilterTile")}get filterIds(){return this.filterItem.filterIds}get itemType(){return y._B.FilterItem}get boxArtImage(){return this.filterItem.image}get id(){return this.filterItem.id}get visibility(){return this.visible}set visibility(X){this.visible=X}get title(){return this.filterItem.title}updateData(X){this.filterItem=X}}var j=t(61699),tt=t(89857),ot=t(44795),F=t(43559),U=t(53576),z=t(5042);let Q=(()=>{var dt;class X{get onLocalMyLibraryChanged(){return this.localMyLibraryChangedSubject.asObservable()}get onLocalMyFavoriteChanged(){return this.localMyFavoriteChangedSubject.asObservable()}get enforceGameTileRestore$(){return this.enforceGameTileRestore}get onRemoveFromLibraryChanged(){return this.removeGameFromLibrarySubject.asObservable()}get onRemoveFromFavoriteChanged(){return this.removeGameFromFavoriteSubject.asObservable()}get onShowLayoutLoading(){return this.showLayoutLoading$.asObservable()}get onAppsFetchComplete(){return this.appsFetchInProgress$.pipe((0,E.h)(Y=>!1===Y))}get onAppsRefreshRequested(){return this.requestAppsRefresh$.asObservable()}get isPhoneMarqueeEnabled(){return this._phoneMarqueeEnabled}notifyGameSectionEvidencePanelChange(Y,D,N){this.selectedGameSectionEvidencePanelChange$.next([Y,D,N])}notifyGameGridEvidencePanelChange(Y,D,N){this.selectedGameGridGameDetailsChange$.next([Y,D,N])}updateAppFetchStatus(Y){this.appsFetchInProgress$.next(Y)}constructor(Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe){var Qt;this.idmService=Y,this.gridService=D,this.localeService=N,this.networkStatusService=Z,this.telemetryService=W,this.loggingService=A,this.dialogService=d,this.idmLoginService=H,this.launchService=$,this.telemetryUtilService=J,this.ecomService=st,this.translateService=lt,this.ownershipSyncService=gt,this.appConfig=vt,this.lcarsService=k,this.gameShareUrlService=pt,this.errorHandler=yt,this.gfnSdkService=Xt,this.distributedTracingUtilService=It,this.unsupportedBrowserService=Nt,this.refreshUiService=le,this.browseUxService=te,this.pathService=bt,this.settingsService=Vt,this.systemInfoService=ut,this.bridgeService=re,this.gamepadService=Kt,this.campaignHelperService=jt,this.appLaunchPerformanceService=Wt,this.ratingService=oe,this.accountChangeVpcIdChangeSub=new i.t(1),this.requestAppsRefresh$=new L.xQ,this.libraryRefreshReceived=new L.xQ,this.favoritesRefreshReceived=new L.xQ,this.currentProcessedLayoutData=null,this.getPanelError=null,this.isMarqueeDisabled=!1,this._phoneMarqueeEnabled=!1,this.triggerLayoutInteraction={name:b.Bbu.InitialFetch},this.localMyLibraryChangedSubject=new L.xQ,this.localMyFavoriteChangedSubject=new L.xQ,this.enforceGameTileRestore=new L.xQ,this.removeGameFromLibrarySubject=new L.xQ,this.removeGameFromFavoriteSubject=new L.xQ,this.appsListMap=new Map,this.marketingTilesMap=new Map,this.shouldBypassSwCache=!1,this.panelList=[b.whE.Marquee,b.whE.Favorites,b.whE.Library,b.whE.Main],this.reapplyExistingLibraryFilter=new L.xQ,this.reapplyExistingLibraryFilter$=this.reapplyExistingLibraryFilter.asObservable(),this.selectedGameSectionEvidencePanelChange$=new L.xQ,this.selectedGameGridGameDetailsChange$=new L.xQ,this.logger=A.getLogger("LayoutService"),this.showLayoutLoading$=new i.t(1),this.appsFetchInProgress$=new i.t(1),this.layoutState=y.$s.Loading,this.enableSeeMoreTile=this.appConfig.featureEnablement.seeMoreTile,this.isMarqueeDisabled=null===(Qt=this.appConfig)||void 0===Qt||null===(Qt=Qt.featureEnablement)||void 0===Qt?void 0:Qt.marqueeDisabled,this.layoutEventStreams=new q.Gb(()=>this.fetchLayout(),!0,!0,!1),this.removeGameFromLibrarySubject.next(null),this.removeGameFromFavoriteSubject.next(null),this.initializeAccountChangeVpcIdChangeObservable(),this.triggerAccountStatusVpcIdChange$={createObservable:()=>this.accountChangeVpcIdChangeSub.asObservable(),name:b.Bbu.LoginStatusChange},this.idmService.accountStatusChanged.subscribe(Pt=>{this.isUserAuthenticated=Pt.isAuthenticated,this.layoutState=y.$s.Loading,this.showLayoutLoading$.next(!0)}),this.gridService.vpcId$.subscribe(Pt=>{this.vpcId=Pt},Pt=>{this.logger.error("Cannot fetch vpcId",Pt)}),this.triggerUserSKUChange$={createObservable:()=>this.ecomService.getUserMembership().pipe((0,w.G)(),(0,p.U)(([Pt,Ut])=>{var Tt,it;const Mt=null==Pt||null===(Tt=Pt.product)||void 0===Tt?void 0:Tt.id,zt=null==Ut||null===(it=Ut.product)||void 0===it?void 0:it.id;return void 0!==Mt&&void 0!==zt&&Mt!==zt}),(0,E.h)(Pt=>Pt),(0,V.O)(!0)),name:b.Bbu.UserSKUChanged},this.triggerLocale$={createObservable:()=>this.localeService.localeChanged,name:b.Bbu.LocaleChange},this.triggerLayoutRefreshOnDataExpiry$={createObservable:()=>this.refreshUiService.layoutRefresh$.pipe((0,c.g)(5e3),(0,C.b)(Pt=>this.logger.info(`LayoutRefreshOnDataExpiry, refreshing layout on ${null==Pt?void 0:Pt.source}`)),(0,V.O)(!1)),name:b.Bbu.RefreshOnDataExpiry},this.triggerLayoutRefreshOnCampaignChange$={createObservable:()=>this.campaignHelperService.refetchGameCampaignIds$.pipe((0,C.b)(Pt=>this.logger.info("LayoutRefreshOnCampaignChange")),(0,V.O)(!1)),name:b.Bbu.RefreshOnCampaignChange},this.initPushNotifications(),this.initLibraryChangedNotification(),this.initFavoritesChangedNotification(),this.initPhoneMarqueeEnablement(),this.setShouldBypassSwCache(),this.initLayoutDataUpdatedListener(),this.listenStreamingTerminatedEvent(),this.listenLibraryRefreshNotification(),this.listenPanelRefreshNotification(),this.listenAssetChangePushNotification(),this.listenOwnershipChangeNotification(),this.listenFavoritesRefreshNotification(),this.removeCampaignUIForGame(),this.updateCampaignUI()}initialize(){this.initializeLayoutFetchSubscription()}initializeLayoutFetchSubscription(){this.browseUxService.startLayoutFetch$.pipe((0,l.q)(1),(0,o.zg)(Y=>(this.appLaunchPerformanceService.onLayoutDataFetchStart(),this.getLayout()))).subscribe(f.Z,f.Z)}initializeAccountChangeVpcIdChangeObservable(){this.idmService.accountStatusChanged.pipe((0,n.f)(this.gridService.vpcId$.pipe((0,s.K)(()=>(0,x.of)(this.vpcId?this.vpcId:null)),(0,C.b)(Y=>{this.vpcId=Y}))),(0,C.b)(Y=>{this.logger.info("accountChangeVpcIdChange tap after buffer and before filter with users.lenght of ",Y.length)}),(0,E.h)(Y=>0!==Y.length),(0,C.b)(Y=>{this.logger.info("emitting accountChangeVpcIdChange"),this.accountChangeVpcIdChangeSub.next({vpcId:this.vpcId,isUserAuthenticated:this.isUserAuthenticated})})).subscribe(f.Z,f.Z)}listenOwnershipChangeNotification(){this.ownershipSyncService.onLibraryRefreshRequested().pipe((0,o.zg)(Y=>{var D;if(!this.isUserAuthenticated)return S.C;const N=null===(D=this.currentProcessedLayoutData)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.findIndex(A=>A.name===b.whE.Library);let Z=null;var W;return-1!==N&&(Z=null===(W=this.currentProcessedLayoutData)||void 0===W?void 0:W.data[N]),(0,u.aj)([(0,x.of)(Z),this.fetchPanelAndUpdateLayoutStream(b.whE.Library,b.$3D.LibraryRefresh)]).pipe((0,l.q)(1))})).subscribe(([Y,D])=>{this.handleLibraryUpdates(Y,D),this.ownershipSyncService.notifyLibraryUpdated()},f.Z)}conditionallyUpdatePanel(Y){const D=y.O9[Y];if(!D)return void this.logger.error(`No entry for ${Y} found in PanelNameToNotificationMap`);const N=y.wb.includes(Y);this.refreshUiService.isPushNotificationEnabled$().pipe((0,o.zg)(Z=>Z?this.refreshUiService.getNotificationTimerRaceResult(D):(this.logger.info("Push notifications not enabled/available. Will go for explicit refresh"),(0,x.of)(!1))),(0,l.q)(1),(0,o.zg)(Z=>{if(Z)return this.logger.info("Received push notification in time"),g.E;this.logger.info("Did not receive push notification in time, going for explicit refresh");const A={currentSpan:this.distributedTracingUtilService.startSpan(K.j1.ClientGetPanel),triggerName:b.$3D.SilentRefresh};return this.getPanelData(A,Y)}),(0,C.b)(Z=>{this.updateLayoutStream(Z,N)})).subscribe(f.Z,f.Z)}fetchPanelAndUpdateLayoutStream(Y,D){const N={},Z=this.distributedTracingUtilService.startSpan(K.j1.ClientGetPanel);N.currentSpan=Z,N.triggerName=D;const W=y.wb.includes(Y);return this.getPanelData(N,Y).pipe((0,C.b)(A=>{this.updateLayoutStream(A,W)}))}listenLibraryRefreshEvent(Y){Y.pipe((0,R.w)(()=>{var D;this.libraryRefreshReceived.next();const N=null===(D=this.currentProcessedLayoutData)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.findIndex(A=>A.name===b.whE.Library);let Z=null;var W;return-1!==N&&(Z=null===(W=this.currentProcessedLayoutData)||void 0===W?void 0:W.data[N]),(0,u.aj)([(0,x.of)(Z),this.fetchPanelAndUpdateLayoutStream(b.whE.Library,b.$3D.LibraryRefresh)]).pipe((0,l.q)(1))})).subscribe(([D,N])=>{N&&(this.handleLibraryUpdates(D,N),this.ownershipSyncService.notifyLibraryUpdated())})}listenLibraryRefreshNotification(){this.listenLibraryRefreshEvent(this.refreshUiService.libraryRefresh$)}listenFavoritesRefreshNotification(){this.refreshUiService.favoritesRefresh$.pipe((0,R.w)(()=>(this.favoritesRefreshReceived.next(),this.fetchPanelAndUpdateLayoutStream(b.whE.Favorites,b.$3D.FavoritesRefresh)))).subscribe()}listenStreamingTerminatedEvent(){const Y=this.browseUxService.streamingTerminated$.pipe((0,o.zg)(D=>this.refreshUiService.isPushNotificationEnabled$()),(0,E.h)(D=>!D));this.listenLibraryRefreshEvent(Y)}handleLibraryUpdates(Y,D){if(D&&Y){var N,Z,W,A,d,H;this.logger.info("Updating Library Panel UI");const $=null==Y||null===(N=Y.sections)||void 0===N?void 0:N.find(gt=>(null==gt?void 0:gt.type)===b.ByO.MyLibrary),J=null===(Z=D[0])||void 0===Z||null===(Z=Z.sections)||void 0===Z?void 0:Z.find(gt=>(null==gt?void 0:gt.type)===b.ByO.MyLibrary);this.logger.info(`oldLibraySection items length : ${null==$||null===(W=$.items)||void 0===W?void 0:W.length} , newLibrarySection items length : ${null==J||null===(A=J.items)||void 0===A?void 0:A.length}`);const st=null==$||null===(d=$.items)||void 0===d?void 0:d.filter(gt=>{var vt;return!(null!=J&&null!==(vt=J.items)&&void 0!==vt&&vt.some(k=>(null==gt?void 0:gt.id)===(null==k?void 0:k.id)))});this.logger.info("on LIBRARY_REFRESH , Fully Removed Games count: ",null==st?void 0:st.length),null==st||st.forEach(gt=>{gt.resetLibraryStatusForAllVariants()});const lt=null==J||null===(H=J.items)||void 0===H?void 0:H.filter(gt=>{var vt;return!(null!=$&&null!==(vt=$.items)&&void 0!==vt&&vt.some(k=>(null==gt?void 0:gt.id)===(null==k?void 0:k.id)))});this.logger.info("on LIBRARY_REFRESH , Added Games count: ",null==lt?void 0:lt.length),((null==st?void 0:st.length)>0||(null==lt?void 0:lt.length)>0)&&this.reapplyExistingLibraryFilter.next()}}listenPanelRefreshNotification(){this.refreshUiService.panelRefresh$.pipe((0,R.w)(Y=>{const D=[],N=[b.whE.Main,b.whE.Marquee];var Z,W;return(null==Y?void 0:Y.source)===b.cFU.OnPushNotification?(null==Y||null===(Z=Y.metadata)||void 0===Z?void 0:Z.changeIdType)===b.F0r.PANEL?null==Y||null===(W=Y.metadata)||void 0===W||W.changedIds.forEach(A=>{D.push(this.fetchPanelAndUpdateLayoutStream(A,b.$3D.PanelRefresh))}):N.forEach(A=>{D.push(this.fetchPanelAndUpdateLayoutStream(A,b.$3D.PanelRefresh))}):N.forEach(A=>{this.refreshUiService.isContentExpired(b.QUw[A])&&D.push(this.fetchPanelAndUpdateLayoutStream(A,b.$3D.PanelRefresh))}),(0,u.aj)(D).pipe((0,l.q)(1))})).subscribe(Y=>{this.logger.info("Updating Panels in the UI")})}listenAssetChangePushNotification(){this.refreshUiService.assetRefresh$.pipe((0,o.zg)(Y=>{var D,N,Z;const W=null===(D=Y.metadata)||void 0===D?void 0:D.changedIds,A=(null===(N=Y.metadata)||void 0===N?void 0:N.changeIdType)===b.F0r.CMSID||!(null!==(Z=Y.metadata)&&void 0!==Z&&Z.changeIdType);return(0,e.isArray)(W)&&(null==W?void 0:W.length)>0?this.lcarsService.getAppdata(W,{isCmsId:A}):(this.requestAppsRefresh$.next(),g.E)})).subscribe(Y=>{this.logger.info("Apps metadata updated after ASSET_CHANGE notification"),null==Y||Y.forEach(D=>{const N=this.fetchApplication(D.id);N&&N.updateData(D)})})}initLayoutDataUpdatedListener(){this.lcarsService.onLayoutDataUpdated$.subscribe(Y=>{this.updateLayoutStream(null==Y?void 0:Y.panels)},Y=>{this.logger.error("Error while processing updated layout data."+Y)})}initLibraryChangedNotification(){a.M.onIsInLibraryChanged().pipe((0,E.h)(Y=>!(0,e.isNil)(Y)),(0,p.U)(Y=>{var D;this.logger.info(`Update library row for Parent-id:${Y.id}`);const N=null===(D=Y.variants)||void 0===D?void 0:D.filter(Z=>(0,b.j9B)(Z)!==b.mkU.NotOwned);0!==(null==N?void 0:N.length)?this.conditionallyUpdatePanel(b.whE.Library):this.removeGameFromLocalSection(Y.id,b.whE.Library,this.myLibrarySection)})).subscribe()}initFavoritesChangedNotification(){a.M.onIsInFavoriteChanged().pipe((0,E.h)(Y=>!(0,e.isNil)(Y)),(0,p.U)(Y=>{this.logger.info(`Update favorite row for Parent-id:${Y.id}`),Y.favorited?this.conditionallyUpdatePanel(b.whE.Favorites):this.removeGameFromLocalSection(Y.id,b.whE.Favorites,this.myFavoritesSection)})).subscribe()}triggerGameRemoval(Y,D,N){D===b.whE.Library?this.removeGameFromLibrarySubject.next({id:Y,sectionItems:[...N.items]}):D===b.whE.Favorites&&this.removeGameFromFavoriteSubject.next({id:Y,sectionItems:[...N.items]})}triggerLocalGameRemoval(Y,D){Y===b.whE.Library?this.localMyLibraryChangedSubject.next(D):Y===b.whE.Favorites&&this.localMyFavoriteChangedSubject.next(D)}removeGameFromLocalSection(Y,D,N){this.triggerGameRemoval(Y,D,N),setTimeout(()=>{if(N){const Z=N.items.findIndex(W=>W.id===Y);-1!==Z?(this.logger.info(`Remove game ${Y} from panel ${D}`),N.items.splice(Z,1),this.enableSeeMoreTile&&this.manageSeeMoreTile(N)):this.logger.info(`Game not present in ${D}`),this.triggerLocalGameRemoval(D,N),this.conditionallyUpdatePanel(D)}else this.logger.info(`${D} section not present`)},y.u9)}getLayout(){return this.layoutEventStreams.get$()}refreshLayout(Y){this.triggerLayoutInteraction.name=Y,this.layoutEventStreams.refresh()}updateLayoutStream(Y,D=!1){var N;if(!Y||this.areAllSectionsEmpty(Y))return;const Z=null===(N=this.currentProcessedLayoutData)||void 0===N||null===(N=N.data)||void 0===N?void 0:N.findIndex(W=>{var A;return W.name===(null===(A=Y[0])||void 0===A?void 0:A.name)});if(-1!==Z&&this.currentProcessedLayoutData){const W=this.mapToLcarsApplication(Y,D);this.currentProcessedLayoutData.data[Z]=W[0],this.layoutEventStreams.setData(this.currentProcessedLayoutData,!0)}}mapExceptionToLayoutError(Y){let D;return D=Y instanceof b.uaH?new y.oY(b.cPW.VpcId,Y.error):Y instanceof I.Lh?new y.oY(b.cPW.DelegateTokenFetch,Y.error):Y instanceof b.$e1?new y.oY(b.cPW.LayoutFetch,Y.error):Y instanceof b.PT0?new y.oY(b.cPW.AppsListFetch,Y.error):Y instanceof b._Rm?new y.oY(b.cPW.AppMetadataFetch,Y.error):Y instanceof y.LH?new y.oY(b.cPW.EmptyLayout,null):Y instanceof I.gw?new y.oY(b.cPW.SessionToken,null):new y.oY(b.cPW.Unknown,Y),D}handleLayoutException(Y,D,N){const Z=this.mapExceptionToLayoutError(Y);return(0,e.isNil)(Z.error)||(0,e.isNil)(Z.error.status),(0,e.isNil)(Z.error)||(0,e.isNil)(Z.error.rawResponse)||(0,e.isNil)(Z.error.rawResponse.statusText),{data:null,error:Z,metaData:D,cacheKey:N}}getLiveData(Y,D,N){return Y(N).pipe((0,p.U)(Z=>({data:Z,metaData:N,cacheKey:D})),(0,s.K)(Z=>(0,x.of)(this.handleLayoutException(Z,N,D))),(0,p.U)(Z=>Z))}getData(Y,D,N,Z,W){return function P(dt,X,m){let Y;const D=[];return X.forEach(N=>{const Z=(0,e.isNil)(N.createObservable)?(0,x.of)(void 0):N.createObservable();let W=!0;D.push(Z.pipe((0,p.U)(A=>(W&&(W=!1,m.info("Trigger "+N.name+" initialized.")),{trigger:N,data:A,timestamp:Date.now()})),(0,s.K)(A=>(0,x.of)({trigger:N,data:void 0,timestamp:Date.now(),error:A}))))}),(0,u.aj)(D).pipe((0,p.U)(N=>{const Z=(0,e.merge)({},dt),W={baseTrigger:Z,trigger:Z,responses:new Map};return Y!==Z.name?Y=Z.name:(N=(0,e.sortBy)(N,[A=>A.timestamp]),W.trigger=N[N.length-1].trigger),N.forEach(A=>{W.responses.set(A.trigger.name,A)}),W}))}(N,[this.triggerLocale$,...Z],W).pipe((0,R.w)(d=>this.getLiveData(Y,D,d).pipe((0,C.b)(H=>{H.metaData=d,H.cacheKey=D}),(0,s.K)(H=>(d.trigger.name===b.Bbu.LoginStatusChange&&this.showLayoutLoading$.next(!1),(0,h._)(H))))))}logSummary(Y){return(0,O.z)((0,C.b)(D=>{const N=this.networkStatusService.isOnline;let A=`${D.cacheKey} refreshed by ${D.metaData.trigger.name}`;(0,e.isNil)(D.error)?!N&&!D.data&&(A+=" and had no cache while offline.",D.error=new y.oY(b.cPW.OfflineNoCache)):A=A+" and got error "+D.error.failurePoint,this.sendTelemetry(D,Y),Y.info(A)}))}areAllSectionsEmpty(Y){if((0,e.isEmpty)(Y)||(0,e.isNil)(Y)||0===Y.length)return!0;let D=0,N=0;return Y.forEach(Z=>{var W;N+=null==Z||null===(W=Z.sections)||void 0===W?void 0:W.length,Z.sections.forEach(A=>{const d=null==A?void 0:A.items;((0,e.isNil)(d)||0===d.length)&&D++})}),D===N}checkForEmptyLayout(Y){return!Y.data||this.areAllSectionsEmpty(Y.data)}createApplication(Y){return new a.M(Y,this.loggingService,this.networkStatusService,this.launchService,this.idmService,this.idmLoginService,this.ecomService,this.dialogService,this.lcarsService,this.telemetryUtilService,this.gameShareUrlService,this.ownershipSyncService,this.appConfig,this.gfnSdkService,this.unsupportedBrowserService,this.pathService,this.settingsService,this.systemInfoService,this.bridgeService,this.gamepadService,this.ratingService,this.browseUxService,this.refreshUiService)}fetchApplication(Y){return this.appsListMap.has(Y)?this.appsListMap.get(Y):null}updateAndFetchApp(Y){var D,N;b.vAT.sortVariants(Y.variants),Y.variants.forEach(W=>{W.appStoreInfo=b.vAT.getStoreInfoForAppstore(W.appStore)});let Z=this.fetchApplication(Y.id);return Z?Z.updateData(Y):(Z=this.createApplication(Y),this.appsListMap.set(Y.id,Z)),this.campaignHelperService.updateCampaignIdToGameListMap(null!==(D=null===(N=Z)||void 0===N?void 0:N.campaignIds)&&void 0!==D?D:[],Z.id),Z}mapToLcarsAppsData(Y){const D=[];return null==Y||Y.forEach(N=>{D.push(this.updateAndFetchApp(N))}),this.campaignHelperService.triggerCampaignUIRefresh(b.K$w.AppsRefresh),D}getPanelData(Y,D){return D===b.whE.Marquee&&this.isMarqueeDisabled?(0,x.of)(null):this.lcarsService.getPanel(Y,D).pipe((0,C.b)(()=>{this.refreshUiService.setContentExpiryInfo(b.QUw[D])}),(0,s.K)(N=>(this.logger.error(`Error in fetching panel: ${D} `,N),this.getPanelError=N,(0,x.of)(null))))}getLibraryPanelData(Y){return this.idmService.accountStatusChanged.pipe((0,l.q)(1),(0,o.zg)(D=>D.isAuthenticated?this.getPanelData(Y,b.whE.Library):(0,x.of)([b.mJI])))}getFavoritesPanelData(Y){return this.idmService.accountStatusChanged.pipe((0,l.q)(1),(0,o.zg)(D=>D.isAuthenticated?this.getPanelData(Y,b.whE.Favorites):(0,x.of)([b.JFu])))}getLayoutData(Y){const D=this.distributedTracingUtilService.startSpan(K.j1.ClientGetLayout);return Y.parentSpan=D,(0,u.aj)([this.getFavoritesPanelData(Y),this.getLibraryPanelData(Y),this.getPanelData(Y,b.whE.Main),this.getPanelData(Y,b.whE.Marquee),this.lcarsService.ensureLatestStaticAppData$()]).pipe((0,p.U)(([N,Z,W,A,d])=>{var H;let $=[];if($[0]=A&&A[0]?A[0]:null,$[1]=N&&N[0]?N[0]:null,$[2]=Z&&Z[0]?Z[0]:null,$[3]=W&&W[0]?W[0]:null,$=$.filter(J=>null!=J),(null===(H=$)||void 0===H?void 0:H.length)>0)return this.getPanelError=null,this.distributedTracingUtilService.setSpanAttribute(D,K.NI.Error,!1),this.distributedTracingUtilService.closeSpan(D),$;throw this.distributedTracingUtilService.setSpanAttribute(D,K.NI.Error,!0),this.distributedTracingUtilService.closeSpan(D),this.showLayoutLoading$.next(!1),new Error(this.getPanelError)}),(0,C.b)(N=>this.resetShouldBypassSwCache()))}setShouldBypassSwCache(){this.shouldBypassSwCache=!!window.location.hash.match(b.nnJ.Deeplink)}resetShouldBypassSwCache(){this.shouldBypassSwCache=!1}hasValidLayoutData(){var Y;return(null===(Y=this.currentProcessedLayoutData)||void 0===Y||null===(Y=Y.data)||void 0===Y?void 0:Y.length)>0}fetchLayout(){const Y=this.loggingService.getLogger("LayoutService:LF/");return this.getData(D=>this.getLayoutData({triggerName:null==D?void 0:D.trigger.name,bypassSwCache:this.shouldBypassSwCache}),y.iX.LayoutFetch,this.triggerLayoutInteraction,[this.triggerAccountStatusVpcIdChange$,this.triggerUserSKUChange$,this.triggerLayoutRefreshOnDataExpiry$,this.triggerLayoutRefreshOnCampaignChange$],Y).pipe(this.logSummary(Y),(0,o.zg)(D=>{if(this.checkForEmptyLayout(D)){if(this.hasValidLayoutData())return S.C;this.currentProcessedLayoutData=this.handleLayoutException(new y.LH,D.metaData,D.cacheKey),this.currentProcessedLayoutData.data=[]}else this.processLayoutResponse(D);return(0,x.of)(this.currentProcessedLayoutData)}),(0,s.K)(D=>(this.logger.error("Error while processing layout. "+D),this.errorHandler.handleError(new Error("Error while processing layout. "+D)),this.hasValidLayoutData()?S.C:(0,x.of)(null))))}processLayoutResponse(Y){this.refreshUiService.setContentExpiryInfo(b.Gxu.Layout);const D={...Y,data:this.mapToLcarsApplication(Y.data)};if(this.hasValidLayoutData()){let N=0;this.panelList.forEach(Z=>{const W=D.data.find(d=>d.name===Z),A=this.currentProcessedLayoutData.data.findIndex(d=>d.name===Z);-1!==A?(W&&(this.currentProcessedLayoutData.data[A]=W),N++):W&&(this.currentProcessedLayoutData.data.splice(N,0,W),N++)})}else this.currentProcessedLayoutData=D;this.layoutState=y.$s.Ready,this.showLayoutLoading$.next(!1)}mapToLcarsApplication(Y,D=!1){let N=!1;const Z=Y.map(W=>(W.sections.map(A=>(A.items=A.items.reduce((d,H)=>{if(H.__typename===b.YUT.Filter)return H.visibility=!0,d.push(new B(H,this.loggingService)),d;if(H.__typename===b.YUT.Marketing||H.__typename===b.YUT.Game){try{const $=this.mapItemsToApplication(H);d.push($)}catch($){this.logger.error("Error while mapping LCARS item to Application. "+$),N||(this.errorHandler.handleError(new Error(`Error while mapping LCARS item to Application: ${H.id}`)),N=!0)}return d}return d},[]),A.type===b.ByO.MyLibrary?(this.updateMyLibrary(A),this.myLibrarySection=A):A.type===b.ByO.MyFavorites&&(this.myFavoritesSection=A),A)),W));return D||this.campaignHelperService.triggerCampaignUIRefresh(b.K$w.PanelRefresh),Z}fetchMarketingTileFromMap(Y){return this.marketingTilesMap.has(Y)?this.marketingTilesMap.get(Y):null}updateAndFetchMarketingTile(Y){let D=this.fetchMarketingTileFromMap(Y.id);return D?D.updateData(Y):(D=this.createApplication(Y),this.marketingTilesMap.set(Y.id,D)),D}mapItemsToApplication(Y){return Y.__typename===b.YUT.Marketing?(Y.app={id:Y.id,appStore:null,variants:[],title:Y.title,images:{MARQUEE_HERO_IMAGE:Y.images.MARQUEE_HERO_IMAGE||null,HERO_IMAGE:Y.images.HERO_IMAGE||null},action:Y.action,body:Y.body||null,type:Y.__typename},this.updateAndFetchMarketingTile(Y.app)):(Y.app.type=Y.__typename,this.updateAndFetchApp(Y.app))}getTelemetryNameForTrigger(Y){return Y}sendTelemetry(Y,D){const N=Y.metaData.responses;let Z=!1,W="undefined";if(N.has(b.Bbu.LoginStatusChange)){const d=N.get(b.Bbu.LoginStatusChange).data;d&&(Z=d.isUserAuthenticated,W=d.vpcId)}const A={layoutKey:Y.cacheKey,trigger:this.getTelemetryNameForTrigger(Y.metaData.trigger.name),failurePoint:b.cPW.NA,errorCode:"",vpcId:W||"undefined",isUserOnline:this.networkStatusService.isOnline?b.wye.TRUE:b.wye.FALSE,isUserLoggedIn:Z?b.wye.TRUE:b.wye.FALSE,cachedDataSuccessful:b.wye.UNDEFINED,liveDataSuccessful:(0,e.isNil)(Y.error)?b.wye.TRUE:b.wye.FALSE,error:""};!Y.error&&Y.cacheKey.includes(y.iX.LayoutFetch)&&this.areAllSectionsEmpty(Y.data)&&(this.logger.error("Server response successful, but received EmptyLayout"),A.liveDataSuccessful=b.wye.FALSE,A.failurePoint=b.cPW.EmptyLayout),(0,e.isNil)(Y.error)||(A.failurePoint=Y.error.failurePoint||b.cPW.Unknown,(0,e.isNil)(Y.error.error)||(A.errorCode=""+Y.error.error.status),(0,e.isNil)(Y.error.error)||(A.error=(0,e.isNil)(Y.error.error.rawResponse)?Y.error.error.toString():Y.error.error.rawResponse.statusText)),D.info("Layout Telemetry Data:",A),this.telemetryService.push(new b.sNt(A))}updateMyLibrary(Y){if(!(0,e.isNil)(Y)){var D;const N=this.createApplication(b.U19),Z=null===(D=this.myLibrarySection)||void 0===D?void 0:D.items.find(W=>W.id===b.U19.id);void 0!==(null==Z?void 0:Z.visibility)&&(N.visibility=Z.visibility),Y.items.unshift(N),Y.title=this.translateService.instant("layout.myLibrary")}}initPushNotifications(){this.refreshUiService.patchingInfoRefresh$.pipe((0,o.zg)(Y=>(this.logger.info("Refresh patchingInfo",null==Y?void 0:Y.source),this.handlePatchingEvent(null==Y?void 0:Y.metadata)))).subscribe(()=>{},Y=>{this.logger.error("Error handling push notification for patching event",Y)})}handlePatchingEvent(Y){if(null==Y?void 0:Y.patchingInfo){var N;const Z=this.getAppFencedStateBasedByPatchingPushMessage(Y);return((null==Y?void 0:Y.changeIdType)===b.F0r.CMSID||!(null!=Y&&Y.changeIdType))&&null!=Y&&null!==(N=Y.changedIds)&&void 0!==N&&N.length&&Y.changedIds.forEach(A=>{this.updateFencedStatusForApp(A,Z)}),(0,x.of)(!0)}return(0,x.of)(!1)}updateFencedStatusForApp(Y,D){const N=this.getApplicationClassByCmsId(Y);null==N||N.updateFencedStatus(Y,D)}getApplicationClassByCmsId(Y){const D=Array.from(this.appsListMap.values()).find(N=>N.variants.some(Z=>Z.id===Y));return this.logger.info(`App meta data parent-id for cmsID: ${Y} is `,null==D?void 0:D.id),D}getAppFencedStateBasedByPatchingPushMessage(Y){let D;switch(Y.patchingInfo.patchingState){case b.Ilb.PATCHING_STARTED:D=b.zu9.PATCHING;break;case b.Ilb.SERVER_MAINTENANCE_STARTED:D=b.zu9.SERVER_MAINTENANCE;break;default:D=b.zu9.UNAVAILABLE}return D}manageSeeMoreTile(Y){var D,N,Z;const W=Array.isArray(null==Y||null===(D=Y.seeMoreInfo)||void 0===D?void 0:D.filterIds)&&(null==Y||null===(N=Y.items)||void 0===N?void 0:N.length)>(null==Y||null===(Z=Y.seeMoreInfo)||void 0===Z?void 0:Z.minTiles),A=Y.items.findIndex(d=>d.id===b.Jn8.id);if(W){if(-1===A){const d=this.createApplication(b.Jn8);d.data.title=Y.seeMoreInfo.title,Y.items.push(d)}}else-1!==A&&Y.items.splice(A,1)}removeCampaignUIForGame(){this.campaignHelperService.removeGameFromCampaign$.subscribe(Y=>{var D;null===(D=this.fetchApplication(Y))||void 0===D||D.updateCampaignData(null,!1)})}updateCampaignUI(){this.campaignHelperService.refreshCampaignUI$.pipe((0,R.w)(Y=>(0,u.aj)([(0,x.of)(Y),this.campaignHelperService.getChangedCampaigns()]).pipe((0,l.q)(1))),(0,C.b)(([Y,D])=>{var N,Z;if((null==D||null===(N=D.activatedCampaigns)||void 0===N?void 0:N.length)>0||(null==D||null===(Z=D.deactivatedCampaigns)||void 0===Z?void 0:Z.length)>0){var W;this.logger.info("Updating Campaign UI because of trigger ",Y),D.activatedCampaigns.forEach(d=>{const H=this.campaignHelperService.getGameListForCampaignId(null==d?void 0:d.id);null==H||H.forEach($=>{var J;null===(J=this.fetchApplication($))||void 0===J||J.updateCampaignData(d,!0)})}),null===(W=D.deactivatedCampaigns)||void 0===W||W.forEach(d=>{const H=this.campaignHelperService.getGameListForCampaignId(null==d?void 0:d.id);null==H||H.forEach($=>{var J;null===(J=this.fetchApplication($))||void 0===J||J.updateCampaignData(d,!1)})});const A=new b.zfT({trigger:b.eCT[Y],activeCampaignIds:D.activatedCampaigns.map(d=>d.id),deActiveCampaignIds:D.deactivatedCampaigns.map(d=>d.id)});this.telemetryService.push(A)}})).subscribe(f.Z,Y=>this.logger.error("Error in updateCampaignUI",Y))}initPhoneMarqueeEnablement(){this.isMarqueeDisabled||this.systemInfoService.getSystemInfo([_.l7.DeviceType]).pipe((0,l.q)(1)).subscribe(Y=>{this._phoneMarqueeEnabled=Y.DeviceType===_.z7.Phone})}}return(dt=X).\u0275fac=function(Y){return new(Y||dt)(j.LFG(b.No2),j.LFG(b.rIG),j.LFG(_.OL),j.LFG(_._J),j.LFG(tt.y0),j.LFG(_.ed),j.LFG(b.xAy),j.LFG(b.ZB5),j.LFG(ot.rw),j.LFG(b.wU6),j.LFG(b.BHV),j.LFG(F.sK),j.LFG(b.qMk),j.LFG(b.VKt),j.LFG(b.zcQ),j.LFG(b.tDF),j.LFG(j.qLn),j.LFG(U.s),j.LFG(K.Dc),j.LFG(b.rHN),j.LFG(b.ePW),j.LFG(b.OMY),j.LFG(b.unb),j.LFG(b.gbG),j.LFG(_.Ob),j.LFG(_.dF),j.LFG(z.Se),j.LFG(b.a$B),j.LFG(b.O9v),j.LFG(b.V5e))},dt.\u0275prov=j.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),X})()},38375:(Dt,ct,t)=>{"use strict";t.d(ct,{c:()=>g});var e=t(32484),i=t(61699),L=t(13963),f=t(27947),x=t(32664),S=t(45356),u=t(33910);let g=(()=>{var h;class O{constructor(w,p,V){this.loggingService=w,this.activatedRoute=p,this.deeplinkService=V,this.destroy$=new e.xQ}ngOnInit(){this.deeplinkService.handlePath(this.activatedRoute.snapshot.queryParamMap)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(h=O).\u0275fac=function(w){return new(w||h)(i.Y36(L.ed),i.Y36(f.gz),i.Y36(x._))},h.\u0275cmp=i.Xpm({type:h,selectors:[["gfn-deeplink"]],decls:3,vars:0,consts:[["fxLayout","column","fxFlexFill","",1,"common-window"],["fxLayoutAlign","center center","fxFlexFill","",1,"layout-spinner-container"],["mode","indeterminate","color","accent","diameter","48","strokeWidth","4",1,"layout-spinner"]],template:function(w,p){1&w&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"mat-progress-spinner",2),i.qZA()())},dependencies:[S.xw,S.Wh,S.s9,u.Ou],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:transparent;height:100%}html.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:hidden}body[_ngcontent-%COMP%]{margin:0;overflow:hidden!important;height:100%;max-width:100%;-webkit-touch-callout:none}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}.common-window[_ngcontent-%COMP%]   .common-container-overflow[_ngcontent-%COMP%]{overflow-y:overlay;overflow-x:hidden;max-height:100%}.common-window[_ngcontent-%COMP%]   .common-overflow-auto[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.common-window[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background:rgba(51,51,51,.5);border-radius:0}.common-window[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:not(.mat-card-no-hover):hover{box-shadow:0 3px 15px 1px #000000bf}[_ngcontent-%COMP%]::selection{background:#478b06}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0;box-shadow:inset 0 0 1px #ffffff40}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:#343434;box-shadow:inset 0 0 6px #33333380}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cdcdcd}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:#888888}[_ngcontent-%COMP%]:not(:hover)::-webkit-scrollbar-track{background:transparent;box-shadow:none}.new-10ft[_ngcontent-%COMP%]   .common-window-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dialog-background[_ngcontent-%COMP%], .final-black-gradient[_ngcontent-%COMP%], .gray-overlay[_ngcontent-%COMP%], .black-gradient[_ngcontent-%COMP%], .white-gradient[_ngcontent-%COMP%], .ext-background-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.center-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@supports (-webkit-touch-callout: none) or (font: -apple-system-body){@media (display-mode: standalone){.gfn-viewport-fill[_ngcontent-%COMP%]{height:100vh}}}.gfn-background-plain[_ngcontent-%COMP%]{background-color:#000}.gfn-background-plain[_ngcontent-%COMP%]   .splash-gfn-logo[_ngcontent-%COMP%]{z-index:1;display:none}.gfn-background[_ngcontent-%COMP%]{background-color:#000;background-image:url(assets/hashed/DefaultStreamerBackgroundArt.a079e7d7fdd1ed01.jpg);background-repeat:no-repeat;background-size:cover}.gfn-background-grey[_ngcontent-%COMP%]{background-color:#191919;background-repeat:repeat}.gfn-background[_ngcontent-%COMP%]   .splash-gfn-logo[_ngcontent-%COMP%]{z-index:1;display:none}@media screen and (max-width: 599px){.splash-gfn-logo[_ngcontent-%COMP%]{width:84px;height:64px;margin-bottom:16px}}@media screen and (min-width: 600px){.splash-gfn-logo[_ngcontent-%COMP%]{width:174px;height:131px;margin-bottom:24px}}@media screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:24px}}@media screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2),screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:20px}}@media screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:48px}}@media screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:50px}}@media screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:44px}}.white-gradient[_ngcontent-%COMP%]{background-image:radial-gradient(circle closest-corner at top,rgba(255,255,255,.2),rgba(255,255,255,.05) 50%,rgba(255,255,255,0))}.black-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(0,0,0,.8) 0%,rgba(0,0,0,.4) 25%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.2) 65%,rgba(0,0,0,.4) 75%,rgba(0,0,0,.8) 100%)}.gray-overlay[_ngcontent-%COMP%]{background-color:#0000002e}.final-black-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,rgba(0,0,0,0) 0%,black 50% 100%)}.dialog-background[_ngcontent-%COMP%]{flex-direction:column!important}.common-window[_ngcontent-%COMP%]{background:#0e1114 url(assets/hashed/spotlight-bg.700e840564f0251c.png) no-repeat center top}.common-window[_ngcontent-%COMP%]   .common-window-content[_ngcontent-%COMP%]{background:#191919;background-attachment:fixed}.common-window[_ngcontent-%COMP%]   .mat-accent.foreground[_ngcontent-%COMP%]{color:#76b900}.common-window[_ngcontent-%COMP%]   div.mat-right-section[_ngcontent-%COMP%]{position:absolute;right:28px;bottom:20px}mat-icon.mat-12[_ngcontent-%COMP%], .font-size-sm[_ngcontent-%COMP%]{font-size:12px!important}mat-icon.mat-16[_ngcontent-%COMP%], .font-size-xl[_ngcontent-%COMP%]{font-size:16px!important}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{outline:none;background-color:#464646;min-width:112px;padding:0}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style-type:none;min-height:36px;height:36px;min-width:64px;border-radius:0}.isLtr[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{line-height:36px}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{list-style-type:none;background-color:#9f9f9f}@keyframes _ngcontent-%COMP%_createBox{0%{transform:scale(0)}to{transform:scale(1)}}div[aria-label][_ngcontent-%COMP%]:hover:after{content:attr(aria-label);position:absolute;left:-50%;right:-50%;margin-top:15px;background-color:#464646;text-align:center;padding:5px 10px;z-index:100;animation:_ngcontent-%COMP%_createBox .25s}.isLtr[_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.settings-streaming-profile-details-container[_ngcontent-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]{height:0}.loading-ui-container[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .loading-ui-container-with-opportunity[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .nes-auth-ui-container[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .queue-progress-container[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .loading-ui-progress-bar-with-opportunity[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .small-screen-ui-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%], .analyzer-ui-container[_ngcontent-%COMP%]   .mdc-linear-progress__buffer[_ngcontent-%COMP%]{background-color:#ffffff3d}a.font-link-state[_ngcontent-%COMP%]:focus:not(:hover){border-bottom:0}.text-button-icon[_ngcontent-%COMP%]{padding:0 12px}.text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:20px;font-size:18px;line-height:18px;width:20px}.isLtr[_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:4px}.isRtl[_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:4px}.mat-mdc-tooltip.custom-tooltip[_ngcontent-%COMP%]{margin:8px;overflow-wrap:break-word;text-align:center;pointer-events:none!important}.mat-mdc-tooltip.custom-tooltip[_ngcontent-%COMP%]   .mdc-tooltip__surface[_ngcontent-%COMP%]{background-color:#464646}.mat-menu-panel.games-sort-dropdown[_ngcontent-%COMP%], .mat-menu-panel.toolbar-dropdown[_ngcontent-%COMP%], .mat-menu-panel.game-details-actions-menu-dropdown[_ngcontent-%COMP%]{border-radius:0}.mat-menu-panel.games-sort-dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mat-menu-panel.toolbar-dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mat-menu-panel.game-details-actions-menu-dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3}.new-10ft[_ngcontent-%COMP%]   .mat-menu-panel.game-details-actions-menu-dropdown[_ngcontent-%COMP%]{background-color:#000000e6}.mat-menu-panel.game-details-actions-menu-dropdown[_ngcontent-%COMP%]{max-width:450px}.scroll-view[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]{flex:1 1 0%;width:100%;height:100%;box-sizing:border-box}"]}),O})()},22936:(Dt,ct,t)=>{"use strict";t.r(ct),t.d(ct,{DeeplinkModule:()=>h});var e=t(26575),i=t(32995),L=t(21120),f=t(27947),x=t(52664),S=t(13963),u=t(91930),g=t(61699);let h=(()=>{var O;class E{}return(O=E).\u0275fac=function(p){return new(p||O)},O.\u0275mod=g.oAB({type:O}),O.\u0275inj=g.cJS({imports:[e.ez,L.lUL,i.o9,u.Q,S.it,(0,S.zv)(),f.Bz.forChild(x.v)]}),E})()},52664:(Dt,ct,t)=>{"use strict";t.d(ct,{v:()=>i});const i=[{path:"",component:t(38375).c,runGuardsAndResolvers:"paramsOrQueryParamsChange"}]},32664:(Dt,ct,t)=>{"use strict";t.d(ct,{F:()=>y,_:()=>a});var e=t(61699),i=t(13963),L=t(78943),f=t(21120),x=t(32484),S=t(9681),u=t(30502),g=t(33994),h=t(6776),O=t(64555),E=t(14430),w=t(73992),p=t(87965),V=t(99901),c=t(47422),C=t(46939),l=t(58175),o=t(36520),n=t(15746),s=t(85046),R=t(27947),_=t(90031),b=t(44795),I=t(89857),q=t(41843);let a=(()=>{var M;class P{constructor(B,j,tt,ot,F,U,z,Q,dt,X,m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt){var vt,k;this.loggingService=j,this.router=tt,this.pathService=ot,this.layoutService=F,this.lcarsService=U,this.gameShareUrlService=z,this.oobeService=Q,this.launchService=dt,this.gameLaunchAnalyticsService=X,this.ownershipSyncService=m,this.redirectService=Y,this.deeplinkHelperService=D,this.gridService=N,this.telemetryUtilService=Z,this.telemetryService=W,this.guestModeService=A,this.nativeEventService=d,this.playtestLiveService=H,this.bridgeService=$,this.systemInfoService=J,this.gameSearchFilterService=st,this.guestModeHelperService=lt,this.streamerConfigService=gt,this.hideDeeplinkOverlay$=new x.xQ,this.viewGameQueryParams={[f.uE5.GameId]:"",[f.uE5.ShowEvidencePanel]:!1,[f.uE5.SectionId]:""},this.isViewGameInProgress=!1,this.deeplinkedGameChangeSubject=new x.xQ,this.clientSupportsTouchGames=!1,this.logger=this.loggingService.getLogger("DeeplinkService"),this.isGDNDomain=null===(vt=window)||void 0===vt?void 0:vt.isGDNDomain,this.handlerMap=new Map([[f.EMz.PlayGame,{handle:this.handlePlayGame.bind(this)}],[f.EMz.ViewGame,{handle:this.handleViewGame.bind(this)}]]),this.registerURLRouteChangeEvent(),this.clientSupportsTouchGames=!(null===(k=B.client)||void 0===k||!k.supportsTouchGames)}removeDeeplinkOverlay(){this.hideDeeplinkOverlay$.next(!0)}markViewGameComplete(){this.isViewGameInProgress=!1}getViewGameDeeplinkInfo(){return this.viewGameQueryParams[f.uE5.ShowEvidencePanel]=this.isViewGameInProgress,this.viewGameQueryParams}setViewGameDeeplinkInfo(B,j,tt,ot){this.viewGameQueryParams={[f.uE5.GameId]:B,[f.uE5.SectionId]:tt,[f.uE5.ShowEvidencePanel]:j,[f.uE5.Store]:ot}}get deeplinkedGameChanged$(){return this.deeplinkedGameChangeSubject.asObservable()}navigateToGameDeeplink(B,j){this.getDeeplinkLandingInfo(B).pipe((0,p.zg)(tt=>this._navigateToGameDeeplink(tt,j))).subscribe()}_navigateToGameDeeplink(B,j,tt){var ot;return B.isGameFound?(this.isViewGameInProgress=!0,this.setViewGameDeeplinkInfo(B.gameId,!0,B.sectionId,tt),this.deeplinkedGameChangeSubject.next(!0),B.landingPageUrl===f.nnJ.GamesGrid&&this.gameSearchFilterService.triggerAutoSearch(B.gameTitle,j,!0),(0,u.D)(this.pathService.navigateByUrl(B.landingPageUrl,{skipLocationChange:!0})).pipe((0,V.h)(f.cYw.None))):(0,S.of)(null!==(ot=B.errorInfo)&&void 0!==ot?ot:f.cYw.Unknown)}registerURLRouteChangeEvent(){this.nativeEventService.get$(i.Nx.RouteChange,i.bi.Types.HandlerEventType.StructuredWindowEvent).pipe((0,p.zg)(B=>{const j=JSON.parse(B);if(!(j&&j.hasOwnProperty("new-route")&&j["new-route"].includes(f.eKR)))return(0,g._)("Invalid game change data given, ignoring");const ot=j["new-route"].substring(1),F=ot.split("?")[1],U=new URLSearchParams(F);if(!U.has(f.uE5.GameId)||!U.has(f.uE5.Action)||U.get(f.uE5.Action)!==f.EMz.PlayGame||!(0,f.MAX)(this.router.url))return(0,S.of)(ot);const Q=U.get(f.uE5.GameId);this.logger.info(`Deeplink play-game query gameId: ${Q}`);const dt=this.streamerConfigService.activeConfig;return this.lcarsService.getMetadataByCmsId(dt.cmsId).pipe((0,c.U)(X=>(this.logger.info(`Current game in streaming: ${X.title}, gameId: ${X.id}, cmsId: ${dt.cmsId}`),Q===X.id?null:ot)))}),(0,p.zg)(B=>null===B?(this.logger.info("Target game is being launched, ignoring route change"),h.C):(this.logger.info(`Navigating to ${B}`),(0,u.D)(this.pathService.navigateByUrl(B))))).subscribe(B=>{B||this.logger.error("NativeEvents.RouteChange fails to navigate")},B=>{this.logger.error("Error while processing url-route change event, error: ",B)})}getDeeplinkLandingInfo(B){let j=f.cYw.Unknown;const tt=this.layoutService.getLayout().pipe((0,C.q)(1),(0,p.zg)(F=>{var U,z,Q;const dt=null==F||null===(U=F.data)||void 0===U?void 0:U.find(N=>N.name===f.whE.Main);if(!dt)return this.logger.error("Error while fetching layout data, redirecting to default"),j=f.cYw.ServerError,(0,S.of)({gameId:B,isGameFound:!1,errorInfo:f.cYw.ServerError});const X=(null==F||null===(z=F.data)||void 0===z||null===(z=z.find(N=>N.name===f.whE.Favorites))||void 0===z?void 0:z.sections)||[],m=(null==F||null===(Q=F.data)||void 0===Q||null===(Q=Q.find(N=>N.name===f.whE.Library))||void 0===Q?void 0:Q.sections)||[],Y=(null==dt?void 0:dt.sections)||[],D=m.concat(X).concat(Y);for(let N=0;N<D.length;N++){const Z=D[N];for(let W=0;W<Z.items.length;W++)if(Z.items[W].id===B)return(0,S.of)({gameId:B,isGameFound:!0,sectionId:null==Z?void 0:Z.id,errorInfo:f.cYw.None,landingPageUrl:f.nnJ.Home})}return(0,S.of)(null)})),ot=this.lcarsService.getAppdata(B).pipe((0,c.U)(F=>F[0]),(0,p.zg)(F=>(0,S.of)(F.id===B?{gameId:B,isGameFound:!0,errorInfo:f.cYw.None,landingPageUrl:f.nnJ.GamesGrid,gameTitle:F.title}:null)));return tt.pipe((0,p.zg)(F=>F?(0,S.of)(F):ot),(0,p.zg)(F=>F?(0,S.of)(F):(0,g._)("Error getting deeplink landing info")),(0,l.K)(F=>(this.logger.error("Deeplinked game not present in layout data, redirecting to default. ",F),j=f.cYw.GameNotFound,(0,S.of)({gameId:B,isGameFound:!1,errorInfo:f.cYw.GameNotFound}))))}handleViewGame(B){const j=B.get(f.uE5.GameId),tt=B.get(f.uE5.Store);return this.getDeeplinkLandingInfo(j).pipe((0,p.zg)(ot=>this._navigateToGameDeeplink(ot,f.hMy.Deeplink,tt)),(0,c.U)(ot=>({success:ot===f.cYw.None,error:ot})))}handlePlayGame(B){let j,tt,ot,F,U,z,Q,dt;const X=Date.now();if(B.has(f.uE5.GameId))j=B.get(f.uE5.GameId),tt=!1;else{if(!B.has(f.uE5.CmsId))return(0,S.of)({success:!1,error:f.cYw.BadRequest});j=B.get(f.uE5.CmsId),tt=!0}const m=B.get(f.uE5.PartnerData),Y=B.get(f.uE5.ExtraData),D=this.deeplinkHelperService.getUpdatedPartnerId(B.get(f.uE5.PartnerId))||"";let N=(0,S.of)(!1),Z=null;if(B.has(f.uE5.Nonce)){this.guestModeHelperService.isGuestMode=!0,Z=B.get(f.uE5.Nonce),D||(this.logger.error("partnerId is missing in guest flow"),N=(0,g._)(f.cYw.BadRequest));const A=B.get(f.uE5.Redirect)||"",d=B.get(f.uE5.State)||"",H=this.systemInfoService.getSystemInfo([i.l7.OSName,i.l7.BrowserName]).pipe((0,C.q)(1));N=this.guestModeService.setAuthDataUsingNonceAndUpdateGuestFlowConfig(Z,D,j,tt,A,d).pipe((0,o.w)($=>H),(0,p.zg)($=>{var J;const st=null===(J=this.guestModeHelperService.getGuestModeConfig())||void 0===J||null===(J=J.igoSettings)||void 0===J?void 0:J.shortcutControls;return this.logger.info("Hotkey overrides: ",st),this.bridgeService.executeCommand(L.Gh.Share.Shareserver.Init,{osType:$.OSName,browserType:$.BrowserName,areHotkeysOverridden:!!st,overriddenHotkeysList:null!=st?st:[]})}),(0,V.h)(!0))}if(Y){z=atob(Y);try{JSON.parse(z)[0].id===f.$Yn.VDKPlayTest?U=JSON.parse(z)[0].data:this.logger.error("opaqueData data for unknown client ",JSON.parse(z)[0].id)}catch(A){this.logger.error("invalid opaqueData ",A)}}return N.pipe((0,p.zg)(A=>U?this.playtestLiveService.initiatePlaytestLive(j,U):(0,S.of)(!0)),(0,n.b)(()=>{m&&this.deeplinkHelperService.setDeeplinkPartnerData(m)}),(0,p.zg)(A=>this.lcarsService.getAppdata(j,{isCmsId:tt}).pipe((0,l.K)(d=>(this.logger.error("Error while fetching appdata",d),(0,g._)("serverError")))))).pipe((0,p.zg)(A=>{if(null!=A&&A.length){var d,H,$,J,st;tt&&(ot=null===($=A[0].variants.find(gt=>gt.id===j))||void 0===$?void 0:$.shortName,F=A[0].title,Q=null!==(J=null===(st=A[0].images)||void 0===st?void 0:st.HERO_IMAGE)&&void 0!==J?J:"");const lt=null===(d=A[0])||void 0===d?void 0:d.supportedControls;return(this.clientSupportsTouchGames||null!==(H=this.guestModeHelperService.getForceTouchModeSettings())&&void 0!==H&&H.launchStreamInTouchFriendlyMode)&&null!=lt&&lt.includes(f.BwP.TOUCHSCREEN)?(0,O.aj)([(0,S.of)(this.gameShareUrlService.updateShareUrlInfo(A[0].id,A[0].images.TV_BANNER)),this.systemInfoService.getSystemInfo([i.l7.CurrentUiMode])]):(0,O.aj)([(0,S.of)(this.gameShareUrlService.updateShareUrlInfo(A[0].id,A[0].images.TV_BANNER)),(0,S.of)(null)])}return this.logger.error("Empty/null response in appmetadata"),(0,g._)("serverError")}),(0,n.b)(([A,d])=>{dt=d&&d.CurrentUiMode===L.Yk.Common.Systeminfo.UiModeEnum.Mobile?f.xld.TouchFriendly:f.xld.Default}),(0,p.zg)(A=>this.oobeService.oobeDialogClosedState),(0,s.h)(A=>!0===A),(0,p.zg)(A=>{if(this.gameLaunchAnalyticsService.setGameLaunchMetadata(void 0,X,this.ownershipSyncService.isAccountLinked(f.Gvo),!1),B.has(f.uE5.WindowedMode)){const d=JSON.parse(B.get(f.uE5.WindowedMode))||!1;this.deeplinkHelperService.windowedMode=d}return this.deeplinkHelperService.isDeeplinkGameLaunch=!0,this.launchService.launchStreamer(tt?parseInt(j,10):void 0,tt?ot:void 0,dt,X,void 0,this.guestModeHelperService.isGuestMode?f.zO5.Deeplink:f.zO5.GeForceNOW,this.guestModeHelperService.isGuestMode||this.deeplinkHelperService.isSpecialAffiliatePartner(D)?D:void 0,tt?void 0:j,this.guestModeHelperService.isGuestMode?this.guestModeService.getGuestModeExitUrl():null,F)}),(0,c.U)(A=>(A||(this.deeplinkHelperService.isDeeplinkGameLaunch=!1),{success:A,error:A?f.cYw.None:f.cYw.Unknown})),(0,l.K)(A=>{this.deeplinkHelperService.isDeeplinkGameLaunch=!1;let d=f.cYw.Unknown;switch(this.deeplinkHelperService.resetDeeplinkPartnerData(),A){case"serverError":d=f.cYw.ServerError;break;case f.cYw.Unauthorized:d=f.cYw.Unauthorized;break;case f.cYw.PartnerAuthFailed:d=f.cYw.PartnerAuthFailed;break;case f.cYw.RedirectURLNotAllowed:d=f.cYw.RedirectURLNotAllowed}return(0,S.of)({success:!1,error:d})}))}handlePath(B){const j=B.get(f.uE5.Action)||f.iJP;this.handlerMap.get(j).handle(B).pipe((0,n.b)(tt=>{this.sendTelemetry(B,tt)})).subscribe(tt=>{if(this.logger.info(tt),!tt.success)if(this.isGDNDomain&&(tt.redirectPath=f.hEi.GdnInvalidDeeplink,tt.redirectOptions={replace:!0}),tt.error===f.cYw.Unauthorized||tt.error===f.cYw.PartnerAuthFailed||tt.error===f.cYw.RedirectURLNotAllowed)this.oobeService.oobeDialogClosedState.pipe((0,n.b)(()=>{if(tt.error===f.cYw.RedirectURLNotAllowed){if(null!=tt&&tt.redirectPath)return this.redirectService.redirectTo(tt.redirectPath,tt.redirectOptions);window.location.replace(document.baseURI),window.location.reload()}else this.redirectService.redirectToExternalUrl(this.guestModeService.getGuestModeExitUrl(),{replace:!0})})).subscribe();else{if(null!=tt&&tt.redirectPath)return this.redirectService.redirectTo(tt.redirectPath,tt.redirectOptions);this.pathService.navigateByUrl(f.fFR.DefaultRedirect)}},tt=>{if(this.isGDNDomain)return this.logger.error("Error while handling GDN deeplink, redirecting to GDN Invalid Deeplink",tt),this.redirectService.redirectTo(f.hEi.GdnInvalidDeeplink,{replace:!0});this.logger.error("Error while handling deeplink, redirecting to mall",tt),this.pathService.navigateByUrl(f.fFR.DefaultRedirect)})}canActivate(B,j){const tt=B.queryParamMap;return this.deeplinkHelperService.performHandlingCheck(tt).pipe((0,c.U)(ot=>(this.isGDNDomain&&(ot.redirectPath=f.hEi.GdnInvalidDeeplink,ot.redirectOptions={replace:!0}),ot.isBadRequest&&this.sendTelemetry(tt,{success:!1,error:f.cYw.BadRequest}),ot)),(0,c.U)(ot=>!!ot.canHandle||(null!=ot&&ot.redirectLink?this.router.createUrlTree([ot.redirectLink]):null!=ot&&ot.redirectPath?(this.redirectService.redirectTo(ot.redirectPath,ot.redirectOptions),!1):this.router.createUrlTree([f.fFR.DefaultRedirect]))))}sendTelemetry(B,j){if((B.get(f.uE5.UtmSource)||"")!==f.zVP.Application){const ot=f.rmE[B.get(f.uE5.Action)]||f.rmE[f.iJP],F=B.get(f.uE5.GameId)||"",U=parseInt(B.get(f.uE5.CmsId),10)||0,z=[j.error||f.cYw.None],Q=B.get(f.uE5.Store)||"",dt=B.get(f.uE5.Zone)||"",X=B.get(f.uE5.UtmSource)||"",m=B.get(f.uE5.UtmCampaign)||"",Y=B.get(f.uE5.UtmMedium)||"",D=B.get(f.uE5.UtmTerm)||"",N=B.get(f.uE5.UtmContent)||"";let Z="";(null==j?void 0:j.error)===f.cYw.RedirectURLNotAllowed&&(Z=`Redirect URL: ${B.get(f.uE5.Redirect)}`);const W=this.deeplinkHelperService.getUpdatedPartnerId(B.get(f.uE5.PartnerId))||"";this.deeplinkHelperService.getFeatureToggle().pipe((0,s.h)(A=>A.sendDeeplinkTelemetry),(0,p.zg)(A=>(0,E.s)(()=>!!dt,this.gridService.deeplinkZoneOverrideStatus,(0,S.of)(!1))),(0,C.q)(1),(0,p.zg)(A=>(A&&z.push(f.cYw.ZoneNotFound),(0,w.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable())))).subscribe(([A,d])=>{if(A&&d){const H=this.guestModeHelperService.isGuestMode||this.deeplinkHelperService.isSpecialAffiliatePartner(W)?{useBeacon:!0}:null;this.telemetryUtilService.sendDeeplinkSourceEvent({gameId:F,cmsId:U,action:ot,source:"",store:Q,zone:dt,errors:z,utmSource:X,utmCampaign:m,utmMedium:Y,utmTerm:D,utmContent:N,partnerId:W,additionalErrorInfo:Z},H)}})}}}return(M=P).\u0275fac=function(B){return new(B||M)(e.LFG(f.VKt),e.LFG(i.ed),e.LFG(R.F0),e.LFG(f.unb),e.LFG(_.P),e.LFG(f.zcQ),e.LFG(f.tDF),e.LFG(f.HKp),e.LFG(b.rw),e.LFG(f.V89),e.LFG(f.qMk),e.LFG(f.VHe),e.LFG(f.gIP),e.LFG(f.rIG),e.LFG(f.wU6),e.LFG(I.y0),e.LFG(f.o15),e.LFG(i.o1),e.LFG(f.Q0y),e.LFG(i.dF),e.LFG(i.Ob),e.LFG(q.En),e.LFG(f.hTr),e.LFG(f.oX5))},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),P})();const y=(M,P)=>(0,e.f3M)(a).canActivate(M,P)},6142:(Dt,ct,t)=>{"use strict";t.d(ct,{Fh:()=>f.F,_x:()=>f._}),t(38375),t(52664),t(22936);var f=t(32664)},41843:(Dt,ct,t)=>{"use strict";t.d(ct,{En:()=>z,Tb:()=>S,N3:()=>L});var e=t(21120),i=function(Q){return Q[Q.None=0]="None",Q[Q.NetworkOffline=1]="NetworkOffline",Q[Q.FetchError=2]="FetchError",Q}(i||{}),L=function(Q){return Q[Q.Default=0]="Default",Q[Q.Concealed=1]="Concealed",Q}(L||{}),f=function(Q){return Q.OnlySearch="OnlySearch",Q.OnlyFilter="OnlyFilter",Q.SearchFilter="SearchFilter",Q.AllGames="AllGames",Q}(f||{});const x={filterIds:[],sortOrderId:null,operationTrigger:e.hMy.None};var S=function(Q){return Q[Q.InitialFetchInProgress=0]="InitialFetchInProgress",Q[Q.PartialFetchInProgress=1]="PartialFetchInProgress",Q[Q.InitialFetchComplete=2]="InitialFetchComplete",Q[Q.FetchComplete=3]="FetchComplete",Q[Q.PartialFetchComplete=4]="PartialFetchComplete",Q[Q.InitialFetchError=5]="InitialFetchError",Q[Q.PartialFetchError=6]="PartialFetchError",Q[Q.InitialFetchNetworkOffline=7]="InitialFetchNetworkOffline",Q[Q.PartialFetchNetworkOffline=8]="PartialFetchNetworkOffline",Q}(S||{}),O=t(70462),E=t(32484),w=t(5717),p=t(89718),V=t(64555),c=t(9681),C=t(50274),l=t(680),o=t(47422),n=t(36520),s=t(85046),R=t(46939),_=t(87965),b=t(55617),I=t(15746),q=t(58175),a=t(39743),y=t(33201),M=t(15118),P=t(31157),K=t(61699),B=t(13963),j=t(67585),tt=t(8161),ot=t(90031),F=t(43559),U=t(89857);let z=(()=>{var Q;class dt{get gameFilterSubject$(){return this.gameFilterSubject.asObservable()}get updateSortOrderSelection$(){return this.updateSortOrderSelection.asObservable()}get isFirstPage(){return this._isFirstPage}set isFirstPage(m){this._isFirstPage=m,this._isFirstPage&&(this.endCursor=void 0)}get hasSearchQuery(){var m;return(null===(m=this.searchString)||void 0===m?void 0:m.length)>0}get hasFilters(){return Object.keys(this.filters).length>0}get isSortOrderDirty(){return this._isSortOrderDirty}set isSortOrderDirty(m){this._isSortOrderDirty=m}constructor(m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt){var k,pt;this.indexService=Y,this.breakpointObserver=D,this.appBarService=N,this.customLocationService=Z,this.pathService=W,this.lcarsService=A,this.layoutService=d,this.translateService=H,this.refreshUIService=$,this.networkStatusService=J,this.appConfig=st,this.browseUxService=lt,this.distributedTracingUtilService=gt,this.telemetryService=vt,this.filters={},this.gameFilterSubject=new O.X(x),this._isSortOrderDirty=!1,this.updateSortOrderSelection=new E.xQ,this.hasNextPage=!1,this.logger=m.getLogger("gfn/GameSearchFilterService"),this.forceRefreshSubject=new E.xQ,this.searchFilterDataSubject=new E.xQ,this.viewStateSubject=new E.xQ,this.focusFirstTileSubject=new E.xQ,this.tvMode=!(null===(k=this.appConfig)||void 0===k||null===(k=k.featureEnablement)||void 0===k||!k.tvMode),this.enable10ft=this.tvMode&&!(null==st||null===(pt=st.featureEnablement)||void 0===pt||!pt.new10ftUx),this.isGamesGridViewActive$=this.pathService.getRouteActivatedState(e.nnJ.GamesGrid).pipe((0,l.d)())}isMyLibraryFilterApplied(){const m=JSON.stringify(this.filters);return(null==m?void 0:m.includes("library"))&&(null==m?void 0:m.includes("status"))}isMyFavoriteFilterApplied(){const m=JSON.stringify(this.filters);return(null==m?void 0:m.includes("library"))&&(null==m?void 0:m.includes("favorited"))}removeAppFromSearchResults(m){const Y=this.lastSearchFilterData.resultItems.findIndex(D=>D.id===m.id);-1!==Y&&setTimeout(()=>{this.lastSearchFilterData.resultItems.splice(Y,1),this.totalMatchCount=this.totalMatchCount-1,this.translateService.get("layout.listViewData.games").subscribe(D=>{const N=`${this.totalMatchCount} / ${this.totalGameCount} ${D}`;this.lastGameCountString=N,this.viewStateSubject.next({queryState:this.lastQueryState,gameCountString:N,countFetchInProgress:!1}),this.searchFilterDataSubject.next(this.lastSearchFilterData)})},M.u9)}initializeLibraryItemRemovedListener(){this.libraryItemRemovedSubscription=y.M.onIsInLibraryChanged().subscribe(m=>{if(this.isMyLibraryFilterApplied()){var Y;const D=null===(Y=m.variants)||void 0===Y?void 0:Y.filter(N=>(0,e.j9B)(N)!==e.mkU.NotOwned);0===(null==D?void 0:D.length)&&this.removeAppFromSearchResults(m)}},w.Z)}initializeFavoritesItemRemovedListener(){this.favoriteItemRemovedSubscription=y.M.onIsInFavoriteChanged().subscribe(m=>{this.isMyFavoriteFilterApplied()&&this.removeAppFromSearchResults(m)},w.Z)}initializePunctualUIListener(){this.punctualUISubscription=(0,p.T)(this.refreshUIService.appsRefresh$.pipe((0,o.U)(m=>e.hMy.AppsRefresh)),this.layoutService.reapplyExistingLibraryFilter$.pipe((0,o.U)(m=>e.hMy.LibraryRefresh)),this.layoutService.onAppsRefreshRequested.pipe((0,o.U)(m=>e.hMy.AppsRefresh))).pipe((0,n.w)(m=>{const Y=this.browseUxService.gridSectionEvidencePanelOpenStatus$.pipe((0,s.h)(D=>!D),(0,R.q)(1));return(0,V.aj)([Y,(0,c.of)(m)])}),(0,s.h)(([m,Y])=>!(Y===e.hMy.LibraryRefresh&&!this.isMyLibraryFilterApplied())),(0,_.zg)(([m,Y])=>Y===e.hMy.LibraryRefresh?(0,c.of)(Y):(0,c.of)(!0).pipe((0,b.g)(5e3),(0,o.U)(()=>Y)))).subscribe(m=>{this.operationTrigger=m,this.refreshSearchFilterGames()},w.Z)}mapErrorTypeToQueryState(m,Y=!0){switch(m){case i.NetworkOffline:return Y?S.InitialFetchNetworkOffline:S.PartialFetchNetworkOffline;case i.FetchError:return Y?S.InitialFetchError:S.PartialFetchError}}initializeDataFetchSubscription(){this.dataFetchSubscription=this.forceRefreshSubject.pipe((0,I.b)(m=>{this.layoutService.updateAppFetchStatus(!0),this.updateState(this.isFirstPage?S.InitialFetchInProgress:S.PartialFetchInProgress)}),(0,n.w)(m=>this.fetchGames()),(0,I.b)(m=>{if(this.layoutService.updateAppFetchStatus(!1),!m.errorType)return void this.updateState(this.isFirstPage?S.InitialFetchComplete:S.PartialFetchComplete);const Y=this.mapErrorTypeToQueryState(m.errorType,this.isFirstPage);this.updateState(Y)})).subscribe(m=>{this.lastSearchFilterData=m,this.searchFilterDataSubject.next(m),this.sendGameSearchFilterEvent(!m.errorType)})}get onFocusFirstTile$(){return this.focusFirstTileSubject.asObservable()}updateState(m){this.lastQueryState=m;let Y="";const D={gameCountString:"",queryState:m,countFetchInProgress:!0};switch(m){case S.InitialFetchNetworkOffline:return D.errorMessage="common.connectionError",D.countFetchInProgress=!1,void this.viewStateSubject.next(D);case S.InitialFetchError:return D.errorMessage="common.genericLoadError",D.countFetchInProgress=!1,void this.viewStateSubject.next(D);case S.InitialFetchInProgress:return this.totalGameCount?this.operationTrigger===e.hMy.SortOrderChanged?(D.gameCountString=this.lastGameCountString,D.countFetchInProgress=!1,void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:m,countFetchInProgress:!1})):void this.translateService.get("layout.listViewData.games").subscribe(W=>{var A;this.searchString||this.filters&&null!==(A=Object.keys(this.filters))&&void 0!==A&&A.length?(D.countFetchInProgress=!0,D.gameCountString=` / ${this.totalGameCount} ${W}`):(D.countFetchInProgress=!1,D.gameCountString=`${this.totalGameCount} ${W}`),this.lastGameCountString=D.gameCountString,this.viewStateSubject.next(D)}):void this.viewStateSubject.next(D);case S.InitialFetchComplete:return this.totalGameCount!==this.totalMatchCount&&(Y=`${this.totalMatchCount} / `),Y+=`${this.totalGameCount}`,void this.translateService.get(1===this.totalMatchCount?"layout.listViewData.game":"layout.listViewData.games").subscribe(W=>{D.gameCountString=`${Y} ${W}`,D.countFetchInProgress=!1,this.lastGameCountString=D.gameCountString,this.viewStateSubject.next(D)});case S.PartialFetchNetworkOffline:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:m,countFetchInProgress:!1,errorMessage:"common.connectionError"});case S.PartialFetchError:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:m,countFetchInProgress:!1,errorMessage:"common.genericLoadError"});case S.PartialFetchInProgress:case S.PartialFetchComplete:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:m,countFetchInProgress:!1})}}refreshSearchFilterGames(){this.isFirstPage=!0,this.forceRefreshSubject.next()}getSortStringForQuery(){var m;return this.selectedSortOption?this.selectedSortOption.orderBy:(null===(m=this.defaultSortOrderDefinition)||void 0===m?void 0:m.orderBy)||""}getCursorForQuery(){return this.endCursor}fetchGames(){const m=this.getSortStringForQuery(),Y=this.getCursorForQuery(),D=this.appConfig.gameSearchFilterConfig.pageSize;if(!this.networkStatusService.isOnline)return(0,c.of)({resultItems:[],errorType:i.NetworkOffline,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage});const N=this.distributedTracingUtilService.startSpan(P.j1.SearchFilterGames);return this.distributedTracingUtilService.setSpanAttribute(N,P.NI.HasFilters,this.hasFilters),this.distributedTracingUtilService.setSpanAttribute(N,P.NI.HasSearchQuery,this.hasSearchQuery),this.distributedTracingUtilService.setSpanAttribute(N,P.NI.IsFirstPage,this.isFirstPage),this.lcarsService.getSearchFilterResults(m,this.searchString,this.filters,Y,D,N).pipe((0,o.U)(Z=>{var W,A,d,H,$;const J=this.layoutService.mapToLcarsAppsData(null==Z||null===(W=Z.data)||void 0===W||null===(W=W.apps)||void 0===W?void 0:W.items);this.hasNextPage=null==Z||null===(A=Z.data)||void 0===A||null===(A=A.apps)||void 0===A||null===(A=A.pageInfo)||void 0===A?void 0:A.hasNextPage,this.totalGameCount=null==Z||null===(d=Z.data)||void 0===d||null===(d=d.apps)||void 0===d?void 0:d.numberSupported,this.totalMatchCount=null==Z||null===(H=Z.data)||void 0===H||null===(H=H.apps)||void 0===H||null===(H=H.pageInfo)||void 0===H?void 0:H.totalCount,this.endCursor=null==Z||null===($=Z.data)||void 0===$||null===($=$.apps)||void 0===$||null===($=$.pageInfo)||void 0===$?void 0:$.endCursor;const st={resultItems:J,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage};return this.refreshUIService.setContentExpiryInfo(e.Gxu.Apps),this.distributedTracingUtilService.setSpanAttribute(N,P.NI.Error,!1),this.distributedTracingUtilService.closeSpan(N),st}),(0,q.K)(Z=>(this.logger.error("Error while getting response for search/filter: ",Z),this.distributedTracingUtilService.setSpanAttribute(N,P.NI.Error,!0),this.distributedTracingUtilService.closeSpan(N),(0,c.of)({resultItems:[],errorType:i.FetchError,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage}))))}searchMode(){return this.breakpointObserver.observe([a.u3.Handset]).pipe((0,o.U)(m=>m.matches?L.Concealed:L.Default))}get isGamesGridViewActive(){return this.pathService.isRouteActive(e.nnJ.GamesGrid)}navigateToGamesGridIfNeeded(m){this.isGamesGridViewActive||this.pathService.navigateByUrl(e.nnJ.GamesGrid,m)}performWebSearch(m,Y=e.hMy.Search){var D;this.operationTrigger=Y,this.updateSortOrderForSearch(),this.searchString=null==m||null===(D=m.replace(/\\/g,"\\\\"))||void 0===D?void 0:D.replace(/"/g,'\\"'),this.refreshSearchFilterGames(),this.navigateToGamesGridIfNeeded()}sendGameSearchFilterEvent(m=!0){var Y,D,N,Z,W;const A=new e.sf3({searchQuery:null!==(Y=this.searchString)&&void 0!==Y?Y:"",appliedFilterIds:null!==(D=this.lastFilterIds)&&void 0!==D?D:[],appliedSortOrder:null!==(N=null===(Z=this.selectedSortOption)||void 0===Z?void 0:Z.id)&&void 0!==N?N:"",triggeringOperation:null!==(W=this.operationTrigger)&&void 0!==W?W:e.hMy.None,totalResults:m&&void 0!==this.totalMatchCount?this.totalMatchCount:-1});this.telemetryService.push(A)}init(){this.indexService.onFocusFirstTile$.subscribe(()=>{this.focusFirstTileSubject.next()}),this.indexService.setWebSearchCallback(this.performWebSearch.bind(this)),this.appBarService.actionClicked$.subscribe(m=>{"arrow_left"===m&&this.isGamesGridViewActive&&this.customLocationService.navigateToPreviousRoute(e.MNE.Search)})}initializeGameSearchFilters(){this.initializeDataFetchSubscription(),this.initializePunctualUIListener(),this.initializeLibraryItemRemovedListener(),this.initializeFavoritesItemRemovedListener()}resetGameSearchFilters(){var m,Y,D,N;null===(m=this.dataFetchSubscription)||void 0===m||m.unsubscribe(),null===(Y=this.punctualUISubscription)||void 0===Y||Y.unsubscribe(),null===(D=this.libraryItemRemovedSubscription)||void 0===D||D.unsubscribe(),null===(N=this.favoriteItemRemovedSubscription)||void 0===N||N.unsubscribe(),this.searchString=null,this.selectedSortOption=this.defaultSortOrderDefinition,this.filters={},this.gameFilterSubject.next(x),this.indexService.clearSearchQuery(),this.totalGameCount=void 0,this.totalMatchCount=void 0,this.endCursor=void 0,this.hasNextPage=void 0,this.operationTrigger=void 0,this.lastFilterIds=[]}getFilterGroupSortOrderDefinitions(){return this.lcarsService.getFilterGroupSortOrderDefinitions()}refetchResults(){this.operationTrigger=e.hMy.ManualRetry,this.forceRefreshSubject.next()}getData(m=!1){return m||this.refreshSearchFilterGames(),this.searchFilterDataSubject.asObservable()}getQueryState(){return this.viewStateSubject.asObservable()}navigateToGamesGrid(m,Y){if(m&&(this.operationTrigger=m.operationTrigger,this.gameFilterSubject.next(m)),this.enable10ft&&m){var D,N;const Z=null!==(D=null===(N=Y)||void 0===N?void 0:N.state)&&void 0!==D?D:{...e.O1L[e.nnJ.GamesGrid]};Z[e.SC7.initFocusOnSearchBar]=!1,Y||(Y={state:Z})}this.navigateToGamesGridIfNeeded(Y)}updateFilter(m,Y){let D={};this.lastFilterIds=[],m.forEach(N=>{for(let W=0;W<(null===(Z=N.filterFields)||void 0===Z?void 0:Z.length);W++){var Z;D=(0,C.Z)(D,N.filterFields[W])}this.lastFilterIds.push(N.id)}),this.logger.info("mergedFilter",D),this.filters=D,this.operationTrigger=Y,this.refreshSearchFilterGames()}updateSortOrder(m){this.selectedSortOption=m,this.operationTrigger=e.hMy.SortOrderChanged,this.refreshSearchFilterGames()}updateSortOrderForSearch(){this.isSortOrderDirty||(this.selectedSortOption=this.defaultSortOrderDefinitionForSearch,this.updateSortOrderSelection.next(this.selectedSortOption))}initializeSortOrder(m,Y){null==Y||Y.forEach(Z=>{"a_to_z"===Z.id?this.defaultSortOrderDefinition=Z:"relevance"===Z.id&&(this.defaultSortOrderDefinitionForSearch=Z)});const D=Y.find(Z=>Z.id===m);var N;return this.selectedSortOption=D||(null!==(N=this.searchString)&&void 0!==N&&N.length?this.defaultSortOrderDefinitionForSearch:this.defaultSortOrderDefinition),this.selectedSortOption}triggerAutoSearch(m,Y,D=!1){let N=m;D&&(N=`title_exact:'${m}'`),this.indexService.triggerAutoSearch(N),this.performWebSearch(N,Y)}fetchNextPage(){this.isFirstPage=!1,this.operationTrigger=e.hMy.NextPage,this.forceRefreshSubject.next()}getViewHierarchy(){let m="";return m=this.hasSearchQuery&&this.hasFilters?f.SearchFilter:this.hasFilters?f.OnlyFilter:this.hasSearchQuery?f.OnlySearch:f.AllGames,m}}return(Q=dt).\u0275fac=function(m){return new(m||Q)(K.LFG(B.ed),K.LFG(j.xB),K.LFG(a.Yg),K.LFG(tt.ad),K.LFG(e.X5k),K.LFG(e.unb),K.LFG(e.zcQ),K.LFG(ot.P),K.LFG(F.sK),K.LFG(e.ePW),K.LFG(B._J),K.LFG(e.VKt),K.LFG(e.OMY),K.LFG(P.Dc),K.LFG(U.y0))},Q.\u0275prov=K.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),dt})()},91930:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>I});var e=t(28849),i=t(57665),L=t(17401),f=t(86515),x=t(10662),S=t(33910),u=t(78173),g=t(92106),h=t(64650),O=t(60702),E=t(78654),w=t(39038),p=t(52484),V=t(96355),c=t(52098),C=t(31465),l=t(50275),o=t(38940),n=t(69400),s=t(93170),R=t(91467),_=t(61699);const b=[e.u5,E.yu,i.IF,L.Is,n.t,w.gR,x.jT,p.g0,S.Cq,u.Cv,f.Ps,O.AV,g.Fk,h.Wd,V.LD,c.XF,C.SJ,R.hp,l.Cl,o.yD,s.rt];let I=(()=>{var q;class a{}return(q=a).\u0275fac=function(M){return new(M||q)},q.\u0275mod=_.oAB({type:q}),q.\u0275inj=_.cJS({imports:[e.u5,b,e.u5,E.yu,i.IF,L.Is,n.t,w.gR,x.jT,p.g0,S.Cq,u.Cv,f.Ps,O.AV,g.Fk,h.Wd,V.LD,c.XF,C.SJ,R.hp,l.Cl,o.yD,s.rt]}),a})()},83532:(Dt,ct,t)=>{"use strict";t.d(ct,{p:()=>l});var e=t(21120),i=t(47178),f=t(32484),x=t(9681),S=t(87965),u=t(99901),g=t(47422),h=t(58175),O=t(61699),E=t(28332),w=t(15665),p=t(13963),V=t(90031),c=t(27947);let l=(()=>{var o;class n{constructor(R,_,b,I,q,a,y){this.applicationLifetimeService=R,this.sharedStorageService=_,this.updateService=b,this.loggingService=I,this.layoutService=q,this.lcarsService=a,this.router=y,this.confirmationDialogResult=new f.xQ,this.logger=this.loggingService.getLogger("MallRelaunchService")}startRelaunch(R){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.startRelaunch(R)}completeRelaunch(){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.readRelaunchSharedData().pipe((0,S.zg)(R=>this.currentStateMachine.clearRelaunchSharedData().pipe((0,u.h)(R))),(0,g.U)(R=>(0,e.wIc)(this.router.url)?null:R),(0,S.zg)(R=>(0,i.isNil)(R)||(0,i.isNil)(R.cmsId)?(0,x.of)(null):(this.logger.info(`Attempting to get application class object for ${R.cmsId}`),this.lcarsService.getMetadataByCmsId(parseInt(R.cmsId,10)))),(0,S.zg)(R=>{if(R){const _=this.layoutService.updateAndFetchApp(R);return _?_.launch(e.CGJ.ScreenMallHome,"relaunch"):(this.logger.error("Could not find application class object. Cannot complete relaunch"),(0,x.of)(!1))}return(0,x.of)(!1)}),(0,h.K)(R=>(this.logger.error("Relaunch failed.",R),(0,x.of)(!1))))}ensureNewRelaunchStateMachine(){!(0,i.isNil)(this.currentStateMachine)&&this.currentStateMachine.isActive()&&this.currentStateMachine.cancelRelaunch(),this.currentStateMachine=new e.WM6(this.applicationLifetimeService,this.sharedStorageService,this.updateService,this.loggingService)}resolveConfirmationDialog(R){this.confirmationDialogResult.next(R)}getStateMachineState$(){return(0,i.isNil)(this.currentStateMachine)?null:this.currentStateMachine.currentState()}}return(o=n).\u0275fac=function(R){return new(R||o)(O.LFG(E.Ll),O.LFG(w.OA),O.LFG(e.GMF),O.LFG(p.ed),O.LFG(V.P),O.LFG(e.zcQ),O.LFG(c.F0))},o.\u0275prov=O.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},73810:(Dt,ct,t)=>{"use strict";t.d(ct,{c:()=>Se});var e=t(32484),i=t(9681),L=t(64555),f=t(17827),x=t(13303),S=t(15746),u=t(46939),g=t(85046),h=t(36520),O=t(47422),E=t(87965),w=t(17627),p=t(58175),V=t(47178),c=t(46014),C=t(13963),l=t(21120),o=t(64295);const n={notificationMsg:"notification.octSurveyMessage",primaryButtonText:"common.yes",dismiss:"notification.noThanks"},s={notificationMsg:"notification.octSurveyPostMinimizeMessage",primaryButtonText:"common.continue",dismiss:"notification.quit"},R={notificationMsg:"notification.surveyBannerMessage",primaryButtonText:"notification.participate",dismiss:"notification.dismiss"},_={notificationMsg:"notification.usabilitySurveyMessage",primaryButtonText:"notification.participate",dismiss:"notification.dismiss"},b={primaryButtonText:"common.learnMore",dismiss:"notification.dismiss"};var I=t(26518),q=t(12501),a=t(61699),y=t(83532),M=t(27947),P=t(15665),K=t(59074),B=t(43559),j=t(91467),tt=t(42566),ot=t(75889),F=t(529),U=t(78654),z=t(86515),Q=t(26575);const dt=["notificationMessage"];function X(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"button",10),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.OS))}),a.TgZ(9,"i",11),a._uU(10,"close"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.xi3(7,2,"notification.systemcheckInformation",qt.os)," ")}}function m(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"button",10),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.Games))}),a.TgZ(9,"i",11),a._uU(10,"close"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,2,"notification.mustOwnGames")," ")}}function Y(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"button",12),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickRestart(Gt.noteTypes.RecommendedUpdate))}),a._uU(9),a.ALo(10,"translate"),a.qZA()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.xi3(7,3,"notification.recommendedUpdateAvailable",qt.newVersion)," "),a.xp6(3),a.hij(" ",a.lcZ(10,6,"notification.restartNow")," ")}}function D(ce,ge){1&ce&&a._UZ(0,"div")}function N(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(3);return a.KtG(Gt.onClickRefresh(Gt.noteTypes.RequiredUpdate))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"notification.refreshNow")," "))}function Z(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(3);return a.KtG(Gt.onClickRestart(Gt.noteTypes.RequiredUpdate))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"notification.restartNow")," "))}function W(ce,ge){if(1&ce&&(a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"div",13),a.YNc(9,D,1,0,"div",14),a.YNc(10,N,3,3,"ng-template",null,15,a.W1O),a.YNc(12,Z,3,3,"ng-template",null,16,a.W1O),a.qZA()()),2&ce){const qt=a.MAs(11),Ct=a.MAs(13),Gt=a.oxw(2);a.Q6J("ngClass",Gt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,5,"common.updateRequiredDescription")," "),a.xp6(3),a.Q6J("ngIf",Gt.isBrowserPlatform)("ngIfThen",qt)("ngIfElse",Ct)}}function A(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9)(6,"span"),a._uU(7),a.ALo(8,"translate"),a.qZA(),a.TgZ(9,"span"),a._uU(10),a.qZA()()(),a.TgZ(11,"button",12),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickRestart(Gt.noteTypes.CriticalUpdate))}),a._uU(12),a.ALo(13,"translate"),a.qZA()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(7),a.hij(" ",a.lcZ(8,4,"notification.criticalUpdateAvailableAndTimeLeft")," "),a.xp6(3),a.Oqu(qt.relaunchDisplayTimeRemaining),a.xp6(2),a.hij(" ",a.lcZ(13,6,"notification.restartNow")," ")}}function d(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"button",12),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickShowMeHow())}),a._uU(9),a.ALo(10,"translate"),a.qZA()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,3,"notification.showMeHowNotification")," "),a.xp6(3),a.hij(" ",a.lcZ(10,5,"notification.showMeHow")," ")}}function H(ce,ge){1&ce&&a.GkF(0)}const $=function(ce){return{noteTypeValue:ce}};function J(ce,ge){if(1&ce&&(a.TgZ(0,"div"),a.YNc(1,H,1,0,"ng-container",18),a.qZA()),2&ce){a.oxw();const qt=a.MAs(10),Ct=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",qt)("ngTemplateOutletContext",a.VKq(2,$,Ct.noteTypes.Survey))}}function st(ce,ge){1&ce&&a.GkF(0)}function lt(ce,ge){if(1&ce&&(a.TgZ(0,"div"),a.YNc(1,st,1,0,"ng-container",18),a.qZA()),2&ce){a.oxw();const qt=a.MAs(10),Ct=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",qt)("ngTemplateOutletContext",a.VKq(2,$,Ct.noteTypes.OperationalMessaging))}}function gt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(3);return a.KtG(Gt.onClickPrimaryButton())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&ce){const qt=a.oxw(3);a.xp6(1),a.hij(" ",a.lcZ(2,1,qt.surveyBannerText.primaryButtonText)," ")}}function vt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"div",8,9),a._uU(4),a.ALo(5,"translate"),a.qZA()(),a.TgZ(6,"div",13),a.YNc(7,gt,3,3,"button",19),a.TgZ(8,"button",17),a.NdJ("click",function(){const Zt=a.CHM(qt).noteTypeValue,ee=a.oxw(2);return a.KtG(ee.onClickClose(Zt))}),a._uU(9),a.ALo(10,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(4),a.hij(" ",a.lcZ(5,4,qt.surveyBannerText.notificationMsg)," "),a.xp6(3),a.Q6J("ngIf",qt.isSurveyBannerPrimaryButtonEnabled),a.xp6(2),a.hij(" ",a.lcZ(10,6,qt.surveyBannerText.dismiss)," ")}}function k(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",20),a._uU(3,"get_app"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.ALo(8,"translate"),a.qZA()(),a.TgZ(9,"div",13)(10,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.DownloadNativeClient))}),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickDownload())}),a._uU(14),a.ALo(15,"translate"),a.ALo(16,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",qt.isAppStoreLinkEnabled?a.lcZ(7,4,"notification.useGfnApp"):a.lcZ(8,6,"notification.downloadGfnApp")," "),a.xp6(5),a.hij(" ",a.lcZ(12,8,"common.notNow")," "),a.xp6(3),a.hij(" ",qt.isAppStoreLinkEnabled?a.lcZ(15,10,"common.get"):a.lcZ(16,12,"common.download")," ")}}function pt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",20),a._uU(3,"add_circle_outline"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"div",13)(9,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.InstallPWA))}),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickInstallPwa())}),a._uU(13),a.ALo(14,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,4,"notification.installPwaMessage")," "),a.xp6(4),a.hij(" ",a.lcZ(11,6,"common.notNow")," "),a.xp6(3),a.hij(" ",a.lcZ(14,8,"notification.install")," ")}}function yt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",7),a._uU(3,"info"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"div",13)(9,"button",21),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.UpdatePWA))}),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"button",21),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickUpdatePWA())}),a._uU(13),a.ALo(14,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,4,"notification.updatePWAMessage")," "),a.xp6(4),a.hij(" ",a.lcZ(11,6,"common.notNow")," "),a.xp6(3),a.hij(" ",a.lcZ(14,8,"notification.update")," ")}}function Xt(ce,ge){1&ce&&a._UZ(0,"div")}function It(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(3);return a.KtG(Gt.onClickLearnMore())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"common.learnMore")," "))}function Nt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(3);return a.KtG(Gt.onClickAllowNotification())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"notification.notifyMe")," "))}function le(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6)(2,"i",20),a._uU(3,"notifications"),a.qZA(),a.TgZ(4,"div",8,9),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"div",13)(9,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.BrowserPushNotification))}),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.YNc(12,Xt,1,0,"div",14),a.YNc(13,It,3,3,"ng-template",null,22,a.W1O),a.YNc(15,Nt,3,3,"ng-template",null,23,a.W1O),a.qZA()()}if(2&ce){const qt=a.MAs(14),Ct=a.MAs(16),Gt=a.oxw(2);a.Q6J("ngClass",Gt.notificationAvailable?"notification":"notification-animate"),a.xp6(6),a.hij(" ",a.lcZ(7,6,"notification.browserPushNotificationMessage")," "),a.xp6(4),a.hij(" ",a.lcZ(11,8,"common.notNow")," "),a.xp6(2),a.Q6J("ngIf",Gt.isPermissionDenied)("ngIfThen",qt)("ngIfElse",Ct)}}function te(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onUpgradeClick(Gt,Zt.noteTypes.DayPassExpired))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"settings.membership.upgrade")," "))}function bt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(4);return a.KtG(Zt.onShowManageMembershipPage(Gt,Zt.noteTypes.DayPassExpired))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.viewAccount")," "))}function Vt(ce,ge){if(1&ce&&a.YNc(0,bt,3,3,"button",28),2&ce){const qt=a.oxw(3);a.Q6J("ngIf",!qt.canHardUpsell)}}const ut=function(ce){return{prevSKUShortName:ce}};function re(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"mat-icon",24),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.DayPassExpired))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.YNc(11,te,3,3,"button",25),a.YNc(12,Vt,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&ce){const qt=a.MAs(13),Ct=a.oxw(2);a.Q6J("ngClass",Ct.notificationAvailable?"notification":"notification-animate"),a.xp6(5),a.hij(" ",a.xi3(6,5,Ct.getExpiryBannerText(Ct.noteTypes.DayPassExpired),a.VKq(10,ut,Ct.prevSKUShortName))," "),a.xp6(4),a.hij(" ",a.lcZ(10,8,"common.notNow")," "),a.xp6(2),a.Q6J("ngIf",Ct.canHardUpsell)("ngIfElse",qt)}}function Kt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onAddDaysClick(Gt,Zt.noteTypes.DayPassNearingExpiry))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.membership.addDays")," "))}function jt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(4);return a.KtG(Zt.onShowManageMembershipPage(Gt,Zt.noteTypes.DayPassNearingExpiry))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.viewAccount")," "))}function Wt(ce,ge){if(1&ce&&a.YNc(0,jt,3,3,"button",28),2&ce){const qt=a.oxw(3);a.Q6J("ngIf",!qt.canHardUpsell)}}const oe=function(ce){return{currentSKUShortName:ce}};function Qt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"mat-icon",24),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.DayPassNearingExpiry))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.YNc(11,Kt,3,3,"button",25),a.YNc(12,Wt,1,1,"ng-template",null,29,a.W1O),a.qZA()()}if(2&ce){const qt=a.MAs(13),Ct=a.oxw(2);a.Q6J("ngClass",Ct.notificationAvailable?"notification":"notification-animate"),a.xp6(5),a.hij(" ",a.xi3(6,5,Ct.getExpiryBannerText(Ct.noteTypes.DayPassNearingExpiry),a.VKq(10,oe,Ct.currentSKUShortName))," "),a.xp6(4),a.hij(" ",a.lcZ(10,8,"common.notNow")," "),a.xp6(2),a.Q6J("ngIf",Ct.canHardUpsell)("ngIfElse",qt)}}function Pt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onAddPlaytimeClick(Gt,Zt.noteTypes.TimeCappedLimitedState))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.addPlaytime")," "))}function Ut(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onViewTimeClick(Gt,Zt.noteTypes.TimeCappedLimitedState))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.viewPlaytime")," "))}function Tt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"mat-icon",24),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.TimeCappedLimitedState))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.YNc(11,Pt,3,3,"button",30),a.YNc(12,Ut,3,3,"ng-template",null,31,a.W1O),a.qZA()()}if(2&ce){const qt=a.MAs(13),Ct=a.oxw(2);a.Q6J("ngClass",Ct.notificationAvailable?"notification":"notification-animate"),a.xp6(5),a.hij(" ",a.lcZ(6,5,Ct.getTimeCappedBannerText(Ct.noteTypes.TimeCappedLimitedState))," "),a.xp6(4),a.hij(" ",a.lcZ(10,7,"common.notNow")," "),a.xp6(2),a.Q6J("ngIf",Ct.canHardUpsell)("ngIfElse",qt)}}function it(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onAddPlaytimeClick(Gt,Zt.noteTypes.TimeCappedLowState))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.addPlaytime")," "))}function Mt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(Gt){a.CHM(qt);const Zt=a.oxw(3);return a.KtG(Zt.onViewTimeClick(Gt,Zt.noteTypes.TimeCappedLowState))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ce&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"ecommerce.viewPlaytime")," "))}function zt(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"mat-icon",24),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.TimeCappedLowState))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.YNc(11,it,3,3,"button",30),a.YNc(12,Mt,3,3,"ng-template",null,31,a.W1O),a.qZA()()}if(2&ce){const qt=a.MAs(13),Ct=a.oxw(2);a.Q6J("ngClass",Ct.notificationAvailable?"notification":"notification-animate"),a.xp6(5),a.hij(" ",a.lcZ(6,5,Ct.getTimeCappedBannerText(Ct.noteTypes.TimeCappedLowState))," "),a.xp6(4),a.hij(" ",a.lcZ(10,7,"common.notNow")," "),a.xp6(2),a.Q6J("ngIf",Ct.canHardUpsell)("ngIfElse",qt)}}const ft=function(ce){return{store:ce}};function ve(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"img",33),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.AccountLinkingExpired))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"button",32),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickGotoSettings(Gt.noteTypes.AccountLinkingExpired))}),a._uU(12),a.ALo(13,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(2),a.s9C("src",qt.accountLinking.icon,a.LSH),a.xp6(3),a.hij(" ",a.xi3(6,5,"accountConnection.accountLinking.warningExpired",a.VKq(12,ft,qt.accountLinking.provider))," "),a.xp6(4),a.hij(" ",a.lcZ(10,8,"common.notNow")," "),a.xp6(3),a.hij(" ",a.lcZ(13,10,"common.goToSettings")," ")}}function Ce(ce,ge){if(1&ce){const qt=a.EpF();a.TgZ(0,"div",5)(1,"div",6),a._UZ(2,"img",33),a.TgZ(3,"div",8,9),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",13)(8,"button",17),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickClose(Gt.noteTypes.NewSyncFeature))}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"button",32),a.NdJ("click",function(){a.CHM(qt);const Gt=a.oxw(2);return a.KtG(Gt.onClickGotoSettings(Gt.noteTypes.NewSyncFeature))}),a._uU(12),a.ALo(13,"translate"),a.qZA()()()}if(2&ce){const qt=a.oxw(2);a.Q6J("ngClass",qt.notificationAvailable?"notification":"notification-animate"),a.xp6(2),a.s9C("src",qt.accountLinking.icon,a.LSH),a.xp6(3),a.hij(" ",a.lcZ(6,5,"notification.newUbisoftFeatureBanner")," "),a.xp6(4),a.hij(" ",a.lcZ(10,7,"common.notNow")," "),a.xp6(3),a.hij(" ",a.lcZ(13,9,"common.goToSettings")," ")}}const De=function(ce){return{multiline:ce}},ze=function(){return["left","right"]};function $e(ce,ge){if(1&ce&&(a.TgZ(0,"div",1),a.YNc(1,X,11,5,"div",2),a.YNc(2,m,11,4,"div",2),a.YNc(3,Y,11,8,"div",2),a.YNc(4,W,14,7,"div",2),a.YNc(5,A,14,8,"div",2),a.YNc(6,d,11,7,"div",2),a.YNc(7,J,2,4,"div",3),a.YNc(8,lt,2,4,"div",3),a.YNc(9,vt,11,8,"ng-template",null,4,a.W1O),a.YNc(11,k,17,14,"div",2),a.YNc(12,pt,15,10,"div",2),a.YNc(13,yt,15,10,"div",2),a.YNc(14,le,17,10,"div",2),a.YNc(15,re,14,12,"div",2),a.YNc(16,Qt,14,12,"div",2),a.YNc(17,Tt,14,9,"div",2),a.YNc(18,zt,14,9,"div",2),a.YNc(19,ve,14,14,"div",2),a.YNc(20,Ce,14,11,"div",2),a.qZA()),2&ce){const qt=a.oxw();a.Q6J("ngSwitch",qt.showNote())("ngClass",a.VKq(23,De,qt.isMultiline))("containFocus",a.DdM(25,ze))("@showNotification",qt.notificationAvailable)("@.disabled",!qt.enableAnimation),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.OS),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.Games),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.RecommendedUpdate),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.RequiredUpdate),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.CriticalUpdate),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.NonAdminRecommendedNotification),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.Survey),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.OperationalMessaging),a.xp6(3),a.Q6J("ngSwitchCase",qt.noteTypes.DownloadNativeClient),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.InstallPWA),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.UpdatePWA),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.BrowserPushNotification),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.DayPassExpired),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.DayPassNearingExpiry),a.xp6(1),a.Q6J("ngSwitchCase",qt.isTimeCappedEnable&&qt.noteTypes.TimeCappedLimitedState),a.xp6(1),a.Q6J("ngSwitchCase",qt.isTimeCappedEnable&&qt.noteTypes.TimeCappedLowState),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.AccountLinkingExpired),a.xp6(1),a.Q6J("ngSwitchCase",qt.noteTypes.NewSyncFeature)}}let Se=(()=>{var ce;class ge{constructor(Ct,Gt,Zt,ee,_e,Ie,Je,qe,bn,kn,wn,On,Ln,yn,Pe,Ue,Ae,we,We,Xe,Gn,Yn,ye,Ye,ue,Lt,kt,rt){var he,Ge;this.updateService=Gt,this.oobeService=Zt,this.mallRelaunchService=ee,this.networkStatusService=_e,this.surveyService=Ie,this.router=Je,this.appConfig=qe,this.localeService=bn,this.sharedStorageService=kn,this.gfnSwUpdateService=wn,this.ownershipSyncService=On,this.customLocationService=Ln,this.pathService=yn,this.pwaService=Pe,this.pwaPromptService=Ue,this.snackbar=Ae,this.translateService=we,this.genericDialog=We,this.systemInfoService=Xe,this.browserPushService=Gn,this.focusManager=Yn,this.appleScreenService=ye,this.dialogService=Ye,this.ecommerceService=ue,this.idmService=Lt,this.offDeviceLinkService=kt,this.bannerNotificationService=rt,this.displayTimeConfig=[l.Or7.MINUTES,l.Or7.SECONDS],this.defaultVersion="0.0.0.0",this.millisecondsPerDay=864e5,this.snackBarDuration=7e3,this.bannerOverBannerDelay=1e3,this.enable10ft=!1,this.isMultiline=!1,this.noteTypes=o.j_,this.os={minOsVersion:this.oobeService.getMinOsVersion},this.newVersion={updateVersion:this.defaultVersion},this.notificationAvailable=!1,this.prevSKUShortName="",this.currentSKUShortName="",this.accountLinking={provider:"",icon:""},this.isSurveyBannerPrimaryButtonEnabled=!0,this.canHardUpsell=!0,this.logger=Ct.getLogger("notification.component"),this.destroy$=new e.xQ,this.isAppStoreLinkEnabled=!!this.appConfig.client.enableAppStoreLink,this.hierarchy=l.D7$.CheckoutUpdateProgressEcomUIState,this.enable10ft=!(null==qe||null===(he=qe.featureEnablement)||void 0===he||!he.tvMode||null===(Ge=this.appConfig)||void 0===Ge||null===(Ge=Ge.featureEnablement)||void 0===Ge||!Ge.new10ftUx)}get enableAnimation(){return this.enable10ft}get isBrowserPlatform(){return C.ng.isBrowserPlatform()}ngOnInit(){var Ct;this.relaunchSecondsRemaining=300,this.relaunchDisplayTimeRemaining="",this.canHardUpsell=this.ecommerceService.canHardUpsell(),this.isTimeCappedEnable=this.ecommerceService.isTimeCapSKUFeatureEnabled,this.oobeService.oobeDialogClosedState.pipe((0,x.R)(this.destroy$)).subscribe({complete:()=>{this.onOobeSkipped()}}),this.getDownloadPageUrl(),this.checkClientUpdates(),this.checkServiceWorkerUpdates(),this.checkSurveyNotification(),this.checkAccountLinking(),this.checkPushNotification(),this.checkOnboardingSyncFeature(),this.checkPlaytimeBanners(),this.idmService.accountStatusChanged.pipe((0,x.R)(this.destroy$),(0,S.b)(Gt=>{Gt.isAuthenticated||this.removeTimeAlertBannerNotifications()})).subscribe(),this.systemInfoService.getDeviceOSType().pipe((0,x.R)(this.destroy$),(0,u.q)(1)).subscribe(Gt=>{const _e=Gt===C.wi.Linux,Ie=Gt===C.wi.ChromeOS;(this.shouldShowClientDownload(Gt===C.wi.Windows,Gt===C.wi.MacOS)||this.isAppStoreLinkEnabled)&&this.checkForClientDownload(),this.shouldShowPwaInstall(Ie,_e)&&this.checkForPwaInstall()}),null!==(Ct=this.appConfig)&&void 0!==Ct&&null!==(Ct=Ct.featureEnablement)&&void 0!==Ct&&Ct.enableAppleTranslucentStatusBar&&this.checkForPwaUpdate()}getDownloadPageUrl(){const Ct=this.appConfig.redirect.serverUrl,Gt=l.qBq.GFN_PC_DOWNLOAD;this.localeService.localeChanged.pipe((0,x.R)(this.destroy$)).subscribe(Zt=>{this.downloadNativeClientUrl=`${Ct}${Zt}&page=${Gt}`})}checkAccountLinking(){this.ownershipSyncService.providerOperationUpdate().pipe((0,g.h)(Ct=>Ct.operation===l.pr3.InitialFetchDone||Ct.operation===l.pr3.LinkingDone||Ct.operation===l.pr3.LinkingError||Ct.operation===l.pr3.SyncingDone||Ct.operation===l.pr3.Expiring),(0,x.R)(this.destroy$)).subscribe(Ct=>{this.logger.info("Account linking provider:",Ct.provider),this.checkForAccountLinkingExpiration(Ct.provider)})}checkPlaytimeBanners(){this.ecommerceService.getUserMembership().pipe((0,x.R)(this.destroy$),(0,h.w)(Ct=>this.ecommerceService.isDayPassSubscription||this.ecommerceService.isTimeCappedSubscription&&this.ecommerceService.isTimeCapSKUFeatureEnabled?this.ecommerceService.onTimeRemainingAlertForBanner.pipe((0,x.R)(this.destroy$),(0,h.w)(Gt=>{if(Gt.isLowStateAlert){if(this.ecommerceService.isDayPassSubscription&&!this.hasSpecificNote(o.j_.DayPassNearingExpiry))return this.canShowTimeAlertBanner(Ct,!0,!1).pipe((0,u.q)(1),(0,S.b)(Zt=>{var ee;Zt&&(this.logger.info("Showing day pass nearing expiry banner"),this.addNote(o.j_.DayPassNearingExpiry),this.currentSKUShortName=null==Ct||null===(ee=Ct.product)||void 0===ee?void 0:ee.shortDescription)}));if(this.ecommerceService.isTimeCappedSubscription&&!this.hasSpecificNote(o.j_.TimeCappedLowState))return this.hasSpecificNote(o.j_.TimeCappedLimitedState)&&this.removeNote(o.j_.TimeCappedLimitedState),this.canShowTimeAlertBanner(Ct,!1,!1).pipe((0,u.q)(1),(0,S.b)(Zt=>{Zt&&this.addNote(o.j_.TimeCappedLowState)}))}else if(Gt.isLimitedStateAlert){if(this.ecommerceService.isLimitedState&&!this.hasSpecificNote(o.j_.TimeCappedLimitedState))return this.hasSpecificNote(o.j_.TimeCappedLowState)&&this.removeNote(o.j_.TimeCappedLowState),this.canShowTimeAlertBanner(Ct,!1,!0).pipe((0,u.q)(1),(0,S.b)(Zt=>{Zt&&this.addNote(o.j_.TimeCappedLimitedState)}))}else this.removeTimeAlertBannerNotifications();return(0,i.of)(null)})):(this.removeTimeAlertBannerNotifications(),(0,i.of)(null)))).subscribe(),this.ecommerceService.getDayPassExpiryDetails().pipe((0,x.R)(this.destroy$)).subscribe(Ct=>{null!=Ct&&Ct.show?(this.addNote(o.j_.DayPassExpired),this.prevSKUShortName=Ct.oldSKUShortName):this.hasSpecificNote(o.j_.DayPassExpired)&&this.removeNote(o.j_.DayPassExpired)})}removeTimeAlertBannerNotifications(){this.hasSpecificNote(o.j_.DayPassNearingExpiry)&&this.removeNote(o.j_.DayPassNearingExpiry),this.ecommerceService.isDayPassSubscription&&this.hasSpecificNote(o.j_.DayPassExpired)&&this.removeNote(o.j_.DayPassExpired),this.hasSpecificNote(o.j_.TimeCappedLimitedState)&&this.removeNote(o.j_.TimeCappedLimitedState),this.hasSpecificNote(o.j_.TimeCappedLowState)&&this.removeNote(o.j_.TimeCappedLowState)}removeTimeAlertBannerPreference(Ct){this.sharedStorageService.removeBlock(Ct).pipe((0,u.q)(1)).subscribe()}canShowTimeAlertBanner(Ct,Gt,Zt){let ee,_e;return Gt?(_e=Ct.subscription.expirationDateTime,ee=o.Zc):(_e=Ct.subscription.currentSpanEndDateTime,ee=Zt?o.VD:o.Uj),this.sharedStorageService.readBlock(ee).pipe((0,O.U)(Ie=>{var Je;return 0===(null===(Je=Object.keys(Ie))||void 0===Je?void 0:Je.length)||(!Ie.isPromptDismissed||Ie.expirationDateTime!==_e)&&(this.removeTimeAlertBannerPreference(ee),!0)}))}onAddDaysClick(Ct,Gt){this.logger.trace(I.y$.UserGesture,"Clicked on Add Days option"),this.ecommerceService.openMembershipPageAndDialog(()=>{this.ecommerceService.openDayPassCheckoutPage(l.CGJ.ScreenLowPlaytimeDayPassBanner,this.hierarchy)},l.CGJ.ScreenLowPlaytimeDayPassBanner,this.hierarchy,l.l2p.AddDayPassMembershipProgress),this.removeNote(Gt)}onUpgradeClick(Ct,Gt){this.logger.trace(I.y$.UserGesture,"Clicked on upgrade membership option"),this.ecommerceService.openMembershipPageAndDialog(()=>{this.ecommerceService.openUpgradeMemberShipPage(l.CGJ.ScreenDayPassExpiryBanner,this.hierarchy)},l.CGJ.ScreenDayPassExpiryBanner,this.hierarchy),this.removeNote(Gt)}onShowManageMembershipPage(Ct,Gt){this.logger.trace(I.y$.UserGesture,"Clicked on manage membership option"),this.ecommerceService.openAccountManagementPage(l.CGJ.ScreenSettings,this.hierarchy),this.removeNote(Gt)}onAddPlaytimeClick(Ct,Gt){this.logger.trace(I.y$.UserGesture,"Clicked on Add Playtime option"),this.ecommerceService.openAddPlaytimePageAndDialog(l.CGJ.ScreenAddPlaytimeBanner,l.D7$.ViewOrAddPlaytimeBannerComponent),this.removeNote(Gt)}onViewTimeClick(Ct,Gt){this.logger.trace(I.y$.UserGesture,"Clicked on View playtime Summary option"),this.ecommerceService.openViewPlaytimePage(l.CGJ.ScreenAddPlaytimeBanner,l.D7$.ViewOrAddPlaytimeBannerComponent),this.removeNote(Gt)}getExpiryBannerText(Ct){return Ct===o.j_.DayPassExpired?"notification.dayPassExpiredBanner":Ct===o.j_.DayPassNearingExpiry?"notification.dayPassNearingExpiryBanner":(this.logger.info(`Unsupported type:${Ct}`),"")}getTimeCappedBannerText(Ct){return Ct===o.j_.TimeCappedLimitedState?"notification.timeCapLimitedStateBanner":Ct===o.j_.TimeCappedLowState?"notification.timeCapLowStateBanner":(this.logger.info(`Unsupported type:${Ct}`),"")}checkOnboardingSyncFeature(){this.ownershipSyncService.waitForAccountLinkingData.pipe((0,O.U)(Ct=>this.ownershipSyncService.getEnabledAccountProviders().filter(Zt=>this.appConfig.accountLinking.newFeatureAddition.includes(Zt.type))),(0,h.w)(Ct=>{const Gt=[];return null==Ct||Ct.forEach(Zt=>{Zt&&(this.logger.info("Check for new feature noification",Zt),Gt.push(this.checkForNewSyncingFeature(Zt.type)))}),(0,L.aj)(Gt)}),(0,u.q)(1),(0,x.R)(this.destroy$)).subscribe()}checkClientUpdates(){this.updateService.getUpdates$().pipe((0,x.R)(this.destroy$)).subscribe(Ct=>{this.logger.info("New udpate available"),this.onUpdateAvailable({update:Ct,isNonAdmin:!1})},Ct=>{this.logger.error("Received error from getUpdate$ observable: ",Ct)}),this.updateService.updateRequiredOnLaunch$().pipe((0,x.R)(this.destroy$)).subscribe(()=>{this.logger.info("Successfully checked for existing update")},Ct=>{this.logger.error("Failed to check for existing update ticket",Ct)})}checkServiceWorkerUpdates(){C.ng.isBrowserPlatform()&&(this.logger.info("Service worker registring for updates"),this.gfnSwUpdateService.updateReady().pipe((0,x.R)(this.destroy$)).subscribe(()=>{this.logger.info("Service worker update ready. Showing notification."),this.onUpdateAvailable({update:{version:null,severity:l.WOA.Required},isNonAdmin:!1})}))}persistPromptState(Ct){this.sharedStorageService.writeBlock(Ct,{appVersion:this.appConfig.build.version,isPromptDismissed:!0}).pipe((0,x.R)(this.destroy$)).subscribe()}persistPushNotificationPromptState(){this.sharedStorageService.writeBlock(o.jZ,{appVersion:this.appConfig.build.version,isPromptDismissed:!0,timeLastShown:Date.now()}).pipe((0,u.q)(1),(0,x.R)(this.destroy$)).subscribe(()=>this.logger.info("persist Push Notification Prompt State is success"),Ct=>this.logger.error("Error while writing to shared storage for browserPushNotification",Ct))}persistExpiryPromptState(Ct){this.ecommerceService.getUserMembership().pipe((0,u.q)(1),(0,E.zg)(Gt=>{let Zt,ee;return Ct===o.j_.DayPassNearingExpiry?(ee=Gt.subscription.expirationDateTime,Zt=o.Zc):(ee=Gt.subscription.currentSpanEndDateTime,Zt=Ct===o.j_.TimeCappedLimitedState?o.VD:o.Uj),this.sharedStorageService.writeBlock(Zt,{isPromptDismissed:!0,expirationDateTime:ee})})).subscribe(()=>this.logger.info("persist Day Pass Nearing Expiry Prompt State is success"),Gt=>this.logger.error("Error while writing to shared storage for Day Pass Nearing Expiry",Gt))}isMajorVersionUpdate(Ct,Gt){return!Ct||Number(Ct.split(".")[2])<Number(Gt.split(".")[2])}shouldShowClientDownload(Ct,Gt){return C.ng.isBrowserPlatform()&&(Gt&&!C.ng.isTouchPlatform()||Ct)}shouldShowPwaInstall(Ct,Gt){return Ct||Gt}checkForClientDownload(){this.sharedStorageService.readBlock(o.sD).pipe((0,S.b)(Ct=>{(!Ct.appVersion||this.isMajorVersionUpdate(Ct.appVersion,this.appConfig.build.version)||!Ct.isPromptDismissed)&&(this.logger.info("Showing download client prompt"),this.addNote(o.j_.DownloadNativeClient))}),(0,x.R)(this.destroy$)).subscribe()}checkForPwaInstall(){(0,L.aj)([this.sharedStorageService.readBlock(o.wt),this.pwaService.onPWAModeChange,this.pwaPromptService.pwaInstallPromptCaptured$]).pipe((0,O.U)(([Ct,Gt,Zt])=>{this.logger.info("PWA Prompt: Emitted values:",Ct,Gt),Ct.appVersion&&!this.isMajorVersionUpdate(Ct.appVersion,this.appConfig.build.version)&&Ct.isPromptDismissed||Gt?(this.logger.info("Removing PWA installation prompt"),this.removeNote(o.j_.InstallPWA)):(this.logger.info("Showing PWA installation prompt"),this.addNote(o.j_.InstallPWA))}),(0,x.R)(this.destroy$)).subscribe()}checkForPwaUpdate(){(0,L.aj)([this.sharedStorageService.readBlock(o.zv),this.pwaService.onPWAModeChange,this.appleScreenService.isDeprecated()]).pipe((0,O.U)(([Ct,Gt,Zt])=>{this.logger.info("PWA Prompt: Emitted values:",Ct,Gt),!Zt||!Gt||Ct.appVersion&&!this.isMajorVersionUpdate(Ct.appVersion,this.appConfig.build.version)&&Ct.isPromptDismissed?(this.logger.info("Removing PWA Update prompt"),this.removeNote(o.j_.UpdatePWA)):(this.logger.info("Showing PWA Update prompt"),this.addNote(o.j_.UpdatePWA))}),(0,x.R)(this.destroy$)).subscribe()}checkPushNotification(){this.pushNotificationBannerSubscription=this.browserPushService.isNotificationAllowed().pipe((0,E.zg)(Ct=>(this.logger.info("Notification Banner is allowed to show: ",Ct),Ct?this.showPushNotificationBanner():(0,i.of)(!1)))).subscribe(Ct=>{this.logger.info("Notification Banner is shown: ",Ct)},Ct=>{this.logger.error("Error occured while checking for Push Notification Banner",Ct)})}showPushNotificationBanner(){return this.sharedStorageService.readBlock(o.jZ).pipe((0,O.U)(Ct=>this.browserPushService.isNotificationSupported()&&Notification.permission!==l.Ad8.Granted&&(!Ct.appVersion||!Ct.isPromptDismissed||this.isMajorVersionUpdate(Ct.appVersion,this.appConfig.build.branch)&&this.checkBannerExpiry(Ct.timeLastShown,7))?(this.logger.info("Showing Browser Push Notification Permission Prompt"),this.logger.info("Notification.permission from Notification API ",Notification.permission),this.isPermissionDenied=Notification.permission===l.Ad8.Denied,this.addNote(o.j_.BrowserPushNotification),!0):(this.removeNote(o.j_.BrowserPushNotification),!1)))}checkBannerExpiry(Ct,Gt){return!Ct||(Date.now()-Ct)/this.millisecondsPerDay>Gt}checkSurveyNotification(){this.bannerNotificationService.shouldBypassSurveyCheck().pipe((0,E.zg)(Ct=>Ct?(this.logger.info("Bypass checking survey availability, and get stored survey if available"),this.bannerNotificationService.getCurrentSurveyResponse()):(this.logger.info("Checking if survey is available"),this.surveyService.checkForAvailableSurveyBanner([c.TriggerType.SurveyBanner,c.TriggerType.UXTestBanner,c.TriggerType.CommunicationBanner,c.TriggerType.NotificationBanner]).pipe((0,S.b)(Gt=>this.bannerNotificationService.updateSurveyResponse(Gt))))),(0,x.R)(this.destroy$)).subscribe(Ct=>{this.showSurveyNotificationBanner(Ct)}),this.surveyService.getMinimizedSurvey$().pipe((0,x.R)(this.destroy$)).subscribe(Ct=>{this.bannerNotificationService.updateSurveyResponse(Ct),this.showSurveyNotificationBanner(Ct)})}showSurveyNotificationBanner(Ct){this.isSurveyBannerPrimaryButtonEnabled=!!(null!=Ct&&Ct.notificationUrl||(null==Ct?void 0:Ct.triggerType)!==c.TriggerType.NotificationBanner),this.logger.info("Received survey from survey service: ",Ct),this.logger.info("Is a minimized survey ?",null==Ct?void 0:Ct.surveyVisited);const Gt=this.surveyService.getBannerSurveyTriggerType(),Zt=Gt===c.TriggerType.NotificationBanner?o.j_.OperationalMessaging:o.j_.Survey;!(0,V.isNil)(Ct)&&this.checkForBrowserPlatform()?(this.logger.info("showing survey notification",Gt),this.addNote(Zt),this.surveyBannerText=this.getSurveyBannerText(Gt,Ct.surveyVisited),Ct.triggerType===c.TriggerType.NotificationBanner&&(this.surveyBannerText.notificationMsg=Ct.bannerText),this.surveyService.sendUserSurveyTelemetry(Ct.surveyVisited?l._G.NotifyPostMinimize:l._G.Notify,l.wN.MallScreen,Gt,Ct),Gt!==c.TriggerType.CommunicationBanner&&Gt!==c.TriggerType.NotificationBanner&&this.addNoteTimer()):(this.hasSpecificNote(o.j_.UsabilityStudy)||this.hasSpecificNote(o.j_.Survey)||this.hasSpecificNote(o.j_.OperationalMessaging))&&(0,V.isNil)(Ct)?(this.logger.info("usability study/survey/operational messaging banner is already present and result is undefined",Zt),this.removeNote(Zt)):this.logger.info("Skipping usability study",Ct)}getSurveyBannerText(Ct,Gt=!1){switch(Ct){case c.TriggerType.SurveyBanner:return R;case c.TriggerType.UXTestBanner:return _;case c.TriggerType.CommunicationBanner:return Gt?s:n;case c.TriggerType.NotificationBanner:return b}}checkForBrowserPlatform(){return!C.ng.isBrowserPlatform()||C.ng.isBrowserPlatform()&&this.router.url!==l.nnJ.Surveys}stopExistingNotificationTimer(){this.notificationIntervalSubscription&&(this.notificationIntervalSubscription.unsubscribe(),this.notificationIntervalSubscription=null,this.logger.info("notification interval stopped"))}addNoteTimer(){this.stopExistingNotificationTimer();const Ct=this.surveyService.getBannerNotificationTimer();this.logger.info("config: get timer: ",Ct),this.notificationIntervalSubscription=(0,f.F)(Ct).pipe((0,w.P)(),(0,g.h)(()=>this.hasSpecificNote(o.j_.UsabilityStudy)||this.hasSpecificNote(o.j_.Survey)),(0,E.zg)(()=>{this.logger.info("Survey or usability study notification timed out removing the notification"),this.removeNote(this.hasSpecificNote(o.j_.Survey)?o.j_.Survey:o.j_.UsabilityStudy);const Gt=this.surveyService.getSurveyBannerInProgress();return this.surveyService.declineSurveys(l._G.DismissTimeout,l.wN.MallScreen,Gt)})).subscribe()}addNote(Ct){this.logger.info("Adding note:",Ct),this.bannerNotificationService.addNotificationToQueue(Ct),this.notificationAvailable=!0,this.noteChanges()}removeNote(Ct){let Gt=!1;this.logger.info("Removing note:",Ct);const Zt=this.bannerNotificationService.removeNotificationFromQueue(Ct);return this.notificationAvailable=this.hasAnyNote(),this.notificationAvailable&&(Gt=!0,this.notificationAvailable=!1,setTimeout(()=>{this.notificationAvailable=Gt,this.noteChanges()},this.bannerOverBannerDelay)),Zt}noteChanges(){setTimeout(()=>{var Ct;if(null===(Ct=this.notificationMessageElement)||void 0===Ct||!Ct.nativeElement)return;const Gt=parseFloat(window.getComputedStyle(this.notificationMessageElement.nativeElement).lineHeight);this.isMultiline=this.notificationMessageElement.nativeElement.clientHeight/Gt>=2})}onOobeSkipped(){this.showOsNotificationIfNeeded()}onUpdateAvailable(Ct){var Gt;const Zt=Ct.isNonAdmin;let ee;if(this.logger.info("onUpdateAvailable",Ct,Ct.update.severity,Zt),Zt)ee=o.j_.NonAdminRecommendedNotification;else switch(Ct.update.severity){case l.WOA.Recommended:ee=o.j_.RecommendedUpdate;break;case l.WOA.Required:ee=o.j_.RequiredUpdate;break;case l.WOA.Critical:ee=o.j_.CriticalUpdate,this.criticalUpdateCountdown();break;default:return void this.logger.error("Unknown update type : ",Ct.update.severity)}this.addNote(ee),this.newVersion.updateVersion=(null===(Gt=Ct.update.version)||void 0===Gt?void 0:Gt.toString())||this.defaultVersion}updateCountdownTimer(){this.relaunchSecondsRemaining--,this.relaunchDisplayTimeRemaining=(0,l.TWU)(this.relaunchSecondsRemaining,this.displayTimeConfig)}criticalUpdateCountdown(){const Ct=(0,f.F)(1e3).pipe((0,u.q)(this.relaunchSecondsRemaining),(0,S.b)(Gt=>{this.logger.info(this.relaunchSecondsRemaining),this.relaunchSecondsRemaining>=1&&this.updateCountdownTimer()}),(0,O.U)(()=>this.relaunchSecondsRemaining),(0,g.h)(Gt=>0===Gt),(0,S.b)(Gt=>this.logger.info("Calling update and restart..")),(0,E.zg)(Gt=>this.mallRelaunchService.startRelaunch(!0)));this.startUpdate(Ct,o.j_.CriticalUpdate)}showOsNotificationIfNeeded(){C.ng.isBrowserPlatform()||this.oobeService.meetSysRequirements().pipe((0,x.R)(this.destroy$)).subscribe(Ct=>{Ct||(this.logger.info("OS min. requirement is not met, show OS notification"),setTimeout(()=>{this.addNote(o.j_.OS)},2e3))})}onUpdateError(){return(0,L.aj)([this.translateService.get("notification.dismiss"),this.translateService.get("notification.updateFailure")]).pipe((0,O.U)(([Zt,ee])=>(this.snackbar.open(ee,Zt,{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}),!1)),(0,x.R)(this.destroy$))}startUpdate(Ct,Gt){Ct.pipe((0,p.K)(Zt=>(this.removeNote(Gt),this.logger.error("Update error: ",Zt),this.onUpdateError())),(0,x.R)(this.destroy$)).subscribe(Zt=>{this.logger.info("Update result: ",Zt)})}showNote(){return this.bannerNotificationService.getFirstNotificationInQueue()}hasAnyNote(){return this.bannerNotificationService.isNotificationInQueueNotEmpty()}hasSpecificNote(Ct){return this.bannerNotificationService.hasNotificationInQueue(Ct)}onClickClose(Ct){const Gt=this.removeNote(Ct);Gt===o.j_.Games?(this.logger.info("closing oobe message: you must own games"),this.showOsNotificationIfNeeded()):Gt===o.j_.OS?this.logger.info("closing oobe message: OS requirements"):Gt===o.j_.UsabilityStudy?this.declineSurveys():Gt===o.j_.DownloadNativeClient?this.persistPromptState(o.sD):Gt===o.j_.InstallPWA?this.persistPromptState(o.wt):Gt===o.j_.UpdatePWA?this.persistPromptState(o.zv):Gt===o.j_.Survey||Gt===o.j_.OperationalMessaging?this.declineSurveys():Gt===o.j_.BrowserPushNotification?this.persistPushNotificationPromptState():Gt===o.j_.DayPassNearingExpiry||Gt===o.j_.TimeCappedLowState||Gt===o.j_.TimeCappedLimitedState?this.persistExpiryPromptState(Gt):this.logger.info("closing oobe message")}onClickRefresh(Ct){this.logger.info("REFRESH NOW clicked. Requesting SW to activate"),this.removeNote(Ct),this.logger.info("Notification removed due to refresh, type: ",Ct),this.gfnSwUpdateService.activateServiceWorker().pipe((0,x.R)(this.destroy$)).subscribe(Gt=>this.logger.info("SW activation result",Gt),Gt=>this.logger.info("SW activation err",Gt.toString()))}onClickPrimaryButton(){this.networkStatusService.isOnline?(this.surveyService.primarySurveyBannerAction(),this.getSurveyBannerNotificationType()!==o.j_.OperationalMessaging&&this.removeNote(this.getSurveyBannerNotificationType())):(this.removeNote(this.getSurveyBannerNotificationType()),this.openConnectionErrorDialog())}getSurveyBannerNotificationType(){return this.hasSpecificNote(o.j_.OperationalMessaging)?o.j_.OperationalMessaging:this.hasSpecificNote(o.j_.Survey)?o.j_.Survey:o.j_.UsabilityStudy}onClickDownload(){var Ct;this.persistPromptState(o.sD),this.removeNote(o.j_.DownloadNativeClient),this.isAppStoreLinkEnabled?window.open(null===(Ct=this.appConfig.client)||void 0===Ct?void 0:Ct.appStoreLink):window.open(this.downloadNativeClientUrl)}onClickInstallPwa(){this.persistPromptState(o.wt),this.removeNote(o.j_.InstallPWA),this.pwaPromptService.promptFromDeferredEvent()}onClickUpdatePWA(){this.dialogService.openPwaWallHelpDialog()}onClickAllowNotification(){this.persistPushNotificationPromptState(),this.removeNote(o.j_.BrowserPushNotification),this.browserPushService.requestPermissionForPushNotification()}onClickLearnMore(){this.persistPushNotificationPromptState(),this.removeNote(o.j_.BrowserPushNotification),this.offDeviceLinkService.open(this.browserPushService.pushNotificationKBAUrl,{shortUrl:l.hD7[l.hEi.GfnPcBrowserPushNotification]})}declineSurveys(){if(this.networkStatusService.isOnline){const Ct=this.surveyService.getSurveyBannerInProgress();this.surveyService.declineSurveys(Ct.surveyVisited?l._G.DismissManualPostMinimize:l._G.DismissManual,l.wN.MallScreen,Ct).pipe((0,w.P)()).subscribe(()=>{this.removeNote(this.getSurveyBannerNotificationType()),this.logger.info("Notification removed since survey declined")})}else this.openConnectionErrorDialog(!0)}openConnectionErrorDialog(Ct=!1){const Gt=this.focusManager.restoreFocusAfterClosed(()=>this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"notification.errorHeader"},bodyText:{text:"notification.errorDescription"},primaryButton:{text:"common.tryAgain",accentColor:!0},secondaryButton:{text:"common.exit"}}}));Gt.primaryButtonClick.pipe((0,u.q)(1)).subscribe(()=>{Gt.close(),Ct?this.onClickClose(this.getSurveyBannerNotificationType()):(this.logger.info("Trying clicking again on primary button"),this.onClickPrimaryButton())}),Gt.secondaryButtonClick.pipe((0,u.q)(1)).subscribe(()=>{Gt.close()})}onClickRestart(Ct){this.startUpdate(this.mallRelaunchService.startRelaunch(!1),Ct)}onClickShowMeHow(){window.open(l.hEi.BaseUrl+"en_US&page=gfn_pc_help_update"),this.removeNote(o.j_.NonAdminRecommendedNotification)}checkForAccountLinkingExpiration(Ct){const Gt=this.ownershipSyncService.getNotificationInfo(Ct);if(this.hasSpecificNote(o.j_.AccountLinkingExpired)&&(this.logger.info("Remove stale expiry notification",Ct),this.removeNote(o.j_.AccountLinkingExpired)),Gt&&Gt.isAccountLinkingSsoAvailable&&Gt.loggedIn){const Zt=Gt.expirationStatus;Zt!==l.hB7.NotExpired&&(this.accountLinking.provider=Gt.storeName,this.accountLinking.icon=Gt.icon,Zt===l.hB7.Expired)&&(this.addNote(o.j_.AccountLinkingExpired),this.dismissNotificationsOnCtaCancel())}}dismissNotificationsOnCtaCancel(){var Ct;null===(Ct=this.launchCTASub)||void 0===Ct||Ct.unsubscribe(),this.launchCTASub=this.ownershipSyncService.onCancelCTA().pipe((0,x.R)(this.destroy$),(0,u.q)(1)).subscribe(()=>{this.removeNote(o.j_.AccountLinkingExpired)})}checkForNewSyncingFeature(Ct){const Gt=this.ownershipSyncService.getNotificationInfo(Ct);return this.hasSpecificNote(o.j_.NewSyncFeature)&&(this.logger.info("Remove stale new feature notification",Ct),this.removeNote(o.j_.NewSyncFeature)),Ct&&Gt.showOnboardingReconnect?(this.accountLinking.icon=Gt.icon,this.logger.info("Showing new feature notification",Ct),this.addNote(o.j_.NewSyncFeature),this.ownershipSyncService.onboardingStatusChange().pipe((0,g.h)(Zt=>Zt.state&&Zt.providerType===Ct),(0,u.q)(1),(0,O.U)(()=>(this.logger.info("Clearing new feature notification",Ct),this.removeNote(o.j_.NewSyncFeature),(0,i.of)(!0))))):(0,i.of)(!1)}onClickGotoSettings(Ct){var Gt;this.removeNote(Ct),null===(Gt=this.launchCTASub)||void 0===Gt||Gt.unsubscribe(),this.launchCTASub=null,this.ownershipSyncService.triggerHighlightOnSettingsIntegration(),this.customLocationService.backNavigationRoute=this.router.url,this.pathService.navigate([l.nnJ.Settings],{skipLocationChange:!0,fragment:"settings_integrations"})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.notificationIntervalSubscription&&this.notificationIntervalSubscription.unsubscribe(),this.snackBarSubscription&&(this.snackBarSubscription.unsubscribe(),this.snackBarSubscription=null),this.pushNotificationBannerSubscription&&(this.pushNotificationBannerSubscription.unsubscribe(),this.pushNotificationBannerSubscription=null)}}return(ce=ge).\u0275fac=function(Ct){return new(Ct||ce)(a.Y36(C.ed),a.Y36(l.GMF),a.Y36(l.HKp),a.Y36(y.p),a.Y36(C._J),a.Y36(l.FR5),a.Y36(M.F0),a.Y36(l.VKt),a.Y36(C.OL),a.Y36(P.OA),a.Y36(l.m$M),a.Y36(l.qMk),a.Y36(l.X5k),a.Y36(l.unb),a.Y36(l.nG5),a.Y36(l.UJ),a.Y36(K.pl),a.Y36(B.sK),a.Y36(j.TX),a.Y36(C.Ob),a.Y36(l.uu8),a.Y36(j.IK),a.Y36(l.mfJ),a.Y36(l.xAy),a.Y36(l.BHV),a.Y36(l.No2),a.Y36(j.qA),a.Y36(tt.h))},ce.\u0275cmp=a.Xpm({type:ce,selectors:[["gfn-notification"]],viewQuery:function(Ct,Gt){if(1&Ct&&a.Gf(dt,5),2&Ct){let Zt;a.iGM(Zt=a.CRH())&&(Gt.notificationMessageElement=Zt.first)}},decls:1,vars:1,consts:[["class","notification-container","fxLayout","column","fxLayoutAlign","center","nvSpatialNavigationContainer","","captureFocusForChild","true","nvFocusBack","",3,"ngSwitch","ngClass","containFocus",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center","nvSpatialNavigationContainer","","captureFocusForChild","true","nvFocusBack","",1,"notification-container",3,"ngSwitch","ngClass","containFocus"],["class","notification-base",3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchCase"],["surveyBanner",""],[1,"notification-base",3,"ngClass"],[1,"icon-title-row"],[1,"material-icons","info-icon","notification-info-icon"],[1,"notification-base-message-description","font-body2"],["notificationMessage",""],["mat-button","",1,"button-alignment",3,"click"],[1,"material-icons"],["mat-button","","aria-label","now",1,"font-button2","button-alignment",3,"click"],[1,"button-alignment"],[4,"ngIf","ngIfThen","ngIfElse"],["refreshButton",""],["relaunchButton",""],["mat-button","","aria-label","now",1,"font-button2",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","font-button2","mat-button","","aria-label","now",3,"click",4,"ngIf"],[1,"material-icons","notification-info-icon"],["mat-button","",1,"font-button2",3,"click"],["learnMoreButton",""],["notifyMeButton",""],["svgIcon","time",1,"matIcon"],["class","font-button2","mat-button","","aria-label","",3,"click",4,"ngIf","ngIfElse"],["showManageButtonOnDayPassExpiry",""],["mat-button","","aria-label","",1,"font-button2",3,"click"],["class","font-button2","mat-button","","aria-label","",3,"click",4,"ngIf"],["showManageButtonOnDayPassNearExpiry",""],["class","font-button2","mat-button","","aria-label","go to settings",3,"click",4,"ngIf","ngIfElse"],["softUpsell",""],["mat-button","","aria-label","go to settings",1,"font-button2",3,"click"],[1,"al-icon",3,"src"]],template:function(Ct,Gt){1&Ct&&a.YNc(0,$e,21,26,"div",0),2&Ct&&a.Q6J("ngIf",Gt.notificationAvailable)},dependencies:[ot.N,F.Q,U.eB,z.Hw,Q.mk,Q.O5,Q.tP,Q.RF,Q.n9,B.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.constants-position-relative[_ngcontent-%COMP%]{position:relative}.notification-gap[_ngcontent-%COMP%]{height:8px}.notification-base[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#393939;padding:16px 0;width:100%;z-index:1}.notification-base[_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]{display:flex;align-items:center}.notification-base-message-description[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.isLtr[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.notification[_ngcontent-%COMP%]{z-index:1}.notification.ng-hide-add[_ngcontent-%COMP%]{transition:ease-in-out 1s;transition-delay:1s}.notification-animate[_ngcontent-%COMP%]{z-index:1}.notification-animate.ng-hide[_ngcontent-%COMP%]{margin-top:-32px}.notification-animate.ng-hide-add[_ngcontent-%COMP%], .notification-animate.ng-hide-remove[_ngcontent-%COMP%]{transition:ease-in-out .8s;transition-delay:0s}.notification-info-icon[_ngcontent-%COMP%]{color:#ffffffbf;font-size:40px}.isLtr[_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px}.isLtr[_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.notification-container[_ngcontent-%COMP%]   button.mat-accent[_ngcontent-%COMP%]{color:#76b900}.notification-container[_ngcontent-%COMP%]{background:#393939;position:relative;z-index:1}.notification-container.ng-hide[_ngcontent-%COMP%]{margin-top:-32px}.notification-container.ng-hide-add[_ngcontent-%COMP%], .notification-container.ng-hide-remove[_ngcontent-%COMP%]{transition:ease-in-out .8s;transition-delay:0s}.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{background:rgba(0,0,0,0);margin-bottom:0;padding:0}.isLtr.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{margin-left:152px}html[dir=ltr]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:152px}.isRtl.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{margin-right:152px}html[dir=rtl]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:152px}.isLtr.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{margin-right:128px}html[dir=ltr]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:128px}.isRtl.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{margin-left:128px}html[dir=rtl]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:128px}.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);margin-bottom:32px;margin-top:8px}.isLtr.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isLtr.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isLtr   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   .isLtr   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{padding:8px 24px 8px 16px}html[dir=ltr]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{--dummy: 0;padding:8px 24px 8px 16px}.isRtl.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isRtl.tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .isRtl   .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   .isRtl   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{padding:8px 16px 8px 24px}html[dir=rtl]   .tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{--dummy: 0;padding:8px 16px 8px 24px}.tv-view.new-10ft[_nghost-%COMP%]   .notification-container.multiline[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container.multiline[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:24px}.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .font-button2.button-alignment[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .font-button2.button-alignment[_ngcontent-%COMP%]{display:block}.tv-view.new-10ft[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view.new-10ft   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 8px}button[_ngcontent-%COMP%]{height:36px;min-width:36px;border-radius:0}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.isLtr[_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.button-alignment[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-self:flex-end;line-height:36px}.isLtr[_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.matIcon[_ngcontent-%COMP%]{height:40px;width:40px}.isLtr[_nghost-%COMP%]   .matIcon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .matIcon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .matIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .matIcon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .matIcon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .matIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.notification-container[_ngcontent-%COMP%]{background:#191919}.notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{padding-bottom:8px;border-bottom:2px solid #393939;background:#191919;flex-flow:row wrap;justify-content:space-between}.notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin:0 16px}}.tv-view[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{background:#000000}.tv-view[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{padding:8px 0;background:#000000}.tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{height:fit-content}.isLtr.tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-right:24px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:24px}.isRtl.tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-left:24px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:24px}"],data:{animation:[(0,q.X$)("showNotification",[(0,q.eR)(":enter",[(0,q.oB)({height:"0px",opacity:"0"}),(0,q.jt)("300ms ease-in",(0,q.oB)({height:"*",opacity:"1"}))]),(0,q.eR)(":leave",[(0,q.oB)({height:"*",opacity:"1"}),(0,q.jt)("300ms ease-in",(0,q.oB)({height:"0px",opacity:"0"}))])])]}}),ge})()},64295:(Dt,ct,t)=>{"use strict";t.d(ct,{Uj:()=>u,VD:()=>g,Zc:()=>S,jZ:()=>x,j_:()=>e,sD:()=>i,wt:()=>L,zv:()=>f});var e=function(h){return h[h.OS=0]="OS",h[h.OperationalMessaging=1]="OperationalMessaging",h[h.CriticalUpdate=2]="CriticalUpdate",h[h.RequiredUpdate=3]="RequiredUpdate",h[h.RecommendedUpdate=4]="RecommendedUpdate",h[h.NonAdminRecommendedNotification=5]="NonAdminRecommendedNotification",h[h.BrowserAppUpdate=6]="BrowserAppUpdate",h[h.DayPassExpired=7]="DayPassExpired",h[h.DayPassNearingExpiry=8]="DayPassNearingExpiry",h[h.TimeCappedLimitedState=9]="TimeCappedLimitedState",h[h.TimeCappedLowState=10]="TimeCappedLowState",h[h.AccountLinkingExpired=11]="AccountLinkingExpired",h[h.NewSyncFeature=12]="NewSyncFeature",h[h.UsabilityStudy=13]="UsabilityStudy",h[h.Survey=14]="Survey",h[h.DownloadNativeClient=15]="DownloadNativeClient",h[h.InstallPWA=16]="InstallPWA",h[h.BrowserPushNotification=17]="BrowserPushNotification",h[h.Games=18]="Games",h[h.UpdatePWA=19]="UpdatePWA",h}(e||{});const i="clientDownloadStatus",L="installPWAStatus",f="updatePWAStatus",x="browserPushNotification",S="dayPassNearingExpiryBanner",u="TimeCapLowTimeBanner",g="TimeCapLimitedTimeBanner"},44795:(Dt,ct,t)=>{"use strict";t.d(ct,{rw:()=>K,dX:()=>j,m8:()=>e.m});var e=t(30324),i=t(70462),L=t(32484),f=t(9681),x=t(33994),S=t(5717),u=t(70506),g=t(30502),h=t(85046),O=t(46939),E=t(87965),w=t(36520),p=t(58175),V=t(47422),c=t(15746),C=t(45078),l=t(13963),o=t(78943),n=t(21120),s=t(61699),R=t(43559),_=t(17401),b=t(27947),I=t(91467),q=t(15665);const a="Previous game launch is in progress",M_body_text="common.connectionError",M_primaryButton={text:"common.close",accentColor:!0};var P=function(tt){return tt.GeforceNow="GeForceNOW",tt.GeForceNowStreamer="GeForceNOWStreamer",tt}(P||{});let K=(()=>{var tt;class ot{constructor(U,z,Q,dt,X,m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt){var k;this.loggingService=z,this.bridgeService=Q,this.translateService=dt,this.dialog=X,this.telemetryUtilService=m,this.ecomService=Y,this.nativeEventService=D,this.settingsService=N,this.systemInfoService=Z,this.router=W,this.gameLaunchAnalyticsService=A,this.gameShareUrlService=d,this.ownershipSyncService=H,this.pathService=$,this.serviceWorkerService=J,this.genericDialog=st,this.sharedStorageService=lt,this.guestModeHelperService=gt,this.browseUxService=vt,this.logger=this.loggingService.getLogger("gfn/launch"),this.isLaunchInProgress$=new i.X(!1),this.mobileMode=!(null==U||null===(k=U.featureEnablement)||void 0===k||!k.mobileMode),this.isBrowserPlatform=l.ng.isBrowserPlatform()}initialize(){this.registerURLRouteChangeEvent(),this.registerForegroundEvent()}setGameLaunchData(U,z){this.gameLaunchAnalyticsService.setGameLaunchMetadata(z,U,this.ownershipSyncService.isAccountLinked(n.Gvo),!0)}addDesktopShortcut(U,z,Q){const dt=Date.now(),X={installed:!1,message:""};this.logger.info(`Adding\xa0Desktop\xa0Shortcut\xa0for\xa0${U.title},\xa0${U.cmsId},\xa0${z}.`);const m=new L.xQ;return this.telemetryUtilService.sendClickEvent(n.lzt.AddGameShortcut,U.cmsId,z,!0,Q),this.ecomService.getUserMembership().pipe((0,h.h)(Y=>Y.membershipStatus!==n.Tn6.LoggedOut&&Y.membershipStatus!==n.Tn6.UnKnown),(0,O.q)(1),(0,E.zg)(Y=>Y.eComFeatureEnabled&&Y.membershipStatus===n.Tn6.UnEntitled?(this.ecomService.openJoinNowDialog(z),this.logger.info("add\xa0to\xa0desktop\xa0canceled\xa0as\xa0user\xa0is\xa0not\xa0entitled."),m.next(X),m.complete(),(0,f.of)(X)):this.translateService.get("interface.gametitle",{title:U.title}).pipe((0,w.w)(D=>this.createDesktopShortcut(D,U)),(0,p.K)(D=>(this.telemetryUtilService.sendUserSessionEvent(n.Vwu.AddDesktopShortcut,n.N3X.Failure,dt,D),m.next(X),m.complete(),(0,x._)(D))),(0,V.U)(D=>{if(D.installed){const N={installed:!0,message:""};return this.logger.info("Created\xa0game\xa0desktop\xa0shortcut\xa0successfully"),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.AddDesktopShortcut,n.N3X.Success,dt),m.next(N),m.complete(),D}{const N=`Game\xa0desktop\xa0shortcut\xa0creation\xa0failed:\xa0${D}`;throw this.logger.error(N),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.AddDesktopShortcut,n.N3X.Failure,dt,N),m.next(X),m.complete(),new Error("Game\xa0Desktop\xa0shortcut\xa0creation\xa0failed")}}))))}createDesktopShortcut(U,z){return this.systemInfoService.getSystemInfo([l.l7.Platform]).pipe((0,V.U)(Q=>{let dt=P.GeforceNow;return this.logger.info("Getting the OS info using System info Service :",Q),"Windows"===Q.Platform&&(dt=P.GeForceNowStreamer),dt}),(0,E.zg)(Q=>{var dt;return this.bridgeService.executeCommand(o.Gh.Gfn.Streamer.AddDesktopShortcut,{streamer:Q,parentGameId:null!==(dt=z.parentGameId)&&void 0!==dt?dt:"",cmsId:""+z.cmsId,appName:U,shortName:z.shortName,iconUrl:z.keyArtUrl})}),(0,c.b)(Q=>{this.sharedStorageService.writeBlock(n.mPX.cmsIdToMetadataMap+"/"+z.cmsId,{appStore:z.appStore}).subscribe(()=>{},dt=>{this.logger.error(`Error while storing in sharedStorage for key ${n.mPX.cmsIdToMetadataMap} :`,dt)}),z.parentGameId&&this.browseUxService.writeLaunchMetaData(z.parentGameId,{selectedVariantCmsId:z.cmsId}).subscribe(()=>{},X=>{this.logger.error(`Error while storing in sharedStorage for key ${n.mPX.parentIdToLaunchMetaDataMap} :`,X)})}),(0,E.zg)(Q=>{if(Q)return(0,f.of)(Q);{const dt="Null InstallResult received while creating game shortcut";return this.logger.error(dt),(0,x._)(dt)}}))}openConnectionErrorDialog(){const U=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"common.genericLoadError"},bodyText:{text:M_body_text},primaryButton:{...M_primaryButton}}});U.primaryButtonClick.pipe((0,O.q)(1)).subscribe(()=>U.close())}requestUserAttention(){this.bridgeService.executeCommand(o.Gh.Common.Windowcontrol.RequestUserAttention).subscribe()}registerForegroundEvent(){this.nativeEventService.get$(l.Nx.ForegroundEvent,l.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.requestUserAttention()},U=>{this.logger.error("Received error in Foreground window event: ",U)})}registerURLRouteChangeEvent(){this.nativeEventService.get$(l.Nx.RouteChange,l.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(U=>{this.checkToLaunchGame(U)},U=>{this.logger.error("Received error for RouteChange window event: ",U)})}checkToLaunchGame(U){try{if((0,n.MAX)(this.router.url))return void this.logger.info("Ignoring RouteChange since we are already in Streamer");const z=JSON.parse(U);if(!(z&&z.hasOwnProperty("current-route")&&z.hasOwnProperty("new-route")&&z["new-route"].includes("cmsId")))return void this.logger.error("Invalid game change data given, ignoring");this.logger.info("Received game change data: ",z);const Q=(0,n.A8q)(z["new-route"]),dt=Q.cmsId,X=Q.shortName,m=Q.launchSource,Y=Q.parentGameId,D=Q.appLaunchMode,N=Q.accountLinked,Z=Date.now();this.gameLaunchAnalyticsService.setGameLaunchMetadata(X,Z,this.ownershipSyncService.isAccountLinked(n.Gvo),!0),this.launchStreamer(dt,X,D,Z,N,m,Q.sdkClient,Y).subscribe(S.Z,S.Z)}catch(z){this.logger.error(`Game change data failed JSON parsing. Error: ${z} | Game change string: ${U}`)}}launchStreamer(U,z,Q,dt,X=!1,m=n.zO5.GeForceNOW,Y=null,D="",N=null,Z){if((0,n.MAX)(this.router.url))return this.logger.info("Ignoring launching game, already in Streamer"),(0,f.of)(!1);window.jsInitStartTs=dt;const W=(0,n.IGn)({cmsId:U,shortName:z,appLaunchMode:Q,launchSource:m,sdkClient:Y,parentGameId:D,accountLinked:X});if(this.settingsService.isVsyncChangedAndToggleSupported())return this.logger.info("Vsync state changed, need to restart game",W),this.settingsService.resetVsyncChanged(),this.restartAppWithParameters(W),u.E;{this.serviceWorkerService.postMessageSw({type:C.rL.GameLaunched,content:Z}),this.logger.info("Navigating to streamer url",W);let A=!1,d="",H="";const $=this.router.routerState.snapshot.url,J=window.location.href;return this.logger.info("Router state snapshot url - ",$),this.logger.info("window href before streamer navigation - ",J),this.isLaunchInProgress$.pipe((0,O.q)(1),(0,E.zg)(st=>st?(0,x._)(a):(this.isLaunchInProgress$.next(!0),(0,f.of)(!0))),(0,E.zg)(st=>(0,g.D)(this.pathService.navigateByUrl(W))),(0,p.K)(st=>st===a?(0,x._)(st):(A=!0,d=st,H=(0,n.bY)({cmsId:U,shortName:z,appLaunchMode:Q,launchSource:m,sdkClient:Y,parentGameId:D},!0),this.logger.error("Error while launching game",st,"attempting to launch with absolute URL",H),window.location.href=H,(0,f.of)(!0))),(0,c.b)(st=>this.closeOpenDialogs()),(0,E.zg)(st=>(st&&this.isBrowserPlatform&&(!this.mobileMode||this.mobileMode&&this.guestModeHelperService.isGuestMode)&&(N?this.gameShareUrlService.setExitUrl(N):this.gameShareUrlService.setGameUrlAsExitUrl()),A?(this.logger.error(`Hit a router error while launching game, streamerUrl: ${W}, routerErrorMessage: ${d}`),this.logger.error(`New URL we set was ${H}. Previous Href: ${J}, Previous SnapshotURL: ${$}`)):st||this.logger.error("No router error but navigation to streamer failed"),this.isLaunchInProgress$.next(!1),(0,f.of)(st))),(0,p.K)(st=>(this.logger.error("Navigation to streamer failed "+st),(0,f.of)(!1))))}}closeOpenDialogs(){this.dialog.closeAll()}restartAppWithParameters(U){const z="#"+U;this.logger.info("Restart app requested with launchArgument: ","--url-route="+z),this.bridgeService.executeCommand(o.Gh.Common.Applicationcontrol.Restart,{launchArguments:"--url-route="+z}).subscribe()}}return(tt=ot).\u0275fac=function(U){return new(U||tt)(s.LFG(n.VKt),s.LFG(l.ed),s.LFG(l.dF),s.LFG(R.sK),s.LFG(_.uw),s.LFG(n.wU6),s.LFG(n.BHV),s.LFG(l.o1),s.LFG(n.gbG),s.LFG(l.Ob),s.LFG(b.F0),s.LFG(n.V89),s.LFG(n.tDF),s.LFG(n.qMk),s.LFG(n.unb),s.LFG(C.HR),s.LFG(I.TX),s.LFG(q.OA),s.LFG(n.hTr),s.LFG(n.OMY))},tt.\u0275prov=s.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})();var B=t(64555);let j=(()=>{var tt;class ot{constructor(U,z,Q,dt,X){this.loggingService=U,this.nesUserInfoService=z,this.localeService=Q,this.idmService=dt,this.configuration=X,this.isRedeemEnabled$=new i.X(!1),this.redeemLinkURL$=new i.X(""),this.logger=this.loggingService.getLogger("RedeemService"),(0,B.aj)([this.idmService.accountStatusChanged,this.nesUserInfoService.providerInfo$]).subscribe(([m,Y])=>{if(m.isAuthenticated)this.updateRedeemStatus(Y.gfnServiceEndpoints.find(D=>D.idpId===m.idpId));else switch(Y.loginPreferredProviders.length){case 0:this.updateRedeemStatus(Y.gfnServiceEndpoints.find(D=>D.loginProvider===Y.defaultProvider));break;case 1:this.updateRedeemStatus(Y.gfnServiceEndpoints.find(D=>D.loginProvider===Y.loginPreferredProviders[0]));break;default:{const D=Y.gfnServiceEndpoints.filter(N=>Y.loginPreferredProviders.includes(N.loginProvider));D.every(N=>N.redeemRedirectUrl===D[0].redeemRedirectUrl)?this.updateRedeemStatus(D[0]):this.updateRedeemStatus({redeemRedirectUrl:this.configuration.redirect.serverUrl.split("?")[0]+"?page="+n.qBq.GFN_PC_REDEEM_MULTI_AFFILIATE});break}}},m=>{this.logger.info("Error fetching the userinfo/provider info for redeem ",m),this.isRedeemEnabled$.next(!1),this.redeemLinkURL$.next("")})}updateRedeemStatus(U){if(null!=U&&U.redeemRedirectUrl){const z=new URL(U.redeemRedirectUrl);z.searchParams.append("language",this.localeService.getLocale()),this.redeemLinkURL$.next(z.href),this.isRedeemEnabled$.next(!0)}else this.isRedeemEnabled$.next(!1),this.redeemLinkURL$.next("")}isRedeemEnabled(){return this.isRedeemEnabled$.asObservable()}}return(tt=ot).\u0275fac=function(U){return new(U||tt)(s.LFG(l.ed),s.LFG(n.fIQ),s.LFG(l.OL),s.LFG(n.No2),s.LFG(n.VKt))},tt.\u0275prov=s.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})()},42566:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>h});var e=t(70462),i=t(49481),L=t(70506),f=t(64295),x=t(27947),S=t(85046),u=t(61699),g=t(21120);let h=(()=>{var O;class E{constructor(p,V){this.router=p,this.pathService=V,this.notificationQueue=[],this.isLayoutRouteNavigated=!1,this.bypassSurveyCheckSubject=new e.X(!1)}initialize(){this.router.events.pipe((0,S.h)(p=>p instanceof x.m2)).subscribe(p=>{const c=this.pathService.isLayoutUrl(p.url);!this.isLayoutRouteNavigated&&c?(this.isLayoutRouteNavigated=!0,this.bypassSurveyCheckSubject.next(!1)):this.bypassSurveyCheckSubject.next(!0),c||(this.isLayoutRouteNavigated=!1)})}shouldBypassSurveyCheck(){return this.bypassSurveyCheckSubject.asObservable()}isNotificationInQueueNotEmpty(){return this.notificationQueue.length>0}getFirstNotificationInQueue(){return this.notificationQueue[0]}hasNotificationInQueue(p){return this.notificationQueue.includes(p)}addNotificationToQueue(p){this.hasNotificationInQueue(p)||this.notificationQueue.push(p),this.notificationQueue.sort((V,c)=>V-c)}removeNotificationFromQueue(p){const V=this.notificationQueue.indexOf(p),c=-1===V?void 0:this.notificationQueue.splice(V,1)[0];return(p===f.j_.OperationalMessaging||p===f.j_.Survey)&&this.resetSurveyResponseSubject(),c}updateSurveyResponse(p){this.surveyResponseSubject||(this.surveyResponseSubject=new i.t(1)),this.surveyResponseSubject.next(p)}getCurrentSurveyResponse(){return this.surveyResponseSubject?this.surveyResponseSubject.asObservable():L.E}resetSurveyResponseSubject(){this.surveyResponseSubject&&(this.surveyResponseSubject.complete(),this.surveyResponseSubject=null)}}return(O=E).\u0275fac=function(p){return new(p||O)(u.LFG(x.F0),u.LFG(g.unb))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},30324:(Dt,ct,t)=>{"use strict";t.d(ct,{m:()=>g});var e=t(26575),i=t(28849),L=t(22843),f=t(43559),x=t(86515),S=t(91930),u=t(61699);let g=(()=>{var h;class O{}return(h=O).\u0275fac=function(w){return new(w||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[L.hp,S.Q,x.Ps,f.aw,e.ez,e.ez,i.u5]}),O})()},657:(Dt,ct,t)=>{"use strict";var e=t(36480),i=t(61699),L=t(4700),f=t(26575),x=t(22868),S=t(54860),u=t(32995),g=t(27947),h=t(28849),O=t(43559),E=t(91930),w=t(67585),p=t(97881),V=t(15826),c=t(24687),C=t(13963),l=t(8161);let o=(()=>{var At;class be{constructor(mt,Rt,$t){this.uiStateSub=void 0,this.showGrid=!1;const me=Rt.getLogger("OOGG");mt.init().then(()=>{me.info("OOGG singleton services initialized")}),$t.setDefaultNavButton({})}ngOnDestroy(){this.uiStateSub&&this.uiStateSub.unsubscribe()}prepareRoute(mt){return mt&&mt.isActivated&&mt.activatedRoute?"oogg":"void"}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(c.Vu),i.Y36(C.ed),i.Y36(l.ad))},At.\u0275cmp=i.Xpm({type:At,selectors:[["nv-oogg"]],decls:4,vars:0,consts:[["fxFlexFill","","fxLayout","column"],["fxFlex","none","logoBehavior","showWhenNoNavButton"],["fxFlex","",1,"master"],["name","oogg"]],template:function(mt,Rt){1&mt&&(i.TgZ(0,"div",0),i._UZ(1,"nv-app-bar",1),i.TgZ(2,"div",2),i._UZ(3,"router-outlet",3),i.qZA()())},styles:["[_nghost-%COMP%]{width:100%;height:100%;-webkit-user-select:none;user-select:none;cursor:default;margin:0;background:rgba(0,0,0,0)!important}"]}),be})();var n=t(9920),s=t(45356);let R=(()=>{var At;class be{}return(At=be).\u0275fac=function(mt){return new(mt||At)},At.\u0275mod=i.oAB({type:At}),At.\u0275inj=i.cJS({imports:[l.ip,f.ez,g.Bz,u.o9,V.Q,O.aw.forChild()]}),be})();i.B6R(o,function(){return[n.w,g.lC,s.xw,s.s9,s.yH]},[]);var _=t(26707),I=(t(39203),t(663)),q=t(59209),a=t(91467),y=t(17401),M=t(44795);let P=(()=>{var At;class be{constructor(mt){if(mt)throw new Error("HomeModule already loaded; Import in root module only.")}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(At,12))},At.\u0275mod=i.oAB({type:At}),At.\u0275inj=i.cJS({imports:[f.ez,u.o9,h.u5,g.Bz,E.Q,O.aw.forRoot(),w.t8,p.n_,R,l.ip,C.it,a.hp,M.m8,y.Is]}),be})();var K=t(32484),B=t(46939),j=t(47422),tt=t(85046),ot=t(13303),F=t(15118),U=t(21120),z=t(28332),Q=t(33910),dt=t(73810),X=t(64555),m=t(89718),Y=t(9681),D=t(30502),N=t(33994),Z=t(73992),W=t(15746),A=t(36520),d=t(87965),H=t(99901),$=t(77869),J=t(3310),st=t(46014),lt=t(78943),gt=t(49409),vt=t(47178),k=t(86515),pt=t(78654);function yt(At,be){1&At&&(i.TgZ(0,"div",7),i._UZ(1,"mat-spinner",8),i.qZA())}function Xt(At,be){if(1&At&&(i.TgZ(0,"mat-icon",9),i._uU(1),i.qZA()),2&At){const Oe=i.oxw();i.Udp("color",Oe.toastModel.iconColor),i.xp6(1),i.hij(" ",Oe.toastModel.icon," ")}}function It(At,be){if(1&At&&(i.TgZ(0,"span",10),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&At){const Oe=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,1,Oe.toastModel.textContent))}}function Nt(At,be){if(1&At&&(i.TgZ(0,"span",10),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&At){const Oe=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,1,Oe.toastModel.textContentUseTranslate))}}function le(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"div",7)(1,"button",11),i.NdJ("click",function(){i.CHM(Oe);const Rt=i.oxw();return i.KtG(Rt.handleAction())}),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"uppercase"),i.qZA()()()}if(2&At){const Oe=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,1,Oe.toastModel.button.text))}}let te=(()=>{var At;class be{constructor(mt){this.data=mt,this.toastModel=mt.toastModel,this.viewContainerRef=mt.viewContainerRef,this.matSnackBar=mt.matSnackBar}handleAction(){this.cancel(),this.toastModel.button.action(this.toastModel.button.actionParams)}cancel(){this.matSnackBar.dismiss(),this.viewContainerRef.clear()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(gt.qD))},At.\u0275cmp=i.Xpm({type:At,selectors:[["lib-toast-content"]],decls:10,vars:5,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"mat-toast-content","bg-dark-im-hue-5","color-white-hue-3","font-size-sm1"],["class","toast-item-container",4,"ngIf"],["class","md-24 toast-model-icon",3,"color",4,"ngIf"],["fxFlex","","class","toast-ellipsis-text font-body2",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end",1,"button-alignment"],["type","button","mat-icon-button","",1,"toast-close-button",3,"click"],["mat-font-set","material-icons",1,"mat-16","common-toast-close-icon","color-white-hue-4v"],[1,"toast-item-container"],["id","progressIndicator","diameter","13","mode","indeterminate",1,"mat-accent","margin-right-12"],[1,"md-24","toast-model-icon"],["fxFlex","",1,"toast-ellipsis-text","font-body2"],["mat-button","",1,"color-green","font-button1","padding-right-24",3,"click"]],template:function(mt,Rt){1&mt&&(i.TgZ(0,"div",0),i.YNc(1,yt,2,0,"div",1),i.YNc(2,Xt,2,3,"mat-icon",2),i.YNc(3,It,3,3,"span",3),i.YNc(4,Nt,3,3,"span",3),i.TgZ(5,"div",4),i.YNc(6,le,5,3,"div",1),i.TgZ(7,"button",5),i.NdJ("click",function(){return Rt.cancel()}),i.TgZ(8,"mat-icon",6),i._uU(9,"close"),i.qZA()()()()),2&mt&&(i.xp6(1),i.Q6J("ngIf",Rt.toastModel.showProgressIndicator),i.xp6(1),i.Q6J("ngIf",Rt.toastModel.icon),i.xp6(1),i.Q6J("ngIf",Rt.toastModel.textContent),i.xp6(1),i.Q6J("ngIf",Rt.toastModel.textContentUseTranslate),i.xp6(2),i.Q6J("ngIf",Rt.toastModel.button))},dependencies:[k.Hw,pt.eB,f.O5,Q.Ou,f.gd,O.X$],styles:[".mat-toast-content[_ngcontent-%COMP%]{display:flex;margin:8px 16px;background-color:inherit}.mat-toast-content[_ngcontent-%COMP%]   .common-toast-close-icon[_ngcontent-%COMP%]{width:16px!important;height:16px!important;line-height:16px!important}.mat-toast-content[_ngcontent-%COMP%]   .toast-item-container[_ngcontent-%COMP%]{align-self:center}.mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;align-self:center;-webkit-box-orient:vertical;-webkit-line-clamp:3}.mat-toast-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-self:center}.mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{display:flex;align-self:flex-end}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_nghost-%COMP%]   button.toast-close-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button.toast-close-button[_ngcontent-%COMP%]{display:none}"]}),be})();class bt{constructor(){}}const Vt_defaultPosition_horizontal="start",Vt_defaultPosition_vertical="bottom";var ut=t(59074);let re=(()=>{var At;class be{constructor(mt){this.snackBar=mt}showToast(mt,Rt){const $t=new gt.u_;$t.horizontalPosition=Rt.horizontalPosition||Vt_defaultPosition_horizontal,$t.verticalPosition=Rt.verticalPosition||Vt_defaultPosition_vertical,(!!(0,vt.isNil)(Rt.autoHide)||Rt.autoHide)&&($t.duration=Rt.hideDelay||5e3),$t.data={toastModel:Rt,viewContainerRef:mt,matSnackBar:this.snackBar},$t.panelClass=["toast","nv-hig"];const He=this.snackBar.openFromComponent(te,$t);return He.afterDismissed().subscribe(()=>{mt.clear()}),!!He}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(ut.pl))},At.\u0275cmp=i.Xpm({type:At,selectors:[["lib-toast"]],decls:1,vars:0,consts:[[1,"nv-toast-container"]],template:function(mt,Rt){1&mt&&i._UZ(0,"div",0)},encapsulation:2}),be})(),Kt=(()=>{var At;class be{constructor(mt){this.translate=mt}show(mt,Rt){return this.showToast(mt,Rt)}showOffline(mt,Rt){return this.translate.get("toastMessages.offline").subscribe($t=>{Rt.textContent=$t,Rt.icon="cloud_off",this.showToast(mt,Rt)}),!0}showProgress(mt,Rt){return Rt.showProgressIndicator=!0,this.showToast(mt,Rt)}showWarning(mt,Rt){return Rt.icon="warning",this.showToast(mt,Rt)}showError(mt,Rt){return Rt.icon="error outline",this.showToast(mt,Rt)}showToast(mt,Rt){return!!mt&&(mt.clear(),mt.createComponent(re).instance.showToast(mt,Rt))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(O.sK))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),jt=(()=>{var At;class be{}return(At=be).\u0275fac=function(mt){return new(mt||At)},At.\u0275mod=i.oAB({type:At}),At.\u0275inj=i.cJS({imports:[ut.y,k.Ps,pt.yu,f.ez,Q.Cq,O.aw]}),be})();var Wt=function(At){return At.Login="Login",At.Logout="Logout",At.OpenAccountProfileLink="OpenAccountProfileLink",At.OpenAccountProfileDialog="OpenAccountProfileDialog",At.OpenFeedback="OpenFeedback",At}(Wt||{});const oe={svgIconId:"gallery",name:"menu.gallery",url:U.nnJ.Gallery},Qt={svgIconId:"game_controller",name:"menu.games",url:U.nnJ.Home},Pt={svgIconId:"settings",name:"toolbar.settings",url:U.nnJ.Settings},Ut={svgIconId:"search",name:"search.search",url:U.nnJ.GamesGrid};var Tt=t(89857),it=t(41843),Mt=t(93170),zt=t(42586),ft=t(31465);const ve=["sidenav"];function Ce(At,be){if(1&At){const Oe=i.EpF();i.ynx(0),i.TgZ(1,"button",6,7),i.NdJ("click",function(){const $t=i.CHM(Oe).$implicit,me=i.oxw();return i.KtG(me.onNavigate($t))}),i.TgZ(3,"div",8)(4,"div",9),i._UZ(5,"mat-icon",10),i.qZA(),i.TgZ(6,"div",11)(7,"span",12),i._uU(8),i.ALo(9,"translate"),i.qZA()()()(),i.BQk()}if(2&At){const Oe=be.$implicit;i.xp6(5),i.Q6J("svgIcon",Oe.svgIconId),i.xp6(3),i.Oqu(i.lcZ(9,2,Oe.name))}}const De=["*"];var ze=function(At){return At.Toggle="Toggle",At.Open="Open",At.Close="Close",At}(ze||{});let $e=(()=>{var At;class be{constructor(mt,Rt,$t,me,He){this.loggingService=mt,this.focusMonitor=Rt,this.inputModalityService=$t,this.spatialNavigationService=me,this.focusManager=He,this.destroy$=new K.xQ,this.routeClicked=new i.vpe,this.logger=this.loggingService.getLogger("sidebar.component")}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.sidenav.openedChange.pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{mt?this.startMonitoringFocus():this.stopMonitoringFocus()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggle(mt){let Rt=!1;switch(mt){case ze.Toggle:Rt=!this.sidenav.opened;break;case ze.Open:Rt=!0;break;case ze.Close:Rt=!1;break;default:this.logger.warn(`Invalid toggleType ${mt}`)}this.sidenav.toggle(Rt,this.inputModalityService.lastFocusOrigin)}startMonitoringFocus(){this.lastFocusedElement=this.focusManager.currentFocusedElement,this.focusManager.focusChild(this.container.nativeElement,"initial"),this.focusMonitorSubscription=this.focusMonitor.monitor(this.container.nativeElement,!0).pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{this.sidenav.opened&&(mt?this.focusedElement=this.focusManager.currentFocusedElement:this.focusedElement&&this.focusManager.focusViaLastOrigin(this.focusedElement))})}stopMonitoringFocus(){var mt;null===(mt=this.focusMonitorSubscription)||void 0===mt||mt.unsubscribe(),this.focusMonitorSubscription=void 0,this.focusMonitor.stopMonitoring(this.container.nativeElement),this.lastFocusedElement&&(this.focusManager.focusViaLastOrigin(this.lastFocusedElement),this.lastFocusedElement=void 0),this.focusedElement=void 0}onNavigate(mt){this.toggle(ze.Close),this.routeClicked.emit(mt)}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(C.ed),i.Y36(Mt.tE),i.Y36(zt.b),i.Y36(a.jr),i.Y36(a.IK))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-sidebar"]],viewQuery:function(mt,Rt){if(1&mt&&(i.Gf(ve,7),i.Gf(ve,5,i.SBq)),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.sidenav=$t.first),i.iGM($t=i.CRH())&&(Rt.container=$t.first)}},inputs:{routes:"routes"},outputs:{routeClicked:"routeClicked"},ngContentSelectors:De,decls:7,vars:2,consts:[["fxFlexFill","",1,"nv-hig",3,"hasBackdrop"],["autoFocus","false",1,"main-sidebar-drawer"],["sidenav",""],["fxLayout","column","fxFlex",""],[4,"ngFor","ngForOf"],[1,"main-sidebar-content"],["mat-button","",1,"nv-item-button-container","complex-button","font-body2",3,"click"],["button",""],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],[3,"svgIcon"],["fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",1,"nv-item-labels"],[1,"font-body2"]],template:function(mt,Rt){1&mt&&(i.F$t(),i.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3),i.YNc(4,Ce,10,4,"ng-container",4),i.qZA()(),i.TgZ(5,"mat-drawer-content",5),i.Hsn(6),i.qZA()()),2&mt&&(i.Q6J("hasBackdrop",!0),i.xp6(4),i.Q6J("ngForOf",Rt.routes))},dependencies:[f.sg,s.xw,s.Wh,s.s9,s.XD,s.yH,pt.eB,k.Hw,ft.jA,ft.kh,ft.LW,O.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.main-sidebar-drawer[_ngcontent-%COMP%]{width:256px}.main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%]{height:48px;margin:0;padding:0}.main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{align-self:center}.isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}.main-sidebar-content[_ngcontent-%COMP%]{overflow:hidden}.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]{width:400px}.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.isLtr.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.tv-view[_nghost-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%]{height:88px}"]}),be})();var Se=t(45083),ce=t(47520),ge=t(10662),qt=t(60702),Ct=t(75889),Gt=t(81337),Zt=t(11752),ee=t(17577),_e=t(81737);const Ie=["searchButton"],Je=["moreMenuButton"];function qe(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"nv-search",14),i.NdJ("searchInputInteraction",function(Rt){i.CHM(Oe);const $t=i.oxw(2);return i.KtG($t.onSearchInputInteraction(Rt))})("searchInputFocusOut",function(Rt){i.CHM(Oe);const $t=i.oxw(2);return i.KtG($t.onSearchInputFocusOut(Rt))}),i.qZA()}if(2&At){const Oe=i.oxw(2);i.Q6J("hidden",Oe.shouldDisplaySearchButton)("smallWidthMode",Oe.isConcealedSearchMode)("activated",Oe.searchBarActivated)}}function bn(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",22,23),i.NdJ("click",function(Rt){i.CHM(Oe);const $t=i.oxw(3);return i.KtG($t.mobileSearchButtonClicked(Rt))}),i.ALo(2,"translate"),i._UZ(3,"mat-icon",24),i.qZA()}if(2&At){const Oe=i.oxw(3);i.s9C("matTooltip",i.lcZ(2,2,"search.search")),i.Q6J("fxHide.lt-340",Oe.loggedIn)}}function kn(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(Rt){i.CHM(Oe);const $t=i.oxw(3);return i.KtG($t.onUDSIconClick(Rt))}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",26),i.qZA()}2&At&&i.s9C("matTooltip",i.lcZ(1,1,"uds.iconTooltip"))}function wn(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(Rt){i.CHM(Oe);const $t=i.oxw(3);return i.KtG($t.onSendFeedback(Rt))}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",10),i.qZA()}2&At&&i.s9C("matTooltip",i.lcZ(1,1,"feedback.send"))}function On(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(Rt){i.CHM(Oe);const $t=i.oxw(3);return i.KtG($t.onLogin(Rt))}),i.TgZ(1,"div",28),i._UZ(2,"img",29),i.TgZ(3,"span",30),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&At&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"toolbar.login")))}function Ln(At,be){if(1&At&&i._UZ(0,"img",41),2&At){const Oe=i.oxw(4);i.s9C("src",Oe.badgeUrl,i.LSH)}}function yn(At,be){if(1&At&&(i.TgZ(0,"span",42),i._uU(1),i.qZA()),2&At){const Oe=i.oxw(4);i.xp6(1),i.Oqu(Oe.currentPlanShortName)}}function Pe(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",31,32),i.NdJ("touchstart",function(){i.CHM(Oe);const Rt=i.MAs(7),$t=i.MAs(1);return i.KtG("none"===Rt.style.display?$t.show(500):null)}),i.TgZ(2,"div",33)(3,"div",34),i._UZ(4,"img",29),i.YNc(5,Ln,1,1,"img",35),i.qZA(),i.TgZ(6,"div",36,37)(8,"span",38),i._uU(9),i.qZA(),i.YNc(10,yn,2,1,"span",39),i.qZA(),i.TgZ(11,"mat-icon",40),i._uU(12,"arrow_drop_down"),i.qZA()()()}if(2&At){const Oe=i.oxw(3),mt=i.MAs(4);i.s9C("matTooltip",Oe.displayName),i.Q6J("matMenuTriggerFor",mt),i.xp6(2),i.Q6J("fxLayoutGap",Oe.badgeUrl?"0":"8px"),i.xp6(3),i.Q6J("ngIf",Oe.badgeUrl),i.xp6(4),i.Oqu(Oe.displayName),i.xp6(1),i.Q6J("ngIf",Oe.currentPlanShortName)}}function Ue(At,be){if(1&At&&(i.ynx(0),i.YNc(1,bn,4,4,"button",15),i.YNc(2,kn,3,3,"button",16),i.YNc(3,wn,3,3,"button",16),i.TgZ(4,"button",17,18),i._UZ(6,"mat-icon",19),i.qZA(),i.YNc(7,On,6,3,"button",20),i.YNc(8,Pe,13,6,"button",21),i.BQk()),2&At){const Oe=i.oxw(2),mt=i.MAs(12);i.xp6(1),i.Q6J("ngIf",Oe.searchVisible&&Oe.shouldDisplaySearchButton),i.xp6(1),i.Q6J("ngIf",Oe.loggedIn&&Oe.canShowUDSIcon),i.xp6(1),i.Q6J("ngIf",Oe.loggedIn),i.xp6(1),i.Q6J("fxShow.lt-340",Oe.loggedIn)("matMenuTriggerFor",mt),i.xp6(3),i.Q6J("ngIf",!Oe.loggedIn),i.xp6(1),i.Q6J("ngIf",Oe.loggedIn)}}function Ae(At,be){if(1&At&&(i.TgZ(0,"div",11),i.YNc(1,qe,1,3,"nv-search",12),i.YNc(2,Ue,9,7,"ng-container",13),i.qZA()),2&At){const Oe=i.oxw();i.Q6J("fxLayoutGap",Oe.isConcealedSearchMode?"8px":"16px"),i.xp6(1),i.Q6J("ngIf",Oe.searchVisible),i.xp6(1),i.Q6J("ngIf",!Oe.isConcealedSearchMode||Oe.shouldDisplaySearchButton)}}function we(At,be){if(1&At){const Oe=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(Rt){i.CHM(Oe);const $t=i.oxw();return i.KtG($t.mobileSearchButtonClicked(Rt))}),i._UZ(1,"mat-icon",24),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA()()}2&At&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"search.search")))}let We=(()=>{var At;class be{constructor(mt,Rt,$t,me){this.gameSearchFilterService=mt,this.loggingService=Rt,this.appBarService=$t,this.focusManager=me,this.loggedIn=!1,this.destroy$=new K.xQ,this.searchVisible=!0,this.shouldDisplaySearchButton=!1,this.searchBarActivated=!1,this.appBarTemplate="",this.menuClicked=new i.vpe,this.closeSidebar=new i.vpe,this.loginClicked=new i.vpe,this.logoutClicked=new i.vpe,this.accountProfileClicked=new i.vpe,this.sendFeedbackClicked=new i.vpe,this.udsIconClicked=new i.vpe,this.logger=this.loggingService.getLogger("toolbar.component")}ngOnInit(){this.setAppBarInitial(),this.appBarService.actionClicked$.pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{"menu"===mt&&this.menuClicked.emit()}),this.gameSearchFilterService.searchMode().pipe((0,Se.x)(),(0,ot.R)(this.destroy$)).subscribe(mt=>{this.isConcealedSearchMode=mt===it.N3.Concealed,this.shouldDisplaySearchButton=mt===it.N3.Concealed}),this.setupListeners()}onSearchInputFocusOut(mt){if(this.isConcealedSearchMode){let Rt=!1;this.gameSearchFilterService.isGamesGridViewActive?0===mt.currentQuery.length&&(this.appBarService.setNavButtonArrow(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0,Rt=!0):(this.appBarService.setNavButtonMenu(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0,Rt=!0),Rt&&setTimeout(()=>{var $t,me,He,Qe;const gn=this.loggedIn&&(null===($t=this.moreMenuButton)||void 0===$t?void 0:$t.nativeElement)&&"none"!==(null===(me=this.moreMenuButton)||void 0===me?void 0:me.nativeElement.style.display)?null===(He=this.moreMenuButton)||void 0===He?void 0:He.nativeElement:null===(Qe=this.searchButton)||void 0===Qe?void 0:Qe.nativeElement;this.focusManager.focusViaLastOrigin(gn)})}}setupListeners(){this.appBarService.template$.pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{this.appBarTemplate=mt.id,"main"===mt.id&&(this.searchVisible=mt.params.hasOwnProperty("searchVisible")&&mt.params.searchVisible)}),this.gameSearchFilterService.isGamesGridViewActive$.pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{mt||(this.enableSearchResultRoute(!1),this.isConcealedSearchMode&&(this.appBarService.setNavButtonMenu(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0))})}onSearchInputInteraction(mt){switch(mt.interactionType){case w.af.Click:case w.af.Input:mt.currentQuery.length>0&&!this.searchBarActivated&&this.enableSearchResultRoute(!0)}}mobileSearchButtonClicked(mt){this.shouldDisplaySearchButton&&this.appBarService.setShrinkNavigation(!0),this.shouldDisplaySearchButton=!1,this.closeSidebar.emit(),this.appBarService.setNavButtonArrow(),setTimeout(()=>{var Rt;return null===(Rt=this.searchComponent)||void 0===Rt?void 0:Rt.clickSearchInput(mt)})}onSendFeedback(mt){this.sendFeedbackClicked.emit(mt)}onUDSIconClick(mt){this.udsIconClicked.emit(mt)}onLogin(mt){this.loginClicked.emit(mt)}onLogout(mt){this.logoutClicked.emit(mt)}goToAccount(mt){this.accountProfileClicked.emit(mt)}shouldSlideOutLogo(){this.logger.info("Sliding GFN logo out"),this.appBarService.setLogoRevealed()}ngOnDestroy(){this.logger.info("Destroying view!"),this.destroy$.next(!0),this.destroy$.complete()}setAppBarInitial(){this.logoBehavior=l.tc.ShowInitialReveal,this.appBarService.setAll({title:this.appBarService.getCurrentTitle(),info:{entry:"",params:{}},defaultNavButton:{id:"menu",tooltip:"toolbar.menu"},navButtonSetToDefault:!0,icons:[],template:{id:"main",params:{searchVisible:!0}},active:!1})}enableSearchResultRoute(mt){this.searchBarActivated=mt,mt&&(this.gameSearchFilterService.navigateToGamesGrid(),this.closeSidebar.emit(),this.appBarService.setNavButtonArrow())}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(it.En),i.Y36(C.ed),i.Y36(l.ad),i.Y36(a.IK))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-toolbar"]],viewQuery:function(mt,Rt){if(1&mt&&(i.Gf(Ie,5,i.SBq),i.Gf(Je,5,i.SBq),i.Gf(w.gS,5)),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.searchButton=$t.first),i.iGM($t=i.CRH())&&(Rt.moreMenuButton=$t.first),i.iGM($t=i.CRH())&&(Rt.searchComponent=$t.first)}},inputs:{loggedIn:"loggedIn",badgeUrl:"badgeUrl",displayName:"displayName",currentPlanShortName:"currentPlanShortName",canShowUDSIcon:"canShowUDSIcon"},outputs:{menuClicked:"menuClicked",closeSidebar:"closeSidebar",loginClicked:"loginClicked",logoutClicked:"logoutClicked",accountProfileClicked:"accountProfileClicked",sendFeedbackClicked:"sendFeedbackClicked",udsIconClicked:"udsIconClicked"},decls:19,vars:15,consts:[["nvSpatialNavigationGroup","","navigateFunction","normal",3,"logoBehavior"],[3,"ngSwitch"],["fxLayout","row","fxLayoutAlign","end center","fxFlex","grow",3,"fxLayoutGap",4,"ngSwitchCase"],["nvMatMenuFocusFixup","",1,"toolbar-dropdown"],["userInfoMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"toolbar-dropdown"],["overflowMenu","matMenu"],["mat-menu-item","","class","hig-button-overlay",3,"click",4,"ngIf"],["mat-menu-item","",1,"hig-button-overlay",3,"click"],["svgIcon","feedback"],["fxLayout","row","fxLayoutAlign","end center","fxFlex","grow",3,"fxLayoutGap"],["class","search-box-container","fxFlex","",3,"hidden","smallWidthMode","activated","searchInputInteraction","searchInputFocusOut",4,"ngIf"],[4,"ngIf"],["fxFlex","",1,"search-box-container",3,"hidden","smallWidthMode","activated","searchInputInteraction","searchInputFocusOut"],["mat-icon-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","class","feedback-button",3,"fxHide.lt-340","matTooltip","click",4,"ngIf"],["fxHide.lt-340","","mat-button","","data-focus-loss-exempt","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","class","feedback-button hig-button-icon",3,"matTooltip","click",4,"ngIf"],["fxHide","","mat-icon-button","",3,"fxShow.lt-340","matMenuTriggerFor"],["moreMenuButton",""],["svgIcon","more_vert"],["mat-button","","class","user-info user-logged-out font-button2",3,"click",4,"ngIf"],["mat-button","","class","user-info","matTooltipClass","mat-tooltip-font-body3",3,"matMenuTriggerFor","matTooltip","touchstart",4,"ngIf"],["mat-icon-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3",1,"feedback-button",3,"fxHide.lt-340","matTooltip","click"],["searchButton",""],["svgIcon","search"],["fxHide.lt-340","","mat-button","","data-focus-loss-exempt","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3",1,"feedback-button","hig-button-icon",3,"matTooltip","click"],["svgIcon","analytics"],["mat-button","",1,"user-info","user-logged-out","font-button2",3,"click"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],["src","assets/img/avatar_generic_118.png",1,"avatar-img"],["fxHide.lt-400","",1,"login"],["mat-button","","matTooltipClass","mat-tooltip-font-body3",1,"user-info",3,"matMenuTriggerFor","matTooltip","touchstart"],["accountTooltip","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",3,"fxLayoutGap"],[1,"avatar"],["class","avatar-badge",3,"src",4,"ngIf"],["fxLayout","column","fxHide.lt-md","",1,"display-name"],["accountField",""],[1,"username","font-body2"],["class","font-body3 current-plan",4,"ngIf"],[1,"material-icons"],[1,"avatar-badge",3,"src"],[1,"font-body3","current-plan"]],template:function(mt,Rt){1&mt&&(i.TgZ(0,"nv-app-bar",0),i.ynx(1,1),i.YNc(2,Ae,3,3,"div",2),i.BQk(),i.qZA(),i.TgZ(3,"mat-menu",3,4)(5,"button",5),i.NdJ("click",function(me){return Rt.goToAccount(me)}),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"button",5),i.NdJ("click",function(me){return Rt.onLogout(me)}),i._uU(9),i.ALo(10,"translate"),i.qZA()(),i.TgZ(11,"mat-menu",6,7),i.YNc(13,we,5,3,"button",8),i.TgZ(14,"button",9),i.NdJ("click",function(me){return Rt.onSendFeedback(me)}),i._UZ(15,"mat-icon",10),i.TgZ(16,"span"),i._uU(17),i.ALo(18,"translate"),i.qZA()()()),2&mt&&(i.ekj("low-width-search-box",Rt.isConcealedSearchMode),i.Q6J("logoBehavior",Rt.logoBehavior),i.xp6(1),i.Q6J("ngSwitch",Rt.appBarTemplate),i.xp6(1),i.Q6J("ngSwitchCase","main"),i.xp6(4),i.hij(" ",i.lcZ(7,9,"toolbar.account")," "),i.xp6(3),i.hij(" ",i.lcZ(10,11,"toolbar.logout")," "),i.xp6(4),i.Q6J("ngIf",Rt.searchVisible&&Rt.shouldDisplaySearchButton),i.xp6(4),i.Oqu(i.lcZ(18,13,"feedback.send")))},dependencies:[f.O5,f.RF,f.n9,s.xw,s.SQ,s.Wh,s.yH,ce.b8,pt.eB,ge.W0,ge.tN,ge.D8,k.Hw,qt.gM,Ct.b,Gt.jf,Zt.S,ee.g,n.w,_e.W,O.X$],styles:['.constants-position-relative[_ngcontent-%COMP%]{position:relative}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.nv-custom-icons[_ngcontent-%COMP%]{display:inline-block;font-family:nvCustomIcons!important;font-variant:normal;color:gray;-webkit-font-smoothing:antialiased}nv-app-bar[_ngcontent-%COMP%]{height:56px;background:#393939;box-shadow:0 3px 3px -1px #000,0 4px 5px #00000019,0 1px 10px #00000015;position:relative;z-index:10}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{height:40px;width:auto;align-self:center}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 0 0 8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy: 0;padding:0 0 0 8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 8px 0 0}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy: 0;padding:0 8px 0 0}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%]{width:24px;height:24px;align-self:center}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{position:relative;height:17px;width:auto;top:9px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{right:11px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{left:34px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-left:4px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy1: 0;padding-left:4px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-right:4px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy1: 0;padding-right:4px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{padding-left:0}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy1: 0;padding-left:0}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy1: 0;padding-right:0}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:64px;max-width:144px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:24px;height:24px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button.feedback-button[_ngcontent-%COMP%]{width:40px;height:40px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], nv-app-bar[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{min-width:40px;line-height:initial}nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#777}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin-left:20px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:20px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:20px}nv-app-bar[_ngcontent-%COMP%]   .low-width-search-box[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin:0}nv-app-bar[_ngcontent-%COMP%]   .current-plan[_ngcontent-%COMP%]:empty:after{content:".";visibility:hidden}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%]{min-width:70px;min-height:70px;max-height:70px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0;height:70px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info.user-logged-out[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info.user-logged-out[_ngcontent-%COMP%]{padding:12px 16px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:fit-content;height:fit-content}.isLtr.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 14px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{--dummy: 0;margin:0 14px}.isRtl.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 14px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{--dummy: 0;margin:0 14px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;align-self:center}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{height:24px}.isLtr.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{right:15px}.isRtl.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{left:30px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .feedback-button.hig-button-icon.mat-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .feedback-button.hig-button-icon.mat-button[_ngcontent-%COMP%]{width:fit-content;height:fit-content}']}),be})();const Xe=["*"];let Gn=(()=>{var At;class be{get onRouteClicked$(){return this.routeClickedSubject.asObservable()}get onAccountActionClicked$(){return this.accountActionClickedSubject.asObservable()}get onSendFeedbackClicked$(){return this.sendFeedbackClickedSubject.asObservable()}get onUDSIconClicked$(){return this.udsIconClickedSubject.asObservable()}oobeCompleted(){this.gfnToolbar.shouldSlideOutLogo()}constructor(mt){this.destroy$=new K.xQ,this.routeClickedSubject=new K.xQ,this.accountActionClickedSubject=new K.xQ,this.sendFeedbackClickedSubject=new K.xQ,this.udsIconClickedSubject=new K.xQ,this.onLoginClicked=mt.guard(a.Ku.Link,this.onLoginClicked.bind(this)),this.onAccountProfileClicked=mt.guard(a.Ku.Link,this.onAccountProfileClicked.bind(this))}onMenuClicked(){this.gfnSidebar.toggle(ze.Toggle)}onCloseSidebar(){this.gfnSidebar.toggle(ze.Close)}onRouteClicked(mt){this.routeClickedSubject.next(mt)}onLoginClicked(mt){this.accountActionClickedSubject.next({type:Wt.Login,event:mt})}onLogoutClicked(mt){this.accountActionClickedSubject.next({type:Wt.Logout,event:mt})}onAccountProfileClicked(mt){this.accountActionClickedSubject.next({type:Wt.OpenAccountProfileLink,event:mt})}onSendFeedbackClicked(mt){this.sendFeedbackClickedSubject.next(mt)}onUDSIconClicked(mt){this.udsIconClickedSubject.next(mt)}ngOnDestroy(){this.routeClickedSubject.complete(),this.accountActionClickedSubject.complete(),this.sendFeedbackClickedSubject.complete(),this.udsIconClickedSubject.complete(),this.destroy$.next(!0),this.destroy$.complete()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(a.wI))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-desktop-navigation"]],viewQuery:function(mt,Rt){if(1&mt&&(i.Gf($e,5),i.Gf(We,5)),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.gfnSidebar=$t.first),i.iGM($t=i.CRH())&&(Rt.gfnToolbar=$t.first)}},inputs:{userState:"userState",routes:"routes",activatedRoute:"activatedRoute",udsIconVisibilityState:"udsIconVisibilityState"},ngContentSelectors:Xe,decls:4,vars:6,consts:[["fxLayout","column","fxFlexFill",""],["fxFlex","0 0 auto",1,"main-toolbar",3,"loggedIn","badgeUrl","displayName","currentPlanShortName","canShowUDSIcon","menuClicked","closeSidebar","loginClicked","logoutClicked","accountProfileClicked","sendFeedbackClicked","udsIconClicked"],["fxFlex","","fxFlexFill","",1,"common-window-content","common-container-overflow",3,"routes","routeClicked"]],template:function(mt,Rt){1&mt&&(i.F$t(),i.TgZ(0,"div",0)(1,"gfn-toolbar",1),i.NdJ("menuClicked",function(){return Rt.onMenuClicked()})("closeSidebar",function(){return Rt.onCloseSidebar()})("loginClicked",function(me){return Rt.onLoginClicked(me)})("logoutClicked",function(me){return Rt.onLogoutClicked(me)})("accountProfileClicked",function(me){return Rt.onAccountProfileClicked(me)})("sendFeedbackClicked",function(me){return Rt.onSendFeedbackClicked(me)})("udsIconClicked",function(me){return Rt.onUDSIconClicked(me)}),i.qZA(),i.TgZ(2,"gfn-sidebar",2),i.NdJ("routeClicked",function(me){return Rt.onRouteClicked(me)}),i.Hsn(3),i.qZA()()),2&mt&&(i.xp6(1),i.Q6J("loggedIn",null==Rt.userState?null:Rt.userState.loggedIn)("badgeUrl",null==Rt.userState?null:Rt.userState.badgeUrl)("displayName",null==Rt.userState?null:Rt.userState.displayName)("currentPlanShortName",null==Rt.userState?null:Rt.userState.membershipShortDescription)("canShowUDSIcon",Rt.udsIconVisibilityState),i.xp6(1),i.Q6J("routes",Rt.routes))},dependencies:[s.xw,s.s9,s.yH,We,$e],styles:["gfn-toolbar[_ngcontent-%COMP%]{z-index:10}nv-product-tour[_ngcontent-%COMP%]{z-index:101}"]}),be})();var Yn=t(70506),ye=t(93190),Ye=t(35316);const ue=["*"],Lt="font-body3",rt={type:Wt.Login,text:"toolbar.login",svgIconId:"account_circle2",fontTypeClass:Lt,loggedIn:!1},Ge=[{type:Wt.OpenFeedback,text:"feedback.title",svgIconId:"feedback",fontTypeClass:Lt}];let G=(()=>{var At;class be{get onRouteClicked$(){return this.routeClickedSubject.asObservable()}get onAccountActionClicked$(){return this.accountActionClickedSubject.asObservable()}get onSendFeedbackClicked$(){return this.sendFeedbackClickedSubject.asObservable()}get onUDSIconClicked$(){return Yn.E}oobeCompleted(){}constructor(mt,Rt,$t,me,He){this.loggingService=mt,this.el=Rt,this.ngZone=$t,this.matDialog=me,this.localeService=He,this.accountInfoSidebarItem=rt,this.pageNavSidebarItems=[],this.modalNavSidebarItems=[],this.searchBarVisible=!1,this.searchBarActivated=!1,this.destroy$=new K.xQ,this.routeClickedSubject=new K.xQ,this.accountActionClickedSubject=new K.xQ,this.sendFeedbackClickedSubject=new K.xQ,this.logger=this.loggingService.getLogger("gfn/TvNavigationView")}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,ye.R)(this.el.nativeElement,"keydown").pipe((0,tt.h)(mt=>"Escape"===mt.key),(0,ot.R)(this.destroy$)).subscribe(this.onEscape.bind(this)),(0,ye.R)(document,"keydown").pipe((0,tt.h)(mt=>"Escape"===mt.key&&!mt.defaultPrevented&&!this.higSidebar.expand&&!this.matDialog.openDialogs.length&&document.activeElement===document.body),(0,ot.R)(this.destroy$)).subscribe(this.onEscape.bind(this))})}ngOnChanges(mt){var Rt,$t,me,He,Qe,rn,gn,hn,en;const Fn=null===(Rt=mt.userState)||void 0===Rt?void 0:Rt.previousValue,ai=null===($t=mt.userState)||void 0===$t?void 0:$t.currentValue,Si=null===(me=mt.routes)||void 0===me?void 0:me.previousValue,fi=null===(He=mt.routes)||void 0===He?void 0:He.currentValue,Ai=null===(Qe=mt.activatedRoute)||void 0===Qe?void 0:Qe.previousValue,xi=null===(rn=mt.activatedRoute)||void 0===rn?void 0:rn.currentValue;(null!==(gn=mt.userState)&&void 0!==gn&&gn.firstChange||this.hasUserStateChanged(Fn,ai))&&(this.updateAccountInfoSidebarItem(),this.updateModalNavSidebarItems(this.userState.loggedIn)),(null!==(hn=mt.routes)&&void 0!==hn&&hn.firstChange||this.hasRoutesChanged(Si,fi))&&this.updatePageNavSidebarItems(),(null!==(en=mt.activatedRoute)&&void 0!==en&&en.firstChange||this.hasActivatedRouteChanged(Ai,xi))&&this.updateCurrentSelectedItem()}sidebarItemClicked(mt){const Rt=mt.itemType,$t=mt.event;"object"==typeof Rt?this.handleRouteClicked(Rt,!0):"string"==typeof Rt&&this.handleActionClicked(Rt,$t)}onEscape(mt){const Rt=this.higSidebar.expand&&this.activatedRoute.url!==U.nnJ.Home;if(Rt||!this.higSidebar.expand){if(mt.preventDefault(),mt.stopPropagation(),Rt){const He=this.routes.find(Qe=>Qe.url===U.nnJ.Home);this.handleRouteClicked(He,!1)}this.higSidebar.moveFocusOnSelectedItem(this.localeService.isRTLLayoutEnabled?"right":"left")}}handleRouteClicked(mt,Rt){const $t={...mt.navigationState,enableInitFocusOnNavigate:Rt},me={...mt,navigationState:$t};this.routeClickedSubject.next(me)}handleActionClicked(mt,Rt){switch(mt){case Wt.Login:this.accountActionClickedSubject.next({type:Wt.Login,event:Rt});break;case Wt.OpenAccountProfileDialog:this.accountActionClickedSubject.next({type:Wt.OpenAccountProfileDialog,event:Rt});break;case Wt.OpenFeedback:this.sendFeedbackClickedSubject.next(Rt);break;case Wt.Logout:this.accountActionClickedSubject.next({type:Wt.Logout,event:Rt});break;default:this.logger.warn(`Invalid NavActionType: ${mt}`)}}updateAccountInfoSidebarItem(){const mt=this.userState.loggedIn;this.accountInfoSidebarItem={...this.accountInfoSidebarItem,type:mt?Wt.OpenAccountProfileDialog:rt.type,text:mt?this.userState.displayName:rt.text,badgeUrl:this.userState.badgeUrl,subtext:this.userState.membershipShortDescription,loggedIn:mt}}updatePageNavSidebarItems(){this.pageNavSidebarItems=this.routes.map(mt=>({type:mt,text:mt.name,svgIconId:mt.svgIconId,fontTypeClass:Lt}))}updateModalNavSidebarItems(mt){const Rt=this.modalNavSidebarItems.map(me=>me.type),$t=Ge.every(me=>Rt.includes(me.type));mt?$t||(this.modalNavSidebarItems=this.modalNavSidebarItems.concat(Ge)):this.modalNavSidebarItems=this.modalNavSidebarItems.filter(me=>me.type!==Wt.OpenFeedback&&me.type!==Wt.Logout)}updateCurrentSelectedItem(){this.currentSelectedItem&&(this.currentSelectedItem.fontTypeClass=Lt);for(const mt of this.pageNavSidebarItems)if(mt.type.url===this.activatedRoute.url)return this.currentSelectedItem=mt,void(this.currentSelectedItem.fontTypeClass="font-sub3");this.logger.warn(`No matched sidebar item with current activated route: ${this.activatedRoute}`)}hasUserStateChanged(mt,Rt){return(null==mt?void 0:mt.loggedIn)!==(null==Rt?void 0:Rt.loggedIn)||(null==mt?void 0:mt.membershipShortDescription)!==(null==Rt?void 0:Rt.membershipShortDescription)}hasRoutesChanged(mt,Rt){if(!mt&&!Rt)return!1;if((null==mt?void 0:mt.length)!==(null==Rt?void 0:Rt.length))return!0;const $t=mt.map(He=>He.url),me=Rt.map(He=>He.url);return $t.forEach((He,Qe)=>{if(He!==me[Qe])return!0}),!1}hasActivatedRouteChanged(mt,Rt){return Rt&&(null==mt?void 0:mt.url)!==Rt.url}ngOnDestroy(){this.routeClickedSubject.complete(),this.accountActionClickedSubject.complete(),this.sendFeedbackClickedSubject.complete(),this.destroy$.next(!0),this.destroy$.complete()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(C.ed),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(y.uw),i.Y36(C.OL))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-tv-navigation"]],viewQuery:function(mt,Rt){if(1&mt&&i.Gf(a.Qe,5),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.higSidebar=$t.first)}},inputs:{userState:"userState",routes:"routes",activatedRoute:"activatedRoute",udsIconVisibilityState:"udsIconVisibilityState"},features:[i.TTD],ngContentSelectors:ue,decls:4,vars:5,consts:[["fxLayout","row","fxFlexFill","",1,"common-window-content"],[1,"sidebar",3,"enlargeFocusedItem","currentSelectedItem","accountInfoSidebarItem","pageNavSidebarItems","modalNavSidebarItems","itemClicked"],["fxLayout","column","fxFlexFill",""]],template:function(mt,Rt){1&mt&&(i.F$t(),i.TgZ(0,"div",0)(1,"nv-hig-sidebar",1),i.NdJ("itemClicked",function(me){return Rt.sidebarItemClicked(me)}),i.qZA(),i.TgZ(2,"div",2),i.Hsn(3),i.qZA()()),2&mt&&(i.xp6(1),i.Q6J("enlargeFocusedItem",!0)("currentSelectedItem",Rt.currentSelectedItem)("accountInfoSidebarItem",Rt.accountInfoSidebarItem)("pageNavSidebarItems",Rt.pageNavSidebarItems)("modalNavSidebarItems",Rt.modalNavSidebarItems))},dependencies:[s.xw,s.s9,Ye.Q],styles:[".constants-position-relative[_ngcontent-%COMP%]{position:relative}nv-hig-sidebar[_ngcontent-%COMP%]{--hig-sidebar-bg: rgba(0, 0, 0, 0);--hig-sidebar-expand-width: 400px;--hig-sidebar-collapse-width: 120px;--hig-sidebar-icon-size: 32px;--hig-sidebar-icon-default-color: rgba(255, 255, 255, .6);--hig-sidebar-expanded-icon-gap-size: 38px;--hig-sidebar-layout-gap-size: 0;--hig-sidebar-layout-first-item-top-gap: 0;--hig-sidebar-button-padding-top-bottom-size: 40px;--hig-sidebar-button-padding-left-right-size: 28px;--hig-sidebar-button-left-indent: 32px;--hig-sidebar-item-selected-left-border-size: 8px;--hig-sidebar-item-selected-icon-color: #ffffff;--hig-sidebar-account-icon-size: 68px;--hig-sidebar-account-layout-margin-top: 56px;--hig-sidebar-expanded-account-with-badge-icon-gap-size: -8px;--hig-sidebar-avatar-badge-img-size: 26px;--hig-sidebar-avatar-badge-img-relative-top: 24px;--hig-sidebar-avatar-badge-img-relative-right: 24px;--hig-sidebar-modal-layout-margin-bottom: 56px}.sidebar[_ngcontent-%COMP%]{position:absolute;z-index:10}"]}),be})();const at=["view"],St=["toastContainer"];function wt(At,be){1&At&&i.GkF(0)}function Yt(At,be){if(1&At&&(i.TgZ(0,"gfn-desktop-navigation",4,5),i.YNc(2,wt,1,0,"ng-container",6),i.qZA()),2&At){const Oe=i.oxw(),mt=i.MAs(5);i.Q6J("userState",Oe.userState)("udsIconVisibilityState",Oe.udsIconVisibilityState)("routes",Oe.availableRoutes),i.xp6(2),i.Q6J("ngTemplateOutlet",mt)}}function se(At,be){1&At&&i.GkF(0)}function fe(At,be){if(1&At&&(i.TgZ(0,"gfn-tv-navigation",7,5),i.YNc(2,se,1,0,"ng-container",6),i.qZA()),2&At){const Oe=i.oxw(),mt=i.MAs(5);i.Q6J("userState",Oe.userState)("routes",Oe.availableRoutes)("activatedRoute",Oe.activatedRoute),i.xp6(2),i.Q6J("ngTemplateOutlet",mt)}}function Re(At,be){1&At&&i.Hsn(0)}const Ee=["*"];var Le=function(At){return At.OobeCompleted="OobeCompleted",At.RouterNavigationEnd="RouterNavigationEnd",At}(Le||{}),xe=function(At){return At.Initializing="Initializing",At.Opened="Opened",At.Closed="Closed",At.Failed="Failed",At.Initialized="Initialized",At}(xe||{});let an=(()=>{var At;class be{set userState(mt){this._userState=mt}get userState(){return this._userState}set availableRoutes(mt){this._availableRoutes=mt}get availableRoutes(){return this._availableRoutes}set udsIconVisibilityState(mt){this._udsIconVisibilityState=mt}get udsIconVisibilityState(){return this._udsIconVisibilityState}set activatedRoute(mt){this._activatedRoute=mt}get activatedRoute(){return this._activatedRoute}constructor(mt,Rt,$t,me,He,Qe,rn,gn,hn,en,Fn,ai,Si,fi,Ai,xi,Bi,Co,Ni,pr,zo,vr,Ko){var Po,go;this.loggingService=Rt,this.router=$t,this.matDialog=me,this.pathService=He,this.idmLoginService=Qe,this.idmService=rn,this.ecommerceService=gn,this.feedbackService=hn,this.nesUserInfoService=en,this.surveyService=Fn,this.telemetryService=ai,this.telemetryUtilService=Si,this.gfcHelperService=fi,this.bridgeService=Ai,this.toastService=xi,this.translateService=Bi,this.customLocationService=Co,this.oobeService=Ni,this.focusManager=pr,this.udsHelperService=zo,this.dialogService=vr,this.gameSearchFilterService=Ko,this._userState={loggedIn:!1,displayName:"",membershipShortDescription:null,badgeUrl:null},this._availableRoutes=[Qt,Pt],this._activatedRoute=Qt,this._udsIconVisibilityState=!1,this.destroy$=new K.xQ,this.appInstanceId="",this.lastEntitlement=null,this.logger=this.loggingService.getLogger("gfn/NavigationComponent"),this.tvMode=!(null==mt||null===(Po=mt.featureEnablement)||void 0===Po||!Po.tvMode),this.enable10ft=this.tvMode&&!(null==mt||null===(go=mt.featureEnablement)||void 0===go||!go.new10ftUx),this.supportGalleryRoute=!C.ng.isAndroidPlatform()&&!C.ng.isBrowserPlatform(),this.enableSearchPageRoute=this.enable10ft}ngOnInit(){var mt;C.ng.isBrowserPlatform()&&this.gfcHelperService.getAppInstanceId().pipe((0,ot.R)(this.destroy$)).subscribe(Rt=>this.appInstanceId=Rt),this.feedbackService.setUpToastContainer(this.toastContainer),this.setUDSIconVisibilityState(),this.showUDSToastIfNeeded(),this.initAvailableRoutes(),this.activatedRoute=null!==(mt=this.availableRoutes.find(Rt=>Rt.url===this.router.url))&&void 0!==mt?mt:Qt}ngAfterViewInit(){this.userStateChanged().pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{this.userState=mt;const $t=this.availableRoutes;this.supportGalleryRoute&&mt.loggedIn&&!$t.find(me=>me.url===oe.url)&&($t.splice(1,0,oe),this.availableRoutes=$t)},mt=>this.logger.error(`Error when updating user state, error: ${mt.toString()}`)),this.commonStateChanged().pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{switch(mt){case Le.OobeCompleted:this.view.oobeCompleted();break;case Le.RouterNavigationEnd:const Rt=this.availableRoutes.filter($t=>this.pathService.isRouteActive($t.url));this.activatedRoute=Rt.length>0?Rt.reduce(($t,me)=>me.url.length>$t.url.length?me:$t):void 0,this.activatedRoute||this.logger.error(`Unable to find available route: [${this.availableRoutes.map($t=>$t.url)}] that matches to current route: ${this.router.url}`);break;default:this.logger.warn(`Invalid navigation common state: ${mt}`)}},mt=>this.logger.error(`Error when notifying common state, error: ${mt.toString()}`)),this.handleViewRouteClicked(),this.handleAccountActionClicked(),this.handleFeedbackClicked(),this.handleUDSIconClicked()}initAvailableRoutes(){if(this.enableSearchPageRoute){const mt=this.availableRoutes;mt.splice(1,0,Ut),this.availableRoutes=mt}this.enable10ft&&(this.availableRoutes=this.availableRoutes.map(mt=>{const Rt=U.O1L[mt.url];return{...mt,navigationState:Rt}}))}setUDSIconVisibilityState(){this.udsHelperService.canShowUDSSummonedUIIcon().pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{this.udsIconVisibilityState=mt})}userStateChanged(){return(0,X.aj)([this.idmService.accountStatusChanged,this.ecommerceService.getUserMembership()]).pipe((0,j.U)(([mt,Rt])=>{var $t,me,He,Qe;const rn=mt.userId;rn!==(null===($t=this.lastEntitlement)||void 0===$t?void 0:$t.userId)&&(this.logger.info("User login/logout detected, clearing customLocationService state"),this.customLocationService.clearState(),this.router.url.includes(U.nnJ.GamesGrid)&&!window.location.hash.match(U.nnJ.Deeplink)&&(this.logger.info("Navigating from GamesGrid to Home"),this.pathService.navigate([U.nnJ.Home])));const hn=Rt.eComFeatureEnabled&&Rt.membershipStatus===U.Tn6.Entitled,en=hn?Rt.subscription.productSku:null,Fn=hn?null===(me=Rt.subscription)||void 0===me?void 0:me.remainingTimeInMinutes:null,ai=hn?null===(He=Rt.product)||void 0===He?void 0:He.shortDescription:null,Si=null===(Qe=Rt.product)||void 0===Qe||null===(Qe=Qe.assets)||void 0===Qe||null===(Qe=Qe.find(Bi=>(null==Bi?void 0:Bi.subType)===U.X92.Badge&&Bi.url))||void 0===Qe?void 0:Qe.url,fi={loggedIn:mt.isAuthenticated,displayName:mt.displayName,membershipShortDescription:ai,badgeUrl:Si},Ai=this.ecommerceService.isUserUpgraded(this.lastEntitlement,rn,en),xi=this.ecommerceService.isPlaytimeUpdated(this.lastEntitlement,rn,en,Fn);return hn&&(Ai||xi)&&this.showMembershipUpgradedToast(ai,xi),this.lastEntitlement=hn?{userId:rn,productSku:en,remainingTimeInMinutes:Fn}:null,fi}))}commonStateChanged(){const mt=this.router.events.pipe((0,tt.h)($t=>$t instanceof g.m2)),Rt=this.oobeService.oobeDialogClosedState.pipe((0,tt.h)($t=>$t));return(0,m.T)(mt.pipe((0,j.U)($t=>Le.RouterNavigationEnd)),Rt.pipe((0,j.U)($t=>Le.OobeCompleted)))}handleViewRouteClicked(){this.view.onRouteClicked$.pipe((0,tt.h)(mt=>this.router.url!==mt.url),(0,W.b)(mt=>{this.logger.info(`Navigating to clicked route ${mt.url}`),this.pageNavigationLogTracer(mt.url)}),(0,A.w)(mt=>{const Rt={state:mt.navigationState};return mt.url===Ut.url?(this.gameSearchFilterService.navigateToGamesGrid(void 0,Rt),(0,Y.of)(!0)):(0,D.D)(this.pathService.navigateByUrl(mt.url,Rt))}),(0,ot.R)(this.destroy$)).subscribe(mt=>{mt||this.logger.error("Failed to navigate")},mt=>{this.logger.error(`Error when navigating route, error: ${mt.toString()}`)})}handleAccountActionClicked(){this.view.onAccountActionClicked$.pipe((0,d.zg)(mt=>{const Rt=mt.type;let me;if(this.logger.info(`Performing ${Rt}, event isTrusted: ${mt.event.isTrusted}`),Rt===Wt.Login)me=this.onLogin();else if(Rt===Wt.Logout)me=this.onLogout();else if(Rt===Wt.OpenAccountProfileLink)me=this.onOpenAccountProfileLink();else{if(Rt!==Wt.OpenAccountProfileDialog)return(0,N._)(`Invalid account action ${Rt}`);me=this.onOpenAccountProfileDialog()}return(0,Z.$R)(me,(0,Y.of)(Rt))}),(0,ot.R)(this.destroy$)).subscribe(([mt,Rt])=>{mt?this.logger.info(`Trigger ${Rt} success`):this.logger.error(`Failed to trigger ${Rt}`)},mt=>{this.logger.error(`Error when performing account action, error: ${mt.toString()}`)})}handleFeedbackClicked(){this.view.onSendFeedbackClicked$.pipe((0,d.zg)(mt=>this.openFeedbackDialog()),(0,ot.R)(this.destroy$)).subscribe(mt=>{switch(mt){case xe.Opened:this.logger.info("Feedback dialog is opened");break;case xe.Closed:this.logger.info("Feedback dialog is closed");break;case xe.Failed:this.logger.error("Failed to open feedback dialog");break;default:this.logger.warn(`Invalid feedback dialog state: ${xe}`)}},mt=>{this.logger.error(`Error when opening feedback dialog, error: ${mt.toString()}`)})}handleUDSIconClicked(){this.view.onUDSIconClicked$.pipe((0,ot.R)(this.destroy$)).subscribe(mt=>this.openUDSDialog(U.Cbx.Mall))}pageNavigationLogTracer(mt){switch(mt){case U.nnJ.Home:case U.nnJ.Settings:this.logger.trace($.y$.UserGesture,$.Px.Settings,mt===U.nnJ.Settings?$.Rf.open:$.Rf.close," Settings option")}}onLogin(){return this.idmLoginService.login(U.CGJ.ScreenAccountMenu)}onLogout(){return this.sendLogoutAttemptTelemetry(),this.logger.trace($.y$.UserGesture,$.Px.Login,"clicked on logout"),this.idmService.logout().pipe((0,tt.h)(mt=>mt===J.fH.LogoutCompleted||mt===J.fH.LogoutFailed),(0,B.q)(1),(0,j.U)(mt=>(this.resetTelemetryUserId(),this.feedbackService.closeFeedbackDialog(),mt===J.fH.LogoutCompleted)))}openFeedbackDialog(){if(C.ng.isAndroidPlatform())return this.bridgeService.executeCommand(lt.Gh.Common.Survey.Launch).pipe((0,B.q)(1),(0,j.U)(me=>xe.Initialized));const mt=()=>this.surveyService.getAvailableSurvey([st.TriggerType.Feedback],"0","",0),Rt=()=>this.surveyService.isSurveyFeatureAvailable([st.TriggerType.Feedback]),$t=()=>this.surveyService.surveyEventListenerCloseDialog(st.TriggerType.Feedback);return this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,d.zg)(me=>this.feedbackService.initializeFeedback(me.serviceEndpoint.loginProvider,mt,Rt,this.appInstanceId)),(0,B.q)(1),(0,A.w)(me=>{if(me){const He=this.feedbackService.onOpenFeedbackDialog($t);return(0,m.T)(He.afterOpened().pipe((0,H.h)(xe.Opened)),He.afterClosed().pipe((0,H.h)(xe.Closed)))}return(0,Y.of)(xe.Failed)}))}openUDSDialog(mt){const Rt=this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(U.owr,{panelClass:["dialog-component-container","dark-hue4-background-dialog"],autoFocus:!1,hasBackdrop:!0,disableClose:!0,maxWidth:"100vw",enterAnimationDuration:"0ms"}));Rt.componentInstance.launchSource=mt,Rt.componentInstance.udsUIClosed.pipe((0,B.q)(1)).subscribe($t=>{Rt.close()})}resetTelemetryUserId(){this.telemetryService.setEventsCommonData({userId:"undefined",externalUserId:"undefined",idpId:"undefined"},!0)}sendLogoutAttemptTelemetry(){this.telemetryUtilService.sendClickEvent(U.lzt.ManualLogout,"ManualLogout","",!1,"","",{immediateRequest:!0})}showMembershipUpgradedToast(mt,Rt){const $t=new bt;$t.textContent=this.translateService.instant(Rt?"ecommerce.playtimeAdded":"membership.updatedToMembership",{name:mt}),$t.button={text:this.translateService.instant("common.viewDetails"),action:this.onViewMembershipDetailsClicked.bind(this),actionParams:null},this.toastService.show(this.toastContainer,$t)}showUDSToastIfNeeded(){this.udsHelperService.showUDSToast$().pipe((0,ot.R)(this.destroy$)).subscribe(mt=>{if(mt){const Rt=new bt;Rt.textContent=this.translateService.instant("uds.toastMessage"),Rt.hideDelay=7e3,Rt.horizontalPosition="right",Rt.button={text:this.translateService.instant("uds.toastAction"),action:this.openUDSDialog.bind(this,U.Cbx.Notification),actionParams:null},this.toastService.show(this.toastContainer,Rt),this.udsHelperService.persistToastShown(),this.sendUDSToastShownTelemetry()}})}sendUDSToastShownTelemetry(){const mt=new U._63({clientType:U.BhR.MallClient,type:U.AUc.UDSToastShown});this.telemetryService.push(mt)}onViewMembershipDetailsClicked(){this.telemetryUtilService.sendClickEvent(U.lzt.ViewMembershipDetails,"",`${U.CGJ.ScreenMainToolbar}/${U.CGJ.ScreenToastMessage}`,!1),this.matDialog.closeAll(),this.pathService.navigate([U.nnJ.Settings])}onOpenAccountProfileLink(){return this.ecommerceService.openAccountProfilePage(U.CGJ.ScreenAccountMenu,U.D7$.ToolbarComponent),(0,Y.of)(!0)}onOpenAccountProfileDialog(){return this.dialogService.openAccountProfileDialog().pipe((0,B.q)(1),(0,d.zg)(mt=>mt===U.F4z.Logout?this.onLogout():(0,Y.of)(!0)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(U.VKt),i.Y36(C.ed),i.Y36(g.F0),i.Y36(y.uw),i.Y36(U.unb),i.Y36(U.ZB5),i.Y36(U.No2),i.Y36(U.BHV),i.Y36(p.TB),i.Y36(U.fIQ),i.Y36(U.FR5),i.Y36(Tt.y0),i.Y36(U.wU6),i.Y36(U.dgl),i.Y36(C.dF),i.Y36(Kt),i.Y36(O.sK),i.Y36(U.X5k),i.Y36(U.HKp),i.Y36(a.IK),i.Y36(U.wHL),i.Y36(U.xAy),i.Y36(it.En))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-navigation"]],viewQuery:function(mt,Rt){if(1&mt&&(i.Gf(at,5),i.Gf(St,7,i.s_b)),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.view=$t.first),i.iGM($t=i.CRH())&&(Rt.toastContainer=$t.first)}},ngContentSelectors:Ee,decls:6,vars:2,consts:[[3,"userState","udsIconVisibilityState","routes",4,"ngIf"],[3,"userState","routes","activatedRoute",4,"ngIf"],["toastContainer",""],["contentProjection",""],[3,"userState","udsIconVisibilityState","routes"],["view",""],[4,"ngTemplateOutlet"],[3,"userState","routes","activatedRoute"]],template:function(mt,Rt){1&mt&&(i.F$t(),i.YNc(0,Yt,3,4,"gfn-desktop-navigation",0),i.YNc(1,fe,3,4,"gfn-tv-navigation",1),i._UZ(2,"div",null,2),i.YNc(4,Re,1,0,"ng-template",null,3,i.W1O)),2&mt&&(i.Q6J("ngIf",!Rt.enable10ft),i.xp6(1),i.Q6J("ngIf",Rt.enable10ft))},dependencies:[f.O5,f.tP,Gn,G],encapsulation:2}),be})();const Be=["mainRouterOutletContainer"],ln=["mainViewport"];function tn(At,be){1&At&&(i.TgZ(0,"div",4),i._UZ(1,"mat-progress-spinner",5),i.qZA())}function Kn(At,be){1&At&&i._UZ(0,"gfn-notification",12)}function $n(At,be){if(1&At&&(i.TgZ(0,"div",6)(1,"gfn-navigation",7)(2,"div",8,9),i.YNc(4,Kn,1,0,"gfn-notification",10),i.TgZ(5,"div",11),i._UZ(6,"router-outlet"),i.qZA()()()()),2&At){const Oe=i.oxw();i.xp6(4),i.Q6J("ngIf",Oe.showNotification)}}let mn=(()=>{var At;class be{constructor(mt,Rt,$t,me,He,Qe,rn){var gn,hn,en,Fn;this.router=$t,this.titleService=me,this.applicationLifetimeService=He,this.dialogService=Qe,this.backNavigationService=rn,this.shouldEnableBackToExitApp=!1,this.promptBeforeExitApp=!1,this.viewState=F.$s,this.activeView=F.$s.Loading,this.paddingLeft=0,this.paddingRight=0,this.enable10ft=!1,this.shouldEnableBackToExitApp=!(null===(gn=Rt.backNavigation)||void 0===gn||!gn.backToExitApp),this.promptBeforeExitApp=!(null===(hn=Rt.client)||void 0===hn||!hn.promptBeforeExitApp),this.logger=mt.getLogger("main-content.component"),this.destroy$=new K.xQ,this.enable10ft=!(null==Rt||null===(en=Rt.featureEnablement)||void 0===en||!en.tvMode||null==Rt||null===(Fn=Rt.featureEnablement)||void 0===Fn||!Fn.new10ftUx)}get showNotification(){return!this.enable10ft}ngOnInit(){this.registerForAffilateInfo(),this.titleService.setTitle("GeForce NOW"),this.promptBeforeExitApp&&(this.shutdownWorkHandle=this.applicationLifetimeService.addWorkOnShutdownRequested(()=>(this.logger.info("Showing exit confirmation dialog"),this.dialogService.showExitAppDialog().pipe((0,B.q)(1),(0,j.U)(mt=>!mt))))),this.shouldEnableBackToExitApp&&this.backNavigationService.enableBackToExitApp()}ngAfterViewInit(){const mt=window.getComputedStyle(this.mainViewport.nativeElement);this.paddingLeft=parseInt(mt.getPropertyValue("padding-left"),10),this.paddingRight=parseInt(mt.getPropertyValue("padding-right"),10),this.mainViewport.nativeElement.addEventListener("touchstart",Rt=>{const $t=Rt.touches[0].pageX;this.paddingLeft<$t&&$t<window.innerWidth-this.paddingRight||Rt.preventDefault()},{passive:!1})}onOrientationChange(){const mt=window.getComputedStyle(this.mainViewport.nativeElement);this.paddingLeft=parseInt(mt.getPropertyValue("padding-left"),10),this.paddingRight=parseInt(mt.getPropertyValue("padding-right"),10)}registerForAffilateInfo(){this.activeView=F.$s.Ready,this.router.events.pipe((0,tt.h)(mt=>mt instanceof g.m2)).pipe((0,ot.R)(this.destroy$)).subscribe(()=>{this.mainRouterOutletContainer&&(this.mainRouterOutletContainer.nativeElement.scrollTop=0)},()=>{this.activeView=F.$s.Ready})}ngOnDestroy(){var mt;this.destroy$.next(!0),this.destroy$.complete(),null===(mt=this.shutdownWorkHandle)||void 0===mt||mt.remove(),this.shouldEnableBackToExitApp&&this.backNavigationService.disableBackToExitApp()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(C.ed),i.Y36(U.VKt),i.Y36(g.F0),i.Y36(e.Dx),i.Y36(z.Ll),i.Y36(U.xAy),i.Y36(a.SL))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-main-content"]],viewQuery:function(mt,Rt){if(1&mt&&(i.Gf(Be,5,i.SBq),i.Gf(ln,5,i.SBq)),2&mt){let $t;i.iGM($t=i.CRH())&&(Rt.mainRouterOutletContainer=$t.first),i.iGM($t=i.CRH())&&(Rt.mainViewport=$t.first)}},hostBindings:function(mt,Rt){1&mt&&i.NdJ("orientationchange",function(){return Rt.onOrientationChange()},!1,i.Jf7)},decls:4,vars:3,consts:[["fxLayout","column","fxFlexFill","",1,"common-window","covered-padding",3,"ngSwitch"],["mainViewport",""],["class","layout-spinner-container","fxLayoutAlign","center center","fxFlexFill","",4,"ngSwitchCase"],["fxLayout","column","fxFlexFill","",4,"ngSwitchCase"],["fxLayoutAlign","center center","fxFlexFill","",1,"layout-spinner-container"],["mode","indeterminate","color","accent","diameter","48","strokeWidth","4",1,"layout-spinner"],["fxLayout","column","fxFlexFill",""],["fxFlex","","fxFlexFill",""],["fxFlex","","fxFlexFill","","fxLayout","column",1,"common-window-content"],["mainRouterOutletContainer",""],["class","notification",4,"ngIf"],["fxFlex","",1,"router-outlet-container"],[1,"notification"]],template:function(mt,Rt){1&mt&&(i.TgZ(0,"div",0,1),i.YNc(2,tn,2,0,"div",2),i.YNc(3,$n,7,1,"div",3),i.qZA()),2&mt&&(i.Q6J("ngSwitch",Rt.activeView),i.xp6(2),i.Q6J("ngSwitchCase",Rt.viewState.Loading),i.xp6(1),i.Q6J("ngSwitchCase",Rt.viewState.Ready))},dependencies:[f.O5,f.RF,f.n9,s.xw,s.Wh,s.s9,s.yH,g.lC,Q.Ou,dt.c,an],styles:[".nv-custom-icons[_ngcontent-%COMP%]{display:inline-block;font-family:nvCustomIcons!important;font-variant:normal;color:gray;-webkit-font-smoothing:antialiased}.gfn-main-content-text[_ngcontent-%COMP%]{margin:24px}.router-outlet-container[_ngcontent-%COMP%]{overflow-y:hidden}.notification[_ngcontent-%COMP%]{z-index:1}.isLtr[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left)}html[dir=ltr][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy1: 0;padding-left:env(safe-area-inset-left)}.isRtl[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-right:env(safe-area-inset-left)}html[dir=rtl][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy1: 0;padding-right:env(safe-area-inset-left)}.isLtr[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-right:env(safe-area-inset-right)}html[dir=ltr][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy2: 0;padding-right:env(safe-area-inset-right)}.isRtl[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-right)}html[dir=rtl][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy2: 0;padding-left:env(safe-area-inset-right)}"]}),be})();var fn=t(6142),Rn=t(6776);let nn=(()=>{var At;class be{constructor(mt,Rt,$t){var me;this.router=$t,this.skipLocationChange=!1,this.shouldHandleTizenDeeplink=C.ng.isPWAModeOnSamsungTV(),this.logger=Rt.getLogger("RedirectGuard"),this.skipLocationChange=!(null===(me=mt.client)||void 0===me||!me.skipLocationChange)}canActivate(mt,Rt){if(this.skipLocationChange){const $t=this.router.getCurrentNavigation();$t.extras&&($t.extras.skipLocationChange=!0)}if(this.shouldHandleTizenDeeplink){this.logger.info("Checking if the app is launched by a deeplink...");const{appControl:$t}=(0,$.f6)(),me=$t&&(0,$.a_)($t);if(me)return this.logger.info("Launched by a deeplink! Now redirecting to",me),this.router.navigateByUrl(me,{skipLocationChange:!1,replaceUrl:!0}),Rn.C}return(0,U.n6x)(mt.queryParamMap)?this.router.createUrlTree([U.fFR.StreamerRoot],{queryParams:mt.queryParams}):this.router.createUrlTree([U.fFR.DefaultRedirect])}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(U.VKt),i.LFG(C.ed),i.LFG(g.F0))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();var hi=t(58175),Sn=t(680);let li=(()=>{var At;class be{constructor(mt,Rt,$t,me){var He;this.redirectService=Rt,this.systemInfoService=$t,this.configuration=me,this.logger=mt.getLogger("unsupported-device-guard"),this.browserUniversal=null===(He=this.configuration.featureEnablement)||void 0===He?void 0:He.browserClientUniversalEnablement,this.isSupportedDevice$=C.ng.isBrowserPlatform()?this.browserUniversal||(0,U.svt)()?(0,Y.of)(!0):this.systemInfoService.getSystemInfo([C.l7.OSName]).pipe((0,j.U)(Qe=>{let rn;return rn=!0,C.ng.isMobileFromUserAgent()&&(rn=rn&&Qe.OSName!==C.wi.Undefined),this.logger.info("Is Browser supported - ",rn),rn}),(0,hi.K)(Qe=>{this.logger.error("Error fetching system info",Qe);const rn=!C.ng.isMobileFromUserAgent();return(0,Y.of)(rn)}),(0,Sn.d)(1)):(0,Y.of)(!0)}canActivateChild(mt,Rt){return this.isSupportedDevice$.pipe((0,d.zg)($t=>$t?(0,Y.of)(!0):(this.redirectService.handleUnsupportedAndroidPlatform(),Rn.C)))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(U.VHe),i.LFG(C.Ob),i.LFG(U.VKt))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),Nn=(()=>{var At;class be{constructor(mt,Rt,$t){this.router=mt,this.loggingService=Rt,this.errorHandler=$t,this.logger=this.loggingService.getLogger("unsupported-route.guard")}canActivateChild(mt,Rt){return this.logger.error("Incorrect route url was entered: ",Rt.url.toString()),this.errorHandler.handleError(new Error("Error while processing an incorrect route: "+Rt.url.toString())),this.router.createUrlTree([U.fFR.DefaultRedirect])}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(g.F0),i.LFG(C.ed),i.LFG(i.qLn))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),Ci=(()=>{var At;class be{constructor(mt,Rt){this.loggingService=mt,this.redirectService=Rt,this.logger=this.loggingService.getLogger("trailingdot.guard"),this.options={replace:!0}}canActivateChild(mt,Rt){if(window.location.hostname.endsWith(".")){this.logger.info("Trailing Dot Domain was entered");const $t=window.location.origin.replace(window.location.hostname,window.location.hostname.slice(0,-1));return this.redirectService.redirectToExternalUrl(`${$t}${window.location.pathname}`,this.options),!1}return!0}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(U.VHe))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),ri=(()=>{var At;class be{constructor(mt){this.unsupportedBrowserService=mt}canActivate(mt,Rt){return this.unsupportedBrowserService.shouldDisplayPWAGuidance$}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(U.rHN))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),dn=(()=>{var At;class be{constructor(mt,Rt,$t){this.loggingService=mt,this.injector=Rt,this.meta=$t,this.logger=this.loggingService.getLogger("gdn-guard")}canActivateChild(mt,Rt){var $t;return!(null===($t=window)||void 0===$t?void 0:$t.isGDNDomain)||(this.meta.addTag({name:"robots",content:"noindex, nofollow"}),!!(0,U.svt)()||(this.redirectService=this.injector.get(U.VHe),this.logger.info("Redirecting to GDN Home Page"),this.redirectService&&this.redirectService.redirectTo(U.hEi.GdnHomePage,{replace:!0}),!1))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(i.zs3),i.LFG(e.h_))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();var ei=t(55617);let bi=(()=>{var At;class be{constructor(mt){this.appConfig=mt}preload(mt,Rt){var $t;const me=null===($t=mt.data)||void 0===$t?void 0:$t.eagerLoadingConfigKey;if(!me)return(0,Y.of)(null);const He=this.appConfig.eagerLoadingConfig[me];return void 0===He?(0,Y.of)(null):(0,Y.of)(!0).pipe((0,ei.g)(1e3*He),(0,j.U)(Qe=>Rt()))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(U.VKt))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();const Li=(At,be)=>(0,i.f3M)(U.V7b).handleRoute(At,be);var Wi=t(39743),To=t(69400),io=t(87251),Jt=t(38616),Bt=t(64915);let ne=(()=>{var At;class be{constructor(mt,Rt,$t,me,He,Qe,rn,gn){this.domSanitizer=$t,this.localeService=me,this.settingsService=He,this.dialogService=Qe,this.breakpointObserver=rn,this.genericDialog=gn,this.destroy$=new K.xQ,this.logger=mt.getLogger("pwa-wall.component"),Rt.addSvgIcon("gfnLogo",this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/img/Logo_GFN_Lockup.svg"))}ngOnInit(){this.genericDialog.closeAll(),this.logo=this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/icons/GFN-Logo-72.png");let mt=this.localeService.getLocale();"en_GB"===mt&&(mt="en_US");const Rt=this.settingsService.getLinksUrl(U.qBq.GFN_PC_FAQ_IOS,mt),$t=this.settingsService.getLinksUrl(U.qBq.GFN_PC_INFO,mt);this.breakpointObserver.observe(Wi.u3.Handset).pipe((0,ot.R)(this.destroy$)).subscribe(me=>{this.smallScreen=me.matches;const He=this.smallScreen?"font-body3-link":"font-body1-link";this.learnArgs={learnMoreLink:`/a><br><a class='${He}' href='${$t}'`},this.infoArgs={faqLink:`class="${He}" href="${Rt}"`},this.helpArgs={helpLink:`class="${He}"`}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}addToHomeHelp(){this.dialogService.openPwaWallHelpDialog()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(C.ed),i.Y36(k.jv),i.Y36(e.H7),i.Y36(C.OL),i.Y36(U.gbG),i.Y36(U.xAy),i.Y36(Wi.Yg),i.Y36(a.TX))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-pwa-wall"]],decls:57,vars:47,consts:[["fxFlexFill","",1,"parent"],[1,"gfn-background","ext-background-fill"],[1,"white-gradient"],[1,"black-gradient"],[1,"gray-overlay"],[1,"final-black-gradient"],["fxFlexFill","","fxLayoutAlign","start center",1,"dialog-background"],["fxFlex","none","fxLayout","column","fxLayoutAlign","start center",1,"logo-box",3,"fxLayoutGap"],["fxFlex","none","svgIcon","gfnLogo",1,"logo"],["cdkMonitorSubtreeFocus","",1,"logo-text","blurb-font",3,"innerHTML"],["fxFlex","1 1 0.01%",1,"padding"],["fxFlex","none","fxLayout","column","fxLayoutAlign","start stretch",1,"text-box","mat-elevation-z4"],["fxFlex","none","fxLayout","row","fxLayoutAlign","center center",1,"text-header"],[1,"setup-font"],["fxFlex","noshrink","fxLayout","row","fxLayoutAlign","start center",1,"text-box-row",3,"fxLayoutGap"],["fxLayout","row","fxLayoutAlign","center center",1,"icon"],["svgIcon","ios_share"],["fxLayout","column","fxLayoutAlign","center start"],[1,"instruction-font","green"],[1,"instruction-font"],["fxFlex","none",1,"divider"],["svgIcon","add_square"],["cdkMonitorSubtreeFocus","",1,"footer-font",3,"innerHTML","click"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"icon"],["svgIcon","nvidia_logo_green"],["fxFlex","none",1,"divider-full"],["fxFlex","none","fxLayout","row","fxLayoutAlign","center center",1,"last-row"],["cdkMonitorSubtreeFocus","",1,"footer-font",3,"innerHTML"]],template:function(mt,Rt){1&mt&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i._UZ(5,"div",5),i.qZA()()()(),i.TgZ(6,"div",6)(7,"div",7),i._UZ(8,"mat-icon",8)(9,"div",9),i.ALo(10,"trustAsHtml"),i.ALo(11,"translate"),i.qZA(),i._UZ(12,"div",10),i.TgZ(13,"div",11)(14,"div",12)(15,"div",13),i._uU(16),i.ALo(17,"translate"),i.qZA()(),i.TgZ(18,"div",14)(19,"div",15),i._UZ(20,"mat-icon",16),i.qZA(),i.TgZ(21,"div",17)(22,"div",18),i._uU(23),i.ALo(24,"translate"),i.qZA(),i.TgZ(25,"div",19),i._uU(26),i.ALo(27,"translate"),i.qZA()()(),i._UZ(28,"mat-divider",20),i.TgZ(29,"div",14)(30,"div",15),i._UZ(31,"mat-icon",21),i.qZA(),i.TgZ(32,"div",17)(33,"div",18),i._uU(34),i.ALo(35,"translate"),i.qZA(),i.TgZ(36,"div",19),i._uU(37),i.ALo(38,"translate"),i.qZA(),i.TgZ(39,"div",22),i.NdJ("click",function(){return Rt.addToHomeHelp()}),i.ALo(40,"translate"),i.qZA()()(),i._UZ(41,"mat-divider",20),i.TgZ(42,"div",14)(43,"div",23),i._UZ(44,"mat-icon",24),i.qZA(),i.TgZ(45,"div",17)(46,"div",18),i._uU(47),i.ALo(48,"translate"),i.qZA(),i.TgZ(49,"div",19),i._uU(50),i.ALo(51,"translate"),i.qZA()()(),i._UZ(52,"mat-divider",25),i.TgZ(53,"div",26),i._UZ(54,"div",27),i.ALo(55,"trustAsHtml"),i.ALo(56,"translate"),i.qZA()()()()),2&mt&&(i.xp6(1),i.ekj("small",Rt.smallScreen),i.xp6(5),i.ekj("big",!Rt.smallScreen)("small",Rt.smallScreen),i.xp6(1),i.Q6J("fxLayoutGap",Rt.smallScreen?"24px":"50px"),i.xp6(2),i.Q6J("innerHTML",i.lcZ(10,20,i.xi3(11,22,"iosPWA.promotion.subtitle",Rt.learnArgs)),i.oJD),i.xp6(7),i.Oqu(i.lcZ(17,25,"iosPWA.instruction.title")),i.xp6(2),i.Q6J("fxLayoutGap",Rt.smallScreen?"16px":"24px"),i.xp6(5),i.Oqu(i.lcZ(24,27,"iosPWA.instruction.step1")),i.xp6(3),i.Oqu(i.lcZ(27,29,"iosPWA.instruction.step1Text")),i.xp6(3),i.Q6J("fxLayoutGap",Rt.smallScreen?"16px":"24px"),i.xp6(5),i.Oqu(i.lcZ(35,31,"iosPWA.instruction.step2")),i.xp6(3),i.Oqu(i.lcZ(38,33,"iosPWA.instruction.step2Text")),i.xp6(2),i.Q6J("innerHTML",i.xi3(40,35,"iosPWA.instruction.step2Subtext",Rt.helpArgs),i.oJD),i.xp6(3),i.Q6J("fxLayoutGap",Rt.smallScreen?"16px":"24px"),i.xp6(5),i.Oqu(i.lcZ(48,38,"iosPWA.instruction.step3")),i.xp6(3),i.Oqu(i.lcZ(51,40,"iosPWA.instruction.step3Text")),i.xp6(4),i.Q6J("innerHTML",i.lcZ(55,42,i.xi3(56,44,"iosPWA.information",Rt.infoArgs)),i.oJD))},dependencies:[s.xw,s.SQ,s.Wh,s.s9,s.yH,To.d,k.Hw,io.E,Jt.p,Mt.kH,O.X$,Bt.W],styles:[".parent[_ngcontent-%COMP%]{position:relative}@media (orientation: landscape){.small.dialog-background[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important}}@media (orientation: landscape){.small.gfn-background[_ngcontent-%COMP%]{width:50%}}.logo-box[_ngcontent-%COMP%]{margin-top:75px}.big[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{margin-top:150px}.padding[_ngcontent-%COMP%]{max-height:55px;height:55px}.big[_ngcontent-%COMP%]   .padding[_ngcontent-%COMP%]{max-height:60px;height:60px}@media (orientation: landscape){.small[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{flex:0 0 50%!important;margin-top:0}.big[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{margin-top:40px}.small[_ngcontent-%COMP%]   .padding[_ngcontent-%COMP%]{height:0;max-height:0}}.logo[_ngcontent-%COMP%]{width:120px;height:24px}.big[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:245px;height:47px}.logo-text[_ngcontent-%COMP%]{padding:0 20% 10px;text-align:center}.text-box[_ngcontent-%COMP%]{background:#292929;margin:0 16px 16px;width:calc(100vw - 32px)}.big[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{max-width:548px}@media (orientation: landscape){.small[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{margin:0;width:50vw;flex:0 0 50%!important;align-self:stretch}}.text-header[_ngcontent-%COMP%]{background:#191919;width:100%;height:42px;padding:0 16px}.big[_ngcontent-%COMP%]   .text-header[_ngcontent-%COMP%]{height:55px}.text-box-row[_ngcontent-%COMP%]{padding:14px 16px}.big[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding:26px 0}@media (orientation: landscape){.isLtr[_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding-right:max(env(safe-area-inset-right,16px),16px)}html[dir=ltr][_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{--dummy2: 0;padding-right:max(env(safe-area-inset-right,16px),16px)}.isRtl[_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding-left:max(env(safe-area-inset-right,16px),16px)}html[dir=rtl][_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{--dummy2: 0;padding-left:max(env(safe-area-inset-right,16px),16px)}}.last-row[_ngcontent-%COMP%]{height:42px;padding:0 16px}.big[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]{height:55px}.icon[_ngcontent-%COMP%]{width:44px;height:44px;color:#fff}.isLtr[_nghost-%COMP%]   .icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:46px;height:46px}.isLtr[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:30px}html[dir=ltr][_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:30px}.isRtl[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:30px}html[dir=rtl][_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:30px}.icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:44px;height:44px}.big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:46px;height:46px}.divider[_ngcontent-%COMP%]{margin:0 16px}.big[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 24px}.divider-full[_ngcontent-%COMP%]{margin:0}.blurb-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.new-10ft[_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%]{color:#ffffffd9}.big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500;text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.setup-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-align:center}.tv-view[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.instruction-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.new-10ft[_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%]{color:#ffffffd9}.big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.new-10ft[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%]{color:#ffffffd9}.instruction-font.green[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;color:#76b900}.tv-view[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0;color:#76b900}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.footer-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-align:center;margin-top:8px}.tv-view[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.new-10ft[_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%]{color:#ffffffd9}.big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.new-10ft[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%]{color:#ffffffd9}"]}),be})();var xt=t(91009);const de=[{path:"",pathMatch:"full",canActivate:[(At,be)=>(0,i.f3M)(nn).canActivate(At,be)],children:[]},{path:"layout",component:mn,children:[{path:"games",loadChildren:()=>(performance.mark(U.Y6V.LayoutJSInitStart),C.OA.retry(()=>t.e(684).then(t.bind(t,66684)).then(At=>(performance.mark(U.Y6V.LayoutJSInitEnd),At.LayoutModule)),"LayoutModule"))},{path:"gallery",loadChildren:()=>Promise.resolve().then(t.bind(t,26707)).then(At=>At.GalleryModule)},{path:"preview",loadChildren:()=>Promise.resolve().then(t.bind(t,39203)).then(At=>At.PreviewModule)},{path:"settings",loadChildren:()=>C.OA.retry(()=>t.e(218).then(t.bind(t,31218)).then(At=>At.SettingsModule),"SettingsModule"),data:{}},{path:"surveys",loadChildren:()=>t.e(783).then(t.bind(t,60783)).then(At=>At.SurveysModule),data:{}}]},{path:"deeplink",loadChildren:()=>Promise.resolve().then(t.bind(t,22936)).then(At=>At.DeeplinkModule),canActivate:[fn.Fh],data:{}},{path:"loginwall",component:U.b1m},{path:"",data:{eagerLoadingConfigKey:"streamerPreloadDuration"},loadChildren:()=>C.OA.retry(()=>t.e(978).then(t.bind(t,8978)).then(At=>At.StreamerModule),"StreamerModule")},{path:"install",canActivate:[(At,be)=>(0,i.f3M)(ri).canActivate(At,be)],component:ne}],pe=[{path:"",canActivateChild:[(At,be)=>(0,i.f3M)(li).canActivateChild(At,be),(At,be)=>(0,i.f3M)(dn).canActivateChild(At,be),Li,(At,be)=>(0,i.f3M)(Ci).canActivateChild(At,be)],children:de},{path:"**",canActivateChild:[Li,(At,be)=>(0,i.f3M)(Nn).canActivateChild(At,be)],children:de}];let Te=(()=>{var At;class be{constructor(mt,Rt){this.appConfig=Rt,this.logger=mt.getLogger("mall/app-routing-module"),C.OA.sendTelemetry(this.logger),this.appConfig.configFetched$.subscribe(()=>{C.OA.retryAttempts=Number(this.appConfig.get().chunkRetry.retryAttempts),C.OA.intervalBetweenRetries=Number(this.appConfig.get().chunkRetry.interval)})}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(xt.XL))},At.\u0275mod=i.oAB({type:At}),At.\u0275inj=i.cJS({imports:[g.Bz.forRoot(pe,{useHash:!0,preloadingStrategy:bi}),g.Bz]}),be})();var Ke=t(38435),xn=t(22413),ni=t(14430),mi=t(53576),ci=t(90031);const Do={entitlement:{userSignedIn:!1,subscribed:!1},recentPlays:{useRecentPlays:!1}},zi="wgt-private/gaming-hub.json",Ti={ESRB:{E:"Everyone","E10+":"Everyone 10+",T:"Teen",M:"Mature"},PEGI:{3:"3+",7:"7+",12:"12+",16:"16+",18:"18+"},GRAC:{ALL:"All"},ClassInd:{L:"Livre",10:"N\xe3o recomendado para menores de 10 anos",12:"N\xe3o recomendado para menores de 12 anos",14:"N\xe3o recomendado para menores de 14 anos",16:"N\xe3o recomendado para menores de 16 anos",18:"N\xe3o recomendado para menores de 18 anos"}};let nr=(()=>{var At;class be{constructor(mt,Rt,$t,me,He){this.imageFormatService=Rt,this.idmService=$t,this.ecomService=me,this.layoutService=He,this.millisecondsOfDay=864e5,this.maxDays=90,this.logger=mt.getLogger("TizenGamingHubService"),this.webServiceLogger=mt.getLogger("TizenGamingHubService/WebService")}initialize(){var mt;if(!(0,$.fO)())throw new Error("Attempting to initialize on platform without Tizen API support!");tizen.messageport.requestLocalMessagePort("debugging.port").addMessagePortListener(($t,me)=>{this.webServiceLogger.info(`${$t[0].key}, value : ${$t[0].value}`)}),this.tizenGfnAppInfo=null===(mt=tizen)||void 0===mt?void 0:mt.application.getCurrentApplication().appInfo,this.isUserLoggedIn().pipe((0,A.w)($t=>$t?this.gamingHubDataChanged():(0,Y.of)(Do)),(0,hi.K)($t=>(this.logger.info("Failed to get GamingHubData, error: ",$t.toString()),Rn.C)),(0,A.w)($t=>{this.logger.info(`Writing GamingHubData to ${zi}: `,$t);const me=JSON.stringify($t);return(0,$.gk)(zi,me)})).subscribe($t=>this.logger.info(`Finished writing ${zi}, bytesCount: `,$t),$t=>this.logger.error(`Failed when writing ${zi}, error: `,$t))}gamingHubDataChanged(){return(0,X.aj)([this.entitlementChanged(),this.getRecentPlayItems()]).pipe((0,j.U)(([mt,Rt])=>({entitlement:mt,recentPlays:{useRecentPlays:!0,items:Rt}})))}entitlementChanged(){return this.isUserEntitled().pipe((0,j.U)(mt=>({userSignedIn:!0,subscribed:mt})))}isUserLoggedIn(){return this.idmService.accountStatusChanged.pipe((0,j.U)(mt=>mt.isAuthenticated))}isUserEntitled(){return this.ecomService.getUserMembership().pipe((0,tt.h)(mt=>mt.membershipStatus!==U.Tn6.LoggedOut&&mt.membershipStatus!==U.Tn6.UnKnown),(0,j.U)(mt=>!(mt.eComFeatureEnabled&&mt.membershipStatus===U.Tn6.UnEntitled)))}getRecentPlayItems(){return this.layoutService.getLayout().pipe((0,j.U)(Rt=>{const $t=Rt.data;let me=null;for(const He of $t){const Qe=He.sections;for(const rn of Qe)rn.type===U.ByO.MyLibrary&&(me=rn)}return me})).pipe((0,j.U)(Rt=>{var $t;const me=null!==($t=null==Rt?void 0:Rt.items)&&void 0!==$t?$t:[],He=[];for(const Qe of me){const rn=this.layoutService.fetchApplication(Qe.id);if(null==rn||!rn.data||rn.id===U.U19.id||rn.id===U.Jn8.id)continue;const gn=this.createRecentPlayItem(rn.data);gn&&He.push(gn)}return He}))}createRecentPlayItem(mt){const Rt=[];for(const gn of mt.variants){var $t;const hn=Date.parse(null===($t=gn.gfn.library)||void 0===$t?void 0:$t.lastPlayedDate);var me;Number.isNaN(hn)||Math.floor((Date.now()-hn)/this.millisecondsOfDay)>=this.maxDays||Rt.push(Date.parse(null===(me=gn.gfn.library)||void 0===me?void 0:me.lastPlayedDate))}if(0===Rt.length)return this.logger.info(`No valid value or the timestamp is outdated for lastPlayedDate in game:${mt.title}, id:${mt.id}`,mt.variants.map(gn=>{var hn;return null===(hn=gn.gfn.library)||void 0===hn?void 0:hn.lastPlayedDate})),null;const He=Rt.length>1?Rt.reduce((gn,hn)=>Math.max(gn,hn)):Rt[0],Qe=this.imageFormatService.formatImageServiceUrl(mt.images.KEY_ART,{w:288,f:C.k0.jpg});return{timestamp:He,title:mt.title,image:Qe,rating:this.getMappedRatingCode(mt.contentRatings),genre:"",deeplink:`/deeplink?${U.uE5.GameId}=${mt.id}&${U.uE5.Action}=${U.EMz.PlayGame}&${U.uE5.UtmSource}=samsung&${U.uE5.UtmCampaign}=game_hub`,app_id:this.tizenGfnAppInfo.id,app_name:this.tizenGfnAppInfo.name,app_logo_url:"",cp_game_id:mt.id}}getMappedRatingCode(mt){if(null==mt||!mt.type||null==mt||!mt.categoryKey)return"";const Rt=mt.type,$t=mt.categoryKey;return Rt in Ti&&$t in Ti?Ti[Rt][$t]:$t}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(C.CQ),i.LFG(U.No2),i.LFG(U.BHV),i.LFG(ci.P))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),Ki=(()=>{var At;class be{constructor(mt){this.tizenGameHubService=mt}initialize(){this.tizenGameHubService.initialize()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(nr))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();var Tr=t(83532),Dr=t(49481),Ro=t(5717),Pi=t(62864),Wn=t(19165),ir=t(87815),ro=t(31157),ho=t(30285),or=(t(1626),t(81351)),Ar=t(98144),rr=t(71882),Nr=t(79530),$i=t(44512);let Mn=(()=>{var At;class be{constructor(mt,Rt,$t,me,He,Qe,rn,gn){this.endpointFactory=Rt,this.distributedtracingUtilService=$t,this.idmService=me,this.clientHeaderService=He,this.appConfig=Qe,this.systemInfoService=rn,this.telemetryUtilService=gn,this.gxtRemoteConfigDefaultTimeout=3e3,this.gxtRemoteConfigDefaultTimeBetweenRetries=1e4,this.gxtRemoteConfigDefaultRetries=2,this.logger=mt.getLogger("GxtRemoteConfigSdkService")}getRemoteConfig(mt,Rt,$t){return(0,X.aj)([this.clientHeaderService.getCommonHeaders(),this.systemInfoService.getSystemInfo([C.l7.DeviceId,C.l7.VendorName]),this.idmService.getAuthToken(Rt).pipe((0,B.q)(1))]).pipe((0,B.q)(1),(0,d.zg)(([me,He,Qe])=>{var rn,gn,hn;const en=Object.assign({project:this.appConfig.gxtRemoteConfig.rconfigProject},{product:this.appConfig.gxtRemoteConfig.rconfigProduct},{clientParams:JSON.stringify(mt)}),Fn={headers:this.createHeader(me,He,Qe),reportRequestData:{originalService:or.v6v.GxTarget,serviceUseCase:or.f$p.GetRemoteConfig,reportSuccessTelemetry:"true"},params:en,includeRequestId:!0},ai={timeout:null!==(rn=this.appConfig.gxtRemoteConfig.defaultTimeout)&&void 0!==rn?rn:this.gxtRemoteConfigDefaultTimeout,timeBetweenRetries:null!==(gn=this.appConfig.gxtRemoteConfig.defaultTimeBetweenRetries)&&void 0!==gn?gn:this.gxtRemoteConfigDefaultTimeBetweenRetries,maxRetries:null!==(hn=this.appConfig.gxtRemoteConfig.defaultRetries)&&void 0!==hn?hn:this.gxtRemoteConfigDefaultRetries},Ai=this.endpointFactory.createEndpoint({config:ai}).get((0,$.D5)([this.appConfig.gxtRemoteConfig.server+"/rconfig/v2"]),Fn);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ai,Fn,ro.j1.GetRemoteConfigV2,$t).pipe((0,W.b)(xi=>(this.logger.info("Successfully got remote config from GXT"),xi)))}))}createHeader(mt,Rt,$t){const me={...mt};return me["NV-GXT-Device-Id"]=Rt.DeviceId,me["NV-Device-Make"]=(null==Rt?void 0:Rt.VendorName)||"undefined",me["NV-Client-Variant"]=this.telemetryUtilService.getCommonClientVariant(this.appConfig.build.variant),null!=$t&&$t.token&&(me[ho.n0.authorization]=`GFNJWT ${$t.token}`),me}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(ho.V9),i.LFG(ro.Dc),i.LFG(Ar.N),i.LFG(rr.x),i.LFG(Nr.V),i.LFG(C.Ob),i.LFG($i.w))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),Ao=(()=>{var At;class be{constructor(mt,Rt,$t,me,He,Qe,rn){this.gridService=Rt,this.nesUserInfoService=$t,this.remoteConfigService=me,this.appConfig=He,this.gxtRemoteConfigSdkService=Qe,this.telemetryService=rn,this.isCachedRCTelemetrySent=!1,this.forceRefreshNeeded=!1,this.forceRefreshNeededSub=new Dr.t(1),this.forceRefreshNeeded$=this.forceRefreshNeededSub.asObservable(),this.logger=mt.getLogger("gfn/RemoteConfigTriggerService")}initialize(){var mt;this.logger.info("init"),this.forceRefreshNeededSub.next();const $t=(null===(mt=this.appConfig)||void 0===mt||null===(mt=mt.gxtRemoteConfig)||void 0===mt?void 0:mt.forceRefreshIntervalInMS)||864e5;(0,Ke.H)($t,$t).pipe((0,W.b)(()=>{this.forceRefreshNeeded=!0,this.forceRefreshNeededSub.next()})).subscribe();const me=[this.gridService.defaultZone$,this.nesUserInfoService.fetchUserInfoWithStreamingUrl(),this.forceRefreshNeeded$];let He,Qe,rn,gn;(0,X.aj)(me).pipe((0,d.zg)(([hn,en,Fn])=>(0,X.aj)([(0,Y.of)(en.isAffiliate?en.serviceEndpoint.loginProviderCode:null),(0,Y.of)(en),this.gridService.vpcId$.pipe((0,B.q)(1)),this.remoteConfigService.getCurrentZonePrefix()])),(0,tt.h)(([hn,en,Fn,ai])=>(He=hn,Qe=en,rn=ai,gn=Fn,rn!==this.remoteConfigService.cachedZonePrefix||Qe.user.userId!==this.remoteConfigService.cachedUserId||He!==this.remoteConfigService.cachedProviderCode||this.forceRefreshNeeded)),(0,d.zg)(hn=>{var en;return this.forceRefreshNeeded=!1,this.isCachedRCTelemetrySent||(this.sendRCDebugInfoTelemetry(!1,!0),this.isCachedRCTelemetrySent=!0),this.logger.info("fetching remote config data from GXT",He,null===(en=Qe.user)||void 0===en?void 0:en.userId,rn,gn),this.fetchRemoteConfigFromGXT(rn,gn)})).subscribe(hn=>{var en;this.logger.info("remote config fetched successfully"),this.remoteConfigService.cachedProviderCode=He,this.remoteConfigService.cachedUserId=(null===(en=Qe.user)||void 0===en?void 0:en.userId)||"",this.remoteConfigService.cachedZonePrefix=rn,this.remoteConfigService.cachedVPCId=gn,this.sendRCDebugInfoTelemetry(!0,!0)},hn=>{this.sendRCDebugInfoTelemetry(!0,!1,gn,rn),this.logger.error("Failed to get remote config",hn)})}fetchRemoteConfigFromGXT(mt,Rt){return this.gxtRemoteConfigSdkService.getRemoteConfig({zoneName:Rt,regionName:mt}).pipe((0,W.b)(me=>{var He;this.logger.info("remote config data fetched successfully from GXT");const Qe=null==me||null===(He=me.params)||void 0===He?void 0:He.find(gn=>"rcParamNameToLocalConfigKeyPathMap"===gn.name);let rn=this.appConfig.rcParamNameToLocalConfigKeyPathMap;Qe&&(rn=(0,vt.merge)(this.appConfig.rcParamNameToLocalConfigKeyPathMap,Qe.value)),this.remoteConfigService.updateRemoteConfigFromGXT(me,mt,Rt,rn)}),(0,hi.K)(me=>(this.logger.error("Failed to get remoteConfig from GXT: ",me),this.remoteConfigService.propagatePreviousOverides(),(0,N._)(me))))}sendRCDebugInfoTelemetry(mt,Rt,$t,me){const He=Rt&&mt?this.remoteConfigService.remoteConfigFetched$.pipe((0,H.h)(!0)):(0,Y.of)(!1);(0,Z.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable(),He).pipe((0,B.q)(1),(0,W.b)(()=>{this.logger.info("Sending RemoteConfigInfo telemetry event");const rn=me||(mt?this.remoteConfigService.cachedZonePrefix:this.remoteConfigService.zonePrefixForCachedRCTelemetry),gn=mt?this.remoteConfigService.currentRemoteConfigRevision:this.remoteConfigService.projectRevisionForCachedRCTelemetry,hn=new U.Ran({isLive:mt?U.wye.TRUE:U.wye.FALSE,isSuccess:Rt?U.wye.TRUE:U.wye.FALSE,regionName:null!=rn?rn:"",zoneName:$t||(mt?this.remoteConfigService.cachedVPCId:this.remoteConfigService.vpcIdForForCachedRCTelemetry)||"",project:this.appConfig.gxtRemoteConfig.rconfigProject,product:this.appConfig.gxtRemoteConfig.rconfigProduct,revision:null!=gn?gn:"",isFetchedFromGXT:U.wye.TRUE});this.logger.info(`telemetry params for ${mt?"live":"cached"} RemoteConfigInfo`,hn),this.telemetryService.push(hn)})).subscribe(Ro.Z,Qe=>{this.logger.error("Error in sending remoteConfigInfo telemetry",Qe)})}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(U.rIG),i.LFG(Pi.f),i.LFG(Wn.s),i.LFG(ir.VK),i.LFG(Mn),i.LFG(Tt.y0))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();var ii=t(47927),No=t(32311),Di=t(11917),uo=t(45078),sr=t(79565),Ur=t(52290),ar=t(10368),so=function(At){return At.SharedStorage="sharedStorage",At.DbStorage="dbStorage",At.CacheStorage="cacheStorage",At}(so||{}),lr=t(15665);let kr=(()=>{var At;class be{constructor(mt,Rt,$t){this.dbService=Rt,this.sharedStorageService=$t,this.logger=mt.getLogger("libraries/service-worker.service")}get cleanupHandlers(){return{[so.SharedStorage]:this.sharedStorageCleanup.bind(this),[so.DbStorage]:this.dbStorageCleanup.bind(this),[so.CacheStorage]:this.cacheStorageCleanup.bind(this)}}sharedStorageCleanup(mt){this.logger.info("Running sharedStorageCleanup for keys ",mt);const Rt=[];return null==mt||mt.forEach($t=>{Rt.push(this.sharedStorageService.removeBlock($t))}),(0,X.aj)(Rt).pipe((0,B.q)(1),(0,H.h)(!0))}dbStorageCleanup(mt){this.logger.info("Running dbStorageCleanup for keys ",mt);const Rt=[];return null==mt||mt.forEach($t=>{Rt.push(this.dbService.deleteOldKeys($t))}),(0,X.aj)(Rt).pipe((0,B.q)(1),(0,H.h)(!0))}cacheStorageCleanup(mt){this.logger.info("Running cacheStorageCleanup for keys ",mt);const Rt=[];return null==mt||mt.forEach($t=>{const me=(0,D.D)(caches.has($t)).pipe((0,d.zg)(He=>He?(0,D.D)(caches.delete($t)):(this.logger.info(`cacheStorage with key ${$t} not available`),(0,Y.of)(!0))));Rt.push(me)}),(0,X.aj)(Rt).pipe((0,B.q)(1),(0,H.h)(!0))}clearStorages(mt){const Rt=[];for(const $t in this.cleanupHandlers)this.cleanupHandlers.hasOwnProperty($t)&&Rt.push((0,this.cleanupHandlers[$t])(mt[$t]));return(0,X.aj)(Rt).pipe((0,B.q)(1),(0,H.h)(!0))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(C.MC),i.LFG(lr.OA))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),ao=(()=>{var At;class be{}return(At=be).\u0275fac=function(mt){return new(mt||At)},At.\u0275mod=i.oAB({type:At}),At.\u0275inj=i.cJS({}),be})();var Fe=t(42566),Fr=t(24565);let Br=(()=>{var At;class be{constructor(mt,Rt,$t,me,He,Qe,rn,gn,hn,en,Fn,ai,Si,fi,Ai,xi,Bi,Co,Ni,pr,zo,vr,Ko,Po,go,Qr,Os,fr,bs,ys,Es,So,jr,_r,xs,Is,ws,Ls,Ts,Ds,Rs,As,Ns,Us,ks,Fs,Jr,Gs,Bs,Hs,Vs,Ws,zs,Ks,$o,Xr,qr,ts,Mo,Oo,Pn,Mi,es,Zo,Yo,bo,yo,Qo,Cr){var Hi,Ii,Ji,Pr,Sr,Eo,Ui;this.injector=Rt,this.appConfig=$t,this.loginWallService=me,this.oobeService=He,this.userConsentService=Qe,this.stringTableSvc=rn,this.localeService=gn,this.startupService=hn,this.mallRelaunchService=en,this.confirmationDialogService=Fn,this.bridgeService=ai,this.remoteConfigTriggerService=Si,this.releaseHighlightsService=xi,this.updateService=Bi,this.idmService=Co,this.browserSupportService=zo,this.telemetryService=Ko,this.feedbackService=Po,this.gfwslParamsService=go,this.playtestLiveService=Qr,this.gameSearchFilterService=ys,this.gfnSdkService=So,this.ntEventsHandlerService=Ls,this.networkTestService=Ts,this.backgroundColorService=Ds,this.spatialNavigationService=Rs,this.gamepadNavigationService=As,this.systemInfoService=Us,this.browserPushNotificationService=ks,this.router=Fs,this.surveyService=Jr,this.snackbar=Bs,this.translateService=Hs,this.resolutionUpscaleService=Vs,this.nvKeyboardService=zs,this.audioPlayService=Ks,this.clipboardService=$o,this.gfnWebWorkerService=ts,this.userActivationGuardService=Mo,this.guestModeHelperService=Oo,this.inputModalityService=Pn,this.storageCleanupService=Mi,this.appleScreenService=es,this.appLaunchPerformanceService=Yo,this.unsupportedBrowserService=bo,this.browserLeanModeService=yo,this.cursorBlocker=Qo,this.bannerNotificationService=Cr,this.destroy$=new K.xQ,this.direction="ltr",this.isBrowserClient=!1,this.enableSoundNotification=!1,this.appLaunchPerformanceService.onCommonJSLoadEnd();const{remoteLogging:xo=!1,consoleLogging:jo=!0,telemetryReporting:Mr=!0,devTools:Vi=!0}=$t.featureEnablement;mt.initialize(xo,jo),this.logger=mt.getLogger("app component"),this.logger.info("Using configuration:",$t),this.backgroundColorService.init(!0),this.updateLocale(),this.loginWallService.initialize(),null!==(Hi=this.appConfig.featureEnablement)&&void 0!==Hi&&Hi.osrMode&&(this.openOsrSubscription=this.bridgeService.executeCommand(lt.Gh.Gfn.Streaming.OpenOsr,{enableInput:!0}).subscribe()),this.isBrowserClient=C.ng.isBrowserPlatform();let wi=this.appConfig.build.version;if(void 0!==fr.production&&!1===fr.production?wi=this.appConfig.build.version+"-dev":"virtual"===this.appConfig.build.type&&(wi=this.appConfig.build.version+"-"+this.appConfig.build.cl+"-virtual"),Ko.initialize(!Mr),_r.init(wi),this.systemInfoService.getSystemInfo([C.l7.DeviceId]).pipe((0,B.q)(1)).subscribe(Hn=>{document.cookie=`device_id=${Hn.DeviceId}; max-age=31536000; samesite=lax; secure; path=/`}),Ai.initialize(_r.getClientType(),fi.fetchCountryCode()),Gs.initialize(xo,jo),Es.initialize(),jr.initialize(),this.gfnWebWorkerService.initialize(),fi.initializeDistributedTracing(),this.streamerConfigSubscription=Is.config$.pipe((0,j.U)(Hn=>{const Jo=!(0,vt.isNil)(null==Hn?void 0:Hn.sdkClient)&&(null==Hn?void 0:Hn.sdkClient.length)>0;return Jo&&So.setSdkClient(Hn.sdkClient),_r.setTelemetryConfig(Hn),Jo}),(0,tt.h)(Hn=>Hn&&So.isThisAGFNSDKSession()),(0,d.zg)(()=>So.getAuthInfo()),(0,d.zg)(Hn=>{switch(Hn.authType){case mi.Gr.IDM:if(Hn.authToken)return Co.setIdToken(Hn.authToken);break;case mi.Gr.JWT:return this.guestModeHelperService.isGuestMode?(0,Y.of)(null):Ni.getUserMembership()}return(0,Y.of)(null)}),(0,tt.h)(Hn=>!1===Ni.featureUpsellAvailable(U.$cB.BETTER_PRODUCT))).subscribe(Hn=>{this.logger.info("GaaS session available, but user has a premium account. Using that instead"),So.forceIDMAuthType()}),Co.initialize(this.guestModeHelperService.isGuestMode),Ws.initialize(),$t.featureEnablement.remoteLogging&&!this.guestModeHelperService.isGuestMode&&vr.initialize(wi),He.initialize(),this.isBrowserClient&&(this.browserSupportService.initialize(!0,!fr.production||Vi),this.ntEventsHandlerService.initiateAnalyticsEvents(),this.browserPushNotificationService.init()),this.userConsentService.initUserConsent(),this.remoteConfigTriggerService.initialize(),Ni.initialize(),pr.initialize(),this.gameSearchFilterService.init(),(0,U.wIc)(this.router.url)||(this.layoutService=this.injector.get(ci.P),this.layoutService&&this.layoutService.initialize()),Os.initialize(),bs.initialize(),xs.init(),ws.initialize(),this.surveyService.initialize(),this.clipboardService.setDefaultClipboardSetting(),null!==(Ii=$t.featureEnablement)&&void 0!==Ii&&Ii.openLinksOffDevice&&(this.logger.info("Enabling off-device link feature"),Ns.enable()),null!==(Ji=this.appConfig.featureEnablement)&&void 0!==Ji&&Ji.spatialNavigation){var gi,Xn;this.logger.info("Enabling spatial navigation"),this.spatialNavigationService.enable(!0);const Hn=!(null===(gi=this.appConfig)||void 0===gi||null===(gi=gi.featureEnablement)||void 0===gi||!gi.tvMode||null===(Xn=this.appConfig)||void 0===Xn||null===(Xn=Xn.featureEnablement)||void 0===Xn||!Xn.new10ftUx);this.spatialNavigationService.activated=Hn}null!==(Pr=this.appConfig.featureEnablement)&&void 0!==Pr&&Pr.nvKeyboard&&(this.nvKeyboardService.enabled=!0),null!==(Sr=this.appConfig)&&void 0!==Sr&&Sr.userActivationGuardConfig&&(this.userActivationGuardService.enabled=!0),Xr.init(),$t.backNavigation&&(this.backNavigationService=Rt.get(a.SL)),this.enableSoundNotification=!(null==$t||null===(Eo=$t.featureEnablement)||void 0===Eo||!Eo.enableSoundNotification),qr.initialize(),Zo.initializeUDS(),null!==(Ui=this.appConfig)&&void 0!==Ui&&null!==(Ui=Ui.cursorBlocker)&&void 0!==Ui&&Ui.enabled&&(this.cursorBlocker.monitor(),this.browserLeanModeService.leanModeTransitionState.pipe((0,ot.R)(this.destroy$)).subscribe(Hn=>{Hn?this.cursorBlocker.stopMonitoring():this.cursorBlocker.monitor()}))}ngOnInit(){var mt,Rt,$t;this.inputModalityService.startMonitoring(),this.telemetryService.setScreen(U.CGJ.ScreenMallHome),this.idmService.accountStatusChanged.pipe((0,ot.R)(this.destroy$)).subscribe(en=>{this.feedbackService.onAccountStatusChanged({userId:en.userId,externalUserId:en.externalId,idpId:en.idpId,isAuthenticated:en.isAuthenticated}),this.gfwslParamsService.onAccountStatusChanged(en.userId,en.isAuthenticated,Tt.p6.Full,en.technicalConsent,en.behavioralConsent),this.networkTestService.initGxTargetConfiguration(this.isBrowserClient)}),this.startupService.checkAndFixOverrideZone().pipe((0,ot.R)(this.destroy$)).subscribe();const me=(0,Y.of)(null).pipe((0,W.b)(()=>{this.gfnSdkService.continueStartup()}),(0,d.zg)(()=>this.showReleaseHighlightsOnAppUpdate()),(0,A.w)(en=>this.mallRelaunchService.completeRelaunch()),(0,hi.K)(en=>(this.logger.error("Failed to launch stored cmsId ",en),(0,Y.of)(null))),(0,W.b)(en=>{en&&this.logger.info("Successfuly launched stored cmsId")})),He=(0,Ke.H)(0).pipe((0,A.w)(()=>{const en=this.confirmationDialogService.open({disableClose:!0,hasBackdrop:!0,data:{message:"install.installFirstMessage",closeButtonText:"common.close",header:"common.productName"}});return(0,xn.z)(en.afterClosed(),this.bridgeService.executeCommand(lt.Gh.Common.Windowcontrol.Close)).pipe((0,hi.K)(Fn=>(this.logger.error("Failed to close the app while app is not installed: ",Fn),(0,Y.of)(null))))}));let Qe=me;if(!(0,U.wIc)(this.router.url)){const en=this.updateService.updateApplication$();Qe=this.updateService.isUpdateAvailable$().pipe((0,W.b)(Fn=>this.logger.info("Update check, isAvailable",Fn)),(0,A.w)(Fn=>(0,ni.s)(()=>Fn,en,me)))}(0,Z.$R)(this.oobeService.oobeDialogClosedState,this.oobeService.launch()).pipe((0,A.w)(()=>this.bridgeService.executeCommand(lt.Gh.Common.Applicationinfo.IsApplicationInstalled)),(0,A.w)(en=>(0,ni.s)(()=>en,Qe,He))).pipe((0,ot.R)(this.destroy$)).subscribe(()=>this.logger.info("Mall AppComponent init finished"),en=>this.logger.error("Error while starting mall",en)),this.osType$=this.systemInfoService.getDeviceOSType().pipe((0,B.q)(1),(0,Sn.d)(1)),this.resolutionUpscaleService.initialize(),this.playtestLiveService.initialize(),null!==(mt=this.appConfig.featureEnablement)&&void 0!==mt&&mt.spatialNavigation&&(null===(Rt=this.appConfig.client)||void 0===Rt||!Rt.handleGamepadInputInNative)&&(this.gamepadNavigationService.activated=!0);const gn=null===($t=this.appConfig.backNavigation)||void 0===$t?void 0:$t.translateSystemBackTo;var hn;if(gn&&(null===(hn=this.backNavigationService)||void 0===hn||hn.translateSystemBackTo(gn)),this.isBrowserClient){this.guestModeHelperService.isGuestMode||this.osType$.pipe((0,d.zg)(Fn=>this.bridgeService.executeCommand(lt.Gh.Share.Shareserver.Init,{osType:Fn,areHotkeysOverridden:!1,overriddenHotkeysList:[]})),(0,ot.R)(this.destroy$)).subscribe(()=>{this.logger.info("ShareServer Browser plugin Initialized")});const en=U.N0y.RigReadyAndStreamerIdleTimeout;this.enableSoundNotification&&this.audioPlayService.registerAudio(null==en?void 0:en.type,null==en?void 0:en.src,C.rh)}this.showInitToastForXbox(),this.appConfig.instrumentation.isEnabled&&this.systemInfoService.getSystemInfo(C.FO).pipe((0,B.q)(1)).subscribe(en=>{const Si=`\n${JSON.stringify({systemInfo:en},null,"\t")}`;this.logger.info(`\nINSTRUMENTATION_LOG_BEGIN${Si}\nINSTRUMENTATION_LOG_END`)}),C.ng.isPWAModeOnSamsungTV()&&(this.tizenService=this.injector.get(Ki),this.tizenService.initialize()),this.appleScreenService.enableTranslucentStatusBar&&this.appleScreenService.initialize()}ngAfterViewInit(){var mt,Rt;this.bannerNotificationService.initialize(),this.updateService.isFirstRunAfterUpdate().pipe((0,B.q)(1),(0,tt.h)($t=>$t),(0,d.zg)(()=>this.storageCleanupService.clearStorages(this.appConfig.storageCleanupKeys).pipe((0,B.q)(1)))).subscribe(()=>{},$t=>{this.logger.error("Error clearing store",$t)}),this.isOpportunityBlockerFound(),this.isBrowserClient||(0,U.wIc)(this.router.url)||setTimeout(()=>this.updateService.checkLastInstallationStatus(),null===(Rt=this.appConfig)||void 0===Rt||null===(Rt=Rt.client)||void 0===Rt?void 0:Rt.updateFailureNotificationDelay),this.isBrowserClient&&this.unsupportedBrowserService.handleUnsupportedDialog(),null!==(mt=this.appConfig.client)&&void 0!==mt&&mt.reloadOnBFCacheLoad&&(this.windowService=this.injector.get(C.un),this.pageShowEventSubscription=this.windowService.getPageShowEvent().pipe((0,tt.h)($t=>$t.persisted),(0,B.q)(1),(0,ot.R)(this.destroy$)).subscribe(()=>{this.logger.info("Reloading"),window.location.reload()}))}onInstallingApp(mt){this.logger.info("PWA installed: Success")}updateLocale(){this.localeService.isRTLLocaleSupported=this.appConfig.featureEnablement.rtlLocaleSupported;let mt=this.localeService.useDefaultLocale();(0,U.cjf)(U.S8R.CascadePreviewToken)&&(0,U.cjf)(U.S8R.Locale)?mt=this.localeService.setLocale((0,U.cjf)(U.S8R.Locale)):!(0,vt.isNil)(this.appConfig.locale)&&this.appConfig.locale.value&&(mt=this.localeService.setLocale(this.appConfig.locale.value)),this.localeServiceSubscription=mt.pipe((0,d.zg)(()=>this.stringTableSvc.load())).subscribe(()=>{this.logger.info("Successfully loaded string table")},Rt=>{this.logger.error("Failed to load string table with error: ",Rt)}),this.layoutDirectionUpdateSubscription=this.localeService.layoutDirectionUpdated$.subscribe(()=>{this.direction=this.localeService.isRTLLayoutEnabled?"rtl":"ltr"})}showReleaseHighlightsOnAppUpdate(){if(this.appConfig.featureEnablement.releaseHighlights){const mt=this.updateService.isFirstAppRunAfterMajorUpdate$(),Rt=this.releaseHighlightsService.showReleaseHighlightsFromSharedStorage((0,U.sc2)(this.appConfig)),$t=this.updateService.readUpdateData(),me=this.loginWallService.onLoginWallFlowCompleted$();return(0,Z.$R)($t,mt,me).pipe((0,B.q)(1),(0,A.w)(([He,Qe,rn])=>null!=He&&He.updateFromStreamer?(this.logger.info("Update was triggered during game launch, do not show RH."),this.updateService.appendUpdateData({updateFromStreamer:!1}).pipe((0,d.zg)(gn=>this.releaseHighlightsService.updateReleaseHighlightsSkippedStatus((0,U.sc2)(this.appConfig),!0)),(0,H.h)(!1))):(this.logger.info("StoredUpdateData is null or updateFromStreamer value is false/null."),Qe?(this.logger.info("Major update done."),(0,Y.of)(!0)):Rt.pipe((0,d.zg)(gn=>(this.logger.info("show release highlights SharedStorage value: ",gn),gn?this.releaseHighlightsService.showReleaseHighlightsFromRemoteConfig((0,U.sc2)(this.appConfig)).pipe((0,B.q)(1),(0,d.zg)(hn=>hn?(0,Y.of)(hn):this.releaseHighlightsService.readReleaseHighlightsSkippedStatus((0,U.sc2)(this.appConfig)))):(0,Y.of)(!1)))))),(0,d.zg)(He=>!He||(0,U.wIc)(this.router.url)||this.guestModeHelperService.isGuestMode?(0,Y.of)(!1):this.idmService.accountStatusChanged.pipe((0,B.q)(1),(0,j.U)(()=>(this.logger.info("Opening highlights dialog at startup after an update."),this.releaseHighlightsService.onShowReleaseHighlight(!1,C.ng.isAndroidPlatform()?U.bFC.getPaddedFourOctetVersion((0,U.sc2)(this.appConfig)):(0,U.sc2)(this.appConfig),"1"),!0)),(0,hi.K)(Qe=>(this.logger.error("Error fetching accountStatusChanged:",Qe),(0,Y.of)(!1))))))}return(0,Y.of)(!1)}showInitToastForXbox(){this.osType$.pipe((0,ot.R)(this.destroy$),(0,A.w)(mt=>mt===C.wi.XBox?this.translateService.get("console.useGameControlsMode"):(0,Y.of)(void 0))).subscribe(mt=>{if(mt)return this.snackbar.open(mt,"",{duration:7e3,horizontalPosition:"left",panelClass:["nv-hig"]})})}isOpportunityBlockerFound(){!0===window.opportunityBlocked&&this.logger.info("Ad blocked detected.")}ngOnDestroy(){var mt;this.destroy$.next(!0),this.destroy$.complete(),null!==(mt=this.appConfig)&&void 0!==mt&&null!==(mt=mt.cursorBlocker)&&void 0!==mt&&mt.enabled&&this.cursorBlocker.stopMonitoring(),this.localeServiceSubscription&&this.localeServiceSubscription.unsubscribe(),this.layoutDirectionUpdateSubscription&&this.layoutDirectionUpdateSubscription.unsubscribe(),this.tracingSubscription&&this.tracingSubscription.unsubscribe(),this.isBrowserClient&&this.browserSupportService.cleanup(),this.openOsrSubscription&&this.openOsrSubscription.unsubscribe(),this.streamerConfigSubscription&&this.streamerConfigSubscription.unsubscribe(),this.pageShowEventSubscription&&this.pageShowEventSubscription.unsubscribe()}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.Y36(C.ed),i.Y36(i.zs3),i.Y36(U.VKt),i.Y36(U.V7b),i.Y36(U.HKp),i.Y36(U.ZZY),i.Y36(U.Drq),i.Y36(C.OL),i.Y36(U.HS8),i.Y36(Tr.p),i.Y36(U.OX4),i.Y36(C.dF),i.Y36(Ao),i.Y36(U.hmT),i.Y36(ii.Q6),i.Y36(U.NS5),i.Y36(U.GMF),i.Y36(U.No2),i.Y36(U.BHV),i.Y36(U.OMY),i.Y36(No.OA),i.Y36(U.dgl),i.Y36(Tt.y0),i.Y36(p.TB),i.Y36(Di.sy),i.Y36(U.Q0y),i.Y36(M.rw),i.Y36(xt._c),i.Y36(U.qMk),i.Y36(it.En),i.Y36(uo.HR),i.Y36(mi.s),i.Y36(U.m$M),i.Y36(U.wU6),i.Y36(q.V),i.Y36(U.oX5),i.Y36(U.nG5),i.Y36(U.uZ6),i.Y36(U.R2C),i.Y36(C.gN),i.Y36(a.jr),i.Y36(U.xQn),i.Y36(sr.q),i.Y36(C.Ob),i.Y36(U.uu8),i.Y36(g.F0),i.Y36(U.FR5),i.Y36(C.Yq),i.Y36(ut.pl),i.Y36(O.sK),i.Y36(U.zrw),i.Y36(U.ZB5),i.Y36(Ur.Ow),i.Y36(C.P),i.Y36(U.YvH),i.Y36(U.ePW),i.Y36(U.a$B),i.Y36(U.$_t),i.Y36(ar.w),i.Y36(U.hTr),i.Y36(zt.b),i.Y36(kr),i.Y36(U.mfJ),i.Y36(U.wHL),i.Y36(U.O9v),i.Y36(U.rHN),i.Y36(C.rn),i.Y36(U.Oni),i.Y36(Fe.h))},At.\u0275cmp=i.Xpm({type:At,selectors:[["gfn-root"]],hostBindings:function(mt,Rt){1&mt&&i.NdJ("appinstalled",function(me){return Rt.onInstallingApp(me)},!1,i.Jf7)},decls:1,vars:1,consts:[[3,"dir"]],template:function(mt,Rt){1&mt&&i._UZ(0,"router-outlet",0),2&mt&&i.s9C("dir",Rt.direction)},dependencies:[g.lC,Fr.Lv],encapsulation:2}),be})();const Gi={bridge:{mocks:[]},logger:{defaultLoggingLevel:C.GJ.Trace},window:{name:(0,U.svt)()?C.L6.Gdn:C.L6.Gfn},locale:{supportedLang:["bg_BG","cs_CZ","da_DK","de_DE","el_GR","en_GB","en_US","es_ES","es_MX","fi_FI","fr_FR","hr_HR","hu_HU","it_IT","ja_JP","ko_KR","nb_NO","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","th_TH","tr_TR","uk_UA","zh_CN","zh_TW","ar_SA"]},configFileName:"shared/assets/config/config.json",production:!0};var cn=t(50323),mo=t(14955);let po=(()=>{var At;class be{constructor(mt){this.logger=mt.getLogger("HttpLoggingService")}intercept(mt,Rt){return Rt.handle(mt).pipe((0,W.b)($t=>{},$t=>{this.handleHttpError($t,mt)}))}handleHttpError(mt,Rt){this.logger.info(`Http request method '${Rt.method}', url '${Rt.url}' FAILED with response`,mt)}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac}),be})();var Ri=t(69318),lo=t(64950),vo=t(40321);const Wr={provide:C.m1,useClass:vo.$,multi:!0};var gr=t(48477);const zr={provide:C.RW,useClass:gr.$,multi:!0};var dr=t(55035),hr=t(67445),ur=t(33960),_n=t(93738);class Kr extends Tt.MW{constructor(){super(...arguments),this.gdprLevel=Tt.KM.Functional,this.name="HighlightCapture"}}var $r=t(87550),Cn=t(79521);let Uo=(()=>{var At;class be extends ur.b{constructor(mt,Rt,$t){super(),this.loggingService=mt,this.injector=Rt,this.telemetryService=$t,this.cachedSessionId="",this.lastUiState=_n.wB.none,this.lastUiTransitionTime=null,this.wasHighlightsEnabled=!1,this.maxBatchSDKCalls=100,this.sdkCalls=[],this.folderScreenshots=0,this.folderVideos=0,this.logger=this.loggingService.getLogger("TelemetryHelperGFNService"),this.logger.info("Constructing TelemetryHelperGFNService")}init(){this.clientHost=_n.fP.gfn,this.streamingService=this.injector.get($r.F),this.streamingSubscription=this.streamingService.streamingEvent$.subscribe(Rt=>{Rt.event===Cn.V4.SESSION_SETUP_SUCCESS&&(this.cachedSessionId=this.streamingService.streamingProperties.sessionId||"",this.streamingSubscription.unsubscribe())});const mt=this.injector.get(U.oX5);this.bridgeService=this.injector.get(C.dF),this.perGameEventFactory=new _n.KZ(this.bridgeService,mt)}getHighlightsEnabled(){return this.wasHighlightsEnabled}sendCaptureEvent(mt,Rt,$t,me,He,Qe,rn,gn,hn,en){const Fn=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,action:mt,timeMs:en,modsActive:this.toTelemetryBoolean(this.modsActive),captureMethod:Rt,recordWidth:$t,recordHeight:me,recordFramerate:He,recordCodec:Qe,colorSpaceRange:rn,errorType:gn,errorDetails:hn},_n.zZ);this.telemetryService.push(Fn)}sendHighlightCapture(mt,Rt,$t,me,He){const Qe=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,...mt,sdkVersion:Rt,videoLengthMs:$t||-1,highlightId:me,contentType:He,modsActive:this.toTelemetryBoolean(this.modsActive)},Kr);this.telemetryService.push(Qe)}sendHighlightsGameSetting(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,...mt,isOn:this.toTelemetryBoolean(Rt),permissionSource:$t,modsActive:this.toTelemetryBoolean(this.modsActive)},_n.kT);this.telemetryService.push(me)}beginStartupTimer(mt){this.uiBringupStartTime=Date.now(),this.uiBringupOrigin=mt}sendStartupTelemetry(){if(!this.uiBringupStartTime)return void this.logger.error("Cannot send ui bringup time, timer was never started");const mt=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,openedFrom:this.uiBringupOrigin,totalMs:Date.now()-this.uiBringupStartTime},_n.ON);this.telemetryService.push(mt)}trackNavigation(mt,Rt=_n.wB.none){this.telemetryService.push(new _n.M8({clientHost:this.clientHost,sessionId:this.cachedSessionId,oldState:this.lastUiState,newState:Rt,lingerTimeMs:mt-this.lastUiTransitionTime,transitionTimeMs:Date.now()-mt})),this.lastUiTransitionTime=Date.now(),this.lastUiState=Rt}sendHighlightsIndividualGameToggle(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,...mt,highlightId:Rt,isOn:this.toTelemetryBoolean($t)},_n.p9);this.telemetryService.push(me)}sendHighlightCancelled(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,...mt,highlightId:Rt,sdkVersion:$t},_n.bo);this.telemetryService.push(me)}recordSDKCallResult(mt,Rt,$t,me,He){this.wasHighlightsEnabled=!0,this.sdkCalls.unshift({apiAction:mt,apiStatus:Rt,internalCode:$t,gameInfo:me,sdkVersion:He}),Rt!==_n.SE.success&&Rt!==_n.SE.successversionoldsdk&&Rt!==_n.SE.successversionoldgfe&&Rt!==_n.SE.successpending&&Rt!==_n.SE.successusernotinterested&&Rt!==_n.SE.successpermissiongranted&&Rt!==_n.SE.successlinked&&this.sendSDKCallResults(!0,!1),this.sdkCalls.length>=this.maxBatchSDKCalls&&this.sendSDKCallResults(!1,!1)}sendSDKCallResults(mt,Rt){if(mt)for(const $t of this.sdkCalls){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,...$t.gameInfo,apiAction:$t.apiAction,apiStatus:$t.apiStatus,internalCode:$t.internalCode,sdkVersion:$t.sdkVersion,count:1,highlightsSessionId:this.streamingService?this.cachedSessionId:"12345"},_n.RY);Rt?this.telemetryService.push(me,0,{appExit:!0}):this.telemetryService.push(me)}else{const $t=[];for(const me of this.sdkCalls){let He=!1;for(const Qe of $t)if(Qe.apiAction===me.apiAction&&Qe.apiStatus===me.apiStatus){Qe.count++,He=!0;break}He||$t.push({...me,count:1})}for(const me of $t){const He=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,...me.gameInfo,apiAction:me.apiAction,apiStatus:me.apiStatus,internalCode:me.internalCode,sdkVersion:me.sdkVersion,count:me.count,highlightsSessionId:this.streamingService?this.cachedSessionId:"12345"},_n.RY);Rt?this.telemetryService.push(He,0,{appExit:!0}):this.telemetryService.push(He)}}this.sdkCalls=[]}sendGalleryAccess(){if(!this.galleryAccessType||this.galleryAccessType!==_n.pJ.folder&&this.galleryAccessType!==_n.pJ.root)return void this.logger.error("Atempting to send gallery navigation telemetry that was never started!");const mt=this.galleryAccessType;this.galleryAccessType=null;const Rt=Date.now()-this.galleryNavStart,$t=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,isCached:this.toTelemetryBoolean(this.galleryAccessCached),contentType:_n.zc.none,highlightId:"",navigationLevel:mt,timeTakenMs:Rt,ageOfContent:0,numImages:this.folderScreenshots,numVideos:this.folderVideos,contentMatchesCurrentGame:_n.Po.false},_n.uz);this.telemetryService.push($t)}sendGalleryFileAccess(mt){if(!this.galleryAccessType||this.galleryAccessType!==_n.pJ.content)return void this.logger.error("Atempting to send gallery navigation telemetry that was never started!");const Rt=Date.now()-this.galleryNavStart;this.bridgeService.executeCommand(lt.Gh.Common.Gallery.GetFileMetadata,{file:mt.fullFilename}).subscribe($t=>{if(void 0===$t.fileType)return;const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,isCached:_n.Po.false,contentType:"image"===mt.file.type?_n.zc.image:_n.zc.video,highlightId:mt.hlName,navigationLevel:_n.pJ.content,timeTakenMs:Rt,ageOfContent:Date.now()-new Date(mt.date).getTime(),numImages:0,numVideos:0,contentMatchesCurrentGame:_n.Po.false},_n.uz);this.telemetryService.push(me)})}sendGalleryFilterUsed(mt){const Rt=new _n.ky({clientHost:this.clientHost,sessionId:this.cachedSessionId,filterCategory:mt});this.telemetryService.push(Rt)}sendGalleryPlayedVideo(mt,Rt){this.bridgeService.executeCommand(lt.Gh.Common.Gallery.GetFileMetadata,{file:mt}).subscribe($t=>{if(void 0===$t.fileType)return;const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,highlightId:Rt},_n.ci);this.telemetryService.push(me)})}sendGalleryFileRemoved(mt){this.bridgeService.executeCommand(lt.Gh.Common.Gallery.GetFileMetadata,{file:mt.fullFilename}).subscribe(Rt=>{if(void 0===Rt.fileType)return;const $t=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,contentType:"image"===mt.file.type?_n.zc.image:_n.zc.video,highlightId:mt.hlName},_n.Jd);this.telemetryService.push($t)})}sendGalleryOpenedFileLocation(){const mt=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId},_n.j6);this.telemetryService.push(mt)}startGalleryAccess(mt){this.galleryAccessType=mt,this.galleryNavStart=Date.now()}setGalleryAccessCached(mt){this.galleryAccessCached=mt}setGalleryFolderCounts(mt,Rt){this.folderScreenshots=mt,this.folderVideos=Rt}sendStatsClosedTelemetry(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,totalMs:mt,format:$t,position:Rt},_n.Nj);this.logger.info("Stats Closed Telemetry: ",me),this.telemetryService.push(me)}sendStatsViewChanged(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,format:Rt,position:$t,uiOpen:this.toTelemetryBoolean(mt)},_n.PH);this.logger.info("Stats View Changed Telemetry: ",me),this.telemetryService.push(me)}sendWidgetViewChanged(mt,Rt,$t){const me=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,indicator:$t,position:Rt},_n.Rb);this.logger.info("Widget View Changed Telemetry: ",me),this.telemetryService.push(me)}sendNotificationChanged(mt,Rt){const $t=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,control:mt,state:this.toTelemetryBoolean(Rt)},_n.AD);this.logger.info("Notification Changed Telemetry: ",$t),this.telemetryService.push($t)}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(i.zs3),i.LFG(Tt.y0))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:null}),be})();const Zi=lt.Gh.Share.Osc;let yi=(()=>{var At;class be extends C.nM{constructor(mt){super(),this.logger=mt.getLogger("OscPlugin")}get handlers(){return{module:Zi.SetPainting.module,commands:{[Zi.SetPainting.method]:this.setPainting.bind(this),[Zi.FullscreenState.method]:this.fullscreenState.bind(this)}}}setPainting(){return this.makeResult("true")}fullscreenState(){return this.makeResult(JSON.stringify({fullscreen:!0}))}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})();var ko=t(30688),Fo=t(55622),Yi=t(3356),Go=function(At){return At.ShowHotkey="showHotkeyMessage",At}(Go||{}),Bo=t(36582),fo=t(63415),Ho=t(56624),vi=t(32392);const co=lt.Gh.Share.Shareserver,T=[{provide:C.m1,useClass:(()=>{var At;class be extends C.nM{constructor(mt,Rt,$t,me,He,Qe){super(),this.dbCacheService=Rt,this.browserSupportService=$t,this.hotkeyMonitoringService=me,this.projectInterfaceService=He,this.hotkeyDefaultMappingService=Qe,this.isDefaultHotkeyMappingInitialized$=new K.xQ,this.overridesPresent=!1,this.logger=mt.getLogger("ShareServerPlugin"),this.igoShortcutsDb=this.dbCacheService.getOrCreateCachedGlobalItem(Fo.Vi,Fo.Sk.Shortcuts)}get handlers(){return{module:co.GetInitData.module,commands:{[co.GetInitData.method]:this.getInitData.bind(this),[co.GetHotkeyShortcut.method]:this.getHotkeyShortcut.bind(this),[Yi.e.ResetHotkeysToDefault.method]:this.resetHotkeysToDefault.bind(this),[Yi.e.RegisterHotkeyNotifications.method]:this.registerHotkeyNotifications.bind(this),[Yi.e.GetCaptureProcessInfo.method]:this.getCaptureProcessInfo.bind(this),[Yi.e.RegisterWindowStateChangeNotifications.method]:this.registerWindowStateChangeNotifications.bind(this),[Yi.e.SetHotkeyMonitoring.method]:this.setHotkeyMonitoring.bind(this),[co.SetHotkeyShortcut.method]:this.setHotkeyShortcut.bind(this),[co.Init.method]:this.init.bind(this)}}}init(mt){return this.defaultHotkeyMapping=this.hotkeyDefaultMappingService.get(mt.payload.osType,mt.payload.browserType),mt.payload.areHotkeysOverridden&&(this.overridesPresent=mt.payload.areHotkeysOverridden,this.overriddenHotkeyList=new Map(this.defaultHotkeyMapping),this.logger.info("Overriding hotkeys: ",mt.payload.overriddenHotkeysList),this.overrideDefaultHotkeyList(mt.payload.overriddenHotkeysList,mt.payload.osType)),this.hotkeyMonitoringService.initHotkeyMapping(this.overriddenHotkeyList,mt.payload.osType,mt.payload.browserType),this.isDefaultHotkeyMappingInitialized$.next(!0),this.isDefaultHotkeyMappingInitialized$.complete(),this.logger.info("initialize called with osType",mt.payload.osType),this.makeResult("true")}setHotkeyMonitoring(mt){return mt.payload.enable?(this.logger.info("setHotkeyMonitoring resumeListening"),this.projectInterfaceService.resumeListening()):(this.logger.info("setHotkeyMonitoring pauseListening"),this.projectInterfaceService.pauseListening()),this.makeResult("true")}getCaptureProcessInfo(){return this.makeResult("true")}registerHotkeyNotifications(){return this.makeResult("true")}getInitData(){const mt={captureSupported:!1,desktopCaptureSupported:!1,coplayEnabled:!1};return this.logger.info("getInitData response from ShareserverPlugin ",mt),this.makeResult(JSON.stringify(mt))}setHotkeyShortcut(mt){const Rt={_return_internal:lt.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok},$t={_return_internal:lt.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg};return mt.payload.keys?mt.payload.hotkey===Bo.sWi.OpenIGO&&mt.payload.keys.length<2?this.makeResult(JSON.stringify($t)):this.igoShortcutsDb.sync_().pipe((0,d.zg)(()=>(this.igoShortcutsDb[mt.payload.hotkey]=mt.payload.keys,this.hotkeyMonitoringService.updateHotkeyMapping(mt.payload.hotkey,mt.payload.keys),this.igoShortcutsDb.persist_())),(0,d.zg)(()=>this.makeResult(JSON.stringify(Rt)))):this.makeResult(JSON.stringify($t))}registerWindowStateChangeNotifications(){const mt={windowMsg:Go.ShowHotkey};return this.makePersistentResult(this.browserSupportService.fullScreenEventObs$.pipe((0,j.U)(Rt=>{if(Rt)return JSON.stringify(mt)}),(0,W.b)(()=>this.logger.info("registerWindowStateChange response from ShareserverPlugin ",mt))))}cacheExists(mt){return void 0!==this.igoShortcutsDb[mt]}getHotkeyShortcut(mt){return this.igoShortcutsDb.sync_().pipe((0,ko.j)(Rt=>this.isDefaultHotkeyMappingInitialized$),(0,d.zg)(()=>{let Rt;return this.overridesPresent?(Rt=this.getHotkeyWhenOverriddesArePresent(mt.payload.hotkey),this.makeResult(JSON.stringify({keys:Rt||[]}))):(Rt=this.igoShortcutsDb[mt.payload.hotkey]?this.igoShortcutsDb[mt.payload.hotkey]:this.defaultHotkeyMapping.get(mt.payload.hotkey),this.makeResult(JSON.stringify({keys:Rt||[]})))}))}getHotkeyWhenOverriddesArePresent(mt){let Rt;const $t=this.defaultHotkeyMapping.get(mt),me=this.overriddenHotkeyList.get(mt);return Rt=this.cacheExists(mt)?(0,fo.m)(me,this.igoShortcutsDb[mt])||(0,fo.m)($t,this.igoShortcutsDb[mt])?me:this.igoShortcutsDb[mt]:(0,fo.m)($t,me)?$t:null!=me?me:$t,Rt}resetHotkeysToDefault(){return this.hotkeyMonitoringService.resetToDefaultObs$().pipe((0,d.zg)(()=>this.makeResult("true")))}overrideDefaultHotkeyList(mt,Rt){mt.forEach($t=>{Rt===C.wi.Windows?this.overriddenHotkeyList.set($t.name,$t.winHotkey):Rt===C.wi.MacOS&&this.overriddenHotkeyList.set($t.name,$t.macHotkey)})}}return(At=be).\u0275fac=function(mt){return new(mt||At)(i.LFG(C.ed),i.LFG(C.LA),i.LFG(No.OA),i.LFG(Ho.i),i.LFG(vi.m3),i.LFG(Bo.M94))},At.\u0275prov=i.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),be})(),multi:!0},{provide:C.m1,useClass:yi,multi:!0}];var ie=t(72698),oi=t(95432),si=t(5042);const ms=JSON.parse('{"ar_SA":"7d6cf6e3cd6427475889","tr_TR":"77d9f9a0d9cd4859532b","hu_HU":"d789304e9e3fcbad3d0d","pt_PT":"8395eb152bc793864b33","sv_SE":"cd9d1fba90b5899eef86","ko_KR":"d17b0d80719ef2fa7c89","es_ES":"2e62ce713a13ba6a3a48","ja_JP":"f22174df92cc02ffdc5e","zh_CN":"4fe920b488f0780775e1","bg_BG":"db26bbe3b2e0f68047d1","el_GR":"471ad8caf58d5ae04edd","it_IT":"d4a9c12391ceb53fea7e","th_TH":"7f2bcc6f47b6eb8a7b1d","fi_FI":"44e8ef90b3858ef28cf1","en_US":"de7126d9814cffa26255","en_GB":"4537e089aabf4a2f00bb","es_MX":"7b2f70d52732420c948f","ru_RU":"9465c3bbd78078b43fb2","sl_SI":"5ad6986327d7913bdc2b","nl_NL":"34c940c103f508d205cf","nb_NO":"28d44e413c9dc649f671","da_DK":"79127578a81a66d3aabe","de_DE":"c627f6ff08aa9e26bab3","pt_BR":"eea743b4aa627c5708ba","zh_TW":"4fc12d6e21672878c902","fr_FR":"3117a4ef5859fdf5e44b","cs_CZ":"8ddcd6edba49278a58f3","uk_UA":"876c4ef134d0f0e7e8da","sk_SK":"6cfe0bf0ec3a3ff4502a","ro_RO":"d5fc0a521a4690797ae1","pl_PL":"3b5de2673b6fae50d503","hr_HR":"5e0b01e73c68a0aabe29"}');var ps=t.t(ms,2);t(23323);class vs extends e.hm{constructor(){super(...arguments),this.overrides={swipe:{direction:L.DIRECTION_ALL}}}}function Vo(At){return{featureId:At.gxTarget.experiences&&At.gxTarget.experiences.starfleet||U.dvL.featureId,...At.idm}}function Zr(At,be){const Oe=At.jarvis;return Oe.sdkClient=be.activeConfig.sdkClient,Oe}function Yr(At){return At.starfleet}function fs(At){return At.gfcFeedbackEvents||Ri.a7}function _s(At){return At.jsEvents||Tt.LP}function Qi(At){return At.exception||mo.Dr}function ji(){return{waitForDialogClose:!0}}function ti(At){return{appWindowName:C.L6.Gfn,storage:Tt.e6.SharedStorage,clientVersion:(0,U.sc2)(At),clientVariant:At.build.variant,...At.gxTarget,openTracingConfig:At.otelTracerConfig}}function Cs(At){return{appVersion:At.build.version,...At.gfwsl}}function jn(At){return{...At.aem}}function na(At){var be;return{IGOFeatureEnabled:!(null===(be=At.featureEnablement)||void 0===be||!be.igo),branding:"GFN",GFNCefClient:!0,OSDEnabled:!1,NvCameraFeaturesEnabled:"PRODUCTION",GameFilterEnabled:At.igo&&At.igo.gameFilterEnabled||!1,PhotoModeEnabled:At.igo&&At.igo.photoModeEnabled||!1,GFNBroadcastEnabled:At.igo&&At.igo.gfnBroadcastEnabled||!1,DirectBroadcastEnabled:At.igo&&At.igo.directBroadcastEnabled||!1,ControlUGCEnabled:At.igo&&At.igo.controlUGCEnabled||!1,Path:U.fFR.StreamerRoot}}function Ei(At){return()=>{window.addEventListener("beforeinstallprompt",be=>{be.preventDefault(),At.setDeferredPromptEvent(be)})}}function Jn(At){return{offDeviceLinkConfig:{title:"offDeviceLink.title",primaryButtonText:"offDeviceLink.button"},tvMode:At.featureEnablement.tvMode,showQRCodeForLinks:At.featureEnablement.showQRCodeForLinks,mobileMode:At.featureEnablement.mobileMode,focusRippleEnabled:At.featureEnablement.focusRippleEnabled,focusRippleBorderWidth:At.featureEnablement.focusRippleBorderWidth,spatialNavigationConfig:At.spatialNavigation,userActivationGuardConfig:{...At.userActivationGuardConfig,linkWarningMessage:"userActivationGuard.requireTapOnLink",buttonWarningMessage:"userActivationGuard.requireTapOnButton"}}}function Ps(At){var be;return{doNotUseWebGamepadAPI:!(null==At||null===(be=At.client)||void 0===be||!be.handleGamepadInputInNative)}}function Ss(At){var be,Oe;return{searchInputType:null!=At&&null!==(be=At.client)&&void 0!==be&&be.hideSoftKeyboardPasswordBar?"search":void 0,searchInputDebounceTime:null==At||null===(Oe=At.gameSearchFilterConfig)||void 0===Oe?void 0:Oe.searchDebounceTime}}function Ms(At){return At.pnsServerConfig||oi.Iv}function Wo(){const At={systemInfoOverrideConfig:{allowedOSs:[C.wi.WebOS,C.wi.Tizen],override:{}}},be=new URLSearchParams(window.location.search);return new Map([["modelName","SystemName"],["osVersion","OSVersion"],["cpuName","CPUName"],["panelResolution","Display"]]).forEach((mt,Rt,$t)=>{const me=be.get(Rt);if(me)if("Display"===mt){const Qe={RefreshRate:"",LogicalResolution:window.screen.width.toString()+" x "+window.screen.height.toString(),PhysicalResolution:me};At.systemInfoOverrideConfig.override[mt]=[Qe]}else At.systemInfoOverrideConfig.override[mt]=me}),At}const ia={verticalPosition:"bottom",panelClass:["nv-hig"],duration:7e3},oa=[zr],ra=[...lo.j,Wr,dr.N,...T];let _o=(()=>{var At;class be{}return(At=be).\u0275fac=function(mt){return new(mt||At)},At.\u0275mod=i.oAB({type:At,bootstrap:[Br]}),At.\u0275inj=i.cJS({providers:[{provide:e.ok,useClass:vs},{provide:xt._c,useValue:{filePath:Gi.configFileName,production:Gi.production}},{provide:Ri.sy,useFactory:fs,deps:[U.VKt]},{provide:U.T6w,useFactory:Vo,deps:[U.VKt]},{provide:cn.tm,useFactory:Zr,deps:[U.VKt,U.oX5]},{provide:J.TR,useFactory:Yr,deps:[U.VKt]},xt.tj,U.OY9,{provide:Tt.i8,useFactory:_s,deps:[U.VKt]},{provide:mo.BU,useFactory:Qi,deps:[U.VKt]},{provide:i.qLn,useClass:U.f0},{provide:S.TP,useClass:po,multi:!0},ro.Vi,{provide:ii.sY,useFactory:ti,deps:[U.VKt]},{provide:Di.z,useFactory:Cs,deps:[U.VKt]},{provide:Di.fS,useFactory:jn,deps:[U.VKt]},oa,ra,{provide:hr.g,useFactory:na,deps:[U.VKt]},{provide:ur.b,useClass:Uo},C.Eo,{provide:i.ip1,useFactory:Ei,multi:!0,deps:[U.UJ,C.ed]},{provide:ie.Xj,useClass:ie.YJ},{provide:a.iN,useFactory:Jn,deps:[U.VKt]},{provide:si.GM,useFactory:Ps,deps:[U.VKt]},{provide:w.j0,useFactory:Ss,deps:[U.VKt]},{provide:lo.LK,useFactory:Wo},{provide:vi.mV,useFactory:ji},{provide:oi.DN,useFactory:Ms,deps:[U.VKt]},{provide:gt.Ve,useValue:ia}],imports:[Te,S.JF,f.ez,e.b2,u.o9,Ri.sd,cn.Zl,J.E9,P,E.Q,(0,C.L2)(ps),ho.uW,C.it.configure(Gi),x.PW,U.lUL,lr.TC,ao,ii.$b,jt,Tt.do,mo.iX,ro.sZ,Di.RC,e.t6,_.GalleryModule,I.I,l.ip,a.hp,oi.cX]}),be})();Gi.production&&(0,i.G48)(),e.q6().bootstrapModule(_o).catch(At=>console.log(At))},59797:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>i,z:()=>e});var e=function(L){return L.AUTHORIZATION_ERROR="AUTHORIZATION_ERROR",L.UNKNOWN="UNKNOWN",L.LOGGED_IN="LOGGED_IN",L.NOT_LOGGED_IN="NOT_LOGGED_IN",L.PENDING_LOGIN="PENDING_LOGIN",L.LOGIN_ERROR="LOGIN_ERROR",L}(e||{}),i=function(L){return L.NotStarted="NotStarted",L.Started="Started",L.LoggedOut="LoggedOut",L.LoggedIn="LoggedIn",L.Pending="Pending",L.Failed="Failed",L}(i||{})},59948:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>O});var e=t(87965),i=t(31157),L=t(77869),f=t(65343),x=t(61699),S=t(87815),u=t(30285),g=t(13963),h=t(97424);let O=(()=>{var E;class w{constructor(V,c,C,l,o){this.endpointFactory=c,this.distributedtracingUtilService=C,this.headerService=o,this.logger=l.getLogger("uasSdkService"),this.uasConfig=V.uasConfig;const{defaultRetries:n,defaultTimeBetweenRetries:s,defaultTimeout:R,retryOnTimeout:_,exponentialBackoffMaxDelay:b}=V.uasConfig;this.uasEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:n,timeout:R,timeBetweenRetries:s,retryOnTimeout:_,exponentialBackoffMaxDelay:b}})}getUrl(V){return(0,L.D5)([this.uasConfig.server,this.uasConfig.version,V])}acquireUser(V,c,C,l,o){this.logger.info("calling acquire user");const n={headers:{Authorization:"Bearer "+V,"Content-Type":"application/json","Accept-Language":l},body:{redirectUri:c,homeUrl:C},reportRequestData:{originalService:f.v6v.UAS,serviceUseCase:f.f$p.AcquireUser,reportSuccessTelemetry:"true"},includeRequestId:!0};return this.headerService.getCommonHeaders().pipe((0,e.zg)(s=>{Object.assign(n.headers,s);const R=this.uasEndpoint.post(this.getUrl("acquire/login"),n);return this.distributedtracingUtilService.handleHttpEndpointSpan(R,n,i.j1.UasAcquireUser,o)}))}getUserAcquisitionState(V,c,C){this.logger.info("checking acquire user state");const l={headers:{Authorization:"Bearer "+V,"Content-Type":"application/json"},params:{requestId:c},reportRequestData:{originalService:f.v6v.UAS,serviceUseCase:f.f$p.GetAcquisitionState,reportSuccessTelemetry:"true"},includeRequestId:!0};return this.headerService.getCommonHeaders().pipe((0,e.zg)(o=>{Object.assign(l.headers,o);const n=this.uasEndpoint.get(this.getUrl("acquire/loginStatus"),l);return this.distributedtracingUtilService.handleHttpEndpointSpan(n,l,i.j1.UasAcquireUser,C)}))}}return(E=w).\u0275fac=function(V){return new(V||E)(x.LFG(S.VK),x.LFG(u.V9),x.LFG(i.Dc),x.LFG(g.ed),x.LFG(h.x5))},E.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})()},72654:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>P});var e=t(70462),i=t(9681),L=t(5717),f=t(32484),x=t(17827),S=t(33994),u=t(6776),g=t(93190),h=t(49481),O=t(47422),E=t(87965),w=t(85046),p=t(46939),V=t(58175),c=t(99901),C=t(15746),l=t(59797),o=t(78943),n=t(47178),R=t(65343),_=t(7749),b=t(61699),I=t(13963),q=t(87815),a=t(59948),y=t(88207),M=t(89857);let P=(()=>{var K;class B{constructor(tt,ot,F,U,z,Q,dt,X){if(this.config=ot,this.uasSdk=F,this.bridgeService=U,this.localeService=z,this.pathService=Q,this.telemetryUtilService=dt,this.telemetryService=X,this.httpSubscription=null,this.redirectUrl=null,this.httpRequestSub=null,this.AutoEntitleStateSub=new e.X(l.n.NotStarted),this.loginInitiated=!1,this.pendingEntitlement=!1,this.uasKey="AutoEntitleState",this.redirectInputKey="inputData",this.redirectResponseKey="responseData",this.tabWindow=null,this.pollingSubscription=null,this.logger=tt.getLogger("uas/uas-service"),this.config.uasConfig.redirectUrlIsRelative){const m=window.sessionStorage.getItem(this.uasKey);this.config.starfleet.sameTabLogin&&m&&(this.loginInitiated=m===l.n.Started),this.config.uasConfig.sameTab&&m&&(this.pendingEntitlement=m===l.n.Pending),this.redirectUrl=window.location.origin+this.config.uasConfig.redirectUrl,window.sessionStorage.removeItem(this.uasKey),window.sessionStorage.removeItem(this.redirectInputKey)}}handleHttpRequest(tt){const ot={};return new URL(tt).searchParams.forEach((U,z)=>{ot[z]=U}),ot}get AutoEntitleState(){return this.AutoEntitleStateSub.asObservable()}onLoginInitiated(tt){if(this.tabWindow=tt,this.logger.info("on login initiated"),this.AutoEntitleStateSub.next(l.n.NotStarted),this.loginInitiated=!0,this.isAutoEntitlementEnabled()){if(this.config.starfleet.useDeviceAuthLogin)return(0,i.of)(null);if(!this.config.starfleet.redirectUrlIsRelative){this.logger.info("starting http server");const[ot,F]=this.startHttpServer(this.config.starfleet.portNumbers);return this.httpRequestSub=F,ot.pipe((0,O.U)(U=>(this.redirectUrl=this.config.starfleet.redirectUrl.replace("{portnumber}",U.toString()),this.logger.info("Success login init"),{url:this.redirectUrl,observable:F})))}return this.config.starfleet.redirectUrlIsRelative?(this.config.starfleet.sameTabLogin&&window.sessionStorage.setItem(this.uasKey,l.n.Started),(0,i.of)({skipSuccessRedirect:!0})):(this.logger.info("Auto entitle not implemented for android"),(0,i.of)(null))}return this.logger.info("Auto entitle disabled"),(0,i.of)(null)}onLoginFailed(tt){if(this.loginInitiated&&this.isAutoEntitlementEnabled()&&(this.loginInitiated=!1,!this.config.starfleet.useDeviceAuthLogin)&&(!this.config.starfleet.redirectUrlIsRelative||this.config.starfleet.redirectUrlIsRelative&&this.config.starfleet.sameTabLogin)){const ot=new URL(this.config.starfleet.onCompleteRedirectUrl);ot.searchParams.append("error",tt||"unknown"),ot.searchParams.append("ui_locales",this.localeService.getLocale()),this.tabWindow?this.tabWindow.location.href=ot.href:this.bridgeService.executeCommand(o.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:ot.href,redirectParams:[]}).subscribe(L.Z,L.Z,()=>this.stopHttpServer())}}stopHttpServer(){this.logger.info("Stopping http server"),this.httpSubscription&&(this.httpSubscription.unsubscribe(),this.httpSubscription=null,this.bridgeService.executeCommand(o.Gh.Common.Httpserver.StopHttpServer).subscribe(tt=>this.logger.info("success stopping httpserver",tt),tt=>this.logger.error("error stopping httpserver",tt)),this.logger.info("Success stopping http server"))}startHttpServer(tt){const ot=new f.xQ,F=new f.xQ;return this.httpSubscription=this.bridgeService.executeCommand(o.Gh.Common.Httpserver.StartHttpServer,{ports:tt,redirectUrl:"",redirectParams:[]}).subscribe(U=>{switch(this.logger.info("httpresponse recieved"),(0,n.get)(U,"callbackReason")){case"serverCreated":this.logger.info("http server created"),ot.next((0,n.get)(U,"portNumber")),ot.complete();break;case"httpRequest":this.logger.info("http request recieved"),F.next((0,n.get)(U,"url"));break;case"httpRequestAborted":F.error(_.No.LOGIN_CANCELLED_BY_USER)}},U=>{this.logger.error("error starting httpserver",U),ot.error("HTTP_START_FAILED"),F.error("HTTP_START_FAILED")}),[ot,F]}isAutoEntitlementEnabled(){return this.config.featureEnablement.UASAutoEntitle}handleOffDeviceAcquisition(tt,ot){if(ot.loginState===l.z.PENDING_LOGIN){const F=new f.xQ;this.httpRequestSub=F.asObservable(),this.pollingSubscription=(0,x.F)(this.config.uasConfig.pollingInterval).pipe((0,E.zg)(U=>this.uasSdk.getUserAcquisitionState(tt,ot.requestId)),(0,w.h)(U=>U.loginState!==l.z.PENDING_LOGIN),(0,p.q)(1),(0,V.K)(U=>(this.logger.error("error in get acquisition state",U),this.sendTelemetry(R.N3X.UALoginFailed,this.stringOrObj(U)),(0,i.of)({loginState:l.z.NOT_LOGGED_IN,requestId:null,landingPageUrl:null})))).subscribe(U=>F.next(U))}return(0,i.of)(ot)}handleNativeRedirect(tt){var ot;return(null===(ot=tt.landingPageUrl)||void 0===ot?void 0:ot.length)>0?this.bridgeService.executeCommand(o.Gh.Common.Nativeauth.initiateLogIn,{url:tt.landingPageUrl}).pipe((0,p.q)(1),(0,c.h)(tt)):(0,i.of)(tt)}showNextPage(tt,ot){if(this.config.starfleet.useDeviceAuthLogin)return this.handleOffDeviceAcquisition(tt,ot);if(this.config.uasConfig.redirectUrlIsRelative)return this.redirectUserBrowser(ot);if(this.config.uasConfig.isNativeRedirect)return this.handleNativeRedirect(ot);let F=null;return ot.loginState!==l.z.UNKNOWN&&ot.landingPageUrl?F=new URL(ot.landingPageUrl):(F=new URL(this.config.starfleet.onCompleteRedirectUrl),F.searchParams.append("error","unknown")),this.logger.info("redirecting user to: ",F.href),this.bridgeService.executeCommand(o.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:F.href,redirectParams:[]}).pipe((0,V.K)(U=>(0,i.of)(ot)),(0,c.h)(ot))}getRedirectResponse(){let tt=null;try{tt=JSON.parse(window.localStorage.getItem(this.redirectResponseKey)),this.logger.info("redirect response",tt)}catch(ot){this.logger.error("failed to parse response JSON",ot)}return window.localStorage.removeItem(this.redirectResponseKey),tt}validateMessageEvent(tt,ot){let F=tt&&tt.data;return F=F&&tt.origin===window.location.origin&&tt.data.reason===ot,!!F}redirectUserBrowser(tt){var ot;if(tt.loginState===l.z.PENDING_LOGIN){var F;if(!((null===(F=tt.landingPageUrl)||void 0===F?void 0:F.length)>0))return(0,S._)("landing page url must be defined for LOGIN_PENDING");const U=this.pathService.getCurrentUrl();if(this.config.uasConfig.sameTab)return window.sessionStorage.setItem(this.redirectInputKey,JSON.stringify({returnUrl:U})),window.sessionStorage.setItem(this.uasKey,l.n.Pending),window.open(tt.landingPageUrl,"_self"),u.C;this.tabWindow?this.tabWindow.location.href=tt.landingPageUrl:this.tabWindow=window.open(tt.landingPageUrl,"_blank"),this.httpRequestSub=(0,g.R)(window,"message").pipe((0,w.h)(z=>this.validateMessageEvent(z,"redirectCallback")),(0,O.U)(()=>this.getRedirectResponse()))}else(null===(ot=tt.landingPageUrl)||void 0===ot?void 0:ot.length)>0&&(this.config.uasConfig.sameTab?window.open(tt.landingPageUrl,"_self"):(this.tabWindow||(this.tabWindow=window.open("","_blank")),this.tabWindow.location.href=tt.landingPageUrl));return(0,i.of)(tt)}cancelAutoEntitlement(){this.sendTelemetry(R.N3X.UALoginPendingTimedOut,"cancelled or timedout"),this.loginInitiated=!1,this.pendingEntitlement=!1,this.stopHttpServer(),this.pollingSubscription&&(this.pollingSubscription.unsubscribe(),this.pollingSubscription=null)}autoEntitleUser(tt,ot=!1){if(this.acquireUserLoginStateSub&&!this.acquireUserLoginStateSub.isStopped)return this.logger.info("Auto-entitlment already in progress."),this.acquireUserLoginStateSub.asObservable();if((!this.acquireUserLoginStateSub||this.acquireUserLoginStateSub.isStopped)&&(this.acquireUserLoginStateSub=new h.t(1)),this.AutoEntitleStateSub.next(l.n.Started),this.logger.info("Auto Entitle triggered"),!1===this.loginInitiated&&!1===this.pendingEntitlement)return setTimeout(()=>{this.AutoEntitleStateSub.next(l.n.LoggedIn),this.logger.warn("Auto entitle cancelled, login not initiated"),this.acquireUserLoginStateSub.next(l.z.LOGGED_IN),this.acquireUserLoginStateSub.complete()},0),this.acquireUserLoginStateSub.asObservable();if(this.loginInitiated=!1,!0!==this.isAutoEntitlementEnabled())return setTimeout(()=>{this.AutoEntitleStateSub.next(l.n.LoggedIn),this.logger.info("Auto entitlement is disabled"),this.pendingEntitlement=!1,this.acquireUserLoginStateSub.next(l.z.LOGGED_IN),this.acquireUserLoginStateSub.complete()},0),this.acquireUserLoginStateSub.asObservable();if(!tt)return this.AutoEntitleStateSub.next(l.n.LoggedOut),this.logger.warn("Invalid idToken, aborting auto entitle"),this.pendingEntitlement=!1,this.showNextPage(null,{landingPageUrl:null,loginState:l.z.UNKNOWN,requestId:null}).pipe((0,C.b)(U=>{this.stopHttpServer(),this.acquireUserLoginStateSub.next(l.z.NOT_LOGGED_IN),this.acquireUserLoginStateSub.complete()})).subscribe(),this.acquireUserLoginStateSub.asObservable();this.logger.info("triggering auto entitle");let F=null;if(this.pendingEntitlement)F=(0,i.of)(this.getRedirectResponse()),this.pendingEntitlement=!1;else{const U=this.config.uasConfig.redirectUrlIsRelative?this.pathService.getCurrentUrl():this.config.uasConfig.homeUrl;F=this.uasSdk.acquireUser(tt,this.redirectUrl,U,this.localeService.getLocale())}return F.pipe((0,E.zg)(U=>(this.logger.info("acquire user success",U),this.showNextPage(tt,U))),(0,E.zg)(U=>{switch(U.loginState){case l.z.LOGGED_IN:return this.stopHttpServer(),this.AutoEntitleStateSub.next(l.n.LoggedIn),this.sendTelemetry(R.N3X.UALoginComplete),(0,i.of)(l.z.LOGGED_IN);case l.z.PENDING_LOGIN:return this.AutoEntitleStateSub.next(l.n.Pending),this.sendTelemetry(R.N3X.UALoginPending,`requestId: ${U.requestId}, page: ${U.landingPageUrl}`),this.logger.info("acquire user input required, pending"),this.httpRequestSub.pipe((0,p.q)(1),(0,E.zg)(z=>{const Q=this.config.starfleet.useDeviceAuthLogin||this.config.uasConfig.redirectUrlIsRelative?z:this.handleHttpRequest(z);return this.logger.info("user input completed: ",Q),this.showNextPage(tt,Q)}),(0,O.U)(z=>z.loginState===l.z.LOGGED_IN?(this.stopHttpServer(),this.AutoEntitleStateSub.next(l.n.LoggedIn),this.sendTelemetry(R.N3X.UALoginPendingSuccess),l.z.LOGGED_IN):(this.stopHttpServer(),this.AutoEntitleStateSub.next(l.n.LoggedOut),this.sendTelemetry(R.N3X.UALoginPendingFailure,`request id ${U.requestId}, state: ${z.loginState}`),l.z.NOT_LOGGED_IN)));default:return this.stopHttpServer(),this.AutoEntitleStateSub.next(l.n.LoggedOut),this.sendTelemetry(R.N3X.UALoginFailed,`request id ${U.requestId}, state: ${U.loginState}`),(0,i.of)(l.z.NOT_LOGGED_IN)}}),(0,V.K)(U=>(this.logger.error("acquire user failed with error:",U,null==U?void 0:U.message),401!==(null==U?void 0:U.status)||ot?(this.sendTelemetry(R.N3X.UALoginFailed,this.stringOrObj(U)),this.AutoEntitleStateSub.next(l.n.Failed),this.showNextPage(null,{landingPageUrl:null,loginState:l.z.UNKNOWN,requestId:null}).pipe((0,O.U)(z=>(this.stopHttpServer(),l.z.NOT_LOGGED_IN)))):(this.loginInitiated=!0,(0,i.of)(l.z.AUTHORIZATION_ERROR)))),(0,C.b)(U=>{this.acquireUserLoginStateSub.next(U),this.acquireUserLoginStateSub.complete()})).subscribe(),this.acquireUserLoginStateSub.asObservable()}stringOrObj(tt){try{return JSON.stringify(tt)}catch{return tt}}sendTelemetry(tt,ot){const F=new R.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:R.Vwu.AutoEntitle,status:tt,errorDetails:(null==ot?void 0:ot.substring(0,1023))||"",totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(F)}}return(K=B).\u0275fac=function(tt){return new(tt||K)(b.LFG(I.ed),b.LFG(q.VK),b.LFG(a.q),b.LFG(I.dF),b.LFG(I.OL),b.LFG(y.un),b.LFG(R.wU6),b.LFG(M.y0))},K.\u0275prov=b.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),B})()},63069:(Dt,ct,t)=>{"use strict";t.d(ct,{cI:()=>n,LB:()=>U,rH:()=>K,DI:()=>o});var e=t(13963),i=t(21120),L=t(91467),f=t(9681),x=t(64555),S=t(70506),u=t(73992),g=t(38096),h=t(46939),O=t(680),E=t(15746),w=t(36520),p=t(47422),V=t(85046),c=t(90786),C=t(87965),l=t(89129),o=function(z){return z.None="None",z.UnsupportedOS="UnsupportedOS",z.UnsupportedBrowser="UnsupportedBrowser",z.PWARequired="PWARequired",z.NativeAppOnly="NativeAppOnly",z.UnsupportedStreaming="UnsupportedStreaming",z}(o||{}),n=function(z){return z.None="None",z.OfficiallySupported="OfficiallySupported",z.UnofficiallySupported="UnofficiallySupported",z.PartiallySupported="PartiallySupported",z}(n||{}),s=t(61699),R=t(17401),_=t(15476),b=t(32392),I=t(12878),q=t(43559),a=t(89857),y=t(1498);const M_body_text="layout.universalUnsupportedDialogOnLoadText.bodyText",M_body_textPlatform="layout.universalUnsupportedDialogOnLoadText.bodyTextPlatform",M_body_textBrowser="layout.universalUnsupportedDialogOnLoadText.bodyTextBrowser",M_body_textGeneric="layout.universalUnsupportedDialogOnLoadText.bodyTextGeneric",M_body_textPartialSupport="layout.universalUnsupportedDialogOnLoadText.bodyTextPartialSupport",M_link_unsupportedPlatform="layout.universalUnsupportedDialogText.unsupportedPlatformLinkText",M_link_unsupportedBrowser="layout.universalUnsupportedDialogText.unsupportedBrowserLinkText",M_link_unsupportedBrowserWithNativeApps="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsLinkText",M_link_unsupportedPlatformOnTV="layout.universalUnsupportedDialogText.unsupportedPlatformLinkTextOnTV",M_link_unsupportedBrowserOnTV="layout.universalUnsupportedDialogText.unsupportedBrowserLinkTextOnTV",M_link_unsupportedBrowserOnIOS="common.setUpOnSafari",M_link_unsupportedBrowserWithNativeAppsOnTV="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsLinkTextOnTV",M_link_nativeAppOnlyPlatform="layout.universalUnsupportedDialogText.nativeAppOnlyPlatformLinkText",M_link_pwaRequiredGuidance="layout.universalUnsupportedDialogText.pwaRequiredGuidanceLinkText",M_link_genericUnsupported="layout.universalUnsupportedDialogText.genericUnsupportedLinkText",M_link_partialSupport="layout.universalUnsupportedDialogText.safariLimitations",M_primaryButton_text="layout.universalUnsupportedDialogOnLoadText.primaryButton",M_primaryButton_partialSupportText="common.continueAnyway",M_secondaryButton_partialSupportText="common.download",M_offDeviceLink_unsupportedBrowserWithNativeApps="offDeviceLink.unsupportedBrowserWithNativeAppsText",P={supportType:n.OfficiallySupported,supportedBrowser:!0,supportedOS:!0,nativeClientSupported:!0,pwaRequired:!1,nativeAppOnly:!1,pwaGuidance:!1,streamingSupported:!0};let K=(()=>{var z;class Q{constructor(X,m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt){this.appConfig=m,this.systemInfoService=Y,this.dialog=D,this.genericDialog=N,this.deeplinkHelperService=Z,this.projectInterfaceService=W,this.pwaService=A,this.redirectService=d,this.translateService=H,this.telemetryUtilService=$,this.telemetryService=J,this.configuration=st,this.guestModeHelperService=lt,this.focusManager=gt,this.injector=vt,this.tvMode=!1,this.openSetupGuidance=()=>{this.genericDialog.closeAll(),this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(i.LB$,{autoFocus:!0,hasBackdrop:!0,panelClass:["dialogPaddingRemove","nv-overlay-panel"]}))},this.logger=X.getLogger("gfn/browser-universal-service"),this.tvMode=!!m.featureEnablement.tvMode,this.unsupportedBrowsersConfig$=this.fetchClientConfiguration().pipe((0,h.q)(1),(0,O.d)(1)),this._unsupportedBrowserState$=this.unsupportedBrowsersConfig$.pipe((0,E.b)(k=>this.logger.info("Unsupported Browser Config: ",k)),(0,w.w)(k=>this.getUnsupportedBrowserState$(k)),(0,E.b)(k=>this.logger.info(`browser / platform Unsupported State: ${k.unsupportedState}, Supported State: ${k.supportedState}`)),(0,O.d)(1))}isUnsupported(X){return!(X.supportType!==n.None&&X.streamingSupported&&X.supportedBrowser&&X.supportedOS&&(!X.pwaRequired||this.pwaService.isInPWAMode()))}get unsupportedBrowserState$(){return this._unsupportedBrowserState$}get shouldDisplayPWAGuidance$(){return this.unsupportedBrowsersConfig$.pipe((0,h.q)(1),(0,w.w)(X=>X.pwaGuidance?this._unsupportedBrowserState$.pipe((0,p.U)(m=>m.unsupportedState===o.PWARequired)):(0,f.of)(!1)))}handleUnsupportedDialog(){this.oobeService=this.injector.get(i.HKp),this.loginwallService=this.injector.get(i.V7b);const X=this.oobeService.oobeDialogClosedState.pipe((0,V.h)(Y=>Y)),m=this.loginwallService.onLoginWallFlowCompleted$();(0,x.aj)([X,m]).pipe((0,h.q)(1)).subscribe(Y=>this.openUnsupportedDialog())}openUnsupportedDialog(){this.unsupportedDialogSubscription||(this.unsupportedDialogSubscription=this.unsupportedBrowsersConfig$.pipe((0,w.w)(X=>X.supportType===n.PartiallySupported||this.isUnsupported(X)&&!this.deeplinkHelperService.isDeeplinkScenario()?this.openUnsupportedBrowserDialogOnLoad$(X):S.E),(0,h.q)(1),(0,c.x)(()=>{this.projectInterfaceService.closeUnsupportedDialog()})).subscribe(()=>this.logger.info("Unsupported browser dialog is not displayed or dismissed by the user."),X=>{this.logger.error("Error displaying unsupported browser dialog",X)}))}getUnsupportedBrowserState$(X){const m={supportedState:n.None,unsupportedState:o.None};return X.nativeAppOnly?(m.unsupportedState=o.NativeAppOnly,(0,f.of)(m)):X.supportedOS?X.supportedBrowser?X.streamingSupported?X.pwaRequired?this.pwaService.onPWAModeChange.pipe((0,p.U)(Y=>Y?(m.supportedState=X.supportType===n.OfficiallySupported?n.OfficiallySupported:n.UnofficiallySupported,m):(m.unsupportedState=o.PWARequired,m))):(X.supportType===n.OfficiallySupported?m.supportedState=n.OfficiallySupported:X.supportType===n.UnofficiallySupported?m.supportedState=n.UnofficiallySupported:X.supportType===n.PartiallySupported&&(m.supportedState=n.PartiallySupported),(0,f.of)(m)):(m.unsupportedState=o.UnsupportedStreaming,(0,f.of)(m)):(m.unsupportedState=o.UnsupportedBrowser,(0,f.of)(m)):(m.unsupportedState=o.UnsupportedOS,(0,f.of)(m))}getRedirectKey(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.UnsupportedOS:return i.hEi.GfnPcUnsupportedDevice;case o.UnsupportedBrowser:case o.PWARequired:case o.NativeAppOnly:case o.UnsupportedStreaming:return i.hEi.GfnPcUnsupportedBrowser;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return i.hEi.GfnPcSafariBrowserLearnMore;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getBodyText(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.UnsupportedOS:return M_body_textPlatform;case o.UnsupportedBrowser:case o.PWARequired:case o.NativeAppOnly:return M_body_textBrowser;case o.UnsupportedStreaming:return M_body_textGeneric;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return M_body_textPartialSupport;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("To be Implemented")}}getUnsupportedHeaderText(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.UnsupportedOS:return"layout.universalUnsupportedDialogText.unsupportedPlatformHeaderText";case o.UnsupportedBrowser:case o.PWARequired:case o.NativeAppOnly:return"layout.universalUnsupportedDialogText.unsupportedBrowserHeaderText";case o.UnsupportedStreaming:return"layout.universalUnsupportedDialogText.unsupportedGenericHeaderText";default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return"layout.universalUnsupportedDialogOnLoadText.partialSupportHeaderText";case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getDialogLink$(X,m){return this.unsupportedBrowsersConfig$.pipe((0,h.q)(1),(0,w.w)(Y=>this._getDialogLink$(X,Y,m)))}_getDialogLink$(X,m,Y){const D=this.getRedirectKey(X),N=null!=Y&&Y.anchorLink||!this.tvMode?this.getLinkText(X,m):this.getTVModeLinkText(X,m),Z=X.unsupportedState===o.UnsupportedBrowser&&(null==m?void 0:m.pwaGuidance),W=D===i.hEi.GfnPcUnsupportedBrowser&&null!=m&&m.nativeClientSupported?M_offDeviceLink_unsupportedBrowserWithNativeApps:void 0;return this.redirectService.getRedirectUrl(D).pipe((0,p.U)(A=>({url:A,text:N,shortUrl:l.hD[D],shortUrlDescription:W,routerLink:this.getRouterLink(X,m),linkClickedCallback:Z?this.openSetupGuidance.bind(this):void 0})))}getRouterLink(X,m){if(X.unsupportedState===o.PWARequired&&null!=m&&m.pwaGuidance)return{commands:i.fFR.PwaWall,skipLocationChange:!1}}getTranslatedBodyText$(){return this.unsupportedBrowserState$.pipe((0,w.w)(m=>{const Y=this.translateService.get(M_body_text),D=this.translateService.get(this.getBodyText(m));return m.supportedState===n.PartiallySupported?D:(0,u.$R)(Y,D).pipe((0,h.q)(1),(0,p.U)(([N,Z])=>`${N}<br><br>${Z}`))}))}secondaryButtonConfig(){return this.unsupportedBrowserState$.pipe((0,w.w)(X=>{const m=this.getSecondaryButtonText(X);return(0,f.of)(m?{text:m}:null)}))}getPrimaryButtonConfig$(){return this.unsupportedBrowserState$.pipe((0,w.w)(X=>(0,f.of)({text:this.getButtonText(X),accentColor:this.getButtonConfig(X)})))}getTranslatedHeaderText$(){return this.unsupportedBrowserState$.pipe((0,w.w)(X=>this.translateService.get(this.getHeaderText(X))))}getHeaderText(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:case o.UnsupportedOS:case o.UnsupportedBrowser:case o.PWARequired:case o.UnsupportedStreaming:return"layout.universalUnsupportedDialogOnLoadText.headerText";default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return"layout.universalUnsupportedDialogOnLoadText.partialSupportHeaderText";case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getButtonText(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:case o.UnsupportedOS:case o.UnsupportedBrowser:case o.PWARequired:case o.UnsupportedStreaming:return M_primaryButton_text;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return M_primaryButton_partialSupportText;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getSecondaryButtonText(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:case o.UnsupportedOS:case o.UnsupportedBrowser:case o.PWARequired:case o.UnsupportedStreaming:return"";default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return M_secondaryButton_partialSupportText;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getButtonConfig(X){if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:case o.UnsupportedOS:case o.UnsupportedBrowser:case o.PWARequired:case o.UnsupportedStreaming:return!1;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return!0;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getLinkText(X,m){if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:return M_link_nativeAppOnlyPlatform;case o.UnsupportedOS:return M_link_unsupportedPlatform;case o.UnsupportedBrowser:case o.PWARequired:return null!=m&&m.pwaGuidance?X.unsupportedState===o.UnsupportedBrowser?M_link_unsupportedBrowserOnIOS:M_link_pwaRequiredGuidance:null!=m&&m.nativeClientSupported?M_link_unsupportedBrowserWithNativeApps:M_link_unsupportedBrowser;case o.UnsupportedStreaming:return M_link_genericUnsupported;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return M_link_partialSupport;case n.OfficiallySupported:case n.UnofficiallySupported:break;default:throw new Error("should not happen!")}}getTVModeLinkText(X,m){if(!this.tvMode)throw new Error("Not in TV mode!");if(X.supportedState===n.None)switch(X.unsupportedState){case o.NativeAppOnly:return M_link_unsupportedBrowserWithNativeAppsOnTV;case o.UnsupportedOS:return M_link_unsupportedPlatformOnTV;case o.UnsupportedBrowser:case o.PWARequired:return null!=m&&m.nativeClientSupported?M_link_unsupportedBrowserWithNativeAppsOnTV:M_link_unsupportedBrowserOnTV;case o.UnsupportedStreaming:return M_link_genericUnsupported;default:throw new Error("should not happen!")}else if(X.unsupportedState===o.None)switch(X.supportedState){case n.PartiallySupported:return M_link_partialSupport;case n.UnofficiallySupported:case n.OfficiallySupported:break;default:throw new Error("should not happen!")}}openUnsupportedBrowserDialogOnLoad$(X){const m=this.unsupportedBrowserState$.pipe((0,w.w)(Y=>this._getDialogLink$(Y,X)));return(0,u.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,h.q)(1),(0,C.zg)(Y=>(0,x.aj)([this.getTranslatedHeaderText$(),this.getTranslatedBodyText$(),this.getPrimaryButtonConfig$(),this.secondaryButtonConfig(),m]).pipe((0,h.q)(1),(0,w.w)(([D,N,Z,W,A])=>{const d=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:D,translated:!0},bodyText:{text:N,translated:!0},link:A,primaryButton:Z,secondaryButton:W,autoFocusOnPrimaryButton:!1}},{preferredDialogType:L.Xm.ThreeQuarterSheet});this.telemetryUtilService.sendPopUpDialogShownEvent(i.ItH.Unsupported_Browser_Or_Platform_Load);const H=d.primaryButtonClick.pipe((0,E.b)($=>{this.telemetryUtilService.sendPopUpDialogClosedEvent(i.ItH.Unsupported_Browser_Or_Platform_Load,i.XzU.Dialog_Closed),d.close()}));return d.secondaryButtonClick.subscribe(()=>{window.location.href=this.downloadNativeClientUrl}),(0,g.S3)(H,d.afterClosed())}))))}isSupportedBrowser(X,m,Y){return this.checkSystemCompatibility(X,null!=m?m:Y)}checkSystemCompatibility(X,m){return!!this.pwaService.isInPWAMode()||!!m&&m.supportedPlatforms.includes(X.OSName)}checkGuestModeOverrides(X,m){return!(!this.guestModeHelperService.isGuestMode||!X)&&this.checkSystemCompatibility(m,X)}getSupportType(X,m,Y,D,N){return m?N?n.PartiallySupported:Y&&this.isSupportedBrowser(X,Y)?n.OfficiallySupported:D&&this.isSupportedBrowser(X,D)?n.UnofficiallySupported:this.isSupportedBrowser(X,Y,D)?n.OfficiallySupported:n.None:n.None}getDefaultSupportedConfig(X){return{supportType:X?n.OfficiallySupported:n.None,supportedBrowser:!0,supportedOS:!0,nativeClientSupported:!1,pwaRequired:!1,nativeAppOnly:!1,pwaGuidance:!1,streamingSupported:X}}initializeNativeClientDownloadURLs(X){var m,Y;this.downloadNativeClientUrl=X===e.wi.MacOS?null===(m=this.appConfig)||void 0===m||null===(m=m.downloadNativeClient)||void 0===m?void 0:m.macUrl:null===(Y=this.appConfig)||void 0===Y||null===(Y=Y.downloadNativeClient)||void 0===Y?void 0:Y.winUrl}fetchClientConfiguration(){var X,m;const Y=!(null===(X=this.configuration.featureEnablement)||void 0===X||!X.browserClientUniversalEnablement),D=!(null===(m=this.configuration.featureEnablement)||void 0===m||!m.gdnUniversalEnablement);if(e.ng.isNativeLikePlatform())return(0,f.of)(P);if(D&&this.guestModeHelperService.isGuestAppFlow())return(0,f.of)({supportType:n.OfficiallySupported,supportedBrowser:!0,supportedOS:!0,nativeClientSupported:!1,pwaRequired:!1,nativeAppOnly:!1,pwaGuidance:!1,streamingSupported:!0});const N=this.systemInfoService.getSystemInfo([e.l7.OSName,e.l7.BrowserName,e.l7.SystemName]).pipe((0,p.U)(Z=>(e.ng.isVisionPro(Z)&&(Z.OSName=e.wi.VisionOS),Z)));return(0,x.aj)([N,this.systemInfoService.checkStreamingSupport()]).pipe((0,p.U)(([Z,W])=>{var A,d,H;if(this.logger.info("Is streaming Supported: ",W),Y)return this.logger.info("Browser Client Universal Flag is enabled"),this.logger.info("Streaming Supported Flag from Ragnarok: ",W),this.getDefaultSupportedConfig(W);this.initializeNativeClientDownloadURLs(Z.OSName);const $=this.appConfig.supportedBrowsersAndPlatforms,J=null==$?void 0:$.officiallySupported.find(vt=>(null==vt?void 0:vt.browser)===Z.BrowserName&&(null==vt?void 0:vt.supportedPlatforms.includes(Z.OSName))),st=null==$?void 0:$.unofficiallySupported.find(vt=>(null==vt?void 0:vt.browser)===Z.BrowserName&&(null==vt?void 0:vt.supportedPlatforms.includes(Z.OSName))),lt=null==$?void 0:$.partiallySupported.find(vt=>(null==vt?void 0:vt.browser)===Z.BrowserName&&(null==vt?void 0:vt.supportedPlatforms.includes(Z.OSName))),gt=null==$||null===(A=$.guestModeOverrides)||void 0===A?void 0:A.find(vt=>(null==vt?void 0:vt.browser)===Z.BrowserName&&(null==vt?void 0:vt.supportedPlatforms.includes(Z.OSName)));return this.logger.info("Official Support Info from Config",JSON.stringify(J)),this.logger.info("Unofficial Support Info from Config",JSON.stringify(st)),this.logger.info("Partial Support Info from Config",JSON.stringify(lt)),this.logger.info("Guest Mode Overrides from Config",JSON.stringify(gt)),this.logger.info("Current System Info",JSON.stringify(Z)),this.checkGuestModeOverrides(gt,Z)?(this.logger.info("Guest Mode Overrides are enabled"),this.logger.info("Streaming Supported Flag from Ragnarok: ",W),this.getDefaultSupportedConfig(W)):{supportType:this.getSupportType(Z,W,J,st,lt),supportedBrowser:this.isSupportedBrowser(Z,J,st),supportedOS:null===(d=$.allSupportedPlatforms)||void 0===d?void 0:d.includes(Z.OSName),nativeClientSupported:$.nativeClientSupportedPlatforms.includes(Z.OSName),pwaRequired:$.pwaRequiredPlatforms.includes(Z.OSName),nativeAppOnly:!(null===(H=$.nativeAppOnlyPlatforms)||void 0===H||!H.includes(Z.OSName)),pwaGuidance:$.pwaGuideSupportedPlatforms.includes(Z.OSName),streamingSupported:W}}))}}return(z=Q).\u0275fac=function(X){return new(X||z)(s.LFG(e.ed),s.LFG(i.VKt),s.LFG(e.Ob),s.LFG(R.uw),s.LFG(L.TX),s.LFG(_.g),s.LFG(b.m3),s.LFG(I.nG),s.LFG(l.VH),s.LFG(q.sK),s.LFG(i.wU6),s.LFG(a.y0),s.LFG(i.VKt),s.LFG(y.h),s.LFG(L.IK),s.LFG(s.zs3))},z.\u0275prov=s.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),Q})();var B=t(32484),j=t(30502),tt=t(13303),ot=t(45356),F=t(78654);let U=(()=>{var z;class Q{constructor(X,m){this.dialogRef=m,this.destroy$=new B.xQ,this.dismissMessageDelay=4e3,this.gfnLink=location.hostname,this.logger=X.getLogger("unsupported-browser-help.component")}onClose(){this.dialogRef.close()}onCopy(){(0,j.D)(navigator.clipboard.writeText(this.gfnLink)).pipe((0,tt.R)(this.destroy$)).subscribe(X=>{this.successMessageVisible=!0,setTimeout(()=>{this.successMessageVisible=!1},this.dismissMessageDelay)},X=>{this.logger.error(`${this.gfnLink} is copied failed, error: ${X}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(z=Q).\u0275fac=function(X){return new(X||z)(s.Y36(e.ed),s.Y36(R.so))},z.\u0275cmp=s.Xpm({type:z,selectors:[["gfn-unsupported-browser-pwa-setup"]],decls:30,vars:24,consts:[["fxFlex","","fxLayout","column",1,"main-container"],["fxLayout","column",1,"content-container"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-header6","color-white","prompt-header"],[1,"font-body2"],[1,"link-container","font-body2"],["fxLayoutAlign","start center",1,"gfn-link"],["mat-button","","fxLayout","row","fxLayoutAlign","end center",1,"color-white",3,"click"],[1,"success-message","font-body2"],["fxLayout","row","fxLayoutAlign","end end",1,"button-container"],["mat-button","",3,"click"]],template:function(X,m){1&X&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),s._uU(4),s.ALo(5,"translate"),s.qZA(),s.TgZ(6,"span",4),s._uU(7),s.ALo(8,"translate"),s.qZA(),s.TgZ(9,"span",4),s._uU(10),s.ALo(11,"translate"),s.qZA(),s.TgZ(12,"span",4),s._uU(13),s.ALo(14,"translate"),s.qZA()(),s.TgZ(15,"div",5)(16,"span",6),s._uU(17),s.qZA(),s.TgZ(18,"button",7),s.NdJ("click",function(){return m.onCopy()}),s.TgZ(19,"span"),s._uU(20),s.ALo(21,"translate"),s.qZA()()(),s.TgZ(22,"span",8),s._uU(23),s.ALo(24,"translate"),s.qZA()(),s.TgZ(25,"div",9)(26,"button",10),s.NdJ("click",function(){return m.onClose()}),s.TgZ(27,"span"),s._uU(28),s.ALo(29,"translate"),s.qZA()()()()),2&X&&(s.xp6(4),s.Oqu(s.lcZ(5,10,"iosUnsupportedBrowserHelpDialog.title")),s.xp6(3),s.Oqu(s.lcZ(8,12,"iosUnsupportedBrowserHelpDialog.setUpStep1")),s.xp6(3),s.Oqu(s.lcZ(11,14,"iosUnsupportedBrowserHelpDialog.setUpStep2")),s.xp6(3),s.Oqu(s.lcZ(14,16,"iosUnsupportedBrowserHelpDialog.setUpStep3")),s.xp6(4),s.Oqu(m.gfnLink),s.xp6(3),s.Oqu(s.lcZ(21,18,"iosPWA.copy")),s.xp6(2),s.ekj("visible",m.successMessageVisible),s.xp6(1),s.Oqu(s.lcZ(24,20,"iosPWA.linkCopied")),s.xp6(5),s.Oqu(s.lcZ(29,22,"common.close")))},dependencies:[ot.xw,ot.Wh,ot.yH,F.eB,q.X$],styles:[".main-container[_ngcontent-%COMP%]{width:560px;height:fit-content}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:20px 24px 8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .prompt-header[_ngcontent-%COMP%]{margin-bottom:12px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;margin:16px 0 8px;border:1px solid rgba(255,255,255,.2)}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{visibility:hidden}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 0 8px 8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 8px 8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 8px 8px 0}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 8px 0}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message.visible[_ngcontent-%COMP%]{visibility:visible}.main-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin:0 8px 8px}"]}),Q})()},55035:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>V,u:()=>l});var e=t(13963),i=t(32484),L=t(9191),f=t(78943),x=t(24642);const S={result:1},g=new Map([[0,x.Rn.NCT_R_SUCCESS],[1401,x.Rn.NCT_R_AUTH_FAILED],[1509,x.Rn.NCT_R_CAPACITY_FULL]]);var h=t(93963),O=t(61699);let E=(()=>{var o;class n{constructor(R){this.loggingService=R}logBasedOnLevel(R){switch(R.logLevel){case"INFO":case"DEBUG":this.logger.info(R.logstr,R.timeStamp);break;case"ERROR":this.logger.error(R.logstr,R.timeStamp);break;case"WARN":this.logger.warn(R.logstr,R.timeStamp)}}sendNetworkTestLog(R){this.logger=this.loggingService.getLogger(R.logtag),this.logBasedOnLevel(R)}}return(o=n).\u0275fac=function(R){return new(R||o)(O.LFG(e.ed))},o.\u0275prov=O.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})();const w=f.Gh.Gfn.Networktest,V={provide:e.m1,useClass:(()=>{var o;class n extends e.nM{constructor(R,_,b){super(),this.zone=R,this.networkTestLoggingService=b,this.logger=_.getLogger("network-test-plugin"),this.networkTestEvents=new i.xQ,this.networkTestAnalyticsEvent=new i.xQ}get handlers(){return{module:w.Start.module,commands:{[w.Start.method]:this.startNetworkTest.bind(this),[w.NetworkTestFinishedCallback.method]:this.networkTestFinishCallback.bind(this),[w.ConfigureNetworkTestSettings.method]:this.ConfigureNetworkTestSettings.bind(this),[w.RegisterCallback.method]:this.registerCallback.bind(this)}}}initializeNetworkTestApp(){if(!this.ntApp){this.logger.info("Initializing Webrtc Network Test"),this.ntApp=new L.NetworkTestApp;const R=(_,b)=>{this.ntApp.addListener(_,(...I)=>{this.zone.run(()=>{b.bind(this)(I[0])})})};R("NetworkTestCompleted",this.onNetworkTestCompleted),R("NetworkTestAnalytics",this.onNetworkTestAnalyticEvent),R("Log",this.onNetworkTestLogEvent)}}getNetworkTestAuthType(R){let _=1;switch(R){case h.q.NVB_AUTH_JWT_GFN:_=1;break;case h.q.NVB_AUTH_JWT:_=2}return _}startNetworkTest(R){let _=!0;return this.zone.runOutsideAngular(()=>{this.displayResolution=R.payload.displayResolution,this.initializeNetworkTestApp();const b={platformId:"gfn_browser_client",serverAddress:R.payload.address,networkTestProfile:[R.payload.displayResolution],authInfo:{type:this.getNetworkTestAuthType(R.payload.authType),token:R.payload.authToken}};this.logger.info("Network test params for ntwebrtc: ",b.platformId,b.serverAddress,b.networkTestProfile),this.ntApp.startNetworkTest(b)||(_=!1)}),_?this.makeResult("true"):this.makeError(500,"Network test application cannot be initialized")}networkTestFinishCallback(){return this.makePersistentResult(this.networkTestEvents.asObservable())}onNetworkTestCompleted(R){if(this.logger.info("Network test completed, result: ",R),R.error){const _={result:{result:g.get(R.error.code)||R.error.code},testResult:{networkSessionId:R.sessionId,resultCode:R.error.code,errorDetails:R.error.errorDetail,zone:R.zone}};this.networkTestEvents.next(JSON.stringify(_))}else{const b={...R.testResult,...R.testResult.networkTestThreshold,networkSessionId:R.sessionId,zone:R.zone,thresholds:[{bandwidthLimit:R.testResult.networkTestThreshold.bandwidthLimit,bandwidthRecommended:R.testResult.networkTestThreshold.bandwidthRecommended,packetLossLimit:R.testResult.networkTestThreshold.packetLossLimit,packetLossRecommended:R.testResult.networkTestThreshold.packetLossRecommended,latencyLimit:R.testResult.networkTestThreshold.latencyLimit,latencyRecommended:R.testResult.networkTestThreshold.latencyRecommended,profile:{height:this.displayResolution.height,width:this.displayResolution.width,frameRate:this.displayResolution.frameRate}}],maxPacketSize:0,maxTestBandwidthMbps:0};delete b.networkTestThreshold,this.networkTestEvents.next(JSON.stringify({result:S,testResult:b}))}}onNetworkTestLogEvent(R){this.networkTestLoggingService.sendNetworkTestLog(R)}ConfigureNetworkTestSettings(R){return this.zone.runOutsideAngular(()=>{L.ConfigureNetworkTestSettings(R.payload)}),this.makeResult("true")}onNetworkTestAnalyticEvent(R){this.logger.event("callback onAnalyticsEvent called from ntrtc with eventData, ",R),this.networkTestAnalyticsEvent.next(JSON.stringify(R))}registerCallback(R){return this.makePersistentResult(this.networkTestAnalyticsEvent.asObservable())}}return(o=n).\u0275fac=function(R){return new(R||o)(O.LFG(O.R0b),O.LFG(e.ed),O.LFG(E))},o.\u0275prov=O.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})(),multi:!0};var c=t(81351),C=t(89857);let l=(()=>{var o;class n{constructor(R,_,b){this.bridgeService=_,this.telemetryService=b,this.logger=R.getLogger("networkTestAnalyticsEventHandlerService")}initiateAnalyticsEvents(){this.bridgeService.executeCommand(f.Gh.Gfn.Networktest.RegisterCallback).subscribe(R=>{this.logger.event("Network test event",R),this.parseAndSendData(R)})}parseAndSendData(R){const _=this.getEventInformation(R);_&&_.name?this.telemetryService.push(_,null,{immediateRequest:!0}):this.logger.info("unable to parse Network Test Analytics event",R)}getEventInformation(R){return R.name===c.GMl.NetworkTest_Http_Event.name?this.prepareNetworkTestHttpEventData(R):R.name===c.GMl.NetworkTest_Exception_Event.name?this.prepareNetworkTestExceptionEventData(R):void this.logger.info("analytics event from Network Test lib not tracked",R.name)}prepareNetworkTestHttpEventData(R){return new c.ORi(Object.assign({url:R.url||"",verb:R.verb||"",statusCode:R.statusCode||"",requestStatusCode:R.requestStatusCode||"",networkSessionId:R.networkSessionId||"",requestId:R.requestId||"",serverId:R.serverId||"",callDuration:R.callDuration||0}))}prepareNetworkTestExceptionEventData(R){return new c.P3M(Object.assign({category:R.category||"",message:R.message||"",networkSessionId:R.networkSessionId||"",stacktrace:R.stacktrace||"",filename:R.filename||"",lineno:R.lineno||0,colno:R.colno||0,handled:R.handled,zoneAddress:R.zoneAddress||""}))}}return(o=n).\u0275fac=function(R){return new(R||o)(O.LFG(e.ed),O.LFG(e.dF),O.LFG(C.y0))},o.\u0275prov=O.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},1626:(Dt,ct,t)=>{"use strict";t.d(ct,{J$:()=>L,ce:()=>i,hc:()=>f});var e=t(13963);const i=x=>{switch(x){case"IOS":return"PHONE";case"IPADOS":return"TABLET";case"TIZEN":case"WEBOS":return"TV";case"XBOX":return"CONSOLE";default:return"DESKTOP"}},L=x=>{switch(null==x?void 0:x.toLowerCase()){case"windows":return"WINDOWS";case"mac":case"macos":return"MACOS";case"linux":return"LINUX";case"chrome os":case"chromeos":return"CHROMEOS";case"ios":return"IOS";case"ipados":return"IPADOS";case"webos":return"WEBOS";case"tizen":return"TIZEN";case"xbox":return"XBOX";case"android":return"ANDROID";case"steamos":return"STEAMOS";case"shield":return"SHIELD";default:return"UNKNOWN"}},f=x=>{switch(x){case e.z7.Desktop:return"DESKTOP";case e.z7.Laptop:return"LAPTOP";case e.z7.TV:return"TV";case e.z7.Phone:return"PHONE";case e.z7.Tablet:return"TABLET";case e.z7.Console:return"CONSOLE";default:return"DESKTOP"}}},71882:(Dt,ct,t)=>{"use strict";t.d(ct,{x:()=>h});var e=t(13963),i=t(14430),L=t(47422),f=t(680),x=t(77869),S=t(87815),u=t(97424),g=t(61699);let h=(()=>{var O;class E{constructor(p,V){this.systemInfoService=p,this.appConfig=V}getDeviceModelHeader(p){var V,c;if(p.DeviceType!==e.z7.TV)return null===(c=p.SystemName)||void 0===c?void 0:c.toUpperCase();const C=null===(V=p.CPUName)||void 0===V?void 0:V.toUpperCase();if("TIZEN"!==p.OSName)return C;const{year:l}=(0,x.L2)((0,x.bq)());return l?`${C}-${l}`:C}getClientIdHeaderValue(p){if(!p)throw new Error(`Unrecognized client ID type (${p})`);return this.appConfig.lcars.clientId}initialize(){this.commonHeaders$=(0,i.s)(e.ng.isBrowserLikePlatform,this.systemInfoService.getClientHeadersInfo(),this.systemInfoService.getSystemInfo([e.l7.OSName,e.l7.Platform])).pipe((0,L.U)(p=>{const V={};if(e.ng.isBrowserPlatform()){V["NV-Device-Type"]=p.DeviceType,V["NV-Device-OS"]=p.OSName;const c=this.getDeviceModelHeader(p);c&&(V["NV-Device-Model"]=c),V["NV-Client-Type"]="BROWSER",V["NV-Client-Streamer"]="WEBRTC",V["NV-Browser-Type"]=p.BrowserName}else{const c=(0,u.J$)(p.Platform);V["NV-Device-Type"]=p.DeviceType?(0,u.hc)(p.DeviceType):(0,u.ce)(c),p.Make&&(V["NV-Device-Make"]=p.Make),p.Model&&(V["NV-Device-Model"]=p.Model),V["NV-Device-OS"]=c,V["NV-Client-Type"]="NATIVE",V["NV-Client-Streamer"]="NVIDIA-CLASSIC"}return V["NV-Client-Version"]=(0,S.sc)(this.appConfig),V}),(0,f.d)(1))}getCommonHeaders(p){return this.commonHeaders$||this.initialize(),this.commonHeaders$.pipe((0,L.U)(V=>({...V})),(0,L.U)(V=>(null!=p&&p.withClientId&&(V["NV-Client-ID"]=this.getClientIdHeaderValue(p.withClientId)),V)))}}return(O=E).\u0275fac=function(p){return new(p||O)(g.LFG(e.Ob),g.LFG(S.VK))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},97424:(Dt,ct,t)=>{"use strict";t.d(ct,{J$:()=>i.J$,ce:()=>i.ce,hc:()=>i.hc,x5:()=>e.x});var e=t(71882),i=t(1626)},93587:(Dt,ct,t)=>{"use strict";t.d(ct,{$l:()=>p,_P:()=>S});var e=t(47927),i=t(9681),L=t(47422),f=t(58175),x=t(64794),S=function(V){return V.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID="resolutionUpScaleDefaultOptionId",V.CLIPBOARD_PASTE_FEATURE_CONFIG="clipboardPasteFeatureConfig",V.BACKGROUND_WEBRTC_NETWORK_TEST="webRtcNetworkTestV2",V.ENABLE_BROWSER_IGSS="enableBrowserIGSS",V}(S||{});const u=new Map([[S.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID,{defaultValue:x.Jr.STANDARD.id,subUseCaseName:e.Qu.Other,mapperFn:V=>V.value[S.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID]}],[S.CLIPBOARD_PASTE_FEATURE_CONFIG,{defaultValue:{isEnabled:!1,maxPasteBuffer:4096},subUseCaseName:e.Qu.GxTargetGetClipboardPasteConfig,mapperFn:V=>V.value}],[S.ENABLE_BROWSER_IGSS,{defaultValue:!1,subUseCaseName:e.Qu.GxTargetGetEnableBrowserIGSS,mapperFn:V=>V.value[S.ENABLE_BROWSER_IGSS]}],[S.BACKGROUND_WEBRTC_NETWORK_TEST,{defaultValue:{value:{enabled:!1,supportedZonesList:[],showUI:!1}},subUseCaseName:e.Qu.Other,mapperFn:V=>V}]]),g=new Map([[S.BACKGROUND_WEBRTC_NETWORK_TEST,"webRtcNetworkTestV2"]]);var h=t(61699),O=t(13963),E=t(87815),w=t(21120);let p=(()=>{var V;class c{constructor(l,o,n,s){this.loggingService=l,this.experienceControlService=o,this.configuration=n,this.idmService=s,this.fetchedFeatureToggleValueMap=new Map,this.logger=this.loggingService.getLogger("CloudVariableHelperService"),this.idmService.accountStatusChanged.subscribe(()=>{var R;return null===(R=this.fetchedFeatureToggleValueMap)||void 0===R?void 0:R.clear()})}getFeatureToggle(l,o={}){return o.configCheckEnabled&&!this.configuration.featureEnablement[o.useDifferentConfigAttributeName?g.get(l):l]?(this.logger.info("Feature disabled in config, returning default value"),(0,i.of)(u.get(l).defaultValue)):this.fetchedFeatureToggleValueMap.has(l)?(0,i.of)(this.fetchedFeatureToggleValueMap.get(l)):this.fetchFeatureToggle(l,o)}fetchFeatureToggle(l,o={}){var n,s;return this.experienceControlService.getCloudVariable(this.configuration.gxTarget.experiences[l],{variant:null!==(n=o.buildVariant)&&void 0!==n?n:null},{useCache:null===(s=o.useCache)||void 0===s||s,useNetworkTimeoutForCacheFallback:!0},e.Z4.GxTargetGetCloudVariable,u.get(l).subUseCaseName,void 0,o.bypassClientRequestParamCheckForCache).pipe((0,L.U)(R=>{const _=u.get(l).mapperFn(R);return this.fetchedFeatureToggleValueMap.set(l,_),_}),(0,f.K)(R=>{this.logger.error(`Error while fetching feature toggle ${l}:`,R);const _=u.get(l).defaultValue;return(0,i.of)(_)}))}}return(V=c).\u0275fac=function(l){return new(l||V)(h.LFG(O.ed),h.LFG(e.Q6),h.LFG(E.VK),h.LFG(w.No2))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})()},79530:(Dt,ct,t)=>{"use strict";t.d(ct,{V:()=>i,w:()=>e});var e=function(L){return L.Default="default",L.Row="row",L}(e||{});class i{}},87815:(Dt,ct,t)=>{"use strict";t.d(ct,{VK:()=>e.V,OY:()=>y,w7:()=>e.w,sc:()=>M.s});var e=t(79530),i=t(61699),L=t(47422),f=t(36520),x=t(87965),S=t(15746),u=t(58175),g=t(91009),h=t(15665),O=t(13963),E=t(14430),w=t(92130),p=t(9681),V=t(64555),c=t(19165),C=t(97245),l=t(78943),o=t(47178);const n="overrides",b="prevOverrides";function q(P,K,B){return B&&0!==Object.keys(B).length?P.writeBlock(K,B,!0):P.removeBlock(K)}const y=[{provide:i.ip1,useFactory:function I(P,K,B,j,tt,ot){return()=>(0,E.s)(O.ng.isAndroidPlatform,(0,w.D)({overrideConfigs:ot.executeCommand(l.Gh.Common.Overrides.getConfig).pipe((0,L.U)(F=>F)),prevOverrides:K.readBlock(b)}).pipe((0,f.w)(({overrideConfigs:F,prevOverrides:U})=>{let z=(0,p.of)(!0);return o.isEqual(U,F)||(z=(0,V.aj)([q(K,n,F.overrides),q(K,"session",F.session),q(K,"presets",F.presets),q(K,"networkConfig",F.networkConfig),q(K,b,F)]).pipe((0,L.U)(([Q,dt,X,m,Y])=>Q&&dt&&X&&m&&Y))),z})),(0,p.of)(!0)).pipe((0,x.zg)(()=>K.readBlock(n)),(0,S.b)(F=>{P.setOverrides(F)}),(0,x.zg)(()=>B.getRemoteConfigOnLaunch()),(0,S.b)(()=>j.initialize()),(0,u.K)(F=>(tt.getLogger("shared/configuration.provider").error("Failed to fetch overrides",F),(0,p.of)(!0)))).toPromise()},multi:!0,deps:[g.XL,h.OA,c.s,C.E,O.ed,O.dF]},(0,g.W4)(e.V)];var M=t(19065)},19065:(Dt,ct,t)=>{"use strict";function e(i){var L;return(null===(L=i.product)||void 0===L?void 0:L.version)||i.build.version}t.d(ct,{s:()=>e})},33385:(Dt,ct,t)=>{"use strict";t.d(ct,{N0:()=>E,S5:()=>L,V:()=>p,V_:()=>u,dC:()=>x,e_:()=>h,mP:()=>w,qB:()=>e,uV:()=>O,xl:()=>S});const e={NETWORK_TROUBLESHOOT:"gfn_pc_net_help",GFN_PC_INFO:"gfn_pc_info",GFN_PC_HELP:"gfn_pc_help",TERMS_CONDITIONS:"gfn_pc_terms_of_use",ACCOUNT_TERMS:"nvidia_account_tos",OSS_LICENSES:"gfn_pc_oss",PRIVACY_POLICY:"privacy_policy",ACCOUNT_MANAGEMENT:"nvidia_account_management",ACCOUNT_MANAGEMENT_SSO:"nvidia_account_management_default",GFN_MEMBERSHIP_MANAGEMENT:"nvidia_account_management_gfn",SYS_REQUIREMENTS:"gfn_pc_sys_req",UDP_BUFFER_TIPS:"gfn_pc_net_help_udp_socket",GFN_PC_UNSUPPORTED_REGION:"gfn_pc_unsupported_region",GFN_PC_NET_HELP_FIREWALL:"gfn_pc_net_help_firewall",GFN_PC_NET_HELP_WIFI:"gfn_pc_net_help_wifi",GFN_PC_HELP_UPDATE:"gfn_pc_help_update",GFN_PC_HELP_MISSING_DECODER:"gfn_pc_help_missing_decoder",GFN_PC_MEMBERSHIP_JOIN:"gfn_pc_membership",GFN_SERVER_STATUS:"gfn_service_status",GFN_PC_REDEEM_ACTIVATION_CODE:"gfn_pc_redeem_activation_code",GFN_PC_ACCOUNT_NOT_ACTIVATED:"gfn_pc_account_not_activated",GFN_PC_WAITLIST:"gfn_pc_waitlist",DISCORD_TERMS:"discord_terms_of_service",GFN_PC_MEMBERSHIP_UPGRADE:"gfn_pc_membership_upgrade",GFN_PC_MEMBERSHIP_DAYPASS:"gfn_pc_membership_daypass",GFN_PC_CHECKOUT_DAYPASS:"gfn_pc_checkout_daypass",COOKIE_POLICY:"nvidia_cookie_policy",GFN_PC_KEYBOARD_TROUBLESHOOTING:"gfn_pc_keyboard_troubleshooting",STEAM_ACCOUNT_SETTINGS:"steam_account_settings",GFN_PC_REDEEM_MULTI_AFFILIATE:"gfn_pc_redeem_multi_affiliate",GFN_PC_DOWNLOAD:"gfn_pc_download",GFN_PC_RECOMMENDED_GAMEPADS:"gfn_pc_recommended_gamepads",GFN_PC_FAQ_IOS:"gfn_pc_faq_ios",EPIC_ACCOUNT_SETTINGS:"epic_account_settings",GFN_PC_HELP_KEYBOARD_GAMES_UNAVAILABLE:"gfn_pc_help_keyboard_games_unavailable",GFN_PC_BROWSER_PUSH_NOTIFICATION:"gfn_pc_help_browser_push_notification",GFN_PC_HELP_PASTE:"gfn_pc_help_paste",GFN_PC_HELP_CONNECTIONS:"gfn_pc_help_connections"};var L=function(V){return V.US="US",V}(L||{});const x="GeForce NOW";var S=function(V){return V.Default="Default",V.GamepadFriendly="GamepadFriendly",V.TouchFriendly="TouchFriendly",V}(S||{}),u=function(V){return V.Join="Join",V.Close="Close",V.Login="Login",V}(u||{}),h=function(V){return V.Continue="Continue",V.Cancel="Cancel",V}(h||{}),O=function(V){return V.Cancel="Cancel",V}(O||{});const E={RigReadyAndStreamerIdleTimeout:{type:"RIG_READY_AND_STREAMER_IDLE_TIMEOUT",src:"./assets/audio/rig_ready_streamer_timeout.m4a"}};var w=function(V){return V.cmsIdToMetadataMap="cmsIdToMetadataMap",V.parentIdToLaunchMetaDataMap="parentIdToLaunchMetaDataMap",V}(w||{});const p={width:470,height:264}},24642:(Dt,ct,t)=>{"use strict";t.d(ct,{N0:()=>e.N0,Rn:()=>i.R,S5:()=>e.S5,V:()=>e.V,V_:()=>e.V_,dC:()=>e.dC,e_:()=>e.e_,mP:()=>e.mP,qB:()=>e.qB,qq:()=>i.q,uV:()=>e.uV,xl:()=>e.xl});var e=t(33385),i=t(93963)},93963:(Dt,ct,t)=>{"use strict";t.d(ct,{R:()=>i,q:()=>e});var e=function(L){return L[L.NVB_AUTH_INVALID=-1]="NVB_AUTH_INVALID",L[L.NVB_AUTH_NONE=0]="NVB_AUTH_NONE",L[L.NVB_AUTH_OAUTH2_PINGFEDERATE=1]="NVB_AUTH_OAUTH2_PINGFEDERATE",L[L.NVB_AUTH_OAUTH2_GOOGLE=2]="NVB_AUTH_OAUTH2_GOOGLE",L[L.NVB_AUTH_OAUTH2_JANRAIN=3]="NVB_AUTH_OAUTH2_JANRAIN",L[L.NVB_AUTH_ACTIVE_DIRECTORY=4]="NVB_AUTH_ACTIVE_DIRECTORY",L[L.NVB_AUTH_CLIENT_CERTIFICATE=5]="NVB_AUTH_CLIENT_CERTIFICATE",L[L.NVB_AUTH_SESSION_ID=6]="NVB_AUTH_SESSION_ID",L[L.NVB_AUTH_JARVIS=7]="NVB_AUTH_JARVIS",L[L.NVB_AUTH_JWT=8]="NVB_AUTH_JWT",L[L.NVB_AUTH_JWT_GFN=9]="NVB_AUTH_JWT_GFN",L}(e||{}),i=function(L){return L[L.NCT_R_UNKNOWN=0]="NCT_R_UNKNOWN",L[L.NCT_R_SUCCESS=1]="NCT_R_SUCCESS",L[L.NCT_R_INVALID_PARAM=2]="NCT_R_INVALID_PARAM",L[L.NCT_R_SYN_FAILED=3]="NCT_R_SYN_FAILED",L[L.NCT_R_FIN_FAILED=4]="NCT_R_FIN_FAILED",L[L.NCT_R_AUTH_FAILED=5]="NCT_R_AUTH_FAILED",L[L.NCT_R_POST_FAILED=6]="NCT_R_POST_FAILED",L[L.NCT_R_TEST_IN_PROGRESS=7]="NCT_R_TEST_IN_PROGRESS",L[L.NCT_R_CANCELED=8]="NCT_R_CANCELED",L[L.NCT_R_CAPACITY_FULL=9]="NCT_R_CAPACITY_FULL",L[L.NCT_R_SESSION_EXIST=10]="NCT_R_SESSION_EXIST",L[L.NCT_R_INVALID_DATA=11]="NCT_R_INVALID_DATA",L[L.NCT_R_SETUP_FAILED=12]="NCT_R_SETUP_FAILED",L[L.NCT_R_RETRYABLE_POST_FAILURE=13]="NCT_R_RETRYABLE_POST_FAILURE",L[L.NCT_R_BLOCK_STREAM=14]="NCT_R_BLOCK_STREAM",L}(i||{})},72060:(Dt,ct,t)=>{"use strict";t.d(ct,{u:()=>u});var e=t(61699),i=t(26575),L=t(45356),f=t(11296);function x(g,h){if(1&g&&(e.ynx(0),e._UZ(1,"hr"),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.BQk()),2&g){const O=e.oxw(2);e.xp6(3),e.Oqu(O.interactiveElementsText)}}function S(g,h){if(1&g&&(e.TgZ(0,"div",4)(1,"div")(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",6),e._uU(5),e.qZA()(),e.YNc(6,x,4,1,"ng-container",7),e.qZA()),2&g){const O=e.oxw();e.xp6(3),e.Oqu(O.ratingClass),e.xp6(2),e.Oqu(O.contentDescriptorsText),e.xp6(1),e.Q6J("ngIf",O.showInteractiveElements)}}let u=(()=>{var g;class h{constructor(E){this.cdRef=E}ngOnInit(){this.updateFields()}ngOnChanges(){this.updateFields()}updateFields(){this.contentDescriptors&&this.contentDescriptors.length&&(this.contentDescriptorsText=this.contentDescriptors.join(", ")),this.interactiveElements&&this.interactiveElements.length?(this.interactiveElementsText=this.interactiveElements.join(", "),this.showInteractiveElements=!0):this.showInteractiveElements=!1}imageLoaded(){this.ratingImageLoaded=!0,this.cdRef.detectChanges()}}return(g=h).\u0275fac=function(E){return new(E||g)(e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["gfn-content-rating"]],inputs:{ratingLogoUrl:"ratingLogoUrl",ratingClass:"ratingClass",contentDescriptors:"contentDescriptors",interactiveElements:"interactiveElements"},features:[e.TTD],decls:4,vars:2,consts:[["fxLayout","row","fxFlex","auto","ngClass.iphone","small-screen",1,"content-rating-container"],[1,"rating-logo"],[3,"src","load"],["fxLayout","column","class","rating-details",4,"ngIf"],["fxLayout","column",1,"rating-details"],["dir","auto",1,"rating-title","font-sub2"],[1,"font-body3","font-color-tertiary","content-descriptors"],[4,"ngIf"],[1,"font-body3","interactive-elements"]],template:function(E,w){1&E&&(e.TgZ(0,"div",0)(1,"div",1)(2,"img",2),e.NdJ("load",function(){return w.imageLoaded()}),e.qZA()(),e.YNc(3,S,7,3,"div",3),e.qZA()),2&E&&(e.xp6(2),e.s9C("src",w.ratingLogoUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",w.ratingImageLoaded))},dependencies:[i.O5,L.xw,L.yH,f.r],styles:["hr[_ngcontent-%COMP%]{height:1px;background-color:#ffffff4d;border:none;width:100%;margin:0}.rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:68px;width:auto}.isLtr[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.content-descriptors[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:4px}.interactive-elements[_ngcontent-%COMP%]{padding-top:3px}.content-rating-container.small-screen[_ngcontent-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:53px}.new-10ft[_nghost-%COMP%]   .content-rating-container[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .content-rating-container[_ngcontent-%COMP%]{padding:0;background-image:unset}.new-10ft[_nghost-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:82px;width:auto}.new-10ft[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]   .rating-title[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]   .rating-title[_ngcontent-%COMP%]{line-height:1;padding-bottom:8px}.new-10ft[_nghost-%COMP%]   .content-descriptors[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .content-descriptors[_ngcontent-%COMP%]{padding:0 0 8px}.new-10ft[_nghost-%COMP%]   .interactive-elements[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .interactive-elements[_ngcontent-%COMP%]{padding-top:8px}"]}),h})()},23602:(Dt,ct,t)=>{"use strict";t.d(ct,{H:()=>p,V:()=>O});var e=t(33994),i=t(9681),L=t(87965),f=t(47422),x=t(47178),S=t(61699),u=t(13963),g=t(94076),h=t(77869);let O=(()=>{var V;class c{constructor(l,o,n){this.loggingService=l,this.lcarsService=o,this.logger=this.loggingService.getLogger("gfn/content-rating"),this.fetchRatingInfoStream=n.createStream(s=>this.fetchRatingInfo(s))}getCurrentRating(l,o){return this.fetchRatingInfoStream.get$(l).pipe((0,L.zg)(n=>{if((0,x.isNil)(n)||(0,x.isNil)(n.ratings))return(0,e._)(`ratingInfo is ${JSON.stringify(n)}`);const s=n.ratings.find(_=>_.categoryKey===o);return(0,x.isNil)(s)?(this.logger.info("no rating found for this rating category:",o),(0,i.of)(null)):(0,i.of)({rating:s,ratingSystem:n.label,displayInterval:n.displayInterval})}))}getContentDescriptors(l,o){return this.fetchRatingInfoStream.get$(l).pipe((0,L.zg)(n=>{if((0,x.isNil)(n)||(0,x.isEmpty)(n))return(0,e._)(`ratingInfo is ${JSON.stringify(n)}`);if((0,x.isNil)(n.contentDescriptors))return this.logger.info("no content descriptors field"),(0,i.of)([]);let s=n.contentDescriptors.filter(_=>(0,x.includes)(o,_.key));s=(0,x.sortBy)(s,["sortOrder"]);const R=s.map(_=>_.label);return(0,i.of)(R)}))}getInteractiveElements(l,o){return this.fetchRatingInfoStream.get$(l).pipe((0,L.zg)(n=>{if((0,x.isNil)(n)||(0,x.isEmpty)(n))return(0,e._)(`ratingInfo is ${JSON.stringify(n)}`);if((0,x.isNil)(n.interactiveElements))return this.logger.info("no interactive elements field"),(0,i.of)([]);let s=n.interactiveElements.filter(_=>(0,x.includes)(o,_.key));s=(0,x.sortBy)(s,["sortOrder"]);const R=s.map(_=>_.label);return(0,i.of)(R)}))}fetchRatingInfo(l,o){return this.lcarsService.getStaticAppData().pipe((0,f.U)(n=>(null==n?void 0:n.ratingDefinitions).find(R=>R.ratingSystem===l)))}}return(V=c).\u0275fac=function(l){return new(l||V)(S.LFG(u.ed),S.LFG(g.zc),S.LFG(h.YV))},V.\u0275prov=S.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})();var E=t(26575),w=t(32995);let p=(()=>{var V;class c{}return(V=c).\u0275fac=function(l){return new(l||V)},V.\u0275mod=S.oAB({type:V}),V.\u0275inj=S.cJS({imports:[E.ez,w.o9,u.it]}),c})()},15391:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>O});var e=t(9681),i=t(33994),L=t(64555),f=t(46939),x=t(87965),S=t(58175),u=t(47422),g=t(61699),h=t(13963);let O=(()=>{var E;class w{constructor(V,c){this.localeService=c,this.logger=V.getLogger("gfn/RedirectService")}getLocalizedDate(V,c=null){return V?this.localeService.localeChanged.pipe((0,f.q)(1),(0,x.zg)(C=>{const l=new Date(V);if(isNaN(l.getTime()))return(0,i._)("Invalid Date");const o=C.replace("_","-");c||(c={day:"numeric",month:"long",year:"numeric"});const n=`${l.toLocaleDateString(o,c)}`;return(0,e.of)(n)}),(0,S.K)(C=>(this.logger.info("Error while localizing date ",C),(0,i._)(C)))):(0,e.of)(null)}getLocalizedTime(V,c=null){return V?this.localeService.localeChanged.pipe((0,f.q)(1),(0,x.zg)(C=>{const l=new Date(V);if(isNaN(l.getTime()))return(0,i._)("Invalid Date");const o=C.replace("_","-");c||(c={hour:"numeric",minute:"2-digit"});const n=`${l.toLocaleTimeString(o,c)}`;return(0,e.of)(n)}),(0,S.K)(C=>(this.logger.info("Error while localizing time ",C),(0,i._)(C)))):(0,e.of)(null)}getLocalizedDateTime(V,c=null,C=null){return(0,L.aj)([this.getLocalizedDate(V,c),this.getLocalizedTime(V,C)]).pipe((0,f.q)(1),(0,u.U)(([l,o])=>({date:l,time:o})))}}return(E=w).\u0275fac=function(V){return new(V||E)(g.LFG(h.ed),g.LFG(h.OL))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})()},15476:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>l});var e=t(9681),i=t(47927),L=t(79530),f=t(46939),x=t(87965),S=t(15746),u=t(47422),g=t(58175),h=t(62712),O=t(64836),E=t(94386),w=t(89277),p=t(63069),V=t(43818),c=t(61699),C=t(13963);let l=(()=>{var o;class n{constructor(R,_){this.injector=R,this.useWindowedMode=!1,this._isDeeplinkGameLaunch=!1,this.logger=_.getLogger("deeplink-helper"),this.canHandleMap=new Map([[h.EM.PlayGame,{canHandle:this.canHandlePlayGame.bind(this)}],[h.EM.ViewGame,{canHandle:this.canHandleViewGame.bind(this)}]])}canHandleViewGame(R){const _=R.has(h.uE.GameId);return(0,e.of)({canHandle:_,isBadRequest:!_})}canHandlePlayGame(R){return R.has(h.uE.GameId)||R.has(h.uE.CmsId)?(this.unsupportedBrowserService=this.injector.get(p.rH),this.unsupportedBrowserService.shouldDisplayPWAGuidance$.pipe((0,f.q)(1),(0,x.zg)(b=>(0,e.of)(b?{canHandle:!1,isBadRequest:!1,redirectLink:O.fF.PwaWall}:{canHandle:!0,isBadRequest:!1})))):(0,e.of)({canHandle:!1,isBadRequest:!0})}setDeeplinkZoneOverride(R,_){const b=R.get(h.uE.Zone);if(b)try{var I;const q=this.injector.get(E.XS),a=this.injector.get(V.r),y=new URL(b).host;(null===(I=q.deeplinkOverrideZone)||void 0===I?void 0:I.address)!==y&&(q.deeplinkOverrideZone=this.getDeeplinkZoneOverride(b,_),a.refreshServerInfo())}catch(q){this.logger.error("Incorrect deeplink override zone",q)}}performHandlingCheck(R){return this.getFeatureToggle().pipe((0,x.zg)(_=>{const b=R.get(h.uE.Action)||h.iJ,I={canHandle:!1,isBadRequest:!0};if(!this.canHandleMap.has(b))return this.logger.error("No handler for specified action"),(0,e.of)(I);const q=h.g7[b];return q?_[q]?this.canHandleMap.get(b).canHandle(R).pipe((0,S.b)(M=>{M.canHandle||this.logger.error("Invalid set of parameters")})):(I.isBadRequest=!1,this.logger.error("Action not enabled in feature toggle"),(0,e.of)(I)):(this.logger.error("Feature toggle not configured for action"),(0,e.of)(I))}))}getDeeplinkZoneOverride(R,_){if(!(-1!==window.location.href.indexOf(O.nn.Deeplink)||_&&-1!==_.indexOf(O.nn.Deeplink)))return null;{let q=R||(0,O.cj)(h.uE.Zone);try{if(this.logger.info("Deeplink Zone Override: ",q),q){const a=new URL(q);if(q=a.host,"https:"!==a.protocol||!q.endsWith("nvidiagrid.net"))return null;{var b,I;const y=null===(b=q)||void 0===b?void 0:b.substring(0,null===(I=q)||void 0===I?void 0:I.indexOf("."));if(q)return{address:q,runNetworkTest:!0,name:y,isInternal:!0}}}}catch(a){return this.logger.error("Incorrect deeplink override zone",a),null}}}isDeeplinkScenario(){return!!window.location.hash.match(O.nn.Deeplink)}getFeatureToggle(){return this.fetchedFeatureToggleValue?(0,e.of)(this.fetchedFeatureToggleValue):this.fetchDeeplinkFeatureToggle()}isSpecialAffiliatePartner(R){return Object.values(h.dp).includes(R)}fetchDeeplinkFeatureToggle(){var R;if(this.configuration||(this.configuration=this.injector.get(L.V)),this.experienceControlService||(this.experienceControlService=this.injector.get(i.Q6)),this.experienceControlService)return this.experienceControlService.getCloudVariable(null===(R=this.configuration)||void 0===R?void 0:R.gxTarget.experiences.deeplinkSupportV2,void 0,{useCache:!0,useNetworkTimeoutForCacheFallback:!0},i.Z4.GxTargetGetCloudVariable,i.Qu.GxTargetGetDeeplinkSupport).pipe((0,u.U)(b=>(this.fetchedFeatureToggleValue=b.value,this.fetchedFeatureToggleValue)),(0,g.K)(b=>{var I;this.logger.error("Error while fetching deeplink feature toggle:",b);const a=null===(I=this.configuration)||void 0===I||null===(I=I.featureEnablement)||void 0===I?void 0:I.deeplinkSupportV2;return(0,e.of)(a||h.C6)}));{var _;const I=null===(_=this.configuration)||void 0===_||null===(_=_.featureEnablement)||void 0===_?void 0:_.deeplinkSupportV2;return(0,e.of)(I||h.C6)}}getDeeplinkPartnerData(){return this.deeplinkPartnerData}setDeeplinkPartnerData(R){this.deeplinkPartnerData=R}resetDeeplinkPartnerData(){this.deeplinkPartnerData=null}allowApplicationReload(){var R;return this.guestModeHelperService||(this.guestModeHelperService=this.injector.get(w.h)),!(null!==(R=this.guestModeHelperService)&&void 0!==R&&R.isGuestMode||this.getDeeplinkPartnerData())}getUpdatedPartnerId(R){return h.X3[R]||R}postStreamingCleanUp(){this.resetDeeplinkPartnerData(),this.windowedMode=!1,this.isDeeplinkGameLaunch=!1}get isDeeplinkGameLaunch(){return this._isDeeplinkGameLaunch}set isDeeplinkGameLaunch(R){this._isDeeplinkGameLaunch=R}set windowedMode(R){this.useWindowedMode=R}get windowedMode(){return this.useWindowedMode}}return(o=n).\u0275fac=function(R){return new(R||o)(c.LFG(c.zs3),c.LFG(C.ed))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},30088:(Dt,ct,t)=>{"use strict";var e;t.d(ct,{q6:()=>S,rV:()=>i,f1:()=>L,vA:()=>u});const i="",L="Other",f="UNKNOWN",x={store:f,label:i};var S=function(g){return g.AccountGamesSyncing="AccountGamesSyncing",g.AccountLinkingSso="AccountLinkingSso",g}(S||{});class u{static get StoresList(){return this.digitalStoresList||[]}static buildDigitalStoresMapFromList(){var h;null!==(h=this.digitalStoresList)&&void 0!==h&&h.length&&(this.digitalStoresMap={},this.digitalStoresList.forEach(O=>{this.digitalStoresMap[O.store]={store:O.store,label:O.label||i,keywords:O.keywords||[],smallImageUrl:O.smallImageUrl||"",largeImageUrl:O.largeImageUrl||"",sortOrder:O.sortOrder,accountLinkingMetadata:O.accountLinkingMetadata}}))}static get StoresMap(){return this.digitalStoresMap||{}}static getStoreInfoForAppstore(h){return this.StoresMap[h]||this.StoresMap[f]||x}static setAppStoresDefinitions(h){null!=h&&h.length&&(this.digitalStoresList=h),this.buildDigitalStoresMapFromList()}static setGenreDefinitions(h){h&&h.forEach(O=>this.genreDefinitionsMap.set(O.genre,O.label))}static sortVariants(h){h.length>1&&h.sort((O,E)=>{var w,p;return(null===(w=this.StoresMap[O.appStore])||void 0===w?void 0:w.sortOrder)-(null===(p=this.StoresMap[E.appStore])||void 0===p?void 0:p.sortOrder)})}}(e=u).digitalStoresMap=null,e.genreDefinitionsMap=new Map},74258:(Dt,ct,t)=>{"use strict";t.d(ct,{U:()=>c});var e=t(17401),i=t(32875),L=t(32484),f=t(13303),x=t(47178),u=t(61699);function g(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-join-now",5),u.NdJ("primaryButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.onPrimaryButtonClicked(s))})("loginButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.onLoginButtonClicked(s))})("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}function h(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-membership-update-progress",6),u.NdJ("primaryButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.onPrimaryButtonClicked(s))})("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}function O(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-membership-refresh-error",7),u.NdJ("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}function E(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-membership-not-updated",7),u.NdJ("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}function w(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-playtime-update-progress",6),u.NdJ("primaryButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.onPrimaryButtonClicked(s))})("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}function p(C,l){if(1&C){const o=u.EpF();u.TgZ(0,"gfn-playtime-not-updated",7),u.NdJ("closeButtonClicked",function(s){u.CHM(o);const R=u.oxw();return u.KtG(R.oncloseButtonClicked(s))}),u.qZA()}if(2&C){const o=u.oxw();u.Q6J("data",o.data)}}const V=function(C,l){return[C,l]};let c=(()=>{var C;class l{get closeResult(){return[this.isEcomPlanChanged,this.currentUIState]}constructor(n,s){this.dialogRef=n,this.data=s,this.currentUIState=i.l2.InitialState,this.ecomUIState=i.l2,this.destroy$=new L.xQ,this.lastEntitlement=null,this.isEcomPlanChanged=!1,this.membershipUpdateProgressPrimaryButtonClicked=!1}ngOnInit(){this.currentUIState=this.data.ecomUIState,this.initEcommerceSub()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onPrimaryButtonClicked(n){if(this.currentUIState===i.l2.InitialState)this.goToNextEcomDlgUIState(i.l2.MembershipUpdateProgress);else if(this.currentUIState===i.l2.MembershipUpdateProgress||this.currentUIState===i.l2.MembershipUpdatetimeProgress){if(this.data.useCase===i.vq.GaaSFree1HourExceeded||this.data.useCase===i.vq.GaaSFreeSampleAlreadyUsed||this.data.useCase===i.vq.GaaSUnsupportedFreeTitle)return this.goToNextEcomDlgUIState(i.l2.ExitedToLogin),this.closeDialog(),void this.data.buttonClickCallback(i.l2.ExitedToLogin);this.membershipUpdateProgressPrimaryButtonClicked=!0}}onLoginButtonClicked(n){this.currentUIState===i.l2.InitialState&&(this.goToNextEcomDlgUIState(i.l2.ExitedToLogin),this.closeDialog())}oncloseButtonClicked(n){this.closeDialog()}initEcommerceSub(){this.data.getUserMembership$.pipe((0,f.R)(this.destroy$)).subscribe(n=>{const s=(0,x.get)(n,"subscription.productSku"),R=(0,x.get)(n,"subscription.remainingTimeInMinutes");null!==this.lastEntitlement?(this.isEcomPlanChanged=this.isPlanChanged(s),this.isEcomPlanChanged||this.currentUIState===i.l2.MembershipUpdatetimeProgress&&this.isPlaytimeChanged(R)?this.closeDialog():this.membershipUpdateProgressPrimaryButtonClicked&&this.goToErrorOrRefreshState(n),this.lastEntitlement={productSku:s,remainingTimeInMinutes:R}):this.lastEntitlement={productSku:s,remainingTimeInMinutes:R}})}isPlanChanged(n){return this.lastEntitlement.productSku!==n}isPlaytimeChanged(n){return this.lastEntitlement.remainingTimeInMinutes<n}goToErrorOrRefreshState(n){this.goToNextEcomDlgUIState(n.membershipStatus===i.Tn.ServerError||n.membershipStatus===i.Tn.UnKnown?i.l2.MembershipRefreshError:this.currentUIState===i.l2.MembershipUpdatetimeProgress?i.l2.MembershipTimeNotUpdated:i.l2.MembershipNotUpdated)}closeDialog(){this.dialogRef.close(this.closeResult)}goToNextEcomDlgUIState(n){this.currentUIState=n}}return(C=l).\u0275fac=function(n){return new(n||C)(u.Y36(e.so),u.Y36(e.WI))},C.\u0275cmp=u.Xpm({type:C,selectors:[["gfn-ecom-dialog"]],decls:9,vars:12,consts:[["nvBackToCloseModal","","nvTrapFocus","",3,"ngClass","backToCloseResult"],["fxFlexFill","","fxLayout","column","fxFlex","grow",3,"ngSwitch"],[3,"data","primaryButtonClicked","loginButtonClicked","closeButtonClicked",4,"ngSwitchCase"],[3,"data","primaryButtonClicked","closeButtonClicked",4,"ngSwitchCase"],[3,"data","closeButtonClicked",4,"ngSwitchCase"],[3,"data","primaryButtonClicked","loginButtonClicked","closeButtonClicked"],[3,"data","primaryButtonClicked","closeButtonClicked"],[3,"data","closeButtonClicked"]],template:function(n,s){1&n&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,g,1,1,"gfn-join-now",2),u.YNc(3,h,1,1,"gfn-membership-update-progress",3),u.YNc(4,O,1,1,"gfn-membership-refresh-error",4),u.YNc(5,E,1,1,"gfn-membership-not-updated",4),u.YNc(6,w,1,1,"gfn-playtime-update-progress",3),u.YNc(7,p,1,1,"gfn-playtime-not-updated",4),u._UZ(8,"div"),u.qZA()()),2&n&&(u.Q6J("ngClass",u.WLB(9,V,s.data.isStreamerApp?"joinnow-component-container-streamer":"joinnow-component-container-mall",s.data.isCompactDialog?"joinnow-compact-dialog-container":""))("backToCloseResult",s.closeResult),u.xp6(1),u.Q6J("ngSwitch",s.currentUIState),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.InitialState),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.MembershipUpdateProgress),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.MembershipRefreshError),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.MembershipNotUpdated),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.MembershipUpdatetimeProgress),u.xp6(1),u.Q6J("ngSwitchCase",s.ecomUIState.MembershipTimeNotUpdated))},styles:[":root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.joinnow-component-container-mall,.joinnow-component-container-streamer{width:470px;height:668px}.joinnow-component-container-mall.joinnow-compact-dialog-container,.joinnow-component-container-streamer.joinnow-compact-dialog-container{height:100%}.joinnow-component-container-mall,.joinnow-component-container-streamer,.mat-mdc-dialog-container{border-radius:0;overflow:hidden;transition:height .5s;background-color:#1f2224;padding:0}.joinnow-component-container-streamer{height:618px}@media (max-height: 668px){.joinnow-component-container-mall,.mat-mdc-dialog-container{height:100%}.main-content-mall{height:550px}.main-content-mall .dialog-content{height:136px!important}}@media (max-width: 959.98px) and (orientation: landscape){.joinnow-component-container-mall,.joinnow-component-container-streamer{width:560px;height:fit-content}.mat-mdc-dialog-container:has(gfn-ecom-dialog){height:fit-content}}@media (max-width: 599.98px) and (orientation: portrait),screen and (max-width: 568px) and (max-height: 320px) and (orientation: landscape){.joinnow-component-container-mall,.joinnow-component-container-streamer{width:calc(100vw - 32px);height:fit-content}.mat-mdc-dialog-container:has(gfn-ecom-dialog){height:fit-content}}.tv-view .joinnow-component-container-mall,.tv-view .joinnow-component-container-streamer{width:840px;height:925px}\n"],encapsulation:2}),l})()},75435:(Dt,ct,t)=>{"use strict";t.d(ct,{I:()=>Y});var e=t(61699),i=t(47178),f=t(32484),x=t(13303),S=t(65343),u=t(32875),g=t(46939),h=t(89129),O=t(78182),E=t(13963),w=t(87815),p=t(91467),V=t(99709),c=t(45356),C=t(47520),l=t(17401),o=t(86515),n=t(78654),s=t(26575),R=t(75889),_=t(87251),b=t(31546),I=t(38616),q=t(422),a=t(81711),y=t(59397),M=t(64915),P=t(43559);function K(D,N){if(1&D){const Z=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(Z);const A=e.oxw(2);return e.KtG(A.closeDialog())}),e.TgZ(2,"mat-icon",16),e._uU(3,"close"),e.qZA()()()}}function B(D,N){if(1&D&&(e.TgZ(0,"div",10)(1,"div",11)(2,"h1",12),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,K,4,0,"div",13),e.qZA()),2&D){const Z=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"common.gfn")),e.xp6(2),e.Q6J("ngIf",!Z.isGaaS&&Z.closeButtonVisible)}}function j(D,N){1&D&&e._UZ(0,"img",17)}function tt(D,N){1&D&&e._UZ(0,"img",18)}function ot(D,N){if(1&D){const Z=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(Z);const A=e.oxw(2);return e.KtG(A.closeDialog())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&D){const Z=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,Z.notNowButtonText)," ")}}function F(D,N){if(1&D){const Z=e.EpF();e.TgZ(0,"span")(1,"button",23),e.NdJ("click",function(){e.CHM(Z);const A=e.oxw(2);return e.KtG(A.joinNowClicked())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&D){const Z=e.oxw(2);e.xp6(1),e.Q6J("isVisible",Z.showLoadingOnJoinNow),e.xp6(1),e.hij(" ",e.lcZ(3,2,Z.buttonText)," ")}}function U(D,N){if(1&D&&(e.TgZ(0,"div",19),e.YNc(1,ot,3,3,"button",20),e.YNc(2,F,4,4,"span",21),e.qZA()),2&D){const Z=e.oxw();e.xp6(1),e.Q6J("ngIf",!Z.isGaaS||Z.isUpgrade),e.xp6(1),e.Q6J("ngIf",Z.canHardUpsell)}}function z(D,N){if(1&D&&(e.TgZ(0,"div",29)(1,"span",30),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&D){const Z=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,Z.upsellMessage))}}function Q(D,N){if(1&D){const Z=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(Z);const A=e.oxw(2);return e.KtG(A.joinNowClicked())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&D){const Z=e.oxw(2);e.Q6J("isVisible",Z.showLoadingOnJoinNow),e.xp6(1),e.hij(" ",e.lcZ(2,2,Z.buttonText)," ")}}function dt(D,N){if(1&D){const Z=e.EpF();e.TgZ(0,"div",24),e.YNc(1,z,4,3,"div",25),e.TgZ(2,"div",26)(3,"button",27),e.NdJ("click",function(){e.CHM(Z);const A=e.oxw();return e.KtG(A.closeDialog())}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Q,3,4,"button",28),e.qZA()()}if(2&D){const Z=e.oxw();e.xp6(1),e.Q6J("ngIf",Z.upsellMessage),e.xp6(3),e.hij(" ",e.lcZ(5,3,Z.queueLimitExceededCloseButtonText)," "),e.xp6(2),e.Q6J("ngIf",Z.showUpgradeButtonForQueueLimitExceeded)}}const X=function(D){return[D]},m=function(D){return{accountManagementLink:D}};let Y=(()=>{var D;class N{constructor(W,A,d,H,$,J){var st;this.telemetryUtilService=d,this.spatialNavigationService=H,this.ecomService=$,this.redirectService=J,this.primaryButtonClicked=new e.vpe,this.closeButtonClicked=new e.vpe,this.loginButtonClicked=new e.vpe,this.notNowButtonText="common.notNow",this.showUpgradeButtonForQueueLimitExceeded=!0,this.queueLimitExceededCloseButtonText="common.close",this.queueLimitReached=!1,this.showLoadingOnJoinNow=!1,this.isGaaS=!1,this.isUpgrade=!1,this.canHardUpsell=!0,this.closeButtonVisible=!0,this.destroy$=new f.xQ,this.logger=W.getLogger("JoinNowComponent"),this.closeButtonVisible=!(null!=A&&null!==(st=A.featureEnablement)&&void 0!==st&&st.tvMode)}ngOnInit(){switch((this.data.useCase===u.vq.GaaSFree1HourExceeded||this.data.useCase===u.vq.GaaSFreeSampleAlreadyUsed||this.data.useCase===u.vq.GaaSUnsupportedFreeTitle||this.data.useCase===u.vq.GaaSFreeUserCanUpgrade)&&(this.isGaaS=!0,this.isUpgrade=this.data.useCase===u.vq.GaaSFreeUserCanUpgrade),this.canHardUpsell=this.ecomService.canHardUpsell(),this.getDialogText(this.data),this.data.useCase){case u.vq.MaxSessionLengthExceeded:this.sendUpsellTelemetry(S.N3X.StreamerPostSessionUpsell);break;case u.vq.GaaSFreeUserCanUpgrade:this.sendUpsellTelemetry(S.N3X.StreamerPostSessionFreeGaaSUpsell);break;case u.vq.GaaSFree1HourExceeded:this.sendUpsellTelemetry(S.N3X.StreamerPostSessionAnonGaaSUpsell);break;case u.vq.GaaSFreeSampleAlreadyUsed:this.sendUpsellTelemetry(S.N3X.StreamerUsedFreeUpsell);break;case u.vq.GaaSUnsupportedFreeTitle:this.sendUpsellTelemetry(S.N3X.StreamerNoFreeUpsell)}this.accountManagementLinkShortUrl=h.hD[h.hE.GfnAccountManagement],this.redirectService.getRedirectUrl(h.hE.GfnAccountManagement).pipe((0,g.q)(1),(0,x.R)(this.destroy$)).subscribe(W=>{this.accountManagementLink=`href="${W}" class='font-body2-link membership-options-link'`})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}sendUpsellTelemetry(W){this.telemetryUtilService.sendUserSessionEvent(S.Vwu.LaunchGame,W,0,"",this.data.gameLaunchScreen)}sendUIActionTelemetry(W){let A;switch(this.data.useCase){case u.vq.MaxSessionLengthExceeded:A=S.c8x.StreamerPostSessionUpsell;break;case u.vq.QueueLimitExceeded:A=S.c8x.StreamerQueueUpsell;break;case u.vq.GaaSFree1HourExceeded:A=S.c8x.StreamerPostSessionAnonGaaSUpsell;break;case u.vq.GaaSUnsupportedFreeTitle:A=S.c8x.StreamerNoFreeUpsell;break;case u.vq.GaaSFreeSampleAlreadyUsed:A=S.c8x.StreamerUsedFreeUpsell;break;case u.vq.GaaSFreeUserCanUpgrade:A=S.c8x.StreamerPostSessionFreeGaaSUpsell;break;default:A=S.c8x.StreamerPostSessionUpsell}this.telemetryUtilService.sendUiActionEvent(W,A)}ngAfterViewInit(){const W=document.getElementsByClassName("join-now-login-link"),A=(null==W?void 0:W.length)>0?W[0]:void 0;A&&this.spatialNavigationService.onClick(A).pipe((0,x.R)(this.destroy$)).subscribe(d=>{d&&(this.loginButtonClicked.emit(),this.data.buttonClickCallback(u.l2.ExitedToLogin),this.sendUIActionTelemetry(S.VHB.Login))})}closeDialog(){this.closeButtonClicked.emit(),this.sendUIActionTelemetry(S.VHB.Close)}joinNowClicked(){this.logger.info("User clicked on Join button."),this.data.buttonClickCallback(u.l2.InitialState),this.showLoadingOnJoinNow=!0,setTimeout(()=>{this.primaryButtonClicked.emit(),this.showLoadingOnJoinNow=!1},u.qM),this.sendUIActionTelemetry(S.VHB.Join)}getDialogText(W){if(this.logger.info("Dialog data received from caller: ",W),(0,i.isNil)(W))this.logger.error("recieved null data in join now component");else{switch(this.data.useCase){case u.vq.MaxSessionLengthExceeded:this.dialogTitle="ecommerce.upgradeDialog.title",this.description="ecommerce.upgradeDialog.description",this.canHardUpsell?(this.buttonText="ecommerce.upgrade",this.notNowButtonText="common.notNow"):this.notNowButtonText="common.close";break;case u.vq.QueueLimitExceeded:this.queueLimitReached=!0,W.getUserMembership$.pipe((0,g.q)(1)).subscribe(A=>{this.canHardUpsell&&this.ecomService.featureUpsellAvailable(O.$c.LOWER_SESSION_QUEUE_WAIT_TIME)?(this.description="ecommerce.queueLimitReached.upgradable",this.upsellMessage="ecommerce.upsellPromptForBetterQueuePositionA",this.buttonText="ecommerce.upgrade",this.queueLimitExceededCloseButtonText="common.notNow"):(this.description="ecommerce.queueLimitReached.notUpgradable",this.showUpgradeButtonForQueueLimitExceeded=!1)});break;case u.vq.GaaSFree1HourExceeded:this.dialogTitle="ecommerce.joinNowDialog.gaaSFree1HourExceededTitle",this.description="ecommerce.joinNowDialog.gaaSFree1HourExceededDescription",this.buttonText="common.joinToday";break;case u.vq.GaaSUnsupportedFreeTitle:this.dialogTitle="common.joinTodayToPlay",this.description="ecommerce.joinNowDialog.gaaSUnsupportedFreeDescription",this.buttonText="common.joinToday";break;case u.vq.GaaSFreeSampleAlreadyUsed:this.dialogTitle="common.joinTodayToPlay",this.description="ecommerce.joinNowDialog.gaaSFree1HourExceededDescription",this.buttonText="common.joinToday";break;case u.vq.GaaSFreeUserCanUpgrade:return this.dialogTitle="ecommerce.joinNowDialog.gaaSFreeUserCanUpgradeTitle",this.description="ecommerce.joinNowDialog.gaaSFreeUserCanUpgradeDescription",this.buttonText="ecommerce.upgrade",void(this.notNowButtonText="common.notNow");default:this.canHardUpsell?(this.dialogTitle="common.almostReadyToPlay",this.description="ecommerce.joinNowDialog.selectMembershipDescription",this.buttonText="common.selectMembership",this.notNowButtonText="common.notNow"):(this.dialogTitle="common.membershipRequired",this.description="ecommerce.joinNowDialogSoftUpsell.selectMembershipDescription",this.notNowButtonText="common.close")}this.loginButtonText="common.login"}}}return(D=N).\u0275fac=function(W){return new(W||D)(e.Y36(E.ed),e.Y36(w.VK),e.Y36(S.wU6),e.Y36(p.jr),e.Y36(V.B),e.Y36(h.VH))},D.\u0275cmp=e.Xpm({type:D,selectors:[["gfn-join-now"]],inputs:{data:"data"},outputs:{primaryButtonClicked:"primaryButtonClicked",closeButtonClicked:"closeButtonClicked",loginButtonClicked:"loginButtonClicked"},decls:14,vars:23,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GaaSUpsellBanner.jpg",4,"ngIf"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[3,"ngClass"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML","shortUrl"],["fxFlex","none","class","dialog-button","fxLayout","row","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","none","fxLayout","column","class","upsell-pane",4,"ngIf"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GaaSUpsellBanner.jpg",1,"dialog-art"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","class","font-button2 not-now-button",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"font-button2","not-now-button",3,"click"],["mat-raised-button","","nvProgressCircular","","nvAutoFocus","",1,"font-button2",3,"isVisible","click"],["fxFlex","none","fxLayout","column",1,"upsell-pane"],["fxFlex","","fxLayout","column","fxLayoutAlign","start center","class","upsell-pane-message",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","end end","fxLayoutGap","8px",1,"upgrade-container"],["mat-button","",1,"font-button2",3,"click"],["class","font-button2","mat-raised-button","","color","accent","nvProgressCircular","","nvAutoFocus","",3,"isVisible","click",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutAlign","start center",1,"upsell-pane-message"],[1,"font-sub2"],["mat-raised-button","","color","accent","nvProgressCircular","","nvAutoFocus","",1,"font-button2",3,"isVisible","click"]],template:function(W,A){1&W&&(e.TgZ(0,"div",0),e.YNc(1,B,6,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,j,1,0,"img",3),e.YNc(4,tt,1,0,"img",4),e.TgZ(5,"div",5)(6,"h2",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"p",7),e.ALo(10,"trustAsHtml"),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,U,3,2,"div",8),e.YNc(13,dt,7,5,"div",9),e.qZA()),2&W&&(e.Q6J("ngClass",e.VKq(17,X,A.data.isStreamerApp?"main-content-streamer":"main-content-mall")),e.xp6(1),e.Q6J("ngIf",!A.data.isStreamerApp),e.xp6(2),e.Q6J("ngIf",A.isGaaS),e.xp6(1),e.Q6J("ngIf",!A.isGaaS),e.xp6(1),e.Q6J("ngClass",e.VKq(19,X,A.queueLimitReached?"dialog-content-queue-limit":"dialog-content")),e.xp6(2),e.Oqu(e.lcZ(8,10,A.dialogTitle)),e.xp6(2),e.Q6J("innerHTML",e.lcZ(10,12,e.xi3(11,14,A.description,e.VKq(21,m,A.accountManagementLink))),e.oJD)("shortUrl",A.accountManagementLinkShortUrl),e.xp6(3),e.Q6J("ngIf",!A.queueLimitReached),e.xp6(1),e.Q6J("ngIf",A.queueLimitReached))},dependencies:[c.xw,c.SQ,c.Wh,c.s9,c.yH,C.oO,l.uh,o.Hw,n.eB,s.mk,s.O5,R.N,_.E,b.h,I.p,q.W,a.VP,y.D,M.W,P.X$],styles:[":root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer,.main-content-mall{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer .custom-title-bar,.main-content-mall .custom-title-bar{width:470px;height:50px}:host-context(.isLtr) .main-content-streamer .custom-title-bar,:host-context(.isLtr) .main-content-mall .custom-title-bar{padding-left:24px}html[dir=ltr] .main-content-streamer .custom-title-bar,html[dir=ltr] .main-content-mall .custom-title-bar{--dummy1: 0;padding-left:24px}:host-context(.isRtl) .main-content-streamer .custom-title-bar,:host-context(.isRtl) .main-content-mall .custom-title-bar{padding-right:24px}html[dir=rtl] .main-content-streamer .custom-title-bar,html[dir=rtl] .main-content-mall .custom-title-bar{--dummy1: 0;padding-right:24px}:host-context(.isLtr) .main-content-streamer .custom-title-bar,:host-context(.isLtr) .main-content-mall .custom-title-bar{padding-right:24px}html[dir=ltr] .main-content-streamer .custom-title-bar,html[dir=ltr] .main-content-mall .custom-title-bar{--dummy2: 0;padding-right:24px}:host-context(.isRtl) .main-content-streamer .custom-title-bar,:host-context(.isRtl) .main-content-mall .custom-title-bar{padding-left:24px}html[dir=rtl] .main-content-streamer .custom-title-bar,html[dir=rtl] .main-content-mall .custom-title-bar{--dummy2: 0;padding-left:24px}.main-content-streamer .custom-title-bar .mat-mdc-dialog-title,.main-content-mall .custom-title-bar .mat-mdc-dialog-title{margin-bottom:0}.main-content-streamer .dialog-art,.main-content-mall .dialog-art{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer .dialog-content,.main-content-mall .dialog-content{padding:24px;height:254px}.main-content-streamer .dialog-content-queue-limit,.main-content-mall .dialog-content-queue-limit{padding:24px;height:91px}.main-content-streamer .dialog-content-queue-limit>p,.main-content-mall .dialog-content-queue-limit>p{text-align:center;margin:4px 0 0}.main-content-streamer .dialog-content-queue-limit>h2,.main-content-mall .dialog-content-queue-limit>h2{display:none}.main-content-streamer .dialog-content>h2,.main-content-mall .dialog-content>h2{margin-top:0}.main-content-streamer .dialog-button,.main-content-mall .dialog-button{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}:host-context(.isLtr) .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) .main-content-mall .dialog-button button:last-child{margin-left:8px}html[dir=ltr] .main-content-streamer .dialog-button button:last-child,html[dir=ltr] .main-content-mall .dialog-button button:last-child{--dummy3: 0;margin-left:8px}:host-context(.isRtl) .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) .main-content-mall .dialog-button button:last-child{margin-right:8px}html[dir=rtl] .main-content-streamer .dialog-button button:last-child,html[dir=rtl] .main-content-mall .dialog-button button:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer .upsell-pane,.main-content-mall .upsell-pane{height:215px}.main-content-streamer .upsell-pane-message,.main-content-mall .upsell-pane-message{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer .upgrade-container,.main-content-mall .upgrade-container{margin:8px}.compact-dialog-wrapper,.compact-dialog-wrapper .dialog-content{height:100%}@media (max-width: 469px){.main-content-streamer,.main-content-mall{width:100vw}.main-content-streamer .custom-title-bar,.main-content-mall .custom-title-bar{width:unset}.main-content-streamer .dialog-art,.main-content-mall .dialog-art{width:100vw;height:auto}.main-content-streamer .dialog-content,.main-content-mall .dialog-content,.main-content-streamer .dialog-button,.main-content-mall .dialog-button{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall .dialog-art,.main-content-streamer .dialog-art{display:none}.main-content-mall .custom-title-bar,.main-content-streamer .custom-title-bar{display:none!important}.main-content-mall .dialog-content,.main-content-streamer .dialog-content{height:fit-content!important}}.tv-view .main-content-mall,.tv-view .main-content-streamer,:host-context(.tv-view) .main-content-mall,:host-context(.tv-view) .main-content-streamer{width:840px;height:925px}.tv-view .main-content-mall .custom-title-bar,.tv-view .main-content-streamer .custom-title-bar,:host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.tv-view) .main-content-streamer .custom-title-bar{width:100%;height:88px}:host-context(.isLtr) .tv-view .main-content-mall .custom-title-bar,:host-context(.isLtr) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-left:32px}html[dir=ltr] .tv-view .main-content-mall .custom-title-bar,html[dir=ltr] .tv-view .main-content-streamer .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy1: 0;padding-left:32px}:host-context(.isRtl) .tv-view .main-content-mall .custom-title-bar,:host-context(.isRtl) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-right:32px}html[dir=rtl] .tv-view .main-content-mall .custom-title-bar,html[dir=rtl] .tv-view .main-content-streamer .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy1: 0;padding-right:32px}:host-context(.isLtr) .tv-view .main-content-mall .custom-title-bar,:host-context(.isLtr) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-right:32px}html[dir=ltr] .tv-view .main-content-mall .custom-title-bar,html[dir=ltr] .tv-view .main-content-streamer .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy2: 0;padding-right:32px}:host-context(.isRtl) .tv-view .main-content-mall .custom-title-bar,:host-context(.isRtl) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-left:32px}html[dir=rtl] .tv-view .main-content-mall .custom-title-bar,html[dir=rtl] .tv-view .main-content-streamer .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy2: 0;padding-left:32px}.tv-view .main-content-mall .dialog-art,.tv-view .main-content-streamer .dialog-art,:host-context(.tv-view) .main-content-mall .dialog-art,:host-context(.tv-view) .main-content-streamer .dialog-art{width:100%;height:auto}.tv-view .main-content-mall .dialog-content,.tv-view .main-content-streamer .dialog-content,:host-context(.tv-view) .main-content-mall .dialog-content,:host-context(.tv-view) .main-content-streamer .dialog-content{padding:32px;height:auto}.tv-view .main-content-mall .dialog-button,.tv-view .main-content-streamer .dialog-button,:host-context(.tv-view) .main-content-mall .dialog-button,:host-context(.tv-view) .main-content-streamer .dialog-button{margin:8px 32px}:host-context(.isLtr) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-left:32px}html[dir=ltr] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=ltr] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy3: 0;margin-left:32px}:host-context(.isRtl) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-right:32px}html[dir=rtl] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=rtl] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy3: 0;margin-right:32px}:host-context(.isLtr) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-right:0}html[dir=ltr] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=ltr] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy4: 0;margin-right:0}:host-context(.isRtl) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-left:0}html[dir=rtl] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=rtl] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy4: 0;margin-left:0}.tv-view .main-content-mall div.dialog-content,:host-context(.tv-view) .main-content-mall div.dialog-content{height:200px}.tv-view .main-content-streamer div.dialog-content,:host-context(.tv-view) .main-content-streamer div.dialog-content{height:288px}\n"],encapsulation:2}),N})()},32875:(Dt,ct,t)=>{"use strict";t.d(ct,{D7:()=>g,MH:()=>E,NV:()=>L,Tn:()=>S,Vv:()=>u,X9:()=>x,il:()=>w,l2:()=>h,qM:()=>e,u0:()=>i,vq:()=>O,w1:()=>f});const e=2e3;var i=function(p){return p.Windows="Windows",p.Mac="Mac",p}(i||{});const L={name:"gfn"};var f=function(p){return p.Development="dev",p.Staging="stage",p.Preview="preview",p.Production="prod",p}(f||{}),x=function(p){return p[p.Badge=28]="Badge",p}(x||{}),S=function(p){return p[p.UnKnown=0]="UnKnown",p[p.ServerError=1]="ServerError",p[p.LoggedOut=2]="LoggedOut",p[p.UnEntitled=3]="UnEntitled",p[p.Entitled=4]="Entitled",p}(S||{});const u={eComFeatureEnabled:!1,membershipStatus:S.UnKnown,subscription:null,product:null,affiliateStatus:null,unentitledUserData:null};var g=function(p){return p.SettingsMembershipPanel="SETTINGS_MEMBERSHIP_PANEL",p.EntitlementErrorComponent="ENTITLEMENT_ERROR_COMPONENT",p.LoadingComponent="LOADING_COMPONENT",p.ToolbarComponent="TOOLBAR_COMPONENT",p.MembershipUpdateProgressEcomUIState="MEMBERSHIP_UPDATE_PROGRESS_ECOM_UI_STATE",p.MembershipNotUpdatedEcomUIState="MEMBERSHIP_NOT_UPDATED_ECOM_UI_STATE",p.SettingsStreamingProfilePanel="SETTINGS_STREAMING_PROFILE_PANEL",p.SettingsInGameGraphicsPanel="SETTINGS_IN_GAME_GRAPHICS_SETTINGS_PANEL",p.CheckoutUpdateProgressEcomUIState="CHECKOUT_UPDATE_PROGRESS_ECOM_UI_STATE",p.CheckoutNotUpdatedEcomUIState="CHECKOUT_NOT_UPDATED_ECOM_UI_STATE",p.StreamingError="STREAMING_ERROR",p.MembershipTimeNotUpdatedEcomUIState="MEMBERSHIP_TIME_NOT_UPDATED_ECOM_UI_STATE",p.TimeCappedSessionLimitReachedComponent="TIME_CAPPED_SESSION_LIMIT_REACHED_COMPONENT",p.ViewOrAddPlaytimeBannerComponent="TIME_CAPPED_VIEW_ADD_PLAYTIME_BANNER",p}(g||{}),h=function(p){return p[p.InitialState=0]="InitialState",p[p.MembershipUpdateProgress=1]="MembershipUpdateProgress",p[p.MembershipRefreshError=2]="MembershipRefreshError",p[p.MembershipNotUpdated=3]="MembershipNotUpdated",p[p.ExitedToLogin=4]="ExitedToLogin",p[p.CheckoutUpdateProgress=5]="CheckoutUpdateProgress",p[p.CheckoutRefreshError=6]="CheckoutRefreshError",p[p.CheckoutNotUpdated=7]="CheckoutNotUpdated",p[p.MembershipUpdatetimeProgress=8]="MembershipUpdatetimeProgress",p[p.MembershipTimeNotUpdated=9]="MembershipTimeNotUpdated",p[p.AddDayPassMembershipProgress=10]="AddDayPassMembershipProgress",p}(h||{}),O=function(p){return p[p.BridgeState=0]="BridgeState",p[p.Join=1]="Join",p[p.MaxSessionLengthExceeded=2]="MaxSessionLengthExceeded",p[p.QueueLimitExceeded=3]="QueueLimitExceeded",p[p.GaaSFree1HourExceeded=4]="GaaSFree1HourExceeded",p[p.GaaSUnsupportedFreeTitle=5]="GaaSUnsupportedFreeTitle",p[p.GaaSFreeSampleAlreadyUsed=6]="GaaSFreeSampleAlreadyUsed",p[p.GaaSFreeUserCanUpgrade=7]="GaaSFreeUserCanUpgrade",p}(O||{});const E=6e4,w=6e4},99484:(Dt,ct,t)=>{"use strict";t.d(ct,{BH:()=>i.B,D7:()=>L.D7,Tn:()=>L.Tn,Vv:()=>L.Vv,X9:()=>L.X9,l2:()=>L.l2,qM:()=>L.qM,u0:()=>L.u0,vq:()=>L.vq}),t(75435);var i=t(99709),L=t(32875)},99709:(Dt,ct,t)=>{"use strict";t.d(ct,{B:()=>st});var e=t(49481),i=t(70462),L=t(32484),f=t(9681),x=t(6776),S=t(38435),u=t(64555),g=t(38096),h=t(85046),O=t(87965),E=t(46939),w=t(99901),p=t(85581),V=t(58175),c=t(680),C=t(90786),l=t(66407),o=t(47422),n=t(1062),s=t(36520),R=t(15746),_=t(45083),b=t(47178),q=t(13963),a=t(32875),y=t(65343),M=t(78182),P=t(21120),K=t(74258),B=t(88207),j=t(89129),tt=t(91467),ot=t(43444),F=t(64794),U=t(78943),z=t(61699),Q=t(77299),dt=t(89857),X=t(43818),m=t(17401),Y=t(27947),D=t(53576),N=t(7749),Z=t(19165),W=t(87815);function A(lt,gt){return lt.isLimitedStateAlert===gt.isLimitedStateAlert&&lt.isLowStateAlert===gt.isLowStateAlert}const d={header:"ecommerce.membershipUpdateProgressDialog.title",description:"ecommerce.membershipUpdateProgressDialog.compactDialogDescription",tvDescription:"ecommerce.membershipUpdateProgressDialog.compactDialogTvDescription",primaryButton:{text:"common.continue",accentColor:!0},secondaryButton:{text:"common.close"}},H={header:"ecommerce.membershipNotUpdatedErrorDialog.title",description:"ecommerce.membershipNotUpdatedErrorDialog.description",primaryButton:{text:"common.close"}},J={header:"ecommerce.playtimeNotUpdatedDialog.title",description:"ecommerce.playtimeNotUpdatedDialog.description",primaryButton:{text:"common.close"}};let st=(()=>{var lt;class gt{constructor(k,pt,yt,Xt,It,Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe,Qt,Pt,Ut,Tt){var it,Mt,zt;this.localeService=k,this.nesEntitlementService=pt,this.systemInfoService=yt,this.telemetryService=Xt,this.gridService=It,this.telemetryUtilService=Nt,this.dialog=le,this.router=te,this.bridgeService=bt,this.gfnSdkService=Vt,this.idmService=ut,this.offDeviceLinkService=re,this.refreshUiService=Kt,this.remoteConfigService=jt,this.appConfig=Wt,this.focusManager=oe,this.genericDialog=Qt,this.redirectService=Pt,this.refeshUiService=Ut,this.platform$=new e.t(1),this.userMembership$=new i.X(a.Vv),this.userMembership=Object.assign({},a.Vv),this.isManualLogin=null,this.autoRefreshInterval=432e5,this.refreshEntitlement$=null,this.subscriptionProcessed$=new L.xQ,this.userEntitlementSubscription=null,this.jarvisIdpId="",this.lastEntitlement=null,this.minimumNonZeroProgressValue=.5,this.maximumNon100ProgressValue=99.5,this.logger=Tt.getLogger("EcommerceService"),this.tvMode=!(null==Wt||null===(it=Wt.featureEnablement)||void 0===it||!it.tvMode),this.detectPlatform(),this.redirectUrl=Wt.redirect.serverUrl,this.redirectEnv=Wt.redirect.environment,this.clientVersion=(0,b.get)(Wt,"build.version"),this.canClientHardUpsell=Wt.upsellPresentation.canHardUpsell,this.redirectEnvMap=new Map,this.jarvisIdpId=Wt.starfleet.jarvisIdpId,this.intervalEventTriggered$=new e.t(1),this.refreshSubscriptionAfterExpiry=null===(Mt=Wt.client)||void 0===Mt?void 0:Mt.clientSubRefreshAfterExpiryDelayMS,this.timeCappedFeatureEnabled=!(null==Wt||null===(zt=Wt.productV2)||void 0===zt||!zt.timeCapSKUEnabled),this.initTimerEvents().subscribe(),this.buildRedirectionEnvMap()}initialize(){this.checkUserMembershipStatus(),this.initPushNotifications(),q.ng.isAndroidPlatform()&&this.userMembership$.asObservable().pipe((0,h.h)(k=>{var pt;return!(null==k||null===(pt=k.subscription)||void 0===pt||!pt.productSku)}),(0,O.zg)(k=>this.bridgeService.executeCommand(U.Gh.Common.Subscriptioninfo.InitializeSubscriptionProductSku,{value:k.subscription.productSku})),(0,E.q)(1)).subscribe(),this.remoteConfigService.remoteConfigFetched$.subscribe(k=>{var pt;null!==(pt=k.config)&&void 0!==pt&&pt.upsellPresentation&&(!0===k.config.upsellPresentation.canHardUpsell||!1===k.config.upsellPresentation.canHardUpsell)&&(this.canClientHardUpsell=k.config.upsellPresentation.canHardUpsell)}),this.nesEntitlementService.subscriptionNetworkFetchedNoUpdate.pipe((0,E.q)(1),(0,O.zg)(k=>(k&&(this.userMembership.isCached=!1),this.checkEntitlement(!0)))).subscribe()}get closeResult(){return[this.isEcomPlanChanged,this.currentUIState,this.isPlaytimeAdded,this.isDayPassAdded]}checkEntitlement(k){if(!0===this.appConfig.featureEnablement.UASAutoEntitle&&this.userMembership.membershipStatus===a.Tn.UnEntitled){if(!this.userMembership.isCached)return this.logger.info("uas auto entitlement enabled, logging out unentitled user"),this.idmService.logout(null,null,null,!0).pipe((0,w.h)(k));this.logger.info("unentitled cached user, will not log out")}return(0,f.of)(k)}buildRedirectionEnvMap(){this.redirectEnvMap.set(a.w1.Development,"d"),this.redirectEnvMap.set(a.w1.Staging,"s"),this.redirectEnvMap.set(a.w1.Preview,"w"),this.redirectEnvMap.set(a.w1.Production,"p")}listenSubscriptionRefreshNotification(){return this.refreshUiService.subscriptionRefresh$.pipe((0,O.zg)(k=>(this.logger.info("Refresh Subscription",null==k?void 0:k.source),this.checkUsersEntitlement(!0))))}initPushNotifications(){this.listenSubscriptionRefreshNotification().subscribe()}checkUserMembershipStatus(){this.idmService.accountStatusChanged.pipe((0,p.f)(this.gridService.vpcId$.pipe((0,V.K)(()=>(0,f.of)(null)))),(0,h.h)(k=>k.length>0),(0,O.zg)(k=>(k.length&&(this.user=(0,b.last)(k)),this.logger.info("user account change received authentication status:  ",this.user.isAuthenticated),this.userMembership=Object.assign({},a.Vv),this.user.isAuthenticated||(this.userMembership.membershipStatus=a.Tn.LoggedOut),this.userMembership.eComFeatureEnabled=!0,this.checkUsersEntitlement())),(0,V.K)(k=>(this.logger.error("Error in get userinfo and affiliate status: ",k),(0,f.of)(null)))).subscribe()}checkUsersEntitlement(k=!1){const pt=(0,B.MA)(this.router.url),yt=!k&&pt&&!this.isManualLogin;return this.userMembership.membershipStatus===a.Tn.LoggedOut?this.getClientStreamingQuality(pt).pipe((0,O.zg)(Xt=>(this.logger.info("Got ClientStreamingQuality: ",Xt),this.userMembership.unentitledUserData=Xt,this.userMembership$.next({...this.userMembership}),(0,f.of)(null)))):(this.userEntitlementSubscription&&(this.userEntitlementSubscription.unsubscribe(),this.userEntitlementSubscription=null,this.subscriptionProcessed$&&(this.subscriptionProcessed$.complete(),this.subscriptionProcessed$=null,this.subscriptionProcessed$=new L.xQ)),this.userEntitlementSubscription=this.nesEntitlementService.getUserEntitlement(this.user,{useCache:yt,cacheLifetimeOverride:pt?-1:void 0}).pipe((0,c.d)(1),(0,O.zg)(Xt=>{if(this.userMembership.membershipStatus===a.Tn.LoggedOut)return this.logger.info("user subscription revolved for last user"),x.C;const{product:It,...Nt}=Xt;return this.logger.info("user subscription: ",Nt),this.userMembership.subscription=Xt.subscription,this.userMembership.product=Xt.product,this.userMembership.isCached=Xt.isCached,this.userMembership.lastFetchDateTime=new Date,(0,b.isNil)(Xt.subscription)?(this.userMembership.membershipStatus=a.Tn.UnEntitled,this.getClientStreamingQuality(pt).pipe((0,O.zg)(le=>(this.logger.info("Got ClientResolutions: ",le),this.userMembership.unentitledUserData=le,this.userMembership$.next({...this.userMembership}),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(Xt),(0,f.of)(Xt))))):(this.userMembership.membershipStatus=a.Tn.Entitled,this.userMembership$.next({...this.userMembership}),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(Xt),(0,f.of)(Xt))}),(0,V.K)(Xt=>(this.logger.error("error in fetching user entitlement: ",Xt),this.userMembership.membershipStatus=a.Tn.ServerError,this.userMembership$.next({...this.userMembership}),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(null),(0,f.of)(null))),(0,O.zg)(Xt=>this.checkEntitlement(Xt))).subscribe(()=>{this.refreshUiService.setContentExpiryInfo(ot.Gx.Subscription),this.logger.info("User membership fetched")},Xt=>{this.logger.error("Error while fetched user membership. "+Xt)}),this.subscriptionProcessed$.asObservable())}getClientStreamingQuality(k){return this.nesEntitlementService.getClientStreamingQuality({useCache:!0,cacheLifetimeOverride:k?-1:void 0}).pipe((0,c.d)(1),(0,V.K)(pt=>(this.logger.error("error in fetching client resolutions: ",pt),(0,f.of)(null))))}initTimedEntitlementRefresh(){this.refreshEntitlement$&&(this.refreshEntitlement$.unsubscribe(),this.refreshEntitlement$=null),this.refreshEntitlement$=(0,S.H)(this.autoRefreshInterval).pipe((0,O.zg)(k=>(this.logger.info("auto refreshing entitlement"),this.checkUsersEntitlement())),(0,C.x)(()=>{this.refreshEntitlement$=null})).subscribe()}onUserSkuChange(){return this.getUserMembership().pipe((0,l.G)(),(0,o.U)(([k,pt])=>{const yt=null==k?void 0:k.subscription,Xt=null==pt?void 0:pt.subscription,It=null==yt?void 0:yt.productSku,Nt=null==Xt?void 0:Xt.productSku;return pt.eComFeatureEnabled&&pt.membershipStatus===a.Tn.Entitled&&void 0!==It&&void 0!==Nt?{prevMembership:k,newMembership:pt,hasSkuChanged:It!==Nt}:{prevMembership:k,newMembership:pt,hasSkuChanged:!1}}),(0,h.h)(k=>k.hasSkuChanged),(0,n.O)({prevMembership:null,newMembership:null,hasSkuChanged:!1}))}getUserMembership(k=!1){return k?this.checkUsersEntitlement(k).pipe((0,O.zg)(()=>this.userMembership$.asObservable())):this.userMembership$.asObservable()}canHardUpsell(){return this.canClientHardUpsell}refreshUsersEntitlement(){this.checkUsersEntitlement(!0).subscribe()}openAccountManagementPage(k,pt){this.openBrowserWindow(k,j.hE.GfnAccountManagement,pt,j.hD[j.hE.GfnAccountManagement])}openJoinMembershipPage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcMembershipJoin,pt,j.hD[j.hE.GfnPcMembershipJoin])}openUpgradeMemberShipPage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcMembershipUpgrade,pt,j.hD[j.hE.GfnPcMembershipUpgrade])}openDayPassMembershipPage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcMembershipDayPass,pt,j.hD[j.hE.GfnPcMembershipDayPass])}openDayPassCheckoutPage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcCheckoutDayPass,pt,j.hD[j.hE.GfnPcCheckoutDayPass])}getUpgradeMembershipUrl(){return this.prepareProductMatrixURL(j.hE.GfnPcMembershipUpgrade)}getRedirectUrlWithIdpId$(k){return this.platform$.pipe((0,E.q)(1),(0,s.w)(pt=>this.redirectService.getRedirectUrl(k,{idpId:this.user.idpId,Plt:pt})))}openAccountProfilePage(k,pt){this.openBrowserWindow(k,j.hE.GfnAccountManagementSSO,pt,j.hD[j.hE.GfnAccountManagementSSO])}openAddPlaytimePage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcAddPlaytime,pt,j.hD[j.hE.GfnPcAddPlaytime])}openViewPlaytimePage(k,pt){this.openBrowserWindow(k,j.hE.GfnPcViewPlaytime,pt,j.hD[j.hE.GfnPcViewPlaytime])}openAddPlaytimePageAndDialog(k,pt){this.openMembershipPageAndDialog(()=>{this.openAddPlaytimePage(k,pt)},k,pt,a.l2.MembershipUpdatetimeProgress)}openJoinNowDialog(k,pt=a.vq.Join,yt,Xt=!1){const It=this.telemetryService.getScreen();return k=`${k}/${y.CGJ.ScreenJoinGfnDialog}`,pt===a.vq.MaxSessionLengthExceeded&&this.gfnSdkService.isThisAGFNSDKSession()&&(pt=this.featureUpsellAvailable(M.$c.HIGHER_SESSION_LENGTH)?a.vq.GaaSFreeUserCanUpgrade:a.vq.GaaSFree1HourExceeded),this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(K.U,{autoFocus:!1,disableClose:!0,panelClass:"nv-overlay-panel",data:{isStreamerApp:(0,B.MA)(this.router.url),useCase:pt,gameLaunchScreen:It,ecomUIState:(0,b.isNil)(yt)?a.l2.InitialState:yt,getUserMembership$:this.getUserMembership(),isCompactDialog:Xt,buttonClickCallback:Nt=>{Nt===a.l2.InitialState&&(pt===a.vq.MaxSessionLengthExceeded||pt===a.vq.QueueLimitExceeded?this.openUpgradeMemberShipPage(It,k):this.openJoinMembershipPage(It,k))}}}))}openBrowserWindow(k,pt,yt,Xt){this.sendClickTelemetryForBrowserWindow(k,pt,yt);const It=Date.now();this.prepareProductMatrixURL(pt).subscribe(Nt=>{this.logger.info("opening browser with url: ",Nt),this.offDeviceLinkService.open(Nt,{shortUrl:Xt}),this.sendManageSubscriptionTelemetry(!0,k,It)},Nt=>{this.logger.error("Failed to open web page "+pt+" with error: ",Nt.message),this.sendManageSubscriptionTelemetry(!1,k,It,Nt.message)})}openMembershipPageAndDialog(k,pt,yt,Xt){if(this.openProgressDialogSubscription$&&this.openProgressDialogSubscription$.unsubscribe(),this.tvMode){let It=j.hE.GfnPcMembershipUpgrade;Xt===a.l2.MembershipUpdatetimeProgress?It=j.hE.GfnPcAddPlaytime:Xt===a.l2.AddDayPassMembershipProgress&&(It=j.hE.GfnPcCheckoutDayPass),this.sendClickTelemetryForBrowserWindow(pt,It,yt),this.openProgressDialogSubscription$=this.openProgressDialog(Xt).pipe((0,E.q)(1)).subscribe()}else null==k||k(),setTimeout(()=>{this.openProgressDialogSubscription$=this.openProgressDialog(Xt).pipe((0,E.q)(1)).subscribe()},a.qM)}featureEntitled(k){var pt;let yt=null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt||null===(pt=pt.features)||void 0===pt||null===(pt=pt.features)||void 0===pt||null===(pt=pt.find(Xt=>Xt.key===k))||void 0===pt?void 0:pt.textValue;return null!=yt&&(yt=JSON.parse(yt),Array.isArray(yt)?yt.length>0:yt)}featureArrayItemEntitled(k,pt){var yt;let Xt=null===(yt=this.userMembership$.value)||void 0===yt||null===(yt=yt.subscription)||void 0===yt||null===(yt=yt.features)||void 0===yt||null===(yt=yt.features)||void 0===yt||null===(yt=yt.find(It=>It.key===M.xA[k]))||void 0===yt?void 0:yt.textValue;return null!=Xt&&(Xt=JSON.parse(Xt),Array.isArray(Xt)?Xt.some(It=>It.value===pt.toString()&&It.isEntitled):Xt)}featureArrayUpsellAvailable(k){const pt=[];return null==k||k.forEach(yt=>{const Xt=this.featureUpsellAvailable(yt);pt.push(Xt)}),pt}featureUpsellAvailable(k){var pt;return null===(pt=this.userMembership$.value.subscription)||void 0===pt||null===(pt=pt.upsells)||void 0===pt?void 0:pt.some(yt=>yt.key===k&&!0===yt.booleanValue)}isFeatureAvailableToUser(k,pt){return this.featureEntitled(k)||this.featureUpsellAvailable(pt)}getStreamingModeDetails(k){return this.getStreamingProfileFromStreamingQuality(this.getStreamingQuality(k))}getMaxBitrate(){var k;return null===(k=this.getStreamingQuality())||void 0===k?void 0:k.maxBitRate}getStreamingQuality(k){var pt,yt;const Xt=k?F.aL[k]:M.xw.BALANCED,It=this.userMembership$.value.membershipStatus===a.Tn.Entitled?null===(pt=this.userMembership$.value.subscription)||void 0===pt?void 0:pt.streamingQualities:null===(yt=this.userMembership$.value.unentitledUserData)||void 0===yt?void 0:yt.streamingQualities;return null==It?void 0:It.find(le=>le.clientStreamingQualityMode===Xt)}openProgressDialog(k=a.l2.MembershipUpdateProgress){return this.currentUIState=k,k===a.l2.MembershipUpdatetimeProgress?this.openPlaytimeUpdateProgressDialog():k===a.l2.AddDayPassMembershipProgress?this.openDayPassCheckoutProgressDialog():this.openMembershipUpgradeProgressDialog()}sendClickTelemetryForBrowserWindow(k,pt,yt){switch(pt){case j.hE.GfnAccountManagement:this.telemetryUtilService.sendClickEvent(y.lzt.ManageMembership,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcMembershipJoin:this.telemetryUtilService.sendClickEvent(y.lzt.JoinGfn,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcMembershipUpgrade:this.telemetryUtilService.sendClickEvent(y.lzt.Upgrade,"",`${k}/${yt}`,!1);break;case j.hE.GfnAccountManagementSSO:this.telemetryUtilService.sendClickEvent(y.lzt.AccountManagementSso,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcAddPlaytime:this.telemetryUtilService.sendClickEvent(y.lzt.AddPlaytime,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcViewPlaytime:this.telemetryUtilService.sendClickEvent(y.lzt.ViewPlaytime,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcMembershipDayPass:this.telemetryUtilService.sendClickEvent(y.lzt.GetDayPass,"",`${k}/${yt}`,!1);break;case j.hE.GfnPcCheckoutDayPass:this.telemetryUtilService.sendClickEvent(y.lzt.AddDayPass,"",`${k}/${yt}`,!1)}}prepareProductMatrixURL(k){const pt=this.localeService.localeChanged.pipe((0,E.q)(1));return(0,u.aj)([pt,this.platform$,this.idmService.cachedAffiliateStatus]).pipe((0,o.U)(([yt,Xt,It])=>{var Nt;const le={cNm:a.NV.name,env:this.redirectEnvMap.get(this.redirectEnv),Plt:Xt,gcV:this.clientVersion,idpId:this.user.idpId,prv:null===(Nt=It.data)||void 0===Nt?void 0:Nt.loginProvider};this.user.idpId===this.jarvisIdpId&&(le.loginHint=this.user.email),this.logger.info("JSO",le);const te=new URL(this.redirectUrl+yt);return te.searchParams.append("page",k),te.searchParams.append("jso",btoa(JSON.stringify(le))),te.toString()}))}detectPlatform(){q.ng.isCefPlatform()?this.systemInfoService.getSystemInfo([q.l7.Platform]).subscribe(k=>{this.platform$.next(k.Platform===a.u0.Mac?j.PY.Mac:j.PY.PC)}):this.platform$.next(j.PY.Browser)}sendManageSubscriptionTelemetry(k,pt,yt,Xt){const It=new y.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:pt,userAction:y.Vwu.ManageECommerceSubscription,status:k?y.N3X.Success:y.N3X.ECommercePaywallLaunchError,errorDetails:Xt||k.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(It,yt)}getStreamingProfileFromStreamingQuality(k){return k?{width:k.resolution.widthInPixels,height:k.resolution.heightInPixels,fps:k.resolution.framesPerSecond,maxBitrateAuto:!k.maxBitRate.bitrateOption,maxBitrate:k.maxBitRate.bitrateValue,drc:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_ADJUST_FOR_NETWORK),hdrStreaming:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_HDR),reflex:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_REFLEX),cloudGsync:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_CLOUD_GSYNC),l4sEnabled:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_L4S),vSync:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_VSYNC),bitDepth:this.getStreamingQualityFeatureValue(k,M.Uq.PROFILE_BIT_DEPTH)}:null}getStreamingQualityFeatureValue(k,pt){var yt;return JSON.parse(null==k||null===(yt=k.features)||void 0===yt||null===(yt=yt.find(Xt=>Xt.key===pt))||void 0===yt?void 0:yt.textValue)}openMembershipUpgradeProgressDialog(){this.lastEntitlement=null,this.isEcomPlanChanged=!1;let k={headerText:{text:this.tvMode?j.hD[j.hE.GfnPcMembershipUpgrade]:d.header},bodyText:{text:this.tvMode?d.tvDescription:d.description},primaryButton:d.primaryButton,secondaryButton:d.secondaryButton};return(this.tvMode?this.prepareProductMatrixURL(j.hE.GfnPcMembershipUpgrade).pipe((0,o.U)(yt=>(this.tvMode&&(k={...k,image:{url:yt,shortcutUrl:j.hD[j.hE.GfnPcMembershipUpgrade]}}),k))):(0,f.of)(k)).pipe((0,E.q)(1),(0,O.zg)(yt=>{const Xt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:yt},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return this.initializeEcommerceSub(Xt),(0,g.S3)(Xt.primaryButtonClick.pipe((0,w.h)(!0)),Xt.afterClosed().pipe((0,w.h)(!1)),Xt.secondaryButtonClick.pipe((0,w.h)(!1))).pipe((0,E.q)(1),(0,O.zg)(It=>(this.logger.info("Closing membership upgrade progress dialog"),Xt.backToCloseResult=this.closeResult,Xt.close(),this.getUserMembershipSubscription$&&this.getUserMembershipSubscription$.unsubscribe(),It?this.checkForMembershipUpgrade():(0,f.of)(It))))}))}openDayPassCheckoutProgressDialog(){this.lastEntitlement=null,this.isEcomPlanChanged=!1;let k={headerText:{text:this.tvMode?j.hD[j.hE.GfnPcCheckoutDayPass]:d.header},bodyText:{text:this.tvMode?d.tvDescription:d.description},primaryButton:d.primaryButton,secondaryButton:d.secondaryButton};return(this.tvMode?this.prepareProductMatrixURL(j.hE.GfnPcCheckoutDayPass).pipe((0,o.U)(yt=>(this.tvMode&&(k={...k,image:{url:yt,shortcutUrl:j.hD[j.hE.GfnPcCheckoutDayPass]}}),k))):(0,f.of)(k)).pipe((0,E.q)(1),(0,O.zg)(yt=>{const Xt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:yt},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return this.initializeEcommerceSub(Xt),(0,g.S3)(Xt.primaryButtonClick.pipe((0,w.h)(!0)),Xt.afterClosed().pipe((0,w.h)(!1)),Xt.secondaryButtonClick.pipe((0,w.h)(!1))).pipe((0,E.q)(1),(0,O.zg)(It=>(this.logger.info("Closing Add Day Pass membership upgrade progress dialog"),Xt.backToCloseResult=this.closeResult,Xt.close(),this.getUserMembershipSubscription$&&this.getUserMembershipSubscription$.unsubscribe(),It?this.checkForMembershipUpgrade():(0,f.of)(It))))}))}openPlaytimeUpdateProgressDialog(){this.lastEntitlement=null,this.isPlaytimeAdded=!1;let k={headerText:{text:this.tvMode?j.hD[j.hE.GfnPcAddPlaytime]:"ecommerce.playtimeAddProgressDialog.title"},bodyText:{text:this.tvMode?"ecommerce.membershipUpdateProgressDialog.compactDialogTvDescription":"ecommerce.membershipUpdateProgressDialog.compactDialogDescription"},primaryButton:d.primaryButton,secondaryButton:d.secondaryButton};return(this.tvMode?this.prepareProductMatrixURL(j.hE.GfnPcAddPlaytime).pipe((0,o.U)(yt=>(k={...k,image:{url:yt,shortcutUrl:j.hD[j.hE.GfnPcAddPlaytime]}},k))):(0,f.of)(k)).pipe((0,E.q)(1),(0,O.zg)(yt=>{const Xt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:yt},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return this.initializeEcommerceSub(Xt),(0,g.S3)(Xt.primaryButtonClick.pipe((0,w.h)(!0)),Xt.afterClosed().pipe((0,w.h)(!1)),Xt.secondaryButtonClick.pipe((0,w.h)(!1))).pipe((0,E.q)(1),(0,O.zg)(It=>(this.logger.info("Closing add playtime progress dialog"),Xt.backToCloseResult=this.closeResult,Xt.close(),this.getUserMembershipSubscription$&&this.getUserMembershipSubscription$.unsubscribe(),It?this.checkForMembershipUpgrade(!1):(0,f.of)(It))))}))}openMembershipNotUpgradedErrorDialog(){return this.redirectService.getRedirectUrl(j.hE.GfnAccountManagement).pipe((0,o.U)(k=>({headerText:{text:H.header},bodyText:{text:H.description,placeholders:this.tvMode?void 0:{membershipStatusUrl:`class="font-body2-link" href="${k}"`}},link:{text:this.tvMode?"ecommerce.viewAccount":void 0,url:this.tvMode?k:void 0,shortUrl:j.hD[j.hE.GfnAccountManagement]},primaryButton:H.primaryButton})),(0,O.zg)(k=>{const pt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:k},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return(0,g.S3)(pt.primaryButtonClick,pt.afterClosed()).pipe((0,E.q)(1),(0,R.b)(()=>{pt.close()}))}))}openMembershipRefreshErrorDialog(k=!0){return this.redirectService.getRedirectUrl(j.hE.GfnServerStatus).pipe((0,o.U)(pt=>({headerText:{text:k?H.header:J.header},bodyText:{text:H.description},link:{text:"common.viewServerStatus",url:pt,shortUrl:j.hD[j.hE.GfnAccountManagement]},primaryButton:H.primaryButton})),(0,O.zg)(pt=>{const yt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:pt},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return(0,g.S3)(yt.primaryButtonClick,yt.afterClosed()).pipe((0,E.q)(1),(0,R.b)(()=>{yt.close()}))}))}openPlaytimeUpdateErrorDialog(){return this.redirectService.getRedirectUrl(j.hE.GfnAccountManagement).pipe((0,o.U)(k=>({headerText:{text:J.header},bodyText:{text:J.description,placeholders:this.tvMode?void 0:{accountStatusUrl:`class="font-body2-link" href="${k}"`}},link:{text:this.tvMode?"ecommerce.viewAccount":void 0,url:this.tvMode?k:void 0,shortUrl:j.hD[j.hE.GfnAccountManagement]},primaryButton:J.primaryButton})),(0,O.zg)(k=>{const pt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:k},{preferredDialogType:tt.Xm.ThreeQuarterSheet});return this.telemetryUtilService.sendPopUpDialogShownEvent(y.ItH.Playtime_Not_Added),(0,g.S3)(pt.primaryButtonClick,pt.afterClosed()).pipe((0,E.q)(1),(0,R.b)(()=>{pt.close()}))}))}initializeEcommerceSub(k){this.getUserMembershipSubscription$=this.getUserMembership().subscribe(pt=>{var yt,Xt,It,Nt;const le=null==pt||null===(yt=pt.subscription)||void 0===yt?void 0:yt.productSku,te=null==pt||null===(Xt=pt.subscription)||void 0===Xt?void 0:Xt.remainingTimeInMinutes,bt=null==pt||null===(It=pt.subscription)||void 0===It?void 0:It.subType,Vt=null==pt||null===(Nt=pt.subscription)||void 0===Nt?void 0:Nt.expirationDateTime;null!==this.lastEntitlement?(this.isEcomPlanChanged=this.isPlanChanged(le),this.isPlaytimeAdded=this.isPlaytimeChanged(te),this.isDayPassAdded=this.hasDayPassExpiryDateChanged(bt,Vt),(this.isEcomPlanChanged||this.currentUIState===a.l2.MembershipUpdatetimeProgress&&this.isPlaytimeAdded||this.isDayPassAdded)&&(k.backToCloseResult=this.closeResult,k.close())):this.lastEntitlement={productSku:le,remainingTimeInMinutes:te,subType:bt,expirationDateTime:Vt}})}checkForMembershipUpgrade(k=!0){return this.getUserMembership(!0).pipe((0,E.q)(1),(0,O.zg)(pt=>{var yt,Xt,It,Nt;const le=null==pt||null===(yt=pt.subscription)||void 0===yt?void 0:yt.productSku,te=null==pt||null===(Xt=pt.subscription)||void 0===Xt?void 0:Xt.remainingTimeInMinutes,bt=null==pt||null===(It=pt.subscription)||void 0===It?void 0:It.subType,Vt=null==pt||null===(Nt=pt.subscription)||void 0===Nt?void 0:Nt.expirationDateTime;return this.isEcomPlanChanged=this.isPlanChanged(le),this.isPlaytimeAdded=this.isPlaytimeChanged(te),this.isDayPassAdded=this.hasDayPassExpiryDateChanged(bt,Vt),k&&!this.isEcomPlanChanged&&!this.isDayPassAdded||!k&&!this.isPlaytimeAdded?this.openErrorDialogs(pt,k):(0,f.of)(k?this.isEcomPlanChanged||this.isDayPassAdded:this.isPlaytimeAdded)}))}isPlanChanged(k){return this.lastEntitlement.productSku!==k}hasDayPassExpiryDateChanged(k,pt){return k===M.LQ.DAY_PASS&&this.lastEntitlement.expirationDateTime!==pt}isPlaytimeChanged(k){return this.lastEntitlement.remainingTimeInMinutes<k}openErrorDialogs(k,pt=!0){return k.membershipStatus===a.Tn.ServerError||k.membershipStatus===a.Tn.UnKnown?this.openMembershipRefreshErrorDialog(pt):pt?this.openMembershipNotUpgradedErrorDialog():this.openPlaytimeUpdateErrorDialog()}initTimerEvents(){return this.getUserMembership().pipe((0,l.G)(),(0,o.U)(([k,pt])=>{const yt=null==k?void 0:k.subscription,Xt=null==pt?void 0:pt.subscription;let le,te;(null==yt?void 0:yt.productSku)!==(null==Xt?void 0:Xt.productSku)?this.registerIntervalTimer():(this.isTimeCappedSubscription?(le=null==yt?void 0:yt.currentSpanEndDateTime,te=null==Xt?void 0:Xt.currentSpanEndDateTime):null!=yt&&yt.expirationDateTime&&null!=Xt&&Xt.expirationDateTime?(le=null==yt?void 0:yt.expirationDateTime,te=null==Xt?void 0:Xt.expirationDateTime):null!=yt&&yt.renewalDateTime&&null!=Xt&&Xt.renewalDateTime&&(le=null==yt?void 0:yt.renewalDateTime,te=null==Xt?void 0:Xt.renewalDateTime),le!==te&&this.registerIntervalTimer())}))}get isLimitedState(){var k;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k||null===(k=k.currentSubscriptionState)||void 0===k?void 0:k.state)===M.jc.LIMITED}get isLimitedPlayableState(){var k,pt;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k||null===(k=k.currentSubscriptionState)||void 0===k?void 0:k.state)===M.jc.LIMITED&&(null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt||null===(pt=pt.currentSubscriptionState)||void 0===pt?void 0:pt.isGamePlayAllowed)}get isLimitedUnplayableState(){var k,pt;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k||null===(k=k.currentSubscriptionState)||void 0===k?void 0:k.state)===M.jc.LIMITED&&!(null!==(pt=this.userMembership$.value)&&void 0!==pt&&null!==(pt=pt.subscription)&&void 0!==pt&&null!==(pt=pt.currentSubscriptionState)&&void 0!==pt&&pt.isGamePlayAllowed)}get isFullState(){var k,pt,yt;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k||null===(k=k.currentSubscriptionState)||void 0===k?void 0:k.state)===M.jc.FULL&&(null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt?void 0:pt.remainingTimeInMinutes)>(null===(yt=this.userMembership$.value)||void 0===yt||null===(yt=yt.subscription)||void 0===yt||null===(yt=yt.notifications)||void 0===yt?void 0:yt.notifyUserWhenTimeRemainingInMinutes)}get isLowState(){var k,pt,yt;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k||null===(k=k.currentSubscriptionState)||void 0===k?void 0:k.state)===M.jc.FULL&&(null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt?void 0:pt.remainingTimeInMinutes)<=(null===(yt=this.userMembership$.value)||void 0===yt||null===(yt=yt.subscription)||void 0===yt||null===(yt=yt.notifications)||void 0===yt?void 0:yt.notifyUserWhenTimeRemainingInMinutes)}get totalPlaytime(){var k;return(0,b.isUndefined)(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.totalTimeInMinutes)?void 0:(0,P.Dfl)(this.userMembership$.value.subscription.totalTimeInMinutes)}get remainingPlaytime(){var k;return(0,b.isUndefined)(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.remainingTimeInMinutes)?void 0:(0,P.Dfl)(this.userMembership$.value.subscription.remainingTimeInMinutes)}get rolledOverPlaytime(){var k;return null!==(k=this.userMembership$.value)&&void 0!==k&&null!==(k=k.subscription)&&void 0!==k&&k.rolledOverTimeInMinutes?(0,P.Dfl)(this.userMembership$.value.subscription.rolledOverTimeInMinutes):void 0}get remainingPlaytimePercentage(){var k,pt;if((0,b.isUndefined)(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.totalTimeInMinutes)||(0,b.isUndefined)(null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt?void 0:pt.remainingTimeInMinutes))return 0;{const yt=this.userMembership$.value.subscription.remainingTimeInMinutes/this.userMembership$.value.subscription.totalTimeInMinutes*100;return yt>this.maximumNon100ProgressValue&&yt<100?this.maximumNon100ProgressValue:yt<this.minimumNonZeroProgressValue&&yt>0?this.minimumNonZeroProgressValue:yt}}get onTimeRemainingAlertForBanner(){return this.intervalEventTriggered$.pipe((0,o.U)(k=>this.checkForLowAndLimitedTime(this.userMembership$.value)),(0,_.x)(A))}get isTimeCappedSubscription(){var k;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.subType)===M.LQ.TIME_CAPPED}get isDayPassSubscription(){var k;return(null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.subType)===M.LQ.DAY_PASS}get isTimeCapSKUFeatureEnabled(){return this.timeCappedFeatureEnabled}getDayPassExpiryDetails(){return this.onUserSkuChange().pipe((0,o.U)(k=>{var pt,yt,Xt;const It=null==k||null===(pt=k.prevMembership)||void 0===pt?void 0:pt.subscription,Nt=null==k||null===(yt=k.newMembership)||void 0===yt?void 0:yt.subscription;return{show:(null==It?void 0:It.productSku)!==(null==Nt?void 0:Nt.productSku)&&(null==It?void 0:It.subType)===M.LQ.DAY_PASS&&this.featureUpsellAvailable(M.$c.DAY_PASS)&&(null==Nt?void 0:Nt.type)===M.NY.FREE,oldSKUShortName:null==k||null===(Xt=k.prevMembership)||void 0===Xt||null===(Xt=Xt.product)||void 0===Xt?void 0:Xt.shortDescription}}))}checkIfNearingExpiry(){return this.getUserMembership().pipe((0,E.q)(1),(0,O.zg)(k=>!this.isDayPassSubscription&&!this.isTimeCappedSubscription||this.isTimeCappedSubscription&&!this.isTimeCapSKUFeatureEnabled?(0,f.of)(!1):this.isLimitedState||this.checkLowPlayTimeCondition(this.userMembership$.value,!0)?this.getUserMembership(!0).pipe((0,E.q)(1),(0,o.U)(pt=>this.isLimitedState?this.isLimitedState:this.checkLowPlayTimeCondition(pt,!0))):(0,f.of)(!1)))}getExpiryBannerText(k){return k===M.LQ.DAY_PASS?"notification.dayPassExpiryBanner":k!==M.LQ.TIME_CAPPED?(this.logger.info(`Unsupported subType:${k}`),""):void 0}clearIntervalTimer(){var k;null===(k=this.membershipIntervalSub)||void 0===k||k.unsubscribe(),this.membershipIntervalSub=null}registerIntervalTimer(){var k,pt,yt;let Xt,It;this.clearIntervalTimer();const Nt=null===(k=this.userMembership$.value)||void 0===k||null===(k=k.subscription)||void 0===k?void 0:k.expirationDateTime,le=null===(pt=this.userMembership$.value)||void 0===pt||null===(pt=pt.subscription)||void 0===pt?void 0:pt.currentSpanEndDateTime,te=null===(yt=this.userMembership$.value)||void 0===yt||null===(yt=yt.subscription)||void 0===yt?void 0:yt.renewalDateTime;this.isTimeCappedSubscription?Xt=new Date(le):Nt?Xt=new Date(Nt):te&&(Xt=new Date(te)),Xt&&!isNaN(Xt)&&(this.membershipIntervalSub=(0,S.H)(0,a.MH).subscribe(bt=>{this.intervalEventTriggered$.next(bt),It=Xt.getTime()-(new Date).getTime(),It<=0?(this.fetchLatestUserSubscriptionAfterExpiry(),this.clearIntervalTimer()):It<a.MH&&(this.clearIntervalTimer(),setTimeout(()=>{this.intervalEventTriggered$.next(bt),this.fetchLatestUserSubscriptionAfterExpiry()},It))}))}fetchLatestUserSubscriptionAfterExpiry(){this.refreshSubscriptionAfterExpiry&&!isNaN(this.refreshSubscriptionAfterExpiry)&&setTimeout(()=>{this.refeshUiService.resetContentExpiryAndRefreshOnFocus(ot.Gx.Subscription)},this.refreshSubscriptionAfterExpiry)}isUserUpgraded(k,pt,yt){return null!==k&&(null==k?void 0:k.userId)===pt&&(null==k?void 0:k.productSku)!==yt}isPlaytimeUpdated(k,pt,yt,Xt){return this.isTimeCapSKUFeatureEnabled&&this.isTimeCappedSubscription&&!this.isUserUpgraded(k,pt,yt)&&null!==k&&(null==k?void 0:k.userId)===pt&&(null==k?void 0:k.productSku)===yt&&(null==k?void 0:k.remainingTimeInMinutes)<Xt}checkForLowAndLimitedTime(k){return this.isTimeCappedSubscription&&this.isLimitedState?{isLowStateAlert:!1,isLimitedStateAlert:!0}:this.checkLowPlayTimeCondition(k)?{isLowStateAlert:!0,isLimitedStateAlert:!1}:{isLowStateAlert:!1,isLimitedStateAlert:!1}}checkLowPlayTimeCondition(k,pt=!1){var yt,Xt;const It=null==k?void 0:k.subscription,Nt=pt?null==It||null===(yt=It.notifications)||void 0===yt?void 0:yt.notifyUserOnSessionWhenRemainingTimeInMinutes:null==It||null===(Xt=It.notifications)||void 0===Xt?void 0:Xt.notifyUserWhenTimeRemainingInMinutes;let te;return te=this.isTimeCappedSubscription?null==It?void 0:It.remainingTimeInMinutes:(new Date(null==It?void 0:It.expirationDateTime).getTime()-(new Date).getTime())/a.il,void 0!==te&&void 0!==Nt&&te>=0&&te<=Nt}}return(lt=gt).\u0275fac=function(k){return new(k||lt)(z.LFG(q.OL),z.LFG(Q.l6),z.LFG(q.Ob),z.LFG(dt.y0),z.LFG(X.r),z.LFG(y.wU6),z.LFG(m.uw),z.LFG(Y.F0),z.LFG(q.dF),z.LFG(D.s),z.LFG(N.No),z.LFG(tt.qA),z.LFG(ot.eP),z.LFG(Z.s),z.LFG(W.VK),z.LFG(tt.IK),z.LFG(tt.TX),z.LFG(j.VH),z.LFG(ot.eP),z.LFG(q.ed))},lt.\u0275prov=z.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),gt})()},40943:(Dt,ct,t)=>{"use strict";t.d(ct,{Z:()=>E});var e=t(49481),i=t(33994),L=t(38435),f=t(32484),x=t(9681),S=t(87965),u=t(19979),g=t(58175),h=t(61699),O=t(13963);let E=(()=>{var w;class p{constructor(c){this.defaultMaxRetries=3,this.defaultRetryInterval=1e3,this.retryCount=0,this.jsLoadTelemetrySubject$=new e.t(1),this.logger=c.getLogger("ExternalJsLoadService")}getJsLoadScriptTag(c){return Array.from(document.getElementsByTagName("script")).find(l=>l.src.includes(c))}retryStrategy({maxRetries:c,retryInterval:C,isExponentialRetry:l},o){return o.pipe((0,S.zg)((n,s)=>s+1>c?(0,i._)(n):(0,L.H)(Math.pow(l?2:1,s)*C)))}isScriptLoaded(c){return!!this.getJsLoadScriptTag(c)}unloadJS(c){const C=this.getJsLoadScriptTag(c);C&&C.remove()}loadJS(c,{scriptType:C="text/javascript",isAsyncLoad:l=!0}){const o=new f.xQ,n=document.createElement("script");return n.src=c,n.type=C,n.async=l,n.onload=()=>{this.logger.info("External Script loaded successfully"),o.next(!0),o.complete()},n.onerror=s=>{this.unloadJS(c),this.logger.info("External Script load failed"),o.error(s)},document.body.appendChild(n),o.asObservable()}loadJSWithRetry(c,{scriptType:C="text/javascript",isAsyncLoad:l=!0,maxRetries:o=this.defaultMaxRetries,retryInterval:n=this.defaultRetryInterval,isExponentialRetry:s=!0}){return this.retryCount=0,this.loadJS(c,{scriptType:C,isAsyncLoad:l}).pipe((0,u.a)(R=>(this.retryCount++,this.retryStrategy({maxRetries:o,retryInterval:n,isExponentialRetry:s},R))),(0,g.K)(R=>(this.jsLoadTelemetrySubject$.next({isSuccess:!1,attemptCount:this.retryCount,fileName:c,error:R}),(0,x.of)(!1))))}}return(w=p).\u0275fac=function(c){return new(c||w)(h.LFG(O.ed))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},3164:(Dt,ct,t)=>{"use strict";t.d(ct,{t:()=>g});var e=t(18288),i=t(64836),L=t(61699),f=t(13963),x=t(12878),S=t(32311),u=t(87815);let g=(()=>{var h;class O{constructor(w,p,V,c,C){var l;this.localeService=w,this.loggingService=p,this.pwaService=V,this.browserSupportService=c,this.appConfig=C,this.url="",this.defaultUrl=i.fF.BrowserBookmark,this.shouldAvoidAddressBarUpdateFlag=!1,this.isAddressBarUrlUpdated=!1,this.isShareUrlTypeOGP=!0,this.isShareURLRequireBranch=!1,this.logger=this.loggingService.getLogger("GameShareUrlService"),this.avoidAddressBarUpdateConfig=!(null==C||null===(l=C.client)||void 0===l||!l.avoidAddressBarUpdate),this.isShareUrlTypeOGP=!(this.browserSupportService.isLocalDomain()||this.browserSupportService.isPartnerDomain()),this.isShareURLRequireBranch=this.browserSupportService.isStagingDomain(),this.initAvoidAddressBarUpdateFlag()}splitUrl(w){const p=w.split("/");let V=p[p.length-1];return V=V.replace(e.Xf,""),V=V.split(".")[0],V}updateShareUrlInfo(w,p){this.gameId=w,this.assetIdentifier=p;const V=`${e.uE.GameId}=${this.gameId}`;if(this.isShareUrlTypeOGP){const c=`&${e.uE.Locale}=${this.localeService.getLocale()}`,C=p?this.splitUrl(p):"";if(this.queryParamsString=`${V}${c}${C?`&${e.uE.AssetId}=${C}`:""}`,this.isShareURLRequireBranch){const o=this.browserSupportService.getHostBranchName();this.queryParamsString=`${this.queryParamsString}${o?`&${e.uE.Branch}=${o}`:""}`}this.url=`${window.location.origin}/${e.EM.Games}?${this.queryParamsString}`}else this.queryParamsString=`${V}`,this.url=`${window.location.origin}${window.location.pathname}#/${e.eK}?${this.queryParamsString}`;return!0}initAvoidAddressBarUpdateFlag(){this.pwaService.onPWAModeChange.subscribe(w=>{this.shouldAvoidAddressBarUpdateFlag=w||this.avoidAddressBarUpdateConfig},w=>{this.logger.error("Error while setting initial value, defaulting to false"+w),this.shouldAvoidAddressBarUpdateFlag=!1})}getIsAddressbarUrlUpdated(){return this.isAddressBarUrlUpdated}setShareUrlInAddressBar(){this.shouldAvoidAddressBarUpdateFlag||(this.gameId&&-1!==this.url.indexOf(this.gameId)?(window.history.replaceState("","",this.url),this.isAddressBarUrlUpdated=!0):this.resetUrlInAddressBar())}getDeeplinkShareUrl(){return this.url}getShareInfo(w,p,V){if(!(this.gameId===w&&this.assetIdentifier===p||this.updateShareUrlInfo(w,p)))return void this.logger.error("Error while validating gameId");const C=V?`&${e.uE.UtmSource}=${V}`:"";return this.gameId?{url:`${this.url}${C}`,queryParamsString:`${this.queryParamsString}${C}`}:{url:window.location.origin,queryParamsString:""}}resetUrlInAddressBar(w){this.shouldAvoidAddressBarUpdateFlag||this.gameId!==w||(window.history.replaceState("","",this.defaultUrl),this.isAddressBarUrlUpdated=!1)}setExitUrl(w){this.exitUrl=w}setGameUrlAsExitUrl(){this.exitUrl=this.queryParamsString?`${i.nn.Deeplink}?${this.queryParamsString}&${e.uE.UtmSource}=${e.zV.Application}`:i.fF.DefaultRedirect}getExitUrl(){let w;return w=this.exitUrl?this.exitUrl:this.queryParamsString?`${i.nn.Deeplink}?${this.queryParamsString}`:i.fF.DefaultRedirect,w}}return(h=O).\u0275fac=function(w){return new(w||h)(L.LFG(f.OL),L.LFG(f.ed),L.LFG(x.nG),L.LFG(S.OA),L.LFG(u.VK))},h.\u0275prov=L.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),O})()},55386:(Dt,ct,t)=>{"use strict";t.d(ct,{t:()=>e.t});var e=t(3164)},24122:(Dt,ct,t)=>{"use strict";t.d(ct,{Y:()=>h,u:()=>E});var e=t(77869),i=t(65343),L=t(31157),f=t(45078),x=t(61699),S=t(87815),u=t(13963),g=t(30285);let h=(()=>{var w;class p{constructor(c,C,l,o){this.appConfig=c,this.distributedtracingUtilService=l,this.endpointFactory=o,this.logger=C.getLogger("GridSdkService");const{defaultRetries:n=0,defaultTimeBetweenRetries:s=0,defaultTimeout:R=1e4}=c.grid;this.serverInfoEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:n,timeBetweenRetries:s,timeout:R}}),this.firstFetchSet=new Set}makeUrl(c,C=this.appConfig.grid.server){return(0,e.D5)([C,this.appConfig.grid.version,c])}getSpecificServerInfo(c,C){var l;c.startsWith("http")||(c=null!==(l=this.appConfig.featureEnablement)&&void 0!==l&&l.enablePassThru?"http://"+c:"https://"+c);const n={includeRequestId:!0,reportRequestData:{originalService:i.v6v.Grid,serviceUseCase:i.f$p.GetSpecificServerInformation},headers:{}},s=n.reportRequestData.serviceUseCase;this.firstFetchSet.has(s)?n.headers[f.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(s);const R=this.serverInfoEndpoint.get(this.makeUrl("/serverInfo",c),n);return this.distributedtracingUtilService.handleHttpEndpointSpan(R,n,L.j1.GetSpecificServerInfo,C)}}return(w=p).\u0275fac=function(c){return new(c||w)(x.LFG(S.VK),x.LFG(u.ed),x.LFG(L.Dc),x.LFG(g.V9))},w.\u0275prov=x.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})();var O=t(14955);class E extends O.xv{constructor(p){super("Could not fetch vpcId",p)}}},25529:(Dt,ct,t)=>{"use strict";t.d(ct,{r:()=>B});var e=t(49481),i=t(92130),L=t(64555),f=t(9681),x=t(33994),S=t(22413),u=t(73992),g=t(85046),h=t(46939),O=t(87965),E=t(47422),w=t(58175),p=t(15746),V=t(90786),c=t(17627),C=t(47178),o=t(24122),n=t(94386),s=t(45078),R=t(43444),_=t(61699),b=t(13963),I=t(87815),q=t(41070),a=t(1558),y=t(25502),M=t(62864),P=t(77869),K=t(82711);let B=(()=>{var j;class tt{constructor(F,U,z,Q,dt,X,m,Y,D,N,Z,W){this.loggingService=F,this.gridSdk=U,this.appConfig=z,this.serverRouting=Q,this.networkConfigurationService=dt,this.zoneStorageService=X,this.nesUserInfoService=m,this.serviceWorkerService=D,this.gfnWebWorkerService=N,this.refreshUiService=Z,this.networkStatusService=W,this.cachedRecommendedZone=null,this.streamingServiceUrl=null,this.hasServerInfoStreamErrored=!1,this.deeplinkZoneOverrideError$=new e.t(1),this.defaultZoneOnError=(A,d)=>(this.logger.info(A," : ",d),this.defaultZone$),this.logger=this.loggingService.getLogger("gfn/grid"),this.serverInfoStream=Y.createStream(()=>this.requestServerInfo()),this.initServiceWorkerNotifications(),this.listenServerInfoRefreshNotification()}listenServerInfoRefreshNotification(){this.refreshUiService.serverInfoRefresh$.subscribe(F=>{this.logger.info("Refresh ServerInfo",null==F?void 0:F.source),this.refreshServerInfo()})}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,g.h)(F=>F.name===s.No.staleWhileRevalidate.server.cacheName),(0,h.q)(1)).subscribe(F=>{const U=this.serverInfoStream.getData();if(!U)return;const z=this.processServerInfo(F.data);(0,i.D)([this.gfnWebWorkerService.hash(U),this.gfnWebWorkerService.hash(z)]).subscribe(([Q,dt])=>{dt!==Q&&this.serverInfoStream.setData(z,!0)},Q=>{this.logger.error("error hashing updated server info",Q)})})}findZone(F,U){return(0,C.find)(F,z=>z.name===(null==U?void 0:U.value))}processServerInfo(F){if(this.logger.info("processServerInfo"),(0,C.isNil)(F))throw new Error("Server info was invalid.");const U=F.metaData,z=F.requestStatus;let Q;if((0,C.isNil)(z))throw new Error('Bad schema in server info. Missing "requestStatus".');const dt=z.serverId;if((0,C.isNil)(U))throw new Error('Bad schema in server info. Missing "metaData".');(0,C.isEmpty)(U)&&this.logger.warn("Server metadata is empty");const X=F.monitorSettings,m=F.serverType,Y=(0,C.chain)(U).filter(Z=>Z.value.startsWith("http")).map(Z=>{const W=Z.value.replace("http://","").replace("https://","");return{name:Z.key,address:W}}).keyBy("address").value(),D=(0,C.find)(U,Z=>"local-region"===Z.key),N=this.findZone(Y,D);if(this.logger.info("Local region: ",N),this.streamingServiceUrl?Q={address:this.getDefaultZone(),name:this.appConfig.grid.name}:(0,C.isObject)(D)&&!(0,C.isUndefined)(D.value)&&(Q=this.findZone(Y,D)),!(0,C.isObject)(Q))if((0,C.isNil)(this.cachedRecommendedZone)){const Z=this.appConfig.grid;Q={name:Z.name,address:Z.server.replace("http://","").replace("https://","").replace("/","")},this.logger.error(`default zone not valid, using config zone: ${Q.name}`)}else Q=this.cachedRecommendedZone,this.logger.error(`default zone not valid, using cached zone: ${Q.name}`);return this.saveDefaultZone(Q),{vpcId:dt,serverType:m,zones:Y,defaultZone:Q,monitorSettings:X,detectedLocalZone:N}}saveDefaultZone(F){this.zoneStorageService.setDefaultZone(F).subscribe(()=>C.noop,U=>this.logger.error("failed to set default zone",U))}requestServerInfo(F){let U=null;return this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,O.zg)(z=>(0,L.aj)([this.networkConfigurationService.getNetworkOverride(),this.networkConfigurationService.getCurrentCachedZone(),(0,f.of)(z)])),(0,O.zg)(([z,Q,dt])=>{this.streamingServiceUrl=dt.serviceEndpoint.streamingServiceUrl;const X=this.getDefaultZone();return this.logger.info("cached zone and override Zone are:",Q,z),this.cachedRecommendedZone=(0,C.isNil)(z)?(0,C.isNil)(Q)?null:Q:z,(0,C.isNil)(this.cachedRecommendedZone)?(this.logger.info("cachedRecommendedZone zone is null. Use new server info"),this.getServerInfo({address:this.streamingServiceUrl,name:""},U,F)):(U=this.checkIfCachedOrOverrideZoneAvailable(X,z,Q),this.clearNotAvailableZones(U),U.isOverrideZoneAvailable?(this.logger.info("Override zone available in zonesList. Get serverInfo for override zone"),this.getServerInfo(z,U,F)):U.isCachedZoneAvailable?(this.logger.info("cached zone available in zonesList. Get serverInfo for cached zone"),this.getServerInfo(Q,U,F)):(this.logger.info("Override or cached zone present but not available in zonesList, clearing NetworkOverride"),this.getServerInfo({address:this.streamingServiceUrl,name:""},U,F)))}))}getServerInfo(F,U,z){return this.gridSdk.getSpecificServerInfo(F.address,z).pipe((0,E.U)(Q=>this.processServerInfo(Q)),(0,w.K)(Q=>(this.logger.error("error in fetching serverInfo",Q),null!=U&&U.isCachedZoneAvailable||null!=U&&U.isOverrideZoneAvailable?(this.networkConfigurationService.deeplinkOverrideZone&&this.deeplinkZoneOverrideError$.next(!0),this.clearNotAvailableZones({isCachedZoneAvailable:!U.isCachedZoneAvailable,isOverrideZoneAvailable:!U.isOverrideZoneAvailable}),this.getServerInfo({address:this.streamingServiceUrl,name:""},U,z)):(this.hasServerInfoStreamErrored=!0,(0,x._)(Q)))),(0,p.b)(Q=>{this.networkConfigurationService.deeplinkOverrideZone&&this.deeplinkZoneOverrideError$.next(!1),this.refreshUiService.setContentExpiryInfo(R.Gx.ServerInfo),this.hasServerInfoStreamErrored=!1}))}checkIfCachedOrOverrideZoneAvailable(F,U,z){let Q,dt;return!(0,C.isNil)(U)&&U.isInternal&&(this.logger.info("Internal override is set"),Q=!0),!(0,C.isNil)(U)&&!Q&&(Q=F===U.defaultZone),(0,C.isNil)(z)||(dt=F===z.defaultZone),{isOverrideZoneAvailable:Q,isCachedZoneAvailable:dt}}clearNotAvailableZones(F){F.isOverrideZoneAvailable?F.isCachedZoneAvailable?this.logger.info("Both override and cached zones are available in the zonelist"):(this.logger.info("Cached zone is not available in the zonelist. Clearing cached zone"),this.networkConfigurationService.clearCurrentFingerprintCachedZone().subscribe()):(this.logger.info("Override zone is not available in the zonelist. Clearing override zone"),this.networkConfigurationService.clearNetworkOverride().subscribe())}getServerProperty(F){return this.serverInfoStream.get$().pipe((0,E.U)(F))}get deeplinkZoneOverrideStatus(){return this.deeplinkZoneOverrideError$.asObservable().pipe((0,V.x)(()=>{this.deeplinkZoneOverrideError$=new e.t(1)}))}get vpcId$(){return this.getServerProperty(F=>F.vpcId).pipe((0,w.K)(F=>{if(!this.networkStatusService.isOnline){const U=this.networkStatusService.onlineStatusChanged.pipe((0,g.h)(z=>z),(0,h.q)(1),(0,O.zg)(()=>this.vpcId$));return(0,S.z)((0,f.of)(null),U)}return(0,x._)(F)}),(0,w.K)(F=>(0,x._)(new o.u(F))))}get defaultZone$(){return this.getProperty(F=>F.defaultZone)}get zoneList$(){return this.getProperty(F=>F.zones)}get serverType$(){return this.getProperty(F=>F.serverType)}get monitorSettings$(){return this.hasServerInfoStreamErrored?(0,f.of)(void 0):this.getProperty(F=>F.monitorSettings)}get detectedLocalZone$(){return this.getProperty(F=>F.detectedLocalZone)}getProperty(F){return this.getServerProperty(F)}getZone(F,U){return(0,u.$R)(this.zoneList$,this.defaultZone$).pipe((0,c.P)(),(0,O.zg)(z=>{const[Q,dt]=z;return F.defaultZone=dt.address,this.serverRouting.getFastestRegionalZone(F,Q,U).pipe((0,p.b)(X=>{this.logger.info("Got the latency based router zone: ",X),this.serverInfoStream.refresh()}))}))}getCachedZone(){return this.serverRouting.getCachedServerZone().pipe((0,O.zg)(F=>(0,C.isNil)(F)?this.defaultZoneOnError("Empty zone in cache, falling back to default zone"):(0,f.of)(F)),(0,w.K)(F=>this.defaultZoneOnError("No zone in cache, falling back to default zone",F)))}getCachedLatencies(){const F=this.networkConfigurationService.getCurrentCachedLatencies(),U=this.networkConfigurationService.getNetworkOverride();return(0,L.aj)([F,U]).pipe((0,h.q)(1),(0,E.U)(([z,Q])=>{var dt,X;if(Q&&null!==(dt=this.appConfig)&&void 0!==dt&&null!==(dt=dt.lbrConfig)&&void 0!==dt&&dt.applyDeterministicServerRouting){const N="latency@"+Q.address;return{[N]:z&&z[N]?z[N]:"-1"}}if(!z)return{};const m=(null===(X=this.appConfig)||void 0===X||null===(X=X.lbrConfig)||void 0===X?void 0:X.cachedLatencyCount)||n.FJ,Y=Object.keys(z).sort((N,Z)=>parseInt(z[N],10)-parseInt(z[Z],10)).slice(0,m),D={};return Y.forEach(N=>{D[N]=z[N]}),D}))}refreshServerInfo(){return this.serverInfoStream.refresh()}getDefaultZone(){return this.streamingServiceUrl?this.streamingServiceUrl.replace("http://","").replace("https://","").replace("/",""):""}}return(j=tt).\u0275fac=function(F){return new(F||j)(_.LFG(b.ed),_.LFG(o.Y),_.LFG(I.VK),_.LFG(q.m),_.LFG(a.X),_.LFG(y.W),_.LFG(M.f),_.LFG(P.O_),_.LFG(s.HR),_.LFG(K.$_),_.LFG(R.eP),_.LFG(b._J))},j.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),tt})()},43818:(Dt,ct,t)=>{"use strict";t.d(ct,{r:()=>e.r});var e=t(25529)},89277:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>h});var e=t(13963),i=t(64836),L=t(18288),f=t(47178),S=t(61699),u=t(15476),g=t(32392);let h=(()=>{var O;class E{constructor(p,V,c){if(this.deeplinkHelperService=V,this.guestModeConfig=L.db,this.guestMode=!1,this.logger=p.getLogger("GuestModeHelperService"),c.setForceTouchModeCallback(this.getForceTouchModeSettings.bind(this)),(0,i.sv)()){this.guestMode=!0;const C=this.deeplinkHelperService.getUpdatedPartnerId((0,i.cj)(L.uE.PartnerId))||"";this.setGuestModeConfig(C)}}isGuestAppFlow(){var p;return this.isGuestMode&&(null===(p=this.getGuestModeConfig())||void 0===p?void 0:p.isGuestAppFlow)}updateGuestModeConfig(p){if(p){const{allowedRedirectUrls:V,...c}=p;this.guestModeConfig={...this.guestModeConfig,...c},this.logger.info("updated GuestModeConfig",this.guestModeConfig)}}mergeGuestModeConfig(p,V){return p&&V?(0,f.merge)(V,p):V}fetchDefaultGDNMetaData(p){var V;const c=null===(V=this.getGuestModeConfig())||void 0===V?void 0:V.metadata,C=this.createDefaultMetdata(p);return this.logger.info("metadata Overrides: ",JSON.stringify(c)),this.logger.info("default MetaData: ",JSON.stringify(C)),C&&c?[(0,f.merge)(C,c)]:[C]}createDefaultMetdata(p){const V={...L.h4};return V.variants[0].id=p,V}getGuestModeConfig(){return this.guestModeConfig}getForceTouchModeSettings(){var p;return e.ng.isTouchPlatform()?null===(p=this.guestModeConfig)||void 0===p?void 0:p.forceTouchModeSettings:{}}isWhiteLabelingEnabled(){var p;return null===(p=this.getGuestModeConfig())||void 0===p?void 0:p.isWhiteLabelingEnabled}hideGuestAppFlowStartButton(){var p;return this.deeplinkHelperService.windowedMode&&(null===(p=this.getGuestModeConfig())||void 0===p?void 0:p.hideAppStartButton)}get isGuestMode(){return this.guestMode}set isGuestMode(p){this.guestMode=p}setGuestModeConfig(p){this.guestModeConfig=L.T8[p]||L.db}}return(O=E).\u0275fac=function(p){return new(p||O)(S.LFG(e.ed),S.LFG(u.g),S.LFG(g.m3))},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},1498:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>s.h,o:()=>I});var e=t(49481),i=t(9681),L=t(33994),f=t(64555),x=t(47422),S=t(46939),u=t(58175),g=t(87965),h=t(13963),O=t(31157),E=t(53576),w=t(89857),p=t(62712),V=t(64836),c=t(81351),C=t(47927),l=t(77869),o=t(79993),n=t(61699),s=t(89277),R=t(79530),_=t(30285),b=t(3164);let I=(()=>{var q;class a{constructor(M,P,K,B,j,tt,ot,F,U,z){this.guestModeHelperService=P,this.gfnSdkService=K,this.appConfig=B,this.endpointFactory=j,this.distributedtracingUtilService=tt,this.telemetryService=ot,this.gameShareUrlService=F,this.experienceControlService=U,this.systemInfoService=z,this.guestModeExitUrl="",this.guestModeAllowedRedirectUrls=[],this.isGuestFlowConfigFetchedSubject=new e.t(1),this.logger=M.getLogger("GuestModeService")}getAuthConfigFromNonce(M,P,K,B){var j,tt;const ot={timeout:null!==(j=this.appConfig.accountLinking.defaultTimeout)&&void 0!==j?j:15e3,timeBetweenRetries:0,maxRetries:null!==(tt=this.appConfig.accountLinking.defaultRetries)&&void 0!==tt?tt:1},F=this.endpointFactory.createEndpoint({config:ot}),z=this.createRequestOptions({partnerId:P,cmsId:K,nonce:M,deviceId:B},{}),Q=F.post(this.buildApiUrl("token"),z);return this.distributedtracingUtilService.handleHttpEndpointSpan(Q,z,O.j1.AlsTokenExchange).pipe((0,x.U)(dt=>(this.logger.info("Successfully got JWT token from ALS API"),{authType:"jwt",partnerData:"",partnerSecureData:null==dt?void 0:dt.partnerSecureData,token:null==dt?void 0:dt.token})))}buildApiUrl(M){var P;return(null===(P=this.appConfig.accountLinking)||void 0===P?void 0:P.server)+"/v2/"+M}createRequestOptions(M={},P={}){return{params:P,body:M}}get guestModeAllowedRedirectUrlsList(){return this.guestModeAllowedRedirectUrls}set guestModeAllowedRedirectUrlsList(M){this.guestModeAllowedRedirectUrls=M}get isGuestFlowConfigFetched$(){return this.isGuestFlowConfigFetchedSubject.asObservable()}getGuestModeExitUrl(){return this.guestModeExitUrl}isStateValid(M){return!!((0,l.RE)(M)||(0,l.Zp)(M)||/^[a-zA-Z0-9-]{1,36}$/.test(M))}createRedirectURLWithState(M,P,K){return(0,V.GW)(M,P,K)}initializeGuestModeExitUrl(M,P,K){this.guestModeExitUrl=(0,V.GW)(M,P,K.toString())}updateRedirectURLWithSubErrorCode(M){this.guestModeExitUrl=(0,V.GW)(this.guestModeExitUrl,p.b5.SubStatus,(0,o.h6)(M)),this.gameShareUrlService.setExitUrl(this.guestModeExitUrl)}updateGuestModeExitUrl(M){this.guestModeExitUrl=(0,V.GW)(this.guestModeExitUrl,p.b5.Status,M.toString()),this.gameShareUrlService.setExitUrl(this.guestModeExitUrl)}fetchGuestFlowConfigCloudVariable(M,P,K,B){return this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.guestFlowClientConfig,{partnerId:M},{useCache:!1,useNetworkTimeoutForCacheFallback:!1},C.Z4.GxTargetGetCloudVariable,C.Qu.Other).pipe((0,S.q)(1),(0,x.U)(j=>{var tt;this.gxtGuestFlowClientConfig=j.value,this.logger.info("guestFlowClientConfig from gxtarget is: ",this.gxtGuestFlowClientConfig);const ot=this.gxtGuestFlowClientConfig.defaultPartnerConfig;let F;K&&(F=this.gxtGuestFlowClientConfig[K]);const U=this.guestModeHelperService.mergeGuestModeConfig(F,ot),z=(null==U?void 0:U.allowedRedirectUrls)||[];if(this.guestModeHelperService.updateGuestModeConfig(U),this.logger.info("Final Guest Mode Config: ",JSON.stringify(U)),this.isGuestFlowConfigFetchedSubject.next(),""!==P||0!==z.length){let dt=decodeURIComponent(P);if(!z.includes(dt))return{success:!1,error:c.cYw.RedirectURLNotAllowed};if(""!==B){if(!this.isStateValid(B))return{success:!1,error:c.cYw.RedirectURLNotAllowed};dt=this.createRedirectURLWithState(dt,p.b5.State,B)}else this.logger.info("Optional param state is empty");this.initializeGuestModeExitUrl(dt,p.b5.Status,p.et.Success)}return null===(tt=null==ot?void 0:ot.enabled)||void 0===tt||tt?{success:!0,error:c.cYw.None,guestFlowStatusCode:p.et.Success}:(this.logger.error("Guest Mode is not enabled for ",M),{success:!1,error:c.cYw.Unauthorized,guestFlowStatusCode:p.et.Campaign_Suspended})}),(0,u.K)(j=>(this.logger.error("Error in fetching guestFlowClientConfig from GXT",j),(0,i.of)({success:!1,error:c.cYw.Unknown}))))}setAuthDataUsingNonce(M,P,K){return this.systemInfoService.getSystemInfo([h.l7.DeviceId]).pipe((0,g.zg)(B=>this.getAuthConfigFromNonce(M,P,parseInt(K,10),B.DeviceId)),(0,x.U)(B=>B.token&&0!==B.token.length?(this.gfnSdkService.setSdkClient(P,B),{success:!0,error:c.cYw.None,guestFlowStatusCode:p.et.Success}):(this.logger.error("Invalid JWT token from ALS API"),{success:!1,error:c.cYw.Unauthorized,guestFlowStatusCode:p.et.GFN_Error})),(0,u.K)(B=>(this.logger.error("Failed to fetch JWT token from ALS API",B),(0,i.of)(401===B.status?{success:!1,error:c.cYw.PartnerAuthFailed,guestFlowStatusCode:p.et.Partner_Error}:{success:!1,error:c.cYw.Unauthorized,guestFlowStatusCode:p.et.GFN_Error}))))}setAuthDataUsingNonceAndUpdateGuestFlowConfig(M,P,K,B,j,tt){if(!B)return this.logger.error("No cms-id in deeplink with nonce"),(0,L._)(c.cYw.BadRequest);const ot=this.fetchGuestFlowConfigCloudVariable(P,j,K,tt),F=this.setAuthDataUsingNonce(M,P,K);return(0,f.aj)([ot,F]).pipe((0,S.q)(1),(0,g.zg)(([U,z])=>U.success?z.success?(0,i.of)([U,z]):(null!=z&&z.guestFlowStatusCode&&this.updateGuestModeExitUrl(null==z?void 0:z.guestFlowStatusCode),(0,L._)(z.error)):(null!=U&&U.guestFlowStatusCode&&this.updateGuestModeExitUrl(null==U?void 0:U.guestFlowStatusCode),(0,L._)(U.error))),(0,g.zg)(U=>this.gfnSdkService.getAuthInfo()),(0,x.U)(U=>(U.authType===E.Gr.JWT&&(this.telemetryService.setEventsCommonData({userId:U.userId,externalUserId:U.externalUserId,idpId:U.idpId},!0),this.experienceControlService.setUserInfo({userId:w.wy.Undefined,idpId:w.wy.Undefined})),!0)))}}return(q=a).\u0275fac=function(M){return new(M||q)(n.LFG(h.ed),n.LFG(s.h),n.LFG(E.s),n.LFG(R.V),n.LFG(_.V9),n.LFG(O.Dc),n.LFG(w.y0),n.LFG(b.t),n.LFG(C.Q6),n.LFG(h.Ob))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),a})()},97245:(Dt,ct,t)=>{"use strict";t.d(ct,{E:()=>C});var e=t(54860),i=t(30285),L=t(89857),f=t(65343),x=t(13963),S=t(47178),g=t(5717),h=t(73992),O=t(9681),E=t(79530),w=t(87965),p=t(45078),V=t(61699),c=t(40943);let C=(()=>{var l;class o{constructor(s,R,_,b,I,q){this.injector=s,this.statusCodeZeroAnalyzerFactoryService=_,this.localeService=b,this.serviceWorkerService=I,this.externalJsLoadService=q,this.logger=R.getLogger("http-telemetry.service"),this.reverseOriginalService=new Map,Object.keys(f.v6v).forEach(a=>{this.reverseOriginalService.set(f.v6v[a],a)}),this.reverseServiceUseCase=new Map,Object.keys(f.f$p).forEach(a=>{this.reverseServiceUseCase.set(f.f$p[a],a)}),this.reverseServiceSubUseCase=new Map,Object.keys(f.HGL).forEach(a=>{this.reverseServiceSubUseCase.set(f.HGL[a],a)}),this.pendingNetworkResponseMap=new Map}getStatusCodeZeroAnalyzer(){var s;if(this.statusCodeZeroAnalyzer)return this.statusCodeZeroAnalyzer;const R=null===(s=this.injector.get(E.V))||void 0===s?void 0:s.statusCodeZeroAnalyzerConfig;return this.statusCodeZeroAnalyzer=this.statusCodeZeroAnalyzerFactoryService.createAnalyzer(R),this.statusCodeZeroAnalyzer}initialize(){this.logger.info("Initializing Http Telemetry Service"),i.ay.httpErrorEvents$().subscribe(s=>{this.sendHttpFailureEvent(s)}),i.ay.httpSuccessEvents$().subscribe(s=>{this.sendHTTPSuccessEvent(s)}),this.sendHTTPGetCallsTelemetry(),this.serviceWorkerService.networkResponseReceived.subscribe(s=>{this.handleNetworkResponseReceived(s)},g.Z)}handleNetworkResponseReceived(s){const R=s.requestId;if(this.pendingNetworkResponseMap.has(R)){const b=this.pendingNetworkResponseMap.get(R);if(this.pendingNetworkResponseMap.delete(R),s.responseStatusCode<=0||s.responseStatusCode>=400){var _;const I=b.httpSuccessEvent.parameters,q=new f.MjV({destinationIp:I.destinationIp,serviceSubUseCase:I.serviceSubUseCase,sourceComponent:I.sourceComponent,serviceUseCase:I.serviceUseCase,originalService:I.originalService,xRequestId:I.xRequestId,url:I.url,retryCount:I.retryCount,wasSWCacheBypassed:I.wasSWCacheBypassed,networkErrorCode:String(s.responseStatusCode),networkErrorMessage:(null===(_=s.responseBody)||void 0===_?void 0:_.substring(0,1024))||""});this.telemetryService.push(q)}else b.httpSuccessEvent.parameters.durationMs=s.responseReceivedTimeMs-b.requestStartTime,this.telemetryService.push(b.httpSuccessEvent)}}sendHTTPGetCallsTelemetry(){this.externalJsLoadService.jsLoadTelemetrySubject$.subscribe(s=>{this.updateAndSendTelemetry(s,f.f$p.FetchJSFile)}),x.ng.isBrowserPlatform()&&(x.OA.retrySubject.subscribe(s=>{this.updateAndSendTelemetry(s,f.f$p.FetchJSFile)}),this.localeService.getLocaleDownloadRetryTelemetryData().subscribe(s=>{this.updateAndSendTelemetry(s,f.f$p.FetchLocaleJson)}))}updateAndSendTelemetry(s,R){const _={includeRequestId:!1,reportRequestData:{originalService:f.v6v.AwsS3,serviceUseCase:R,serviceSubUseCase:f.HGL.Other,retryCount:s.attemptCount.toString(),requestEndTime:"0",requestStartTime:"0"}};if(s.isSuccess){const I={response:new e.Zn({status:200,url:s.fileName}),options:_};this.sendHTTPSuccessEvent(I)}else this.sendHttpFailureEvent({response:{url:s.fileName,status:404},options:_})}getRetryCount(s){return(0,S.isNil)(s)||(0,S.isNil)(s.retryCount)?0:parseInt(s.retryCount,10)}getSWCacheBypassInfo(s){let _,R=f.wye.UNDEFINED;return s.headers&&s.headers[p.Fk.SwCacheBypass]&&(_=s.headers[p.Fk.SwCacheBypass],R=_===JSON.stringify(!0)?f.wye.TRUE:f.wye.FALSE),{swCacheBypassHeaderValue:_,wasSWCacheBypassed:R}}sendHttpFailureEvent(s){(0,S.isNil)(this.telemetryService)&&(this.telemetryService=this.injector.get(L.y0)),(0,S.isNil)(this.telemetryUtilService)&&(this.telemetryUtilService=this.injector.get(f.wU6));const R=s.response.xRequestId?s.response.xRequestId:"";(0,S.isNil)(this.telemetryService)||(0,S.isNil)(this.telemetryUtilService)?this.logger.warn("Unable to send event for failed http request: ",s.response.url):(0,h.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,w.zg)(_=>0!==s.response.status?(0,O.of)({statusCode:s.response.status}):this.getStatusCodeZeroAnalyzer().getFailureCode({requestUrl:s.response.url,uniqueRequestId:R}))).subscribe(_=>{const b=_.cachedDNSEntry,I=(null==b?void 0:b.destinationIp)||"",q=this.getSWCacheBypassInfo(s.options);let a="";var y,M,P,K;a=0===s.response.status?null!==(y=null===(M=s.response.rawResponse)||void 0===M?void 0:M.message)&&void 0!==y?y:"":null!==(P=JSON.stringify(null===(K=s.response.rawResponse)||void 0===K?void 0:K.error))&&void 0!==P?P:"";const B=new f.MjV({sourceComponent:this.telemetryUtilService.getClientType(),originalService:this.getOriginalService(s.options.reportRequestData),serviceUseCase:this.getServiceUseCase(s.options.reportRequestData),serviceSubUseCase:this.getServiceSubUseCase(s.options.reportRequestData),url:s.response.url,networkErrorCode:String(_.statusCode),destinationIp:I,xRequestId:R,retryCount:this.getRetryCount(s.options.reportRequestData),wasSWCacheBypassed:q.wasSWCacheBypassed,networkErrorMessage:a.substring(0,1024)});this.telemetryService.push(B)})}sendHTTPSuccessEvent(s){(0,S.isNil)(this.telemetryService)&&(this.telemetryService=this.injector.get(L.y0)),(0,S.isNil)(this.telemetryUtilService)&&(this.telemetryUtilService=this.injector.get(f.wU6)),(0,S.isNil)(this.telemetryService)||(0,S.isNil)(this.telemetryUtilService)?this.logger.info("Unable to send event for http success request: ",s.response.url):(0,h.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).subscribe(R=>{const _=this.getSWCacheBypassInfo(s.options),b=new f.wEN({sourceComponent:this.telemetryUtilService.getClientType(),originalService:this.getOriginalService(s.options.reportRequestData),serviceUseCase:this.getServiceUseCase(s.options.reportRequestData),serviceSubUseCase:this.getServiceSubUseCase(s.options.reportRequestData),url:s.response.url,httpStatus:s.response.status,durationMs:parseInt(s.options.reportRequestData.requestEndTime,10)-parseInt(s.options.reportRequestData.requestStartTime,10),destinationIp:"",responseData:"",xRequestId:s.options.includeRequestId?s.options.headers[i.n0.xRequestId]:"",retryCount:this.getRetryCount(s.options.reportRequestData),wasSWCacheBypassed:_.wasSWCacheBypassed});b.parameters.xRequestId&&this.serviceWorkerService.willGFNServiceWorkerHandleRequest(s.response.url,_.swCacheBypassHeaderValue)?this.pendingNetworkResponseMap.set(b.parameters.xRequestId,{httpSuccessEvent:b,requestStartTime:parseInt(s.options.reportRequestData.requestStartTime,10)}):this.telemetryService.push(b)})}getOriginalService(s){return(0,S.isNil)(s)||(0,S.isNil)(s.originalService)||(0,S.isNil)(this.reverseOriginalService.get(s.originalService))?f.v6v.Other:f.v6v[this.reverseOriginalService.get(s.originalService)]}getServiceUseCase(s){return(0,S.isNil)(s)||(0,S.isNil)(s.serviceUseCase)||(0,S.isNil)(this.reverseServiceUseCase.get(s.serviceUseCase))?f.f$p.Other:f.f$p[this.reverseServiceUseCase.get(s.serviceUseCase)]}getServiceSubUseCase(s){return(0,S.isNil)(s)||(0,S.isNil)(s.serviceSubUseCase)||(0,S.isNil)(this.reverseServiceSubUseCase.get(s.serviceSubUseCase))?f.HGL.Other:f.HGL[this.reverseServiceSubUseCase.get(s.serviceSubUseCase)]}}return(l=o).\u0275fac=function(s){return new(s||l)(V.LFG(V.zs3),V.LFG(x.ed),V.LFG(x.Ng),V.LFG(x.OL),V.LFG(p.HR),V.LFG(c.Z))},l.\u0275prov=V.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},56989:(Dt,ct,t)=>{"use strict";t.d(ct,{i:()=>h});var e=t(36520),i=t(46939),L=t(87965),f=t(93005),x=t(78943),S=t(61699),u=t(13963),g=t(7749);let h=(()=>{var O;class E{constructor(p,V,c,C){this.ipcService=p,this.idmService=c,this.bridgeService=C,this.logger=V.getLogger("shared/idm-ipc"),this.ipcService.get$(f.oI.LoginStatusChanged).pipe((0,e.w)(l=>c.refreshUser())).subscribe(()=>{this.logger.info("User refreshed successfully")},l=>{this.logger.error("Failed refresh User with error: ",l)})}sendLoginStatusChange(){this.idmService.accountStatusChanged.pipe((0,i.q)(1),(0,L.zg)(p=>this.bridgeService.executeCommand(x.Gh.Common.Ipc.LoginStatus,{data:p}))).subscribe(p=>this.logger.info("success sending LoginStatus",p),p=>this.logger.error("error sending LoginStatus",p))}}return(O=E).\u0275fac=function(p){return new(p||O)(S.LFG(f.uC),S.LFG(u.ed),S.LFG(g.No),S.LFG(u.dF))},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},17559:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>w});var e=t(73992),i=t(65343),L=t(3310),f=t(85046),x=t(46939),S=t(87965),u=t(61699),g=t(13963),h=t(89857),O=t(87815);const E="loginStartEvent";let w=(()=>{var p;class V{constructor(C,l,o,n,s,R){var _;this.telemetryUtilService=l,this.telemetryService=o,this.starfleetService=n,this.config=s,this.appConfig=R,this.isLoginWallEnabled=!(null===(_=this.appConfig)||void 0===_||null===(_=_.featureEnablement)||void 0===_||!_.showLoginWall),this.logger=C.getLogger("gfn/shared/idm/idmLoginService")}sendLoginSuccessUserSessionEvent(C=!1){this.telemetryService.getValidUserIdResetObservable().pipe((0,f.h)(l=>!0===l),(0,x.q)(1),(0,S.zg)(l=>(this.logger.info("Sending login success user session event"),this.starfleetService.accountStatusChanged.pipe((0,x.q)(1))))).subscribe(l=>{let o=this.isLoginWallEnabled?i.Vwu.LoginWithStarfleetViaLoginWall:i.Vwu.LoginWithStarfleet;C&&(o=i.Vwu.SilentLoginDirectLaunch);const n=new i.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:o,status:i.N3X.Success,errorDetails:status.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(n,null,{immediateRequest:!0}),this.logger.info("Sent loginSuccessEvent telemetry")})}sendLoginFailureUserSessionEvent(C=!1){this.logger.info("Sending login failed user session event"),(0,e.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,S.zg)(l=>this.starfleetService.accountStatusChanged.pipe((0,x.q)(1)))).subscribe(l=>{let o=this.isLoginWallEnabled?i.Vwu.LoginWithStarfleetViaLoginWall:i.Vwu.LoginWithStarfleet;C&&(o=i.Vwu.SilentLoginDirectLaunch);const n=new i.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:o,status:i.N3X.Failure,errorDetails:this.starfleetService.lastError.error_description,totalMs:0,serverErrorCode:this.starfleetService.lastError.error_code,errorUri:this.starfleetService.lastError.error_uri});this.telemetryService.push(n,null,{immediateRequest:!0})})}sendCreateHTTPServerErrorEvent(){this.logger.info("Sending create HTTP server error event");const C=new i.cym({portsUsed:this.config.portNumbers?this.config.portNumbers.toString():"",errorMessage:L.C4.HTTP_START_FAILED});this.telemetryService.push(C)}sendLoginStartEvent(C,l){this.logger.info("Sending login triggered event");const o={loginProviderIdpId:C||""},n=new i.uEx(o);l?sessionStorage.setItem(E,JSON.stringify(o)):this.telemetryService.push(n)}checkAndSendLoginStartEvent(){(0,e.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).subscribe(C=>{const l=sessionStorage.getItem(E);if(l){const o=new i.uEx(JSON.parse(l));this.telemetryService.push(o),sessionStorage.removeItem(E)}})}}return(p=V).\u0275fac=function(C){return new(C||p)(u.LFG(g.ed),u.LFG(i.wU6),u.LFG(h.y0),u.LFG(L.DO),u.LFG(L.TR),u.LFG(O.VK))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},31778:(Dt,ct,t)=>{"use strict";t.d(ct,{KN:()=>L,dv:()=>i});var e=t(13963);const i={featureId:"",useCachedToggle:!1,defaultStarfleetStatus:!1,toggleRefreshTime:864e5},L={userId:"",externalId:"",idpId:"",displayName:"",isAuthenticated:!1,technicalConsent:e.p6.None,behavioralConsent:e.p6.None,email:"",age:0}},98144:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>z});var e=t(49481),i=t(9681),L=t(89718),f=t(6776),x=t(69531),S=t(87965),u=t(17627),g=t(47422),h=t(81171),O=t(58175),E=t(15746),w=t(24727),p=t(46939),V=t(13963),c=t(3310),C=t(67791),l=t(89129),o=t(53576),n=t(64836),s=t(31778),R=t(59797),_=t(47178),b=t(61699),I=t(47927),q=t(15665),a=t(27947),y=t(87815),M=t(32311),P=t(65343),K=t(17559),B=t(1073),j=t(78943);let tt=(()=>{var Q;class dt{constructor(m,Y,D,N,Z){var W,A,d;this.config=m,this.bridgeService=D,this.sharedStorage=N,this.dbService=Z,this.storageType=c.Z1.SharedStorage,this.logger=Y.getLogger("crimson/NativeAuthService"),this.idTokenRefreshUnderDuration=null!==(W=this.config.idTokenRefreshUnderDuration)&&void 0!==W?W:0,this.idTokenRefreshUnderDuration<0&&(this.idTokenRefreshUnderDuration=0),this.storageType=null!==(A=null===(d=this.config)||void 0===d?void 0:d.storageType)&&void 0!==A?A:c.Z1.SharedStorage,this.config.storageType===c.Z1.IndexedDB&&(this.globalStore=this.dbService.getGlobalStore(c.yq.DBName))}syncSessionData(){return B.z.loadFrom(this.storageType===c.Z1.SharedStorage?this.sharedStorage:this.globalStore,this.idTokenRefreshUnderDuration).pipe((0,S.zg)(Y=>{var D;let N={};var Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt;return null!=Y&&null!==(D=Y.data)&&void 0!==D&&null!==(D=D.user)&&void 0!==D&&D.isAuthenticated&&(N={clientToken:null===(Z=Y.data)||void 0===Z?void 0:Z.clientToken,accessToken:null===(W=Y.data)||void 0===W?void 0:W.accessToken,idToken:null===(A=Y.data)||void 0===A?void 0:A.idToken,clientTokenExpiry:null===(d=Y.data)||void 0===d?void 0:d.clientTokenExpiry,accessTokenExpiry:null===(H=Y.data)||void 0===H?void 0:H.accessTokenExpiry,idTokenExpiry:null===($=Y.data)||void 0===$?void 0:$.idTokenExpiry,sub:null===(J=Y.data.user)||void 0===J?void 0:J.sub,idpName:null===(st=Y.data.user)||void 0===st?void 0:st.idp_name,idpId:null===(lt=Y.data.user)||void 0===lt?void 0:lt.idp_id,externalId:null===(gt=Y.data.user)||void 0===gt?void 0:gt.external_id,preferredUserName:null===(vt=Y.data.user)||void 0===vt?void 0:vt.preferred_username,trackTechnicalData:null===(k=Y.data.user)||void 0===k||null===(k=k.consent)||void 0===k?void 0:k.trackTechnicalData,trackBehavioralData:null===(pt=Y.data.user)||void 0===pt||null===(pt=pt.consent)||void 0===pt?void 0:pt.trackBehavioralData}),this.bridgeService.executeCommand(j.Gh.Common.Nativeauth.syncSessionData,N).pipe((0,g.U)(yt=>{var Xt;return yt?new B.z(this.idTokenRefreshUnderDuration,{clientToken:yt.clientToken,accessToken:yt.accessToken,idToken:yt.idToken,clientTokenExpiry:yt.clientTokenExpiry,accessTokenExpiry:yt.accessTokenExpiry,idTokenExpiry:yt.idTokenExpiry,user:{isAuthenticated:!0,sub:yt.sub,idp_name:yt.idpName,idp_id:yt.idpId,external_id:yt.externalId,preferred_username:yt.preferredUserName,consent:{trackTechnicalData:yt.trackTechnicalData,trackBehavioralData:yt.trackBehavioralData}}},null!==(Xt=this.config.storageType)&&void 0!==Xt?Xt:c.Z1.SharedStorage):null}))}))}}return(Q=dt).\u0275fac=function(m){return new(m||Q)(b.LFG(c.TR),b.LFG(V.ed),b.LFG(V.dF),b.LFG(q.OA),b.LFG(V.MC))},Q.\u0275prov=b.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),dt})();var U,ot=t(72654),F=t(21356);class z{get loginProvider(){return this._loginProvider}set loginProvider(dt){this._loginProvider=dt}constructor(dt,X,m,Y,D,N,Z,W,A,d,H,$,J,st){this.loggingService=dt,this.experienceControlService=X,this.sharedStorageService=m,this.gfnSdkService=Y,this.starfleetService=D,this.router=N,this.appConfig=Z,this.browserSupportService=W,this.telemetryUtilService=A,this.idmTelemetryService=d,this.redirectService=H,this.nativeAuthService=$,this.uasService=J,this.loginInfoStoreService=st,this.isStreamer=!1,this._loginProvider=null,this.disableStarfleetUser=!1,this.notifyLogoutStartedSubject=new e.t(1),this.isSameTabLoginFeatureEnabled=!1,this.initSub=new e.t(1),this.accountStatusChanged$=new e.t(1),this.accountStatusChangedWithAge$=new e.t(1),this.getAuthStatus=()=>this.starfleetService.getAuthStatus(),this.cancel=()=>this.starfleetService.cancel(),this.getDeviceDisplayCode=()=>this.starfleetService.getDeviceDisplayCode(),this.logger=dt.getLogger("gfn/shared/idm/idmService"),this.starfleetEnabled=!1,this.idmProvider$=new e.t(1),this.isStreamer=(0,n.wI)(this.router.url),this.isSameTabLoginFeatureEnabled=this.appConfig.starfleet.sameTabLogin}initialize(dt){var X;this.disableStarfleetUser=null!=dt&&dt,this.updateIdmProvider(!0),this.accountStatusChanged.subscribe(m=>{V.ng.isAndroidPlatform()&&this.nativeAuthService.syncSessionData().pipe((0,S.zg)(Y=>this.starfleetService.syncSession(Y))).subscribe(Y=>this.logger.info("sucess in native session sync"),Y=>this.logger.error("error in native session sync",Y)),this.setExperienceControlData(m)}),this.checkAndSilentLogin(),this.telemetryUtilService.saveTelmetrySessionIdOnLoginAndLogout(this.sameTabAuthStarted()),this.manageAccountStatusChanged(),null!==(X=this.appConfig)&&void 0!==X&&null!==(X=X.featureEnablement)&&void 0!==X&&null!==(X=X.logininfo)&&void 0!==X&&X.enabled&&this.accountStatusChanged.pipe((0,S.zg)(m=>this.loginInfoStoreService.updateSsoLoginInfoEntry(null==m?void 0:m.isAuthenticated,null==m?void 0:m.idpId,null==m?void 0:m.email,V.z_.GFN))).subscribe()}setExperienceControlData(dt){this.experienceControlService.setUserInfo(dt);const X=this.appConfig.gxTarget.denyListExperiences||[];let m=Object.values(this.appConfig.gxTarget.experiences).filter(Y=>!X.includes(Y));!dt.userId&&!(0,n.sv)()&&(m=m.filter(Y=>this.appConfig.gxTarget.deviceIdActivatedExperiences.includes(Y))),this.experienceControlService.setCvList(m),this.experienceControlService.refreshCloudVariables()}verifySsoSharedPageMessage(dt){return dt&&dt.login_hint&&dt.idp_id===this.appConfig.starfleet.jarvisIdpId}gfnStoredLoginInfoApplicableForSso(dt,X,m){return!this.loginInfoStoreService.isEmptySilentLoginInfo(m)&&m.idp_id===dt&&dt===X}isSsoEnabled(){return!this.browserSupportService.isLocalDomain()&&this.appConfig.starfleet.ssoEnabled&&!this.disableStarfleetUser}checkAndSilentLogin(){if(!this.isSsoEnabled())return this.initSub.next(!0),void this.logger.info("SSO not applicable, unblocking login status broadcast");let dt,X,m;this.silentLoginHelperClass=new V.ol(this.loggingService,this.appConfig.starfleet.ssoSharedPageUrl,this.appConfig.starfleet.maxWaitTimeIframeLoad),this.starfleetService.getAuthStatus().pipe((0,S.zg)(Y=>Y.authReturnState===c.fH.LogoutCompleted?this.silentLoginHelperClass.clearUserDetailsFromSharedPage:this.starfleetAccountStatusChangedWrapper()),(0,S.zg)(Y=>null!=Y&&Y.isAuthenticated?this.silentLoginHelperClass.saveUserDetailsToSharedPage({login_hint:Y.email,idp_id:Y.idp_id,sub:Y.sub,timestamp:(new Date).toISOString()}):(0,i.of)(null))).subscribe(Y=>this.logger.info("getAuthStatus success"),Y=>this.logger.info("getAuthStatus error:",Y)),(0,L.T)(this.starfleetService.accountStatusChanged.pipe((0,u.P)(),(0,g.U)(Y=>(dt=Y,dt))),this.silentLoginHelperClass.getUserDetailsFromSharedPage.pipe((0,g.U)(Y=>(X=null!=Y?Y:{idp_id:""},X))),this.starfleetService.getAuthStatus().pipe((0,g.U)(Y=>Y.authReturnState===c.fH.LogoutCompleted&&(m=!0,m)))).pipe((0,S.zg)(Y=>dt&&dt.isAuthenticated?(this.logger.info("User is already logged in so silent login not required"),(0,i.of)(C.d.LoginSSONotApplicable)):m?(this.logger.info("Returning from Logout so skipping silent login"),(0,i.of)(C.d.LoginSSONotApplicable)):dt&&!dt.isAuthenticated&&X?this.verifySsoSharedPageMessage(X)?(this.logger.info("Silent login starting"),this.starfleetService.login({silentLoginInfo:{silentLoginHelperInstance:this.silentLoginHelperClass,ssoSharedPageData:X}}).pipe((0,h.Z)())):(this.logger.info("Silent login not possible due to login hints verification"),(0,i.of)(C.d.LoginSSONotApplicable)):(this.logger.info("Silent login processing ongoing"),(0,i.of)(C.d.LoginSSOProcessing))),(0,O.K)(Y=>(this.logger.error("SSO checking failed with error ",Y),(0,i.of)(C.d.LoginSSONotApplicable))),(0,E.b)(Y=>{Y!==C.d.LoginSSOProcessing&&(this.logger.info("Unblocking login status broadcast"),this.initSub.next(!0)),Y===c.fH.LoginCompleted?this.idmTelemetryService.sendLoginSuccessUserSessionEvent(!0):Y!==C.d.LoginSSOProcessing&&Y!==C.d.LoginSSONotApplicable&&this.idmTelemetryService.sendLoginFailureUserSessionEvent(!0)}),(0,w.o)(Y=>Y===C.d.LoginSSOProcessing)).subscribe()}updateIdmProvider(dt){this.starfleetEnabled=dt;const X={data:"starfleet"};this.gfnSdkService.getAuthInfo().subscribe(m=>{let Y=null;m.authType===o.Gr.IDM&&(Y=m.authToken),this.starfleetService.initialize(!0,!1,Y),this.isStreamer&&this.starfleetService.getAuthToken().subscribe(),this.idmProvider$.next({starfleetEnabled:this.starfleetEnabled,service:this.starfleetService})}),X.data="starfleet",this.sharedStorageService.writeBlock("authProvider",X).subscribe(m=>this.logger.info("success updating authProvider: ",m),m=>this.logger.error("error in updating auth provider: ",m))}handleAccountStatusChanged(dt,X=!1){return!0!==dt.isAuthenticated?(this.logger.info("account status changed, user is logged out"),(0,i.of)(dt)):this.getAuthToken(X).pipe((0,S.zg)(m=>null===m?(0,i.of)(R.z.NOT_LOGGED_IN):(this.logger.info("acquiring user at account status changed"),this.uasService.autoEntitleUser(m.token,X))),(0,S.zg)(m=>m===R.z.AUTHORIZATION_ERROR&&!1===X?(this.logger.warn("account-status-changed Auth Error retrying"),this.handleAccountStatusChanged(dt,!0)):m===R.z.NOT_LOGGED_IN||m===R.z.UNKNOWN||m===R.z.AUTHORIZATION_ERROR?this.logout(void 0,void 0,void 0,!0).pipe((0,S.zg)(Y=>f.C)):(0,i.of)(dt)))}manageAccountStatusChanged(){let dt={};this.starfleetService.accountStatusChanged.pipe((0,S.zg)(X=>this.handleAccountStatusChanged(X)),(0,g.U)(X=>{X&&((0,_.isEqual)(dt,X)||(dt.age=null==X?void 0:X.age,dt.isNetworkCall=null==X?void 0:X.isNetworkCall,(0,_.isEqual)(dt,X)?(this.logger.info("Only AccountStatusChangedWithAge event emitted."),this.accountStatusChangedWithAge$.next(X)):(this.logger.info("AccountStatusChanged event emitted."),this.accountStatusChanged$.next(X),this.accountStatusChangedWithAge$.next(X))),dt=X)})).subscribe()}starfleetAccountStatusChangedWrapper(){return this.initSub.pipe((0,S.zg)(dt=>this.accountStatusChanged$))}get accountStatusChanged(){return this.starfleetAccountStatusChangedWrapper().pipe((0,g.U)(dt=>this.disableStarfleetUser?s.KN:this.getUserFromStarfleet(dt)))}get accountStatusChangedWithAge(){return this.accountStatusChangedWithAge$.pipe((0,g.U)(dt=>this.disableStarfleetUser?s.KN:this.getUserFromStarfleet(dt)))}getUserFromStarfleet(dt){var X,m,Y,D;return{userId:dt.sub,externalId:dt.external_id,idpId:dt.idp_id,displayName:dt.preferred_username,isAuthenticated:dt.isAuthenticated,technicalConsent:null!==(X=dt.consent)&&void 0!==X&&X.trackTechnicalData?V.p6.Full:V.p6.None,behavioralConsent:null!==(m=dt.consent)&&void 0!==m&&m.trackBehavioralData?V.p6.Full:V.p6.None,targetedAdsOptIn:null!==(Y=null===(D=dt.consent)||void 0===D?void 0:D.targetedAdsOptIn)&&void 0!==Y?Y:void 0,email:dt.email,age:null==dt?void 0:dt.age,isNetworkCall:null==dt?void 0:dt.isNetworkCall}}get isUserTokenAvailable(){return this.starfleetService.isUserLoggedIn}get isLoggedIn(){return this.starfleetService.isUserLoggedIn}get cachedUser(){return this.getCachedUserForStarfleet().pipe((0,g.U)(dt=>{const X={data:{},expired:!0};return X.expired=dt.expired,dt.data&&(X.data=this.getUserFromStarfleet(dt.data)),X}))}get cachedUserAndAffiliateStatus(){return(0,x.P)(()=>this.getCachedUserAndAffiliateStatusForStarfleet()).pipe((0,g.U)(dt=>{const X={data:[],expired:!0};return X.expired=dt.expired,dt.data&&dt.data.length&&(X.data.push(this.getUserFromStarfleet(dt.data[0])),X.data.push(dt.data[1])),X}))}getCachedUserAndAffiliateStatusForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,p.q)(1),(0,S.zg)(dt=>dt.isAuthenticated?this.readStoredStarfleetUserAndAffiliateStatus(dt,!0):(0,i.of)({data:[dt,null],expired:!0})))}getCachedUserForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,p.q)(1),(0,g.U)(dt=>dt.isAuthenticated?{data:dt,expired:!1}:{data:void 0,expired:!0}))}get cachedAffiliateStatus(){return this.getCachedAffiliateStatusForStarfleet()}getCachedAffiliateStatusForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,p.q)(1),(0,S.zg)(dt=>dt.isAuthenticated?this.readStoredStarfleetUserAndAffiliateStatus(dt,!1):(0,i.of)({data:void 0,expired:!0})))}readStoredStarfleetUserAndAffiliateStatus(dt,X){return this.sharedStorageService.readBlock(`idm_${dt.sub}`).pipe((0,g.U)(m=>X?{data:[dt,m],expired:!1}:{data:m,expired:!1}))}setCachedAffiliateStatus(dt,X){return this.setCachedAffiliateStatusForStarfleet(dt,X)}setCachedAffiliateStatusForStarfleet(dt,X){return this.sharedStorageService.writeBlock(`idm_${dt||V.kQ}`,X)}getAuthToken(dt,X){return this.starfleetService.getAuthToken(dt,X).pipe((0,g.U)(m=>({token:m=this.disableStarfleetUser?null:m})))}setIdToken(dt){return this.starfleetService.createNewSessionFromIdToken(dt)}login(dt,X,m,Y,D,N){return this.uasService.onLoginInitiated(m).pipe((0,S.zg)(Z=>(0,L.T)(this.starfleetService.login({force:dt,idpId:X,preCreatedWindow:m,deviceName:Y,returnLocationUrl:D,silentLoginInfo:N,redirect:Z}).pipe((0,E.b)(W=>{(W===c.fH.LoginFailed||W===c.fH.LoginFailedNoRetry)&&this.uasService.onLoginFailed(this.starfleetService.lastError.error_code)})),this.uasService.AutoEntitleState)))}generateLogoutURL(){return this.accountStatusChanged.pipe((0,p.q)(1),(0,S.zg)(dt=>this.redirectService.getRedirectUrl(l.hE.GfnAccountManagementSSO,{idpId:dt.idpId,Plt:l.PY.Browser})))}logout(dt,X,m,Y){this.isSameTabLoginFeatureEnabled&&this.notifyLogoutStartedSubject.next(!0);const D=this.isSameTabLoginFeatureEnabled&&!Y?this.generateLogoutURL():(0,i.of)(X),N=(m||document.baseURI).split("?")[0];return D.pipe((0,S.zg)(Z=>this.starfleetService.logout(dt,Z,N,Y)))}refreshUser(){return this.starfleetService.refreshUser().pipe((0,g.U)(dt=>this.getUserFromStarfleet(dt)))}getUserServiceEndpoint(dt){return this.getServiceEndpointViaStarfleet(dt)}getClientData(dt,X){return this.starfleetService.getClientData(dt,X)}setClientData(dt,X,m){return this.starfleetService.setClientData(dt,X,m)}appendClientData(dt,X,m){return this.starfleetService.appendClientData(dt,X)}deleteClientData(dt,X,m){return this.starfleetService.deleteClientData(dt,X)}getServiceEndpointViaStarfleet(dt){return this.starfleetAccountStatusChangedWrapper().pipe((0,g.U)(X=>{let m=dt.gfnServiceEndpoints.find(Y=>Y.idpId===X.idp_id);if(!m||this.disableStarfleetUser){this.logger.info("Login provider not found with idp id, returning default provider");const Y=dt.defaultProvider;m=dt.gfnServiceEndpoints.find(D=>D.loginProvider===Y)}return{user:this.getUserFromStarfleet(X),serviceEndpoint:m}}))}get accountsUrl$(){return(0,i.of)("")}handleAuthError(dt,X,m,...Y){return this.starfleetService.handleAuthError(dt,X,m,...Y)}getLogoutInitializeNotification(){return this.isSameTabLoginFeatureEnabled?this.notifyLogoutStartedSubject.asObservable():f.C}sameTabAuthStarted(){return this.isSameTabLoginFeatureEnabled?this.starfleetService.sameTabAuthStarted():f.C}cancelLogin(dt){return this.uasService.cancelAutoEntitlement(),this.isLoggedIn.pipe((0,S.zg)(X=>X?(this.logger.info("user was logged in, and cancelled during auto entitle"),(0,i.of)({authData:{},isLoggedIn:X})):this.starfleetService.cancelLogin(dt).pipe((0,g.U)(m=>({authData:m,isLoggedIn:X})))),(0,g.U)(X=>(this.logger.info("Cancelled error detected while user logging in",X.authData),(!X.authData.error&&!this.appConfig.starfleet.useAuthorizationCodeFlow||X.isLoggedIn)&&this.logout(X.authData.access_token,null,null,!0).subscribe(),X.authData)))}}(U=z).LOGIN_CANCELLED_BY_USER=c.C4.LOGIN_CANCELLED_BY_USER,U.\u0275fac=function(dt){return new(dt||U)(b.LFG(V.ed),b.LFG(I.Q6),b.LFG(q.OA),b.LFG(o.s),b.LFG(c.DO),b.LFG(a.F0),b.LFG(y.VK),b.LFG(M.OA),b.LFG(P.wU6),b.LFG(K.e),b.LFG(l.VH),b.LFG(tt),b.LFG(ot.K),b.LFG(F.y))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})},67791:(Dt,ct,t)=>{"use strict";t.d(ct,{d:()=>i});var i=function(L){return L.LoginSSONotApplicable="Login SSO not applicable",L.LoginSSOProcessing="Login SSO in progress",L}(i||{})},7749:(Dt,ct,t)=>{"use strict";t.d(ct,{dv:()=>f.dv,T6:()=>L,No:()=>x.N}),t(67791);var i=t(61699);let L=(()=>{var u;class g{}return(u=g).\u0275fac=function(O){return new(O||u)},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac}),g})();var f=t(31778),x=t(98144)},93005:(Dt,ct,t)=>{"use strict";t.d(ct,{oI:()=>g.oI,Mx:()=>g.Mx,uC:()=>O,vS:()=>g.vS});var e=t(70506),i=t(15746),L=t(48433),f=t(24727),x=t(47178),S=t(78943),u=t(13963),g=t(61679),h=t(61699);let O=(()=>{var E;class w extends u.Il{constructor(V,c,C){const l=c.getLogger("IpcService");super(V,l),this.logger=l,this.defaultHandlerType=u.bi.Types.HandlerEventType.IpcEvent,this.registerNewHandler(u.bi.Types.HandlerEventType.IpcEvent,o=>!0,o=>(Object.values(g.oI).includes(o.type)||this.logger.error("Unrecognized IPC type: ",o.type),o.type),o=>o.content,o=>{const n=JSON.parse(o);return((0,x.isNil)(n)||(0,x.isNil)(n.type)||n.type!==g.oI.QueueEmpty&&(0,x.isNil)(n.content))&&this.logger.error("Improperly formed IPC message received: ",o),n}),C.get$(u.Nx.IpcNewMessage).subscribe(()=>this.checkIpcMessages(),o=>{this.logger.error("Error received from nativeEventService for IpcNewMessage event: ",o)})}pushMessage(V){if((0,x.isNil)(V))throw new Error("Must be a valid message");return this.bridgeService.executeCommand(S.Gh.Common.Ipc.Push,{message:V}).pipe((0,i.b)(c=>this.logger.info(c,V)))}checkIpcMessages(){this.bridgeService.executeCommand(S.Gh.Common.Ipc.Pop).pipe((0,L.jn)(V=>(null==V?void 0:V.type)===g.oI.QueueEmpty?e.E:(0,x.isNil)(null==V?void 0:V.type)?(this.logger.error("Invalid ipc message received: ",V),e.E):this.bridgeService.executeCommand(S.Gh.Common.Ipc.Pop)),(0,f.o)(V=>(null==V?void 0:V.type)!==g.oI.QueueEmpty)).subscribe(V=>{this.processMessage(JSON.stringify(V))})}}return(E=w).\u0275fac=function(V){return new(V||E)(h.LFG(u.dF),h.LFG(u.ed),h.LFG(u.o1))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})()},61679:(Dt,ct,t)=>{"use strict";t.d(ct,{Mx:()=>L,oI:()=>i,vS:()=>f});var e=t(78943),i=function(x){return x.SelfUpdate="IPC_SELF_UPDATE_EVENT",x.RecommendedUpdate="IPC_RECOMMENDED_UPDATE_EVENT",x.RequiredUpdate="IPC_REQUIRED_UPDATE_EVENT",x.CriticalUpdate="IPC_CRITICAL_UPDATE_EVENT",x.PushNotification="IPC_PUSH_NOTIFICATION",x.LoginStatusChanged="IPC_LOGIN_STATUS_CHANGED_EVENT",x.CollectClientLogs="IPC_COLLECT_LOGS",x.UpdateExperimentContext="IPC_UPDATE_EXPERIMENT_CONTEXT",x.ProgressUpdate="IPC_PROGRESS_UPDATE",x.QueueEmpty="IPC_QUEUE_EMPTY",x.UploadExceptionInfo="IPC_UPLOAD_EXCEPTION_INFO",x.SelfUpdateStatus="IPC_GET_SELF_UPDATE_STATUS",x.UpdateCheckFailure="IPC_UPDATE_CHECK_FAILURE",x.DownloadPrepareFailure="IPC_DOWNLOAD_PREPARE_FAILURE",x.SelfUpdateThresholdNotReached="IPC_SELF_UPDATE_FAILURE_THRESHOLD_NOT_REACHED",x}(i||{}),L=function(x){return x.ExceptionOccurred="ExceptionOccurred",x.UserFeedBack="UserFeedback",x.LoginFailure="LoginFailure",x}(L||{}),f=e.Yk.Common.Ipc.IpcTargets},28164:(Dt,ct,t)=>{"use strict";t.d(ct,{$3:()=>u,An:()=>e,Bw:()=>c,By:()=>p,D$:()=>L,Fj:()=>n,Gp:()=>C,JF:()=>E,K$:()=>o,Lc:()=>w,Ue:()=>i,Y:()=>l,YU:()=>S,j9:()=>R,mJ:()=>O,mk:()=>f,vp:()=>s,wh:()=>g,ws:()=>h,zg:()=>V});const e=1e4;var i=function(_){return _.DemoPaymentModel="DemoPaymentModel",_.FreeToPlayPaymentModel="FreeToPlayPaymentModel",_.PurchasePaymentModel="PurchasePaymentModel",_}(i||{}),L=function(_){return _.Demo="Demo",_.Free="Free",_.Paid="Paid",_}(L||{}),f=function(_){return _.OwnedPlatformSync="PLATFORM_SYNC",_.OwnedManual="MANUAL",_.NotOwned="NOT_OWNED",_}(f||{}),S=function(_){return _.Marketing="MarketingItem",_.Game="GameItem",_.Filter="FilterItem",_}(S||{}),u=function(_){return _.SilentRefresh="SilentRefresh",_.LibraryRefresh="LibraryRefresh",_.FavoritesRefresh="FavoritesRefresh",_.PanelRefresh="PanelRefresh",_.OwnershipSync="OwnershipSync",_}(u||{}),g=function(_){return _.Marquee="MARQUEE",_.Main="MAIN",_.Library="LIBRARY",_.Favorites="FAVORITES",_.LoginWall="LOGINWALL",_}(g||{});const h={genreDefinitions:[],appStoreDefinitions:[],ratingDefinitions:[]},O={id:"",name:g.Library,sections:[]},E={id:"",name:g.Favorites,sections:[]},w={items:[]};var p=function(_){return _.Feature="FEATURED",_.Wide="WIDE",_.MyLibrary="MY_LIBRARY",_.Generic="GENERIC",_.MyFavorites="MY_FAVORITES",_}(p||{});const V={sortOrderDefinitions:[],filterGroupDefinitions:[]};var c=function(_){return _.UNKNOWN="UNKNOWN",_.MOUSE="MOUSE",_.MOUSE_KEYBOARD="MOUSE_KEYBOARD",_.X_INPUT_GAMEPAD="X_INPUT_GAMEPAD",_.DIRECT_INPUT_GAMEPAD="DIRECT_INPUT_GAMEPAD",_.JOYSTICK="JOYSTICK",_.WHEEL="WHEEL",_.TOUCHSCREEN="TOUCHSCREEN",_.WII_CONTROLLER="WII_CONTROLLER",_.KINECT_CONTROLLER="KINECT_CONTROLLER",_.KEYBOARD="KEYBOARD",_.X_INPUT_GAMEPAD_PARTIAL="X_INPUT_GAMEPAD_PARTIAL",_.DIRECT_INPUT_GAMEPAD_PARTIAL="DIRECT_INPUT_GAMEPAD_PARTIAL",_.GAMEPAD="GAMEPAD",_.GAMEPAD_PARTIAL="GAMEPAD_PARTIAL",_.DUALSENSE_GAMEPAD="DUALSENSE_GAMEPAD",_.DUALSHOCK4_GAMEPAD="DUALSHOCK4_GAMEPAD",_}(c||{});const C="CLIENT_UPSELL_MESSAGES",l="LOGIN_WALL";var o=function(_){return _.AppsRefresh="AppsRefresh",_.PanelRefresh="PanelRefresh",_.CampaignsRefresh="CampaignsRefresh",_.TimerRefresh="TimerRefresh",_}(o||{}),n=function(_){return _.Manual="MANUAL",_.StoreConnect="STORE_CONNECT",_.StoreReconnect="STORE_RECONNECT",_.StoreResync="STORE_RESYNC",_.ManualPostCancellation="MANUAL_POST_CANCELLATION",_}(n||{}),s=function(_){return _.RTX_ENABLED="RTX_ENABLED",_.HDR_ENABLED="HDR_ENABLED",_.SUPPORTED_AUDIO_FORMATS="SUPPORTED_AUDIO_FORMATS",_.IN_GAME_SETTINGS_PERSISTENCE_ENABLED="IN_GAME_SETTINGS_PERSISTENCE_ENABLED",_.ENABLED_FPS="ENABLED_FPS",_.ENABLE_DEBUG_TOOLS="ENABLE_DEBUG_TOOLS",_.ENABLED_REFLEX="REFLEX_ENABLED",_.BIT_DEPTH="BIT_DEPTH",_.CLOUD_GSYNC="CLOUD_GSYNC",_}(s||{});function R(_){var b;return null!=_&&null!==(b=_.gfn)&&void 0!==b&&null!==(b=b.library)&&void 0!==b&&b.status?_.gfn.library.status:f.NotOwned}},94076:(Dt,ct,t)=>{"use strict";t.d(ct,{a$:()=>Qt,K$:()=>C.K$,JF:()=>C.JF,zg:()=>C.zg,mJ:()=>C.mJ,ws:()=>C.ws,Bw:()=>C.Bw,D$:()=>C.D$,vp:()=>C.vp,zc:()=>re,mk:()=>C.mk,Y:()=>C.Y,Fj:()=>C.Fj,$3:()=>C.$3,wh:()=>C.wh,Ue:()=>C.Ue,By:()=>C.By,YU:()=>C.YU,Gp:()=>C.Gp,j9:()=>C.j9});var e=t(13963),i=t(32484),L=t(9681),f=t(64555),x=t(33994),S=t(85046),u=t(87965),g=t(45083),h=t(46939),O=t(47422),E=t(15746),w=t(58175),p=t(680),V=t(31157),c=t(77869),C=t(28164),l=t(30088),o=t(45078),n=t(53576),s=t(43444),R=t(47178),_=t(65343);const M="\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles,\n        sortOrderId\n      }\n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n    }\n    title\n    library {\n      favorited\n    }\n    itemMetadata {\n      campaignIds\n    }\n    variants {\n      id\n      appStore\n      supportedControls\n      gfn {\n        library {\n          status\n          selected\n        }\n        status\n      }\n    }\n  }\n}",j="query GetAppDataQueryForAppId($vpcId: String!, $locale: String!, $appIds: [String]!) {\n  apps(vpcId: $vpcId, language: $locale, appIds: $appIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        GAME_LOGO\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      shortDescription\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      computedValues {\n        earliestStreetDate\n        paymentModels {\n          __typename\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        paymentModels {\n          __typename\n        }\n        gfn {\n          status\n          features {\n              ...feature\n          }\n        }\n      }\n    }\n  }\n}\nfragment feature on GfnSubscriptionFeature {\n  __typename\n  ... on GfnSubscriptionFeatureValue {\n    key\n    value\n  }\n  ... on GfnSubscriptionFeatureValueList {\n    key\n    values\n  }\n}\n",A={StaticAppData:"query GetStaticAppData($locale: String!){\n  genreDefinitions(language: $locale){\n    genre\n    label\n  }\n  appStoreDefinitions(language: $locale){\n    store\n    label\n    keywords\n    sortOrder\n    smallImageUrl\n    features {\n      __typename\n      ... on AccountLinkingSso {\n        displayProposition\n        supported\n      }\n      ... on AccountGamesSyncing {\n        displayProposition\n        supported\n      }\n    }\n    accountLinkingMetadata {\n      supportedVariantIds\n      connectValueProposition\n      isSupported\n      isRequired\n      label,\n      linkedInfo\n    }\n  }\n  ratingDefinitions(language: $locale){\n    ratingSystem\n    label\n    displayInterval\n    contentDescriptors{\n      key\n      label\n      sortOrder\n    }\n    interactiveElements {\n      key\n      label\n      sortOrder\n    }\n    ratings {\n      categoryKey\n      description\n      label\n      minimumAge\n      largeImageUrl\n      smallImageUrl\n    }\n  }\n}",UserAccount:"{\n  userAccount {\n    storesData {\n      store\n      accountLinkingData {\n        userDisplayName\n        expiresIn\n        userIdentifier\n        accountSyncingData {\n          totalNumberOfSyncedGfnGames\n          syncState\n          syncDate\n        }\n      }\n    }\n  }\n}",Marquee:"query GetMarquee($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      type\n      title\n      items {\n        __typename\n        ...marketingFields\n        ...marqueeGameFields\n      }\n    }\n  }\n}\nfragment marketingFields on MarketingItem {\n  id\n  title\n  images {\n    MARQUEE_HERO_IMAGE\n    HERO_IMAGE\n  }\n  body\n  action {\n    uri\n    label\n    infoText\n  }\n}\nfragment marqueeGameFields on GameItem {\n  app {\n    id\n    title\n    type\n    publisherName\n    contentRatings {\n      categoryKey\n      contentDescriptorKeys\n      interactiveElementKeys\n      type\n    }\n    marqueeScrimPrimaryRGB {\n      r\n      g\n      b\n    }\n    images {\n      GAME_LOGO\n      MARQUEE_HERO_IMAGE\n      HERO_IMAGE\n    }\n    contentRatings {\n      type\n      categoryKey\n    }\n    itemMetadata {\n      campaignIds\n    }\n    variants {\n      id\n      appStore\n      supportedControls\n    }\n  }\n}",Favorites:M,LibrarySection:M,LibrarySectionWithTime:"\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles,\n        sortOrderId\n      }\n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n      KEY_ART\n    }\n    title\n    library {\n      favorited\n    }\n    itemMetadata {\n      campaignIds\n    }\n    variants {\n      id\n      appStore\n      publisherName\n      supportedControls\n      gfn {\n        library {\n          status\n          selected\n          lastPlayedDate\n        }\n        status\n      }\n      contentRatings {\n        categoryKey\n        type\n      }\n    }\n  }\n}\n",Main:M,Campaigns:"query GetCampaignsInfo($locale: String!, $vpcId: String!) {\n  campaigns(vpcId: $vpcId, language: $locale) {\n    items {\n      action {\n        label\n        url\n      }\n      id\n      images {\n        GAME_BOX_ART\n        GAME_LOGO\n        TV_BANNER\n        HERO_IMAGE\n        MARQUEE_HERO_IMAGE\n      }\n      promoText {\n        summary\n        tag\n      }\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      schedule {\n        endTime\n        startTime\n      }\n    }\n  }\n}",FilterGroupAndSortOrderDefinitions:"query GetFilterGroupAndSortOrderDefinitions($locale: String!) {\n  filterGroupDefinitions(language: $locale) {\n    id\n    label\n    filters {\n      id\n      label\n      filters\n    }\n  }\n  sortOrderDefinitions(language: $locale) {\n    id\n    label\n    orderBy\n  }\n}",AppsWithSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $searchString: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    searchQuery: $searchString,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      library {\n        favorited\n      }\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n        gfn {\n          library {\n            status\n            selected\n          }\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",AppsWithoutSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      library {\n        favorited\n      }\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n        gfn {\n          library {\n            status\n            selected\n          }\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",UpsellMessages:"query GetUpsellMessages($locale: String!, $upsellMessageKey: [String]!) {\n  clientStrings(language: $locale, keys: $upsellMessageKey)\n}",AppDataForAppId:"query GetAppDataQueryForAppId($vpcId: String!, $locale: String!, $appIds: [String]!) {\n  apps(vpcId: $vpcId, language: $locale, appIds: $appIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        GAME_LOGO\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      longDescription\n      shortDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      computedValues {\n        earliestStreetDate\n        paymentModels {\n          __typename\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        paymentModels {\n          __typename\n        }\n        gfn {\n          library {\n            status\n            selected\n          }\n          status\n          features {\n              ...feature\n          }\n        }\n      }\n    }\n  }\n}\nfragment feature on GfnSubscriptionFeature {\n  __typename\n  ... on GfnSubscriptionFeatureValue {\n    key\n    value\n  }\n  ... on GfnSubscriptionFeatureValueList {\n    key\n    values\n  }\n}\n",AppDataForAppIdWithoutMILA:j,AppDataForCmsId:"query GetAppDataQueryForCmsId($vpcId: String!, $locale: String!, $cmsIds: [Int]!) {\n  apps(vpcId: $vpcId, language: $locale, variantIds: $cmsIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      shortDescription\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      computedValues {\n        earliestStreetDate\n        paymentModels {\n          __typename\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        paymentModels {\n          __typename\n        }\n        gfn {\n          status\n          features {\n              ...feature\n          }\n        }\n      }\n    }\n  }\n}\nfragment feature on GfnSubscriptionFeature {\n  __typename\n  ... on GfnSubscriptionFeatureValue {\n    key\n    value\n  }\n  ... on GfnSubscriptionFeatureValueList {\n    key\n    values\n  }\n}\n",AppDataForCmsIdWithoutVpcId:"query GetAppDataQueryForCmsIdWithoutVpcId($locale: String!, $cmsIds: [Int]!) {\n  apps(language: $locale, variantIds: $cmsIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      shortDescription\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      computedValues {\n        earliestStreetDate\n        paymentModels {\n          __typename\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        paymentModels {\n          __typename\n        }\n      }\n    }\n  }\n}",LoginWallData:"query GetLoginWallData($locale: String!, $vpcId: String!, $panelNames: [String]!, $stringsKey: [String]!) {\n  panels(language: $locale, vpcId: $vpcId, names: $panelNames) {\n    id\n    name\n    sections {\n      telemetryName\n      items {\n        __typename\n        ...gameFields\n      }\n    }\n  }\n  clientStrings(language: $locale, keys: $stringsKey)\n}\nfragment gameFields on GameItem {\n  app {\n    images {\n      TV_BANNER\n    }\n  }\n}",LoginWallStringsOnly:"query GetLoginWallStrings($locale: String!, $stringsKey: [String]!) {\n  clientStrings(language: $locale, keys: $stringsKey)\n}",AddFavoriteApp:"mutation AddFavoriteApp($appId: String!, $locale: String!) {\n  addFavoriteApp(language: $locale, appId: $appId) {\n    app {\n      id\n    }\n  }\n}",RemoveFavoriteApp:"mutation RemoveFavoriteApp($appId: String!, $locale: String!) {\n  removeFavoriteApp(language: $locale, appId: $appId) {\n    app {\n      id\n    }\n  }\n}",AddOwnedVariant:"mutation AddOwnedVariant($cmsId: String!, $locale: String!) {\n  addOwnedVariant(language: $locale, variantId: $cmsId) {\n    app {\n      id\n    }\n  }\n}",RemoveOwnedVariant:"mutation RemoveOwnedVariant($cmsId: String!, $locale: String!) {\n  removeOwnedVariant(language: $locale, variantId: $cmsId) {\n    app {\n      id\n    }\n  }\n}",SelectOwnedVariant:"mutation SelectOwnedVariant($cmsId: String!, $locale: String!) {\n  selectOwnedVariant(language: $locale, variantId: $cmsId) {\n    app {\n      id\n    }\n  }\n}"},d={AppsWithSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $searchString: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    searchQuery: $searchString,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",AppsWithoutSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",Main:"\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles,\n        sortOrderId\n      }\n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n    }\n    title\n    itemMetadata {\n      campaignIds\n    }\n    variants {\n      id\n      appStore\n      supportedControls\n      gfn {\n        status\n      }\n    }\n  }\n}",AppDataForAppId:j},H={StaticAppData:"e213e3f549e4d31e393da817ca8afa867b5b35c82fd86575965884e786d031de",UserAccount:"c0d32eea714da66ceaaea8a894fdf26a503270c87b5494897f0579c390e3d479",Marquee:"9eb99b7dc1cf756e0ea0f926e90777b4b2e08afe3b181ec3ff4a307e0f4b9c06",Favorites:"c7ebcaec12e9d37cade88e1401adc3d7d2c7454d0c387b12b2818ef765bb200f",LibrarySection:"c7ebcaec12e9d37cade88e1401adc3d7d2c7454d0c387b12b2818ef765bb200f",LibrarySectionWithTime:"49d31d6b7ea37e6676ef6656b9542f3293a161f60e20c593625171fda2f53a58",Main:"c7ebcaec12e9d37cade88e1401adc3d7d2c7454d0c387b12b2818ef765bb200f",Campaigns:"c75162f669ceb2b5d0ce5062474fd65b471a8a13085cbbb885ac1fe6fbbfbf8d",FilterGroupAndSortOrderDefinitions:"0b81ec998250c648401914babb7c71044e6603a16be2dfa537fde471d32233da",AppsWithSearch:"8caabb3cf567fac32675eaaeae1ca84033eff38ab496042fa49fd706b5a71562",AppsWithoutSearch:"b2e70ec5eda3b23ac42d16b102353b40c99fb9de8ab238bdcac5ad9bcc3155a9",UpsellMessages:"f367fe9d438dd1da67e8e9a9055f7219c258ee10bf6f6f48e539f6d5d3fd0120",AppDataForAppId:"a549dfd2accc19ad6db70a0befd45c8be295d47e497d2820ca509e5649117abb",AppDataForAppIdWithoutMILA:"37d32c0aeead1a3e800fde5d198284c7eea9204d6e8a46d695c2cb35091b5ec2",AppDataForCmsId:"144527937c938cdf56db419510c1eb33b71a68309ac7255fff88beb7bd37462f",AppDataForCmsIdWithoutVpcId:"2a0a02a95fb02cd5e62fca9ed82a5677fd8aa6a579a98edbb0764b1b94881956",LoginWallData:"dff6137faf58b66e67b9c1969c9d104324aabfbb467c242334752fc9a5c45887",LoginWallStringsOnly:"600316b112e08d80a3fe4ba16c45f635e690da9e798fe0fb7fc5da547e5e7051",AddFavoriteApp:"0b1463d227991c32ca83569af2470a9b000408fd01cdccc15692c9f0462354c9",RemoveFavoriteApp:"1a15b57e8a23113391e645cc3c672097b86282b60fb95f26b39a005507cd2583",AddOwnedVariant:"881604c8281fc0a106bc14ead8ab1ee02775fd3b847c987beb7153f5bec704ea",RemoveOwnedVariant:"41283cb0b456533f39dc91f65066c3b97dd4766d519c0e2d8e9fed79653dd959",SelectOwnedVariant:"d451d5d385ac4d38bb3eeda49afc269001b7b147fd1fb1f30e9f262d89be3b80"};var $=function(Pt){return Pt.StaticAppData="StaticAppData",Pt.UserAccount="UserAccount",Pt.Marquee="Marquee",Pt.Favorites="Favorites",Pt.LibrarySection="LibrarySection",Pt.LibrarySectionWithTime="LibrarySectionWithTime",Pt.Main="Main",Pt.Campaigns="Campaigns",Pt.FilterGroupAndSortOrderDefinitions="FilterGroupAndSortOrderDefinitions",Pt.AppsWithSearch="AppsWithSearch",Pt.AppsWithoutSearch="AppsWithoutSearch",Pt.UpsellMessages="UpsellMessages",Pt.AppDataForAppId="AppDataForAppId",Pt.AppDataForAppIdWithoutMILA="AppDataForAppIdWithoutMILA",Pt.AppDataForCmsId="AppDataForCmsId",Pt.AppDataForCmsIdWithoutVpcId="AppDataForCmsIdWithoutVpcId",Pt.LoginWallData="LoginWallData",Pt.LoginWallStringsOnly="LoginWallStringsOnly",Pt.AddFavoriteApp="AddFavoriteApp",Pt.RemoveFavoriteApp="RemoveFavoriteApp",Pt.AddOwnedVariant="AddOwnedVariant",Pt.RemoveOwnedVariant="RemoveOwnedVariant",Pt.SelectOwnedVariant="SelectOwnedVariant",Pt}($||{}),J=function(Pt){return Pt.AppMetadata="appMetaData",Pt.StaticAppData="staticAppData",Pt.PanelsMain="panels/MainV2",Pt.PanelsMarquee="panels/Marquee",Pt.PanelsLibrary="panels/Library",Pt.PanelsFavorites="panels/Favorites",Pt.UserAccount="userAccount",Pt.ClientStrings="clientStrings",Pt.Campaigns="campaigns",Pt.Apps="apps",Pt.FilterGroupAndSortOrderDefinitions="filterGroupAndSortOrderDefinitions",Pt.LoginWallData="loginWallData",Pt.LoginWallStrings="loginWallStrings",Pt}(J||{});const st={[$.StaticAppData]:{query:A[$.StaticAppData],cacheKey:J.StaticAppData,serviceUseCase:_.f$p.Other,isUserSpecificQuery:!1,sha256hash:H[$.StaticAppData]},[$.UserAccount]:{query:A[$.UserAccount],cacheKey:J.UserAccount,serviceUseCase:_.f$p.GetUserAccount,isUserSpecificQuery:!0,sha256hash:H[$.UserAccount]},[$.Marquee]:{query:A[$.Marquee],cacheKey:J.PanelsMarquee,serviceUseCase:_.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:H[$.Marquee]},[$.LibrarySectionWithTime]:{query:A[$.LibrarySectionWithTime],cacheKey:J.PanelsLibrary,serviceUseCase:_.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:H[$.LibrarySectionWithTime]},[$.LibrarySection]:{query:A[$.LibrarySection],cacheKey:J.PanelsLibrary,serviceUseCase:_.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:H[$.LibrarySection]},[$.Favorites]:{query:A[$.Favorites],cacheKey:J.PanelsFavorites,serviceUseCase:_.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:H[$.Favorites]},[$.Main]:{query:A[$.Main],cacheKey:J.PanelsMain,serviceUseCase:_.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:H[$.Main],serviceUnavailableFallbackQuery:d[$.Main]},[$.Campaigns]:{query:A[$.Campaigns],cacheKey:J.Campaigns,serviceUseCase:_.f$p.GetCampaigns,isUserSpecificQuery:!0,sha256hash:H[$.Campaigns]},[$.AppsWithSearch]:{query:A[$.AppsWithSearch],cacheKey:J.Apps,serviceUseCase:_.f$p.GetApps,isUserSpecificQuery:!0,sha256hash:H[$.AppsWithSearch],serviceUnavailableFallbackQuery:d[$.AppsWithSearch]},[$.AppsWithoutSearch]:{query:A[$.AppsWithoutSearch],cacheKey:J.Apps,serviceUseCase:_.f$p.GetApps,isUserSpecificQuery:!0,sha256hash:H[$.AppsWithoutSearch],serviceUnavailableFallbackQuery:d[$.AppsWithoutSearch]},[$.FilterGroupAndSortOrderDefinitions]:{query:A[$.FilterGroupAndSortOrderDefinitions],cacheKey:J.FilterGroupAndSortOrderDefinitions,serviceUseCase:_.f$p.GetFilterGroupAndSortOrderDefinitions,isUserSpecificQuery:!0,sha256hash:H[$.FilterGroupAndSortOrderDefinitions]},[$.AppDataForAppId]:{query:A[$.AppDataForAppId],cacheKey:J.AppMetadata,serviceUseCase:_.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:H[$.AppDataForAppId],serviceUnavailableFallbackQuery:d[$.AppDataForAppId]},[$.AppDataForAppIdWithoutMILA]:{query:A[$.AppDataForAppIdWithoutMILA],cacheKey:J.AppMetadata,serviceUseCase:_.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:H[$.AppDataForAppIdWithoutMILA]},[$.AppDataForCmsId]:{query:A[$.AppDataForCmsId],cacheKey:J.AppMetadata,serviceUseCase:_.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:H[$.AppDataForCmsId]},[$.AppDataForCmsIdWithoutVpcId]:{query:A[$.AppDataForCmsIdWithoutVpcId],cacheKey:J.AppMetadata,serviceUseCase:_.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:H[$.AppDataForCmsIdWithoutVpcId]},[$.UpsellMessages]:{query:A[$.UpsellMessages],cacheKey:J.ClientStrings,serviceUseCase:_.f$p.Other,isUserSpecificQuery:!0,sha256hash:H[$.UpsellMessages]},[$.LoginWallData]:{query:A[$.LoginWallData],cacheKey:J.LoginWallData,serviceUseCase:_.f$p.GetLoginWallData,isUserSpecificQuery:!1,sha256hash:H[$.LoginWallData]},[$.LoginWallStringsOnly]:{query:A[$.LoginWallStringsOnly],cacheKey:J.LoginWallStrings,serviceUseCase:_.f$p.GetLoginWallStrings,isUserSpecificQuery:!1,sha256hash:H[$.LoginWallStringsOnly]}},lt={[$.AddFavoriteApp]:{query:A[$.AddFavoriteApp],serviceUseCase:_.f$p.AddFavoriteApp},[$.RemoveFavoriteApp]:{query:A[$.RemoveFavoriteApp],serviceUseCase:_.f$p.RemoveFavoriteApp},[$.AddOwnedVariant]:{query:A[$.AddOwnedVariant],serviceUseCase:_.f$p.AddOwnedVariant},[$.RemoveOwnedVariant]:{query:A[$.RemoveOwnedVariant],serviceUseCase:_.f$p.RemoveOwnedVariant},[$.SelectOwnedVariant]:{query:A[$.SelectOwnedVariant],serviceUseCase:_.f$p.SelectOwnedVariant}};function gt(Pt){return st[Pt]}var k=t(51858),pt=t(61699),yt=t(30285),Xt=t(88207),It=t(12354),Nt=t(97424),le=t(87815),te=t(7749);let bt=(()=>{var Pt;class Ut{constructor(it,Mt,zt,ft,ve,Ce){this.appConfig=it,this.endpointFactory=Mt,this.distributedtracingUtilService=zt,this.idmService=ft,this.clientHeaderService=Ce,this.cascadePreviewToken=null,this.lastFetchedStaticAppDataTime=null,this.lastFetchedStaticAppData$=null,this.nvPreviewTime=null,this.logger=ve.getLogger("LcarsSdkService");const{defaultRetries:De,defaultTimeBetweenRetries:ze,defaultTimeout:$e,retryOnTimeout:Se,exponentialBackoffMaxDelay:ce}=it.lcars;this.queryDataEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:De,timeout:$e,timeBetweenRetries:ze,retryOnTimeout:Se,exponentialBackoffMaxDelay:ce}}),this.firstFetchSet=new Set,this.setCascadePreviewData()}setCascadePreviewData(){this.cascadePreviewToken=(0,Xt.cj)(Xt.S8.CascadePreviewToken),this.cascadePreviewToken?(this.logger.info(`Got cascadePreviewToken: ${this.cascadePreviewToken}`),this.nvPreviewTime=(0,Xt.cj)(Xt.S8.PreviewAtTime),this.logger.info(this.nvPreviewTime?`Got previewAtTime: ${this.nvPreviewTime}`:"No previewAtTime in query params")):this.logger.info("No cascadePreviewToken in query params")}createHeader(it,Mt,zt,ft){const ve={...Mt};return ve["Content-Type"]="application/graphql",this.firstFetchSet.has(it)||ft?ve[o.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(it),null!=zt&&zt.token&&(ve[yt.n0.authorization]=`GFNJWT ${zt.token}`),this.appConfig.lcars.cascadeHeaderValue&&(ve["NV-Cascade-Content"]=this.appConfig.lcars.cascadeHeaderValue),this.appConfig.lcars.stageHeaderValue&&(ve["NV-Env"]=this.appConfig.lcars.stageHeaderValue),this.cascadePreviewToken&&(ve["cache-control"]="no-cache",ve[o.Fk.SwCacheBypass]=JSON.stringify(!1),ve["NV-Additional"]=this.cascadePreviewToken,this.nvPreviewTime&&(ve["NV-Preview-Time"]=this.nvPreviewTime)),ve}fetchQueryData(it,Mt,zt,ft,ve){return(0,f.aj)([this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}),this.idmService.accountStatusChanged.pipe((0,h.q)(1))]).pipe((0,u.zg)(([Ce,De])=>{const ze=gt(it),$e=ze.cacheKey;De.isAuthenticated&&ze.isUserSpecificQuery&&De.userId!==this.lastHashedUserId&&(this.userIdHash=(0,It.sha1)(De.userId),this.lastHashedUserId=De.userId);const Se=Object.assign($e?{requestType:$e}:null,{extensions:JSON.stringify({persistedQuery:{sha256Hash:ze.sha256hash}})},De.isAuthenticated?{huId:this.userIdHash}:null,{variables:Mt?JSON.stringify(Mt):null}),ce={headers:this.createHeader($e,Ce,ft,ve),reportRequestData:{originalService:_.v6v.Lcars,serviceUseCase:ze.serviceUseCase,reportSuccessTelemetry:"true"},params:Se,includeRequestId:!0},ge=[];return Object.keys(ce.headers).forEach(Ct=>{"Authorization"!==Ct&&ge.push(`${Ct}: ${ce.headers[Ct]}`)}),this.logger.info(`Headers for ${it} are: ${ge}`),this.handleRequest(De.isAuthenticated&&$e!==J.AppMetadata||De.isAuthenticated&&$e===J.AppMetadata&&ft?this.appConfig.lcars.serverUrl:this.appConfig.lcars.serverUrlCDN,ce,ze,zt)}))}postQueryData(it,Mt,zt,ft=!1){return(0,f.aj)([this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}),this.idmService.getAuthToken(ft,zt)]).pipe((0,u.zg)(([ve,Ce])=>{const De=function vt(Pt){return lt[Pt]}(it),ze=Object.assign({query:De.query},{variables:Mt?JSON.stringify(Mt):null}),$e={headers:this.createHeader(null,ve,Ce,!0),reportRequestData:{originalService:_.v6v.Lcars,serviceUseCase:De.serviceUseCase,reportSuccessTelemetry:"true"},params:ze,includeRequestId:!0};return this.handlePostRequest(this.appConfig.lcars.serverUrl,$e,zt)}),(0,w.K)(ve=>this.idmService.handleAuthError(ve,ft,this.postQueryData.bind(this),it,Mt,zt)))}handlePostRequest(it,Mt,zt){const ft=this.queryDataEndpoint.post((0,c.D5)([it]),Mt);return this.distributedtracingUtilService.handleHttpEndpointSpan(ft,Mt,V.j1.LcarsPostQueryData,zt)}handleRequest(it,Mt,zt,ft){const ve=this.queryDataEndpoint.get((0,c.D5)([it]),Mt);return this.distributedtracingUtilService.handleHttpEndpointSpan(ve,Mt,V.j1.LcarsFetchQueryData,ft).pipe((0,w.K)(Ce=>{var De;if(400!==(null==Ce?void 0:Ce.status)||null!=Mt&&null!==(De=Mt.params)&&void 0!==De&&De.query){if(503===(null==Ce?void 0:Ce.status)&&null!=zt&&zt.serviceUnavailableFallbackQuery){delete Mt.params.extensions;const ze={...Mt};ze.params.query=zt.serviceUnavailableFallbackQuery;const $e=this.queryDataEndpoint.get((0,c.D5)([it]),ze);return this.distributedtracingUtilService.handleHttpEndpointSpan($e,ze,V.j1.LcarsFetchQueryData,ft)}return(0,x._)(Ce)}{const ze={...Mt};ze.params.query=zt.query;const $e=this.queryDataEndpoint.get((0,c.D5)([it]),ze);return this.distributedtracingUtilService.handleHttpEndpointSpan($e,ze,V.j1.LcarsFetchQueryData,ft)}}))}fetchStaticDataQuery(it,Mt){const zt=Date.now();if(zt-this.lastFetchedStaticAppDataTime>C.An){this.lastFetchedStaticAppDataTime=zt;const ve=gt($.StaticAppData),Ce=Object.assign({requestType:ve.cacheKey},{variables:JSON.stringify(it),extensions:JSON.stringify({persistedQuery:{sha256Hash:ve.sha256hash}})});this.lastFetchedStaticAppData$=this.clientHeaderService.getCommonHeaders().pipe((0,u.zg)(De=>{const ze={headers:this.createHeader(ve.cacheKey,De),reportRequestData:{originalService:_.v6v.Lcars,reportSuccessTelemetry:"true"},params:Ce,includeRequestId:!0,includeFullResponse:!0},$e=[];return Object.keys(ze.headers).forEach(Se=>{$e.push(`${Se}: ${ze.headers[Se]}`)}),this.logger.info(`Headers for static call are: ${$e}`),this.handleRequest(this.appConfig.lcars.serverUrlCDN,ze,ve,Mt)}),(0,p.d)(1))}return this.lastFetchedStaticAppData$}}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)(pt.LFG(le.VK),pt.LFG(yt.V9),pt.LFG(V.Dc),pt.LFG(te.No),pt.LFG(e.ed),pt.LFG(Nt.x5))},Pt.\u0275prov=pt.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Ut})();var Vt=t(43818),ut=t(1498);let re=(()=>{var Pt;class Ut{constructor(it,Mt,zt,ft,ve,Ce,De,ze,$e,Se,ce,ge,qt,Ct){this.lcarsSdk=zt,this.localeService=ft,this.idmService=ve,this.gridService=Ce,this.systemInfoService=De,this.serviceWorkerService=ze,this.distributedTracingUtilService=$e,this.gfnSdkService=Se,this.refreshUiService=ce,this.config=ge,this.guestModeHelperService=qt,this.imageFormatService=Ct,this.layoutDataUpdated$=new i.xQ,this.userAccountInfoUpdated$=new i.xQ,this.gameMetaDataMap=new Map,this.staticAppDataCurrentEtag=null,this.getAppDataQuery=(Gt,Zt,ee)=>Gt?Zt?$.AppDataForCmsId:$.AppDataForCmsIdWithoutVpcId:ee?$.AppDataForAppId:$.AppDataForAppIdWithoutMILA,this.logger=it.getLogger("LcarsService"),this.fetchStaticDataInfoStream=Mt.createStream(()=>this.fetchStaticAppDataInfo()),this.AppMetadataStreams=new c.eQ(Gt=>this.fetchAppdata(Gt)),this.userAccountDataStream=Mt.createStream(()=>this.fetchUserAccountInfo()),this.fetchClientUpsellMessageStream=Mt.createStream(()=>this.fetchUpsellMessages()),this.campaignsInfoStream=Mt.createStream(()=>this.fetchCampaignsInfo()),this.filterGroupSortOrderDefinitionsStream=Mt.createStream(()=>this.fetchFilterGroupSortOrderDefinitions()),this.initalize(),this.initServiceWorkerNotifications()}initalize(){this.getVpcIdLocaleOsPlatform().subscribe(()=>{},it=>{this.logger.error("Could not fetch vpcId",it)}),this.idmService.accountStatusChanged.subscribe(it=>{!1===this.isUserLoggedIn&&it.isAuthenticated&&(this.refreshAppMetaData=!0,this.refreshClientStrings=!0),void 0!==this.refreshCampaignsInfo&&(this.refreshCampaignsInfo=!0),void 0!==this.refreshFilterGroupSortOrderDefinitions&&(this.refreshFilterGroupSortOrderDefinitions=!0),this.isUserLoggedIn=it.isAuthenticated})}initServiceWorkerNotifications(){const it=o.No.staleWhileRevalidate.lcarsStatic.cacheName,Mt=o.No.staleWhileRevalidate.lcars.cacheName,zt=o.No.staleWhileRevalidate.lcarsUserAccount.cacheName,ft=o.No.staleWhileRevalidate.lcarsClientStrings.cacheName,ve=[Mt,it,zt,ft];this.serviceWorkerService.swCacheUpdated.pipe((0,S.h)(Ce=>ve.includes(Ce.name))).subscribe(Ce=>{var De,ze,$e;switch(Ce.name){case it:this.logger.info("Received updated data SW notification for static app data");const Se=null===(De=Ce.data)||void 0===De?void 0:De.data;Se&&this.fetchStaticDataInfoStream.setData(Se,!0);break;case Mt:this.logger.info("Received updated data SW notification for panels");const ce=null===(ze=Ce.data)||void 0===ze?void 0:ze.data;this.logPanelsData(ce.panels),ce&&this.layoutDataUpdated$.next(ce);break;case zt:this.logger.info("Received updated data SW notification for user account data");const ge=null===($e=Ce.data)||void 0===$e?void 0:$e.data;ge&&(this.userAccountDataStream.setData(ge,!1),this.userAccountInfoUpdated$.next(ge));break;case ft:this.logger.info("Received updated data SW notification for client string");const qt=this.processUpsellMessageResponse(Ce.data);qt&&this.fetchClientUpsellMessageStream.setData(qt,!0)}})}get onUserAccountInfoUpdated$(){return this.userAccountInfoUpdated$.asObservable()}get onLayoutDataUpdated$(){return this.layoutDataUpdated$.asObservable()}getLocaleOsPlatform(){if(this.locale&&this.osPlatformName)return(0,L.of)([this.locale,this.osPlatformName]);{const it=this.localeService.localeChanged,Mt=this.systemInfoService.getSystemInfo([e.l7.Platform]);return(0,f.aj)([it,Mt]).pipe((0,u.zg)(([zt,ft])=>(this.locale=zt,this.osPlatformName=ft.Platform,(0,L.of)([this.locale,this.osPlatformName]))))}}getVpcIdLocaleOsPlatform(){if(this.vpcId&&this.locale&&this.osPlatformName)return(0,L.of)([this.vpcId,this.locale,this.osPlatformName]);{const it=this.gridService.vpcId$.pipe((0,g.x)());return(0,f.aj)([it,this.getLocaleOsPlatform()]).pipe((0,u.zg)(([Mt,zt])=>(this.vpcId=Mt,(0,L.of)([this.vpcId,...zt]))))}}getVpcIdLocaleOsPlatformStatusandToken(it=!1,Mt){const zt=this.idmService.getAuthToken(it,Mt);return(0,f.aj)([zt,this.getVpcIdLocaleOsPlatform()]).pipe((0,h.q)(1),(0,O.U)(([ft,ve])=>[ft||null,...ve]))}fetchAppdata(it,Mt=!1){const zt=JSON.parse(it),ft=this.getAppDataOptions;if(!zt)return(0,x._)("Error while reading gameId");const ve=this.distributedTracingUtilService.startSpan(V.j1.ClientGetAppMetadata,ft.parentSpan),Ce={authToken:null,vpcId:null,locale:null,osPlatformName:null},De=this.gfnSdkService.getAuthType().pipe((0,O.U)($e=>$e!==n.Gr.JWT));return(0,f.aj)([this.getVpcIdLocaleOsPlatformStatusandToken(Mt,ve),De]).pipe((0,E.b)(([[$e,Se,ce,ge],qt])=>{Ce.authToken=$e,Ce.vpcId=Se,Ce.locale=ce,Ce.osPlatformName=ge,null!=ft&&ft.isCmsId&&qt&&$e&&$e.token?ft.useVpcIdWithCmsId=!0:null!=ft&&ft.isCmsId&&(Ce.authToken=null)})).pipe((0,u.zg)($e=>{let Se;const ce={locale:this.locale};if(ft.isCmsId){Se=this.getAppDataQuery(!0,null==ft?void 0:ft.useVpcIdWithCmsId);let ge=[];(0,R.isArray)(zt)?ge=null==zt?void 0:zt.map(qt=>parseInt(qt,10)):"string"==typeof zt?ge=[parseInt(zt,10)]:"number"==typeof zt&&(ge=[zt]),ce.cmsIds=ge,null!=ft&&ft.useVpcIdWithCmsId&&(ce.vpcId=this.vpcId)}else Se=this.getAppDataQuery(!1,!0,ft.includeLibraryFields),ce.appIds=[zt],ce.vpcId=this.vpcId;return this.setSpanTags(ve,void 0,this.vpcId,this.locale,this.isUserLoggedIn),(0,f.aj)([this.getStaticAppData().pipe((0,h.q)(1),(0,w.K)(()=>(0,L.of)(null))),this.lcarsSdk.fetchQueryData(Se,ce,ve,Ce.authToken)]).pipe((0,u.zg)(([ge,qt])=>(ge||this.logger.info("Using default appstore info values for static app data"),0===qt.data.apps.items.length&&this.guestModeHelperService.isGuestMode?(this.logger.info("Appdata is empty for GDN flow, using default metadata"),(0,L.of)(this.guestModeHelperService.fetchDefaultGDNMetaData(zt))):(qt.data.apps.items.forEach(Ct=>{l.vA.sortVariants(Ct.variants),Ct.variants.forEach(Gt=>{Gt.appStoreInfo=l.vA.getStoreInfoForAppstore(Gt.appStore)})}),this.refreshAppMetaData=this.refreshAppMetaData?!this.isUserLoggedIn:this.refreshAppMetaData,(0,L.of)(qt.data.apps.items)))),(0,E.b)(()=>this.endSpan(ve,!1)),(0,w.K)(ge=>this.idmService.handleAuthError(ge,Mt,this.fetchAppdata.bind(this),it)),(0,w.K)(ge=>(this.endSpan(ve,!0),ge.status>=300&&this.guestModeHelperService.isGuestMode?(this.logger.info("Appdata fetch fails for GDN, using default metadata"),(0,L.of)(this.guestModeHelperService.fetchDefaultGDNMetaData(zt))):(0,x._)(ge))))}))}getAppdata(it,Mt={},zt=!1){return this.getAppDataOptions=Mt,this.refreshAppMetaData||zt?this.fetchAppdata(JSON.stringify(it)).pipe((0,E.b)(ft=>this.AppMetadataStreams.setData(JSON.stringify(it),ft))):this.AppMetadataStreams.get$(JSON.stringify(it))}getPanelQuery(it){var Mt;switch(it.panelName){case C.wh.Marquee:return $.Marquee;case C.wh.Main:return $.Main;case C.wh.Library:return null!=it&&null!==(Mt=it.fetch)&&void 0!==Mt&&Mt.fetchLibraryWithAdditionalInfo?$.LibrarySectionWithTime:$.LibrarySection;case C.wh.Favorites:return $.Favorites}}getPanel(it,Mt,zt=!1){const ft=it.currentSpan?it.currentSpan:this.distributedTracingUtilService.startSpan(V.j1.ClientGetPanel,it.parentSpan);return this.getVpcIdLocaleOsPlatformStatusandToken(zt,ft).pipe((0,u.zg)(([ve,Ce,De,ze])=>{var $e;const Se=Mt===C.wh.Library?null===($e=this.config.lcars)||void 0===$e?void 0:$e.panelFetchQueryOverride:void 0,ce={vpcId:Ce,locale:De,panelName:Mt,fetch:Se};this.logger.info(`Fetching fresh panel ${Mt} for trigger ${null==it?void 0:it.triggerName} with ${Ce}`),this.setSpanTags(ft,it.triggerName,Ce,De,this.isUserLoggedIn),this.distributedTracingUtilService.setSpanAttribute(ft,V.NI.PanelType,Mt);const ge=this.getPanelQuery(ce);return this.lcarsSdk.fetchQueryData(ge,{vpcId:Ce,locale:De,panelNames:[Mt]},ft,ve,it.bypassSwCache).pipe((0,u.zg)(Ct=>{var Gt;return this.logPanelsData(null==Ct||null===(Gt=Ct.data)||void 0===Gt?void 0:Gt.panels),(0,L.of)(Ct.data.panels)}),(0,E.b)(Ct=>this.endSpan(ft,!1)))}),(0,w.K)(ve=>this.idmService.handleAuthError(ve,zt,this.getPanel.bind(this),Object.assign({},it,{currentSpan:ft}))),(0,w.K)(ve=>(this.endSpan(ft,!0),(0,x._)(ve))))}getLoginWallData(){const it=this.distributedTracingUtilService.startSpan(V.j1.GetLoginWallData);return this.getVpcIdLocaleOsPlatform().pipe((0,u.zg)(([Mt,zt,ft])=>(this.distributedTracingUtilService.setSpanAttribute(it,V.NI.PanelType,C.wh.LoginWall),this.lcarsSdk.fetchQueryData($.LoginWallData,{vpcId:Mt,locale:zt,panelNames:[C.wh.LoginWall],stringsKey:[C.Y]},it).pipe((0,O.U)(De=>{var ze,$e;return{backgroundData:{data:{imageUrls:(null==De||null===(ze=De.data)||void 0===ze?void 0:ze.panels[0]).sections[0].items.map(ee=>this.imageFormatService.formatImageServiceUrl(ee.app.images.TV_BANNER,{w:k.UH}))}},strings:null==De||null===($e=De.data)||void 0===$e?void 0:$e.clientStrings[C.Y]}}),(0,E.b)(De=>this.endSpan(it,!1))))),(0,w.K)(Mt=>(this.endSpan(it,!0),(0,x._)(Mt))))}logPanelsData(it){null==it||it.forEach(Mt=>{var zt;this.logger.info(`Found Panel ${null==Mt?void 0:Mt.name}`),null==Mt||null===(zt=Mt.sections)||void 0===zt||zt.forEach(ft=>{this.logger.info(`Found section ${null==ft?void 0:ft.telemetryName}`),(Mt.name===C.wh.Library||Mt.name===C.wh.Favorites)&&(null==ft||ft.items.forEach(ve=>{var Ce;this.logger.info(`Found game ${null==ve||null===(Ce=ve.app)||void 0===Ce?void 0:Ce.title} in ${null==Mt?void 0:Mt.name}`)}))})})}getSearchFilterResults(it,Mt,zt,ft,ve,Ce,De=!1){return this.getVpcIdLocaleOsPlatformStatusandToken(De).pipe((0,u.zg)(([ze,$e,Se,ce])=>{const ge=(null==Mt?void 0:Mt.length)>0,qt={vpcId:$e,locale:Se,filters:zt,sortString:it,fetchCount:ve,cursor:ft||""};return ge&&(qt.searchString=Mt),this.lcarsSdk.fetchQueryData(ge?$.AppsWithSearch:$.AppsWithoutSearch,qt,Ce,ze,!0)}),(0,w.K)(ze=>this.idmService.handleAuthError(ze,De,this.getSearchFilterResults.bind(this),it,Mt,zt,ft,ve,Ce)))}fetchStaticAppDataInfo(){return this.guestModeHelperService.isGuestAppFlow()?(0,L.of)(void 0):this.getLocaleOsPlatform().pipe((0,u.zg)(([it,Mt])=>this.lcarsSdk.fetchStaticDataQuery({locale:it}).pipe((0,O.U)(ft=>(this.staticAppDataCurrentEtag=ft.headers.get(o.Fk.ETag),ft.body.data)))),(0,w.K)(it=>(this.logger.error("Error in fetchStaticDataQuery",it),(0,L.of)(C.ws))))}ensureLatestStaticAppData$(){return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([it,Mt])=>this.lcarsSdk.fetchStaticDataQuery({locale:it}).pipe((0,O.U)(ft=>{const ve=ft.headers.get(o.Fk.ETag);var Ce,De;return!(!ve||ve===this.staticAppDataCurrentEtag||(this.logger.info("New StaticAppData recevived and updated"),l.vA.setGenreDefinitions(null===(Ce=ft.body.data)||void 0===Ce?void 0:Ce.genreDefinitions),l.vA.setAppStoresDefinitions(null===(De=ft.body.data)||void 0===De?void 0:De.appStoreDefinitions),this.fetchStaticDataInfoStream.setData(ft.body.data,!0),this.staticAppDataCurrentEtag=ft.headers.get(o.Fk.ETag),0))}),(0,w.K)(ft=>(this.logger.error("Error while fetching static app data",ft),(0,L.of)(!1))))))}getStaticAppData(){return this.fetchStaticDataInfoStream.get$().pipe((0,O.U)(it=>(l.vA.setGenreDefinitions(null==it?void 0:it.genreDefinitions),l.vA.setAppStoresDefinitions(null==it?void 0:it.appStoreDefinitions),it)))}setSpanTags(it,Mt,zt,ft,ve){const Ce={};Mt&&(Ce[V.NI.Trigger]=Mt),Ce[V.NI.VpcId]=zt,Ce[V.NI.Locale]=ft,Ce[V.NI.LoginStatus]=ve,this.distributedTracingUtilService.setSpanAttributes(it,Ce)}endSpan(it,Mt){it&&(this.distributedTracingUtilService.setSpanAttribute(it,V.NI.Error,Mt),this.distributedTracingUtilService.closeSpan(it))}setMetadataForCmsId(it,Mt){this.gameMetaDataMap.set(it.toString(),Mt)}getMetadataByCmsId(it){const Mt=it.toString();return this.gameMetaDataMap.has(Mt)?(0,L.of)(this.gameMetaDataMap.get(Mt)):this.getAppdata(Mt,{isCmsId:!0}).pipe((0,O.U)(zt=>zt[0]))}isFeatureSupportedOnVariant(it,Mt){var zt;const ft=null==it||null===(zt=it.gfn)||void 0===zt?void 0:zt.features;return ft&&Array.isArray(ft)?ft.some(ve=>"true"===ve.value&&ve.key===Mt):"true"===(null==ft?void 0:ft.value)&&(null==ft?void 0:ft.key)===Mt}getLatestUserAccountInfo(){return this.userAccountDataStream.refresh()}fetchUserAccountInfo(it=!1){const Mt=this.distributedTracingUtilService.startSpan(V.j1.UserAccountData);return this.idmService.getAuthToken(it,Mt).pipe((0,u.zg)(zt=>this.lcarsSdk.fetchQueryData($.UserAccount,void 0,Mt,zt)),(0,O.U)(zt=>(this.refreshUiService.setContentExpiryInfo(s.Gx.UserDatastore),this.endSpan(Mt,!1),zt.data)),(0,w.K)(zt=>this.idmService.handleAuthError(zt,it,this.fetchUserAccountInfo.bind(this))),(0,w.K)(zt=>(this.endSpan(Mt,!0),(0,x._)(zt))))}getUpsellMessages(){return this.refreshClientStrings?this.fetchUpsellMessages().pipe((0,E.b)(it=>this.fetchClientUpsellMessageStream.setData(it,!0))):this.fetchClientUpsellMessageStream.get$()}fetchUpsellMessages(it=!1){const Mt=[C.Gp],zt=this.distributedTracingUtilService.startSpan(V.j1.UpsellMessages),ft=this.localeService.localeChanged,ve=this.idmService.getAuthToken(it,zt);return(0,f.aj)([ve,ft]).pipe((0,p.d)(1),(0,u.zg)(([Ce,De])=>null===Ce.token?(0,L.of)({}):this.lcarsSdk.fetchQueryData($.UpsellMessages,{locale:De,upsellMessageKey:Mt},zt,Ce)),(0,O.U)(Ce=>(this.endSpan(zt,!1),this.refreshClientStrings=!1,this.processUpsellMessageResponse(Ce))),(0,w.K)(Ce=>this.idmService.handleAuthError(Ce,it,this.fetchUpsellMessages.bind(this))),(0,w.K)(Ce=>(this.endSpan(zt,!0),(0,x._)(Ce))))}processUpsellMessageResponse(it){var Mt,zt;const ft=null!=it&&null!==(Mt=it.data)&&void 0!==Mt&&Mt.clientStrings?null==it||null===(zt=it.data)||void 0===zt?void 0:zt.clientStrings[C.Gp]:{};return this.logger.info("UpsellMessage Response: ",ft),ft}fetchCampaignsInfo(it=!1){if(!this.config.promoUI.isEnabled)return this.logger.info("promo UI feature is disabled"),(0,L.of)(C.Lc);const Mt=this.distributedTracingUtilService.startSpan(V.j1.CampaignsInfo),zt=this.idmService.getAuthToken(it,Mt);return(0,f.aj)([zt,this.getVpcIdLocaleOsPlatform()]).pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.fetchQueryData($.Campaigns,{locale:ve[1],vpcId:ve[0]},Mt,ft)),(0,O.U)(ft=>(this.refreshUiService.setContentExpiryInfo(s.Gx.CampaignsData),this.endSpan(Mt,!1),this.refreshCampaignsInfo=!1,ft.data.campaigns)),(0,w.K)(ft=>this.idmService.handleAuthError(ft,it,this.fetchCampaignsInfo.bind(this))),(0,w.K)(ft=>(this.logger.error("Error in fetching CampaignsInfo",ft),this.endSpan(Mt,!0),(0,x._)(ft))))}getCampaignsInfo(){return this.refreshCampaignsInfo?this.fetchCampaignsInfo().pipe((0,E.b)(it=>this.campaignsInfoStream.setData(it,!0))):this.campaignsInfoStream.get$()}refreshCampaignsInfoStream(){this.campaignsInfoStream.refresh()}fetchFilterGroupSortOrderDefinitions(it=!1){const Mt=this.distributedTracingUtilService.startSpan(V.j1.FilterGroupSortOrderDefinitions),zt=this.idmService.getAuthToken(it,Mt);return(0,f.aj)([zt,this.getLocaleOsPlatform()]).pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.fetchQueryData($.FilterGroupAndSortOrderDefinitions,{locale:ve[0]},Mt,ft)),(0,O.U)(ft=>{var ve;this.endSpan(Mt,!1),this.refreshFilterGroupSortOrderDefinitions=!1;const Ce=ft.data.filterGroupDefinitions;Ce.forEach(ze=>{ze.filters.forEach($e=>{$e.filterFields=[];for(let Se=0;Se<$e.filters.length;Se++){const ce=JSON.parse($e.filters[Se]);$e.filterFields[Se]=ce}})});const De=null===(ve=ft.data)||void 0===ve?void 0:ve.sortOrderDefinitions;return this.logger.info(`Filter group list: ${JSON.stringify(Ce)}`),{sortOrderDefinitions:De,filterGroupDefinitions:Ce}}),(0,w.K)(ft=>this.idmService.handleAuthError(ft,it,this.fetchFilterGroupSortOrderDefinitions.bind(this))),(0,w.K)(ft=>(this.logger.error("Error in fetching fetchFilterGroupSortOrderDefinitions",ft),this.endSpan(Mt,!0),(0,L.of)(C.zg))))}getFilterGroupSortOrderDefinitions(){return this.refreshFilterGroupSortOrderDefinitions?this.fetchFilterGroupSortOrderDefinitions().pipe((0,E.b)(it=>this.filterGroupSortOrderDefinitionsStream.setData(it,!0))):this.filterGroupSortOrderDefinitionsStream.get$()}refreshFilterGroupSortOrderDefinitionsStream(){this.filterGroupSortOrderDefinitionsStream.refresh()}getLoginwallStrings(){const it=this.distributedTracingUtilService.startSpan(V.j1.GetLoginWallStringsOnly);return this.getLocaleOsPlatform().pipe((0,u.zg)(([Mt,zt])=>this.lcarsSdk.fetchQueryData($.LoginWallStringsOnly,{locale:Mt,stringsKey:[C.Y]})),(0,O.U)(Mt=>{var zt;return this.endSpan(it,!1),null==Mt||null===(zt=Mt.data)||void 0===zt?void 0:zt.clientStrings[C.Y]}),(0,w.K)(Mt=>(this.endSpan(it,!0),(0,x._)(Mt))))}addFavoriteApp(it,Mt=!1){const zt=this.distributedTracingUtilService.startSpan(V.j1.AddFavoriteApp);return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.postQueryData($.AddFavoriteApp,{appId:it,locale:ft},zt,Mt)),(0,O.U)(ft=>(this.logger.info("addFavoriteApp response",ft),this.endSpan(zt,!1),!0)),(0,w.K)(ft=>(this.logger.error("Error in addFavoriteApp",ft),this.endSpan(zt,!0),(0,x._)(ft))))}removeFavoriteApp(it,Mt=!1){const zt=this.distributedTracingUtilService.startSpan(V.j1.RemoveFavoriteApp);return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.postQueryData($.RemoveFavoriteApp,{appId:it,locale:ft},zt,Mt)),(0,O.U)(ft=>(this.logger.info("RemoveFavoriteApp response",ft),this.endSpan(zt,!1),!0)),(0,w.K)(ft=>404===(null==ft?void 0:ft.status)?(this.logger.info("Treating 404 for removal of favorite as success"),this.endSpan(zt,!1),(0,L.of)(!0)):(this.logger.error("Error in removeFavoriteApp",ft),this.endSpan(zt,!0),(0,x._)(ft))))}addOwnedVariant(it,Mt=!1){const zt=this.distributedTracingUtilService.startSpan(V.j1.AddOwnedVariant);return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.postQueryData($.AddOwnedVariant,{cmsId:it,locale:ft},zt,Mt)),(0,O.U)(ft=>(this.logger.info("addOwnedVariant response",ft),this.endSpan(zt,!1),!0)),(0,w.K)(ft=>(this.logger.error("Error in addOwnedVariant",ft),this.endSpan(zt,!0),(0,L.of)(!1))))}removeOwnedVariant(it,Mt=!1){const zt=this.distributedTracingUtilService.startSpan(V.j1.RemoveOwnedVariant);return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.postQueryData($.RemoveOwnedVariant,{cmsId:it,locale:ft},zt,Mt)),(0,O.U)(ft=>(this.logger.info("removeOwnedVariant response",ft),this.endSpan(zt,!1),!0)),(0,w.K)(ft=>404===(null==ft?void 0:ft.status)?(this.logger.info("Treating 404 for mark as unowned as success"),this.endSpan(zt,!1),(0,L.of)(!0)):(this.logger.error("Error in removeOwnedVariantSpan",ft),this.endSpan(zt,!0),(0,x._)(ft))))}selectOwnedVariant(it,Mt=!1){const zt=this.distributedTracingUtilService.startSpan(V.j1.SelectOwnedVariant);return this.getLocaleOsPlatform().pipe((0,h.q)(1),(0,u.zg)(([ft,ve])=>this.lcarsSdk.postQueryData($.SelectOwnedVariant,{cmsId:it,locale:ft},zt,Mt)),(0,O.U)(ft=>(this.logger.info("selectOwnedVariant response",ft),this.endSpan(zt,!1),!0)),(0,w.K)(ft=>(this.logger.error("Error in selectOwnedVariant",ft),this.endSpan(zt,!0),(0,L.of)(!1))))}}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)(pt.LFG(e.ed),pt.LFG(c.O_),pt.LFG(bt),pt.LFG(e.OL),pt.LFG(te.No),pt.LFG(Vt.r),pt.LFG(e.Ob),pt.LFG(o.HR),pt.LFG(V.Dc),pt.LFG(n.s),pt.LFG(s.eP),pt.LFG(le.VK),pt.LFG(ut.h),pt.LFG(e.CQ))},Pt.\u0275prov=pt.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Ut})();var Kt=t(17827),jt=t(63071),Wt=t(27947),oe=t(79530);let Qt=(()=>{var Pt;class Ut{constructor(it,Mt,zt,ft,ve,Ce,De,ze){this.lcarsService=Mt,this.router=zt,this.refreshUiService=ft,this.pathService=ve,this.appConfig=Ce,this.lcarsSdkService=De,this.ngZone=ze,this.campaignIdToGameListMap=new Map,this.activeCampaigns=[],this.deactiveCampaigns=[],this.refreshCampaignUI=new i.xQ,this.refreshCampaignUI$=this.refreshCampaignUI.asObservable(),this.removeGameFromCampaign=new i.xQ,this.removeGameFromCampaign$=this.removeGameFromCampaign.asObservable(),this.refetchGameCampaignIds=new i.xQ,this.refetchGameCampaignIds$=this.refetchGameCampaignIds.asObservable(),this._allCampaignsInfo=null,this.logger=it.getLogger("CampaignHelperService"),this.campaignIdToGameListMap=new Map}initialize(){this.ngZone.runOutsideAngular(()=>{(0,Kt.F)(this.appConfig.promoUI.refreshUICheckInterval).pipe((0,E.b)(()=>this.triggerCampaignUIRefresh(C.K$.TimerRefresh))).subscribe()}),this.refreshUiService.campaignDataRefresh$.subscribe(it=>{var Mt;this.appConfig.promoUI.isEnabled?(this.logger.info("Processing CampaignDataRefresh for",it.source," campaignInfo: ",null===(Mt=it.metadata)||void 0===Mt?void 0:Mt.campaignInfo),this.onCampaignDataRefresh(it)):this.logger.info("promo UI feature is disabled")})}onCampaignDataRefresh(it){var Mt,zt,ft,ve;if(null!=it&&null!==(Mt=it.metadata)&&void 0!==Mt&&null!==(Mt=Mt.campaignInfo)&&void 0!==Mt&&Mt.eventType)switch(null==it||null===(ve=it.metadata)||void 0===ve||null===(ve=ve.campaignInfo)||void 0===ve?void 0:ve.eventType){case jt.qu.CAMPAIGN_SCHEDULED:this.fullCampaignUIRefresh();break;case jt.qu.CAMPAIGN_START:(null==it||null===(zt=it.metadata)||void 0===zt||null===(zt=zt.campaignInfo)||void 0===zt?void 0:zt.resourceIds.length)>0&&!this.areCampaignIdsPresent(null==it||null===(ft=it.metadata)||void 0===ft||null===(ft=ft.campaignInfo)||void 0===ft?void 0:ft.resourceIds)?this.fullCampaignUIRefresh():this.triggerCampaignUIRefresh(C.K$.CampaignsRefresh);break;case jt.qu.CAMPAIGN_COMPLETE:this.triggerCampaignUIRefresh(C.K$.CampaignsRefresh);break;case jt.qu.CAMPAIGN_CANCELED:this.lcarsService.refreshCampaignsInfoStream();break;default:this.logger.info("Unknown CampaignInfoEventType")}else it.source!==s.cF.OnPushNotification&&this.fullCampaignUIRefresh()}fullCampaignUIRefresh(){this.resetCampaignDataFlags(),this.lcarsService.refreshCampaignsInfoStream(),this.refetchGameCampaignIds.next()}resetCampaignDataFlags(){this.activeCampaigns=[],this.deactiveCampaigns=[]}areCampaignIdsPresent(it){return null==it?void 0:it.every(Mt=>{var zt;return null===(zt=this._allCampaignsInfo)||void 0===zt||null===(zt=zt.items)||void 0===zt?void 0:zt.find(ft=>(null==ft?void 0:ft.id)===Mt)})}addGameToCampaignId(it,Mt){if(this.campaignIdToGameListMap.has(it))this.campaignIdToGameListMap.get(it).add(Mt);else{const zt=new Set;zt.add(Mt),this.campaignIdToGameListMap.set(it,zt)}}removeGameFromCampaignId(it,Mt){const zt=this.getGameListForCampaignId(it);null!=zt&&zt.has(Mt)&&(this.logger.info("Game removed from campaign UI",Mt,it),zt.delete(Mt),this.removeGameFromCampaign.next(Mt))}getCurrentCampaignIdsForGame(it){const Mt=[];return this.campaignIdToGameListMap.forEach((zt,ft)=>{zt.has(it)&&Mt.push(ft)}),Mt}updateCampaignIdToGameListMap(it,Mt){const zt=this.getCurrentCampaignIdsForGame(Mt),ft=null==zt?void 0:zt.filter(ve=>!(null!=it&&it.some(Ce=>Ce.substring(0,Ce.lastIndexOf("-"))===ve.substring(0,ve.lastIndexOf("-")))));null==ft||ft.forEach(ve=>{this.removeGameFromCampaignId(ve,Mt)}),it.length>0&&it.forEach(ve=>this.addGameToCampaignId(ve,Mt))}getGameListForCampaignId(it){return this.campaignIdToGameListMap.get(it)}getChangedCampaigns(){const it=[],Mt=[];return this.lcarsService.getCampaignsInfo().pipe((0,h.q)(1),(0,O.U)(zt=>(this.campaignIdToGameListMap.forEach((ft,ve)=>{var Ce;this._allCampaignsInfo=zt;const De=null==zt||null===(Ce=zt.items)||void 0===Ce?void 0:Ce.find(ze=>(null==ze?void 0:ze.id)===ve);if(De){const ze=this.lcarsSdkService.nvPreviewTime?new Date(this.lcarsSdkService.nvPreviewTime):new Date,$e=new Date(De.schedule.startTime),Se=new Date(De.schedule.endTime);$e<=ze&&Se>ze&&!this.activeCampaigns.includes(De.id)?(this.activeCampaigns.push(De.id),it.push(De)):Se<=ze&&!this.deactiveCampaigns.includes(De.id)&&(this.deactiveCampaigns.push(De.id),Mt.push(De))}}),{activatedCampaigns:it,deactivatedCampaigns:Mt})),(0,w.K)(zt=>(this.logger.error("Error in getChangedCampaigns",zt),(0,L.of)({activatedCampaigns:[],deactivatedCampaigns:[]}))))}triggerCampaignUIRefresh(it){(this.pathService.isMallUrl(this.router.url)||!(0,Xt.wI)(this.router.url))&&(it!==C.K$.TimerRefresh&&this.resetCampaignDataFlags(),this.refreshCampaignUI.next(it))}}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)(pt.LFG(e.ed),pt.LFG(re),pt.LFG(Wt.F0),pt.LFG(s.eP),pt.LFG(Xt.un),pt.LFG(oe.V),pt.LFG(bt),pt.LFG(pt.R0b))},Pt.\u0275prov=pt.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Ut})()},51858:(Dt,ct,t)=>{"use strict";t.d(ct,{DJ:()=>E,HV:()=>e,UH:()=>L,Wt:()=>i,XS:()=>u,cH:()=>h,hs:()=>f,uM:()=>g,zD:()=>O,zz:()=>S});const e=6,i=6,L=400,f="assets/img/LoginWallFallbackTile.png",S=[26,22,32,31,30,29,25,21,17,13,12,28,23,19,14,9,3,6,24,20,16,10,1,4,36,18,15,5,2,8,35,34,33,27,11,7];var u=function(w){return w.Unknown="Unknown",w.Catalog="Catalog",w.Game="Game",w}(u||{});const g="contentString",h="deeplinkString";var O=function(w){return w.Unknown="Unknown",w.RedirectCompleted="RedirectCompleted",w.Aborted="Aborted",w.Success="Success",w.Failure="Failure",w}(O||{});const E=8e3},46555:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>l});var e=t(28849),i=t(57665),L=t(15550),f=t(33910),x=t(86515),S=t(96355),u=t(78654),g=t(39038),h=t(10662),O=t(52484),E=t(17401),w=t(59074),p=t(78173),V=t(91467),c=t(61699);const C=[e.u5,u.yu,i.IF,L.Zh,g.gR,h.jT,O.g0,f.Cq,x.Ps,E.Is,w.y,S.LD,p.Cv];let l=(()=>{var o;class n{}return(o=n).\u0275fac=function(R){return new(R||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[e.u5,C,V.hp,e.u5,u.yu,i.IF,L.Zh,g.gR,h.jT,O.g0,f.Cq,x.Ps,E.Is,w.y,S.LD,p.Cv]}),n})()},24027:(Dt,ct,t)=>{"use strict";t.d(ct,{Cz:()=>L,SB:()=>e,rL:()=>i});var e=function(f){return f.DbStoreName="BrowseUxStore",f}(e||{}),i=function(f){return f.showDesktopShortcutPrompt="showDesktopShortcutPrompt",f.showSearchTip="showSearchTip",f.skipGamepadWarningDialog="skipGamepadWarningDialog",f.skipKeyboardMouseWarningDialog="skipKeyboardMouseWarningDialog",f.skipDayPassLowPlayTimeRemainingDialog="skipDayPassLowPlayTimeRemainingDialog",f.skipTimeCapLowPlayTimeRemainingDialog="skipTimeCapLowPlayTimeRemainingDialog",f.skipTimeCapLimitedPlayTimeRemainingDialog="skipTimeCapLimitedPlayTimeRemainingDialog",f}(i||{}),L=function(f){return f.OverLay="over",f.Side="side",f}(L||{})},62712:(Dt,ct,t)=>{"use strict";t.d(ct,{$Y:()=>s,C6:()=>h,EM:()=>S,T8:()=>l,X3:()=>o,Xf:()=>L,b5:()=>_,db:()=>V,dp:()=>C,eK:()=>f,et:()=>n,g7:()=>O,h4:()=>R,iJ:()=>u,rm:()=>w,uE:()=>x,zV:()=>E});var e=t(81351);const L="TV_BANNER_",f="deeplink";var x=function(b){return b.Action="action",b.CmsId="cms-id",b.GameId="game-id",b.Store="store",b.Zone="zone",b.AssetId="asset-id",b.Locale="lang",b.ShowEvidencePanel="showEvidencePanel",b.SectionId="sectionId",b.Nonce="nonce",b.Redirect="redirect",b.PartnerData="partner-data",b.ExtraData="extra-data",b.UtmSource="utm_source",b.UtmCampaign="utm_campaign",b.UtmMedium="utm_medium",b.UtmTerm="utm_term",b.UtmContent="utm_content",b.PartnerId="partner-id",b.WindowedMode="windowed-mode",b.Branch="branch",b.State="state",b}(x||{}),S=function(b){return b.ViewGame="view-game",b.PlayGame="play-game",b.Games="games",b}(S||{});const u=S.ViewGame;var g=function(b){return b.IsViewGameEnabled="isViewGameEnabled",b.IsPlayGameEnabled="isPlayGameEnabled",b.ShowShortcutButton="showShortcutButton",b.ShowShareButton="showShareButton",b.SendDeeplinkTelemetry="sendDeeplinkTelemetry",b.GuestMode="guestMode",b}(g||{});const h={[g.IsViewGameEnabled]:!0,[g.IsPlayGameEnabled]:!0,[g.ShowShareButton]:!1,[g.ShowShortcutButton]:!1,[g.SendDeeplinkTelemetry]:!1},O={[S.ViewGame]:g.IsViewGameEnabled,[S.PlayGame]:g.IsPlayGameEnabled};var E=function(b){return b.Shortcut="shortcut",b.Application="application",b.Marquee="marquee",b}(E||{});const w={[S.ViewGame]:e.oSA.ViewGame,[S.PlayGame]:e.oSA.PlayGame};var p=function(b){return b.IsNetworkTestEnabled="isNetworkTestEnabled",b.IsIGOEnabled="isIGOEnabled",b.IsOSCEnabled="isOSCEnabled",b.IsPostSessionTipsEnabled="isPostSessionTipsEnabled",b.IsStreamingTimerEnabled="isStreamingTimerEnabled",b.DisableCloseOnStreamExit="disableCloseOnStreamExit",b.ForceTouchModeSettings="forceTouchModeSettings",b.IsGuestAppFlow="isGuestAppFlow",b.IGOSettings="igoSettings",b.IsWhitelabelingEnabled="isWhiteLabelingEnabled",b.Metadata="metadata",b.HideAppStartButton="hideAppStartButton",b.IsWindowedModeCursorTypeFree="isWindowedModeCursorTypeFree",b}(p||{});const V={[p.HideAppStartButton]:!1,[p.IsWindowedModeCursorTypeFree]:!1,[p.IsNetworkTestEnabled]:!1,[p.IsIGOEnabled]:!0,[p.IsOSCEnabled]:!0,[p.IsPostSessionTipsEnabled]:!1,[p.IsStreamingTimerEnabled]:!0,[p.DisableCloseOnStreamExit]:!1,[p.ForceTouchModeSettings]:{},[p.IsGuestAppFlow]:!0,[p.IGOSettings]:{},[p.IsWhitelabelingEnabled]:!1,[p.Metadata]:{}},c={...V,[p.IsIGOEnabled]:!0,[p.DisableCloseOnStreamExit]:!0,[p.IsGuestAppFlow]:!1},C={DAF_GUESTMODE_25cb5a58:"daf_guestmode_25cb5a58",AC:"82d77512-a90b-42bf-8be9-446fb10341b5",GFN_PLAYTEST:"0F0E5E46-5F1E-42FE-BA5A-74077ED505F1"},l={"AyLZgPglXtCGoG-lPMe0mxYoP6BH9Jva3vLeerYckFA":c,"YwuYeOqCAwvSS9_ohdam7Bn-SQv0b7rLGP2v9lAZWto":c,xfhos6xyQwTHf0I5Scg7LjtfvVw5aeucqdJURXcMBcc:V,H6JxRR6FFDUGwN1fdlgKWBmOPnvDEvEEoudefDooEho:V,"2ZGpTLugwxbQLk8MlqSLFweBjXMJ33xKQdghZfmxTwc":V,"0Xg3tEsmQZqn-zsZgSTIQqJZn5f7X7kuBxE5C9KFsys":V},o={[C.DAF_GUESTMODE_25cb5a58]:"L65LoXgut5_bAQ95JepON01jMMSYxDHB4aa_tHQC-gc"};var n=function(b){return b[b.Success=0]="Success",b[b.Partner_Error=1]="Partner_Error",b[b.GFN_Error=2]="GFN_Error",b[b.Campaign_Suspended=3]="Campaign_Suspended",b[b.GFN_Error_SessionLimitReached=4]="GFN_Error_SessionLimitReached",b}(n||{}),s=function(b){return b.VDKPlayTest="vdkPlaytest",b}(s||{});const R={id:"dummy-id",appStore:"UNKNOWN",supportedControls:[],contentRatings:null,images:{HERO_IMAGE:"",TV_BANNER:""},variants:[{id:""}]};var _=function(b){return b.Status="status",b.State="state",b.SubStatus="sub-status",b}(_||{})},18288:(Dt,ct,t)=>{"use strict";t.d(ct,{rm:()=>L.rm,mp:()=>x,wM:()=>S,uE:()=>L.uE,gO:()=>f,$Y:()=>L.$Y,eK:()=>L.eK,EM:()=>L.EM,iJ:()=>L.iJ,db:()=>L.db,Cz:()=>e.Cz,CK:()=>g,h4:()=>L.h4,et:()=>L.et,Et:()=>i.E,pv:()=>i.p,T8:()=>L.T8,zV:()=>L.zV,Ev:()=>w,Xf:()=>L.Xf});var e=t(24027),i=t(4406),L=t(62712),f=function(p){return p.Serenity="Serenity",p.UIPlugin="UIPlugin",p}(f||{}),x=function(p){return p.default="DEFAULT",p.fullScreen="FULLSCREEN",p}(x||{}),S=function(p){return p.zoneMaintenance="ZONE_MAINTENANCE_TIMER",p.paste="PASTE",p.sessionLengthTimer="SESSION_LENGTH_TIMER",p}(S||{}),u=t(11904),g=function(p){return p.lockState="Locked",p.readyState="Ready",p.systemUnsupportedState="System_Unsupported",p}(g||{});const w=[{featureKey:u.xA.RTX_ENABLED,featureUpsellKey:u.$c.SUPPORT_RTX,upsellToUnentitledUsers:!0,systemSupported:!0},{featureKey:u.xA.ENABLED_REFLEX,featureUpsellKey:u.$c.SUPPORT_REFLEX,systemSupported:!0},{featureKey:u.xA.HDR_ENABLED,featureUpsellKey:u.$c.SUPPORT_HDR,systemSupported:!0}]},4406:(Dt,ct,t)=>{"use strict";t.d(ct,{E:()=>i,p:()=>e});var e=function(L){return L[L.Infinity=0]="Infinity",L[L.Once=1]="Once",L}(e||{}),i=function(L){return L[L.Play=1]="Play",L[L.Pause=2]="Pause",L[L.Resume=3]="Resume",L}(i||{})},11904:(Dt,ct,t)=>{"use strict";t.d(ct,{$c:()=>h,LQ:()=>g,NY:()=>u,UM:()=>O,Uq:()=>E,jc:()=>i,xA:()=>x,xw:()=>S});var i=function(w){return w.UNKNOWN="UNKNOWN",w.LIMITED="LIMITED",w.FULL="FULL",w}(i||{}),x=function(w){return w.UNKNOWN="UNKNOWN",w.RTX_ENABLED="RTX_ENABLED",w.HDR_ENABLED="HDR_ENABLED",w.SUPPORTED_AUDIO_FORMATS="SUPPORTED_AUDIO_FORMATS",w.IN_GAME_SETTINGS_PERSISTENCE_ENABLED="IN_GAME_SETTINGS_PERSISTENCE_ENABLED",w.ENABLED_FPS="ENABLED_FPS",w.ENABLED_DEBUG_TOOLS="ENABLED_DEBUG_TOOLS",w.ENABLED_REFLEX="ENABLED_REFLEX",w.CLOUD_GSYNC="CLOUD_GSYNC",w.ENABLED_L4S="ENABLED_L4S",w.BIT_DEPTH="BIT_DEPTH",w}(x||{}),S=function(w){return w.UNKNOWN="UNKNOWN",w.BALANCED="BALANCED",w.DATA_SAVER="DATA_SAVER",w.COMPETITIVE="COMPETITIVE",w}(S||{}),u=function(w){return w.UNKNOWN="UNKNOWN",w.FREE="FREE",w.PAID="PAID",w.PROMOTION="PROMOTION",w.GIFT_CARD="GIFT_CARD",w}(u||{}),g=function(w){return w.UNKNOWN="UNKNOWN",w.UNLIMITED="UNLIMITED",w.DAY_PASS="DAY_PASS",w.TIME_CAPPED="TIME_CAPPED",w}(g||{}),h=function(w){return w.UNKNOWN="UNKNOWN",w.BETTER_PRODUCT="BETTER_PRODUCT",w.SUPPORT_IN_GAME_SETTINGS_PERSISTENCE="SUPPORT_IN_GAME_SETTINGS_PERSISTENCE",w.HIGHER_SESSION_LENGTH="HIGHER_SESSION_LENGTH",w.LOWER_SESSION_QUEUE_WAIT_TIME="LOWER_SESSION_QUEUE_WAIT_TIME",w.HIGHER_FPS="HIGHER_FPS",w.HIGHER_RESOLUTION="HIGHER_RESOLUTION",w.SUPPORT_HDR="SUPPORT_HDR",w.SUPPORT_RTX="SUPPORT_RTX",w.SUPPORT_REFLEX="SUPPORT_REFLEX",w.AD_FREE_EXPERIENCE="AD_FREE_EXPERIENCE",w.DAY_PASS="DAY_PASS",w.SUPPORT_CLOUD_GSYNC="SUPPORT_CLOUD_GSYNC",w.SUPPORT_L4S="SUPPORT_L4S",w.HIGHER_BIT_DEPTH="HIGHER_BIT_DEPTH",w}(h||{}),O=function(w){return w[w.UNKNOWN=0]="UNKNOWN",w[w.STEREO=2]="STEREO",w[w.UP_TO_5_1_SURROUND_PCM=6]="UP_TO_5_1_SURROUND_PCM",w[w.UP_TO_7_1_SURROUND_PCM=8]="UP_TO_7_1_SURROUND_PCM",w}(O||{}),E=function(w){return w.UNKNOWN="UNKNOWN",w.PROFILE_VSYNC="PROFILE_VSYNC",w.PROFILE_ADJUST_FOR_NETWORK="PROFILE_ADJUST_FOR_NETWORK",w.PROFILE_HDR="PROFILE_HDR",w.PROFILE_REFLEX="PROFILE_REFLEX",w.PROFILE_CLOUD_GSYNC="PROFILE_CLOUD_GSYNC",w.PROFILE_L4S="PROFILE_L4S",w.PROFILE_BIT_DEPTH="PROFILE_BIT_DEPTH",w}(E||{})},78182:(Dt,ct,t)=>{"use strict";t.d(ct,{zu:()=>o,_R:()=>p,PT:()=>c,$e:()=>V,gM:()=>E,Uq:()=>C.Uq,xw:()=>C.xw,xA:()=>C.xA,jc:()=>C.jc,LQ:()=>C.LQ,NY:()=>C.NY,$c:()=>C.$c,U1:()=>s,Jn:()=>R});var e=t(30285),i=t(77869),L=t(65343),f=t(31157),x=t(45078),S=t(87965),u=t(47422),g=t(61699),h=t(87815),O=t(97424);let E=(()=>{var _;class b{constructor(q,a,y,M){this.appConfig=q,this.endpointFactory=a,this.distributedtracingUtilService=y,this.clientHeaderService=M;const{defaultRetries:P=0,defaultTimeBetweenRetries:K=0,defaultTimeout:B=15e3}=q.nes,j={maxRetries:P,timeout:B,timeBetweenRetries:K};this.subscriptionsEndpoint=this.createEndpoint({config:j}),this.serviceUrlEndpoint=this.createEndpoint({config:{...j,maxRetries:q.nes.serviceUrlsMaxRetries}}),this.productEndpoint=this.createEndpoint(),this.firstFetchSet=new Set}buildUrl(q,a={}){const{useLayoutServer:y=!1}=a;return(0,i.D5)(y?[this.appConfig.nes.layoutServer,this.appConfig.nes.layoutServerVersion,q]:[this.appConfig.nes.server,this.appConfig.nes.version,q])}createEndpoint(q){return this.endpointFactory.createEndpoint(q)}createHeader(q){return{[e.n0.authorization]:`GFNJWT ${q.token}`}}createRequestOptions(q,a,y,M){const P={params:{...q},includeRequestId:!0,reportRequestData:{...a},includeFullResponse:M},K=a.serviceUseCase;return P.headers={},null!=y&&y.token&&(P.headers=this.createHeader(y)),this.firstFetchSet.has(K)?P.headers[x.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(K),P}createAndCallNesServerAPI(q,a,y,M,P,K,B){return this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}).pipe((0,S.zg)(j=>{const tt=this.createRequestOptions({serviceName:"gfn_pc",...y},{originalService:L.v6v.NES,serviceUseCase:a},M,K);B&&(j[x.Fk.SwNotifyFetch]="true"),Object.assign(tt.headers,j);const ot=this.subscriptionsEndpoint.get(this.buildUrl(q),tt);return this.distributedtracingUtilService.handleHttpEndpointSpan(ot,tt,f.j1.FetchSubscriptions,P)}))}getUserSubscription(q,a,y){return this.getMesServerAPIResp(q,a,y)}getMesServerAPIResp(q,a,y){return this.createAndCallNesServerAPI("/subscriptions",L.f$p.NES_Get_Subscriptions,q,a,y,!0,!0).pipe((0,u.U)(M=>{const P={subscription:M.body,lastFetchDateTime:new Date};return P.isCached=M.headers.has(x.Fk.SwCache),P}))}getClientStreamingQuality(q,a){return this.createAndCallNesServerAPI("/client/streaming-qualities",L.f$p.NES_GetClientStreamingQuality,q,null,a,null,null)}getProductInfo(q){return this.productEndpoint.get(q)}getLoginProviderInfo(q,a){return this.serviceUrlEndpoint.get(this.buildUrl("/serviceUrls",{useLayoutServer:!0}),this.createRequestOptions(null,{originalService:L.v6v.Cms,serviceUseCase:L.f$p.NES_Get_ServiceUrls},a))}}return(_=b).\u0275fac=function(q){return new(q||_)(g.LFG(h.VK),g.LFG(e.V9),g.LFG(f.Dc),g.LFG(O.x5))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),b})();var w=t(14955);class p extends w.xv{constructor(b,I){super("Could not fetch app metadata for "+b,I)}}class V extends w.xv{constructor(b){super("Could not fetch layout",b)}}class c extends w.xv{constructor(b){super("Could not fetch appsList",b)}}var C=t(11904),o=function(_){return _.UNAVAILABLE="UNAVAILABLE",_.AVAILABLE="AVAILABLE",_.PATCHING="PATCHING",_.SERVER_MAINTENANCE="SERVER_MAINTENANCE",_}(o||{});const s={title:"mockIntegrationTile",shortName:"mockIntegrationTile",id:"12345",variants:[],images:{GAME_BOX_ART:"http://mock-box-art-url",KEY_ART:"http://mock-key-art-url",TV_BANNER:"http://wide-art-url"}},R={title:"mockSeeMoreTile",shortName:"mockSeeMoreTile",id:"123456",variants:[],images:{GAME_BOX_ART:"http://mock-box-art-url",KEY_ART:"http://mock-key-art-url",TV_BANNER:"http://wide-art-url"}}},77299:(Dt,ct,t)=>{"use strict";t.d(ct,{BP:()=>q,l6:()=>a,fI:()=>y.f});var e=t(49481),i=t(33994),L=t(9681),f=t(70506),x=t(64555),S=t(85046),u=t(46939),g=t(87965),h=t(328),O=t(58175),E=t(47422),w=t(45083),p=t(47178),V=t(31157),c=t(58540),C=t(45078),l=t(61699),o=t(78182),n=t(7749),s=t(43818),R=t(87815),_=t(13963),b=t(15665);const q={id:null,title:null,shortDescription:null,longDescription:null,assets:null};let a=(()=>{var M;class P{constructor(B,j,tt,ot,F,U,z,Q,dt){this.nesSdk=B,this.idmService=j,this.gridService=tt,this.appConfig=ot,this.localeService=F,this.sharedStorageService=U,this.serviceWorkerService=z,this.distributedTracingUtilService=Q,this.storageKeySubscription="Subscription",this.storageKeyNesResolutions="NesResolutions_v3",this.subscriptionNetworkFetchedNoUpdate$=new e.t(1),this.logger=dt.getLogger("NesEntitlementService"),this.processedSubscriptionResponse$=new e.t(1),this.initServiceWorkerNotifications()}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,S.h)(B=>B.name===C.No.staleWhileRevalidate.subscriptions.cacheName),(0,u.q)(1),(0,g.zg)(B=>B.noDataUpdate?(this.subscriptionNetworkFetchedNoUpdate$.next(!0),(0,i._)("no update in data")):(0,L.of)(B)),(0,h.M)(this.idmService.accountStatusChanged),(0,g.zg)(([B,j])=>{this.logger.info("Subscription SW Cache updated, relaying updated data.",B.data);const tt=new URL(B.url);if(tt.searchParams.has("userId")){const ot=tt.searchParams.get("userId");return j.isAuthenticated&&j.userId===ot?this.handleSubscriptionResponse({subscription:B.data},j):f.E}return f.E})).subscribe(B=>{this.processedSubscriptionResponse$.next(B)},B=>{this.logger.warn("ending sw cache observable: ",B)}),this.serviceWorkerService.networkResponseReceived.pipe((0,S.h)(B=>B.cacheName===C.No.staleWhileRevalidate.subscriptions.cacheName&&404===B.responseStatusCode),(0,h.M)(this.idmService.accountStatusChanged),(0,g.zg)(([B,j])=>this.handleSubscriptionResponse(null,j))).subscribe(B=>{const j=this.distributedTracingUtilService.startSpan(V.j1.GetEntitlementStatus);this.distributedTracingUtilService.setSpanAttribute(j,V.NI.Error,!0),this.processSubscriptionResponse(B,j)})}get subscriptionNetworkFetchedNoUpdate(){return this.subscriptionNetworkFetchedNoUpdate$.asObservable()}getUserEntitlement(B,j,tt,ot){if(null!=j&&j.useCache)return this.getSubscriptionSharedStorageBlock(B).pipe((0,g.zg)(F=>{const U=F.data;if(this.cacheIsCurrent(U,j.cacheLifetimeOverride))return this.logger.info("getUserEntitlement fetching from sharedstorage cache"),this.returnSubscriptionResponse(U);if(tt)return(0,i._)(ot);{const z=this.distributedTracingUtilService.startSpan(V.j1.GetEntitlementStatus);return this.getUserEntitlementFromServer(z,B)}}));{const F=this.distributedTracingUtilService.startSpan(V.j1.GetEntitlementStatus);return this.getUserEntitlementFromServer(F,B)}}getClientStreamingQuality(B){if(null!=B&&B.useCache)return this.unentitledUserData?(0,L.of)(this.unentitledUserData):this.getNesResolutionSharedStorageBlock().pipe((0,g.zg)(j=>{const tt=j.data;if(null!=tt&&tt.resolutions&&tt.resolutions.length>0&&this.cacheIsCurrent(tt,B.cacheLifetimeOverride))return this.unentitledUserData=tt,(0,L.of)(tt);{const ot=this.distributedTracingUtilService.startSpan(V.j1.ClientStreamingQuality);return this.getClientStreamingQualityFromServer(ot)}}));{const j=this.distributedTracingUtilService.startSpan(V.j1.ClientStreamingQuality);return this.getClientStreamingQualityFromServer(j)}}getUserEntitlementFromServer(B,j,tt=!1){return this.logger.info("getUserEntitlement fetching from server/service worker"),this.getVpcIdLocaleAndToken(B,tt).pipe((0,u.q)(1),(0,g.zg)(([ot,F,U])=>{if(this.logger.info("vpcId and delegate token resolved ",ot),(0,p.isNil)(U))return this.logger.error("invalid auth token"),(0,i._)("failed to get auth token");const z={languageCode:F,vpcId:ot,userId:j.userId};return this.distributedTracingUtilService.setSpanAttribute(B,V.NI.VpcId,ot),this.distributedTracingUtilService.setSpanAttribute(B,V.NI.Locale,F),this.nesSdk.getUserSubscription(z,U,B).pipe((0,g.zg)(Q=>this.handleSubscriptionResponse(Q,j)),(0,g.zg)(Q=>this.processSubscriptionResponse(Q,B)),(0,O.K)(Q=>404===Q.status?this.handleAndProcessSubscriptionResponse(j,B):this.idmService.handleAuthError(Q,tt,this.getUserEntitlementFromServer.bind(this),B,j)))}),(0,O.K)(ot=>(this.distributedTracingUtilService.setSpanAttribute(B,V.NI.Error,!0),this.distributedTracingUtilService.closeSpan(B),this.handleServerErrorResponse(ot,j))))}handleAndProcessSubscriptionResponse(B,j){return this.handleSubscriptionResponse(null,B).pipe((0,g.zg)(tt=>this.processSubscriptionResponse(tt,j)))}processSubscriptionResponse(B,j){return this.processedSubscriptionResponse$.next(B),this.distributedTracingUtilService.closeSpan(j),this.processedSubscriptionResponse$.asObservable()}handleServerErrorResponse(B,j){return this.getUserEntitlement(j,{useCache:!0},!0,B)}handleSubscriptionResponse(B,j){if(!(0,p.isNil)(null==B?void 0:B.subscription)&&!(0,p.isNil)(null==B?void 0:B.subscription.productUri))return this.nesSdk.getProductInfo(B.subscription.productUri).pipe((0,E.U)(tt=>({product:tt,...B})),(0,O.K)(tt=>(this.logger.error("failed to get product info: ",tt),(0,L.of)({product:q,...B}))),(0,g.zg)(tt=>(this.setSubscriptionSharedStorageBlock(tt,j),this.returnSubscriptionResponse(tt))));{const tt={product:q,...B};return this.setSubscriptionSharedStorageBlock(tt,j),this.returnSubscriptionResponse(tt)}}returnSubscriptionResponse(B){const j=(0,p.omit)(B,"cacheRefreshDate");return(0,L.of)(j)}getVpcIdLocaleAndToken(B,j=!1){const tt=this.localeService.localeChanged,ot=this.gridService.vpcId$.pipe((0,w.x)());return(0,x.aj)([ot,tt]).pipe((0,g.zg)(([F,U])=>this.idmService.getAuthToken(j,B).pipe((0,E.U)(z=>[F,U,z||null]))))}getSubscriptionSharedStorageBlock(B){return this.sharedStorageService.readBlock(this.getSubscriptionStorageKey(B)).pipe((0,g.zg)(j=>(0,L.of)(j||{})))}setSubscriptionSharedStorageBlock(B,j){this.updateExperimentRefreshDate(B);const tt={data:B};this.sharedStorageService.writeBlock(this.getSubscriptionStorageKey(j),tt).subscribe(ot=>{this.logger.verbose(`write status to shared storage: ${ot}`)},ot=>{this.logger.error("Error while writing to shared storage",ot)})}updateExperimentRefreshDate(B){return B.cacheRefreshDate=new Date,B}getSubscriptionStorageKey(B){return this.storageKeySubscription+"_"+(B&&B.isAuthenticated?B.userId:void 0)}cacheIsCurrent(B,j=this.appConfig.nes.cacheMaxAge){return-1===j?!!B:!!(B&&c(new Date).diff(c(this.getExperimentRefreshDate(B)),"minutes")<=j)}getExperimentRefreshDate(B){return B.cacheRefreshDate}getClientStreamingQualityFromServer(B){const j=this.localeService.localeChanged,tt=this.gridService.vpcId$.pipe((0,w.x)());return(0,x.aj)([tt,j]).pipe((0,g.zg)(([ot,F])=>(this.logger.info("getClientStreamingQualityFromServer vpcId,Locale resolved: ",ot),this.nesSdk.getClientStreamingQuality({languageCode:F,vpcId:ot},B).pipe((0,E.U)(z=>(this.logger.info("getClientStreamingQuality response from server: ",z),this.unentitledUserData=z,this.setNesResolutionSharedStorageBlock(this.unentitledUserData),this.unentitledUserData)),(0,O.K)(z=>(this.logger.error("getClientStreamingQualityFromServer error: ",z),(0,i._)(z)))))),(0,O.K)(ot=>(this.logger.error("getClientStreamingQualityFromServer vpcId/Locale error: ",ot),(0,i._)(ot))),(0,u.q)(1))}getNesResolutionSharedStorageBlock(){return this.sharedStorageService.readBlock(this.storageKeyNesResolutions).pipe((0,g.zg)(B=>(0,L.of)(B||{})))}setNesResolutionSharedStorageBlock(B){const j={data:B};this.updateExperimentRefreshDate(j.data),this.sharedStorageService.writeBlock(this.storageKeyNesResolutions,j).subscribe(tt=>{this.logger.info("write status to shared storage: ",tt)},tt=>{this.logger.error("Error while writing to shared storage",tt)})}}return(M=P).\u0275fac=function(B){return new(B||M)(l.LFG(o.gM),l.LFG(n.No),l.LFG(s.r),l.LFG(R.VK),l.LFG(_.OL),l.LFG(b.OA),l.LFG(C.HR),l.LFG(V.Dc),l.LFG(_.ed))},M.\u0275prov=l.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),P})();var y=t(62864)},62864:(Dt,ct,t)=>{"use strict";t.d(ct,{f:()=>b});var e=t(33994),i=t(9681),L=t(85046),f=t(46939),x=t(47422),S=t(87965),u=t(15746),g=t(1062),h=t(58175),O=t(47178),w=t(65343),p=t(24642),V=t(32244),c=t(45078),C=t(61699),l=t(78182),o=t(13963),n=t(7749),s=t(89857),R=t(91266),_=t(77869);let b=(()=>{var I;class q{constructor(y,M,P,K,B,j,tt,ot){this.nesSdk=y,this.loggingService=M,this.idmService=P,this.telemetryService=K,this.oobeService=B,this.eventStreamFactory=j,this.sharedStorageCachingService=tt,this.serviceWorkerService=ot,this.isUserInfoAffiliate=!1,this.logger=this.loggingService.getLogger("gfn/shared/NesUserInfoService"),this.serverUrlsStream=this.eventStreamFactory.createStream(()=>this.fetchProviderInfo()),this.userInfoStream=this.eventStreamFactory.createStream(()=>this.userInfoWithStreamingUrl()),this.countryCodeStream=this.eventStreamFactory.createStream(()=>this.fetchCountryCode()),this.initServiceWorkerNotifications()}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,L.h)(y=>y.name===c.No.staleWhileRevalidate.serviceUrls.cacheName),(0,f.q)(1)).subscribe(y=>{this.serverUrlsStream.setData(y.data,!0)})}fetchProviderInfo(){return this.logger.info("Calling NES server urls to get affiliate information"),this.nesSdk.getLoginProviderInfo().pipe((0,x.U)(y=>this.validateLoginProviderInfo(y)))}validateLoginProviderInfo(y){if(this.logger.info("processServiceUrls"),(0,O.isNil)(y)||(0,O.isNil)(y.gfnServiceInfo)||(0,O.isNil)(y.gfnServiceInfo.loginRequired))throw new Error("Server info was invalid.");const M=y.gfnServiceInfo;if(M.loginRequired&&((0,O.isNil)(M.loginPreferredProviders)||(0,O.isEmpty)(M.loginPreferredProviders)))throw new Error('Missing "loginPreferredProviders".');return y}getServerProperty(y){return this.serverUrlsStream.get$().pipe((0,x.U)(y))}fetchUserInfoWithStreamingUrl(){return this.userInfoStream.get$()}userInfoWithStreamingUrl(){let y;return this.serverUrlsStream.get$().pipe((0,S.zg)(M=>(y=M,this.idmService.getUserServiceEndpoint(y.gfnServiceInfo))),(0,x.U)(M=>{const P=M.serviceEndpoint.loginProvider;return this.sendProviderInfoTelemetry(P,y,M.user.isAuthenticated),{user:M.user,serviceEndpoint:M.serviceEndpoint,isAffiliate:P!==y.gfnServiceInfo.defaultProvider}}),(0,u.b)(M=>{this.isUserInfoAffiliate=M.isAffiliate,this.idmService.setCachedAffiliateStatus(M.user.userId,{loginProvider:M.serviceEndpoint.loginProvider,loginProviderCode:M.serviceEndpoint.loginProviderCode,isAffiliate:M.isAffiliate}).subscribe()}))}cachedUserAndAffiliateStatus(){return this.idmService.cachedUserAndAffiliateStatus}sendProviderInfoTelemetry(y,M,P){this.oobeService.oobeDialogClosedState.pipe((0,g.O)(!1)).subscribe(()=>{const K=new w.zZ4({isAffiliateRegion:M.gfnServiceInfo.loginRequired?w.wye.TRUE:w.wye.FALSE,supportedProviders:(0,O.isEmpty)(M.gfnServiceInfo.loginPreferredProviders)?"":M.gfnServiceInfo.loginPreferredProviders.toString(),providerName:P?y:""});this.telemetryService.push(K,null,{immediateRequest:!0})})}get providerInfo$(){return this.getServerProperty(y=>(0,O.isNil)(y)||(0,O.isNil)(y.gfnServiceInfo)?null:y.gfnServiceInfo).pipe((0,h.K)(y=>(this.logger.error("failed to get provider info",y),(0,e._)(y))))}get loginPreferredProviders$(){return this.getServerProperty(y=>(0,O.isNil)(y)||(0,O.isNil)(y.gfnServiceInfo)?null:y.gfnServiceInfo.loginPreferredProviders).pipe((0,h.K)(y=>(this.logger.error("failed to get login provider",y),(0,e._)(y))))}get loginRequired$(){return this.getServerProperty(y=>!(!y||!y.gfnServiceInfo)&&y.gfnServiceInfo.loginRequired)}fetchProviderUserAction(){return this.logger.info("fetchProviderUserAction"),this.serverUrlsStream.get$().pipe((0,f.q)(1),(0,S.zg)(y=>this.idmService.getUserServiceEndpoint(y.gfnServiceInfo)),(0,x.U)(y=>(0,O.isNil)(y)?w.Vwu.LoginWithJarvisOAuth:w.Vwu.LoginWithFacebook.includes(y.serviceEndpoint.loginProvider.toUpperCase())?w.Vwu.LoginWithFacebook:w.Vwu.LoginWithGoogle.includes(y.serviceEndpoint.loginProvider.toUpperCase())?w.Vwu.LoginWithGoogle:this.isUserInfoAffiliate?w.Vwu.LoginWithAffiliate:w.Vwu.LoginWithOther))}fetchCountryCode(){return this.serverUrlsStream.get$().pipe((0,x.U)(y=>y.gfnServiceInfo.clientCountryCode),(0,h.K)(y=>(this.logger.error("Could not fetch NES login provider info for country code",y),(0,i.of)(p.S5.US))),(0,S.zg)(y=>this.sharedStorageCachingService.saveItem(V.RI.CountryCode,y)))}getCountryCode(){return this.countryCodeStream.get$()}}return(I=q).\u0275fac=function(y){return new(y||I)(C.LFG(l.gM),C.LFG(o.ed),C.LFG(n.No),C.LFG(s.y0),C.LFG(R.H),C.LFG(_.O_),C.LFG(V.sB),C.LFG(c.HR))},I.\u0275prov=C.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),q})()},77136:(Dt,ct,t)=>{"use strict";t.d(ct,{Y:()=>O});var e=t(89129),i=t(61699),L=t(3006),f=t(13963),x=t(26575),S=t(87251),u=t(38616),g=t(43559);function h(E,w){if(1&E&&(i.TgZ(0,"div",1)(1,"a",2),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&E){const p=i.oxw();i.xp6(1),i.Q6J("href",p.serverStatusUrl,i.LSH)("shortUrl",p.serverStatusShortUrl),i.xp6(1),i.hij(" ",i.lcZ(3,3,"common.viewServerStatus")," ")}}let O=(()=>{var E;class w{constructor(V,c){this.networkTestService=V,this.localeService=c,this.serverStatusShortUrl=e.hD[e.hE.GfnServerStatus]}ngOnInit(){this.isOnline=this.networkTestService.isSystemOnline(),this.localeSubscription=this.localeService.localeChanged.subscribe(V=>{this.serverStatusUrl=e.hE.BaseUrl+V+"&page="+e.hE.GfnServerStatus})}ngOnDestroy(){this.localeSubscription&&this.localeSubscription.unsubscribe()}}return(E=w).\u0275fac=function(V){return new(V||E)(i.Y36(L.R),i.Y36(f.OL))},E.\u0275cmp=i.Xpm({type:E,selectors:[["gfn-server-status-link"]],decls:1,vars:1,consts:[["class","redirect-page-div",4,"ngIf"],[1,"redirect-page-div"],["target","_blank",1,"font-body2-link",3,"href","shortUrl"]],template:function(V,c){1&V&&i.YNc(0,h,4,5,"div",0),2&V&&i.Q6J("ngIf",c.isOnline)},dependencies:[x.O5,S.E,u.p,g.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),w})()},75783:(Dt,ct,t)=>{"use strict";t.d(ct,{N:()=>n});var e=t(61699),i=t(17401),L=t(32484),f=t(65343),x=t(88404),S=t(39743),u=t(13303),g=t(13963);function h(s,R){if(1&s&&e._UZ(0,"gfn-network-icons",10),2&s){const _=e.oxw(3);e.Q6J("progressState",_.progressState)("nvTestData",_.testData)("maxDisplayState",_.maxDisplayState)("isWebRtcNetworkTest",_.isWebRtcNetworkTestEnabled)}}function O(s,R){if(1&s&&e._UZ(0,"gfn-network-completed",15),2&s){const _=e.oxw(4);e.Q6J("nvTestData",_.testData)("isHandset",_.isHandset)}}function E(s,R){if(1&s&&(e.TgZ(0,"mat-tab-group",16)(1,"mat-tab",17),e.ALo(2,"translate"),e._UZ(3,"gfn-network-tips",18),e.qZA(),e.TgZ(4,"mat-tab",17),e.ALo(5,"translate"),e._UZ(6,"gfn-network-completed",15),e.qZA()()),2&s){const _=e.oxw(4);e.xp6(1),e.s9C("label",e.lcZ(2,5,"common.troubleshootingTips")),e.xp6(2),e.Q6J("networkConditionsData",_.networkConditionsData),e.xp6(1),e.s9C("label",e.lcZ(5,7,"networkTest.detailsTag")),e.xp6(2),e.Q6J("nvTestData",_.testData)("isHandset",_.isHandset)}}function w(s,R){if(1&s&&(e.ynx(0),e.TgZ(1,"span",19),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"gfn-network-tips",18),e.TgZ(5,"span",19),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"gfn-network-completed",15),e.BQk()),2&s){const _=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,5,"common.troubleshootingTips")),e.xp6(2),e.Q6J("networkConditionsData",_.networkConditionsData),e.xp6(2),e.Oqu(e.lcZ(7,7,"networkTest.detailsTag")),e.xp6(2),e.Q6J("nvTestData",_.testData)("isHandset",_.isHandset)}}function p(s,R){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,O,1,2,"gfn-network-completed",12),e.YNc(2,E,7,9,"mat-tab-group",13),e.YNc(3,w,9,9,"ng-container",14),e.qZA()),2&s){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!_.showTroubleshootTips),e.xp6(1),e.Q6J("ngIf",_.showTroubleshootTips&&!_.isHandset),e.xp6(1),e.Q6J("ngIf",_.showTroubleshootTips&&_.isHandset)}}function V(s,R){if(1&s&&(e.TgZ(0,"div",7),e.YNc(1,h,1,4,"gfn-network-icons",8),e.YNc(2,p,4,3,"div",9),e.qZA()),2&s){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!_.autoRun||_.autoRun&&-1!==_.progressState),e.xp6(1),e.Q6J("ngIf",-1!==_.progressState)}}function c(s,R){if(1&s){const _=e.EpF();e.TgZ(0,"div",20)(1,"gfn-network-test-error",21),e.NdJ("close",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickClose())})("tryAgain",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickTryAgain())})("continue",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickContinue())}),e.qZA()()}if(2&s){const _=e.oxw(2);e.xp6(1),e.Q6J("zoneName",_.zoneName)("networkTestErrorText",_.networkTestErrorText)("showFirewallHelpLink",_.showFirewallHelpLink)("firewallHelpUrl",_.firewallHelpUrl)("firewallHelpShortUrl",_.firewallHelpShortUrl)("firewallLinkText",_.firewallLinkText)("nvClient",_.nvClientApp)}}const C=function(s,R,_){return{autoRun:s,showAdditionalActions:R,progressState:_}};function l(s,R){if(1&s){const _=e.EpF();e.TgZ(0,"div",22)(1,"gfn-nw-test-button-placer",23),e.NdJ("tryAgain",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickTryAgain())})("close",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickClose())})("continue",function(){e.CHM(_);const I=e.oxw(2);return e.KtG(I.onClickContinue())}),e.qZA()()}if(2&s){const _=e.oxw(2);e.xp6(1),e.Q6J("placementCriteria",e.kEZ(1,C,_.autoRun,_.showAdditionalActions,_.progressState))}}function o(s,R){if(1&s&&(e.TgZ(0,"div",1)(1,"div",2)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,V,3,2,"div",4),e.YNc(7,c,2,7,"div",5),e.qZA(),e.YNc(8,l,2,5,"div",6),e.qZA()),2&s){const _=e.oxw();e.Q6J("ngSwitch",_.uiState),e.xp6(1),e.Q6J("ngClass",_.isHandset?"font-header6":"font-header5"),e.xp6(2),e.Oqu(e.lcZ(4,6,_.networkTestHeaderText)),e.xp6(3),e.Q6J("ngSwitchCase","NETWORKTEST"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngIf","NETWORKTEST"===_.uiState&&-1!==_.progressState)}}let n=(()=>{var s;class R{constructor(b,I,q){this.breakpointObserver=I,this.networkTestDialogData=q,this.buttonClicked=new e.vpe,this.testData={},this.delayRetry=0,this.logger=b.getLogger("libraries/network-test/NetworkTestDialogStateComponent"),this.initData(),this.destroy$=new L.xQ}initData(){var b,I,q,a,y,M;this.logger.info("Initializing network test dialog data:",this.networkTestDialogData),this.nvClientApp=f.BhR.StreamingClient,this.networkTestHeaderText=this.networkTestDialogData.networkTestHeaderText,this.progressState=this.networkTestDialogData.progressState,this.uiState=this.networkTestDialogData.uiState,this.autoRun=this.networkTestDialogData.autoRun,this.showNetworkTest=this.networkTestDialogData.showNetworkTest,this.testData=this.networkTestDialogData.testData,this.maxDisplayState=this.networkTestDialogData.maxDisplayState,this.isHandset=this.networkTestDialogData.isHandset,this.isWebRtcNetworkTestEnabled=this.networkTestDialogData.isWebRtcNetworkTestEnabled,this.networkConditionsData=this.networkTestDialogData.networkConditionsData,this.zoneName=this.networkTestDialogData.zoneName,this.networkTestErrorText=null===(b=this.networkTestDialogData)||void 0===b?void 0:b.networkTestErrorText,this.showFirewallHelpLink=null===(I=this.networkTestDialogData)||void 0===I?void 0:I.showFirewallHelpLink,this.firewallHelpUrl=null===(q=this.networkTestDialogData)||void 0===q?void 0:q.firewallHelpUrl,this.firewallHelpShortUrl=null===(a=this.networkTestDialogData)||void 0===a?void 0:a.firewallHelpShortUrl,this.firewallLinkText=null===(y=this.networkTestDialogData)||void 0===y?void 0:y.firewallLinkText,this.showTroubleshootTips=null===(M=this.networkTestDialogData)||void 0===M?void 0:M.showTroubleshootTips}ngOnInit(){this.breakpointObserver.observe([S.u3.Handset,S.u3.Tablet]).pipe((0,u.R)(this.destroy$)).subscribe(b=>{this.isHandset=b.matches})}onClickContinue(){this.buttonClicked.emit(x.NG.Continue)}onClickClose(){this.buttonClicked.emit(x.NG.Close)}onClickTryAgain(){this.buttonClicked.emit(x.NG.TryAgain)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(s=R).\u0275fac=function(b){return new(b||s)(e.Y36(g.ed),e.Y36(S.Yg),e.Y36(i.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["gfn-network-dialog-state"]],outputs:{buttonClicked:"buttonClicked"},decls:1,vars:1,consts:[["nvSpatialNavigationContainer","","class","common-ui-network-container",3,"ngSwitch",4,"ngIf"],["nvSpatialNavigationContainer","",1,"common-ui-network-container",3,"ngSwitch"],[1,"common-ui-network-header",3,"ngClass"],[1,"network-test-content"],["fxLayout","column","fxLayoutAlign","center stretch",4,"ngSwitchCase"],["class","network-test-error-container",4,"ngSwitchCase"],["class","nv-button-class","fxLayout","row","fxLayoutAlign","end stretch",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest",4,"ngIf"],["class","network-test-results",4,"ngIf"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest"],[1,"network-test-results"],[3,"nvTestData","isHandset",4,"ngIf"],["ngClass","mat-tabs-font-button1","mat-stretch-tabs","false","nvMatTabGroupFixUp","",4,"ngIf"],[4,"ngIf"],[3,"nvTestData","isHandset"],["ngClass","mat-tabs-font-button1","mat-stretch-tabs","false","nvMatTabGroupFixUp",""],[3,"label"],[3,"networkConditionsData"],[1,"common-ui-network-title"],[1,"network-test-error-container"],[3,"zoneName","networkTestErrorText","showFirewallHelpLink","firewallHelpUrl","firewallHelpShortUrl","firewallLinkText","nvClient","close","tryAgain","continue"],["fxLayout","row","fxLayoutAlign","end stretch",1,"nv-button-class"],[3,"placementCriteria","tryAgain","close","continue"]],template:function(b,I){1&b&&e.YNc(0,o,9,8,"div",0),2&b&&e.Q6J("ngIf",I.showNetworkTest)},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),R})()},13965:(Dt,ct,t)=>{"use strict";t.d(ct,{U:()=>L});var e=t(17401),i=t(61699);let L=(()=>{var f;class x{constructor(u){this.networkTestDialogData=u}}return(f=x).\u0275fac=function(u){return new(u||f)(i.Y36(e.WI))},f.\u0275cmp=i.Xpm({type:f,selectors:[["gfn-network-test-dialog"]],decls:2,vars:2,consts:[["fxFill",""],["nvBackToCloseModal","","fxFill","",3,"nvClientApp","networkTestResult"]],template:function(u,g){1&u&&(i.TgZ(0,"div",0),i._UZ(1,"gfn-network-test",1),i.qZA()),2&u&&(i.xp6(1),i.Q6J("nvClientApp",g.networkTestDialogData.nvClientApp)("networkTestResult",g.networkTestDialogData.networkTestResult))},encapsulation:2}),x})()},55293:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>N});var e=t(39743),i=t(13963),L=t(47178),x=t(32484),S=t(9681),u=t(33994),g=t(38435),h=t(13303),O=t(17627),E=t(87965),w=t(46939),p=t(15746),V=t(99901),c=t(67293),C=t(47422),l=t(58175),o=t(90786),n=t(88404),s=t(65343),R=t(89129),_=t(88207),b=t(75783),I=t(61699),q=t(3006),a=t(1558),y=t(28332),M=t(58367),P=t(94386),K=t(59092),B=t(87815),j=t(17401),tt=t(91467);function ot(Z,W){if(1&Z&&I._UZ(0,"gfn-network-test-analyzer",2),2&Z){const A=I.oxw();I.Q6J("data",A.analyzerData)}}function F(Z,W){if(1&Z&&I._UZ(0,"gfn-network-completed",16),2&Z){const A=I.oxw(4);I.Q6J("nvTestData",A.testData)("isHandset",A.isHandset)}}function U(Z,W){if(1&Z&&(I.TgZ(0,"mat-tab-group",17)(1,"mat-tab",18),I.ALo(2,"translate"),I._UZ(3,"gfn-network-tips",19),I.qZA(),I.TgZ(4,"mat-tab",18),I.ALo(5,"translate"),I._UZ(6,"gfn-network-completed",16),I.qZA()()),2&Z){const A=I.oxw(4);I.xp6(1),I.s9C("label",I.lcZ(2,5,"common.troubleshootingTips")),I.xp6(2),I.Q6J("networkConditionsData",A.networkConditionsData),I.xp6(1),I.s9C("label",I.lcZ(5,7,"networkTest.detailsTag")),I.xp6(2),I.Q6J("nvTestData",A.testData)("isHandset",A.isHandset)}}function z(Z,W){if(1&Z&&(I.ynx(0),I.TgZ(1,"span",20),I._uU(2),I.ALo(3,"translate"),I.qZA(),I._UZ(4,"gfn-network-tips",19),I.TgZ(5,"span",20),I._uU(6),I.ALo(7,"translate"),I.qZA(),I._UZ(8,"gfn-network-completed",16),I.BQk()),2&Z){const A=I.oxw(4);I.xp6(2),I.Oqu(I.lcZ(3,5,"common.troubleshootingTips")),I.xp6(2),I.Q6J("networkConditionsData",A.networkConditionsData),I.xp6(2),I.Oqu(I.lcZ(7,7,"networkTest.detailsTag")),I.xp6(2),I.Q6J("nvTestData",A.testData)("isHandset",A.isHandset)}}function Q(Z,W){if(1&Z&&(I.TgZ(0,"div",12),I.YNc(1,F,1,2,"gfn-network-completed",13),I.YNc(2,U,7,9,"mat-tab-group",14),I.YNc(3,z,9,9,"ng-container",15),I.qZA()),2&Z){const A=I.oxw(3);I.xp6(1),I.Q6J("ngIf",!A.showTroubleshootTips),I.xp6(1),I.Q6J("ngIf",A.showTroubleshootTips&&!A.isHandset),I.xp6(1),I.Q6J("ngIf",A.showTroubleshootTips&&A.isHandset)}}function dt(Z,W){if(1&Z&&(I.TgZ(0,"div",9),I._UZ(1,"gfn-network-icons",10),I.YNc(2,Q,4,3,"div",11),I.qZA()),2&Z){const A=I.oxw(2);I.xp6(1),I.Q6J("progressState",A.progressState)("nvTestData",A.testData)("maxDisplayState",A.maxDisplayState)("isWebRtcNetworkTest",A.isWebRtcNetworkTestEnabled),I.xp6(1),I.Q6J("ngIf",-1!==A.progressState)}}function X(Z,W){if(1&Z){const A=I.EpF();I.TgZ(0,"div",21)(1,"gfn-network-test-error",22),I.NdJ("close",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickClose())})("tryAgain",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickTryAgain())})("continue",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickContinue())}),I.qZA()()}if(2&Z){const A=I.oxw(2);I.xp6(1),I.Q6J("zoneName",A.zoneName)("networkTestErrorText",A.networkTestErrorText)("showFirewallHelpLink",A.showFirewallHelpLink)("firewallHelpUrl",A.firewallHelpUrl)("firewallHelpShortUrl",A.firewallHelpShortUrl)("firewallLinkText",A.firewallLinkText)("nvClient",A.nvClientApp)}}const m=function(Z,W,A){return{autoRun:Z,showAdditionalActions:W,progressState:A}};function Y(Z,W){if(1&Z){const A=I.EpF();I.TgZ(0,"div",23)(1,"gfn-nw-test-button-placer",24),I.NdJ("tryAgain",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickTryAgain())})("close",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickClose())})("continue",function(){I.CHM(A);const H=I.oxw(2);return I.KtG(H.onClickContinue())}),I.qZA()()}if(2&Z){const A=I.oxw(2);I.xp6(1),I.Q6J("placementCriteria",I.kEZ(1,m,A.autoRun,A.showAdditionalActions,A.progressState))}}function D(Z,W){if(1&Z&&(I.TgZ(0,"div",3)(1,"div",4)(2,"p"),I._uU(3),I.ALo(4,"translate"),I.qZA()(),I.TgZ(5,"div",5),I.YNc(6,dt,3,5,"div",6),I.YNc(7,X,2,7,"div",7),I.qZA(),I.YNc(8,Y,2,5,"div",8),I.qZA()),2&Z){const A=I.oxw();I.Q6J("ngSwitch",A.uiState),I.xp6(1),I.Q6J("ngClass",A.isHandset?"font-header6":"font-header5"),I.xp6(2),I.Oqu(I.lcZ(4,6,A.networkTestHeaderText)),I.xp6(3),I.Q6J("ngSwitchCase","NETWORKTEST"),I.xp6(1),I.Q6J("ngSwitchCase","ERROR"),I.xp6(1),I.Q6J("ngIf","NETWORKTEST"===A.uiState&&-1!==A.progressState)}}let N=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te){var bt;this.networkTestService=H,this.telemetryUtil=$,this.networkConfigurationService=J,this.redirectService=st,this.applicationLifetimeService=lt,this.networkStatusService=gt,this.streamingProfileService=vt,this.serverRouting=k,this.networkTestTelemetryService=pt,this.appConfig=yt,this.breakpointObserver=Xt,this.dialogRef=It,this.matDialog=Nt,this.element=le,this.focusManager=te,this.nvClientApp=s.BhR.MallClient,this.testData={},this.shutdownHandler=null,this.delayRetry=0,this.logger=d.getLogger("libraries/network-test/NetworkTestComponent"),this.destroy$=new x.xQ,this.mobileMode=!(null===(bt=this.appConfig)||void 0===bt||null===(bt=bt.featureEnablement)||void 0===bt||!bt.mobileMode),this.networkTestHeaderText="networkTest.networkTestHeader",this.showNetworkTest=!i.ng.isBrowserPlatform()}ngOnInit(){this.autoRun=this.nvClientApp===s.BhR.StreamingClient,this.telemetryUtil.setClientType(this.autoRun?_.lW.Streamer:_.lW.Mall),this.platform=i.ng.isBrowserPlatform()?n.CS.browser:this.autoRun?n.CS.streamer:n.CS.mall,this.showTroubleshootTips=!1,this.analyzerData={cmsId:this.cmsId},this.networkTestService.initialize(),i.ng.isBrowserPlatform()&&this.networkTestService.webrtcNetworkTestEnabled.pipe((0,h.R)(this.destroy$)).subscribe(d=>{this.isWebRtcNetworkTestEnabled=d.enabled,this.showNetworkTest=d.showUI}),this.networkStatusService.onlineStatusChanged.pipe((0,O.P)(),(0,E.zg)(d=>d?this.networkTestResult?this.networkTestService.getNetworkInfo().pipe((0,w.q)(1),(0,p.b)(H=>{if(!H)return void this.logger.error("Invalid Network Info");this.testData.networkInfo=H,this.testData.result=this.networkTestResult,this.logger.info("Using existing network test results: ",this.testData.result);const $=this.populateNetworkTestResultData(this.networkTestResult);this.populateNetworkConditions(),this.uiState=n.mM.NetworkTest,this.autoRun?this.showAutoNetworkTestResultsDialog($):this.focusManager.focusChild(this.element.nativeElement,"initial")}),(0,V.h)(d)):this.initiateNetworkAnalysis().pipe((0,V.h)(d)):(this.showNetworkTestError({networkTestStatus:s.N3X.ClientOffline,errorDetails:s.N3X.ClientOffline,errorCode:n.wC.Success}),(0,S.of)(d)))).subscribe(d=>{this.logger.info(`Network analysis was ${d?"":"not "}started on init.`)}),this.networkConfigurationService.getNetworkOverride().pipe((0,w.q)(1)).subscribe(d=>{this.zoneOverride=d}),this.shutdownHandler=this.applicationLifetimeService.addWorkOnShutdown(()=>this.serverRouting.cleanupOnCancel().pipe((0,E.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,V.h)(void 0))),this.updateZoneName(),this.breakpointObserver.observe([e.u3.Handset,e.u3.Tablet]).pipe((0,h.R)(this.destroy$)).subscribe(d=>{this.isHandset=d.matches}),this.setAnalysisState(this.autoRun&&this.progressState===n.AS.Progress)}initiateNetworkAnalysis(d=!1){return this.attemptLbr().pipe((0,E.zg)(H=>(this.logger.info(`LBR was ${H?"":"not "}attempted.`),this.attemptNetworkTest(d))),(0,p.b)(H=>{this.logger.info(`Network Test was ${H?"":"not "}attempted.`)}))}attemptLbr(){return this.isWebRtcNetworkTestEnabled||this.autoRun&&!this.serverRouting.isLbrRequired?(0,S.of)(!1):(this.networkTestService.setLbrState(n.eT.Started),this.networkTestService.getNetworkInfo().pipe((0,c.b)(d=>(0,L.isNil)(d)&&!i.ng.isBrowserPlatform()?(0,u._)("Invalid Network Info"):(this.testData.networkInfo=d,this.progressState=n.AS.Progress,this.uiState=n.mM.NetworkTest,this.networkTestService.runLbrAndSaveOptimalZone(this.platform))),(0,w.q)(1),(0,C.U)(d=>(this.logger.info("LBR attempt succeeded with fetched zone: ",d),!0)),(0,l.K)(d=>(this.logger.info("LBR attempt failed with: ",d),(0,S.of)("Invalid Network Info"!==d))),(0,p.b)(()=>{this.autoRun&&!this.networkTestService.isNetworkTestRequired&&this.networkTestService.sendMessage(n.Ir.LBRAutoRunDone,{networkTestStatus:this.progressState,isLbrRun:this.serverRouting.isLbrRun})}),(0,o.x)(()=>this.networkTestService.setLbrState(n.eT.Finished))))}attemptNetworkTest(d=!1){if(!this.autoRun||this.networkTestService.isNetworkTestRequired||d){this.networkTestService.setNetworkTestState(n.eT.Started),this.showAdditionalActions=!1;const H=Date.now();return this.networkTestService.getNetworkInfo().pipe((0,c.b)($=>(0,L.isNil)($)&&!i.ng.isBrowserPlatform()?(0,u._)("Invalid Network Info"):(this.testData.networkInfo=$,this.progressState=n.AS.Progress,this.uiState=n.mM.NetworkTest,(0,g.H)(this.delayRetry).pipe(()=>this.networkTestService.startNetworkTest(this.platform)))),(0,w.q)(1),(0,E.zg)($=>{this.delayRetry=$.result===n.pU.NCT_R_CAPACITY_FULL?2*(this.delayRetry||this.appConfig.networkTest.delayFactorCapacityFull):0,this.logger.info(`Network Test Delay Retry Time: ${this.delayRetry}`),this.networkTestTelemetryStatus=s.N3X.Success;const J=this.populateNetworkTestResultData($);return $.isSuccess&&this.populateNetworkConditions(),this.autoRun?this.showAutoNetworkTestResultsDialog(J):this.focusManager.focusChild(this.element.nativeElement,"initial"),this.networkTestTelemetryService.sendTestDoneTelemetry({autoRun:this.autoRun,isWebRtcNetworkTest:this.isWebRtcNetworkTestEnabled,testData:this.testData,zoneOverride:this.zoneOverride,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:H},$).pipe((0,V.h)(!0))}),(0,l.K)($=>(this.logger.info("Network Test failed, error code: ",$),this.networkTestTelemetryStatus=$.status?s.N3X.HTTPError:s.N3X.Other,this.showNetworkTestError({networkTestStatus:this.networkTestTelemetryStatus,errorDetails:(0,L.toString)($&&$.status||$),errorCode:$.code}),this.networkTestTelemetryService.sendTestDoneTelemetry({autoRun:this.autoRun,isWebRtcNetworkTest:this.isWebRtcNetworkTestEnabled,testData:this.testData,zoneOverride:this.zoneOverride,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:H}).pipe((0,V.h)("Invalid Network Info"!==$)))),(0,o.x)(()=>this.networkTestService.setNetworkTestState(n.eT.Finished)))}return(0,S.of)(!1)}updateZoneName(){this.logger.info("Subscribe to zone name: "),this.networkTestService.zoneName.pipe((0,h.R)(this.destroy$)).subscribe(d=>{this.zoneName=d.name})}populateNetworkTestResultData(d){if(this.networkTestHeaderText="networkTest.networkTestResultsHeader",this.setAnalysisState(!1),d.isSuccess){if(this.testData.result=d,this.progressState=d.analysis.networkQuality,this.logger.info("Populate Network test result data, result status: ",n.AS[this.progressState]),(this.progressState!==n.AS.Excellent||this.testData.networkInfo.NetworkType===i.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN)&&(this.showAdditionalActions=!0),this.showTroubleshootTips=this.progressState===n.AS.Poor||this.progressState===n.AS.Bad||this.progressState===n.AS.Excellent&&(this.testData.networkInfo.NetworkType===i.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN),this.populateMaxDisplayTestData(d),this.autoRun){let H=this.progressState;return this.progressState===n.AS.Excellent&&(this.testData.networkInfo.NetworkType===i.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN)&&(H=n.AS.Poor,this.logger.info("Updating network test result status due to criteria: ",H)),this.networkTestService.sendMessage(n.Ir.NetworkTestAutoRunDone,{networkTestStatus:H}),H}}else this.networkTestTelemetryStatus=s.N3X.NetworkTestSdkError,this.showNetworkTestError({networkTestStatus:this.networkTestTelemetryStatus,errorDetails:d.errorDetails||(0,L.toString)(d.result),errorCode:d.result});return this.progressState}showAutoNetworkTestResultsDialog(d){if(this.logger.info("Network test result is: ",n.AS[this.progressState]),this.progressState!==n.AS.Excellent||this.progressState===n.AS.Excellent&&this.progressState!==d){this.logger.info("Network test results are not optimal; showing results dialog");const $={nvClientApp:s.BhR.StreamingClient,networkTestHeaderText:this.networkTestHeaderText,progressState:this.progressState,uiState:this.uiState,autoRun:this.autoRun,showNetworkTest:this.showNetworkTest,testData:this.testData,maxDisplayState:this.maxDisplayState,isHandset:this.isHandset,isWebRtcNetworkTestEnabled:this.isWebRtcNetworkTestEnabled,showTroubleshootTips:this.showTroubleshootTips,networkConditionsData:this.networkConditionsData,zoneName:this.zoneName,networkTestErrorText:this.networkTestErrorText,showFirewallHelpLink:this.showFirewallHelpLink,firewallHelpUrl:this.firewallHelpUrl,firewallHelpShortUrl:this.firewallHelpShortUrl,firewallLinkText:this.firewallLinkText,showAdditionalActions:this.showAdditionalActions};this.streamerNTdialog=this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(b.N,{panelClass:["dialog-component-container","dark-hue4-background-dialog"],disableClose:!0,autoFocus:!1,enterAnimationDuration:"0ms",data:$})),this.streamerNTdialog.componentInstance.buttonClicked.pipe((0,h.R)(this.destroy$)).subscribe(J=>{switch(J){case n.NG.Continue:this.onClickContinue();break;case n.NG.Close:this.onClickClose();break;case n.NG.TryAgain:this.onClickTryAgain()}})}}populateNetworkConditions(){this.networkConditionsData={isVpn:"1"===this.testData.networkInfo.IsVPN,zoneOverride:this.zoneOverride,bandwidth:this.testData.result.bandwidth.measured,latency:this.testData.result.latency.measured,networkType:this.testData.networkInfo.NetworkType},this.logger.info("Current network conditions: : ",this.networkConditionsData)}populateMaxDisplayTestData(d){(0,L.isNil)(d.capableProfile)||this.testData.networkInfo.NetworkType===i.VV.WiFi2_4?this.maxDisplayState=null:this.streamingProfileService.getMaxDisplayTestData(this.autoRun).pipe((0,h.R)(this.destroy$)).subscribe(H=>{this.maxDisplayState=(0,L.isNil)(H)?null:{width:H.width,height:H.height,frameRate:H.fps}})}showNetworkTestError(d){this.logger.info("Error in network test, errorDetails: ",d),this.uiState=n.mM.Error,d.errorCode===n.pU.NCT_R_BLOCK_STREAM?(this.networkTestErrorText="common.genericLoadError",this.showFirewallHelpLink=!0,this.redirectService.getRedirectUrl(R.hE.GfnPcNetHelpFirewall).pipe((0,w.q)(1),(0,h.R)(this.destroy$)).subscribe(H=>{this.firewallHelpUrl=H,this.firewallHelpShortUrl=R.hD[R.hE.GfnPcNetHelpFirewall]}),this.firewallLinkText="networkTest.networkTestFirefallIssue",this.logger.info("Firewall URL: ",this.firewallHelpUrl)):(this.networkTestErrorText=d.networkTestStatus!==s.N3X.ClientOffline?"networkTest.encounteredProblem":"common.connectionError",this.showFirewallHelpLink=!1),this.networkTestService.sendMessage(n.Ir.NetworkTestFailed,d)}setAnalysisState(d){var H;this.analyzerData={...this.analyzerData,isAnalysisDone:!d},this.logger.info("Is Network Test Analysis phase on: ",d," , Is analysis done: ",null===(H=this.analyzerData)||void 0===H?void 0:H.isAnalysisDone)}onClickTryAgain(){this.networkTestHeaderText="networkTest.networkTestHeader",this.networkStatusService.onlineStatusChanged.pipe((0,O.P)(),(0,E.zg)(d=>{var H;return d?(this.autoRun&&(null===(H=this.streamerNTdialog)||void 0===H||H.close(),this.networkTestService.sendMessage(n.Ir.NetworkTestAutoRunTryAgain),this.showNetworkTest=!0,this.setAnalysisState(!0)),this.initiateNetworkAnalysis(!0).pipe((0,V.h)(d))):(this.uiState=n.mM.Error,this.showNetworkTestError({networkTestStatus:s.N3X.ClientOffline,errorDetails:s.N3X.ClientOffline,errorCode:n.wC.Success}),(0,S.of)(d))})).subscribe(d=>{this.logger.info(`Network analysis was ${d?"":"not "}started on Try Again.`)})}onClickClose(){var d;this.dialogRef&&this.dialogRef.close(),this.autoRun&&(null===(d=this.streamerNTdialog)||void 0===d||d.close(),this.networkTestService.sendMessage(n.Ir.NetworkTestClosedOnError,{networkTestStatus:this.progressState}))}onClickContinue(){var d;this.showNetworkTest=!1,this.dialogRef&&this.dialogRef.close(),this.autoRun&&(null===(d=this.streamerNTdialog)||void 0===d||d.close()),this.networkTestService.sendMessage(n.Ir.NetworkTestClosed,{networkTestStatus:this.progressState})}ngOnDestroy(){var d;this.destroy$.next(!0),this.destroy$.complete(),null===(d=this.streamerNTdialog)||void 0===d||d.close(),this.serverRouting.cleanupOnCancel().pipe((0,E.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,w.q)(1)).subscribe(()=>{this.logger.info("destroying component: network analysis cleanup is done!"),this.shutdownHandler&&this.shutdownHandler.remove()})}}return(Z=W).\u0275fac=function(d){return new(d||Z)(I.Y36(i.ed),I.Y36(q.R),I.Y36(s.wU6),I.Y36(a.X),I.Y36(R.VH),I.Y36(y.Ll),I.Y36(i._J),I.Y36(M.G),I.Y36(P.mw),I.Y36(K.$),I.Y36(B.VK),I.Y36(e.Yg),I.Y36(j.so,8),I.Y36(j.uw),I.Y36(I.SBq),I.Y36(tt.IK))},Z.\u0275cmp=I.Xpm({type:Z,selectors:[["gfn-network-test"]],inputs:{nvClientApp:"nvClientApp",networkTestResult:"networkTestResult",cmsId:"cmsId"},decls:2,vars:2,consts:[["fxFill","",3,"data",4,"ngIf"],["nvSpatialNavigationContainer","","nvCaptureRestoreFocus","","nvTrapFocus","","class","common-ui-network-container",3,"ngSwitch",4,"ngIf"],["fxFill","",3,"data"],["nvSpatialNavigationContainer","","nvCaptureRestoreFocus","","nvTrapFocus","",1,"common-ui-network-container",3,"ngSwitch"],[1,"common-ui-network-header",3,"ngClass"],[1,"network-test-content"],["fxLayout","column","fxLayoutAlign","center stretch",4,"ngSwitchCase"],["class","network-test-error-container",4,"ngSwitchCase"],["class","nv-button-class","fxLayout","row","fxLayoutAlign","end stretch",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest"],["class","network-test-results",4,"ngIf"],[1,"network-test-results"],[3,"nvTestData","isHandset",4,"ngIf"],["ngClass","mat-tabs-font-button1","mat-stretch-tabs","false","nvMatTabGroupFixUp","",4,"ngIf"],[4,"ngIf"],[3,"nvTestData","isHandset"],["ngClass","mat-tabs-font-button1","mat-stretch-tabs","false","nvMatTabGroupFixUp",""],[3,"label"],[3,"networkConditionsData"],[1,"common-ui-network-title"],[1,"network-test-error-container"],[3,"zoneName","networkTestErrorText","showFirewallHelpLink","firewallHelpUrl","firewallHelpShortUrl","firewallLinkText","nvClient","close","tryAgain","continue"],["fxLayout","row","fxLayoutAlign","end stretch",1,"nv-button-class"],[3,"placementCriteria","tryAgain","close","continue"]],template:function(d,H){1&d&&(I.YNc(0,ot,1,1,"gfn-network-test-analyzer",0),I.YNc(1,D,9,8,"div",1)),2&d&&(I.Q6J("ngIf",H.showNetworkTest&&H.autoRun),I.xp6(1),I.Q6J("ngIf",H.showNetworkTest&&!H.autoRun))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),W})()},88404:(Dt,ct,t)=>{"use strict";t.d(ct,{AS:()=>L,CS:()=>i,Ih:()=>o,Ir:()=>x,JO:()=>C,NG:()=>f,Q1:()=>n,VR:()=>S,eT:()=>h,mM:()=>O,pU:()=>V,wC:()=>c});var e=t(89129),i=function(s){return s.mall="gfnpc mall_client",s.streamer="gfnpc streamer_client",s.browser="gfn_browser_client",s}(i||{}),L=function(s){return s[s.Progress=-1]="Progress",s[s.Excellent=0]="Excellent",s[s.Poor=1]="Poor",s[s.PoorWifi_2_4=2]="PoorWifi_2_4",s[s.Bad=3]="Bad",s[s.Error=4]="Error",s[s.NA=5]="NA",s}(L||{}),f=function(s){return s.Close="Close",s.Continue="Continue",s.TryAgain="TryAgain",s}(f||{}),x=function(s){return s.NetworkTestFailed="NetworkTestFailed",s.NetworkTestAutoRunDone="NetworkTestAutoRunDone",s.NetworkTestAutoRunTryAgain="NetworkTestAutoRunTryAgain",s.NetworkTestClosed="NetworkTestClosed",s.NetworkTestClosedOnError="NetworkTestClosedOnError",s.LBRAutoRunDone="LBRAutoRunDone",s}(x||{}),S=function(s){return s.NetworkTestFailed="NetworkTestFailed",s.NetworkTestCancelled="NetworkTestCancelled",s.RedResult="RedResult",s.StreamerNetworkError="StreamerNetworkError",s.StreamerFrameLossTimeoutError="StreamerFrameLossTimeoutError",s.None="None",s}(S||{}),h=function(s){return s.Started="Started",s.Finished="Finished",s}(h||{}),O=function(s){return s.NetworkTest="NETWORKTEST",s.Error="ERROR",s}(O||{}),V=function(s){return s[s.NCT_R_UNKNOWN=0]="NCT_R_UNKNOWN",s[s.NCT_R_SUCCESS=1]="NCT_R_SUCCESS",s[s.NCT_R_INVALID_PARAM=2]="NCT_R_INVALID_PARAM",s[s.NCT_R_SYN_FAILED=3]="NCT_R_SYN_FAILED",s[s.NCT_R_FIN_FAILED=4]="NCT_R_FIN_FAILED",s[s.NCT_R_AUTH_FAILED=5]="NCT_R_AUTH_FAILED",s[s.NCT_R_POST_FAILED=6]="NCT_R_POST_FAILED",s[s.NCT_R_TEST_IN_PROGRESS=7]="NCT_R_TEST_IN_PROGRESS",s[s.NCT_R_CANCELED=8]="NCT_R_CANCELED",s[s.NCT_R_CAPACITY_FULL=9]="NCT_R_CAPACITY_FULL",s[s.NCT_R_SESSION_EXIST=10]="NCT_R_SESSION_EXIST",s[s.NCT_R_INVALID_DATA=11]="NCT_R_INVALID_DATA",s[s.NCT_R_SETUP_FAILED=12]="NCT_R_SETUP_FAILED",s[s.NCT_R_RETRYABLE_POST_FAILURE=13]="NCT_R_RETRYABLE_POST_FAILURE",s[s.NCT_R_BLOCK_STREAM=14]="NCT_R_BLOCK_STREAM",s}(V||{}),c=function(s){return s[s.Success=0]="Success",s}(c||{});const C={"WiFi Unknown":"Unknown","WiFi 6.0":"6GHz","WiFi 5.0":"5GHz","WiFi 2.4":"2.4GHz"};var o=function(s){return s[s.Any=0]="Any",s[s.VPN=1]="VPN",s[s.ZoneOverride=2]="ZoneOverride",s[s.Latency_more_150=3]="Latency_more_150",s[s.Latency_more_80=4]="Latency_more_80",s[s.Wifi_2_4=5]="Wifi_2_4",s[s.Wifi=6]="Wifi",s[s.Bandwidth_less_15=7]="Bandwidth_less_15",s[s.Offline=8]="Offline",s}(o||{});const n=[{priority:0,text:"networkTest.youAreOfflineCheckConnection",condition:o.Offline,hasLink:!1,linkUrl:null},{priority:1,text:"networkTest.disconnectFromVpn",condition:o.VPN,hasLink:!1,linkUrl:null},{priority:2,text:"networkTest.youHaveZoveOverride",condition:o.ZoneOverride,hasLink:!1,linkUrl:null},{priority:3,text:"networkTest.farAwayFromServers",condition:o.Latency_more_150,hasLink:!0,linkUrl:e.hE.GfnServerStatus},{priority:4,text:"networkTest.wifi_2_4_Message",condition:o.Wifi_2_4,hasLink:!1,linkUrl:null},{priority:5,text:"networkTest.connectToEthernet",condition:o.Wifi,hasLink:!1,linkUrl:null},{priority:6,text:"networkTest.stopOtherStreaming",condition:o.Any,hasLink:!1,linkUrl:null},{priority:7,text:"networkTest.restartRouter",condition:o.Any,hasLink:!1,linkUrl:null},{priority:8,text:"networkTest.farAwayFromServers",condition:o.Latency_more_80,hasLink:!0,linkUrl:e.hE.GfnServerStatus},{priority:9,text:"networkTest.contactIspProvider",condition:o.Bandwidth_less_15,hasLink:!1,linkUrl:null}]},17692:(Dt,ct,t)=>{"use strict";t.d(ct,{wv:()=>l,VR:()=>_.VR,U5:()=>s.U,Ir:()=>_.Ir,Eu:()=>o.E,CS:()=>_.CS,R2:()=>e.R,eT:()=>_.eT,AS:()=>_.AS,vg:()=>i.v});var e=t(3006),i=t(35308),L=t(47178),f=t(64555),x=t(9681),S=t(46939),u=t(85046),g=t(36520),h=t(58175),O=t(99901),E=t(13963),w=t(65343),p=t(61699),V=t(94386),c=t(59092),C=t(7749);let l=(()=>{var b;class I{constructor(a,y,M,P,K){this.loggingService=a,this.networkTestService=y,this.networkConfigurationService=M,this.networkTestTelemetry=P,this.idmService=K,this.logger=this.loggingService.getLogger("shared/background-network-test.service"),this.isWebrtcNT=!!E.ng.isBrowserPlatform()}initNetworkTest(){return this.networkTestService.initialize(),(0,f.aj)([this.idmService.accountStatusChanged.pipe((0,S.q)(1),(0,u.h)(a=>a.isAuthenticated)),this.networkConfigurationService.getNetworkOverride()]).pipe((0,S.q)(1),(0,g.w)(([a,y])=>((0,L.isNil)(y)||(this.overrideZone=y,this.logger.info(`The user selected a zone ${y.name} manually and runNetworkTest is: `,y.runNetworkTest)),this.networkTestService.isWebrtcNetworkTestRequired(y,!0).pipe((0,S.q)(1)))),(0,g.w)(a=>a?(this.logger.info("Background Network test will be run."),this.launchNetworkTest()):(0,x.of)(null)),(0,g.w)(a=>this.sendTelemetry(a)),(0,g.w)(a=>a?(this.networkTestService.setNetworkTestState(_.eT.Finished),this.networkTestService.setNetworkTestExpiryTime()):(0,x.of)(!1)),(0,h.K)(a=>(this.logger.info("Background Network Test failed, error: ",a),this.networkTestTelemetryStatus=a.status?w.N3X.HTTPError:w.N3X.Other,this.networkTestTelemetry.sendTestDoneTelemetry({autoRun:!0,isWebRtcNetworkTest:this.isWebrtcNT,testData:a.result,zoneOverride:this.overrideZone,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:this.startTime}).pipe((0,O.h)(!0)))))}launchNetworkTest(){return this.startTime=Date.now(),this.networkTestService.startNetworkTest(_.CS.browser)}sendTelemetry(a){return a?(this.networkTestTelemetryStatus=a.errorDetails?w.N3X.Failure:w.N3X.Success,this.logger.info("Background Network Test result:",a),this.networkTestTelemetry.sendTestDoneTelemetry({autoRun:!0,isWebRtcNetworkTest:this.isWebrtcNT,testData:{result:a},zoneOverride:this.overrideZone,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:this.startTime},a).pipe((0,O.h)(!0))):(this.logger.info("Background network test was not run as it did not meet the expiry duration requirements."),(0,x.of)(!1))}}return(b=I).\u0275fac=function(a){return new(a||b)(p.LFG(E.ed),p.LFG(e.R),p.LFG(V.XS),p.LFG(c.$),p.LFG(C.No))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})();var o=t(63594),s=(t(55293),t(13965)),_=(t(77136),t(88404))},63594:(Dt,ct,t)=>{"use strict";t.d(ct,{E:()=>yn});var e=t(26575),i=t(32995),L=t(43559),f=t(17401),x=t(86515),S=t(78654),u=t(60989),g=t(55293),h=t(13965),O=t(47178),E=t(32484),w=t(17827),p=t(13303),V=t(15746),c=t(13963),C=t(88404),l=t(61699),o=t(87815),n=t(39743),s=t(3006);function R(Pe,Ue){1&Pe&&(l.TgZ(0,"div",5),l._UZ(1,"mat-icon",11),l.TgZ(2,"p",7),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.networkTestMyComputer")))}function _(Pe,Ue){1&Pe&&(l.TgZ(0,"div",5),l._UZ(1,"mat-icon",12),l.TgZ(2,"p",7),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.myDevice")))}function b(Pe,Ue){if(1&Pe&&(l.ynx(0),l._UZ(1,"div",15),l.BQk()),2&Pe){const Ae=Ue.index,we=l.oxw(2);l.xp6(1),l.Q6J("ngClass",we.progressCount===Ae?"active":"normal")}}const I=function(){return[]};function q(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",13),l.YNc(1,b,2,1,"ng-container",14),l.qZA()),2&Pe){const Ae=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.DdM(1,I).constructor(Ae.dotCount))}}function a(Pe,Ue){if(1&Pe&&l._UZ(0,"gfn-network-test-warning",16),2&Pe){const Ae=l.oxw();l.Q6J("warningInfo",Ae.displayData.warningInfo)}}function y(Pe,Ue){1&Pe&&(l.TgZ(0,"div",5),l._UZ(1,"mat-icon",19),l.TgZ(2,"p",7),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.ethernet")))}function M(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",5),l._UZ(1,"mat-icon",20),l.TgZ(2,"p",7),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"p",8),l._uU(6),l.ALo(7,"translate"),l.qZA()()),2&Pe){const Ae=l.oxw(2);l.xp6(3),l.Oqu(l.lcZ(4,2,Ae.nvTestData.networkInfo.NetworkName)),l.xp6(3),l.Oqu(l.lcZ(7,4,Ae.displayData.wifiRouterVersion))}}function P(Pe,Ue){1&Pe&&(l.TgZ(0,"div",5),l._UZ(1,"mat-icon",21),l.TgZ(2,"p",7),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.genericNetworkName")))}function K(Pe,Ue){if(1&Pe&&(l.ynx(0),l._UZ(1,"div",15),l.BQk()),2&Pe){const Ae=Ue.index,we=l.oxw(2);l.xp6(1),l.Q6J("ngClass",we.progressCount===we.dotCount+Ae?"active":"normal")}}function B(Pe,Ue){if(1&Pe&&(l.ynx(0),l._UZ(1,"div",15),l.BQk()),2&Pe){const Ae=Ue.index,we=l.oxw(2);l.xp6(1),l.Q6J("ngClass",we.progressCount===2*we.dotCount+Ae?"active":"normal")}}function j(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",17),l.YNc(1,y,5,3,"div",1),l.YNc(2,M,8,6,"div",1),l.YNc(3,P,5,3,"div",1),l.TgZ(4,"div",13),l.YNc(5,K,2,1,"ng-container",14),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"mat-icon",18),l.TgZ(8,"p",7),l._uU(9),l.ALo(10,"translate"),l.qZA()(),l.TgZ(11,"div",13),l.YNc(12,B,2,1,"ng-container",14),l.qZA()()),2&Pe){const Ae=l.oxw();l.xp6(1),l.Q6J("ngIf",!Ae.isWebRtcNetworkTest&&Ae.displayToggles.isEthernet),l.xp6(1),l.Q6J("ngIf",!Ae.isWebRtcNetworkTest&&!Ae.displayToggles.isEthernet),l.xp6(1),l.Q6J("ngIf",Ae.isWebRtcNetworkTest),l.xp6(2),l.Q6J("ngForOf",l.DdM(8,I).constructor(Ae.dotCount)),l.xp6(4),l.Oqu(l.lcZ(10,6,"networkTest.networkTestIsp")),l.xp6(3),l.Q6J("ngForOf",l.DdM(9,I).constructor(Ae.dotCount))}}function tt(Pe,Ue){1&Pe&&l._UZ(0,"mat-icon",30)}function ot(Pe,Ue){if(1&Pe&&l._UZ(0,"mat-icon",31),2&Pe){const Ae=l.oxw(2);l.Q6J("ngClass",Ae.resultIconClass)}}const F=function(Pe,Ue){return{resolution:Pe,fps:Ue}};function U(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",32)(1,"span",33),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&Pe){const Ae=l.oxw(2);l.xp6(2),l.Oqu(l.xi3(3,1,"networkTest.networkTestSupports",l.WLB(4,F,Ae.displayData.resolution,Ae.displayData.fps)))}}function z(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),l.YNc(4,tt,1,0,"mat-icon",26),l.YNc(5,ot,1,1,"ng-template",null,27,l.W1O),l.TgZ(7,"div",28),l._uU(8),l.ALo(9,"translate"),l.qZA()()(),l.YNc(10,U,4,7,"div",29),l.qZA()()),2&Pe){const Ae=l.MAs(6),we=l.oxw();l.xp6(4),l.Q6J("ngIf",we.displayToggles.showSuccessIcons)("ngIfElse",Ae),l.xp6(4),l.Oqu(l.lcZ(9,4,we.displayData.resultText)),l.xp6(2),l.Q6J("ngIf",we.displayToggles.showBestResolutionText)}}let Q=(()=>{var Pe;class Ue{constructor(we,We,Xe,Gn){var Yn;this.breakpointObserver=Xe,this.networkTestService=Gn,this.displayData={},this.displayToggles={},this.isWarningNetworkTest=!1,this.progressCount=-1,this.dotCount=3,this.destroy$=new E.xQ,this.breakpointDimension=["(max-width: 412px)"],this.logger=We.getLogger("libraries/network-test/NetworkTestComponent"),this.mobileMode=!(null==we||null===(Yn=we.featureEnablement)||void 0===Yn||!Yn.mobileMode)}ngOnInit(){var we,We,Xe;this.displayToggles.isEthernet=null===(we=this.nvTestData)||void 0===we||null===(we=we.networkInfo)||void 0===we||null===(we=we.NetworkType)||void 0===we?void 0:we.includes(c.VV.Ethernet),this.displayData.wifiRouterVersion=C.JO[null===(We=this.nvTestData)||void 0===We||null===(We=We.networkInfo)||void 0===We?void 0:We.NetworkType]||"",this.displayData.header="networkTest.networkTestHeader",this.displayData.zoneName=null===(Xe=this.nvTestData)||void 0===Xe||null===(Xe=Xe.result)||void 0===Xe||null===(Xe=Xe.zone)||void 0===Xe?void 0:Xe.name,this.breakpointObserver.observe(this.breakpointDimension).pipe((0,p.R)(this.destroy$)).subscribe(Gn=>{this.dotCount=Gn.matches?2:3})}ngOnChanges(){var we;this.logger.info("Network test status  changed: ",C.AS[this.progressState]),(0,O.isNil)(this.progressState)||this.progressState===C.AS.Progress?this.progressState===C.AS.Progress&&this.resetProgressState():(this.stopProgressAnimation(),this.updateResultIconClass(this.progressState),this.displayToggles.showResults=!0,this.displayToggles.isVPNConnection="1"===(null===(we=this.nvTestData)||void 0===we||null===(we=we.networkInfo)||void 0===we?void 0:we.IsVPN),this.setResultStates(this.progressState),this.setMaxDisplayState(this.maxDisplayState)),this.displayToggles.showDotIcons=this.progressState===C.AS.Progress||this.displayToggles.isExcellentResult&&this.displayData.warningInfo!==C.AS.PoorWifi_2_4}updateZoneName(){this.logger.info("Subscribe to zone name: "),this.zoneNameSub&&(this.zoneNameSub.unsubscribe(),this.zoneNameSub=null),this.zoneNameSub=this.networkTestService.zoneName.subscribe(we=>{this.displayData.zoneName=we.name})}updateResultIconClass(we){var We,Xe;this.progressState=we,this.resultIconClass=this.progressState===C.AS.Bad?"error":this.progressState===C.AS.Poor||(null===(We=this.nvTestData)||void 0===We||null===(We=We.networkInfo)||void 0===We?void 0:We.NetworkType)===c.VV.WiFi2_4||"1"===(null===(Xe=this.nvTestData)||void 0===Xe||null===(Xe=Xe.networkInfo)||void 0===Xe?void 0:Xe.IsVPN)?"warn":"success"}resetProgressState(){var we;this.startProgressAnimation(),this.updateZoneName(),this.displayData.wifiRouterVersion=C.JO[null===(we=this.nvTestData)||void 0===we||null===(we=we.networkInfo)||void 0===we?void 0:we.NetworkType]||"",this.displayData.header="networkTest.networkTestHeader",this.resetEthernetState(),this.isWarningNetworkTest=!1}resetEthernetState(){var we;this.nvTestData&&this.nvTestData.networkInfo&&(this.displayToggles={isEthernet:null===(we=this.nvTestData.networkInfo)||void 0===we||null===(we=we.NetworkType)||void 0===we?void 0:we.includes(c.VV.Ethernet)})}startProgressAnimation(){(0,O.isNil)(this.animationSub)&&(this.animationSub=(0,w.F)(180).pipe((0,V.b)(()=>{this.progressCount=this.progressCount+1,this.progressCount=this.progressCount%(3*this.dotCount)})).subscribe())}stopProgressAnimation(){this.animationSub&&(this.animationSub.unsubscribe(),this.animationSub=null,this.progressCount=-1)}setResultStates(we){var We,Xe;switch(this.displayData.header="networkTest.networkTestResultsHeader",we){case C.AS.Excellent:this.displayData.resultText=this.displayToggles.isVPNConnection||(null===(We=this.nvTestData)||void 0===We||null===(We=We.networkInfo)||void 0===We?void 0:We.NetworkType)===c.VV.WiFi2_4?"networkTest.networkTestPoorWifiMsg":"networkTest.networkTestSuccessMsg",this.displayToggles.isExcellentResult=!0;break;case C.AS.Poor:this.isWarningNetworkTest=!0,this.displayData.warningInfo=C.AS.Poor,this.displayData.resultText="networkTest.networkTestPoorWifiMsg";break;case C.AS.Bad:this.isWarningNetworkTest=!0,this.displayData.warningInfo=C.AS.Bad,this.displayData.resultText="networkTest.networkTestBadWifiMsg"}this.displayToggles.showSuccessIcons=this.displayToggles.isExcellentResult&&!this.displayToggles.isVPNConnection&&(null===(Xe=this.nvTestData)||void 0===Xe||null===(Xe=Xe.networkInfo)||void 0===Xe?void 0:Xe.NetworkType)!==c.VV.WiFi2_4}setMaxDisplayState(we){this.displayToggles.showBestResolutionText=!this.isWebRtcNetworkTest&&!(0,O.isNil)(we),(0,O.isNil)(we)||(this.displayData.resolution=`\u2066${we.width} x ${we.height}\u2069`,this.displayData.fps=we.frameRate)}ngOnDestroy(){this.zoneNameSub&&(this.zoneNameSub.unsubscribe(),this.zoneNameSub=null),this.destroy$.next(!0),this.destroy$.complete()}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)(l.Y36(o.VK),l.Y36(c.ed),l.Y36(n.Yg),l.Y36(s.R))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-network-icons"]],inputs:{progressState:"progressState",nvTestData:"nvTestData",maxDisplayState:"maxDisplayState",isWebRtcNetworkTest:"isWebRtcNetworkTest"},features:[l.TTD],decls:17,vars:12,consts:[[1,"nv-ui-assets"],["class","network-test-icons",4,"ngIf"],["class","nv-dot-icons-container",4,"ngIf","ngIfElse"],["isWarningView",""],["class","network-isp-icons",4,"ngIf"],[1,"network-test-icons"],["svgIcon","storage",1,"nw-icon","custom-svg-icon"],[1,"caption","font-body3"],[1,"caption","zone","font-body3"],[1,"common-ui-errorDetails"],["fxLayout","row","fxLayoutAlign","center start",4,"ngIf"],["svgIcon","desktop_mac",1,"nw-icon","custom-svg-icon"],["svgIcon","devices",1,"nw-icon","custom-svg-icon"],[1,"nv-dot-icons-container"],[4,"ngFor","ngForOf"],[1,"nv-dot-icons","animated",3,"ngClass"],[3,"warningInfo"],[1,"network-isp-icons"],["svgIcon","isp",1,"nw-icon","custom-svg-icon"],["svgIcon","ethernet",1,"nw-icon","custom-svg-icon"],["svgIcon","wifi",1,"nw-icon","custom-svg-icon"],["svgIcon","network_signal",1,"nw-icon","custom-svg-icon"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutAlign","start center"],[1,"result-text-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","center start",1,"font-sub1"],["class","nv-custom-icons nw-icon-small result-icon success icon-optimized_reg","mat-font-set","material-icons",4,"ngIf","ngIfElse"],["isWarningIconView",""],[1,"result-text"],["class","result-resolution-container",4,"ngIf"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon-small","result-icon","success","icon-optimized_reg"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon-small","result-icon","icon-alert-circle_reg",3,"ngClass"],[1,"result-resolution-container"],[1,"font-body3"]],template:function(we,We){if(1&we&&(l.TgZ(0,"div",0),l.YNc(1,R,5,3,"div",1),l.YNc(2,_,5,3,"div",1),l.YNc(3,q,2,2,"div",2),l.YNc(4,a,1,1,"ng-template",null,3,l.W1O),l.YNc(6,j,13,10,"div",4),l.TgZ(7,"div",5),l._UZ(8,"mat-icon",6),l.TgZ(9,"p",7),l._uU(10),l.ALo(11,"translate"),l.qZA(),l.TgZ(12,"p",8),l._uU(13),l.ALo(14,"translate"),l.qZA()()(),l.TgZ(15,"div",9),l.YNc(16,z,11,6,"div",10),l.qZA()),2&we){const Xe=l.MAs(5);l.xp6(1),l.Q6J("ngIf",!We.mobileMode),l.xp6(1),l.Q6J("ngIf",We.mobileMode),l.xp6(1),l.Q6J("ngIf",We.displayToggles.showDotIcons)("ngIfElse",Xe),l.xp6(3),l.Q6J("ngIf",!We.isWarningNetworkTest),l.xp6(4),l.Oqu(l.lcZ(11,8,"common.gfn")),l.xp6(3),l.Oqu(l.lcZ(14,10,We.displayData.zoneName)),l.xp6(3),l.Q6J("ngIf",We.displayToggles.showResults)}},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),Ue})();var dt=t(65343);function X(Pe,Ue){1&Pe&&(l.TgZ(0,"div",3),l._UZ(1,"mat-icon",21),l.TgZ(2,"p",5),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.networkTestMyComputer")))}function m(Pe,Ue){1&Pe&&(l.TgZ(0,"div",3),l._UZ(1,"mat-icon",22),l.TgZ(2,"p",5),l._uU(3),l.ALo(4,"translate"),l.qZA()()),2&Pe&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"networkTest.myDevice")))}function Y(Pe,Ue){1&Pe&&l._UZ(0,"gfn-server-status-link",23)}function D(Pe,Ue){if(1&Pe&&l._UZ(0,"a",24),2&Pe){const Ae=l.oxw();l.s9C("translate",Ae.firewallLinkText),l.Q6J("href",Ae.firewallHelpUrl,l.LSH)("shortUrl",Ae.firewallHelpShortUrl)}}function N(Pe,Ue){1&Pe&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Pe&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"common.quit")))}function Z(Pe,Ue){1&Pe&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Pe&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"common.close")))}let W=(()=>{var Pe;class Ue{constructor(we){var We;this.showFirewallHelpLink=!1,this.nvClient=dt.BhR.MallClient,this.tryAgain=new l.vpe,this.close=new l.vpe,this.continue=new l.vpe,this.networkTestStates=C.AS,this.mobileMode=!(null==we||null===(We=we.featureEnablement)||void 0===We||!We.mobileMode)}ngOnInit(){this.autoRun=this.nvClient===dt.BhR.StreamingClient}onClickClose(){this.close.emit()}onClickTryAgain(){this.tryAgain.emit()}onClickContinue(){this.continue.emit()}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)(l.Y36(o.VK))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-network-test-error"]],inputs:{networkTestErrorText:"networkTestErrorText",zoneName:"zoneName",showFirewallHelpLink:"showFirewallHelpLink",firewallHelpUrl:"firewallHelpUrl",firewallHelpShortUrl:"firewallHelpShortUrl",firewallLinkText:"firewallLinkText",nvClient:"nvClient"},outputs:{tryAgain:"tryAgain",close:"close",continue:"continue"},decls:31,vars:19,consts:[[1,"nv-ui-assets"],["class","network-test-icons",4,"ngIf"],[3,"warningInfo"],[1,"network-test-icons"],["svgIcon","storage",1,"nw-icon","custom-svg-icon"],[1,"caption","font-body3"],[1,"caption","zone","font-body3"],[1,"common-ui-errorDetails"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutAlign","start center"],[1,"result-text-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","center start",1,"font-sub1"],["mat-font-set","nv-custom-icon",1,"nv-custom-icons","nw-icon-small","result-icon","icon-alert-circle_reg","error"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],[1,"result-text"],["class","error-url",4,"ngIf"],["class","font-body2-link",3,"href","shortUrl","translate",4,"ngIf"],[1,"nv-button-class","error-dlg-buttons"],["mat-button","",1,"error-dialog-button","font-button2",3,"click"],["mat-button","","cdkFocusInitial","",1,"error-dialog-button","font-button2","error-background-active-btn",3,"click"],[4,"ngIf"],["svgIcon","desktop_mac",1,"nw-icon","custom-svg-icon"],["svgIcon","devices",1,"nw-icon","custom-svg-icon"],[1,"error-url"],[1,"font-body2-link",3,"href","shortUrl","translate"]],template:function(we,We){1&we&&(l.TgZ(0,"div",0),l.YNc(1,X,5,3,"div",1),l.YNc(2,m,5,3,"div",1),l._UZ(3,"gfn-network-test-warning",2),l.TgZ(4,"div",3),l._UZ(5,"mat-icon",4),l.TgZ(6,"p",5),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"p",6),l._uU(10),l.ALo(11,"translate"),l.qZA()()(),l.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),l._UZ(17,"mat-icon",12),l.TgZ(18,"div",13)(19,"div",14),l._uU(20),l.ALo(21,"translate"),l.qZA(),l.YNc(22,Y,1,0,"gfn-server-status-link",15),l.YNc(23,D,1,3,"a",16),l.qZA()()()()()(),l.TgZ(24,"div",17)(25,"button",18),l.NdJ("click",function(){return We.onClickTryAgain()}),l._uU(26),l.ALo(27,"translate"),l.qZA(),l.TgZ(28,"button",19),l.NdJ("click",function(){return We.onClickClose()}),l.YNc(29,N,3,3,"span",20),l.YNc(30,Z,3,3,"span",20),l.qZA()()),2&we&&(l.xp6(1),l.Q6J("ngIf",!We.mobileMode),l.xp6(1),l.Q6J("ngIf",We.mobileMode),l.xp6(1),l.Q6J("warningInfo",We.networkTestStates.Bad),l.xp6(4),l.Oqu(l.lcZ(8,11,"common.gfn")),l.xp6(3),l.Oqu(l.lcZ(11,13,We.zoneName)),l.xp6(10),l.Oqu(l.lcZ(21,15,We.networkTestErrorText)),l.xp6(2),l.Q6J("ngIf",!We.showFirewallHelpLink),l.xp6(1),l.Q6J("ngIf",We.showFirewallHelpLink),l.xp6(3),l.hij(" ",l.lcZ(27,17,"common.tryAgain")," "),l.xp6(3),l.Q6J("ngIf",We.autoRun),l.xp6(1),l.Q6J("ngIf",!We.autoRun))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),Ue})();var A=t(46939),d=t(1558),H=t(24565),$=t(45356),J=t(47520),st=t(27247);const lt=function(Pe,Ue){return{warn:Pe,error:Ue}};function gt(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",6)(1,"div",7)(2,"p",10),l._uU(3),l.ALo(4,"translate"),l.qZA()(),l.TgZ(5,"div",11)(6,"p",12),l._uU(7),l.qZA()(),l.TgZ(8,"div",8)(9,"p",12),l._uU(10),l.qZA()(),l.TgZ(11,"div",8)(12,"p",12),l._uU(13),l.qZA()()()),2&Pe){const Ae=Ue.$implicit;l.xp6(3),l.hij(" ",l.lcZ(4,5,Ae.settingLabel)," "),l.xp6(2),l.Q6J("ngClass",l.WLB(7,lt,Ae.isPoorValue,Ae.isBadValue)),l.xp6(2),l.Oqu(Ae.measuredValue),l.xp6(3),l.Oqu(Ae.requiredValue),l.xp6(3),l.Oqu(Ae.recommendedValue)}}function vt(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",5)(1,"div",6)(2,"div",7),l._uU(3,"\xa0"),l.qZA(),l.TgZ(4,"div",8)(5,"p"),l._uU(6),l.ALo(7,"translate"),l.qZA()(),l.TgZ(8,"div",8)(9,"p"),l._uU(10),l.ALo(11,"translate"),l.qZA()(),l.TgZ(12,"div",8)(13,"p"),l._uU(14),l.ALo(15,"translate"),l.qZA()()(),l.YNc(16,gt,14,10,"div",9),l.qZA()),2&Pe){const Ae=l.oxw();l.xp6(6),l.Oqu(l.lcZ(7,4,"networkTest.networkTestMeasured")),l.xp6(4),l.Oqu(l.lcZ(11,6,"networkTest.networkTestRequired")),l.xp6(4),l.Oqu(l.lcZ(15,8,"common.recommended")),l.xp6(2),l.Q6J("ngForOf",Ae.propertyData)}}function k(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",5)(1,"div",14)(2,"p"),l._uU(3),l.ALo(4,"translate"),l.qZA()(),l.TgZ(5,"div",6)(6,"p",15),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"p",16),l._uU(10),l.qZA()(),l.TgZ(11,"div",6)(12,"p",15),l._uU(13),l.ALo(14,"translate"),l.qZA(),l.TgZ(15,"p",17),l._uU(16),l.qZA()(),l.TgZ(17,"div",18)(18,"p",15),l._uU(19),l.ALo(20,"translate"),l.qZA(),l.TgZ(21,"p",17),l._uU(22),l.qZA()()()),2&Pe){const Ae=Ue.$implicit;l.xp6(3),l.Oqu(l.lcZ(4,8,Ae.settingLabel)),l.xp6(4),l.Oqu(l.lcZ(8,10,"networkTest.networkTestMeasured")),l.xp6(2),l.Q6J("ngClass",l.WLB(16,lt,Ae.isPoorValue,Ae.isBadValue)),l.xp6(1),l.hij(" ",Ae.measuredValue," "),l.xp6(3),l.Oqu(l.lcZ(14,12,"networkTest.networkTestRequired")),l.xp6(3),l.Oqu(Ae.requiredValue),l.xp6(3),l.Oqu(l.lcZ(20,14,"common.recommended")),l.xp6(3),l.Oqu(Ae.recommendedValue)}}function pt(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",5),l.YNc(1,k,23,19,"div",13),l.qZA()),2&Pe){const Ae=l.oxw();l.xp6(1),l.Q6J("ngForOf",Ae.propertyData)}}function yt(Pe,Ue){1&Pe&&(l.ynx(0),l.TgZ(1,"span",19),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.BQk()),2&Pe&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"networkTest.overrideZoneWarning")))}let Xt=(()=>{var Pe;class Ue{constructor(we){this.networkConfigurationService=we}ngOnInit(){this.networkConfigurationService.getNetworkOverride().pipe((0,A.q)(1)).subscribe(we=>{this.showZoneOverrideWarning=!(0,O.isNil)(we)&&this.nvTestData.result.bandwidth.measured>=this.nvTestData.result.bandwidth.recommended&&this.nvTestData.result.frameLoss.measured<this.nvTestData.result.frameLoss.recommended&&this.nvTestData.result.latency.measured<this.nvTestData.result.latency.recommended&&"0"===this.nvTestData.networkInfo.IsVPN&&this.nvTestData.networkInfo.NetworkType!==c.VV.WiFi2_4}),this.constructResults()}constructResults(){this.propertyData=[{settingLabel:"networkTest.bandwidth",measuredValue:this.nvTestData.result.bandwidth.measured>=this.nvTestData.result.bandwidth.recommended?`> ${this.nvTestData.result.bandwidth.measured}`:this.nvTestData.result.bandwidth.measured,recommendedValue:`> ${this.nvTestData.result.bandwidth.recommended}`,requiredValue:`> ${this.nvTestData.result.bandwidth.limit}`,isPoorValue:(0,O.inRange)(this.nvTestData.result.bandwidth.measured,this.nvTestData.result.bandwidth.limit,this.nvTestData.result.bandwidth.recommended),isBadValue:this.nvTestData.result.bandwidth.measured<=this.nvTestData.result.bandwidth.limit},{settingLabel:"networkTest.packetLoss",measuredValue:this.nvTestData.result.frameLoss.measured.toFixed(1),recommendedValue:`< ${this.nvTestData.result.frameLoss.recommended.toFixed(1)}`,requiredValue:`< ${this.nvTestData.result.frameLoss.limit.toFixed(1)}`,isPoorValue:(0,O.inRange)(this.nvTestData.result.frameLoss.measured,this.nvTestData.result.frameLoss.recommended,this.nvTestData.result.frameLoss.limit),isBadValue:this.nvTestData.result.frameLoss.measured>=this.nvTestData.result.frameLoss.limit},{settingLabel:"networkTest.latency",measuredValue:this.nvTestData.result.latency.measured,recommendedValue:`< ${this.nvTestData.result.latency.recommended}`,requiredValue:`< ${this.nvTestData.result.latency.limit}`,isPoorValue:(0,O.inRange)(this.nvTestData.result.latency.measured,this.nvTestData.result.latency.recommended,this.nvTestData.result.latency.limit),isBadValue:this.nvTestData.result.latency.measured>=this.nvTestData.result.latency.limit}]}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)(l.Y36(d.X))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-network-completed"]],inputs:{nvTestData:"nvTestData",isHandset:"isHandset"},decls:6,vars:3,consts:[["fxLayout","column","tabindex","0",1,"common-ui-network-content"],["fxLayout","column","fxFlex","",1,"div-table","font-sub2"],["fxLayout","column","fxFlex","",4,"ngIf"],["fxLayout","row",1,"override-warning-container"],[4,"ngIf"],["fxLayout","column","fxFlex",""],["fxLayout","row","fxFlex","",1,"div-table-row"],[1,"div-table-col-header","font-body2"],[1,"div-table-col","font-body2"],["class","div-table-row","fxLayout","row","fxFlex","",4,"ngFor","ngForOf"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3"],[1,"div-table-col","font-body2",3,"ngClass"],["dir","auto"],["fxLayout","column","fxFlex","",4,"ngFor","ngForOf"],[1,"font-sub2"],[1,"font-body3"],["dir","auto",1,"font-sub3",3,"ngClass"],["dir","auto",1,"font-sub3"],["fxLayout","row","fxFlex","",1,"div-table-row","font-body3"],[1,"font-body3-italic"]],template:function(we,We){1&we&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,vt,17,10,"div",2),l.YNc(3,pt,2,1,"div",2),l.TgZ(4,"div",3),l.YNc(5,yt,4,3,"ng-container",4),l.qZA()()()),2&we&&(l.xp6(2),l.Q6J("ngIf",!We.isHandset),l.xp6(1),l.Q6J("ngIf",We.isHandset),l.xp6(2),l.Q6J("ngIf",We.showZoneOverrideWarning))},dependencies:[H.Lv,e.mk,e.sg,e.O5,$.xw,$.yH,J.oO,st.n,L.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),Ue})();const It=function(Pe){return{narrowstyle:Pe}};let Nt=(()=>{var Pe;class Ue{constructor(){this.isWifi_2_4=!1,this.isBadNetworkResult=!1}ngOnInit(){switch(this.warningInfo){case C.AS.PoorWifi_2_4:this.isWifi_2_4=!0;break;case C.AS.Bad:this.isBadNetworkResult=!0}}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-network-test-warning"]],inputs:{warningInfo:"warningInfo"},decls:4,vars:7,consts:[[1,"network-test-warning-icons",3,"ngClass"],[3,"ngClass"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon","icon-alert-bang"]],template:function(we,We){1&we&&(l.TgZ(0,"div",0),l._UZ(1,"hr",1)(2,"mat-icon",2)(3,"hr",1),l.qZA()),2&we&&(l.Q6J("ngClass",We.isBadNetworkResult?"redstyle":"yellowstyle"),l.xp6(1),l.Q6J("ngClass",l.VKq(3,It,We.isWifi_2_4)),l.xp6(2),l.Q6J("ngClass",l.VKq(5,It,We.isWifi_2_4)))},dependencies:[x.Hw,e.mk,J.oO],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-mdc-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),Ue})();var le=t(77136);function te(Pe,Ue){if(1&Pe){const Ae=l.EpF();l.TgZ(0,"button",3),l.NdJ("click",function(){l.CHM(Ae);const We=l.oxw();return l.KtG(We.execLeftButtonAction())}),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"translate"),l.qZA()}if(2&Pe){const Ae=l.oxw();l.xp6(1),l.hij(" ",l.lcZ(2,1,l.lcZ(3,3,Ae.leftButtonText))," ")}}let bt=(()=>{var Pe;class Ue{constructor(){this.tryAgain=new l.vpe,this.close=new l.vpe,this.continue=new l.vpe,this.showButton=!0}ngOnInit(){switch(this.placementCriteria.progressState){case C.AS.Excellent:this.showButton=this.placementCriteria.showAdditionalActions,this.leftButtonText="common.tryAgain",this.rightButtonText=this.placementCriteria.autoRun?"common.continueTitleCase":"common.ok";break;case C.AS.Bad:this.leftButtonText=this.placementCriteria.autoRun?"networkTest.continueAnyway":"common.close",this.rightButtonText="common.tryAgain";break;default:this.leftButtonText=this.placementCriteria.autoRun?"common.continueTitleCase":"common.close",this.rightButtonText="common.tryAgain"}}execLeftButtonAction(){this.placementCriteria.progressState===C.AS.Excellent?this.tryAgain.emit():this.placementCriteria.autoRun?this.continue.emit():this.close.emit()}execRightButtonAction(){this.placementCriteria.progressState===C.AS.Excellent?this.placementCriteria.autoRun?this.continue.emit():this.close.emit():this.tryAgain.emit()}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-nw-test-button-placer"]],inputs:{placementCriteria:"placementCriteria"},outputs:{tryAgain:"tryAgain",close:"close",continue:"continue"},decls:6,vars:6,consts:[[1,"container"],["mat-button","","cdkFocusInitial","",1,"action-btn","font-button2",3,"click"],["mat-button","","class","font-button2 back-hover-override",3,"click",4,"ngIf"],["mat-button","",1,"font-button2","back-hover-override",3,"click"]],template:function(we,We){1&we&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return We.execRightButtonAction()}),l._uU(2),l.ALo(3,"uppercase"),l.ALo(4,"translate"),l.qZA(),l.YNc(5,te,4,5,"button",2),l.qZA()),2&we&&(l.xp6(2),l.hij(" ",l.lcZ(3,2,l.lcZ(4,4,We.rightButtonText))," "),l.xp6(3),l.Q6J("ngIf",We.showButton))},dependencies:[S.eB,e.O5,e.gd,L.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.action-btn[_ngcontent-%COMP%]{height:36px;min-width:64px;border-radius:0;margin:13px 8px;background-color:#76b900}.isLtr[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.back-hover-override[_ngcontent-%COMP%]:hover{background-color:#ffffff0a}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:8px;gap:8px 13px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.container[_ngcontent-%COMP%]{flex-wrap:wrap}}.tv-view[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{padding:16px;gap:16px 32px}"]}),Ue})();var Vt=t(31609),ut=t(91467),re=t(12501),Kt=t(5717),jt=t(680),Wt=t(87965),oe=t(47422),Qt=t(17627),Pt=t(45083),Ut=t(18862),Tt=t(32124),it=t(1498),Mt=t(23602),zt=t(94076);function ft(Pe,Ue){1&Pe&&l._UZ(0,"div",6),2&Pe&&l.Q6J("@networkTestAnalyzerAnimation",void 0)}function ve(Pe,Ue){if(1&Pe&&l._UZ(0,"gfn-small-screen-ui",7),2&Pe){const Ae=l.oxw();l.Q6J("showHeaderSection",!Ae.isAnalysisDone)("canShowRating",Ae.canShowRating)("loadingScreensData",Ae.loadingScreensData)("contentRatingData",Ae.contentRatingData)}}function Ce(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",16)(1,"span"),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&Pe){const Ae=l.oxw(2);l.Q6J("@networkTestAnalyzerAnimation",void 0),l.xp6(2),l.hij("",l.lcZ(3,2,Ae.loadingScreensData.loadingText),"...")}}function De(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",17),l._UZ(1,"mat-progress-bar",18),l.qZA()),2&Pe){const Ae=l.oxw(2);l.Q6J("@networkTestAnalyzerAnimation",void 0),l.xp6(1),l.Q6J("mode",Ae.loadingScreensData.progressBar)}}function ze(Pe,Ue){if(1&Pe&&l._UZ(0,"gfn-content-rating",19),2&Pe){const Ae=l.oxw(2);l.Q6J("ratingLogoUrl",Ae.contentRatingData.ratingLogoUrl)("ratingClass",Ae.contentRatingData.ratingClass)("contentDescriptors",Ae.contentRatingData.contentDescriptors)("interactiveElements",Ae.contentRatingData.interactiveElements)}}function $e(Pe,Ue){1&Pe&&(l.TgZ(0,"div")(1,"span",20),l._uU(2),l.ALo(3,"translate"),l.qZA(),l._UZ(4,"mat-icon",21),l.qZA()),2&Pe&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"setup.guestApp.poweredBy")))}const Se=function(Pe){return{"analysis-done":Pe}};function ce(Pe,Ue){if(1&Pe&&(l.TgZ(0,"div",8),l.YNc(1,Ce,4,4,"div",9),l.YNc(2,De,2,2,"div",10),l.TgZ(3,"div",11),l.YNc(4,ze,1,4,"gfn-content-rating",12),l.qZA(),l.TgZ(5,"div",13)(6,"div",14),l.YNc(7,$e,5,3,"div",15),l.qZA()()()),2&Pe){const Ae=l.oxw();l.xp6(1),l.Q6J("ngIf",!Ae.isAnalysisDone),l.xp6(1),l.Q6J("ngIf",!Ae.isAnalysisDone),l.xp6(1),l.Q6J("ngClass",l.VKq(6,Se,Ae.isAnalysisDone)),l.xp6(1),l.Q6J("ngIf",!Ae.isGuestAppFlow),l.xp6(1),l.Q6J("@networkTestAnalyzerAnimation",void 0),l.xp6(2),l.Q6J("ngIf",!Ae.isWhiteLabelingEnabled)}}let ge=(()=>{var Pe;class Ue{constructor(we,We,Xe,Gn,Yn){this.ratingService=Xe,this.lcarsService=Gn,this.elementRef=Yn,this.isDefaultGameArtVisible=!0,this.isGuestAppFlow=!1,this.contentRatingData={ratingLogoUrl:"",ratingClass:"",contentDescriptors:[],interactiveElements:[]},this.isWhiteLabelingEnabled=!0,this.isAnalysisDone=!1,this.loadingScreensData={loadingText:"networkTest.networkTestHeader",progressBar:Ut.EI.InDeterminate},this.isSmallScreen=!1,this.canShowRating=!0,this.logger=we.getLogger("NetworkAnalyzerComponent"),this.isGuestAppFlow=We.isGuestAppFlow(),this.isGuestAppFlow&&(this.isWhiteLabelingEnabled=We.isWhiteLabelingEnabled()),this.destroy$=new E.xQ}ngOnInit(){var we,We;this.isAnalysisDone=null===(we=this.data)||void 0===we?void 0:we.isAnalysisDone,this.appMetadata$=this.lcarsService.getMetadataByCmsId(null===(We=this.data)||void 0===We?void 0:We.cmsId).pipe((0,jt.d)()),this.appMetadata$.pipe((0,Wt.zg)(Xe=>this.ratingService.getCurrentRating(Xe.contentRatings.type,Xe.contentRatings.categoryKey)),(0,oe.U)(Xe=>{this.contentRatingData.ratingLogoUrl=Xe.rating.largeImageUrl,this.contentRatingData.ratingClass=Xe.rating.label}),(0,Qt.P)()).subscribe(Kt.Z,Xe=>this.logger.error("failed to fetch rating info",Xe)),this.appMetadata$.pipe((0,Wt.zg)(Xe=>this.ratingService.getContentDescriptors(Xe.contentRatings.type,Xe.contentRatings.contentDescriptorKeys)),(0,oe.U)(Xe=>this.contentRatingData.contentDescriptors=Xe),(0,Qt.P)()).subscribe(Kt.Z,Xe=>this.logger.error("failed to fetch contentDescriptors",Xe)),this.appMetadata$.pipe((0,Wt.zg)(Xe=>this.ratingService.getInteractiveElements(Xe.contentRatings.type,Xe.contentRatings.interactiveElementKeys)),(0,oe.U)(Xe=>this.contentRatingData.interactiveElements=Xe),(0,Qt.P)()).subscribe(Kt.Z,Xe=>this.logger.error("failed to fetch interactiveElements",Xe))}ngAfterViewInit(){Tt.g.resizeObserver(this.elementRef.nativeElement,{minWidth:ut.UW.MaxS1Width,maxHeight:ut.Ls,maxWidth:ut.UW.MaxS3Width}).pipe((0,Pt.x)(),(0,p.R)(this.destroy$)).subscribe(we=>{this.logger.info("Is small screen device: ",we),this.isSmallScreen=we},we=>{this.logger.error("Resize Observer error: ",we.toString())})}ngOnChanges(){var we,We;this.isAnalysisDone=null===(we=this.data)||void 0===we?void 0:we.isAnalysisDone,this.logger.info("isAnalysisDone changed: ",null===(We=this.data)||void 0===We?void 0:We.isAnalysisDone)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)(l.Y36(c.ed),l.Y36(it.h),l.Y36(Mt.V),l.Y36(zt.zc),l.Y36(l.SBq))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["gfn-network-test-analyzer"]],inputs:{data:"data"},features:[l.TTD],decls:6,vars:3,consts:[["class","analyzer-ui-scrim depth-lowest",4,"ngIf"],[3,"showHeaderSection","canShowRating","loadingScreensData","contentRatingData",4,"ngIf"],["fxLayout","column","fxFlex","",1,"depth-middle","analyzer-ui-container"],[1,"analyzer-ui-top-image"],["src","shared/assets/img/DefaultStreamerBackgroundArt.jpg",1,"game-art"],["class","analyzer-ui-full-scrollable-container","fxLayout","column","fxFlex","",4,"ngIf"],[1,"analyzer-ui-scrim","depth-lowest"],[3,"showHeaderSection","canShowRating","loadingScreensData","contentRatingData"],["fxLayout","column","fxFlex","",1,"analyzer-ui-full-scrollable-container"],["class","analyzer-ui-header",4,"ngIf"],["class","analyzer-ui-progress-bar",4,"ngIf"],[1,"analyzer-ui-primary-content-scrollable-container",3,"ngClass"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start",1,"analyzer-ui-secondary-content-container"],[1,"analyzer-ui-secondary-content"],[4,"ngIf"],[1,"analyzer-ui-header"],[1,"analyzer-ui-progress-bar"],[3,"mode"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements"],[1,"no-wrap","font-sub3"],["svgIcon","nvidia-logo-horiz-rgb-wht-for-screen",1,"poweredByIcon"]],template:function(we,We){1&we&&(l.YNc(0,ft,1,1,"div",0),l.YNc(1,ve,1,4,"gfn-small-screen-ui",1),l.TgZ(2,"div",2)(3,"div",3),l._UZ(4,"img",4),l.qZA(),l.YNc(5,ce,8,8,"div",5),l.qZA()),2&we&&(l.Q6J("ngIf",!We.isSmallScreen),l.xp6(1),l.Q6J("ngIf",We.isSmallScreen),l.xp6(4),l.Q6J("ngIf",!We.isSmallScreen))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}[_nghost-%COMP%]{--full-scrollable-container-left-margin: 40px}.analyzer-ui-container[_ngcontent-%COMP%]{background-color:transparent;overflow:hidden;position:relative}.analyzer-ui-scrim[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,0,0,.9) 0%,rgba(0,0,0,.85) 29%,rgba(0,0,0,.79) 42%,rgba(0,0,0,.7) 54%,rgba(0,0,0,.6) 64%,rgba(0,0,0,.48) 74%,rgba(0,0,0,.33) 82%,rgba(0,0,0,.23) 87%,rgba(0,0,0,.07) 95%,rgba(0,0,0,0) 100%);width:100%;height:100%;position:absolute}.isRtl[_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%]{background:linear-gradient(270deg,rgba(0,0,0,.9) 0%,rgba(0,0,0,.85) 29%,rgba(0,0,0,.79) 42%,rgba(0,0,0,.7) 54%,rgba(0,0,0,.6) 64%,rgba(0,0,0,.48) 74%,rgba(0,0,0,.33) 82%,rgba(0,0,0,.23) 87%,rgba(0,0,0,.07) 95%,rgba(0,0,0,0) 100%)}.analyzer-ui-top-image[_ngcontent-%COMP%]{display:none}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{height:100%;width:400px}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:var(--full-scrollable-container-left-margin)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:var(--full-scrollable-container-left-margin)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:var(--full-scrollable-container-left-margin)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:var(--full-scrollable-container-left-margin)}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700;margin-top:48px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.analyzer-ui-header[_ngcontent-%COMP%]   .eta-info[_ngcontent-%COMP%]{margin-top:16px}.analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:24px}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.analyzer-ui-primary-content-scrollable-container.analysis-done[_ngcontent-%COMP%]{margin-top:24px}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{width:calc(100vw - var(--full-scrollable-container-left-margin));margin-top:24px;margin-bottom:24px}.analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:400px}.analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{width:82px;height:15px;vertical-align:middle}.isLtr[_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:10px}.isRtl[_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:10px}.tv-view[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;width:720px}.tv-view[_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:1080px}.tv-view[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{width:720px}@media (max-width: 479px){.analyzer-ui-scrim[_ngcontent-%COMP%]{background:#191919!important}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--full-scrollable-container-left-margin: 24px;--full-scrollable-container-right-padding: 24px;overflow-y:auto;overflow-x:hidden;width:auto}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:var(--full-scrollable-container-left-margin)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:var(--full-scrollable-container-left-margin)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:var(--full-scrollable-container-left-margin)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:var(--full-scrollable-container-left-margin)}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{padding-right:var(--full-scrollable-container-right-padding)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:var(--full-scrollable-container-right-padding)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{padding-left:var(--full-scrollable-container-right-padding)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:var(--full-scrollable-container-right-padding)}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:auto}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500;margin-top:24px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.analyzer-ui-top-image[_ngcontent-%COMP%]{display:block}.analyzer-ui-top-image[_ngcontent-%COMP%]   .game-art[_ngcontent-%COMP%]{width:100vw;height:auto}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{overflow-y:initial;height:initial}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{flex-direction:column!important;width:100%}}@media (min-width: 480px) and (max-width: 719px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:100%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:83.33%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:32px}}@media (min-width: 720px) and (max-width: 959px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:100%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:62.5%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:32px}}@media (min-width: 960px) and (max-width: 1439px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:50%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:50%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:40px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:40px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:40px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:40px}}@media (min-width: 1440px) and (max-width: 1919px),(min-width: 1920px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:50%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:33%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:40px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:40px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:40px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:40px}}@media screen and (min-width: 480px) and (max-width: 719px),screen and (min-width: 481px) and (max-height: 431px){.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;width:auto;display:block!important}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:400px}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500;margin-top:24px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.analyzer-ui-progress-bar[_ngcontent-%COMP%]{width:400px}.isLtr[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{overflow-y:hidden;height:initial}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{flex-direction:column!important;width:100%}}"],data:{animation:[(0,re.X$)("networkTestAnalyzerAnimation",[(0,re.eR)("void => *",[(0,re.oB)({opacity:"0"}),(0,re.jt)("0.3s ease-in",(0,re.oB)({opacity:"1"}))]),(0,re.eR)("* => void",[(0,re.oB)({opacity:"1"}),(0,re.jt)("0.3s ease-out",(0,re.oB)({opacity:"0"}))])])]}}),Ue})();var qt=t(46555),Ct=t(75783),Gt=t(93170),Zt=t(68823),ee=t(75889),_e=t(81337),Ie=t(79329),Je=t(59397),qe=t(72416),bn=t(87251),kn=t(38616),wn=t(78173),On=t(72060),Ln=t(83863);let yn=(()=>{var Pe;class Ue{}return(Pe=Ue).\u0275fac=function(we){return new(we||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[f.Is,x.Ps,S.yu,e.ez,L.aw,i.o9,u.Nh,Vt.n,ut.hp,qt.Q,Mt.H,Gt.rt,Ut.bb]}),Ue})();l.B6R(g.K,[e.mk,e.O5,e.RF,e.n9,$.xw,$.Wh,$.s9,J.oO,u.uX,u.SP,Zt.q,ee.N,_e.Q5,Ie.e,Je.D,Q,W,Xt,bt,ge],[L.X$]),l.B6R(h.U,[$.s9,qe.u,g.K],[]),l.B6R(Q,[x.Hw,e.mk,e.sg,e.O5,$.xw,$.Wh,$.yH,J.oO,Nt],[L.X$]),l.B6R(W,[x.Hw,S.eB,e.O5,L.Pi,$.xw,$.Wh,$.yH,bn.E,kn.p,Nt,le.Y],[L.X$]),l.B6R(ge,[x.Hw,e.mk,e.O5,$.xw,$.Wh,$.yH,J.oO,wn.pW,On.u,Ln.K],[L.X$]),l.B6R(Ct.N,[e.mk,e.O5,e.RF,e.n9,$.xw,$.Wh,J.oO,u.uX,u.SP,Zt.q,ee.N,_e.Q5,Q,W,Xt,bt],[L.X$])},3006:(Dt,ct,t)=>{"use strict";t.d(ct,{R:()=>N});var e=t(78943),i=t(13963),L=t(47178),x=t(49481),S=t(32484),u=t(70462),g=t(5717),h=t(64555),O=t(9681),E=t(73992),w=t(33994),p=t(47422),V=t(87965),c=t(85046),C=t(46939),l=t(58175),o=t(328),n=t(1062),s=t(36520),R=t(99901),_=t(17627),b=t(13303),I=t(15746),q=t(65343),a=t(88404),y=t(35308),M=t(53576),P=t(24642),K=t(88207),B=t(89129),j=t(93587),tt=t(61699),ot=t(90220),F=t(7749),U=t(43818),z=t(1558),Q=t(19165),dt=t(87815),X=t(77869),m=t(27947),Y=t(97424),D=t(59248);let N=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt){var Vt,ut;this.systemInfo=H,this.streamingProfileService=$,this.idmService=J,this.gridService=st,this.bridgeService=lt,this.networkConfigurationService=gt,this.remoteConfigurationService=vt,this.appConfig=k,this.gfnSdkService=pt,this.localeService=yt,this.telemetryUtil=Xt,this.eventStreamFactory=It,this.cloudVariableHelperService=Nt,this.router=le,this.clientHeaderService=te,this.zoneStorage=bt,this.prod="Prod",this.selectedZone$=new x.t(1),this.messages=new S.xQ,this.networkTestCancelled$=new S.xQ,this.retriggerPolicy$=new u.X(q.Yk9.Manual),this.startedListenToTokenRequest=!1,this.networkTestRun=!1,this.networkTestState$=new S.xQ,this.lbrState$=new S.xQ,this.networkLinksSubject=new x.t(1),this.isWebrtcNetworktestEnabledSubject=new x.t(1),this.isStreamer=!1,this.cachedWebrtcSupportedZonesList=[],this.isWebrtcNTSupportedOnUpdatedZoneSubject=new x.t(1),this.capableSupportedResolutions=null,this.isInitCalled=!1,this.networkTestFinishedCallbackResult$=new S.xQ,this.maxSubscriptionProfile=null,this.logger=d.getLogger("shared/network-test.service"),this.qhdResolutionIdentifier=null==k||null===(Vt=k.client)||void 0===Vt||null===(Vt=Vt.streamingModeResolutionsConfiguration)||void 0===Vt||null===(Vt=Vt.resolutionIdentifier)||void 0===Vt?void 0:Vt.QHD,this.isNetworkTestInProgress=!1,this.initCurrentDisplayResolutionStream(),this.initCurrentMaxSubscriptionProfileStream(),this.initSupportedResolutionsStream(),this.initCapableResolutionsStream(),this.registerDisplayModeChangeEvent(),null!=k&&null!==(ut=k.networkTest)&&void 0!==ut&&ut.prefetchStreams&&(this.currentMaxSubscriptionProfileStream.get$().subscribe(g.Z,g.Z),this.currentDisplayResolutionStream.get$().subscribe(g.Z,g.Z))}registerDisplayModeChangeEvent(){var d;null===(d=this.streamingProfileService.onDisplayModeChanged())||void 0===d||d.pipe((0,p.U)(()=>{this.currentDisplayResolutionStream.refresh()})).subscribe()}initCurrentDisplayResolutionStream(){this.currentDisplayResolutionStream=this.eventStreamFactory.createStream(()=>this.streamingProfileService.getPrimaryDisplayResolution().pipe((0,p.U)(d=>({width:d.width,height:d.height,frameRate:d.fps}))))}initCurrentMaxSubscriptionProfileStream(){this.currentMaxSubscriptionProfileStream=this.eventStreamFactory.createStream(()=>this.streamingProfileService.getAvailableResolutionList().pipe((0,p.U)(()=>{const d=this.streamingProfileService.getPlatformSpecificBalancedPresetResolution();return this.maxSubscriptionProfile={height:d.height,width:d.width,frameRate:d.fps},this.maxSubscriptionProfile})))}initSupportedResolutionsStream(){this.supportedResolutionsStream=this.eventStreamFactory.createStream(()=>this.streamingProfileService.getAvailableResolutionList().pipe((0,p.U)(d=>{const H=new Map;return null==d||d.forEach($=>{var J;$.enabled&&(null===(J=$.fpsList)||void 0===J||J.forEach(st=>{st.enabled&&H.set(`$h-${$.height}-w-${$.width}-f-${st.value}`,{height:$.height,width:$.width,frameRate:st.value})}))}),Array.from(H.values())})))}initCapableResolutionsStream(){this.capableResolutionsStream=this.eventStreamFactory.createStream(()=>(0,h.aj)([this.currentDisplayResolutionStream.get$(),this.supportedResolutionsStream.get$()]).pipe((0,V.zg)(([d,H])=>(this.logger.info("Primary display resolution: ",d.width,"x",d.height," @",d.frameRate),this.getDynamicStreamingProfilesByRatio(H,d.width/d.height,16/9).pipe((0,p.U)(st=>(this.capableSupportedResolutions=st,this.capableSupportedResolutions)))))))}initGxTargetConfiguration(d){if(this.isStreamer=(0,K.MA)(this.router.url),!d)return this.isWebrtcNetworkTestEnabled=!1,void this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:!1});this.queryGxTarget()}initialize(){this.isInitCalled||(this.isInitCalled=!0,this.networkConfigurationService.readNetworkSessionId(),this.remoteConfig$=this.remoteConfigurationService.remoteConfigFetched$,(0,h.aj)([this.webrtcNetworkTestEnabled,this.remoteConfig$]).subscribe(([d,H])=>{d.enabled&&this.configureWebrtcNetworkSettings(H)},d=>this.logger.error("Error fetching remote config and configuring Network Test settings."+d)),this.constructHelpLinks().pipe((0,p.U)(d=>{this.networkLinksSubject.next(d)})).subscribe())}get isNetworkTestRequired(){return this.networkTestRequired}set isNetworkTestRequired(d){this.networkTestRequired=d}get networkTestMessages(){return this.messages.asObservable()}get zoneName(){return this.selectedZone$}get isNetworkTestRun(){return this.networkTestRun}get networkTestState(){return this.networkTestState$.asObservable()}get lbrState(){return this.lbrState$.asObservable()}get networkLinks(){return this.networkLinksSubject.asObservable()}get webrtcNetworkTestEnabled(){return this.isWebrtcNetworktestEnabledSubject.asObservable()}get webrtcNTSupportForZone(){return this.isWebrtcNTSupportedOnUpdatedZoneSubject.asObservable()}resetNetworkTestStatus(){this.networkTestRun=!1}getRetriggerPolicy(){return this.retriggerPolicy$.asObservable()}setRetriggerPolicy(d){this.retriggerPolicy$.next(d)}setParentSpanForNetworkTest(d){this.parentSpan=d}setNetworkTestState(d){this.networkTestState$.next(d)}setLbrState(d){this.lbrState$.next(d)}sendMessage(d,H){this.messages.next({message:d,data:H})}getNetworkInfo(){return i.ng.isBrowserPlatform()?(0,O.of)({}):this.systemInfo.getSystemInfo([i.l7.Network]).pipe((0,p.U)(d=>d.Network))}isSystemOnline(){return window.navigator.onLine}isZoneSupported(d,H){return!!this.allZonesSupported||(this.isProdZone(d)?this.cachedWebrtcSupportedZonesList.includes(null==H?void 0:H.address):this.cachedWebrtcSupportedZonesList.includes(null==d?void 0:d.address))}isUpdatedZoneSupported(d,H){return this.isWebrtcNTSupportedOnUpdatedZone=this.isZoneSupported(d,H),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNTSupportedOnUpdatedZone),this.isWebrtcNTSupportedOnUpdatedZone}isProdZone(d){return d.name===this.prod}queryGxTarget(){const d=!!this.isStreamer,H=this.gridService.getCachedZone(),$=this.gridService.detectedLocalZone$,J=this.cloudVariableHelperService.getFeatureToggle(j._P.BACKGROUND_WEBRTC_NETWORK_TEST,{configCheckEnabled:!0,useDifferentConfigAttributeName:!0,buildVariant:this.appConfig.build.variant,useCache:d});this.idmService.accountStatusChanged.pipe((0,c.h)(st=>st.isAuthenticated),(0,V.zg)(st=>(0,E.$R)(H,J,$))).subscribe(([st,lt,gt])=>{this.logger.info("GxTarget webrtc network test response: ",lt.value);const vt=this.isProdZone(st)?gt:null;this.logger.info("Current zone:",st,", detected local zone: ",vt),lt.value.enabled&&lt.value.supportedZonesList&&0!==lt.value.supportedZonesList.length?(this.cachedWebrtcSupportedZonesList=Object.assign([],lt.value.supportedZonesList),this.allZonesSupported=!1,this.isWebrtcNetworkTestEnabled=!0,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:lt.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isZoneSupported(st,vt))):lt.value.enabled&&lt.value.supportedZonesList&&0===lt.value.supportedZonesList.length?(this.allZonesSupported=!0,this.isWebrtcNetworkTestEnabled=!0,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:lt.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNetworkTestEnabled)):(this.isWebrtcNetworkTestEnabled=!1,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:lt.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNetworkTestEnabled))},st=>{this.logger.info("Failed to resolve gx-target cloud variable webRtcNetworkTestV2:",st),this.isWebrtcNetworkTestEnabled=!1,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:!1}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(!1)})}configureWebrtcNetworkSettings(d){let H;const $=null==d?void 0:d.overrides;null!=$&&$.isFetchedFromGXT?(H={gxtOverrideData:JSON.stringify(null==$?void 0:$.data)},this.logger.info("Sending rconfig data from GXT to ConfigureNetworkTestSettings"),this.bridgeService.executeCommand(e.Gh.Gfn.Networktest.ConfigureNetworkTestSettings,H).subscribe()):this.logger.info("No Network Test remote overrides available.")}getRemoteConfigForIndirectPolicy(d){let H;switch(d){case a.VR.RedResult:H=this.appConfig.featureEnablement.networkTestPolicy.isRedResultEnabled;break;case a.VR.StreamerFrameLossTimeoutError:H=this.appConfig.featureEnablement.networkTestPolicy.isFrameLossTimeoutErrorEnabled;break;default:H=!0}return H}hasMaxSubscriptionProfileUpgraded(d,H){return!i.ng.isBrowserPlatform()&&(d?H.height*H.width>d.height*d.width:H.width*H.height>=this.qhdResolutionIdentifier.lowerLimit)}shouldNetworkTestRun(){return(0,h.aj)([this.networkConfigurationService.getCurrentFingerprintInfo(),this.currentMaxSubscriptionProfileStream.get$().pipe((0,C.q)(1))]).pipe((0,p.U)(([d,H])=>{let $=!1;return(0,L.isNil)(d)?(this.logger.info("This fingerprint is observed for the first time, on which Network Test was never run."),this.setRetriggerPolicy(q.Yk9.FingerprintChanged),$=!0):(0,L.isNil)(d.runNetworkTest)?(this.logger.info("Client upgraded to the version having the decoupling feature."),this.setRetriggerPolicy(q.Yk9.ClientUpdated),$=!0):d.runNetworkTest?($=this.getRemoteConfigForIndirectPolicy(d.indirectNetworkTestPolicy),this.logger.info(`An indirect policy: ${d.indirectNetworkTestPolicy} got triggered. Network test will ${$?"":"not "}be run.`),$&&(d.indirectNetworkTestPolicy.startsWith("Streamer")&&(d.indirectNetworkTestPolicy=a.VR.StreamerNetworkError),this.setRetriggerPolicy(d.indirectNetworkTestPolicy))):this.hasMaxSubscriptionProfileUpgraded(null==d?void 0:d.maxSubscriptionProfile,H)&&(this.logger.info("Network test should run again as maxSubscriptionProfile has changed"),this.setRetriggerPolicy(q.Yk9.MaxSubscriptionProfileUpgraded),$=!0),$}),(0,l.K)(d=>(this.logger.error("Error trying to determine if Network Test should run, therefore run Network Test.",d),this.setRetriggerPolicy(q.Yk9.PolicyCheckFailed),(0,O.of)(!0))))}launchNetworkTest(d){return this.networkConfigurationService.getNetworkOverride().pipe((0,o.M)(this.remoteConfig$.pipe((0,n.O)({overrides:{},config:this.appConfig}))),(0,s.w)(([H,$])=>(this.appConfig=$.config,this.startedListenToTokenRequest||this.listenToTokenRequest(),this.executeNetworkTest(d).pipe((0,V.zg)(J=>this.updateNetworkTestOverrideFlag(J)),(0,V.zg)(J=>this.networkTestPolicyChecks(J)),(0,V.zg)(J=>this.updateMaxDisplay(J)),(0,V.zg)(J=>this.updateNetworkTestSession(J))))))}updateNetworkTestSession(d){return d.isSuccess?this.networkConfigurationService.setCachedNetworkSessionId(d.networkSessionId).pipe((0,R.h)(d)):(0,O.of)(d)}updateNetworkTestInfoInFingerprint(d,H,$){return d.result.result===a.pU.NCT_R_SUCCESS&&H&&$?this.networkConfigurationService.updateNetworkTestInfoInFingerprint(H,d,$):(0,O.of)(!1)}exceuteNetworkTestFinishedCallback(){this.bridgeService.executeCommand(e.Gh.Gfn.Networktest.NetworkTestFinishedCallback).pipe((0,C.q)(1)).subscribe(d=>{this.networkTestFinishedCallbackResult$.next(d)},d=>{this.networkTestFinishedCallbackResult$.error(d)})}executeNetworkTest(d,H=!1){let $,J,st,lt,gt;return this.exceuteNetworkTestFinishedCallback(),(0,h.aj)([this.prepareNetworkParams(d,H),this.getResolutionForThresholdComparision()]).pipe((0,V.zg)(([vt,k])=>($=k,J=vt,this.bridgeService.executeCommand(e.Gh.Gfn.Networktest.Start,vt))),(0,V.zg)(vt=>this.getNetworkTestFinishedCallbackResult$().pipe((0,C.q)(1))),(0,V.zg)(vt=>{var k;return this.logger.info("Network Test result received: ",vt),(null==vt||null===(k=vt.result)||void 0===k?void 0:k.result)===P.Rn.NCT_R_AUTH_FAILED?!1===H?(this.logger.info("Auth error, attempting to refresh credentials"),(0,w._)(P.Rn.NCT_R_AUTH_FAILED)):(0,w._)("Auth error, will not attempt to refresh credentials"):(0,O.of)(vt)}),(0,V.zg)(vt=>{var k;return(null==vt||null===(k=vt.result)||void 0===k?void 0:k.result)===P.Rn.NCT_R_SUCCESS&&(st=this.selectThresholdForResolution(vt.testResult.thresholds,$)),lt=vt,this.analyzeNetworkTestResults(vt,st)}),(0,V.zg)(vt=>{var k,pt;return gt=vt,this.updateNetworkTestInfoInFingerprint(lt,null===(k=J)||void 0===k?void 0:k.maxDisplayResolution,null===(pt=st)||void 0===pt?void 0:pt.profile)}),(0,p.U)(vt=>gt),(0,l.K)(vt=>vt===P.Rn.NCT_R_AUTH_FAILED?this.executeNetworkTest(d,!0):(this.logger.error("Failed executing Network test command, error: ",vt),(0,w._)(vt))))}networkTestPolicyChecks(d){const H=this.appConfig.featureEnablement.networkTestPolicy.isRedResultEnabled&&d.analysis.networkQuality===a.AS.Bad;let $=a.VR.None;return H&&($=a.VR.RedResult,this.logger.info("Got a red result on analysis, hence Network Test will run on next streamer launch.")),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(H,$).pipe((0,R.h)(d))}updateMaxDisplay(d){return this.appConfig.featureEnablement.dynamicStreamingResolution?(this.logger.info("Dynamic res. is enabled by Remote config"),d.isSuccess?this.networkConfigurationService.setCurrentFingerprintMaxDisplay(d.capableProfile).pipe((0,R.h)(d)):(0,O.of)(d)):(this.logger.info("Dynamic res. is disabled by remote config, remove maxDisplay from sharedstorage"),this.networkConfigurationService.clearCurrentFingerprintMaxDisplay().pipe((0,R.h)(d)))}updateNetworkTestOverrideFlag(d){return this.networkConfigurationService.updateNetworkOverrideNetworkTestFlag(!1).pipe((0,_.P)(),(0,R.h)(d))}startNetworkTest(d){return this.isNetworkTestInProgress=!0,this.networkTestRun=!0,this.launchNetworkTest(d).pipe((0,b.R)(this.networkTestCancelled$),(0,I.b)(H=>{this.logger.info("Network Test completed: ",H),this.isNetworkTestInProgress=!1}),(0,l.K)(H=>(this.isNetworkTestInProgress=!1,this.logger.info("Network Test failed, hence Network Test will run on next streamer launch."),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(!0,a.VR.NetworkTestFailed).pipe((0,V.zg)(()=>(0,w._)(H))))))}listenToTokenRequest(){this.logger.info("Network Test starts listening to auth token request: "),this.bridgeService.executeCommand(e.Gh.Gfn.Networktest.AuthTokenRequest,{}).pipe((0,V.zg)(()=>(this.logger.info("Got token REQUEST from NetworkTest SDK "),this.idmService.getAuthToken(!1,this.parentSpan))),(0,V.zg)(d=>{if((0,L.isNil)(d)||(0,L.isNil)(d.token))return this.logger.info("Jarvis failed to return token, do not send command UpdateAuthToken..."),(0,O.of)({});{const H={authToken:d.token};return this.logger.info("Sending delegate token to NT2 SDK, using command UpdateAuthToken"),this.bridgeService.executeCommand(e.Gh.Gfn.Networktest.UpdateAuthToken,H)}})).subscribe(()=>this.startedListenToTokenRequest=!0,d=>this.logger.error("Error sending oauth token to NetworkTest",d))}sendNetworkTroubleshootClickedTelemetry(d){this.telemetryUtil.sendClickEvent(q.lzt.NetworkTroubleshooting,"Network troubleshoot clicked",d)}selectThresholdForResolution(d,H){d.sort((J,st)=>{const lt=J.profile.height*J.profile.width-st.profile.height*st.profile.width;return 0===lt?J.profile.frameRate-st.profile.frameRate:lt});let $=-1;for(let J=d.length-1;J>=0;J--)if(H.width*H.height>=d[J].profile.width*d[J].profile.height){if(J-1>=0){const st=d[J],lt=d[J-1];st.profile.width===lt.profile.width&&st.profile.height===lt.profile.height&&H.frameRate<st.profile.frameRate&&(J-=1)}$=J;break}return-1===$&&($=0),d[$]}getResolutionForThresholdComparision(){return(0,h.aj)([this.currentDisplayResolutionStream.get$().pipe((0,C.q)(1)),this.currentMaxSubscriptionProfileStream.get$().pipe((0,C.q)(1))]).pipe((0,p.U)(([d,H])=>{let $;return $=d.width<=H.width&&d.height<=H.height?d:H,$}))}roundTestResultNumbers(d){var H;return this.logger.info("Rounding of network test results"),d.testResult.downlinkBandwidth=Math.round(d.testResult.downlinkBandwidth/1e6),d.testResult.uplinkBandwidth=Math.round(d.testResult.uplinkBandwidth/1e6)||0,null===(H=d.testResult.thresholds)||void 0===H||H.forEach($=>{$.bandwidthLimit=Math.round($.bandwidthLimit),$.bandwidthRecommended=Math.round($.bandwidthRecommended)}),d.testResult.packetLoss=Math.round(100*d.testResult.packetLoss)/100,d.testResult.latency=Math.round(d.testResult.latency),d.testResult.percentile99thFrameJitter=d.testResult.percentile99thFrameJitter/1e3||0,d}filterResolutionsByRatio(d,H,$){var J;this.logger.info("filter Resolutions By Ratio, targetRatio: ",H);let st=null==d?void 0:d.filter(lt=>H===lt.width/lt.height);return 0===(null===(J=st)||void 0===J?void 0:J.length)&&(this.logger.info("filter Resolutions By Ratio, fallbackRatio: ",$),st=null==d?void 0:d.filter(lt=>$===lt.width/lt.height)),this.streamingProfileService.getAutoMaxBitrateValueForResolutionArray(st)}getDynamicStreamingProfilesByRatio(d,H,$){return this.filterResolutionsByRatio(d,H,$).pipe((0,p.U)(J=>{let st=J;st.sort((vt,k)=>{const pt=k.width*k.height-vt.width*vt.height;return 0===pt?k.fps-vt.fps:pt});const lt=st[st.length-1],gt=st.filter(vt=>30===vt.fps&&vt.width===lt.width&&vt.height===lt.height);return st=st.filter(vt=>30!==vt.fps).concat(gt),st=st.map(vt=>({...vt,pixelCount:vt.width*vt.height})),st=(0,L.orderBy)(st,["pixelCount","maxBandwidth"],["desc","desc"]),this.logger.info("supportedResolutions filtered by ratio, 30fps removed + smallest resolution with 30fps: ",st),st}))}getCapableProfileForNetworkTest(d){return this.capableResolutionsStream.get$().pipe((0,C.q)(1),(0,p.U)(H=>{const $=H[H.length-1],J=d.testResult.downlinkBandwidth;let st={width:$.width,height:$.height,frameRate:$.fps};for(const gt of H)if(J>=gt.maxBandwidth){st={frameRate:gt.fps,height:gt.height,width:gt.width};break}return this.logger.info("estimated streaming resolution for Network Test: ",st),st}),(0,l.K)(H=>(this.logger.error("Error in estimating streaming resolution for network test. error:",H),this.isWebrtcNetworkTestEnabled?(this.logger.error("Returning dummy profile info for webclient"),(0,O.of)({width:0,height:0,frameRate:0})):(0,w._)("Failed estimating streaming resolution for network test"))))}analyzeNetworkTestResults(d,H,$=!0){const J=$?this.roundTestResultNumbers(d):d;return this.logger.info("Network test analysis results are: ",J,this.zone),this.getCapableProfileForNetworkTest(J).pipe((0,p.U)(st=>{const lt=J.result.result!==a.pU.NCT_R_SUCCESS?a.AS.NA:this.compareMetric(J.testResult.downlinkBandwidth,null==H?void 0:H.bandwidthLimit,null==H?void 0:H.bandwidthRecommended,!0),gt=J.result.result!==a.pU.NCT_R_SUCCESS?a.AS.NA:this.compareMetric(J.testResult.packetLoss,null==H?void 0:H.packetLossLimit,null==H?void 0:H.packetLossRecommended,!1),vt=J.result.result!==a.pU.NCT_R_SUCCESS?a.AS.NA:this.compareMetric(J.testResult.latency,null==H?void 0:H.latencyLimit,null==H?void 0:H.latencyRecommended,!1),k=J.result.result!==a.pU.NCT_R_SUCCESS?a.AS.NA:this.calculateNetworkQuality(lt,gt,vt);return{bandwidth:{measured:J.testResult.downlinkBandwidth,limit:null==H?void 0:H.bandwidthLimit,recommended:null==H?void 0:H.bandwidthRecommended},uplinkBandwidth:J.testResult.uplinkBandwidth,latency:{measured:J.testResult.latency,limit:null==H?void 0:H.latencyLimit,recommended:null==H?void 0:H.latencyRecommended},latencyWithStream:J.testResult.latencyWithStream,measuredPathMtu:J.testResult.measuredPathMtu,frameLoss:{measured:J.testResult.packetLoss,limit:null==H?void 0:H.packetLossLimit,recommended:null==H?void 0:H.packetLossRecommended},analysis:{networkQuality:k,bandwidthQuality:lt,frameLossQuality:gt,latencyQuality:vt},capableProfile:st,percentile99thFrameJitter:J.testResult.percentile99thFrameJitter,networkSessionId:J.testResult.networkSessionId,result:J.result.result,isNetworkTest2:!0,isSuccess:J.result.result===a.pU.NCT_R_SUCCESS,zone:J.testResult.zone?{name:this.zone.name,address:J.testResult.zone}:this.zone,errorDetails:J.testResult.errorDetails||"",thresholds:J.testResult.thresholds,maxUserCapableProfile:this.capableSupportedResolutions[0],maxPacketSize:J.testResult.maxPacketSize,maxTestBandwidthMbps:J.testResult.maxTestBandwidthMbps}}),(0,l.K)(st=>(this.logger.error("Error in analyzing network test result: ",st),(0,w._)(st))))}calculateNetworkQuality(d,H,$){let J;return d===a.AS.Excellent&&H===a.AS.Excellent&&$===a.AS.Excellent?J=a.AS.Excellent:d===a.AS.Bad||H===a.AS.Bad||$===a.AS.Bad?J=a.AS.Bad:(d===a.AS.Poor||H===a.AS.Poor||$===a.AS.Poor)&&(J=a.AS.Poor),J}compareMetric(d,H,$,J){let st;return st=J?d>=$?a.AS.Excellent:d<H?a.AS.Bad:a.AS.Poor:d<$?a.AS.Excellent:d>=H?a.AS.Bad:a.AS.Poor,st}getNetworkTestFinishedCallbackResult$(){return this.networkTestFinishedCallbackResult$.asObservable()}runLbrAndSaveOptimalZone(d){return this.gfnSdkService.getAuthType().pipe((0,V.zg)(H=>{let $=(0,O.of)(null);(H===M.Gr.IDM||H===M.Gr.IDM_FALLBACK)&&($=this.idmService.accountStatusChanged);const J=[$,this.systemInfo.getSystemInfo([i.l7.DeviceId])];return(0,E.$R)(...J).pipe((0,s.w)(([st,lt])=>{const gt={userId:st&&!(0,L.isEmpty)(st.userId)?st.userId:"UnknownUser",platformId:d,deviceId:lt.DeviceId};return this.gridService.getZone(gt,this.parentSpan)}))}))}prepareNetworkParams(d,H=!1){return this.logger.info("Getting network test parameters"),(0,E.$R)(this.idmService.accountStatusChanged,this.systemInfo.getSystemInfo([i.l7.DeviceId]),this.currentDisplayResolutionStream.get$().pipe((0,C.q)(1)),this.gridService.getCachedZone(),this.idmService.getAuthToken(H,this.parentSpan),this.gfnSdkService.getAuthInfo(),this.currentMaxSubscriptionProfileStream.get$().pipe((0,C.q)(1)),this.capableResolutionsStream.get$().pipe((0,C.q)(1)),this.clientHeaderService.getCommonHeaders({withClientId:"lcars"})).pipe((0,V.zg)(([$,J,st,lt,gt,vt,k,pt,yt])=>{this.logger.info("Preparing Network Test parameters"),this.zone=lt,this.selectedZone$.next(lt);let Xt=P.qq.NVB_AUTH_JWT_GFN,It=gt.token;(!It||0===It.length)&&vt.authType===M.Gr.JWT&&(Xt=P.qq.NVB_AUTH_JWT,It=vt.authToken);const Nt={platformId:d,user:(0,L.isEmpty)($.userId)?"UnknownUser":$.userId,authType:Xt,authToken:It||"",address:lt.address,deviceId:J.DeviceId,displayResolution:{width:st.width,height:st.height,frameRate:st.frameRate},profiles:pt.map(te=>({height:te.height,width:te.width,frameRate:te.fps})),maxDisplayResolution:k,httpHeaders:this.getHttpHeaders(yt)},le=(0,L.cloneDeep)(Nt);return delete le.authToken,this.logger.info("Network test parameters: ",le),(0,O.of)(Nt)}))}translateGFWSLSupportedString(d){switch(d){case i.wi.XBox:case i.wi.Windows:return"Windows";case i.wi.ChromeOS:return"Chrome OS";case i.wi.MacOS:return"macOS";case i.wi.IOS:case i.wi.IPadOS:return"iOS";case i.wi.Linux:return"Linux";case i.wi.Android:return"Android";case i.wi.WebOS:return"WebOS";case i.wi.Tizen:return"Tizen";case i.wi.SteamOS:return"SteamOS";default:return i.wi.Undefined}}getHttpHeaders(d){return i.ng.isBrowserPlatform()?[]:Object.entries(d).map(([H,$])=>({headerName:H,headerValue:$ instanceof Array?$[0]:$}))}constructHelpLinks(){const d=this.localeService.localeChanged.pipe((0,_.P)());return(0,E.$R)(d,this.systemInfo.getDeviceOSType()).pipe((0,p.U)($=>{const J={cNm:i.ng.isBrowserPlatform()?y.w.gfnWebClient:y.w.gfn,Plt:this.translateGFWSLSupportedString($[1])},st=new URL(B.hE.BaseUrl+$[0]);st.searchParams.append("page",B.hE.NetworkTroubleshoot),st.searchParams.append("jso",btoa(JSON.stringify(J))),this.logger.info("Network Troubleshooting tips link: ",st.toString());const lt=B.hD[B.hE.NetworkTroubleshoot],gt=`${B.hE.BaseUrl}${$[0]}&page=${B.hE.RecommendedRoutersProductPage}`,vt=B.hD[B.hE.RecommendedRoutersProductPage];return this.logger.info("Recommended Routers link: ",gt),[st.toString(),lt,gt,vt]}))}cleanupOnCancel(){return this.networkTestCancelled$.next(),this.isNetworkTestInProgress?(this.logger.info("Cancelled network test, hence Network Test will run on next streamer launch."),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(!0,a.VR.NetworkTestCancelled)):(0,O.of)(!0)}isCachedZone(d,H){return d===H}isSupportedAndCachedZone(d,H,$){return(null==d?void 0:d.address)&&this.isZoneSupported(d,$)&&this.isCachedZone(d.address,null==H?void 0:H.address)}checkExpiry(d){var H,$;if(null==d||null===(H=d.networkTestExpiry)||void 0===H||!H.expiryTime)return!0;if(null!=d&&null!==($=d.networkTestExpiry)&&void 0!==$&&$.expiryTime){const J=new Date,st=new Date(d.networkTestExpiry.expiryTime);return this.logger.info("Webrtc Network Test Expiry time "+st+", time now "+J),st<J}}isWebrtcNetworkTestExpiryTimeElapsed(d){return(0,E.$R)(this.zoneStorage.getDefaultZone(),this.networkConfigurationService.getNetworkConfig(),this.gridService.detectedLocalZone$).pipe((0,p.U)(([H,$,J])=>{var st,lt,gt,vt;return this.isSupportedAndCachedZone(d,null==$||null===(st=$.networkTestExpiry)||void 0===st?void 0:st.zone,J)||!d&&this.isSupportedAndCachedZone(H,null==$||null===(lt=$.networkTestExpiry)||void 0===lt?void 0:lt.zone,J)?this.checkExpiry($):!(!d||!this.isZoneSupported(d,J)||this.isCachedZone(d.address,null==$||null===(gt=$.networkTestExpiry)||void 0===gt?void 0:gt.zone.address))||!(d||!this.isZoneSupported(H,J)||this.isCachedZone(H.address,null==$||null===(vt=$.networkTestExpiry)||void 0===vt||null===(vt=vt.zone)||void 0===vt?void 0:vt.address))}))}isWebrtcNetworkTestRequired(d,H=!1){return(0,h.aj)([this.webrtcNetworkTestEnabled,this.webrtcNTSupportForZone]).pipe((0,V.zg)(([$,J])=>(this.isWebrtcNetworkTestEnabled=H?$.enabled&&!$.showUI&&J:$.enabled&&$.showUI&&J,this.isWebrtcNetworkTestEnabled?this.isWebrtcNetworkTestExpiryTimeElapsed(d).pipe((0,p.U)(st=>st?d?d&&d.runNetworkTest?(this.logger.info("Override zone has been set, hence run webrtc network test"),this.setRetriggerPolicy(q.Yk9.OverrideFlagSet),!0):(this.logger.info("runNetworkTest for set override zone is false, not running Network test."),!1):(this.logger.info("Webrtc network test is enabled, run Network test."),!0):(this.logger.info("Network Test expiry time has not elapsed yet, not running Network test."),!1))):(this.logger.info("Network Test disabled, skipping Network test."),(0,O.of)(!1)))))}setNetworkTestExpiryTime(){var d;const H=new Date,$=null===(d=this.appConfig.networkTest)||void 0===d?void 0:d.expiryTime;return this.isWebrtcNetworkTestEnabled&&!(0,L.isNil)($)?(H.setDate(H.getDate()+$),(0,E.$R)(this.gridService.getCachedZone(),this.networkConfigurationService.getNetworkConfig()).pipe((0,s.w)(([J,st])=>{this.logger.info(`Updating Network Test Expiry time for zone ${J.name}: `+H);const lt={zone:J,expiryTime:null==H?void 0:H.toISOString()};return st=(0,L.extend)(st,{networkTestExpiry:lt}),this.networkConfigurationService.writeNetworkConfig(st,!0)}),(0,l.K)(J=>(this.logger.error("Set Network Test expiry time failed: ",J),(0,O.of)(!1))))):(0,O.of)(!1)}}return(Z=W).\u0275fac=function(d){return new(d||Z)(tt.LFG(i.ed),tt.LFG(i.Ob),tt.LFG(ot.GK),tt.LFG(F.No),tt.LFG(U.r),tt.LFG(i.dF),tt.LFG(z.X),tt.LFG(Q.s),tt.LFG(dt.VK),tt.LFG(M.s),tt.LFG(i.OL),tt.LFG(q.wU6),tt.LFG(X.O_),tt.LFG(j.$l),tt.LFG(m.F0),tt.LFG(Y.x5),tt.LFG(D.W))},Z.\u0275prov=tt.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})()},59092:(Dt,ct,t)=>{"use strict";t.d(ct,{$:()=>E});var e=t(47178),L=t(9681),f=t(17627),x=t(47422),S=t(17692),u=t(65343),g=t(61699),h=t(13963),O=t(89857);let E=(()=>{var w;class p{constructor(c,C,l,o){this.loggingService=c,this.telemetryUtil=C,this.networkTestService=l,this.telemetryService=o,this.isSilentWebrtcNT=!1,this.logger=this.loggingService.getLogger("shared/network-test-telemetry.service"),this.networkTestService.webrtcNetworkTestEnabled.subscribe(n=>{var s;this.isSilentWebrtcNT=null!==(s=n.enabled)&&void 0!==s&&s})}getNetworkTestDataWithPolicy(c){return this.networkTestService.getRetriggerPolicy().pipe((0,f.P)(),(0,x.U)(C=>(c.policy=C,c)))}sendTestDoneTelemetry(c,C){const l=this.constructTestDoneTelemetryData(c,C);return this.isSilentWebrtcNT?(l.policy=u.Yk9.Manual,(0,L.of)(this.telemetryService.push(new u.WLf(l),c.startTime))):this.getNetworkTestDataWithPolicy(l).pipe((0,x.U)(o=>this.telemetryService.push(new u.WLf(o),c.startTime)))}constructTestDoneTelemetryData(c,C){var l,o,n,s,R,_,b;const I=this.networkTestService.maxSubscriptionProfile,q=null==C?void 0:C.maxUserCapableProfile,a={networkTestVersion:2,bandwidth:C&&C.bandwidth.measured?C.bandwidth.measured:0,uplinkBandwidth:C&&C.uplinkBandwidth?C.uplinkBandwidth:0,clientType:this.telemetryUtil.getClientType(),displayProfile:(0,e.isNil)(C)?u.DwO.NVB_PROFILE_DEFAULT:this.formatDisplayProfile(C.capableProfile),userCapableProfileWidth:(null==C||null===(l=C.capableProfile)||void 0===l?void 0:l.width)||0,userCapableProfileHeight:(null==C||null===(o=C.capableProfile)||void 0===o?void 0:o.height)||0,userCapableProfileFrameRate:(null==C||null===(n=C.capableProfile)||void 0===n?void 0:n.frameRate)||0,maxUserCapableProfileWidth:(null==q?void 0:q.width)||0,maxUserCapableProfileHeight:(null==q?void 0:q.height)||0,maxUserCapableProfileFrameRate:(null==q?void 0:q.fps)||0,maxSubscriptionProfileWidth:(null==I?void 0:I.width)||0,maxSubscriptionProfileHeight:(null==I?void 0:I.height)||0,maxSubscriptionProfileFrameRate:(null==I?void 0:I.frameRate)||0,maxTestBandwidthMbps:(null==C?void 0:C.maxTestBandwidthMbps)||0,errorCode:(0,e.isNil)(C)?0:C.result,status:c.networkTestTelemetryStatus,errorReason:(0,e.isNil)(C)?this.formatNetworkErrorReason(c.networkTestTelemetryStatus):this.formatNetworkErrorReason(c.networkTestTelemetryStatus,C.result),dataLoss:C&&C.frameLoss.measured?C.frameLoss.measured:0,latency:C&&C.latency.measured?C.latency.measured:0,latencyWithStream:C&&C.latencyWithStream?C.latencyWithStream:0,measuredPathMtu:C&&C.measuredPathMtu?C.measuredPathMtu:0,networkQuality:(0,e.isNil)(C)?u.YbQ.Unknown:this.formatNetworkQuality(C.analysis.networkQuality),networkSessionId:C&&C.networkSessionId?C.networkSessionId:"",networkTestMode:c.autoRun?u.YXu.Automatic:u.YXu.Manual,networkType:(0,e.isNil)(C)?u.RRm.Unknown:this.telemetryUtil.getNetworkType(null==c||null===(s=c.testData)||void 0===s||null===(s=s.networkInfo)||void 0===s?void 0:s.NetworkType),totalMs:0,VPNConnection:(0,e.isNil)(null==c||null===(R=c.testData)||void 0===R?void 0:R.networkInfo)||(0,e.isNil)(null===(_=c.testData.networkInfo)||void 0===_?void 0:_.IsVPN)?u.wye.UNDEFINED:"1"===(null==c||null===(b=c.testData)||void 0===b||null===(b=b.networkInfo)||void 0===b?void 0:b.IsVPN)?u.wye.TRUE:u.wye.FALSE,zone:(0,e.isNil)(C)?"":C.zone.address,overrideZone:(0,e.isNil)(c.zoneOverride)?"":c.zoneOverride.address,overrideActive:(0,e.isNil)(c.zoneOverride)?u.wye.FALSE:u.wye.TRUE,percentile99thFrameJitter:C&&C.percentile99thFrameJitter?C.percentile99thFrameJitter:0,resultCode:(0,e.isNil)(C)?0:C.result,errorDetails:(0,e.isNil)(C)?this.formatNetworkErrorReason(c.networkTestTelemetryStatus):c.isWebRtcNetworkTest?null==C?void 0:C.errorDetails:this.formatNetworkErrorReason(c.networkTestTelemetryStatus,C.result),policy:u.Yk9.Manual,maxPacketSize:(null==C?void 0:C.maxPacketSize)||0};return this.logger.info("Network test telemetry data: ",a),a}formatDisplayProfile(c){let C=u.DwO.NVB_PROFILE_DEFAULT;return 1366===c.width&&768===c.height?C=30===c.frameRate?u.DwO.NT_1366_768_30:u.DwO.NT_1366_768_60:1920===c.width&&1080===c.height?C=30===c.frameRate?u.DwO.NVB_PROFILE_GAMING_1080P_30FPS:u.DwO.NVB_PROFILE_GAMING_1080P_60FPS:1280===c.width&&720===c.height?C=30===c.frameRate?u.DwO.NVB_PROFILE_GAMING_720P_30FPS:u.DwO.NVB_PROFILE_GAMING_720P_60FPS:1920===c.width&&1200===c.height?C=30===c.frameRate?u.DwO.NT_1920_1200_30:u.DwO.NT_1920_1200_60:1680===c.width&&1050===c.height?C=30===c.frameRate?u.DwO.NT_1680_1050_30:u.DwO.NT_1680_1050_60:1440===c.width&&900===c.height?C=30===c.frameRate?u.DwO.NT_1440_900_30:u.DwO.NT_1440_900_60:1280===c.width&&800===c.height&&(C=30===c.frameRate?u.DwO.NT_1280_800_30:u.DwO.NT_1280_800_60),C}formatNetworkErrorReason(c,C){let l;return l=c===u.N3X.NetworkTestSdkError?this.formatNetworkTestV2ErrorReason(C):c===u.N3X.Success?u.Tbl.NA:(0,e.isNil)(C)||151!==C?(0,e.isNil)(C)||204!==C?u.Tbl.UNKNOWN:u.Tbl.PacketLoss:u.Tbl.FAILED,l}formatNetworkTestV2ErrorReason(c){let C;switch(c){case u.OD0.UNKNOWN:C=u.Tbl.UNKNOWN;break;case u.OD0.SUCCESS:C=u.Tbl.NA;break;case u.OD0.INVALID_PARAM:C=u.Tbl.INVALID_PARAM;break;case u.OD0.SYN_FAILED:C=u.Tbl.SYN_FAILED;break;case u.OD0.FIN_FAILED:C=u.Tbl.FIN_FAILED;break;case u.OD0.AUTH_FAILED:C=u.Tbl.AUTH_FAILED;break;case u.OD0.POST_FAILED:C=u.Tbl.POST_FAILED;break;case u.OD0.TEST_IN_PROGRESS:C=u.Tbl.TEST_IN_PROGRESS;break;case u.OD0.CANCELED:C=u.Tbl.CANCELED;break;case u.OD0.CAPACITY_FULL:C=u.Tbl.CAPACITY_FULL;break;case u.OD0.SESSION_EXIST:C=u.Tbl.SESSION_EXIST;break;case u.OD0.INVALID_DATA:C=u.Tbl.INVALID_DATA;break;case u.OD0.SETUP_FAILED:C=u.Tbl.SETUP_FAILED;break;case u.OD0.RETRYABLE_POST_FAILURE:C=u.Tbl.RETRYABLE_POST_FAILURE;break;case u.OD0.BLOCK_STREAM:C=u.Tbl.BLOCK_STREAM;break;default:C=u.Tbl.UNKNOWN}return C}formatNetworkQuality(c){let C=u.YbQ.Unknown;switch(c){case S.AS.Excellent:C=u.YbQ.Excellent;break;case S.AS.Poor:C=u.YbQ.Poor;break;case S.AS.Bad:C=u.YbQ.Bad}return C}}return(w=p).\u0275fac=function(c){return new(c||w)(g.LFG(h.ed),g.LFG(u.wU6),g.LFG(S.R2),g.LFG(O.y0))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},35308:(Dt,ct,t)=>{"use strict";t.d(ct,{v:()=>i,w:()=>e});const e={gfn:"gfn",gfnWebClient:"gfnb"};var i=function(L){return L.Skipped="Skipped",L.Passed="Passed",L.UserInputPrompted="UserInputPrompted",L.LbrDone="LbrDone",L}(i||{})},68823:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>I});var e=t(13963),i=t(88404),L=t(47178),x=t(32484),S=t(13303),u=t(17627),g=t(89129),h=t(61699),O=t(3006),E=t(65343),w=t(26575),p=t(45356),V=t(87251),c=t(38616),C=t(93170),l=t(43559);function o(q,a){if(1&q&&(h.TgZ(0,"span",8),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&q){const y=h.oxw().$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,y.text))}}const n=function(q){return{serversLink:q}};function s(q,a){if(1&q&&(h._UZ(0,"span",9),h.ALo(1,"translate")),2&q){const y=h.oxw().$implicit,M=h.oxw();h.Q6J("innerHTML",h.xi3(1,1,M.tipLinkString,h.VKq(4,n,'href="'+y.linkUrl+'" class="font-body2-link"')),h.oJD)}}function R(q,a){if(1&q&&(h.TgZ(0,"div")(1,"div",4),h._UZ(2,"span",5),h.YNc(3,o,3,3,"span",6),h.YNc(4,s,2,6,"span",7),h.qZA()()),2&q){const y=a.$implicit;h.xp6(3),h.Q6J("ngIf",!y.hasLink),h.xp6(1),h.Q6J("ngIf",y.hasLink)}}const _=function(q){return{troubleshootLink:q}},b=function(q){return{routersLink:q}};let I=(()=>{var q;class a{constructor(M,P,K,B){this.localeService=P,this.networkTestService=K,this.telemetryUtil=B,this.tipLinkString="networkTest.farAwayFromServers",this.logger=M.getLogger("libraries/network-test/NetworkTipsComponent"),this.destroy$=new x.xQ}ngOnInit(){this.updateTips(),this.networkTestService.networkLinks.pipe((0,S.R)(this.destroy$)).subscribe(M=>{this.troubleshootLink=M[0],this.troubleshootShortUrl=M[1],this.routersLink=M[2],this.routersShortUrl=M[3]})}ngOnChanges(){this.updateTips()}updateTips(){this.logger.info("update network tips, network conditions: ",this.networkConditionsData),(0,L.isNil)(this.networkConditionsData)||(this.networkConditions=[],this.trobleshootTips=[],this.getNetworkConditions(),this.getTroubleshootTips())}getNetworkConditions(){this.logger.info("Current network conditions passed from parent component: ",this.networkConditionsData),this.networkConditionsData.isVpn&&this.networkConditions.push(i.Ih.VPN),(0,L.isNil)(this.networkConditionsData.zoneOverride)||this.networkConditions.push(i.Ih.ZoneOverride),(0,L.isNil)(this.networkConditionsData.latency)||(this.networkConditionsData.latency>150&&this.networkConditions.push(i.Ih.Latency_more_150),this.networkConditionsData.latency>80&&this.networkConditionsData.latency<=150&&this.networkConditions.push(i.Ih.Latency_more_80)),(0,L.isNil)(this.networkConditionsData.bandwidth)||this.networkConditionsData.bandwidth<15&&this.networkConditions.push(i.Ih.Bandwidth_less_15),(0,L.isNil)(this.networkConditionsData.networkType)||(this.networkConditionsData.networkType===e.VV.WiFi2_4&&this.networkConditions.push(i.Ih.Wifi_2_4),(this.networkConditionsData.networkType===e.VV.WiFi2_4||this.networkConditionsData.networkType===e.VV.WiFi5_0||this.networkConditionsData.networkType===e.VV.WiFi6_0||this.networkConditionsData.networkType===e.VV.WiFiUnknown)&&this.networkConditions.push(i.Ih.Wifi)),this.networkConditionsData.isOffline&&this.networkConditions.push(i.Ih.Offline),this.logger.info("Current network conditions are: ",this.networkConditions)}getTroubleshootTips(){const M=[],P=this.networkConditionsData.isOffline?2:this.networkConditionsData.isVpn?1:3;this.networkConditions.forEach(K=>{const B=(0,L.cloneDeep)(i.Q1.find(j=>j.condition===K));B.hasLink&&this.localeService.localeChanged.pipe((0,u.P)()).subscribe(j=>{B.linkUrl=`${g.hE.BaseUrl}${j}&page=${B.linkUrl}`}),M.push(B)}),i.Q1.forEach(K=>{K.condition===i.Ih.Any&&M.push(K)}),M.sort((K,B)=>K.priority-B.priority),this.networkConditionsData.isOffline&&(M[1]=i.Q1.find(K=>"networkTest.restartRouter"===K.text)),this.trobleshootTips=M.slice(0,P),this.logger.info("Show top trobleshoot tips for current network: ",this.trobleshootTips)}onClickTroubleshoot(){this.networkTestService.sendNetworkTroubleshootClickedTelemetry(this.telemetryUtil.getClientType())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(q=a).\u0275fac=function(M){return new(M||q)(h.Y36(e.ed),h.Y36(e.OL),h.Y36(O.R),h.Y36(E.wU6))},q.\u0275cmp=h.Xpm({type:q,selectors:[["gfn-network-tips"]],inputs:{networkConditionsData:"networkConditionsData"},features:[h.TTD],decls:8,vars:15,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"network-tips","tips-results"],[4,"ngFor","ngForOf"],["cdkMonitorSubtreeFocus",""],[1,"font-body3","help-links",3,"innerHTML","shortUrl","click"],["fxLayout","row","fxLayoutAlign","start start"],[1,"bullet-unordered-tips","font-body2"],["class","font-body2",4,"ngIf"],["cdkMonitorSubtreeFocus","","class","font-body2",3,"innerHTML",4,"ngIf"],[1,"font-body2"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"]],template:function(M,P){1&M&&(h.TgZ(0,"div",0)(1,"div"),h.YNc(2,R,5,2,"div",1),h.qZA(),h.TgZ(3,"div",2)(4,"span",3),h.NdJ("click",function(){return P.onClickTroubleshoot()}),h.ALo(5,"translate"),h.qZA(),h.TgZ(6,"span",3),h.NdJ("click",function(){return P.onClickTroubleshoot()}),h.ALo(7,"translate"),h.qZA()()()),2&M&&(h.xp6(2),h.Q6J("ngForOf",P.trobleshootTips),h.xp6(2),h.Q6J("innerHTML",h.xi3(5,5,"networkTest.viewMoreTroubleshootTips",h.VKq(11,_,'href="'+P.troubleshootLink+'" class="font-body3-link", target="_blank"')),h.oJD)("shortUrl",P.troubleshootShortUrl),h.xp6(2),h.Q6J("innerHTML",h.xi3(7,8,"networkTest.checkRecommendedRouters",h.VKq(13,b,'href="'+P.routersLink+'" class="font-body3-link"')),h.oJD)("shortUrl",P.routersShortUrl))},dependencies:[w.sg,w.O5,p.xw,p.Wh,V.E,c.p,C.kH,l.X$],styles:['[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.network-tips[_ngcontent-%COMP%]{height:181px;padding:24px;overflow-y:auto}.tips-results[_ngcontent-%COMP%]{background-color:#0000004d}.help-links[_ngcontent-%COMP%]{margin-top:24px}.bullet-unordered-tips[_ngcontent-%COMP%]:before{content:"-"}.isLtr[_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before, .isLtr   [_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before, .isRtl   [_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{--dummy4: 0;margin-left:8px}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.network-tips[_ngcontent-%COMP%]{height:unset;background-color:unset}}.tv-view[_nghost-%COMP%]   .network-tips[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .network-tips[_ngcontent-%COMP%]{height:300px;padding:38px}']}),a})()},31609:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>u});var e=t(26575),i=t(43559),L=t(32995),f=t(91467),x=t(93170),S=t(61699);let u=(()=>{var g;class h{}return(g=h).\u0275fac=function(E){return new(E||g)},g.\u0275mod=S.oAB({type:g}),g.\u0275inj=S.cJS({imports:[e.ez,i.aw,L.o9,f.hp,x.rt]}),h})()},72524:(Dt,ct,t)=>{"use strict";t.d(ct,{C:()=>f});var e=t(61699),i=t(87815),L=t(91467);let f=(()=>{var x;class S{constructor(g,h){var O;this.spatialNavigationService=h,this.agreeButtonClicked=new e.vpe,this.tvMode=!(null==g||null===(O=g.featureEnablement)||void 0===O||!O.tvMode)}ngOnInit(){this.currentSpatialNavigationActivation=this.spatialNavigationService.activated,this.spatialNavigationService.enabled&&!this.currentSpatialNavigationActivation&&(this.spatialNavigationService.activated=!0)}onAgreeButtonClicked(){this.agreeButtonClicked.emit()}ngOnDestroy(){this.spatialNavigationService.activated=this.currentSpatialNavigationActivation}}return(x=S).\u0275fac=function(g){return new(g||x)(e.Y36(i.VK),e.Y36(L.jr))},x.\u0275cmp=e.Xpm({type:x,selectors:[["gfn-oobe"]],outputs:{agreeButtonClicked:"agreeButtonClicked"},decls:2,vars:1,consts:[[1,"oobe-dialog"],[1,"oobe-screen",3,"tvMode","agreeButtonClick"]],template:function(g,h){1&g&&(e.TgZ(0,"div",0)(1,"gfn-oobe-welcome",1),e.NdJ("agreeButtonClick",function(){return h.onAgreeButtonClicked()}),e.qZA()()),2&g&&(e.xp6(1),e.Q6J("tvMode",h.tvMode))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.oobe-dialog[_ngcontent-%COMP%]{width:705px;height:auto;max-height:100vh;-webkit-backface-visibility:hidden;background:#393939}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.oobe-dialog[_ngcontent-%COMP%]{width:100vw;height:100%}}.oobe-screen[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;width:100%;height:100%;padding-top:max(24px,env(safe-area-inset-top));padding-bottom:env(safe-area-inset-bottom);max-width:100vw;max-height:100vh}.isLtr[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-left:max(24px,env(safe-area-inset-left))}html[dir=ltr][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-left:max(24px,env(safe-area-inset-left))}.isRtl[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-right:max(24px,env(safe-area-inset-left))}html[dir=rtl][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-right:max(24px,env(safe-area-inset-left))}.isLtr[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-right:max(24px,env(safe-area-inset-right))}html[dir=ltr][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy2: 0;padding-right:max(24px,env(safe-area-inset-right))}.isRtl[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-left:max(24px,env(safe-area-inset-right))}html[dir=rtl][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy2: 0;padding-left:max(24px,env(safe-area-inset-right))}.tv-view[_nghost-%COMP%]   .oobe-dialog[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .oobe-dialog[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:flex-start}"]}),S})()},91266:(Dt,ct,t)=>{"use strict";t.d(ct,{H:()=>e.H,u:()=>u});var e=t(65094),i=t(65343),L=t(47178),f=t(13963),x=t(61699),S=t(89857);let u=(()=>{var g;class h{constructor(E,w){this.telemetryService=E,this.telemetryUtilService=w,this._oobeCompleted=!1,this.asyncActions={}}set oobeCompleted(E){this._oobeCompleted=E}get oobeCompleted(){return this._oobeCompleted}startActionAsync(E){this.asyncActions[E]={currentScreen:this.telemetryService.getScreen(),startTime:Date.now()}}endActionAsync(E,w,p){if(!(0,L.isNil)(E)&&!(0,L.isNil)(this.asyncActions[E])){const V=this.asyncActions[E];w===i.N3X.AppExit&&this.telemetryService.changeSync(!0);const c=new i.$4G({currentScreen:V.currentScreen,clientType:this.telemetryUtilService.getClientType(),userAction:E,status:w,errorDetails:p||"",totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(c,V.startTime),delete this.asyncActions[E]}}sendOobeAcceptEvent(E,w,p){let V=i._K5.NotShown;w&&(V=p===f.p6.Full?i._K5.UserConsented:i._K5.UserDidNotConsent);const c={currentScreen:this.telemetryService.getScreen(),action:E,technicalConsent:V},C=new i.Wb4(c);this.telemetryService.push(C)}}return(g=h).\u0275fac=function(E){return new(E||g)(x.LFG(S.y0),x.LFG(i.wU6))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),h})()},65094:(Dt,ct,t)=>{"use strict";t.d(ct,{H:()=>M});var e=t(13963),i=t(47178),L=t(49481),f=t(92130),x=t(64555),S=t(9681),u=t(47422),g=t(46939),h=t(680),O=t(87965),E=t(13303),w=t(78943),p=t(87815),V=t(42740),c=t(72524);var o=t(89857),n=t(18288),s=t(61699),R=t(15665),_=t(17401),b=t(53703),I=t(53576),q=t(1498),a=t(63069),y=t(91467);let M=(()=>{var P;class K{constructor(j,tt,ot,F,U,z,Q,dt,X,m,Y,D){var N;this.sharedStorageService=j,this.dialog=tt,this.appConfig=ot,this.systemInfoService=F,this.userConsentService=U,this.localeService=z,this.gfnSdkService=dt,this.guestModeHelperService=X,this.unsupportedBrowserService=m,this.bridgeService=Y,this.focusManager=D,this.oobeDialogRef=null,this.isOobeDialogClosedSubject=new L.t(1),this.isLoginWallEnabled=!1,this.logger=Q.getLogger("OobeService/Logger"),this.tvMode=!(null==ot||null===(N=ot.featureEnablement)||void 0===N||!N.tvMode),this.nativeEulaAcceptedVersion$=this.bridgeService.executeCommand(w.Gh.Common.Consent.getAccepted).pipe((0,u.U)(Z=>Z.value),(0,g.q)(1),(0,h.d)(1)),this.isLoginWallEnabled=this.appConfig.featureEnablement.showLoginWall}initialize(){e.ng.isAndroidPlatform()&&this.bridgeService.executeCommand(w.Gh.Common.Consent.setCurrent,{value:+this.appConfig.oobe.termsOfUseVersion}).subscribe()}get oobeDialogClosedState(){return this.isOobeDialogClosedSubject.asObservable()}get getProductVersion(){return(0,p.sc)(this.appConfig)}get getMinOsVersion(){return this.appConfig.oobe.minMacOsVersion}getOobeDataFromSharedStorage(){return this.sharedStorageService.readBlock("oobe")}loadTermsOfUseAcceptedVersion(){return e.ng.isAndroidPlatform()?this.loadTermsOfUseAcceptedVersionForAndroid():this.getOobeDataFromSharedStorage().pipe((0,u.U)(j=>(null==j?void 0:j.termsOfUseAcceptedVersion)||"0"))}loadTermsOfUseAcceptedVersionForAndroid(){return(0,f.D)({oobeData:this.getOobeDataFromSharedStorage(),nativeEulaAcceptedVersion:this.nativeEulaAcceptedVersion$}).pipe((0,u.U)(j=>{var tt;return Math.max(+(null===(tt=j.oobeData)||void 0===tt?void 0:tt.termsOfUseAcceptedVersion)||0,j.nativeEulaAcceptedVersion||0).toString()}))}isTermsOfUseChangedSinceAccepted(){return this.loadTermsOfUseAcceptedVersion().pipe((0,u.U)(j=>!!(0,i.isNil)(j)||+this.appConfig.oobe.termsOfUseVersion>+j))}saveTermsOfUseAcceptedVersion(){return this.getOobeDataFromSharedStorage().pipe((0,O.zg)(j=>(j.termsOfUseAcceptedVersion=this.appConfig.oobe.termsOfUseVersion,e.ng.isAndroidPlatform()&&this.bridgeService.executeCommand(w.Gh.Common.Consent.setAccepted,{value:+this.appConfig.oobe.termsOfUseVersion}).subscribe(),this.saveOobeDataInSharedStorage(j))))}saveOobeDataInSharedStorage(j){return this.sharedStorageService.writeBlock("oobe",j)}launch(){return(0,f.D)({isEulaChanged:this.isTermsOfUseChangedSinceAccepted(),isAnonUser:this.gfnSdkService.getIsAnonymousUser()}).pipe((0,O.zg)(j=>!j.isEulaChanged&&!j.isAnonUser||this.guestModeHelperService.isGuestMode?(this.isOobeDialogClosedSubject.next(!0),this.isOobeDialogClosedSubject.complete(),this.logger.event("no oobe setDefaultConsentData"),this.userConsentService.setDefaultConsentData(this.guestModeHelperService.isGuestMode?o.$P:o.l3)):(0,x.aj)([this.localeService.layoutDirectionUpdated$,this.unsupportedBrowserService.shouldDisplayPWAGuidance$]).pipe((0,g.q)(1),(0,O.zg)(([tt,ot])=>window.location.hash.includes(n.EM.PlayGame)&&ot||this.isLoginWallEnabled&&ot?(0,S.of)(!1):this.openOobeDialog()))))}openOobeDialog(){if(this.oobeDialogRef)return(0,S.of)(!1);const j={panelClass:"dialogWelcome",disableClose:!0,autoFocus:!1,maxWidth:"100vw"};return this.tvMode&&(j.height="100%"),this.oobeDialogRef=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(c.C,j)),this.oobeDialogRef.componentInstance.agreeButtonClicked.pipe((0,g.q)(1),(0,E.R)(this.oobeDialogRef.afterClosed())).subscribe(tt=>{this.oobeDialogRef.close()}),this.oobeDialogRef.afterClosed().pipe((0,u.U)(()=>(this.oobeDialogRef=null,this.isOobeDialogClosedSubject.next(!0),this.isOobeDialogClosedSubject.complete(),this.logger.info("oobe closed"),!0)))}meetSysRequirements(){return this.systemInfoService.getSystemInfo([e.l7.OSName,e.l7.OSVersion]).pipe((0,u.U)(j=>{if("macOS"===j.OSName){const tt=new V.b(j.OSVersion);let ot;ot=[0,0],!(0,i.isNil)(this.appConfig.oobe)&&!(0,i.isNil)(this.appConfig.oobe.minMacOsVersion)&&(ot=new V.b(this.appConfig.oobe.minMacOsVersion));const F=tt.compare(ot)!==V.A.Greater;return this.logger.info(`system ${F?"meet":"does not meet"} min. OS requirements - your MAC OS version: `,j.OSVersion),F}return!0}))}}return(P=K).\u0275fac=function(j){return new(j||P)(s.LFG(R.OA),s.LFG(_.uw),s.LFG(p.VK),s.LFG(e.Ob),s.LFG(b.Z),s.LFG(e.OL),s.LFG(e.ed),s.LFG(I.s),s.LFG(q.h),s.LFG(a.rH),s.LFG(e.dF),s.LFG(y.IK))},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),K})()},88207:(Dt,ct,t)=>{"use strict";t.d(ct,{lW:()=>e.lW,fF:()=>e.fF,un:()=>p,S8:()=>e.S8,nn:()=>e.nn,zJ:()=>e.zJ,cj:()=>e.cj,n6:()=>e.n6,sv:()=>e.sv,wI:()=>e.wI,MA:()=>e.MA,A8:()=>e.A8,bY:()=>e.bY,IG:()=>e.IG});var e=t(64836),i=t(27947),L=t(85046),f=t(36520),x=t(47422),S=t(46939),u=t(1062),g=t(45083),h=t(61699),O=t(13963),E=t(87815),w=t(55386);let p=(()=>{var V;class c{constructor(l,o,n,s){var R;this.router=n,this.gameShareUrlService=s,this.defaultNavigationBehaviorOptions={},this.logger=l.getLogger("gfn/PathService"),this.defaultNavigationBehaviorOptions.skipLocationChange=!(null===(R=o.client)||void 0===R||!R.skipLocationChange),this.logger.info("Using default navigation options:",this.defaultNavigationBehaviorOptions),this.initNavStartSubscription()}initNavStartSubscription(){this.router.events.pipe((0,L.h)(l=>l instanceof i.OD)).subscribe(l=>{this.currentNavigationStartURL=l.url})}get onExitingStreamer(){return this.router.events.pipe((0,L.h)(l=>l instanceof i.OD&&(0,e.MA)(this.router.url)&&l.url!==e.nn.Base&&!(0,e.MA)(l.url)),(0,f.w)(l=>this.router.events.pipe((0,L.h)(o=>o instanceof i.m2||o instanceof i.Q3||o instanceof i.gk),(0,x.U)(o=>o instanceof i.m2),(0,S.q)(1))))}isRouteActive(l){return this.router.url.startsWith(l)}getRouteActivatedState(l){return this.router.events.pipe((0,L.h)(o=>o instanceof i.m2),(0,x.U)(o=>this.isRouteActive(l)),(0,u.O)(this.isRouteActive(l)),(0,g.x)())}navigateByUrl(l,o){return this.router.navigateByUrl(l,{...this.defaultNavigationBehaviorOptions,...o})}navigate(l,o){return this.router.navigate(l,{...this.defaultNavigationBehaviorOptions,...o})}getStreamerExitUrl(){return this.exitUrl?this.exitUrl:e.nn.DefaultStreamerExitUrl}setStreamerExitUrl(l){this.exitUrl=l||e.nn.DefaultStreamerExitUrl}resetStreamerExitUrl(){this.exitUrl=e.nn.DefaultStreamerExitUrl}getCurrentUrl(){let l;return l=this.gameShareUrlService.getIsAddressbarUrlUpdated()?this.gameShareUrlService.getDeeplinkShareUrl():document.baseURI+this.currentNavigationStartURL,this.logger.info("return URL is ",l,this.gameShareUrlService.getIsAddressbarUrlUpdated()),l}isMallUrl(l){return e.Bi.some(n=>l.startsWith(n))}isMallOrSettingsUrl(l){const o=this.isMallUrl(l),n=e.YZ.some(s=>l.startsWith(s));return o||n}isLayoutUrl(l){return l.startsWith("/layout")}}return(V=c).\u0275fac=function(l){return new(l||V)(h.LFG(O.ed),h.LFG(E.VK),h.LFG(i.F0),h.LFG(w.t))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})()},64836:(Dt,ct,t)=>{"use strict";t.d(ct,{A8:()=>p,Bi:()=>o,GW:()=>C,IG:()=>O,MA:()=>g,S8:()=>S,YZ:()=>n,bY:()=>E,cj:()=>c,fF:()=>x,lW:()=>h,n6:()=>w,nn:()=>f,sv:()=>l,wI:()=>u,zJ:()=>V});var e=t(81351),i=t(24642),L=t(18288),f=function(s){return s.Base="/",s.Home="/layout/games",s.Gallery="/layout/gallery",s.Settings="/layout/settings",s.Surveys="/layout/surveys",s.GamesGrid="/layout/games/gameSectionGrid",s.Deeplink="/deeplink",s.PwaWall="/install",s.DefaultStreamerExitUrl="/layout/games",s.LoginWall="/loginwall",s}(f||{}),x=function(s){return s.Home="layout/games",s.BrowserBookmark="",s.DefaultRedirect="layout/games",s.StreamerRoot="streamer",s.PwaWall="install",s}(x||{}),S=function(s){return s.CmsId="cmsId",s.LaunchSource="launchSource",s.ShortName="shortName",s.AppLaunchMode="appLaunchMode",s.SdkClient="sdkClient",s.ParentGameId="parentGameId",s.AccountLinked="accountLinked",s.CascadePreviewToken="cascadePreviewToken",s.Locale="locale",s.PreviewAtTime="previewAtTime",s}(S||{});function u(s){const R=window.location.href;return g(s)||-1!==R.indexOf("launchSource=External")||-1!==R.indexOf("action=play-game")}function g(s){return s.startsWith(`/${x.StreamerRoot}`)}var h=function(s){return s.Mall="GeForceNOW",s.Streamer="GeForceNOWStreamer",s}(h||{});function O(s){return`/${x.StreamerRoot}?${S.LaunchSource}=${s.launchSource}${s.cmsId?`&${S.CmsId}=${s.cmsId}`:""}${s.shortName?`&${S.ShortName}=${s.shortName}`:""}${s.appLaunchMode?`&${S.AppLaunchMode}=${s.appLaunchMode}`:""}${s.sdkClient?`&${S.SdkClient}=${s.sdkClient}`:""}${s.accountLinked?`&${S.AccountLinked}=true`:""}${s.parentGameId?`&${S.ParentGameId}=${s.parentGameId}`:""}`}function E(s,R=!1){return`${R?window.geForceNowStartLocationOrigin:window.location.origin}${R?window.geForceNowStartLocationPathName:window.location.pathname}#${O(s)}`}function w(s){return(s.has(S.ParentGameId)||s.has(S.CmsId))&&s.has(S.LaunchSource)}function p(s){const R=s.indexOf("?");return V(new URLSearchParams(s.slice(R)))}function V(s){let q,R=0,_="",b=e.zO5.Unknown,I="",a=i.xl.Default,y=!1;if(s.has(S.ParentGameId)&&(_=s.get(S.ParentGameId)),s.has(S.CmsId)&&(R=+s.get(S.CmsId)),s.has(S.AppLaunchMode)){const M=s.get(S.AppLaunchMode);switch(M){case i.xl.GamepadFriendly:case i.xl.TouchFriendly:a=M;break;default:a=i.xl.Default}}if(s.has(S.LaunchSource)){const M=s.get(S.LaunchSource);switch(M){case e.zO5.GeForceNOW:case e.zO5.External:case e.zO5.Deeplink:b=M;break;default:b=e.zO5.Unknown}}return s.has(S.ShortName)&&(I=s.get(S.ShortName)),s.has(S.SdkClient)&&(q=s.get(S.SdkClient)),s.has(S.AccountLinked)&&(y="true"===s.get(S.AccountLinked)),{parentGameId:_,cmsId:R,appLaunchMode:a,launchSource:b,shortName:I,sdkClient:q,accountLinked:y}}function c(s){var R;const _=null===(R=window)||void 0===R?void 0:R.geForceNowStartLocationHref;if((null==_?void 0:_.indexOf("?"))>-1){const b=_.slice(_.indexOf("?"));return new URLSearchParams(b).get(s)||null}return null}function C(s,R,_){const b=new RegExp("([?&])"+R+"=.*?(&|$)","i"),I=-1!==s.indexOf("?")?"&":"?";return s.match(b)?s.replace(b,"$1"+R+"="+_+"$2"):s+I+R+"="+_}function l(){return null!==c(L.uE.Nonce)}const o=[f.Home,f.GamesGrid],n=[f.Settings]},63071:(Dt,ct,t)=>{"use strict";t.d(ct,{uu:()=>Y,qu:()=>i.qu,F0:()=>i.F0,R7:()=>i.R7,PT:()=>N,Il:()=>i.Il,oW:()=>i.oW,Ad:()=>i.Ad,$U:()=>i.$U}),t(71505);var i=t(16159),L=t(64555),f=t(9681),x=t(46939),S=t(85046),u=t(36520),g=t(47422),h=t(58175),O=t(47178),E=t(13963),w=t(65343),p=t(31157),V=t(61699),c=t(26575),C=t(7749),l=t(87815),o=t(45078),n=t(89857),s=t(43444);let R=(()=>{var Z;class W{constructor(d,H,$,J,st){this.serviceWorkerService=H,this.telemetryService=$,this.configuration=J,this.refreshUiService=st,this.logger=d.getLogger("PushNotificationTelemetryService"),this.serviceWorkerService.swPushNotificationTelemetryListener.subscribe(this.onNewTelemetryEvent.bind(this))}sendTokenRegisteredSuccessTelemetry(d){this.fetchFirebaseProjectID().pipe((0,x.q)(1)).subscribe(H=>{this.logger.info("sending Token Registered Success Telemetry"),this.telemetryService.push(this.createPushNotificationTokenRegisteredDef(d,H))},H=>{this.logger.info("Error while fetching firebase Project Id",H),this.telemetryService.push(this.createPushNotificationTokenRegisteredDef(d))})}sendPushNotificationFailureTelemetry(d,H){this.fetchFirebaseProjectID().pipe((0,x.q)(1)).subscribe($=>{this.logger.info("sending Token Failure Telemetry"),this.telemetryService.push(this.createPushNotificationErrorDef(d,H,$))},$=>{this.logger.info("Error while fetching firebase Project Id",$),this.telemetryService.push(this.createPushNotificationErrorDef(d,H))})}sendPushNotificationCleanUpTelemetry(d){this.fetchFirebaseProjectID().pipe((0,x.q)(1)).subscribe(H=>{this.logger.info("sending KV Store CleanUp Telemetry"),this.telemetryService.push(this.createPushNotificationPurgedEntriesDef(d,H))},H=>{this.logger.info("Error while fetching firebase Project Id",H),this.telemetryService.push(this.createPushNotificationPurgedEntriesDef(d))})}fetchFirebaseProjectID(){var d;return this.firebaseProjectId=null===(d=this.configuration)||void 0===d||null===(d=d.firebase)||void 0===d||null===(d=d.pns)||void 0===d?void 0:d.projectId,(0,f.of)(this.firebaseProjectId)}onNewTelemetryEvent(d){if(this.logger.info("Telemetry message recieved from SW",d),(null==d?void 0:d.type)===o.rL.PushNotificationTelemetry&&null!=d&&d.content){const Nt=JSON.parse(null==d?void 0:d.content);if(this.logger.info("Telemetry Message Type is: ",null==Nt?void 0:Nt.type),(null==Nt?void 0:Nt.type)===o.nz.PushNotificationReceived){var H,$,J,st,lt,gt,vt,k,pt,yt;const le=new w.xNG({requestId:null!==(H=null==Nt||null===($=Nt.data)||void 0===$?void 0:$.requestId)&&void 0!==H?H:"",projectId:null!==(J=null==Nt||null===(st=Nt.data)||void 0===st?void 0:st.projectId)&&void 0!==J?J:"",sentTs:null!==(lt=null==Nt||null===(gt=Nt.data)||void 0===gt?void 0:gt.sentTs)&&void 0!==lt?lt:0,ttl:null!==(vt=null==Nt||null===(k=Nt.data)||void 0===k?void 0:k.ttl)&&void 0!==vt?vt:0,type:null!==(pt=null==Nt||null===(yt=Nt.data)||void 0===yt?void 0:yt.type)&&void 0!==pt?pt:w.nfD.UNKNOWN});this.telemetryService.push(le)}else if((null==Nt?void 0:Nt.type)===o.nz.PushNotificationError){var Xt,It;this.sendPushNotificationFailureTelemetry(null==Nt||null===(Xt=Nt.data)||void 0===Xt?void 0:Xt.errorDetails,null==Nt||null===(It=Nt.data)||void 0===It?void 0:It.errorCategory)}}}createPushNotificationErrorDef(d,H,$){return new w.TK_({errorDetails:null!=d?d:"",errorCategory:null!=H?H:w.F9b.GENERAL,projectId:null!=$?$:""})}createPushNotificationTokenRegisteredDef(d,H){return new w.iB_({registrationProvider:d,projectId:null!=H?H:""})}createPushNotificationPurgedEntriesDef(d,H){return new w.GtW({deviceIds:d,projectId:null!=H?H:""})}}return(Z=W).\u0275fac=function(d){return new(d||Z)(V.LFG(E.ed),V.LFG(o.HR),V.LFG(n.y0),V.LFG(l.VK),V.LFG(s.eP))},Z.\u0275prov=V.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})();var _=t(97424),b=t(95432),I=t(15665);let y=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt,vt,k,pt){this.datePipe=H,this.idmService=$,this.systemInfoService=J,this.configuration=st,this.distributedTracingUtilService=lt,this.pushNotificationTelemetryService=gt,this.clientHeadersService=vt,this.pnsEndpointSdk=k,this.sharedStorage=pt,this.browserProviderId=5,this.client="client_",this.uniqueClientsKey="client_unique_ids",this.dateFormat="yyyy-MM-dd HH:mm:ss +zzzz",this.logger=d.getLogger("PushNotificationRegistationService"),this.commonHeaders$=this.clientHeadersService.getCommonHeaders().pipe((0,x.q)(1))}registerDeviceForPns(d,H){return this.idmService.accountStatusChanged.pipe((0,x.q)(1),(0,S.h)($=>$.isAuthenticated),(0,u.w)($=>(0,L.aj)([(0,f.of)($),this.idmService.getAuthToken(!1),this.commonHeaders$,this.systemInfoService.getSystemInfo([E.l7.DeviceId])])),(0,u.w)(([$,J,st,lt])=>(this.commonHeaders=Object.assign({},{...st,Authorization:`GFNJWT ${J.token}`}),this.cachedPnsData=Object.assign({},{fcmToken:d,authToken:J.token}),this.pnsEndpointSdk.pnsRegister({registrationToken:d,deviceId:lt.DeviceId},this.commonHeaders,H))),(0,g.U)($=>(this.logger.info("PNS registration response: ",$),this.pushNotificationTelemetryService.sendTokenRegisteredSuccessTelemetry(w.att.PNS),!0)),(0,h.K)($=>{var J;return this.logger.error("Error registering device with PNS: ",$),this.pushNotificationTelemetryService.sendPushNotificationFailureTelemetry(JSON.stringify(null!==(J=null==$?void 0:$.status)&&void 0!==J?J:$),w.F9b.DEVICE_REGISTRATION),H&&(this.distributedTracingUtilService.setSpanAttribute(H,p.NI.ErrorDetails,"Error registering device with PNS"),this.distributedTracingUtilService.closeSpan(H)),(0,f.of)(!1)}))}unregisterFromPns(d=!0){d&&(this.logger.info("Unregister from PNS on user logout."),this.callUnregister())}callUnregister(d){var H;const $=this.distributedTracingUtilService.startSpan(p.j1.PnsUnregister);var st,lt;this.commonHeaders=(0,O.merge)(this.commonHeaders,this.pnsEndpointSdk.getCommonHeaders()),null!==(H=this.cachedPnsData)&&void 0!==H&&H.fcmToken||d?fetch(this.pnsEndpointSdk.generateUrl("unregister"),{method:"POST",body:JSON.stringify({previousRegistrationTokens:[null!==(st=null===(lt=this.cachedPnsData)||void 0===lt?void 0:lt.fcmToken)&&void 0!==st?st:d]}),headers:this.commonHeaders,keepalive:!0}).then(gt=>{this.distributedTracingUtilService.closeSpan($),this.logger.info("Unregister Fetch api call response: ",gt.status),204===gt.status&&this.sharedStorage.removeBlock("pnsFcmToken").subscribe()}).catch(gt=>{this.distributedTracingUtilService.setSpanAttribute($,p.NI.ErrorDetails,"Error unregistering device from PNS"),this.distributedTracingUtilService.closeSpan($),this.logger.error("Unregister Fetch api call failed: ",gt)}):this.logger.error("FCM token was not found, not calling unregister api")}}return(Z=W).\u0275fac=function(d){return new(d||Z)(V.LFG(E.ed),V.LFG(c.uU),V.LFG(C.No),V.LFG(E.Ob),V.LFG(l.VK),V.LFG(p.Dc),V.LFG(R),V.LFG(_.x5),V.LFG(b.o_),V.LFG(I.OA))},Z.\u0275prov=V.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})();var M=t(49481),P=t(38096),K=t(680),B=t(23675),j=t(87965),tt=t(90786),ot=t(15746),F=t(47927),U=t(21120),z=t(3310),Q=t(59074),dt=t(43559),X=t(32392),m=t(1498);let Y=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt){this.configuration=H,this.idmService=$,this.serviceWorkerService=J,this.experienceControl=st,this.localeService=lt,this.snackbar=gt,this.translateService=vt,this.projectInterfaceService=k,this.guestModeHelperService=pt,this.distributedTracingUtilService=yt,this.pushNotificationRegistationService=Xt,this.throttleTime=2e4,this.snackBarDuration=7e3,this.permissionRequestTracker=new M.t(1),this.permissionToastDismissTracker=new M.t(1),this.logger=d.getLogger("BrowserPushNotificationService"),this.firebaseStatusToSpanName=new Map,this.projectInterfaceService.setNotificationAllowedCallBack(this.isNotificationAllowed.bind(this))}init(){this.pushNotificationConfiguration$=this.fetchPushNotificationConfig().pipe((0,K.d)(1)),this.registerDeviceForPushNotifications().subscribe(d=>{d?this.logger.info("Device Registration is Sucessful"):this.logger.error("Error while Registering the Device")}),this.initializePushNotifications().subscribe(d=>{d&&this.logger.info("Push Notification is Sucessfully initiated for permission = granted users")}),this.initializePushNotificationKBAUrl(),this.listenToTracingEventsFromServiceWorker(),this.unregisterFromPnsOnUserLogout()}get pushNotificationKBAUrl(){return this.pushNotificationUrl}requestPermissionForPushNotification(){this.setPermissionRequested(),Notification.requestPermission().then(d=>{d===i.Ad.Granted?(this.logger.info("Browser Push Notification Permissions are Success"),this.showSuccessMessage(),this.initialize().subscribe(H=>{this.logger.info("Push Notification initialization is Success",H)})):d===i.Ad.Denied?(this.logger.info("Browser Push Notification Permissions are denied"),this.showSnackBarWithKBA()):this.logger.info(d===i.Ad.Default?"User has closed the Dialog without granting / denying the permissions":"Something unexpected happened, please check further logs")})}initialize(){return this.logger.info("initialize() is called"),this.isNotificationSupported()&&!this.registrationInProgress?(this.registrationInProgress=!0,(0,L.aj)([this.pushNotificationConfiguration$,this.idmService.accountStatusChanged]).pipe((0,B.p)(this.throttleTime),(0,j.zg)(([d,H])=>{if(d&&H.isAuthenticated){var $;this.parentSpan=this.distributedTracingUtilService.startSpan(p.j1.PushNotificationRegistration);const J=JSON.stringify(null===($=this.configuration)||void 0===$||null===($=$.firebase)||void 0===$?void 0:$.pns);return this.logger.info("Push Notification Settings are fetched; Sending Push Notification Settings to SW: ",J),this.serviceWorkerService.postMessageSw({type:o.rL.PushNotification,content:J}),this.registrationInProgress=!1,(0,f.of)(!0)}return this.logger.info("Push Notifications are not Supported for logged out users"),this.registrationInProgress=!1,(0,f.of)(!1)}))):(this.logger.info("Push Notifications are not Supported"),(0,f.of)(!1))}setPermissionToastDismissed(){this.permissionToastDismissTracker.next(!1)}setPermissionRequested(){this.permissionRequestTracker.next(!0)}willBeEnabledOnStreamStart(){return this.isNotificationAllowed().pipe((0,j.zg)(d=>d&&Notification.permission!==i.Ad.Granted&&Notification.permission!==i.Ad.Denied?(0,P.S3)(this.permissionRequestTracker.asObservable(),this.permissionToastDismissTracker.asObservable()).pipe((0,x.q)(1),(0,tt.x)(()=>{this.permissionRequestTracker.complete(),this.permissionRequestTracker=new M.t(1),this.permissionToastDismissTracker.complete(),this.permissionToastDismissTracker=new M.t(1)})):(0,f.of)(!1)))}showSuccessMessage(){this.translateService.get("notification.notificationSuccessMessage").pipe((0,x.q)(1)).subscribe(H=>this.snackbar.open(H,"",{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}),H=>{this.logger.info("Error getting the toast message",H)})}showSnackBarWithKBA(){(0,L.aj)([this.translateService.get("common.learnMore"),this.translateService.get("notification.notificationBlockMessage")]).pipe((0,g.U)(([$,J])=>{this.snackbar.open(J,$,{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}).onAction().subscribe(st=>window.open(this.pushNotificationKBAUrl))})).subscribe(()=>this.logger.info("show Snack Bar With KBA is success"),$=>this.logger.error("Error while showing snackbar wirh KBAs",$))}initializePushNotificationKBAUrl(){const d=this.configuration.redirect.serverUrl,H=U.qBq.GFN_PC_BROWSER_PUSH_NOTIFICATION;this.localeService.localeChanged.subscribe($=>{this.pushNotificationUrl=`${d}${$}&page=${H}`},$=>{this.logger.error("Some error occured while fetching locale for push Notification KBAUrl",$)})}initializePushNotifications(){if(this.logger.info("Initialising Push Notifications on Refresh"),this.isNotificationSupported()){if(Notification.permission===i.Ad.Granted)return this.logger.info("Permission is granted"),this.initialize();Notification.permission===i.Ad.Denied?this.logger.info("Permission is denied"):Notification.permission===i.Ad.Default&&this.logger.info("Permission is set to default")}return(0,f.of)(!1)}isNotificationAllowed(){return!this.isNotificationSupported()||this.guestModeHelperService.isGuestMode?(0,f.of)(!1):this.pushNotificationConfiguration$.pipe((0,x.q)(1))}registerDeviceForPushNotifications(){return this.serviceWorkerService.swPushNotificationListener.pipe((0,j.zg)(d=>(null==d?void 0:d.type)===o.rL.PushNotification?(this.registrationInProgress=!0,this.logger.info("message recieved from Service Worker, updating the KV Store",null==d?void 0:d.content),this.pushNotificationRegistationService.registerDeviceForPns(d.content,this.parentSpan)):(0,f.of)(!1)),(0,j.zg)(d=>d?(this.logger.info("PNS registration response: ",d),this.registrationInProgress=!1,this.parentSpan&&(this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,p.NI.Error,!1),this.distributedTracingUtilService.closeSpan(this.parentSpan)),(0,f.of)(!0)):(0,f.of)(!1)),(0,h.K)(d=>(this.logger.error("Error registering device with PNS: ",d),this.registrationInProgress=!1,(0,f.of)(!1))))}unregisterFromPnsOnUserLogout(){this.idmService.sameTabAuthStarted().pipe((0,ot.b)(d=>{d===z.fH.LogoutStarted&&this.pushNotificationRegistationService.unregisterFromPns()})).subscribe()}listenToTracingEventsFromServiceWorker(){this.serviceWorkerService.swPushNotificationTracingListener.pipe((0,g.U)(d=>{if((null==d?void 0:d.type)===o.rL.PushNotificationTracing){this.logger.info("message recieved from Service Worker, updating open traceing flow",null==d?void 0:d.content);const H=JSON.parse(null==d?void 0:d.content);if(null!=H&&H.start){const $=this.distributedTracingUtilService.startSpan(H.spanName,this.parentSpan);this.firebaseStatusToSpanName.set(H.spanName,$)}else{const $=this.firebaseStatusToSpanName.get(H.spanName);$&&(this.logger.info("Closing the Span. Span is open for ",H.spanName),this.distributedTracingUtilService.setSpanAttribute($,p.NI.Error,H.error),this.distributedTracingUtilService.closeSpan($),H.error&&(this.logger.info("Error is received with Close Span Event"),this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,p.NI.ErrorDetails,"Unexpected Error with FCM"),this.distributedTracingUtilService.closeSpan(this.parentSpan)))}return!0}return!1}),(0,h.K)(d=>(this.logger.error("Some error occured while listening to Span Events from SW",d),this.parentSpan&&(this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,p.NI.ErrorDetails,"Error while listening to Child Span Events from SW"),this.distributedTracingUtilService.closeSpan(this.parentSpan)),(0,f.of)(!1)))).subscribe(d=>{d?this.logger.info("Child Span is received from SW"):this.logger.error("Error while updating Firebase Spans from SW")})}isNotificationSupported(){return"Notification"in window}fetchPushNotificationConfig(){return this.experienceControl.getCloudVariable(this.configuration.gxTarget.experiences.enableBrowserPushNotification,{},{useCache:!1},F.Z4.GxTargetGetCloudVariable,F.Qu.GxTargetGetKBLayoutsConfig).pipe((0,g.U)(d=>d.value.enableBrowserPushNotifications),(0,h.K)(d=>(this.logger.error("Failed to resolve gx-target cloud variable:",d),(0,f.of)(!1))))}}return(Z=W).\u0275fac=function(d){return new(d||Z)(V.LFG(E.ed),V.LFG(l.VK),V.LFG(C.No),V.LFG(o.HR),V.LFG(F.Q6),V.LFG(E.OL),V.LFG(Q.pl),V.LFG(dt.sK),V.LFG(X.m3),V.LFG(m.h),V.LFG(p.Dc),V.LFG(y))},Z.\u0275prov=V.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})();var D=t(78943);let N=(()=>{var Z;class W{constructor(d,H,$,J,st,lt){this.translateService=H,this.localeService=$,this.bridgeService=J,this.guestModeHelperService=st,this.audioPlayService=lt,this.logger=d.getLogger("BrowserNotificationUiService")}show(d){if(!this.guestModeHelperService.isGuestMode&&E.ng.isBrowserPlatform()){this.logger.verbose("inside show method");const H=this.getTitleAndBodyMessage(d),$={title:H.title,body:H.body,language:this.localeService.getLocale(),direction:this.localeService.isRTLLocale(this.localeService.getLocale())?"rtl":"ltr",tag:d.notificationId,silent:!0};this.bridgeService.executeCommand(D.Gh.Common.Clientnotification.ShowClientNotifications,$).subscribe(J=>{if(J===D.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success){this.logger.info("Notifications are sent to Framework");const st=d.notificationType;(st===U.$Uz.RigIsReady||st===U.$Uz.CountdownTimerBegins)&&this.audioPlayService.playAudio(U.N0y.RigReadyAndStreamerIdleTimeout.type,st)}else this.logger.info("Notifications are not sent. Result is ",J)})}}deleteNotification(d){E.ng.isBrowserPlatform()&&this.bridgeService.executeCommand(D.Gh.Common.Clientnotification.DeleteNotification,{uniqueId:d}).subscribe(H=>{H===D.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success?this.logger.info("Notifications is deleted from Notification Center"):this.logger.info("Notifications clear request is not executed. Result is",H)})}clearNotificationsQueue(){E.ng.isBrowserPlatform()&&this.bridgeService.executeCommand(D.Gh.Common.Clientnotification.ClearNotificationsQueue,{clear:!0}).subscribe(d=>{d===D.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success?this.logger.info("Notification Centre is cleared"):this.logger.info("Notifications Centre clear request is not executed. Result is ",d)})}getTitleAndBodyMessage(d){const H=U.R76.get(d.notificationType);let $="";return $=d.notificationType===U.$Uz.CountdownTimerBegins?this.translateService.instant(H.title,{timeLeft:d.countdownTime}):this.translateService.instant(H.title),{title:$,body:this.translateService.instant(H.body)}}}return(Z=W).\u0275fac=function(d){return new(d||Z)(V.LFG(E.ed),V.LFG(dt.sK),V.LFG(E.OL),V.LFG(E.dF),V.LFG(m.h),V.LFG(E.P))},Z.\u0275prov=V.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})()},71505:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>h});var e=t(32484),i=t(61679),L=t(16159),f=t(77869),x=t(31157),S=t(61699),u=t(13963),g=t(93005);let h=(()=>{var O;class E{constructor(p,V,c){this.distributedTracingUtilService=c,this.messageTypeObservableMap=new Map,this.routePushNotification=C=>{C&&C.messageType?this.messageTypeObservableMap[C.messageType]&&this.messageTypeObservableMap[C.messageType].forEach(l=>{this.logger.info("routing push notification for ",C.messageType),this.logger.trace(f.y$.PushNotification,"Received push notification for",L.oW[C.messageType]),l.next(C)}):this.logger.error("Invalid content received: ",C)},this.logger=p.getLogger("PushNotificationService"),V.get$(i.oI.PushNotification).subscribe(C=>{try{const o=JSON.parse(C).data;o||this.logger.error("Push notification data received is: ",o);const n={messageType:JSON.parse(null==o?void 0:o.messageType)},s={};if(null!=o&&o.requestMetaData){var l;const _=JSON.parse(o.requestMetaData);null==_||null===(l=_.traceContext)||void 0===l||l.forEach(b=>{s[b.key]=b.value})}const R=this.distributedTracingUtilService.startSpanUsingContext(x.j1.PushMessageReceived,s);this.distributedTracingUtilService.setSpanAttributes(R,{[x.NI.PushMessageType]:null==n?void 0:n.messageType}),this.distributedTracingUtilService.closeSpan(R),null!=o&&o.regionIdType&&(n.regionIdType=JSON.parse(o.regionIdType)),null!=o&&o.regionIds&&(n.regionIds=JSON.parse(o.regionIds)),null!=o&&o.changeIdType&&(n.changeIdType=JSON.parse(o.changeIdType)),null!=o&&o.changedIds&&(n.changedIds=JSON.parse(o.changedIds)),null!=o&&o.sessionInfo&&(n.sessionInfo=JSON.parse(o.sessionInfo)),null!=o&&o.patchingInfo&&(n.patchingInfo=JSON.parse(o.patchingInfo)),null!=o&&o.accountLinkedInfo&&(n.accountLinkedInfo=JSON.parse(o.accountLinkedInfo)),null!=o&&o.campaignInfo&&(n.campaignInfo=JSON.parse(o.campaignInfo)),null!=o&&o.platformSyncInfo&&(n.platformSyncInfo=JSON.parse(o.platformSyncInfo)),this.routePushNotification(n)}catch(o){this.logger.error("Error while parsing push notification",o)}})}registerPushNotification(p){this.logger.info("registerPushNotification map: ",p),this.messageTypeObservableMap[p]||(this.messageTypeObservableMap[p]=[]);const V=new e.xQ;return this.messageTypeObservableMap[p].push(V),V.asObservable()}}return(O=E).\u0275fac=function(p){return new(p||O)(S.LFG(u.ed),S.LFG(g.uC),S.LFG(x.Dc))},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},16159:(Dt,ct,t)=>{"use strict";t.d(ct,{$U:()=>i,Ad:()=>e,F0:()=>g,Il:()=>x,JK:()=>u,R7:()=>h,oW:()=>L,qu:()=>S});var e=function(E){return E.Granted="granted",E.Denied="denied",E.Default="default",E}(e||{}),i=function(E){return E.RigIsReady="RigIsReady",E.CountdownTimerBegins="CountdownTimerBegins",E.GracePeriodStart="GracePeriodStart",E}(i||{}),L=function(E){return E.UNKNOWN="UNKNOWN",E.SESSION_CHANGE="SESSION_CHANGE",E.APP_CHANGE="APP_CHANGE",E.PRODUCT_CHANGE="PRODUCT_CHANGE",E.SUBSCRIPTION_CHANGE="SUBSCRIPTION_CHANGE",E.ASSET_CHANGE="ASSET_CHANGE",E.GSWS_SYNC="GSWS_SYNC",E.SERVER_INFO_SYNC="SERVER_INFO_SYNC",E.CONFIGURATION_CHANGE="CONFIGURATION_CHANGE",E.LAYOUT_CHANGE="LAYOUT_CHANGE",E.SECTION_CHANGE="SECTION_CHANGE",E.LINKEDACCOUNT_CHANGE="LINKEDACCOUNT_CHANGE",E.PATCHING_EVENT="PATCHING_EVENT",E.LIBRARY_CHANGE="LIBRARY_CHANGE",E.KV_STORE_CHANGE="KV_STORE_CHANGE",E.PLATFORM_SYNC_CHANGE="PLATFORM_SYNC_CHANGE",E.CAMPAIGN_CHANGE="CAMPAIGN_CHANGE",E.FAVORITES_CHANGE="FAVORITES_CHANGE",E}(L||{}),x=function(E){return E.UNKNOWN="UNKNOWN",E.SERVER_MAINTENANCE_STARTED="SERVER_MAINTENANCE_STARTED",E.SERVE_MAINTENANCE_COMPLETED="SERVE_MAINTENANCE_COMPLETED",E.PATCHING_STARTED="PATCHING_STARTED",E.PATCHING_COMPLETED="PATCHING_COMPLETED",E}(x||{}),S=function(E){return E.UNKNOWN="UNKNOWN",E.CAMPAIGN_SCHEDULED="CAMPAIGN_SCHEDULED",E.CAMPAIGN_START="CAMPAIGN_START",E.CAMPAIGN_COMPLETE="CAMPAIGN_COMPLETE",E.CAMPAIGN_CANCELED="CAMPAIGN_CANCELED",E}(S||{}),u=function(E){return E.REGION="REGION",E.VPC="VPC",E}(u||{}),g=function(E){return E.APPID="APPID",E.CMSID="CMSID",E.PANEL="PANEL",E}(g||{});const h=new Map([[i.CountdownTimerBegins,{title:"notification.CountdownTimerBegins",body:"notification.body"}],[i.RigIsReady,{title:"notification.RigIsReady",body:"notification.body"}],[i.GracePeriodStart,{title:"notification.opportunity.queuePaused",body:"notification.opportunity.stayInQueue"}]])},12878:(Dt,ct,t)=>{"use strict";t.d(ct,{UJ:()=>n,nG:()=>l});var e=t(13963),i=t(9681),L=t(73992),f=t(85046),x=t(47422),S=t(1062),u=t(45083),g=t(680),h=t(87965),O=t(99901),E=function(s){return s.CacheName="offlineStore",s.DBKey="hitOfflineState",s}(E||{}),V=t(61699),c=t(39743);const C=s=>`(display-mode: ${s})`;let l=(()=>{var s;class R{constructor(b,I,q,a){this.dbService=I,this.dbCacheService=q,this.breakpointObserver=a,this.logger=b.getLogger("gfn-shared/PWAService"),this.isInPWAMode$=void 0!==window.navigator.standalone?(0,i.of)(window.navigator.standalone):(0,L.$R)(a.observe(C("standalone")),a.observe(C("browser"))).pipe((0,f.h)(([y,M])=>y.matches||M.matches),(0,x.U)(([y,M])=>y.matches||this.isInPWAMode()),(0,S.O)(this.isInPWAMode()),(0,u.x)(),(0,g.d)({bufferSize:1,refCount:!0}))}isInPWAMode(){return window.navigator.standalone||e.ng.isPWAModeOnLGTV()||e.ng.isPWAModeOnSamsungTV()||this.breakpointObserver.isMatched(C("standalone"))}get onPWAModeChange(){return this.isInPWAMode$}initialize(){this.logger.info("initialising Offline Datastore"),this.dbCacheService.getOrCreateCachedGlobalItem(E.CacheName,E.DBKey).sync_().subscribe()}checkForOfflineLaunch(){return this.dbService.getGlobalStore(E.CacheName).length().pipe((0,h.zg)(b=>b>0?(this.logger.info("offlineStoreValue is present in database"),this.dbService.getGlobalStore(E.CacheName).clear().pipe((0,O.h)(!0))):(this.logger.info("offlineStoreValue is not present in database"),(0,i.of)(!1))))}}return(s=R).\u0275fac=function(b){return new(b||s)(V.LFG(e.ed),V.LFG(e.MC),V.LFG(e.LA),V.LFG(c.Yg))},s.\u0275prov=V.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),R})();var o=t(49481);let n=(()=>{var s;class R{constructor(b){this.pwaInstallPromptEvent=null,this.pwaInstallPromptCaptured=new o.t(1),this.logger=b.getLogger("gfn-shared/PWAPromptService")}get pwaInstallPromptCaptured$(){return this.pwaInstallPromptCaptured.asObservable()}setDeferredPromptEvent(b){this.pwaInstallPromptEvent=b,this.logger.info("PWA event captured",b),this.pwaInstallPromptCaptured.next()}promptFromDeferredEvent(){this.logger.info("PWA event requested"),this.pwaInstallPromptEvent?(this.pwaInstallPromptEvent.prompt(),this.pwaInstallPromptEvent=null):this.logger.info("No PWA beforeinstallprompt event was captured")}}return(s=R).\u0275fac=function(b){return new(b||s)(V.LFG(e.ed))},s.\u0275prov=V.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),R})()},89129:(Dt,ct,t)=>{"use strict";t.d(ct,{PY:()=>i.PY,VH:()=>e.V,hD:()=>i.hD,hE:()=>i.hE});var e=t(30427),i=t(88589)},30427:(Dt,ct,t)=>{"use strict";t.d(ct,{V:()=>u});var e=t(46939),i=t(47422),L=t(88589),f=t(61699),x=t(13963),S=t(79565);let u=(()=>{var g;class h{constructor(E,w,p){this.localeService=w,this.offDeviceLinkService=p,this.logger=E.getLogger("gfn/RedirectService")}handleUnsupportedAndroidPlatform(){this.redirectTo(L.hE.GfnPcUnsupportedDeviceAndroid,{replace:!0})}handleUnsupportedBrowser(){this.redirectTo(L.hE.GfnPcUnsupportedDevice,{replace:!0,jso:{Plt:L.PY.Browser}})}redirectTo(E,w){this.getRedirectUrl(E,null==w?void 0:w.jso).subscribe(p=>{this.logger.info("Redirecting to",p),null!=w&&w.replace?window.location.replace(p):window.location.href=p})}redirectToExternalUrl(E,w){null!=w&&w.replace?window.location.replace(E):window.location.href=E}getRedirectUrl(E,w){return this.localeService.localeChanged.pipe((0,e.q)(1)).pipe((0,i.U)(p=>{let V=`${L.hE.BaseUrl}${p}&page=${E}`;return w&&(V+=`&jso=${window.btoa(JSON.stringify(w))}`),V}))}openRedirectUrl(E,w){this.logger.info("Support Url clicked for: ",E,w);const p=w?{shortUrl:w}:void 0;this.getRedirectUrl(E).pipe((0,e.q)(1)).subscribe(V=>{this.offDeviceLinkService.open(V,p)})}}return(g=h).\u0275fac=function(E){return new(E||g)(f.LFG(x.ed),f.LFG(x.OL),f.LFG(S.q))},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),h})()},88589:(Dt,ct,t)=>{"use strict";t.d(ct,{PY:()=>e,hD:()=>L,hE:()=>i});var e=function(f){return f.PC="pc",f.Mac="mac",f.Browser="browser",f}(e||{}),i=function(f){return f.BaseUrl="https://www.nvidia.com/content/drivers/redirect.asp?language=",f.NetworkTroubleshoot="gfn_pc_net_help",f.RecommendedRoutersProductPage="gfn_pc_recommended_routers_product_page",f.GfnPcInfo="gfn_pc_info",f.GfnPcHelp="gfn_pc_help",f.TermsConditions="gfn_pc_terms_of_use",f.AccountTerms="nvidia_account_tos",f.OssLicenses="gfn_pc_oss",f.PrivacyPolicy="privacy_policy",f.PrivacyCenter="privacy_portal",f.AccountManagement="nvidia_account_management",f.SysRequirements="gfn_pc_sys_req",f.UdpBufferTips="gfn_pc_net_help_udp_socket",f.GfnPcUnSupportedRegion="gfn_pc_unsupported_region",f.GfnPcUnsupportedDevice="gfn_pc_unsupported_device",f.GfnPcUnsupportedDeviceAndroid="gfn_pc_unsupported_device_android",f.GfnPcUnsupportedBrowser="gfn_pc_unsupported_browser",f.GfnPcNetHelpFirewall="gfn_pc_net_help_firewall",f.GfnPcNetHelpWifi="gfn_pc_net_help_wifi",f.GfnPcHelpUpdate="gfn_pc_help_update",f.GfnPcHelpMissingDecoder="gfn_pc_help_missing_decoder",f.GfnServerStatus="gfn_pc_status",f.GfnPcDirectMouseInputHelp="gfn_pc_direct_mouse_input_help",f.CookiePolicy="nvidia_cookie_policy",f.GfnPcRecommendedGamepads="gfn_pc_recommended_gamepads",f.GfnAccountManagementSSO="nvidia_account_management_default",f.GfnAccountManagement="nvidia_account_management_gfn",f.GfnPcMembershipJoin="gfn_pc_membership",f.GfnPcMembershipUpgrade="gfn_pc_membership_upgrade",f.GfnPcMembershipDayPass="gfn_pc_membership_daypass",f.GfnPcCheckoutDayPass="gfn_pc_checkout_daypass",f.GfnPcRedeemActivationCode="gfn_pc_redeem_activation_code",f.GfnPcHelpKeyboardGamesUnavailable="gfn_pc_help_keyboard_games_unavailable",f.GfnPcHelpTvGamepadOnly="gfn_pc_help_tv_gamepad_only",f.GfnPcWaitList="gfn_pc_waitlist",f.GfnPcAccountNotActivated="gfn_pc_account_not_activated",f.GfnPcKeyboardTroubleshooting="gfn_pc_keyboard_troubleshooting",f.GfnPcCustomProfileLearnMore="gfn_pc_custom_profile_learn_more",f.GfnPcResolutionProfileUpscalingLearnMore="gfn_pc_resolution_upscaling_learn_more",f.GfnPcHdrUnsupportedSystemsLearnMore="gfn_pc_hdr_unsupported_systems_learn_more",f.GfnPcUnsupportedResolutionsLearnMore="gfn_pc_unsupported_resolutions_learn_more",f.GfnPcUnsupportedReflexLearnMore="gfn_pc_unsupported_reflex_learn_more",f.GfnPcHelpConnections="gfn_pc_help_connections",f.GfnPcOpportunityBlockerLearnMore="gfn_pc_ad_blocker_learn_more",f.GdnHomePage="gdn_home_page",f.GdnInvalidDeeplink="gdn_invalid_deeplink",f.GfnPcUdsLearnMore="gfn_pc_uds_learn_more",f.GfnPcAddPlaytime="gfn_pc_checkout_playtime",f.GfnPcViewPlaytime="nvidia_account_management_gfn_playsummary",f.GfnPcHowPlaytimeWorks="gfn_pc_help_playtime",f.GfnPcLimitedFeaturesGamePlay="gfn_pc_help_playtime_limited_features",f.GfnPcSafariBrowserLearnMore="gfn_pc_safari_browser_learn_more",f.GfnPcCloudGsyncLearnMore="gfn_pc_cloud_gsync_learn_more",f.GfnPcl4sLearnMore="gfn_pc_l4s_learn_more",f.GfnPcBrowserPushNotification="gfn_pc_help_browser_push_notification",f.GfnPcDownload="gfn_pc_download",f}(i||{});const L={[i.PrivacyPolicy]:"nvidia.com/privacy",[i.PrivacyCenter]:"nvidia.com/privacy-center",[i.CookiePolicy]:"nvidia.com/cookies",[i.TermsConditions]:"nvidia.com/geforcenow/termsofuse",[i.AccountTerms]:"nvidia.com/account/terms",[i.OssLicenses]:"nvidia.com/geforcenow/oss",[i.GfnPcRecommendedGamepads]:"nvidia.com/gfngamepads",[i.GfnAccountManagement]:"nvidia.com/account/gfn",[i.GfnAccountManagementSSO]:"account.nvidia.com",[i.GfnPcMembershipJoin]:"nvidia.com/gfn/membership",[i.GfnPcMembershipUpgrade]:"nvidia.com/gfn/upgrade",[i.GfnPcMembershipDayPass]:"nvidia.com/gfn/daypassmembership",[i.GfnPcCheckoutDayPass]:"nvidia.com/gfn/daypasscheckout",[i.GfnPcRedeemActivationCode]:"nvidia.com/gfn/activate",[i.GfnServerStatus]:"gfn.link/status",[i.GfnPcHelpTvGamepadOnly]:"geforcenow.com/help/gamepadonly",[i.UdpBufferTips]:"geforcenow.com/help/udp",[i.GfnPcNetHelpFirewall]:"geforcenow.com/help/firewall",[i.GfnPcNetHelpWifi]:"geforcenow.com/help/wifi",[i.GfnPcHelpUpdate]:"geforcenow.com/help/update",[i.GfnPcUnSupportedRegion]:"nvidia.com/geforcenow/availability",[i.GfnPcHelpMissingDecoder]:"geforcenow.com/help/decoder",[i.GfnPcWaitList]:"nvidia.com/geforcenow/waitlist",[i.RecommendedRoutersProductPage]:"geforcenow.com/routers",[i.NetworkTroubleshoot]:"nvidia.com/geforcenow/help/network",[i.GfnPcKeyboardTroubleshooting]:"geforcenow.com/help/keyboard",[i.GfnPcUnsupportedDevice]:"geforcenow.com/unsupported-device",[i.GfnPcUnsupportedBrowser]:"geforcenow.com/unsupported-browser",[i.GfnPcCustomProfileLearnMore]:"geforcenow.com/help/custom-settings",[i.GfnPcUnsupportedResolutionsLearnMore]:"geforcenow.com/help/unsupported-resolutions",[i.GfnPcHelpConnections]:"geforcenow.com/help/connections",[i.GfnPcOpportunityBlockerLearnMore]:"geforcenow.com/help/adblocker",[i.GfnPcAddPlaytime]:"geforcenow.com/addplaytime",[i.GfnPcViewPlaytime]:"nvidia.com/account/gfnplaytime",[i.GfnPcHowPlaytimeWorks]:"geforcenow.com/help/playtime",[i.GfnPcLimitedFeaturesGamePlay]:"geforcenow.com/help/limited",[i.GfnPcSafariBrowserLearnMore]:"geforcenow.com/help/safaribrowser",[i.GfnPcInfo]:"geforcenow.com",[i.GfnPcl4sLearnMore]:"gfn.link/5522",[i.GfnPcBrowserPushNotification]:"geforcenow.com/browser-notifications",[i.GfnPcHdrUnsupportedSystemsLearnMore]:"gfn.link/5390"}},43444:(Dt,ct,t)=>{"use strict";t.d(ct,{Gx:()=>p,QU:()=>V,cF:()=>c,eP:()=>B});var e=t(27947),i=t(13963),L=t(46939),f=t(47422),x=t(15746),S=t(58175),u=t(85046),g=t(66407),h=t(87965),O=t(99901),E=t(64836),w=t(28164),p=function(j){return j.ServerInfo="ServerInfo",j.Apps="Apps",j.Layout="Layout",j.Subscription="Subscription",j.ALS="ALS",j.PanelLibrary="Panel_Library",j.PanelMain="Panel_Main",j.PanelMarquee="Panel_Marquee",j.PanelFavorites="Panel_Favorites",j.UserDatastore="User_Datastore",j.CampaignsData="CampaignsData",j}(p||{});const V={[w.wh.Main]:p.PanelMain,[w.wh.Marquee]:p.PanelMarquee,[w.wh.Library]:p.PanelLibrary,[w.wh.Favorites]:p.PanelFavorites};var c=function(j){return j.OnFocus="onFocus",j.OnScreenChange="onScreenChange",j.OnPushNotification="onPushNotification",j.OnReset="OnReset",j}(c||{}),C=t(32484),l=t(49481),o=t(64555),n=t(9681),s=t(33994),R=t(38096),_=t(38435),b=t(16159),I=t(25529),q=t(47927),a=t(21120),y=t(77869),M=t(47178),P=t(61699),K=t(71505);let B=(()=>{var j;class tt{constructor(F,U,z,Q,dt,X,m,Y,D){this.windowService=U,this.router=z,this.pushNotificationService=Q,this.experienceControlService=dt,this.pathService=X,this.idmService=m,this.appConfig=Y,this.injector=D,this.contentExpiryInfo={},this.serverInfoRefresh=new C.xQ,this.subscriptionRefresh=new C.xQ,this.appsRefresh=new C.xQ,this.layoutRefresh=new C.xQ,this.skuDataRefresh=new C.xQ,this.assetRefresh=new C.xQ,this.libraryRefresh=new C.xQ,this.panelRefresh=new C.xQ,this.patchingInfoRefresh=new C.xQ,this.linkedAccountRefresh=new C.xQ,this.campaignDataRefresh=new C.xQ,this.gxtPunctualUIConfigFetched=new l.t(1),this.scheduledRequests=[],this.syncChangeRefresh=new C.xQ,this.favoritesRefresh=new C.xQ,this.notificationTimerRaceMap=new Map,this.serverInfoRefresh$=this.serverInfoRefresh.asObservable(),this.subscriptionRefresh$=this.subscriptionRefresh.asObservable(),this.appsRefresh$=this.appsRefresh.asObservable(),this.layoutRefresh$=this.layoutRefresh.asObservable(),this.skuDataRefresh$=this.skuDataRefresh.asObservable(),this.assetRefresh$=this.assetRefresh.asObservable(),this.libraryRefresh$=this.libraryRefresh.asObservable(),this.panelRefresh$=this.panelRefresh.asObservable(),this.patchingInfoRefresh$=this.patchingInfoRefresh.asObservable(),this.linkedAccountRefresh$=this.linkedAccountRefresh.asObservable(),this.campaignDataRefresh$=this.campaignDataRefresh.asObservable(),this.syncChangeRefresh$=this.syncChangeRefresh.asObservable(),this.favoritesRefresh$=this.favoritesRefresh.asObservable(),this.logger=F.getLogger("RefreshUiService"),this.pushNotificationHandlerMap=new Map([[b.oW.APP_CHANGE,{info:[{refreshTrigger:this.appsRefresh,contentExpiryFlagToCheck:p.Apps}]}],[b.oW.SUBSCRIPTION_CHANGE,{info:[{refreshTrigger:this.subscriptionRefresh,contentExpiryFlagToCheck:p.Subscription}],getTimeout:()=>60*Math.random()*1e3}],[b.oW.SERVER_INFO_SYNC,{info:[{refreshTrigger:this.serverInfoRefresh,contentExpiryFlagToCheck:p.ServerInfo}]}],[b.oW.LAYOUT_CHANGE,{info:[{refreshTrigger:this.panelRefresh}],aggregationOverrides:{considerChangedIds:!0},shouldHandle:this.shouldHandleLayoutChangeNotification.bind(this)}],[b.oW.PRODUCT_CHANGE,{info:[{refreshTrigger:this.subscriptionRefresh,contentExpiryFlagToCheck:p.Subscription}]}],[b.oW.ASSET_CHANGE,{info:[{refreshTrigger:this.assetRefresh}],aggregationOverrides:{considerChangedIds:!0},shouldHandle:this.shouldHandleAssetChangeNotification.bind(this)}],[b.oW.PATCHING_EVENT,{info:[{refreshTrigger:this.patchingInfoRefresh}],aggregationOverrides:{bypassAggregation:!0},shouldHandle:this.shouldHandlePatchingNotification.bind(this),getTimeout:()=>60*Math.random()*1e3}],[b.oW.LIBRARY_CHANGE,{info:[{refreshTrigger:this.libraryRefresh,contentExpiryFlagToCheck:p.PanelLibrary}],getTimeout:()=>0}],[b.oW.LINKEDACCOUNT_CHANGE,{info:[{refreshTrigger:this.linkedAccountRefresh,contentExpiryFlagToCheck:p.UserDatastore}],getTimeout:()=>0}],[b.oW.CAMPAIGN_CHANGE,{info:[{refreshTrigger:this.campaignDataRefresh,contentExpiryFlagToCheck:p.CampaignsData}],aggregationOverrides:{considerPropertyPath:"campaignInfo.eventType"}}],[b.oW.PLATFORM_SYNC_CHANGE,{info:[{refreshTrigger:this.syncChangeRefresh,contentExpiryFlagToCheck:p.UserDatastore}],getTimeout:()=>0}],[b.oW.FAVORITES_CHANGE,{info:[{refreshTrigger:this.favoritesRefresh,contentExpiryFlagToCheck:p.PanelFavorites}],getTimeout:()=>0}]])}get getPunctualUIConfig$(){return this.gxtPunctualUIConfigFetched.asObservable()}init(){this.fetchPunctualUIConfigCloudVariable(),this.refreshDataOnScreenChange(),this.refreshDataOnFocusGain(),this.handlePushNotifications()}getContentExpiryInfo(F){return this.contentExpiryInfo[F]}setContentExpiryInfo(F){(0,o.aj)([this.getPunctualUIConfig$,this.idmService.accountStatusChanged]).pipe((0,L.q)(1),(0,f.U)(([U,z])=>z.isAuthenticated?U.refreshIntervalLoggedInUser:U.refreshIntervalLoggedOutUser),(0,x.b)(U=>{this.contentExpiryInfo[F]=Date.now()+60*U*1e3})).subscribe(()=>{},U=>this.logger.error("Error setting content expiry info",U))}resetContentExpiryInfo(F){F&&(this.contentExpiryInfo[F]=0)}resetContentExpiryAndRefreshOnFocus(F){if(document.hasFocus()){let U=!1;this.pushNotificationHandlerMap.forEach(z=>{var Q;null==z||null===(Q=z.info)||void 0===Q||Q.forEach(dt=>{(null==dt?void 0:dt.contentExpiryFlagToCheck)===F&&!U&&(null==dt||dt.refreshTrigger.next({source:c.OnReset}),U=!0)})})}else this.resetContentExpiryInfo(F)}isPushNotificationEnabled$(){var F;let U=(0,n.of)(!1);if(null!==(F=this.appConfig)&&void 0!==F&&null!==(F=F.featureEnablement)&&void 0!==F&&F.supportsPushNotifications){if(!i.ng.isBrowserPlatform())return(0,n.of)(!0);{const z=this.injector.get(a.uu8);z&&(U=z.isNotificationAllowed())}}return U.pipe((0,L.q)(1),(0,f.U)(z=>{var Q;const dt=z&&(null===(Q=Notification)||void 0===Q?void 0:Q.permission)===b.Ad.Granted;return this.logger.info("notificationEnabled: ",dt),dt}))}fetchPunctualUIConfigCloudVariable(){this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.punctualUIConfig,{},{useCache:!0,useNetworkTimeoutForCacheFallback:!0},q.Z4.GxTargetGetCloudVariable,q.Qu.GxTargetGetPunctualUIConfig).pipe((0,L.q)(1),(0,x.b)(F=>{var U;const z=null!==(U=null==F?void 0:F.value)&&void 0!==U?U:this.appConfig.defaultPunctualUIConfig;this.gxtPunctualUIConfigFetched.next(z)}),(0,S.K)(F=>(this.gxtPunctualUIConfigFetched.next(this.appConfig.defaultPunctualUIConfig),(0,s._)(F)))).subscribe(()=>this.logger.info("Successfully fetched punctualUIConfig cv"),F=>this.logger.info("Error while fetching punctualUIConfig cv",F))}triggerRefresh(F,U,z){U.next({source:F,metadata:z})}isContentExpired(F){return 0===this.contentExpiryInfo[F]||Date.now()>this.contentExpiryInfo[F]}triggerExpiredDataRefresh(F,U){let z=!1;const Q=null!=U?U:this.router.url;this.logger.info("triggerExpiredDataRefresh if needed on ",F),this.idmService.accountStatusChanged.pipe((0,L.q)(1),(0,x.b)(dt=>{this.pathService.isMallOrSettingsUrl(Q)&&(this.isContentExpired(p.ServerInfo)&&this.triggerRefresh(F,this.serverInfoRefresh),this.isContentExpired(p.Subscription)&&this.triggerRefresh(F,this.subscriptionRefresh),dt.isAuthenticated&&this.isContentExpired(p.UserDatastore)&&this.triggerRefresh(F,this.linkedAccountRefresh)),E.Bi.includes(Q)&&(this.isContentExpired(p.CampaignsData)&&(this.triggerRefresh(F,this.campaignDataRefresh),z=!0),this.isContentExpired(p.Apps)&&this.triggerRefresh(F,this.appsRefresh),!z&&this.isContentExpired(p.Layout)&&(this.triggerRefresh(F,this.layoutRefresh),z=!0),!z&&(this.isContentExpired(p.PanelMain)||this.isContentExpired(p.PanelMarquee))&&this.triggerRefresh(F,this.panelRefresh),dt.isAuthenticated&&!z&&this.isContentExpired(p.PanelLibrary)&&this.triggerRefresh(F,this.libraryRefresh),dt.isAuthenticated&&!z&&this.isContentExpired(p.PanelFavorites)&&this.triggerRefresh(F,this.favoritesRefresh))})).subscribe()}refreshDataOnFocusGain(){return this.windowService.getFocusEvent().subscribe(()=>{this.triggerExpiredDataRefresh(c.OnFocus)})}refreshDataOnScreenChange(){let F;return this.router.events.pipe((0,u.h)(U=>U instanceof e.R9),(0,g.G)(),(0,f.U)(U=>(F=U[1]&&U[1].urlAfterRedirects,!!this.pathService.isMallOrSettingsUrl(F))),(0,S.K)(U=>(this.logger.error("Error in refreshDataOnScreenChange",U),(0,n.of)(!1)))).subscribe(U=>{U&&this.triggerExpiredDataRefresh(c.OnScreenChange,F)})}refreshCheckForRegionIds(F){const U=this.injector.get(I.r);return null!=F&&F.regionIdType&&(null==F?void 0:F.regionIdType)===b.JK.REGION?null==U?void 0:U.detectedLocalZone$.pipe((0,L.q)(1),(0,h.zg)(z=>z?(0,n.of)(z):(this.logger.info("Detected local zone is empty"),null==U?void 0:U.getCachedZone())),(0,f.U)(z=>{var Q;const dt=null==z||null===(Q=z.address)||void 0===Q?void 0:Q.split(".",1);if((null==dt?void 0:dt.length)>0){var X;const m=dt[0].toLowerCase();return this.logger.info("Local-Region Prefix",m),null==F||null===(X=F.regionIds)||void 0===X?void 0:X.some(Y=>Y.toLowerCase()===m)}return!1}),(0,S.K)(z=>(this.logger.error("Error in getting Local-Region",z),(0,n.of)(!1)))):null==U?void 0:U.vpcId$.pipe((0,L.q)(1),(0,f.U)(z=>(z=z.toLowerCase(),this.logger.info("current VpcID",z),null==F?void 0:F.regionIds.some(Q=>Q.toLowerCase()===z))),(0,S.K)(z=>(this.logger.error("Error in getting current VPC ID",z),(0,n.of)(!1))))}canIgnoreNotification(F,U){var z;if(null!=U&&U.bypassAggregation)return!1;const Q=this.scheduledRequests.filter(m=>m.messageType===F.messageType);if(!Q.length)return!1;if(null!=U&&U.considerPropertyPath){if(!Q.filter(Y=>(0,M.get)(Y,U.considerPropertyPath)===(0,M.get)(F,U.considerPropertyPath)).length)return!1;this.logger.info("Request of same message type with same property value exists")}if(null==U||!U.considerChangedIds)return this.logger.info("Request of same message type exists, considerChangedIds = false. Ignoring notification"),!0;const dt=Q.filter(m=>m.changeIdType===F.changeIdType);if(!dt.length)return!1;const X=dt[0];return null===(z=F.changedIds)||void 0===z||z.forEach(m=>{X.changeIds.includes(m)||X.changeIds.push(m)}),this.logger.info("Request of same message type exists, changeIds updated. Ignoring notification"),!0}defaultShouldHandlePushNotification(F,U,z){return this.logger.info("pushNotification data handling for message type: "+b.oW[F.messageType]),this.logger.info("Is window active: "+document.hasFocus()),this.logger.info("current screen url"+this.router.url),this.canIgnoreNotification(F,z)?(0,n.of)(!1):document.hasFocus()&&this.pathService.isMallOrSettingsUrl(this.router.url)?(null==F||null===(Q=F.regionIds)||void 0===Q?void 0:Q.length)>0?this.refreshCheckForRegionIds(F):(0,n.of)(!0):(U.forEach(dt=>{this.resetContentExpiryInfo(null==dt?void 0:dt.contentExpiryFlagToCheck)}),(0,n.of)(!1));var Q}handlePushNotifications(){this.pushNotificationHandlerMap.forEach((F,U)=>{this.pushNotificationService.registerPushNotification(U).pipe((0,h.zg)(z=>(0,o.aj)(null!=F&&F.shouldHandle?[F.shouldHandle(z,null==F?void 0:F.info,null==F?void 0:F.aggregationOverrides),(0,n.of)(z)]:[this.defaultShouldHandlePushNotification(z,null==F?void 0:F.info,null==F?void 0:F.aggregationOverrides),(0,n.of)(z)]))).subscribe(([z,Q])=>{if(z){var dt,X,m;let D;if(null!=F&&F.getTimeout)D=F.getTimeout();else{var Y;const W=null!==(Y=this.appConfig.punctualUI.notificationProcessingDelay)&&void 0!==Y?Y:3e5;D=Math.random()*W}const N=(0,y.Rl)(),Z={requestId:N,messageType:Q.messageType,changeIds:null!==(dt=Q.changedIds)&&void 0!==dt?dt:[],changeIdType:Q.changeIdType,considerChangedIds:null===(X=F.aggregationOverrides)||void 0===X?void 0:X.considerChangedIds};null!==(m=F.aggregationOverrides)&&void 0!==m&&m.considerPropertyPath&&(0,M.set)(Z,F.aggregationOverrides.considerPropertyPath,(0,M.get)(Q,F.aggregationOverrides.considerPropertyPath)),this.scheduledRequests.push(Z),setTimeout(()=>{const W=this.scheduledRequests.findIndex(d=>d.requestId===N),A=this.scheduledRequests[W].changeIds;this.scheduledRequests.splice(W,1),Q.changedIds=A,this.logger.info("Handling Push Messgae for ",b.oW[U]),null!=F&&F.handle?null==F||F.handle(Q):null==F||F.info.forEach(d=>{null==d||d.refreshTrigger.next({source:c.OnPushNotification,metadata:Q})})},D)}})})}shouldHandleAssetChangeNotification(F,U,z){return this.defaultShouldHandlePushNotification(F,U,z).pipe((0,x.b)(Q=>{Q||this.resetContentExpiryInfo(p.Apps)}))}shouldHandleLayoutChangeNotification(F,U,z){return this.defaultShouldHandlePushNotification(F,U,z).pipe((0,x.b)(Q=>{if(!Q)if((null==F?void 0:F.changeIdType)===b.F0.PANEL){var dt;null==F||null===(dt=F.changedIds)||void 0===dt||dt.forEach(X=>{this.resetContentExpiryInfo(V[X])})}else this.resetContentExpiryInfo(p.Layout)}))}shouldHandlePatchingNotification(F){var U;return(null==F||null===(U=F.regionIds)||void 0===U?void 0:U.length)>0?this.refreshCheckForRegionIds(F):(0,n.of)(!0)}getNotificationObservable(F){switch(F){case b.oW.LIBRARY_CHANGE:return this.libraryRefresh$;case b.oW.FAVORITES_CHANGE:return this.favoritesRefresh$;default:return null}}startNotificationTimerRace(F,U){var z;const Q=new l.t(1),dt=this.getNotificationObservable(F);dt?((0,R.S3)(dt.pipe((0,O.h)(!0)),(0,_.H)(U).pipe((0,O.h)(!1))).subscribe(X=>{Q.next(X)}),null===(z=this.notificationTimerRaceMap.get(F))||void 0===z||z.complete(),this.notificationTimerRaceMap.set(F,Q)):this.logger.error(`No notification observable configured for ${F}. Will not initiate race`)}getNotificationTimerRaceResult(F){return this.notificationTimerRaceMap.has(F)||(0,s._)(`Error: waiting on notification vs timer race for ${F} result without starting it`),this.notificationTimerRaceMap.get(F).asObservable()}}return(j=tt).\u0275fac=function(F){return new(F||j)(P.LFG(i.ed),P.LFG(i.un),P.LFG(e.F0),P.LFG(K.K),P.LFG(q.Q6),P.LFG(a.unb),P.LFG(a.No2),P.LFG(a.VKt),P.LFG(P.zs3))},j.\u0275prov=P.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),tt})()},19165:(Dt,ct,t)=>{"use strict";t.d(ct,{s:()=>o});var e=t(87965),i=t(58175),L=t(15746),f=t(47422),x=t(49481),S=t(9681),u=t(5717),g=t(47178),h=t(58540),O=t(91198),E=t(61699),w=t(13963),p=t(1558),V=t(25502),c=t(15665),C=t(91009);const l="remoteOverrides";let o=(()=>{var n;class s{constructor(_,b,I,q,a,y){this.networkConfig=b,this.zoneStorage=I,this.sharedStorageService=q,this.appConfig=a,this.bridgeService=y,this.remoteConfigFetchedSubject=new x.t(1),this.zonePrefixForCachedRCTelemetry="",this.vpcIdForForCachedRCTelemetry="",this.projectRevisionForCachedRCTelemetry="",this.currentRemoteConfigRevision="",this.logger=_.getLogger("shared/remote-config.service"),this.lastCachedZone$=this.networkConfig.getCurrentCachedZone().pipe((0,e.zg)(M=>(0,g.isNil)(M)||(0,g.isEmpty)(M)?this.zoneStorage.getDefaultZone():(this.logger.info("got cached zone",M),(0,S.of)(M)))),this.lastSavedZone$=this.networkConfig.getNetworkOverride().pipe((0,e.zg)(M=>(0,g.isNil)(M)||(0,g.isEmpty)(M)?(this.logger.info("get cached zone"),this.lastCachedZone$):(this.logger.info("got override zone",M),(0,S.of)(M))),(0,i.K)(M=>(this.logger.error("failed to fetch zone",M),(0,S.of)(null))))}get remoteConfigFetched$(){return this.remoteConfigFetchedSubject.asObservable()}getLastSavedZone(){return this.lastSavedZone$}configureRemoteOverrides(_){var b;null!=_&&_.isFetchedFromGXT?this.appConfig.setRemoteOverridesFromGXT(_.data,null===(b=_.metaData)||void 0===b?void 0:b.rcParamNameToLocalConfigKeyPathMap):this.logger.info("configureRemoteOverrides are not from GXT",_)}constructOverrides(_,b,I,q,a){return{metaData:{lastFetchedFrom:_,lastFetchedAt:h.utc().valueOf(),regionName:I,zoneName:q,rcParamNameToLocalConfigKeyPathMap:a},data:b}}saveRemoteOverrides(_){this.logger.info("save remote overides",_);const b={overrideData:{data:_.data}};this.sharedStorageService.writeBlock(l,_).pipe((0,e.zg)(()=>(this.logger.info("notify geronimo"),this.bridgeService.executeCommand(O.G.Gfn.Streaming.UpdateRemoteConfig,b)))).subscribe(()=>u.Z,I=>this.logger.error("failed to save remoteOverrides",I))}loadPreviousOverrides(){return this.sharedStorageService.readBlock(l).pipe((0,i.K)(_=>(this.logger.info("failed to fetch overrides",_),(0,S.of)({}))))}isValidObject(_,b){return!(0,g.isNil)(_)&&!(0,g.isEmpty)(_)&&!(0,g.isEmpty)(_[b])}isValidString(_){return!(0,g.isNil)(_)&&!(0,g.isEmpty)(_)}getZonePrefix(_){let b="";if(this.isValidObject(_,"address")){const I=_.address.split(".",1);I.length>0&&(b=I[0])}return b}getRemoteConfigOnLaunch(){return this.loadPreviousOverrides().pipe((0,L.b)(_=>{var b,I,q,a;this.zonePrefixForCachedRCTelemetry=null==_||null===(b=_.metaData)||void 0===b?void 0:b.regionName,this.vpcIdForForCachedRCTelemetry=null==_||null===(I=_.metaData)||void 0===I?void 0:I.zoneName,null!=_&&_.isFetchedFromGXT?(this.appConfig.setRemoteOverridesFromGXT(_.data,null==_||null===(q=_.metaData)||void 0===q?void 0:q.rcParamNameToLocalConfigKeyPathMap),this.projectRevisionForCachedRCTelemetry=null==_||null===(a=_.data)||void 0===a||null===(a=a.debugInfo)||void 0===a?void 0:a.revision):this.logger.info("Saved overrided are not from GXT",_)}))}getCurrentZonePrefix(){return this.logger.info("getCurrentZone"),this.lastSavedZone$.pipe((0,f.U)(_=>{const b=this.getZonePrefix(_);return this.isValidString(b)?b:(this.logger.info("invalid zone",_),null)}))}propagatePreviousOverides(){this.loadPreviousOverrides().subscribe(_=>{this.remoteConfigFetchedSubject.next({overrides:_,config:this.appConfig.get()})})}updateRemoteConfigFromGXT(_,b,I,q){var a;const M=this.constructOverrides("",_,b,I,q);M.isFetchedFromGXT=!0,this.currentRemoteConfigRevision=null==M||null===(a=M.data)||void 0===a||null===(a=a.debugInfo)||void 0===a?void 0:a.revision,this.saveRemoteOverrides(M),this.configureRemoteOverrides(M),this.logger.info("fire config fetched from GXT notification"),this.remoteConfigFetchedSubject.next({overrides:M,config:this.appConfig.get()})}}return(n=s).\u0275fac=function(_){return new(_||n)(E.LFG(w.ed),E.LFG(p.X),E.LFG(V.W),E.LFG(c.OA),E.LFG(C.XL),E.LFG(w.dF))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()},32124:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>i});var e=t(56293);class i{static resizeObserver(f,x){let S=null;return new e.y(g=>{let h=!0;return S=new ResizeObserver(O=>{const E=O[0].contentRect.width;h&&g.next(O[0].contentRect.height<=x.maxHeight&&E<=x.maxWidth&&E>x.minWidth)}),S.observe(f),()=>{var O;h=!1,null===(O=S)||void 0===O||O.unobserve(f)}})}static onResize(f){return new e.y(x=>{let S=!0;const u=new ResizeObserver(g=>{S&&x.next(g[0])});return u.observe(f),()=>{S=!1,null==u||u.unobserve(f)}})}}},70165:(Dt,ct,t)=>{"use strict";t.d(ct,{FJ:()=>i,lz:()=>f});const i=5,f="Unknown"},94386:(Dt,ct,t)=>{"use strict";t.d(ct,{FJ:()=>x.FJ,XS:()=>i.X,mw:()=>e.m});var e=t(41070),i=t(1558);t(47178);var x=t(70165)},1558:(Dt,ct,t)=>{"use strict";t.d(ct,{X:()=>s});var e=t(49481),i=t(9681),L=t(46939),f=t(17627),x=t(47422),S=t(87965),u=t(45083),g=t(15746),h=t(58175),O=t(13963),E=t(47178),p=t(70165),V=t(61699),c=t(15665),C=t(15476);const l="networkConfig",n="zones";let s=(()=>{var R;class _{constructor(I,q,a,y){this.systemInfo=q,this.sharedStorage=a,this.deeplinkHelperService=y,this.currentFingerprint="",this.networkSessionIdUpdated$=new e.t(1),this.logger=I.getLogger("gfn/networkConfiguration"),this.isBrowserPlatform=O.ng.isBrowserPlatform(),this.deeplinkOverrideZone=this.deeplinkHelperService.getDeeplinkZoneOverride()}get networkSessionId$(){return this.networkSessionIdUpdated$.asObservable()}readNetworkSessionId(){this.getCachedNetworkSessionId().pipe((0,L.q)(1)).subscribe(I=>this.networkSessionIdUpdated$.next(null!=I?I:""),I=>{this.logger.error("Error fetching cached networkSessionId",I),this.networkSessionIdUpdated$.next("")})}set deeplinkOverrideZone(I){this._deeplinkOverrideZone=I}get deeplinkOverrideZone(){return this._deeplinkOverrideZone}getFingerprint(){return this.systemInfo.getSystemInfo([O.l7.Network]).pipe((0,f.P)(),(0,x.U)(I=>I.Network),(0,x.U)(I=>(null!=I&&I.Fingerprint&&this.updateFingerPrintIfChanged(I.Fingerprint),(0,E.isNil)(I)||(0,E.isEmpty)(I.Fingerprint)?null:I.Fingerprint)))}updateFingerPrintIfChanged(I){if(this.currentFingerprint!==I)return this.currentFingerprint=I,this.modifyNetworkConfig(q=>((0,E.isNil)(I)||(q.currentFingerPrint=I),q),"Failed tp update fingerprint").subscribe()}cacheCurrentFingerprint(){return this.getFingerprint().pipe((0,x.U)(I=>!(0,E.isNil)(I)&&(this.lastCachedFingerprint=I,!0)))}getFingerprintInfo(I){return this.getNetworkConfig().pipe((0,x.U)(q=>(0,E.isNil)(q.networks[I])?null:q.networks[I]))}getCurrentFingerprintInfo(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getFingerprintInfo(I)))}getCachedZone(I){return this.getNetworkConfig().pipe((0,x.U)(q=>(0,E.isNil)(q.networks[I])||(0,E.isNil)(q.networks[I].lbrZone)?null:q.networks[I].lbrZone))}getCurrentCachedZone(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getCachedZone(I)))}getCurrentCachedZone$(){return this.cachedZone$||(this.cachedZone$=new e.t(1),this.getCurrentCachedZone().pipe((0,L.q)(1)).subscribe(I=>this.cachedZone$.next(I))),this.cachedZone$.asObservable().pipe((0,u.x)())}getCachedLatencies(I){return this.getNetworkConfig().pipe((0,x.U)(q=>(0,E.isNil)(q.networks[I])||(0,E.isNil)(q.networks[I].zonesLatencies)?null:q.networks[I].zonesLatencies))}getCurrentCachedLatencies(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getCachedLatencies(I)))}getCachedNetworkSessionId(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getNetworkConfig().pipe((0,x.U)(q=>(0,E.isNil)(q.networks[I])||(0,E.isNil)(q.networks[I].networkSessionId)?null:q.networks[I].networkSessionId))))}updateCurrentFingerprintNetworkTestFlag(I,q){return this.getFingerprint().pipe((0,S.zg)(a=>this.modifyNetworkConfig(y=>{const M=(0,E.isNil)(a)?this.lastCachedFingerprint:a;return(0,E.isNil)(M)||(y.networks[M]=y.networks[M]||{},(0,E.merge)(y.networks[M],{runNetworkTest:I,indirectNetworkTestPolicy:q})),y},`Unable to ${I?"set":"reset"} the network test requirement with policy: ${q}.`)))}setCachedLatencies(I,q){const a={},y=[];if(!(0,E.isNil)(q)&&q!==p.lz)for(const M of q.split(/[|]/)){const P=M.split(":"),K=2===P.length?Number(P[1]):NaN;isNaN(K)||y.push({key:P[0],val:P[1]})}for(const M of y)a["latency@"+M.key]=M.val;return this.modifyNetworkConfig(M=>(M.networks[I]=M.networks[I]||{},M.networks[I].zonesLatencies=(0,E.isEmpty)(a)?null:a,M),`Unable to save latency information for ${I}.`)}setCachedZone(I,q){return this.modifyNetworkConfig(a=>(a.networks[I]=a.networks[I]||{},a.networks[I].lbrZone=q,a),`Unable to save zone information for ${I}.`).pipe((0,g.b)(a=>{a&&this.cachedZone$&&this.cachedZone$.next(q)}))}setCachedNetworkSessionId(I){return this.getFingerprint().pipe((0,S.zg)(q=>this.modifyNetworkConfig(a=>(a.networks[q]=a.networks[q]||{},a.networks[q].networkSessionId=I,a),`Unable to save networkSessionId information for ${q}.`).pipe((0,g.b)(a=>{a&&this.networkSessionIdUpdated$.next(I)}))))}updateNetworkTestInfoInFingerprint(I,q,a){return this.getFingerprint().pipe((0,S.zg)(y=>y?this.modifyNetworkConfig(M=>(M.networks[y]=M.networks[y]||{},M.networks[y].maxSubscriptionProfile=I,M.networks[y].networkTestReturn=q,M.networks[y].lastShownThresholdProfile=a,M),`Unable to save maxSubscriptionProfile, networkTestReturn, lastShownThresholdProfile information for ${y}.`):(0,i.of)(!1)))}updateNetworkTestThresholdProfile(I){return this.getFingerprint().pipe((0,S.zg)(q=>this.modifyNetworkConfig(a=>(a.networks[q]=a.networks[q]||{},a.networks[q].lastShownThresholdProfile=I,a),`Unable to save lastShownThresholdProfile information for ${q}.`)))}clearFingerprintCachedZone(I){return this.modifyNetworkConfig(q=>(this.logger.info("clear Cached Zone for fingerprint: ",I),(0,E.isNil)(q.networks[I])||delete q.networks[I].lbrZone,q),`Unable to clear zone information for ${I}.`)}clearCachedDisplayForFingerprint(I){return this.modifyNetworkConfig(q=>(this.logger.info("clear Cached Display for fingerprint: ",I),(0,E.isNil)(q.networks[I])||delete q.networks[I].maxDisplay,q),`Unable to clear display information for ${I}.`)}clearCachedCurrentFingerprint(){return this.getFingerprint().pipe((0,S.zg)(I=>this.modifyNetworkConfig(q=>(this.logger.info("clear the network fingerprint: ",I),(0,E.isNil)(q.networks[I])||delete q.networks[I],q),`Unable to clear information for ${I}.`)))}setZoneList(I){return this.sharedStorage.writeBlock(n,I)}getZoneList(){return this.sharedStorage.readBlock(n)}setFingerprintMaxDisplay(I,q){return this.modifyNetworkConfig(a=>(this.logger.info(`fingerprint ${q} display set to ${I.width}x${I.height}@${I.frameRate}`),a.networks[q]=a.networks[q]||{},a.networks[q].maxDisplay=I,a),`Unable to save information for ${q}.`)}setCurrentFingerprintMaxDisplay(I){return this.getFingerprint().pipe((0,S.zg)(q=>this.setFingerprintMaxDisplay(I,q)))}getFingerprintMaxDisplay(I){return this.getNetworkConfig().pipe((0,x.U)(q=>(0,E.isNil)(q.networks[I])||(0,E.isNil)(q.networks[I].maxDisplay)?null:q.networks[I].maxDisplay))}getFingerprintMaxPacketSize(I){return this.getNetworkConfig().pipe((0,x.U)(q=>{var a;return(0,E.isNil)(q.networks[I])||(0,E.isNil)(null===(a=q.networks[I].networkTestReturn)||void 0===a||null===(a=a.testResult)||void 0===a?void 0:a.maxPacketSize)?null:q.networks[I].networkTestReturn.testResult.maxPacketSize}))}getCurrentFingerprintMaxDisplay(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getFingerprintMaxDisplay(I)),(0,g.b)(I=>{(0,E.isNil)(I)||this.logger.info(`Get Current maxDisplay: ${I.width}x${I.height}@${I.frameRate}`)}))}getCurrentFingerprintMaxPacketSize(){return this.getFingerprint().pipe((0,S.zg)(I=>this.getFingerprintMaxPacketSize(I)),(0,g.b)(I=>{(0,E.isNil)(I)||this.logger.info(`Get Current maxPacketSize: ${I}`)}))}getNetworkOverride(){return this.deeplinkOverrideZone?(0,i.of)(this.deeplinkOverrideZone):this.sharedStorage.readBlock(l).pipe((0,x.U)(I=>I.routingOverride||null))}setNetworkOverride(I){return this.modifyNetworkConfig(q=>(q.routingOverride=I,q),`Unable to save zone override information for ${I}.`)}updateNetworkOverrideNetworkTestFlag(I){return this.modifyNetworkConfig(q=>(q.routingOverride&&(q.routingOverride.runNetworkTest=!!this.isBrowserPlatform||I),q),`Unable to ${I?"set":"clear"} the network test requirement.`)}clearNetworkOverride(){return this.deeplinkOverrideZone?(this.deeplinkOverrideZone=null,(0,i.of)(!0)):this.modifyNetworkConfig(I=>(delete I.routingOverride,I),"Unable to clear zone override.")}clearCurrentFingerprintCachedZone(){return this.logger.info("deleting CachedZone for current fingerprint"),this.getFingerprint().pipe((0,S.zg)(I=>this.clearFingerprintCachedZone(I)))}clearCurrentFingerprintMaxDisplay(){return this.logger.info("deleting Cached Display for current fingerprint"),this.getFingerprint().pipe((0,S.zg)(I=>this.clearCachedDisplayForFingerprint(I)))}modifyNetworkConfig(I,q){return this.getNetworkConfig().pipe((0,S.zg)(a=>this.sharedStorage.writeBlock(l,I(a))),(0,h.K)(this.logError(q,!1)))}getNetworkConfig(){return this.sharedStorage.readBlock(l).pipe((0,x.U)(I=>(0,E.merge)(I,{networks:{}})))}logError(I,q){return a=>(this.logger.error(I,a),(0,i.of)(q))}writeNetworkConfig(I,q){return this.sharedStorage.writeBlock(l,I,q)}}return(R=_).\u0275fac=function(I){return new(I||R)(V.LFG(O.ed),V.LFG(O.Ob),V.LFG(c.OA),V.LFG(C.g))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),_})()},41070:(Dt,ct,t)=>{"use strict";t.d(ct,{m:()=>_});var e=t(32484),i=t(70462),L=t(73992),f=t(9681),x=t(33994),S=t(47422),u=t(87965),g=t(99901),h=t(58175),O=t(13303),E=t(17627),w=t(78943),p=t(47178),c=t(70165),C=t(65343),l=t(31157),o=t(61699),n=t(1558),s=t(13963),R=t(89857);let _=(()=>{var b;class I{constructor(a,y,M,P,K,B){this.networkConfig=a,this.bridgeService=y,this.telemetryService=M,this.telemetryUtilService=P,this.distributedTracingUtilService=K,this.lbrCancelled$=new e.xQ,this.retriggerPolicy$=new i.X(C.OR5.Manual),this.logger=B.getLogger("gfn/serverRouting"),this.isLbrInProgress=!1,this.lbrRun=!1}get isLbrRequired(){return this.lbrRequired}set isLbrRequired(a){this.lbrRequired=a}get isLbrRun(){return this.lbrRun}resetLbrStatus(){this.lbrRequired=!1,this.lbrRun=!1}setRetriggerPolicy(a){this.retriggerPolicy$.next(a)}getCachedServerZone(){const a=[this.networkConfig.getNetworkOverride(),this.networkConfig.getCurrentCachedZone()];return(0,L.$R)(...a).pipe((0,S.U)(y=>{const[M,P]=y;return(0,p.isNil)(M)?(this.logger.info("DiskCachedZone is: ",P," and cachedZone is: ",this.cachedZone),(0,p.isNil)(this.cachedZone)?P:this.cachedZone):(this.logger.info("Latency-based routing override found.",M),M)}))}getFastestRegionalZone(a,y,M){const P=(0,p.keys)(y);this.isLbrInProgress=!0;const K={user:a.userId,deviceId:a.deviceId,platformId:a.platformId,addresses:P},B=this.cacheZoneList(y),j=this.networkConfig.getNetworkOverride(),tt=this.networkConfig.getCurrentCachedLatencies();return(0,L.$R)(B,j,tt).pipe((0,u.zg)(([,ot,F])=>(0,p.isNil)(ot)?(this.logger.info("override zone is not found, run LBR"),(0,p.isNil)(M)||this.distributedTracingUtilService.setSpanAttribute(M,l.NI.UsedLatencyBasedRouting,!0),this.performLbr(K,y,ot,a.defaultZone)):(this.logger.info("Latency-based routing override found: ",ot),(0,p.isNil)(M)||(this.logger.info("Setting isLBRRun to false"),this.distributedTracingUtilService.setSpanAttribute(M,l.NI.UsedLatencyBasedRouting,!1)),this.performLbr(K,y,ot,a.defaultZone).pipe((0,g.h)(ot),(0,h.K)(U=>(this.logger.error("Failed to perform LBR, returning overriden zone.",U),(0,f.of)(ot)))))))}shouldLbrRun(a){if((0,p.isEmpty)(a))return this.logger.info("Call to ServerInfo failed, therefore run LBR."),this.setRetriggerPolicy(C.OR5.ServerInfoFailed),this.cacheZoneList(a).pipe((0,g.h)(!0));const y=[this.networkConfig.getZoneList(),this.networkConfig.getCurrentFingerprintInfo()];return(0,L.$R)(...y).pipe((0,u.zg)(([M,P])=>{const K=(0,p.isNil)(this.cachedZone)&&!(0,p.isNil)(P)?P.lbrZone:this.cachedZone,B=(0,p.keys)(a),j=(0,p.keys)(M);let tt=!1;return(0,p.isNil)(P)?(this.logger.info("This fingerprint is observed for the first time, on which LBR was never run."),this.setRetriggerPolicy(C.OR5.FingerprintChanged),tt=!0):(0,p.isEmpty)(M)||(0,p.isNil)(P.zonesLatencies)||-1===(0,p.keys)(P.zonesLatencies)[0].indexOf(".")?(this.logger.info("Zone list or zonesLatencies not saved, therefore run LBR."),this.setRetriggerPolicy(C.OR5.ZoneListEmpty),tt=!0):(0,p.isNil)(K)?(this.logger.info("The user didn't have a cached zone, therefore run LBR."),this.setRetriggerPolicy(C.OR5.CachedZoneNotStored),tt=!0):B.includes(K.address)?(0,p.difference)(B,j).length>0&&(this.logger.info("New zones have been added to the pool."),this.setRetriggerPolicy(C.OR5.NewZonesAdded),tt=!0):(this.logger.info("The user's cached zone is no longer available."),this.setRetriggerPolicy(C.OR5.CachedZoneNotAvailable),tt=!0),this.cacheZoneList(a).pipe((0,g.h)(tt))}),(0,h.K)(M=>(this.logger.error("Error trying to determine if LBR should run, therefore run LBR.",M),this.setRetriggerPolicy(C.OR5.PolicyCheckFailed),this.cacheZoneList(a).pipe((0,g.h)(!0)))))}cacheZoneList(a){return this.networkConfig.setZoneList(a).pipe((0,S.U)(()=>(this.logger.info("Successfully stored zone list in shared storage"),!0)),(0,h.K)(y=>(this.logger.warn("Failed to store zone list: ",y),(0,f.of)(!1))))}performLbr(a,y,M,P){if((0,p.isEmpty)(y))return this.logger.error("Cannot perform latency based routing as zones is empty"),(0,x._)("zones is empty.");this.lbrRun=!0;const K=Date.now();return this.networkConfig.getFingerprint().pipe((0,u.zg)(B=>this.bridgeService.executeCommand(w.Gh.Gfn.Serverrouting.PerformRouting,a).pipe((0,O.R)(this.lbrCancelled$),(0,u.zg)(j=>{this.cachedZone=y[null==j?void 0:j.url],this.cachedZone.defaultZone=P;const tt=this.networkConfig.setCachedZone(B,this.cachedZone).pipe((0,u.zg)(F=>j.cacheResult?(this.isLbrInProgress=!1,(0,f.of)(F)):this.networkConfig.clearFingerprintCachedZone(B))),ot=this.networkConfig.setCachedLatencies(B,j.results);return this.logRoutingSuccess(j),(0,L.$R)(tt,ot).pipe((0,u.zg)(()=>this.sendRoutingStatusTelemetry(j,M,j.cacheResult?C.N3X.Success:C.N3X.Other,K)),(0,g.h)(this.cachedZone))}),(0,h.K)(j=>{const tt=j,ot=(()=>{try{return JSON.parse(tt.message)}catch{return this.logger.error(`Unable to determine error from ${tt.message}`),{results:c.lz,ipAddresses:c.lz,networkSessionId:c.lz,resultCode:tt.code,resultText:tt.message}}})();this.logRoutingFailure(ot);const F=this.networkConfig.clearFingerprintCachedZone(B),U=this.networkConfig.setCachedLatencies(B,ot.results);return(0,L.$R)(F,U).pipe((0,u.zg)(()=>this.sendRoutingStatusTelemetry(ot,M,C.N3X.ClientError,K)),(0,u.zg)(()=>(0,x._)(j)))}))))}getRoutingInfoWithPolicy(a){return this.retriggerPolicy$.pipe((0,E.P)(),(0,S.U)(y=>(a.policy=y,a)))}sendRoutingStatusTelemetry(a,y,M,P){const K={clientType:this.telemetryUtilService.getClientType(),serverRecommendedZone:"",clientRecommendedZone:a.url||"",clientRecommendedZoneLatency:a.latency||0,results:a.results,ipAddresses:a.ipAddresses,status:M,errorCode:""+a.resultCode,errorDetails:a.resultText,networkSessionId:a.networkSessionId,totalMs:Date.now()-P,overrideZone:(0,p.isNil)(y)?"":y.address,overrideActive:(0,p.isNil)(y)?C.wye.FALSE:C.wye.TRUE};return this.getRoutingInfoWithPolicy(K).pipe((0,S.U)(B=>this.telemetryService.push(new C.OSH(B))))}logRoutingSuccess(a){this.logger.info(`Latency-based routing ${a.cacheResult?"":"partially"} succeeded with code: '${a.resultText}'`),this.logger.info(`Least latency zone is ${a.url} with ${a.latency}ms`),this.logger.info("Results",a.results),this.logger.info("IP addresses",a.ipAddresses)}logRoutingFailure(a){this.logger.error(`Latency-based routing failed with code: '${a.resultText}'`),this.logger.info("Results",a.results),this.logger.info("IP addresses",a.ipAddresses)}cleanupOnCancel(){return this.lbrCancelled$.next(),this.isLbrInProgress?this.networkConfig.clearCurrentFingerprintCachedZone():(0,f.of)(!0)}}return(b=I).\u0275fac=function(a){return new(a||b)(o.LFG(n.X),o.LFG(s.dF),o.LFG(R.y0),o.LFG(C.wU6),o.LFG(l.Dc),o.LFG(s.ed))},b.\u0275prov=o.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})()},64794:(Dt,ct,t)=>{"use strict";t.d(ct,{$f:()=>X,AN:()=>O,BT:()=>h,Bq:()=>p,EG:()=>Q,HH:()=>B,HQ:()=>P,JH:()=>A,Jr:()=>o,Kc:()=>R,M1:()=>f,MD:()=>l,OA:()=>n,OK:()=>tt,QZ:()=>w,To:()=>N,UI:()=>Z,V9:()=>C,Z6:()=>E,ZP:()=>V,_8:()=>g,aL:()=>x,cA:()=>W,db:()=>L,fy:()=>S,iU:()=>m,lL:()=>dt,n:()=>c,qB:()=>D,qL:()=>U,vG:()=>M,vo:()=>Y,xE:()=>d,yD:()=>a,yQ:()=>_,zP:()=>K});var e=t(11904),i=t(89129),L=function(H){return H[H.Loading=0]="Loading",H[H.Ready=1]="Ready",H}(L||{}),f=function(H){return H.Balanced="balanced",H.DataSaver="dataSaver",H.Competitive="competitive",H.Custom="custom",H}(f||{}),x=function(H){return H.balanced="BALANCED",H.dataSaver="DATA_SAVER",H.competitive="COMPETITIVE",H.custom="BALANCED",H}(x||{}),S=function(H){return H.Low="Low",H.Medium="Medium",H.High="High",H.Off="Off",H}(S||{}),u=function(H){return H.Standard="Standard",H.Enhanced="Enhanced",H.AiEnhanced="AI-enhanced",H.NvScaler="NvScaler",H.NvSharpen="NvSharpen",H}(u||{}),g=function(H){return H.Standard="Standard",H.Enhanced="Enhanced",H.AiEnhanced="AiEnhanced",H.NvScaler="NvScaler",H.NvSharpen="NvSharpen",H}(g||{}),h=function(H){return H.Warnings="WARNINGS",H.On="ON",H.Off="OFF",H}(h||{}),O=function(H){return H.Logical="Logical",H.Physical="Physical",H}(O||{});const E=[{value:!0,displayName:"common.auto",enabled:!0},{value:!1,displayName:"settings.streamingProfiles.custom",enabled:!0}];var w=function(H){return H.Resolution="UpScalingResolutionId",H.AiSharpness="AiSharpnessValue",H.EnhSharpness="EnhancedSharpnessValue",H}(w||{});const p={BlockName:"appSettingsConfig",LatencyPropertyName:"advancedLatencyOptimization",DirectInputPropertyName:"directInput",NetworkQuality:"networkQuality",PlayWithMobileNetwork:"playWithMobileNetwork",StreamingProfiles:"streamingProfiles",CustomProfile:"customProfile",DiscordRichPresence:"discordRpEnabled",DirectInputCatalinaOsOrHigher:"directInputCatalinaOsOrHigher",InGameGraphics:"inGameGraphics",UpScalingResolutionId:"upScalingResolutionId",AiSharpnessValue:"aiSharpnessValue",EnhancedSharpnessValue:"enhancedSharpnessValue",UpscalingModeUpdatedByUser:"upscalingModeUpdatedByUser",ClipboardPaste:"clipboardPaste",UdsSnoozeStopDateTime:"udsSnoozeStopDateTime",CustomModeHdr:"customModeHdr",CustomModeReflex:"customModeReflex",CustomModeCloudGsync:"customModeCloudGsync"},V={OFF:{value:0,displayName:"common.off"},WARNINGS:{value:1,displayName:"settings.network.networkQualitySettingWarnings"}},c={advancedLatencyOptimization:!1,directInput:!0,networkQuality:V.WARNINGS.value,playWithMobileNetwork:!1,discordRpEnabled:!0,directInputCatalinaOsOrHigher:!1,clipboardPaste:!1},C={BALANCED:{value:f.Balanced,displayName:"settings.streamingProfiles.balanced",translatedDisplayName:""},DATA_SAVER:{value:f.DataSaver,displayName:"settings.streamingProfiles.dataSaver",translatedDisplayName:""},COMPETITIVE:{value:f.Competitive,displayName:"settings.streamingProfiles.competitive",translatedDisplayName:""},CUSTOM:{value:f.Custom,displayName:"settings.streamingProfiles.custom",translatedDisplayName:""}},l={OFF:{id:0,label:"common.off",value:4,name:S.Off},LOW:{id:1,label:"settings.resolutionUpscaling.sharpnessLow",value:0,name:S.Low},MEDIUM:{id:2,label:"settings.resolutionUpscaling.sharpnessMed",value:2,name:S.Medium},HIGH:{id:3,label:"settings.resolutionUpscaling.sharpnessHigh",value:3,name:S.High}},o={STANDARD:{id:0,checked:!1,disabled:!1,value:u.Standard,displayName:"settings.resolutionUpscaling.standard",resolutionInfo:"settings.resolutionUpscaling.standardInfo"},ENHANCED:{id:1,checked:!0,disabled:!1,value:u.Enhanced,displayName:"settings.resolutionUpscaling.enhanced",resolutionInfo:"settings.resolutionUpscaling.enhancedInfo"},AI_ENHANCED:{id:2,checked:!1,disabled:!1,value:u.AiEnhanced,displayName:"settings.resolutionUpscaling.aiEnhanced",resolutionInfo:"settings.resolutionUpscaling.aiInfo",error:{1:"",2:"settings.resolutionUpscaling.aiWarning.dispFlagErrMinDrv",4:"",8:"",16:"",32:"",64:"",128:"settings.resolutionUpscaling.aiWarning.dispFlagErrNvPixelsLoad",512:"",1024:"",4096:""}},NV_SCALER:{id:3,value:u.NvScaler},NV_SHARP:{id:4,value:u.NvSharpen}},n={ValueOff:{value:0,displayName:"common.off",enabled:!0},ValueOn:{value:1,displayName:"settings.streamingProfiles.on",enabled:!0},ValueAdaptive:{value:2,displayName:"settings.streamingProfiles.adaptive",enabled:!0}},R={value:8,enabled:!1},_={value:10,enabled:!1},a={balanced:{name:f.Balanced,description:"settings.streamingProfiles.balancedDescription",width:1920,height:1080,fps:60,maxBitrate:0,dataUsage:10,drc:!0,vSync:n.ValueAdaptive.value,networkInfo:{},audioMode:e.UM.STEREO,bitDepth:R.value},dataSaver:{name:f.DataSaver,description:"settings.streamingProfiles.dataSaverDescription",width:1280,height:720,fps:60,maxBitrate:12,dataUsage:4,drc:!0,vSync:n.ValueAdaptive.value,networkInfo:{},audioMode:e.UM.STEREO,bitDepth:R.value},competitive:{name:f.Competitive,description:"settings.streamingProfiles.competitiveDescription",width:1280,height:720,fps:60,maxBitrate:0,dataUsage:6,drc:!0,vSync:n.ValueOff.value,networkInfo:{},audioMode:e.UM.STEREO,bitDepth:R.value}},M={Value240:{value:240,displayName:"240 FPS",enabled:!1},Value120:{value:120,displayName:"120 FPS",enabled:!1},Value60:{value:60,displayName:"60 FPS",enabled:!0},Value30:{value:30,displayName:"30 FPS",enabled:!0}},P=59,K=119,B=" FPS",j={Ar_16_10:1.6,Ar_16_9:16/9,Ar_4_3:4/3,Ar_5_4:5/4,Ar_19_5_9:2.15,Ar_24_10:2.4,Ar_32_9:32/9,Ar_21_9_1:3440/1440,Ar_21_9_2:2560/1080,Ar_21_9_3:1680/720},tt=[{ratio:j.Ar_16_10,formattedRatio:"(16:10)"},{ratio:j.Ar_16_9,formattedRatio:"(16:9)"},{ratio:j.Ar_4_3,formattedRatio:"(4:3)"},{ratio:j.Ar_5_4,formattedRatio:"(5:4)"},{ratio:j.Ar_19_5_9,formattedRatio:"(19.5:9)"},{ratio:j.Ar_24_10,formattedRatio:"(24:10)"},{ratio:j.Ar_32_9,formattedRatio:"(32:9)"},{ratio:j.Ar_21_9_1,formattedRatio:"(21:9)"},{ratio:j.Ar_21_9_2,formattedRatio:"(21:9)"},{ratio:j.Ar_21_9_3,formattedRatio:"(21:9)"}],U={bitRateMin:5,bitRateMax:75};var Q=function(H){return H.maxBitrate="maxBitrate",H.maxBitrateValue="maxBitrateValue",H.resolution="resolution",H.frameRate="frameRate",H.drc="drc",H.vSync="vSync",H.hdr="hdr",H.reflex="reflex",H.cloudGsync="cloudGsync",H.l4s="l4s",H.bitDepth="bitDepth",H}(Q||{});const dt="4K",X="1440p",m="120",Y="240",D=[e.$c.BETTER_PRODUCT,e.$c.HIGHER_RESOLUTION,e.$c.HIGHER_FPS,e.$c.SUPPORT_HDR,e.$c.LOWER_SESSION_QUEUE_WAIT_TIME,e.$c.HIGHER_SESSION_LENGTH,e.$c.SUPPORT_IN_GAME_SETTINGS_PERSISTENCE,e.$c.SUPPORT_CLOUD_GSYNC],N=[...D,e.$c.SUPPORT_REFLEX];var Z=function(H){return H[H.PROFILE_MAXBITRATE=99]="PROFILE_MAXBITRATE",H[H.PROFILE_RESOLUTION=100]="PROFILE_RESOLUTION",H[H.PROFILE_FPS=101]="PROFILE_FPS",H}(Z||{});const W=[{id:Z.PROFILE_MAXBITRATE,label:"settings.streamingProfiles.maxBitrate",displayByDefault:!0},{id:Z.PROFILE_RESOLUTION,label:"settings.streamingProfiles.resolution",displayByDefault:!0,hasBadgeImage:!0},{id:Z.PROFILE_FPS,label:"settings.streamingProfiles.framerate",displayByDefault:!0},{id:e.Uq.PROFILE_VSYNC,label:"settings.streamingProfiles.vSync",displayByDefault:!0,clientFeatureToggleKey:"platformSupportVsync"},{id:e.Uq.PROFILE_CLOUD_GSYNC,entitlementFlag:e.xA.CLOUD_GSYNC,upsellFlag:e.$c.SUPPORT_CLOUD_GSYNC,kbaLinkRedirect:i.hE.GfnPcCloudGsyncLearnMore},{id:e.Uq.PROFILE_REFLEX,label:"settings.streamingProfiles.reflex",entitlementFlag:e.xA.ENABLED_REFLEX,upsellFlag:e.$c.SUPPORT_REFLEX},{id:e.Uq.PROFILE_HDR,label:"settings.streamingProfiles.hdrStreaming",entitlementFlag:e.xA.HDR_ENABLED,upsellFlag:e.$c.SUPPORT_HDR},{id:e.Uq.PROFILE_BIT_DEPTH,label:"settings.streamingProfiles.colorPrecision",entitlementFlag:e.xA.BIT_DEPTH,upsellFlag:e.$c.HIGHER_BIT_DEPTH,remoteFeatureToggleKey:"isBitDepthFeatureEnabled"},{id:e.Uq.PROFILE_ADJUST_FOR_NETWORK,label:"settings.streamingProfiles.drc",displayByDefault:!0},{id:e.Uq.PROFILE_L4S,label:"settings.streamingProfiles.l4sSetting",entitlementFlag:e.xA.ENABLED_L4S,upsellFlag:e.$c.SUPPORT_L4S,kbaLinkRedirect:i.hE.GfnPcl4sLearnMore,shortUrl:i.hD[i.hE.GfnPcl4sLearnMore],remoteFeatureToggleKey:"isL4SFeatureEnabled"}],A=[{id:Z.PROFILE_MAXBITRATE,label:"settings.streamingProfiles.maxBitrate",displayByDefault:!0},{id:Z.PROFILE_RESOLUTION,label:"settings.streamingProfiles.resolution",displayByDefault:!0,hasBadgeImage:!0},{id:Z.PROFILE_FPS,label:"settings.streamingProfiles.framerate",displayByDefault:!0},{id:e.Uq.PROFILE_VSYNC,label:"settings.streamingProfiles.vSync",displayByDefault:!0,clientFeatureToggleKey:"platformSupportVsync"},{id:e.Uq.PROFILE_ADJUST_FOR_NETWORK,label:"settings.streamingProfiles.drc",displayByDefault:!0}],d={platformSupportsCloudGsync:!1,isVrrCapableDisplay:!1,isGsyncDisplay:!1,cloudGsyncDependencies:{osSupportsCloudGsync:!1,driverSupportsCloudGsync:!1,minFpsForCloudGsync:60}}},90220:(Dt,ct,t)=>{"use strict";t.d(ct,{yQ:()=>u.yQ,Kc:()=>u.Kc,OK:()=>u.OK,EG:()=>u.EG,db:()=>u.db,ZP:()=>u.ZP,M1:()=>u.M1,MD:()=>u.MD,zr:()=>y,Jr:()=>u.Jr,DI:()=>O,QZ:()=>u.QZ,n:()=>u.n,gb:()=>s,Bq:()=>u.Bq,fy:()=>u.fy,GK:()=>M.G,_8:()=>u._8,OA:()=>u.OA});var e=t(47178),i=t(47422),L=t(45083),f=t(680),x=t(13963),S=t(78943),u=t(64794),g=t(65343),h=t(21120);class O{static getUpScaleSettingList(){return Object.values(h.JrW)}static getSharpnessList(){return Object.values(h.MDl)}static getUpScaleSetting(K){const B=O.getUpScaleSettingList().find(j=>j.id===K);return B&&{...B,checked:!0}}static getSharpnessbyProperty(K,B){return Object.values(h.MDl).find(j=>j[B]===K)||h.MDl.LOW}static getSharpnessbyId(K){return O.getSharpnessbyProperty(K,"id")}static getSharpnessbyValue(K){return O.getSharpnessbyProperty(K,"value")}static isEnhanced(K){return K===h.JrW.ENHANCED.id}static isAiEnhanced(K){return K===h.JrW.AI_ENHANCED.id}static isNvScaler(K){return K===h.JrW.NV_SCALER.id}static isNvSharpen(K){return K===h.JrW.NV_SHARP.id}static isNvScalerOrNvSharpen(K){return O.isNvScaler(K)||O.isNvSharpen(K)}static isSharpnessOff(K){return K.name===h.fyj.Off}}class E{static getTelemetrySettingDescription(K,B){let j="";switch(K){case u.Bq.UpScalingResolutionId:j=O.getUpScaleSetting(B).value;break;case u.Bq.AiSharpnessValue:case u.Bq.EnhancedSharpnessValue:j=O.getSharpnessbyValue(B).name;break;case u.Bq.UpscalingModeUpdatedByUser:j=B?g.wye.TRUE:g.wye.FALSE;break;case u.Bq.NetworkQuality:j=this.getNetworkSettingTelemetryName(B);break;case u.Bq.DiscordRichPresence:case u.Bq.DirectInputPropertyName:case u.Bq.InGameGraphics:case u.Bq.CustomModeHdr:case u.Bq.CustomModeReflex:case u.Bq.CustomModeCloudGsync:j=this.getBooleanSettingTelemetryName(B);break;case u.Bq.StreamingProfiles:j=B}return j}static getNetworkSettingTelemetryName(K){let B="";switch(K){case 0:B=u.BT.Off;break;case 1:B=u.BT.Warnings;break;case 2:B=u.BT.On}return B}static getBooleanSettingTelemetryName(K){return K?g._So.Enabled:g._So.Disabled}}var w=t(24642),p=t(81351),V=t(61699),c=t(15665),C=t(89857),l=t(44512),o=t(87815),n=t(77869);let s=(()=>{var P;class K{get showServerLocationCTA(){return this._showServerLocationCTA}set showServerLocationCTA(j){this._showServerLocationCTA=j}constructor(j,tt,ot,F,U,z,Q,dt){this.loggingService=j,this.sharedStorageService=tt,this.bridgeService=ot,this.telemetryService=F,this.telemetryUtilService=U,this.appConfig=z,this.systemInfoService=Q,this._showServerLocationCTA=!1,this.logger=this.loggingService.getLogger("gfn/settingsService"),this.sharedSettingsStream=dt.createStream(this.getSettingsData.bind(this)),this.bridgeService.executeCommand(S.Gh.Gfn.Streaming.VsyncToggle).subscribe(X=>{this.platformSupportsVsyncToggle=X})}get networkWarningsEnabled$(){return this.sharedSettingsStream.get$().pipe((0,i.U)(j=>{var tt;return(null!==(tt=null==j?void 0:j.networkQuality)&&void 0!==tt?tt:u.n.networkQuality)===u.ZP.WARNINGS.value}),(0,L.x)())}setNetworkWarningsEnabled(j){this.logger.info(j?"Enabling":"Disabling","network warnings"),this.storeChangedSettings({settingType:u.Bq.NetworkQuality,selectedOption:j?u.ZP.WARNINGS.value:u.ZP.OFF.value})}setPlayWithMobileNetworkEnabled(j){this.logger.info(j?"Enabling":"Disabling","play with mobile network"),this.storeChangedSettings({settingType:u.Bq.PlayWithMobileNetwork,selectedOption:j})}isVsyncChangedAndToggleSupported(){return void 0!==this.currentVsyncValue&&void 0!==this.firstVsyncValue&&this.currentVsyncValue!==this.firstVsyncValue&&!this.platformSupportsVsyncToggle}setVsyncValue(j){void 0===this.firstVsyncValue?this.firstVsyncValue=j:this.currentVsyncValue=j}resetVsyncChanged(){this.firstVsyncValue=void 0,this.currentVsyncValue=void 0}getLinksUrl(j,tt){j===w.qB.OSS_LICENSES&&(tt="en_US");const ot=this.appConfig.redirect.serverUrl+tt+"&page="+j;return this.logger.info(j+"url",ot),ot}getIohidConfigurable(){return this.ioHidConfig$||(this.ioHidConfig$=this.bridgeService.executeCommand(S.Gh.Common.Applicationcontrol.ReadConfig,{appname:"GeForceNOW"}).pipe((0,f.d)(1))),this.ioHidConfig$}getSwitchValue(j,tt){let ot=!1;return(0,e.toArray)(j).forEach(U=>{if((0,e.includes)(U,tt))return ot="true"===U.split("=")[1].trim(),ot}),ot}getSettingsData(){return this.sharedStorageService.readBlock(u.Bq.BlockName)}storeChangedSettings(j,tt=!0){const ot={};this.getSettingsData().subscribe(F=>{(0,e.isNull)(F)?(ot[j.settingType]=j.selectedOption,F=ot):F[j.settingType]=j.selectedOption,this.writeData(F,j,tt)})}isCatalinaOsOrHigher(){return this.isMinCatalinaOs$||(this.isMinCatalinaOs$=this.systemInfoService.getSystemInfo([x.l7.OSName,x.l7.OSVersion]).pipe((0,i.U)(j=>{if(this.logger.info("current OS: ",j.OSName,j.OSVersion),"macos"===j.OSName.toLowerCase()){const tt=j.OSVersion.split("."),ot=parseInt(tt[0],10),F=parseInt(tt[1],10);return ot>=10&&F>=15}return!1}),(0,f.d)(1))),this.isMinCatalinaOs$}getClientPlatform(){return this.clientPlatform$||(this.clientPlatform$=this.systemInfoService.getSystemInfo([x.l7.Platform]).pipe((0,i.U)(j=>{let tt;return tt=x.ng.isAndroidPlatform()?"android":x.ng.isBrowserPlatform()?"browser":"desktop",tt+j.Platform}),(0,f.d)(1))),this.clientPlatform$}writeData(j,tt,ot=!0){this.sharedStorageService.writeBlock(u.Bq.BlockName,j,!0).subscribe(F=>{ot&&this.sendTelemetry(tt),this.sharedSettingsStream.refresh()},F=>{ot&&this.sendTelemetry(tt,F.errorMessage)})}sendTelemetry(j,tt=""){const ot={clientType:this.telemetryUtilService.getClientType(),settingLabel:j.settingType,settingValue:E.getTelemetrySettingDescription(j.settingType,j.selectedOption),errorDetails:tt},F=new p.J8H(ot);this.telemetryService.push(F)}persistInGameGraphicsEnabled(){return this.getSettingsData().pipe((0,i.U)(j=>!(null==j||!j.inGameGraphics)&&j.inGameGraphics))}}return(P=K).\u0275fac=function(j){return new(j||P)(V.LFG(x.ed),V.LFG(c.OA),V.LFG(x.dF),V.LFG(C.y0),V.LFG(l.w),V.LFG(o.VK),V.LFG(x.Ob),V.LFG(n.O_))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),K})();var R=t(49481),_=t(73992),b=t(64555),I=t(15746),q=t(46939);const a=S.Gh.Gfn.Streaming;let y=(()=>{var P;class K{constructor(j,tt,ot,F,U){this.loggingService=j,this.bridgeService=tt,this.cloudVarService=ot,this.settingsService=F,this.telemetryService=U,this.isUpscalingVisibleSubject=new R.t(1),this.isAiSupportedSubject=new R.t(1),this.uiUpScaleDisplaySettingSubject=new R.t(1),this.aiSharpnessSettingSubject=new R.t(1),this.enhSharpnessSettingSubject=new R.t(1),this.nvScalerNvSharpSupportSubject=new R.t(1),this.logger=this.loggingService.getLogger("gfn/resolutionUpscaleService")}initialize(){this.setUpScalingOnAppLaunch()}saveSetting(j,tt,ot=!1){this.settingsService.storeChangedSettings({settingType:h.BqE[j],selectedOption:tt},ot),ot&&j===h.QZM.Resolution&&this.settingsService.storeChangedSettings({settingType:h.BqE.UpscalingModeUpdatedByUser,selectedOption:!0})}fetchUpScaleDefaultOptionId(){return this.cloudVarService.getFeatureToggle(h._P4.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID).pipe((0,I.b)(j=>{this.logger.info(`Resolution upscale default Id from gxtarget is ${j}`)}))}isValidId(j){return"number"==typeof j&&!Number.isNaN(j)}sendUpscalingErrorTelemetry(j,tt){const ot={settingType:j,selectedOption:null};(0,_.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).pipe((0,q.q)(1)).subscribe(F=>{this.settingsService.sendTelemetry(ot,tt.toString())})}getNvScalerNvSharpSupport(){return this.nvScalerNvSharpSupportSubject.asObservable()}setNvScalerNvSharpSupport(j){this.nvScalerNvSharpSupportSubject.next(j)}getUpscalingVisibility(){return this.isUpscalingVisibleSubject.asObservable()}setUpscalingVisibility(j){this.isUpscalingVisibleSubject.next(j)}getAiSupport(){return this.isAiSupportedSubject.asObservable()}setAiSupport(j){this.isAiSupportedSubject.next(j)}getUpScaleDisplaySetting(){return this.uiUpScaleDisplaySettingSubject.asObservable()}setUpScaleDisplaySetting(j){const tt=O.isNvScalerOrNvSharpen(j.id)?h.JrW.ENHANCED:O.getUpScaleSetting(j.id);this.uiUpScaleDisplaySettingSubject.next(tt)}getAiSharpnessSetting(){return this.aiSharpnessSettingSubject.asObservable()}setAiSharpnessSetting(j){this.aiSharpnessSettingSubject.next(j)}getEnhSharpnessSetting(){return this.enhSharpnessSettingSubject.asObservable()}setEnhSharpnessSetting(j){this.enhSharpnessSettingSubject.next(j)}setUpScalingOnAppLaunch(){if(x.ng.isBrowserLikePlatform())return;const j={filterSupportList:O.getUpScaleSettingList().map(tt=>({filterId:tt.id}))};this.bridgeService.executeCommand(a.GetMagnificationFilterSupportList,j).pipe((0,q.q)(1)).subscribe(tt=>{if(this.logger.info("Supported magnification filters.",tt),tt.filterSupportList){const ot=tt.filterSupportList.find(dt=>O.isEnhanced(dt.filterId)),F=!(null==ot||!ot.MagnificationFilterSupport);if(this.setUpscalingVisibility(F),!F)return void this.sendUpscalingErrorTelemetry(h._87.Enhanced,null==ot?void 0:ot.FrameFilterErrorInfo);const U=tt.filterSupportList.find(dt=>O.isNvScaler(dt.filterId)),z=tt.filterSupportList.find(dt=>O.isNvSharpen(dt.filterId)),Q=tt.filterSupportList.find(dt=>O.isAiEnhanced(dt.filterId));this.handleUpScaleSetting(U,z,Q)}},tt=>{this.logger.error("Magnification filter error.",tt)})}handleUpScaleSetting(j,tt,ot){const F=!(null==j||!j.MagnificationFilterSupport),U=!(null==tt||!tt.MagnificationFilterSupport),z=!(null==ot||!ot.MagnificationFilterSupport),Q=null==ot?void 0:ot.FrameFilterErrorInfo,dt=h.JrW.AI_ENHANCED.error[Q];this.setNvScalerNvSharpSupport({isNvScalerSupported:F,isNvSharpenSupported:U}),this.setAiSupport({isAiSupported:z,aiErrorMessage:dt}),this.settingsService.getSettingsData().pipe((0,q.q)(1)).subscribe(X=>{let m=null==X?void 0:X.upScalingResolutionId;const Y=null==X?void 0:X.upscalingModeUpdatedByUser,D=O.getSharpnessbyValue(null==X?void 0:X.aiSharpnessValue),N=O.getSharpnessbyValue(null==X?void 0:X.enhancedSharpnessValue);if(this.setAiSharpnessSetting(D),this.setEnhSharpnessSetting(N),z||(this.sendUpscalingErrorTelemetry(h._87.AiEnhanced,Q),O.isAiEnhanced(m)&&(m=null)),this.isValidId(m)&&Y)switch(this.setMagnificationFilter(m),m){case h.JrW.AI_ENHANCED.id:this.setSharpnessFilter(D);break;case h.JrW.ENHANCED.id:(F||U)&&this.setSharpnessFilter(N)}else this.fetchUpScaleDefaultOptionId().pipe((0,q.q)(1)).subscribe(Z=>{this.setMagnificationFilter(Z),this.saveSetting(h.QZM.Resolution,Z,!1),(F||U)&&this.setSharpnessFilter(N)},Z=>{this.logger.error("Failed to get default upscale id from GXT ",Z)})},X=>{this.logger.error("Failed to get settings ",X)})}setMagnificationFilter(j){let tt;(0,b.aj)([this.getNvScalerNvSharpSupport(),this.getEnhSharpnessSetting()]).pipe((0,q.q)(1)).subscribe(([ot,F])=>{!O.isSharpnessOff(F)&&O.isEnhanced(j)&&(tt=ot.isNvScalerSupported&&h.JrW.NV_SCALER.id||ot.isNvSharpenSupported&&h.JrW.NV_SHARP.id),this.processMagnificationFilter(tt||j)})}processMagnificationFilter(j){const tt=O.getUpScaleSetting(j);tt&&this.bridgeService.executeCommand(a.SetMagnificationFilter,{filterId:tt.id}).pipe((0,q.q)(1)).subscribe(()=>{this.setUpScaleDisplaySetting(tt),this.logger.info("Resolution upscaling changed to ",tt.id,tt.value)},F=>{this.logger.error("Failed to change resolution upscaling to ",tt.id,tt.value,F)})}setSharpnessFilter(j){const tt=j.value;this.bridgeService.executeCommand(a.SetMagnificationFilterSharpness,{sharpness:tt}).pipe((0,q.q)(1)).subscribe(()=>{this.logger.info("Sharpness changed to ",tt)},F=>{this.logger.error("Failed to change sharpness to ",tt,F)})}}return(P=K).\u0275fac=function(j){return new(j||P)(V.LFG(x.ed),V.LFG(x.dF),V.LFG(h.$lO),V.LFG(h.gbG),V.LFG(C.y0))},P.\u0275prov=V.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),K})();var M=t(58367)},58367:(Dt,ct,t)=>{"use strict";t.d(ct,{G:()=>dt});var e=t(49481),i=t(32484),L=t(70462),f=t(64555),x=t(5717),S=t(9681),u=t(14430),g=t(93190),h=t(47422),O=t(45083),E=t(87965),w=t(15746),p=t(680),V=t(85046),c=t(36520),C=t(46939),l=t(58175),o=t(23675),n=t(47178),R=t(10703),b=t(13963),I=t(64794),q=t(78943),a=t(99484),y=t(11904),M=t(77869),P=t(88589),K=t(61699),B=t(15665),j=t(94386),tt=t(87815),ot=t(7749),F=t(30427),U=t(94076),z=t(43559),Q=t(19165);let dt=(()=>{var X;class m{constructor(D,N,Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt){this.loggingService=D,this.sharedStorageService=N,this.systemInfoService=Z,this.bridgeService=W,this.networkConfigService=A,this.config=d,this.ecommerceService=H,this.idmService=$,this.nativeEventService=J,this.redirectService=st,this.lcarsService=lt,this.translateParser=gt,this.remoteConfigurationService=vt,this.libLoggingService=k,this.eventStreamFactory=pt,this.fpsList=[I.vG.Value60,I.vG.Value30],this.bitDepthListsSubject=new e.t(1),this.updatedPresetProfiles={...I.yD},this.updatedBitrateValues=I.qL,this.audioChannelCount=y.UM.STEREO,this.streamingProfileGuid=(0,M.Rl)(),this.streamingProfileGuidSubject=new e.t(1),this.isPlatformSupportsUHD$=new e.t(1),this.isPlatformSupportsFps$=new e.t(1),this.displayModeChanged$=new i.xQ,this.gameFeaturePropertiesSubject$=new e.t,this.hdrDecodeSupportedSubject$=new L.X(!1),this.hdrRenderingSupportedSubject$=new L.X(!1),this.hdrLearnMoreUrlSubject$=new e.t,this.isHdrToggleTurnedOffSubject$=new e.t,this.isReflexToggleTurnedOffSubject$=new e.t,this.streamingModeSubject$=new e.t,this.reflexLearnMoreUrlSubject$=new e.t,this.upsellFlags={},this.deviceCapabilitiesReady$=new e.t(1),this.modeSelectionReady$=new e.t(1),this.availableResolutionList$=new e.t(1),this.subscriptionBitDepthList=[],this.uwResolutions=[],this.isPresetProfileDetailsExpanded=!1,this.isCustomProfileDetailsExpanded=!0,this.logger=this.loggingService.getLogger("streaming-profile.service"),this.isBrowserPlatform=b.ng.isBrowserPlatform(),this.updateConfigurationVariables(),this.registerEvents(),this.initializeMembers()}get SupportedResolutionList(){return this.supportedResolutionList}get UnsupportedDisabledResolutionsList(){return this.unsupportedDisabledResolutionsList}get IsPlatformSupportsHDRDecode(){return this.hdrDecodeSupportedSubject$.value}get IsPlatformSupportsHDRRendering(){return this.hdrRenderingSupportedSubject$.value}get IsPlatformSupportsCloudGsync(){var D;return null===(D=this.cloudGsyncCapabilities)||void 0===D?void 0:D.platformSupportsCloudGsync}get IsVrrDisplayDetected(){var D;return null===(D=this.cloudGsyncCapabilities)||void 0===D?void 0:D.isVrrCapableDisplay}get isGsyncDisplay(){var D;return null===(D=this.cloudGsyncCapabilities)||void 0===D?void 0:D.isGsyncDisplay}get CloudGsyncDependencies(){var D;return null===(D=this.cloudGsyncCapabilities)||void 0===D?void 0:D.cloudGsyncDependencies}get isL4SFeatureEnabled(){return this.l4SFeatureEnabled}get isBitDepthFeatureEnabled(){return this.bitDepthFeatureEnabled}getAvailableResolutionList(){return this.availableResolutionList$.asObservable()}initializeStreamingProfiles$(D=!1){if(this.initializeStreamingProfilesObservable$)return this.initializeStreamingProfilesObservable$;const N=this.systemInfoService.getSystemInfo([b.l7.Network]).pipe((0,h.U)(Z=>Z.Network),(0,O.x)());return this.initializeStreamingProfilesObservable$=(0,f.aj)([N,this.isPlatformSupportsUHD$.asObservable(),this.isPlatformSupportsFps$.asObservable(),this.subscriptionInfoStream.get$()]).pipe((0,E.zg)(([Z,W,A,d])=>(this.networkInfo=Z,this.updateStreamingModeFromEntitlementData(),this.updateMaxBitrate(),this.supportedResolutionList=this.getSupportedResolutionsAndFpsList(d,W,A),this.availableResolutionList=this.supportedResolutionList.filter(H=>H.enabled),this.availableResolutionList$.next(this.availableResolutionList),this.getDeviceCapabilities$(D))),(0,w.b)(()=>{this.updateBitDepthList(),this.updateStreamingAudioFormat(this.subscriptionFeatures)}),(0,p.d)(1)),this.initializeStreamingProfilesObservable$}clientModeSelectionLogCallback(D){this.libLoggingService.sendLog({logModule:"ClientModeSelection",timeStamp:"",logLevel:"d"===D.level?b.in.DEBUG:"w"===D.level?b.in.WARN:b.in.INFO,logTag:D.tag,logStr:D.message})}setSubscriptionFeaturesAndGetResolutions(D){var N,Z,W,A;this.subscriptionFeatures=null===(N=D.subscription)||void 0===N?void 0:N.features,this.subscriptionStreamingQualities=null===(Z=D.subscription)||void 0===Z?void 0:Z.streamingQualities,this.subscriptionBitDepthList=this.getSubscriptionBitDepthList(this.subscriptionFeatures);let H=null===(W=D.subscription)||void 0===W||null===(W=W.features)||void 0===W?void 0:W.resolutions;var $,J,st;return D.membershipStatus!==a.Tn.Entitled&&(H=null===($=D.unentitledUserData)||void 0===$?void 0:$.resolutions,H=null===(J=H)||void 0===J?void 0:J.map(lt=>({...lt,isEntitled:!0})),this.subscriptionFeatures={resolutions:H,features:[]},this.subscriptionStreamingQualities=null===(st=D.unentitledUserData)||void 0===st?void 0:st.streamingQualities),null===(A=H)||void 0===A||A.sort(function(lt,gt){return gt.widthInPixels*gt.heightInPixels-lt.widthInPixels*lt.heightInPixels}),H}initSubscriptionInfoStream(){this.subscriptionInfoStream=this.eventStreamFactory.createStream(()=>this.ecommerceService.getUserMembership().pipe((0,V.h)(D=>D.membershipStatus!==a.Tn.UnKnown),(0,h.U)(D=>this.setSubscriptionFeaturesAndGetResolutions(D)),(0,V.h)(D=>(null==D?void 0:D.length)>0),(0,w.b)(()=>this.deviceCapabilitiesFetched$=null)))}getDeviceCapabilities$(D=!1){return this.deviceCapabilitiesFetched$&&!D||(this.deviceCapabilitiesFetched$=(0,f.aj)([this.subscriptionInfoStream.get$(),this.modeSelectionReady$.asObservable()]).pipe((0,c.w)(([N,Z])=>{const W=this.modeSelection.sortModes(N.map(d=>({width:d.widthInPixels,height:d.heightInPixels,fps:d.framesPerSecond})),{width:0,height:0,fps:0},[{field:"fps-abs",dir:"desc"},{field:"pixel-count-abs",dir:"desc"}]);return this.logger.info("GetDeviceCapabilities parameters: ",W),this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.GetDeviceCapabilities,{supportedModes:W}).pipe((0,h.U)(d=>this.processDeviceCapabilitiesResponse(d)))}),(0,C.q)(1),(0,p.d)(1))),this.deviceCapabilitiesFetched$}processDeviceCapabilitiesResponse(D){this.logger.info("GetDeviceCapabilities response: ",D),this.deviceCapabilities=D;const N=this.deviceCapabilities.features.bitDepth>=10,Z=N&&this.deviceCapabilities.features.hdr;return this.hdrDecodeSupportedSubject$.next(N),this.hdrRenderingSupportedSubject$.next(Z),this.logger.info("IsPlatformSupportsHDRStreaming: decode, rendering ",N,Z),this.deviceCapabilitiesReady$.next(),!0}getCachedGxtOverrides(){return this.remoteConfigurationService.loadPreviousOverrides().pipe((0,h.U)(D=>null!=D&&D.data&&null!=D&&D.isFetchedFromGXT?JSON.stringify(D.data):(this.logger.info("No GXT overrides available."),"")),(0,C.q)(1))}initializeMembers(){this.initSubscriptionInfoStream(),this.initializeStreamingProfiles$().subscribe(x.Z,x.Z),this.fetchPlatformSupportFps(),this.fetchIsPlatformSupportsUHD(),this.previousStreamingProfile=this.getSpecificPresetProfile(),this.gameFeaturePropertiesInitialized$().subscribe(),this.getCachedGxtOverrides().subscribe(D=>{this.modeSelection=new R.ClientModeSelection(D),this.modeSelection.setLogCallback(N=>this.clientModeSelectionLogCallback(N)),this.modeSelectionReady$.next()})}registerEvents(){this.idmService.accountStatusChanged.subscribe(()=>{this.logger.info("Streaming profile reset for user account change."),this.initializeStreamingProfilesObservable$=null,this.clearCachedStreamingProfile()}),this.displayModeChangeListener$().pipe((0,w.b)(()=>this.logger.info("Received Display mode changed event.")),(0,E.zg)(()=>this.getDeviceCapabilities$(!0)),(0,E.zg)(()=>this.fetchPlatformSupportCloudGsync$(!0))).subscribe(()=>{this.displayModeChanged$.next(!0)},D=>{this.logger.error("Error in DisplayModeChange event.",D)})}updateStreamingModeFromEntitlementData(){Object.values(I.M1).filter(D=>D!==I.M1.Custom).forEach(D=>{const N=this.ecommerceService.getStreamingModeDetails(D);let Z=this.updatedPresetProfiles[D];!N||!Z||(Z={...Z,...N},this.updatedPresetProfiles[D]=Z)})}updateMaxBitrate(){const D=this.ecommerceService.getMaxBitrate();D&&(this.updatedBitrateValues.bitRateMin=D.minBitrateValue,this.updatedBitrateValues.bitRateMax=D.maxBitrateValue)}updateBitDepthList(){const D=[],N=[];this.subscriptionBitDepthList.sort((W,A)=>A.value-W.value);const Z=this.deviceCapabilities.features.sdrBitDepth||this.deviceCapabilities.features.bitDepth||I.Kc.value;this.subscriptionBitDepthList.forEach(W=>{W.value>Z?(W.enabled=!1,N.push(W)):D.push(W)}),this.bitDepthListsSubject.next([D,N])}initializeGameFeatureProperties$(){return this.gameFeatureProperties$||(this.gameFeatureProperties$=(0,f.aj)([this.fetchHdrToggleState$(),this.fetchHdrLearnMoreUrl$().pipe((0,C.q)(1)),this.deviceCapabilitiesReady$.asObservable(),this.fetchSelectedStreamingMode$(),this.fetchReflexLearnMoreUrl$().pipe((0,C.q)(1)),this.fetchReflexToggleState$()]).pipe((0,c.w)(()=>this.gameFeaturePropertiesSubject$.asObservable()),(0,p.d)(1))),this.gameFeatureProperties$}updateConfigurationVariables(){var D,N,Z,W,A,d,H,$,J,st,lt,gt;this.l4SFeatureEnabled=!(null===(D=this.config)||void 0===D||null===(D=D.productV2)||void 0===D||!D.l4sFeatureEnabled),this.bitDepthFeatureEnabled=!(null===(N=this.config)||void 0===N||null===(N=N.productV2)||void 0===N||!N.bitDepthFeatureEnabled);const vt=null===(Z=this.config)||void 0===Z||null===(Z=Z.client)||void 0===Z||null===(Z=Z.streamingModeResolutionsConfiguration)||void 0===Z?void 0:Z.resolutionBadges;this.resolutionBadges=vt?Object.entries(vt).map(k=>k[1]):[],null!=vt&&null!==(W=vt.uwQHD)&&void 0!==W&&W.resolutions&&this.uwResolutions.push(...vt.uwQHD.resolutions),null!=vt&&null!==(A=vt.uwFHD)&&void 0!==A&&A.resolutions&&this.uwResolutions.push(...vt.uwFHD.resolutions),this.unsupportedResolutionIdentifier=null===(d=this.config)||void 0===d||null===(d=d.client)||void 0===d||null===(d=d.streamingModeResolutionsConfiguration)||void 0===d?void 0:d.unsupportedResolutionIdentifier,this.displayUnsupportedResolution=null===(H=this.config)||void 0===H||null===(H=H.client)||void 0===H||null===(H=H.streamingModeResolutionsConfiguration)||void 0===H?void 0:H.displayUnsupportedResolution,this.unsupportedFpsIdentifier=null===($=this.config)||void 0===$||null===($=$.client)||void 0===$||null===($=$.streamingModeResolutionsConfiguration)||void 0===$?void 0:$.unsupportedFpsIdentifier,this.displayUnsupportedFps=null===(J=this.config)||void 0===J||null===(J=J.client)||void 0===J||null===(J=J.streamingModeResolutionsConfiguration)||void 0===J?void 0:J.displayUnsupportedFps,this.uhdResolutionIdentifier=null===(st=this.config)||void 0===st||null===(st=st.client)||void 0===st||null===(st=st.streamingModeResolutionsConfiguration)||void 0===st||null===(st=st.resolutionIdentifier)||void 0===st?void 0:st.UHD,this.fpsCheckNotNeeded=null===(lt=this.config)||void 0===lt||null===(lt=lt.client)||void 0===lt||null===(lt=lt.streamingModeResolutionsConfiguration)||void 0===lt?void 0:lt.fpsCheckNotNeeded,this.platformSupportVsync=!(null===(gt=this.config)||void 0===gt||null===(gt=gt.client)||void 0===gt||null===(gt=gt.streamingModeResolutionsConfiguration)||void 0===gt||!gt.platformSupportVsync)}gameFeaturePropertiesInitialized$(){return(0,f.aj)([this.getIsHdrToggleTurnedOff$(),this.getHdrLearnMoreUrl$(),this.getIsPlatformSupportsHDRDecode$(),this.getIsPlatformSupportsHDRRendering$(),this.getStreamingMode$(),this.getReflexLearnMoreUrl$(),this.getIsReflexToggleTurnedOff$()]).pipe((0,h.U)(([D,N,Z,W,A,d,H])=>(this.gameFeaturePropertiesSubject$.next({hdrToggledOff:D,hdrLearnMoreUrl:N,hdrDecodeSupported:Z,hdrRenderSupported:W,streamingMode:A,reflexLearnMoreUrl:d,reflexToggledOff:H}),!0)),(0,p.d)(1))}getIsPlatformSupportsHDRDecode$(){return this.hdrDecodeSupportedSubject$.asObservable()}getIsPlatformSupportsHDRRendering$(){return this.hdrRenderingSupportedSubject$.asObservable()}getIsHdrToggleTurnedOff$(){return this.isHdrToggleTurnedOffSubject$.asObservable()}getHdrLearnMoreUrl$(){return this.hdrLearnMoreUrlSubject$.asObservable()}getStreamingMode$(){return this.streamingModeSubject$.asObservable()}getReflexLearnMoreUrl$(){return this.reflexLearnMoreUrlSubject$.asObservable()}getIsReflexToggleTurnedOff$(){return this.isReflexToggleTurnedOffSubject$.asObservable()}getStreamingProfileGuid(){return this.streamingProfileGuidSubject.asObservable()}updateStreamingProfileGuid(D){(0,n.isEqual)(D,this.previousStreamingProfile)||(this.streamingProfileGuid=(0,M.Rl)(),this.previousStreamingProfile=D),this.streamingProfileGuidSubject.next(this.streamingProfileGuid)}getSpecificPresetProfile(D=I.M1.Balanced){return{...this.updatedPresetProfiles[D]}}getAutoMaxBitrateValue(D,N,Z){const W=[];return W.push({frameRate:Z,height:N,width:D}),this.getAutoMaxBitrateValueForResolutionArray(W).pipe((0,C.q)(1),(0,h.U)(A=>A[0].maxBandwidth))}getAutoMaxBitrateValueForResolutionArray(D){return this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.PlatformGetMaxBitRateForArray,{resolutions:D}).pipe((0,C.q)(1),(0,h.U)(Z=>{this.logger.info("PlatformGetMaxBitRateForArray response: ",Z);const W=Z.resolutions;return null==W||W.forEach(A=>{A.maxBandwidth=Math.round(A.maxBandwidth/1e3)}),W}),(0,l.K)(Z=>{this.logger.error("Error in PlatformGetMaxBitRateForArray bridge command: ",Z);const W=[];return D.forEach(A=>{W.push({width:A.width,height:A.height,fps:A.frameRate,maxBandwidth:0})}),(0,S.of)(W)}))}getResolutionLabel(D,N){var Z;return null===(Z=this.resolutionBadges.filter(W=>W.resolutions.some(A=>A.height===N&&A.width===D))[0])||void 0===Z?void 0:Z.badgeUrl}isCustomDataInSubscription(D){var N;return void 0!==(null===(N=this.availableResolutionList)||void 0===N?void 0:N.some(W=>{var A;return W.height===D.height&&W.width===D.width&&(null===(A=W.fpsList)||void 0===A?void 0:A.some(d=>d.value===D.fps&&d.enabled))}))&&this.isCustomModeFeaturesEntitled(D)}isCustomModeFeaturesEntitled(D){return(!D.cloudGsync||this.ecommerceService.featureEntitled(y.xA.CLOUD_GSYNC))&&(!D.hdrStreaming||this.ecommerceService.featureEntitled(y.xA.HDR_ENABLED))&&(!D.reflex||this.ecommerceService.featureEntitled(y.xA.ENABLED_REFLEX))&&(!D.l4sEnabled||this.ecommerceService.featureEntitled(y.xA.ENABLED_L4S))}getProfileNamesList(){return this.isBrowserPlatform||b.ng.isAndroidPlatform()?[I.V9.BALANCED,I.V9.CUSTOM]:[I.V9.BALANCED,I.V9.DATA_SAVER,I.V9.COMPETITIVE,I.V9.CUSTOM]}isVsyncSupported(){return!(b.ng.isAndroidPlatform()||b.ng.isBrowserPlatform())}calculateDataUsage(D,N,Z,W){return this.logger.info("Calculate data usage, params: ",D,N,Z,W),this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.CalculateDataUsage,{width:D,height:N,frameRate:Z,bitRateKbps:1e3*W}).pipe((0,C.q)(1),(0,h.U)(d=>(this.logger.info("CalculateDataUsage response: ",d),d.dataUsage)),(0,l.K)(d=>(this.logger.error("Error in CalculateDataUsage bridge command: ",d),(0,S.of)(0))))}updateStreamingAudioFormat(D){var N,Z;const W=null==D||null===(N=D.features)||void 0===N||null===(N=N.find(d=>d.key===y.xA.SUPPORTED_AUDIO_FORMATS))||void 0===N?void 0:N.textValue,A=W&&W!==y.UM[0]?y.UM[W]:y.UM.STEREO;(0,n.isUndefined)(null===(Z=this.deviceCapabilities)||void 0===Z||null===(Z=Z.features)||void 0===Z?void 0:Z.audioChannelCount)||(this.audioChannelCount=Math.min(A,this.deviceCapabilities.features.audioChannelCount))}getSubscriptionBitDepthList(D){var N;const Z=null==D||null===(N=D.features)||void 0===N||null===(N=N.find(W=>W.key===y.xA.BIT_DEPTH))||void 0===N?void 0:N.textValue;return Z?JSON.parse(Z).map(d=>({value:JSON.parse(d.value),enabled:d.isEntitled})):[]}calculateAspectRatio(D,N,Z=!0){const W=D/N;let A=I.OK[0];for(const d of I.OK)Math.abs(W-d.ratio)<Math.abs(W-A.ratio)&&(A=d);return Z&&this.logger.info("Calculate Formatted Aspect Ratio for resolution: ",D,N,A.formattedRatio),A.formattedRatio}getResolution(D,N){return{width:D,height:N,ratio:this.calculateAspectRatio(D,N,!1),enabled:!0,label:this.getResolutionLabel(D,N)}}getPrimaryDisplayResolution(D=I.AN.Logical){return this.isBrowserPlatform||b.ng.isAndroidPlatform()?this.systemInfoService.getSystemInfo([b.l7.Display]).pipe((0,h.U)(N=>{const Z=N.Display,W=Z[0].PhysicalResolution.split("x"),A=Z[0].LogicalResolution.split("x");let d;return this.physicalResolution={width:parseInt(W[0],10),height:parseInt(W[1],10),fps:parseInt(Z[0].RefreshRate,10)},d=D===I.AN.Logical?{width:parseInt(A[0],10),height:parseInt(A[1],10),fps:parseInt(Z[0].RefreshRate,10)}:this.physicalResolution,this.config.featureEnablement.landscapeOnlyStreaming&&(d={...d,width:Math.max(d.width,d.height),height:Math.min(d.width,d.height)},this.physicalResolution={...this.physicalResolution,width:Math.max(this.physicalResolution.width,this.physicalResolution.height),height:Math.min(this.physicalResolution.width,this.physicalResolution.height)}),this.logger.info(`Primary display ${D} resolution: `,d),d})):this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.GetDisplayMode).pipe((0,C.q)(1),(0,h.U)(N=>{let Z;return this.physicalResolution={width:N.physical.width,height:N.physical.height,fps:N.physical.refreshRate},Z=D===I.AN.Logical?{width:N.logical.width,height:N.logical.height,fps:N.logical.refreshRate}:this.physicalResolution,this.logger.info(`Active display mode ${D} resolution: `,N),Z}))}getCurrentPhysicalResolution(){return this.physicalResolution?{horizontalPixels:this.physicalResolution.width,verticalPixels:this.physicalResolution.height}:null}getNetworkType(){switch(this.networkInfo.NetworkType){case b.VV.WiFi2_4:return 2;case b.VV.WiFi5_0:return 3;case b.VV.Ethernet:return 1}return 0}getProfileNameType(D=I.M1.Balanced){switch(D){case I.M1.Competitive:return 2;case I.M1.DataSaver:return 3}return 1}getStreamingProfileName(){return this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,h.U)(D=>{let N=D[I.Bq.StreamingProfiles];return N=(0,n.isUndefined)(N)?I.M1.Balanced:N,N}))}getStreamingProfile(D=0,N){return this.streamingProfile$&&0===D||(this.streamingProfile$=(0,f.aj)([this.sharedStorageService.readBlock(I.Bq.BlockName),this.getPrimaryDisplayResolution(),this.networkConfigService.getCurrentFingerprintMaxDisplay(),this.networkConfigService.getCurrentFingerprintMaxPacketSize(),this.initializeStreamingProfiles$()]).pipe((0,C.q)(1),(0,E.zg)(([Z,W,A,d,H])=>{this.settingsBlock=(0,n.merge)({},Z);let $=null!=N?N:this.settingsBlock[I.Bq.StreamingProfiles];$=(0,n.isUndefined)($)?I.M1.Balanced:$;const J=this.getProfileNameType($);let st=!1;if($===I.M1.Custom){const yt=this.settingsBlock[I.Bq.CustomProfile];if(!(0,n.isUndefined)(yt)&&this.isCustomDataInSubscription(yt)){const Xt={...yt,audioMode:this.audioChannelCount,l4sEnabled:yt.l4sEnabled&&yt.drc};return(0,S.of)(this.setupProfileData(Xt,D,$,d,W,Z,A))}(0,n.isUndefined)(yt)||(st=!0)}const lt=this.getSpecificPresetProfile($!==I.M1.Custom?$:I.M1.Balanced),gt=this.modeSelection.parseSubscription(this.subscriptionFeatures,this.subscriptionStreamingQualities),{desired:vt,options:k}=gt.get(J);return k.selectKind=D,k.networkType=this.getNetworkType(),A&&0===D&&$!==I.M1.Custom&&(k.networkMaxMode={...A,fps:A.frameRate}),k.desiredFeatures.vsync=lt.vSync,k.desiredFeatures.hdr=lt.hdrStreaming,k.desiredFeatures.reflex=lt.reflex,k.desiredFeatures.cloudGsync=lt.cloudGsync,k.desiredFeatures.audioChannelCount=this.audioChannelCount,(0,u.s)(()=>st,this.storeCustomProfileData(null,!0).pipe((0,w.b)(()=>this.logger.info("Streaming mode reset to default due to requested features outside entitlement"))),(0,S.of)(!0)).pipe((0,h.U)(()=>this.getStreamingMode(vt,k,J,lt,$,d,W,Z,A,D)))}),(0,l.K)(Z=>(this.logger.error("Error getting profiles settings from sharedStorage: (default profile data used)",Z),(0,S.of)(this.setupProfileData(this.getSpecificPresetProfile(),D)))),(0,w.b)(Z=>this.updateStreamingProfileGuid(Z)),(0,p.d)(1))),this.streamingProfile$}getStreamingMode(D,N,Z,W,A,d,H,$,J,st){const lt=this.modeSelection.selectModeWithProfile(D,this.deviceCapabilities,N,Z);return this.logger.info("modeSelection.selectModeWithProfile: response ",lt),W.width=lt.selectedVideoMode.width,W.height=lt.selectedVideoMode.height,W.fps=lt.selectedVideoMode.fps,W.audioMode=lt.selectedFeatures.audioChannelCount,W.cloudGsync=lt.selectedFeatures.cloudGsync,W.hdrStreaming=lt.selectedFeatures.hdr,W.reflex=lt.selectedFeatures.reflex,W.vSync=lt.selectedFeatures.vsync,W.l4sEnabled=lt.selectedFeatures.l4s,W.bitDepth=lt.selectedFeatures.bitDepth,this.setupProfileData(W,st,A,d,H,$,J)}setupProfileData(D,N,Z,W,A,d,H){return Z&&(D.name=Z),W&&(D.maxPacketSize=W),A&&(D.primaryDisplayResolution=A),d&&(D.sharedSettings=d),H&&(D.currentFingerprintMaxDisplay=H),D.networkInfo=this.networkInfo,0===N&&(D.maxBitrate=1e3*D.maxBitrate),D.aspectRatio=this.calculateAspectRatio(D.width,D.height),this.logger.info("Settings for "+(0===N?"streaming are: ":"display are: "),D),D}clearCachedStreamingProfile(){this.streamingProfile$=null}readCustomProfileData(){return this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,h.U)(D=>(this.settingsBlock=(0,n.merge)({},D),this.logger.info("Read settings block from sharedStorage: ",D),D[I.Bq.CustomProfile])))}storeCustomProfileData(D,N){return this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,E.zg)(Z=>(N?delete this.settingsBlock[I.Bq.CustomProfile]:(this.settingsBlock=(0,n.merge)({},Z),this.settingsBlock[I.Bq.CustomProfile]=D),this.sharedStorageService.writeBlock(I.Bq.BlockName,this.settingsBlock))))}getFpsList(){return this.fpsList}getBitDepthLists$(){return this.bitDepthListsSubject.asObservable()}getFpsOption(D){return{value:D.framesPerSecond,displayName:D.framesPerSecond+I.HH,enabled:D.isEntitled}}getSupportedResolutionsAndFpsList(D,N,Z){const W=[];if(this.unsupportedDisabledResolutionsList=[],0===(null==D?void 0:D.length)){this.logger.info("Subscription resolution list is empty using default custom resolution");const A=this.getSpecificPresetProfile(),d=this.getResolution(A.width,A.height);W.push(d)}else D.forEach(A=>{if(!W.some(H=>H.width===A.widthInPixels&&H.height===A.heightInPixels)){const H=this.getResolution(A.widthInPixels,A.heightInPixels),$=D.filter(J=>J.widthInPixels===H.width&&J.heightInPixels===H.height);if(!N&&H.height*H.width>=this.unsupportedResolutionIdentifier)return void(this.displayUnsupportedResolution&&(this.unsupportedDisabledResolutionsList.push(H),H.enabled=!1));if(H.enabled=null==$?void 0:$.some(J=>J.isEntitled),H.enabled){var d;H.fpsList=$.map(st=>this.getFpsOption(st)),null===(d=H.fpsList)||void 0===d||d.sort((st,lt)=>lt.value-st.value);const J=H.fpsList.filter(st=>!this.fpsCheckNotNeeded&&st.value>=this.unsupportedFpsIdentifier);if(J.length>0){const st=[];J.forEach(lt=>{Z||st.push(lt)}),st.length>0&&(H.fpsList=H.fpsList.filter(lt=>!st.some(gt=>gt.value===lt.value)),this.displayUnsupportedFps&&(H.unsupportedFpsList=st.map(lt=>({...lt,enabled:!1}))))}}W.push(H)}});return W}fetchIsPlatformSupportsUHD(){this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.IsPlatformSupportsUHD).subscribe(D=>{this.logger.info("IsPlatformSupportsUHD response: ",D),this.isPlatformSupportsUHD$.next(D)},D=>{this.logger.error("IsPlatformSupportsUHD error: ",D.toString()),this.isPlatformSupportsUHD$.next(!1)})}fetchPlatformSupportFps(){return this.fpsCheckNotNeeded?(this.logger.info("IsPlatformSupportsFps not checked for unsupported clients. False."),void this.isPlatformSupportsFps$.next(!1)):this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.IsPlatformSupportFps,{frameRates:[{value:this.unsupportedFpsIdentifier}]}).subscribe(D=>{var N;this.logger.info("isPlatformSupportsFps response: ",D),this.isPlatformSupportsFps$.next(null==D||null===(N=D.frameRates[0])||void 0===N?void 0:N.supported)},D=>{this.logger.error("isPlatformSupportsFps error: ",D.toString()),this.isPlatformSupportsFps$.next(!1)})}getResolutionUpsellMessage(D,N){var Z;const W=null===(Z=D.subscription)||void 0===Z||null===(Z=Z.features)||void 0===Z||null===(Z=Z.resolutions)||void 0===Z?void 0:Z.some(d=>d.widthInPixels*d.heightInPixels>=this.uhdResolutionIdentifier.lowerLimit);return{parameter:N&&W?I.lL:I.$f}}getFpsUpsellMessage(D,N){var Z;return{parameter:(null===(Z=D.subscription)||void 0===Z||null===(Z=Z.features)||void 0===Z||null===(Z=Z.resolutions)||void 0===Z?void 0:Z.some(d=>d.framesPerSecond===I.vG.Value240.value))&&N?I.vo:I.iU}}getPlatformSpecificBalancedPresetResolution(){var D,N;const Z=this.getSpecificPresetProfile();if(Z&&null!==(D=this.availableResolutionList)&&void 0!==D&&D.length&&(null===(N=this.availableResolutionList)||void 0===N||!N.some(A=>A.height===(null==Z?void 0:Z.height)&&A.width===(null==Z?void 0:Z.width)))){var W;const A=Object.assign({},Z);return A.width=this.availableResolutionList[0].width,A.height=this.availableResolutionList[0].height,A.fps=null===(W=this.availableResolutionList)||void 0===W||null===(W=W.find(d=>d.width===A.width&&d.height===A.height))||void 0===W||null===(W=W.fpsList[0])||void 0===W?void 0:W.value,A}return Z}getMaxbitRateList(){return(0,n.cloneDeep)(I.Z6)}getvSyncList(){return(0,n.cloneDeep)([I.OA.ValueOn,I.OA.ValueOff,I.OA.ValueAdaptive])}fetchHdrLearnMoreUrl$(){return this.hdrLearnMoreUrl$||(this.hdrLearnMoreUrl$=this.redirectService.getRedirectUrl(P.hE.GfnPcHdrUnsupportedSystemsLearnMore).pipe((0,w.b)(D=>{this.hdrLearnMoreUrlSubject$.next(D)}),(0,p.d)(1))),this.hdrLearnMoreUrl$}fetchHdrToggleState$(D){return D&&this.isHdrToggleTurnedOff$&&(this.isHdrToggleTurnedOff$=null),this.isHdrToggleTurnedOff$||(this.isHdrToggleTurnedOff$=this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,h.U)(N=>{var Z;this.settingsBlock=(0,n.merge)({},N);const W=!(0,n.isUndefined)(this.settingsBlock[I.Bq.StreamingProfiles])&&this.settingsBlock[I.Bq.StreamingProfiles]===I.M1.Custom&&!(0,n.isUndefined)(null===(Z=this.settingsBlock[I.Bq.CustomProfile])||void 0===Z?void 0:Z.hdrStreaming)&&!this.settingsBlock[I.Bq.CustomProfile].hdrStreaming;return this.isHdrToggleTurnedOffSubject$.next(W),W}),(0,p.d)(1))),this.isHdrToggleTurnedOff$}onDisplayModeChanged(){return this.displayModeChanged$.asObservable()}getSettingsValueString(D){return D?"settings.streamingProfiles.on":"common.off"}getVsyncValueString(D){return D===I.OA.ValueOff.value?"common.off":D===I.OA.ValueOn.value?"settings.streamingProfiles.on":"settings.streamingProfiles.adaptive"}getHdrLabel(D,N){return this.IsPlatformSupportsHDRDecode?N?"common.off":this.IsPlatformSupportsHDRRendering?D?"settings.streamingProfiles.on":"common.off":"settings.streamingProfiles.hdrDisplayTip":"settings.streamingProfiles.hdrSystemUnsupportedTip"}getCloudGsyncLabel(D,N,Z,W){return this.fetchPlatformSupportCloudGsync$().pipe((0,h.U)(()=>this.getCloudGsyncLabelSync(D,N,Z,W)))}getCloudGsyncLabelSync(D,N,Z,W){var A;return this.IsPlatformSupportsCloudGsync?N?"common.off":this.IsVrrDisplayDetected?(0,n.isUndefined)(Z)||Z===I.OA.ValueAdaptive.value?!(0,n.isUndefined)(W)&&W<(null===(A=this.CloudGsyncDependencies)||void 0===A?void 0:A.minFpsForCloudGsync)?"settings.streamingProfiles.vrrFpsTip":D?"settings.streamingProfiles.on":"common.off":"settings.streamingProfiles.vrrVsyncTip":"settings.streamingProfiles.vrrNotDetected":"settings.streamingProfiles.hdrSystemUnsupportedTip"}getReflexLabel(D,N){return N||!D?"common.off":"settings.streamingProfiles.on"}getBitRateValues(){return this.updatedBitrateValues}displayModeChangeListener$(){return this.isBrowserPlatform?(0,g.R)(window,"resize").pipe((0,o.p)(100),(0,V.h)(()=>!!this.physicalResolution&&this.physicalResolution.width!==Math.floor(window.screen.width*window.devicePixelRatio))):this.nativeEventService.get$(b.Nx.DisplayModeChange,b.bi.Types.HandlerEventType.SimpleWindowEvent)}fetchPlatformSupportCloudGsync$(D){return this.isBrowserPlatform||b.ng.isAndroidPlatform()?(0,S.of)(I.xE):(D&&this.cloudGsyncCapabilities$&&(this.cloudGsyncCapabilities$=null),this.cloudGsyncCapabilities$||(this.cloudGsyncCapabilities$=this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.GetPlatformCloudGsyncCapabilities).pipe((0,C.q)(1),(0,h.U)(N=>(this.logger.info("fetchPlatformSupportCloudGsync response: ",N),this.cloudGsyncCapabilities=N,this.cloudGsyncCapabilities)),(0,l.K)(N=>(this.logger.info("fetchPlatformSupportCloudGsync error: ",N),(0,S.of)(null))),(0,p.d)(1))),this.cloudGsyncCapabilities$)}fetchReflexLearnMoreUrl$(){return this.reflexLearnMoreUrl$||(this.reflexLearnMoreUrl$=this.redirectService.getRedirectUrl(P.hE.GfnPcUnsupportedReflexLearnMore).pipe((0,w.b)(D=>{this.reflexLearnMoreUrlSubject$.next(D)}),(0,p.d)(1))),this.reflexLearnMoreUrl$}fetchSelectedStreamingMode$(D){return D&&this.streamingMode$&&(this.streamingMode$=null),this.streamingMode$||(this.streamingMode$=this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,h.U)(N=>{this.settingsBlock=(0,n.merge)({},N);const Z=(0,n.isUndefined)(this.settingsBlock[I.Bq.StreamingProfiles])?I.M1.Balanced:this.settingsBlock[I.Bq.StreamingProfiles];return this.streamingModeSubject$.next(Z),Z}),(0,p.d)(1))),this.streamingMode$}fetchReflexToggleState$(D){return D&&this.isReflexToggleTurnedOff$&&(this.isReflexToggleTurnedOff$=null),this.isReflexToggleTurnedOff$||(this.isReflexToggleTurnedOff$=this.sharedStorageService.readBlock(I.Bq.BlockName).pipe((0,h.U)(N=>{var Z;this.settingsBlock=(0,n.merge)({},N);const W=(0,n.isUndefined)(this.settingsBlock[I.Bq.StreamingProfiles])||this.settingsBlock[I.Bq.StreamingProfiles]===I.M1.Custom&&((0,n.isUndefined)(null===(Z=this.settingsBlock[I.Bq.CustomProfile])||void 0===Z?void 0:Z.reflex)||!this.settingsBlock[I.Bq.CustomProfile].reflex);return this.isReflexToggleTurnedOffSubject$.next(W),W}),(0,p.d)(1))),this.isReflexToggleTurnedOff$}clearSelectedModeAndToggles(){this.streamingMode$=null,this.isHdrToggleTurnedOff$=null,this.isReflexToggleTurnedOff$=null,this.gameFeatureProperties$=null}getClientUpsellMessages(D=I.qB){return(0,f.aj)([this.lcarsService.getUpsellMessages(),this.ecommerceService.getUserMembership(),this.isPlatformSupportsUHD$.asObservable(),this.isPlatformSupportsFps$.asObservable(),this.fetchPlatformSupportCloudGsync$(),this.getIsPlatformSupportsHDRDecode$()]).pipe((0,h.U)(([N,Z,W,A])=>{const d=this.getAllUpsellMessagesFromLCARSResponse(N),H=this.getResolutionUpsellMessage(Z,W),$=this.getFpsUpsellMessage(Z,A);return this.clientUpsellMessage=this.updateUpsellMessagesParameters(d,H,$),this.compileUpsellMessageArray(D)}),(0,p.d)(1),(0,l.K)(()=>(0,S.of)([])))}compileUpsellMessageArray(D){const N=[];return this.updateUpsellFlagValues(),D.forEach(Z=>{if(this.upsellFlags[Z]){const W=this.clientUpsellMessage[Z];W.length>0&&N.push(W)}}),N}updateUpsellFlagValues(){const D=this.ecommerceService.featureArrayUpsellAvailable(I.To);I.To.forEach((N,Z)=>{this.upsellFlags[N]=D[Z]}),this.upsellFlags[y.$c.SUPPORT_HDR]=this.upsellFlags[y.$c.SUPPORT_HDR]&&this.IsPlatformSupportsHDRDecode,this.upsellFlags[y.$c.SUPPORT_CLOUD_GSYNC]=this.upsellFlags[y.$c.SUPPORT_CLOUD_GSYNC]&&this.IsPlatformSupportsCloudGsync}updateUpsellMessagesParameters(D,N,Z){let W=D[y.$c.HIGHER_RESOLUTION],A=D[y.$c.HIGHER_FPS];return W=this.translateParser.interpolate(W,{resolution:N.parameter}),D[y.$c.HIGHER_RESOLUTION]=W,A=this.translateParser.interpolate(A,{fps:Z.parameter}),this.ecommerceService.featureUpsellAvailable(y.$c.SUPPORT_REFLEX)&&(A+=D[y.$c.SUPPORT_REFLEX]),D[y.$c.HIGHER_FPS]=A,D}getAllUpsellMessagesFromLCARSResponse(D){const N={},Z=Object.entries(D);return I.To.forEach(W=>{const A=Z.findIndex(d=>d[0]===W);N[W]=-1===A?"":Z[A][1]}),N}getMaxDisplayTestData(D){return this.getStreamingProfile().pipe((0,C.q)(1),(0,h.U)(N=>{const Z=null==N?void 0:N.primaryDisplayResolution;let W=[...this.availableResolutionList];if(D||this.clearCachedStreamingProfile(),(0,n.isNil)(W)||(0,n.isNil)(N)||N.name!==I.M1.Balanced)return null;W=W.sort((H,$)=>$.width*$.height-H.width*H.height);const A=this.getCappedFramerate(W,Z);return N.width<(null==Z?void 0:Z.width)||N.fps<A||N.height<(null==Z?void 0:Z.height)?this.isDisplayHighestForAspectRatio(N,W,A)?null:N:null}))}getCappedFramerate(D,N){var Z,W;if(!N||(null==D?void 0:D.length)<=0)return I.vG.Value60.value;let A=D.filter(H=>H.height*H.width==N.height*N.width);if((null===(Z=A)||void 0===Z?void 0:Z.length)<=0&&(A=D.filter(H=>H.height*H.width<N.height*N.width)),(null===(W=A)||void 0===W?void 0:W.length)>0){var d;const H=null===(d=A[0])||void 0===d||null===(d=d.fpsList)||void 0===d?void 0:d.filter($=>$.enabled);if((null==H?void 0:H.length)>0){const $=H.filter(J=>J.value<=N.fps+1);if((null==$?void 0:$.length)>0)return $[0].value}}return(null==N?void 0:N.fps)>=I.zP?I.vG.Value120.value:(null==N?void 0:N.fps)>=I.HQ?I.vG.Value60.value:I.vG.Value30.value}isDisplayHighestForAspectRatio(D,N,Z){for(const A of N){var W;if(A.width/A.height!=D.width/D.height)continue;let d=null===(W=A.fpsList.filter(H=>!0===H.enabled)[0])||void 0===W?void 0:W.value;return d=d<Z?d:Z,!(A.width>D.width||d>D.fps)}return!0}getProfileSettingOptions(D,N){const Z=[];return(N?I.JH:I.cA).forEach(A=>Z.push({id:A.id,display:this.isDisplaySettingOption(A),disabled:this.isSettingOptionDisable(A),label:this.getSettingOptionLabel(A),value:this.getSettingOptionValue(A,D),valuePlaceholder:this.getSettingOptionValuePlaceholder(A,D),kbaLinkRedirect:A.kbaLinkRedirect,shortUrl:A.shortUrl,valueBadgeImage:this.getSettingOptionValueBadgeImage(A,D)})),Z}getSettingOptionValueBadgeImage(D,N){return D.hasBadgeImage?this.getResolutionLabel(N.width,N.height):null}isDisplaySettingOption(D){let N=!0;return D.clientFeatureToggleKey?this[D.clientFeatureToggleKey]:(D.remoteFeatureToggleKey&&(N=this[D.remoteFeatureToggleKey]),D.displayByDefault||N&&this.ecommerceService.isFeatureAvailableToUser(D.entitlementFlag,D.upsellFlag))}isSettingOptionDisable(D){return!D.displayByDefault&&this.ecommerceService.featureUpsellAvailable(D.upsellFlag)}getSettingOptionLabel(D){return D.id===y.Uq.PROFILE_CLOUD_GSYNC?this.isGsyncDisplay?"settings.streamingProfiles.vrrGsyncDisplay":"settings.streamingProfiles.vrrDisplay":D.label}getSettingOptionValue(D,N){switch(D.id){case I.UI.PROFILE_MAXBITRATE:return 0!==N.maxBitrate?`${N.maxBitrate} Mbps`:"common.auto";case I.UI.PROFILE_RESOLUTION:return N.width+" x "+N.height+" "+N.aspectRatio;case I.UI.PROFILE_FPS:return N.fps+" FPS";case y.Uq.PROFILE_VSYNC:return this.getVsyncValueString(N.vSync);case y.Uq.PROFILE_CLOUD_GSYNC:return this.getCloudGsyncLabelSync(N.cloudGsync,this.ecommerceService.featureUpsellAvailable(D.upsellFlag));case y.Uq.PROFILE_REFLEX:return this.getReflexLabel(N.reflex,this.ecommerceService.featureUpsellAvailable(D.upsellFlag));case y.Uq.PROFILE_HDR:return this.getHdrLabel(N.hdrStreaming,this.ecommerceService.featureUpsellAvailable(D.upsellFlag));case y.Uq.PROFILE_BIT_DEPTH:return"settings.streamingProfiles.colorPrecisionValue";case y.Uq.PROFILE_ADJUST_FOR_NETWORK:return this.getSettingsValueString(N.drc);case y.Uq.PROFILE_L4S:return this.getSettingsValueString(N.l4sEnabled)}}getSettingOptionValuePlaceholder(D,N){return D.id===y.Uq.PROFILE_BIT_DEPTH?{bitDepth:N.bitDepth}:D.valuePlaceholder}}return(X=m).\u0275fac=function(D){return new(D||X)(K.LFG(b.ed),K.LFG(B.OA),K.LFG(b.Ob),K.LFG(b.dF),K.LFG(j.XS),K.LFG(tt.VK),K.LFG(a.BH),K.LFG(ot.No),K.LFG(b.o1),K.LFG(F.V),K.LFG(U.zc),K.LFG(z.qi),K.LFG(Q.s),K.LFG(b._V),K.LFG(M.O_))},X.\u0275prov=K.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),m})()},32244:(Dt,ct,t)=>{"use strict";t.d(ct,{RI:()=>e,sB:()=>p});var e=function(V){return V.ServerInfo="ServerInfo",V.AppMetadata="AppMetadata",V.CountryCode="CountryCode",V}(e||{});const i="SharedStorageCache";var L=t(9681),f=t(58175),x=t(87965),S=t(99901),u=t(47422),g=t(47178),h=t(61699),O=t(13963),E=t(15665),w=t(87815);let p=(()=>{var V;class c{constructor(l,o,n){this.sharedStorageService=o,this.appConfig=n,this.logger=l.getLogger("gfn/Shared-Storage-Caching")}readSharedStorageCache(){return this.sharedStorageService.readBlock(i).pipe((0,f.K)(l=>(this.logger.info("Got error reading cache from shared storage:",l),(0,L.of)({}))))}saveItem(l,o){this.logger.info(`Saving the Item ${l} to shared storage cache`);const n={data:o,creationTs:Date.now()};return this.readSharedStorageCache().pipe((0,x.zg)(s=>(s[l]=n,this.sharedStorageService.writeBlock(i,s))),(0,f.K)(s=>(this.logger.info(`Error saving the item to the block ${i}: ${s}`),(0,L.of)(n))),(0,S.h)(o))}getItem(l){const o=this.appConfig.sharedStorageCache[l];return this.logger.info(`Get Item ${l}`),this.readSharedStorageCache().pipe((0,u.U)(n=>{const s={};if((0,g.has)(n,l)){this.logger.info(`Found the item ${l} in shared storage cache`);const R=n[l];s.data=R.data,s.expired=R.creationTs+o.cacheDuration<=Date.now()}return s}))}deleteItem(l){return this.logger.info(`Deleting the item: ${l}`),this.readSharedStorageCache().pipe((0,u.U)(o=>(delete o[l],o)),(0,x.zg)(o=>this.sharedStorageService.writeBlock(i,o)),(0,f.K)(o=>(this.logger.info(`Error deleting the item ${l} from shared storage cache - ${o}`),(0,L.of)(!1))))}isExpiredValueAllowed(l){return this.appConfig.sharedStorageCache[l].allowExpiredValue}}return(V=c).\u0275fac=function(l){return new(l||V)(h.LFG(O.ed),h.LFG(E.OA),h.LFG(w.VK))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),c})()},83863:(Dt,ct,t)=>{"use strict";t.d(ct,{K:()=>tt});var e=t(61699),i=t(12501),L=t(13963),f=t(1498),x=t(87251),S=t(38616),u=t(422),g=t(26575),h=t(45356),O=t(78654),E=t(86515),w=t(78173),p=t(72060),V=t(43559),c=t(64915);function C(ot,F){if(1&ot&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&ot){const U=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"setup.estimatedWaitTime")),e.xp6(3),e.hij("\xa0",e.xi3(6,4,U.loadingScreensData.queueTimeKey,U.loadingScreensData.queueTimeValues),"")}}function l(ot,F){if(1&ot&&(e._UZ(0,"div",19),e.ALo(1,"trustAsHtml"),e.ALo(2,"translate")),2&ot){const U=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,e.lcZ(2,3,U.loadingScreensData.loadingText)),e.oJD)}}function o(ot,F){if(1&ot&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&ot){const U=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,2,"setup.gamersAheadOfYou")," "),e.xp6(3),e.hij(" ",U.loadingScreensData.queuePosition-1,"")}}function n(ot,F){1&ot&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&ot&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"setup.youAreNext")))}function s(ot,F){if(1&ot&&(e.TgZ(0,"div",20),e.YNc(1,o,5,4,"span",21),e.YNc(2,n,3,3,"span",21),e.qZA()),2&ot){const U=e.oxw(2);e.xp6(1),e.Q6J("ngIf",U.loadingScreensData.queuePosition>1),e.xp6(1),e.Q6J("ngIf",1===U.loadingScreensData.queuePosition)}}function R(ot,F){1&ot&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&ot&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"setup.opportunity.promptText")," "))}function _(ot,F){1&ot&&(e.TgZ(0,"span",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&ot&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"setup.cleanupPreviousSession")," "))}function b(ot,F){if(1&ot&&(e.TgZ(0,"div",23),e.YNc(1,_,3,3,"span",24),e.qZA()),2&ot){const U=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!U.isGuestAppFlow)}}function I(ot,F){if(1&ot&&(e.TgZ(0,"div",8),e.YNc(1,C,7,7,"div",9),e.YNc(2,l,3,5,"div",10),e.YNc(3,s,3,2,"div",11),e.TgZ(4,"div",12),e._UZ(5,"mat-progress-bar",13),e.qZA(),e.YNc(6,R,4,3,"div",14),e.YNc(7,b,2,1,"div",15),e.qZA()),2&ot){const U=e.oxw();e.xp6(1),e.Q6J("ngIf",U.loadingScreensData.queueTimeVisible&&!U.loadingScreensData.queuePositionVisible),e.xp6(1),e.Q6J("ngIf",!U.showVideo),e.xp6(1),e.Q6J("ngIf",U.loadingScreensData.queuePositionVisible),e.xp6(2),e.Q6J("mode",U.loadingScreensData.progressBar)("value",U.loadingScreensData.progressValue),e.uIk("tabindex",null),e.xp6(1),e.Q6J("ngIf",U.showVideo),e.xp6(1),e.Q6J("ngIf",U.showSessionCleanupDesc)}}function q(ot,F){if(1&ot&&e._UZ(0,"gfn-content-rating",28),2&ot){const U=e.oxw(2);e.Q6J("ratingLogoUrl",U.contentRatingData.ratingLogoUrl)("ratingClass",U.contentRatingData.ratingClass)("contentDescriptors",U.contentRatingData.contentDescriptors)("interactiveElements",U.contentRatingData.interactiveElements)}}function a(ot,F){if(1&ot&&(e.TgZ(0,"div",26),e.YNc(1,q,1,4,"gfn-content-rating",27),e.qZA()),2&ot){const U=e.oxw();e.xp6(1),e.Q6J("ngIf",!U.isGuestAppFlow)}}function y(ot,F){1&ot&&(e.TgZ(0,"mat-icon"),e._uU(1,"open_in_new"),e.qZA())}function M(ot,F){if(1&ot){const U=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(U);const Q=e.oxw(2);return e.KtG(Q.upgradeButtonClick())}),e.YNc(1,y,2,0,"mat-icon",21),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&ot){const U=e.oxw(2);e.Q6J("isVisible",U.loadingScreensData.showLoadingOnUpgradePromptButton),e.xp6(1),e.Q6J("ngIf",U.loadingScreensData.showUpgradeLinkIcon),e.xp6(1),e.hij(" ",e.lcZ(3,3,U.loadingScreensData.upgradePromptButtonText)," ")}}function P(ot,F){if(1&ot&&(e.ynx(0),e.YNc(1,M,4,5,"button",29),e.BQk()),2&ot){const U=e.oxw();e.xp6(1),e.Q6J("ngIf",U.showUpsellCta)}}function K(ot,F){1&ot&&(e.TgZ(0,"mat-icon"),e._uU(1,"open_in_new"),e.qZA())}function B(ot,F){if(1&ot){const U=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(U);const Q=e.oxw(2);return e.KtG(Q.viewAccountButtonClick())}),e.YNc(1,K,2,0,"mat-icon",21),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&ot){const U=e.oxw(2);e.Q6J("isVisible",U.loadingScreensData.showLoadingOnUpgradePromptButton),e.xp6(1),e.Q6J("ngIf",U.loadingScreensData.showUpgradeLinkIcon),e.xp6(1),e.hij(" ",e.lcZ(3,3,U.loadingScreensData.viewAccountButtonText)," ")}}function j(ot,F){if(1&ot&&e.YNc(0,B,4,5,"button",29),2&ot){const U=e.oxw();e.Q6J("ngIf",U.showUpsellCta)}}let tt=(()=>{var ot;class F{constructor(z,Q){this.guestModeHelperService=Q,this.showHeaderSection=!0,this.clickUpgradeButton=new e.vpe,this.clickViewAccountButton=new e.vpe,this.isGuestAppFlow=!1,this.logger=z.getLogger("SmallScreenUiComponent"),this.isGuestAppFlow=Q.isGuestAppFlow()}upgradeButtonClick(){this.clickUpgradeButton.emit(!0)}viewAccountButtonClick(){this.clickViewAccountButton.emit(!0)}}return(ot=F).\u0275fac=function(z){return new(z||ot)(e.Y36(L.ed),e.Y36(f.h))},ot.\u0275cmp=e.Xpm({type:ot,selectors:[["gfn-small-screen-ui"]],inputs:{loadingScreensData:"loadingScreensData",showVideo:"showVideo",showHeaderSection:"showHeaderSection",canShowRating:"canShowRating",showSessionCleanupDesc:"showSessionCleanupDesc",contentRatingData:"contentRatingData",showUpsellCta:"showUpsellCta",canHardUpsell:"canHardUpsell"},outputs:{clickUpgradeButton:"clickUpgradeButton",clickViewAccountButton:"clickViewAccountButton"},decls:9,vars:5,consts:[[1,"small-screen-ui-container"],[1,"small-screen-ui-bottom-sheet-wrapper"],[1,"small-screen-ui-bottom-sheet"],["fxLayout","column",1,"bottom-sheet-container"],["class","header-content-container font-sub2","fxLayout","column",4,"ngIf"],["class","content-rating",4,"ngIf"],[4,"ngIf","ngIfElse"],["viewAccount",""],["fxLayout","column",1,"header-content-container","font-sub2"],["class","font-sub3",4,"ngIf"],["class","font-sub2","cdkMonitorSubtreeFocus","",3,"innerHTML",4,"ngIf"],["class","font-sub3","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[1,"small-screen-ui-progress-bar"],[3,"mode","value"],["class","prompt-text font-sub3",4,"ngIf"],["class","session-cleanup-description",4,"ngIf"],[1,"font-sub3"],[1,"font-color-primary"],[1,"font-sub1"],["cdkMonitorSubtreeFocus","",1,"font-sub2",3,"innerHTML"],["fxLayout","row","fxLayoutAlign","start center",1,"font-sub3"],[4,"ngIf"],[1,"prompt-text","font-sub3"],[1,"session-cleanup-description"],["class","font-sub2",4,"ngIf"],[1,"font-sub2"],[1,"content-rating"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements",4,"ngIf"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements"],["mat-button","","class","upgrade-button text-button-icon font-button2","nvProgressCircular","",3,"isVisible","click",4,"ngIf"],["mat-button","","nvProgressCircular","",1,"upgrade-button","text-button-icon","font-button2",3,"isVisible","click"]],template:function(z,Q){if(1&z&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,I,8,8,"div",4),e.YNc(5,a,2,1,"div",5),e.qZA(),e.YNc(6,P,2,1,"ng-container",6),e.YNc(7,j,1,1,"ng-template",null,7,e.W1O),e.qZA()()()),2&z){const dt=e.MAs(8);e.Q6J("@loadingAnimation","SmallScreenFadeIn"),e.xp6(4),e.Q6J("ngIf",Q.showHeaderSection),e.xp6(1),e.Q6J("ngIf",Q.canShowRating),e.xp6(1),e.Q6J("ngIf",Q.canHardUpsell)("ngIfElse",dt)}},dependencies:[x.E,S.p,u.W,g.O5,h.xw,h.Wh,O.eB,E.Hw,w.pW,p.u,V.X$,c.W],styles:[".small-screen-ui-container[_ngcontent-%COMP%]{z-index:1000;height:50%;width:100%;position:absolute;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.05) 11.44%,rgba(0,0,0,.15) 23.55%,rgba(0,0,0,.3) 35.87%,rgba(0,0,0,.5) 51.55%,rgba(0,0,0,.6) 64.77%,rgba(0,0,0,.7) 81.94%,rgba(0,0,0,.8) 100%);display:flex;justify-content:center}.small-screen-ui-bottom-sheet-wrapper[_ngcontent-%COMP%]{display:flex;width:90%}.small-screen-ui-bottom-sheet[_ngcontent-%COMP%]{z-index:1001;width:-webkit-fill-available;width:-moz-available;display:flex;align-items:end;justify-content:space-between;padding:0 16px 16px;gap:4px}.small-screen-ui-bottom-sheet[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]{min-width:auto}.bottom-sheet-container[_ngcontent-%COMP%]{gap:8px}.bottom-sheet-container[_ngcontent-%COMP%]   .header-content-container[_ngcontent-%COMP%]{width:fit-content}.bottom-sheet-container[_ngcontent-%COMP%]   .header-content-container[_ngcontent-%COMP%]   .small-screen-ui-progress-bar[_ngcontent-%COMP%], .bottom-sheet-container[_ngcontent-%COMP%]   .header-content-container[_ngcontent-%COMP%]   .prompt-text[_ngcontent-%COMP%], .bottom-sheet-container[_ngcontent-%COMP%]   .header-content-container[_ngcontent-%COMP%]   .session-cleanup-description[_ngcontent-%COMP%]{margin-top:8px}.bottom-sheet-container[_ngcontent-%COMP%]   .content-rating[_ngcontent-%COMP%]{margin-top:16px}"],data:{animation:[(0,i.X$)("loadingAnimation",[(0,i.eR)("void => SmallScreenFadeIn",[(0,i.oB)({opacity:"0"}),(0,i.jt)("0.3s ease-out",(0,i.oB)({opacity:"1"}))]),(0,i.eR)("SmallScreenFadeIn => void",[(0,i.oB)({opacity:"1"}),(0,i.jt)("0.3s ease-in",(0,i.oB)({opacity:"0"}))]),(0,i.eR)("* => *",[(0,i.oB)({opacity:"0"}),(0,i.jt)("0.3s ease-out",(0,i.oB)({opacity:"1"}))])])]}}),F})()},18862:(Dt,ct,t)=>{"use strict";t.d(ct,{EI:()=>i,bb:()=>E}),t(83863);var i=function(w){return w.Determinate="determinate",w.InDeterminate="indeterminate",w}(i||{}),L=t(26575),f=t(32995),x=t(13963),S=t(43559),u=t(46555),g=t(91467),h=t(23602),O=t(61699);let E=(()=>{var w;class p{}return(w=p).\u0275fac=function(c){return new(c||w)},w.\u0275mod=O.oAB({type:w}),w.\u0275inj=O.cJS({imports:[g.hp,L.ez,S.aw.forChild(),f.o9,u.Q,x.it,h.H]}),p})()},61993:(Dt,ct,t)=>{"use strict";t.d(ct,{FR:()=>x,Iv:()=>e,OD:()=>f,_S:()=>S,gx:()=>u,re:()=>i,ve:()=>g});var e=function(h){return h[h.MaxGpu=2]="MaxGpu",h[h.MaxDisk=3]="MaxDisk",h[h.MaxDisplay=3]="MaxDisplay",h[h.MaxInputDevicePerType=3]="MaxInputDevicePerType",h}(e||{}),i=function(h){return h.GameDetails="GAME_DETAILS",h.MarqueeTile="MARQUEE_TILE",h}(i||{}),f=function(h){return h[h.UNKNOWN=0]="UNKNOWN",h[h.SUCCESS=1]="SUCCESS",h[h.INVALID_PARAM=2]="INVALID_PARAM",h[h.SYN_FAILED=3]="SYN_FAILED",h[h.FIN_FAILED=4]="FIN_FAILED",h[h.AUTH_FAILED=5]="AUTH_FAILED",h[h.POST_FAILED=6]="POST_FAILED",h[h.TEST_IN_PROGRESS=7]="TEST_IN_PROGRESS",h[h.CANCELED=8]="CANCELED",h[h.CAPACITY_FULL=9]="CAPACITY_FULL",h[h.SESSION_EXIST=10]="SESSION_EXIST",h[h.INVALID_DATA=11]="INVALID_DATA",h[h.SETUP_FAILED=12]="SETUP_FAILED",h[h.RETRYABLE_POST_FAILURE=13]="RETRYABLE_POST_FAILURE",h[h.BLOCK_STREAM=14]="BLOCK_STREAM",h}(f||{}),x=function(h){return h.InitialLaunch="initialLaunch",h.StreamerCefInit="streamerCefInit",h.StreamerJsInit="streamerJsInit",h.UpdateCheck="updateCheck",h.PreStreaming="preStreaming",h.ManualLoginEntry="manualLoginEntry",h.AutoLogin="autoLogin",h.PlatformSelection="platformSelection",h.AccountLinking="accountLinking",h.NesAuthorization="nesAuthorization",h.Lbr="Lbr",h.NetworkTest="networkTest",h.SessionCleanup="sessionCleanup",h.SessionQueue="sessionQueue",h.StartSession="startSession",h.StreamerClientSetupDuration="streamerClientSetupDuration",h.StreamerConnectionDuration="streamerConnectionDuration",h.SeatConfigDuration="seatConfigDuration",h.StreamingStartDuration="streamingStartDuration",h}(x||{}),S=function(h){return h.Enabled="ENABLED",h.Disabled="DISABLED",h}(S||{}),u=function(h){return h.Native="Native",h.Browser="Browser",h.GFNSDK="GFNSDK",h.Undefined="undefined",h}(u||{}),g=function(h){return h.iBeta="iBeta",h.Release="Release",h.Undefined="undefined",h}(g||{})},81351:(Dt,ct,t)=>{"use strict";t.d(ct,{$4G:()=>Pi,AGB:()=>oo,AUc:()=>te,AVX:()=>Hr,AX0:()=>kt,BFK:()=>Lt,Bbu:()=>zt,BhR:()=>ot,CGJ:()=>qt,Cbx:()=>h,D2e:()=>mr,DCd:()=>De,DL8:()=>ho,DUy:()=>Gi,DYb:()=>C,DwO:()=>y,E5O:()=>On,F9b:()=>qe,GMl:()=>rt,GVq:()=>Ln,GbY:()=>Fo,GtW:()=>gr,HGL:()=>R,HUU:()=>yi,H_T:()=>Ho,Hj8:()=>xe,HmX:()=>Be,HyT:()=>G,ItH:()=>a,J2u:()=>io,J8H:()=>ii,JI9:()=>ln,JkH:()=>Ye,LMI:()=>dr,MF$:()=>zi,Mbw:()=>zn,MjV:()=>Li,Mlh:()=>M,MsO:()=>wn,N3X:()=>Ce,NX4:()=>ge,NlQ:()=>O,NuE:()=>s,O9g:()=>cr,OR5:()=>_,ORi:()=>uo,OSH:()=>En,Ols:()=>bt,P3M:()=>Kn,PoW:()=>Vt,PyH:()=>Ut,QqN:()=>Vr,Qrr:()=>st,QuF:()=>ao,RRm:()=>it,Ran:()=>Bo,SzM:()=>D,T44:()=>W,TK_:()=>Wr,Tbl:()=>H,Tn7:()=>Vn,U4l:()=>$n,VHB:()=>bn,VIQ:()=>lo,Vwu:()=>w,W9g:()=>Re,WLf:()=>mi,WUy:()=>B,Wb4:()=>ri,XBX:()=>pn,XHw:()=>An,XPX:()=>an,Xj5:()=>Xe,XzU:()=>q,YXu:()=>Mt,Y_M:()=>Di,YbQ:()=>le,Ydg:()=>o,Yk9:()=>Kt,YwJ:()=>Se,YyK:()=>Pe,ZEJ:()=>vi,ZQU:()=>re,_63:()=>rr,_G:()=>P,_K5:()=>F,_LZ:()=>u,_cC:()=>Ct,_js:()=>tn,aGN:()=>fn,att:()=>kn,bOD:()=>Wt,bi$:()=>ue,c8x:()=>Z,cPW:()=>c,cYw:()=>ut,cjj:()=>E,cym:()=>Rr,eCT:()=>g,ee7:()=>n,ef6:()=>U,f$p:()=>k,foq:()=>po,g7J:()=>_n,gZv:()=>nr,gtW:()=>co,hAb:()=>j,hMy:()=>Je,i5E:()=>lt,iB_:()=>To,ig$:()=>Fe,jzO:()=>pt,kr1:()=>Nn,lzt:()=>m,nLL:()=>Ao,nfD:()=>x,oSA:()=>vt,p3A:()=>We,p7_:()=>ft,pDK:()=>so,pjt:()=>V,qmX:()=>Ee,r_X:()=>xn,roz:()=>ar,ryx:()=>Tt,s8B:()=>Y,sNt:()=>de,sf3:()=>pi,syg:()=>Sn,tZp:()=>ro,tyl:()=>No,uEx:()=>Go,uXL:()=>Yi,u_Q:()=>Qt,v6v:()=>p,vkU:()=>Le,vlM:()=>mo,wEN:()=>Te,wye:()=>A,xNG:()=>Ci,xcx:()=>pe,yOt:()=>sr,yVM:()=>Do,zDK:()=>ir,zO5:()=>Gt,zZ4:()=>$i,zfT:()=>fo,zhv:()=>gt,ztj:()=>J});var i=function(T){return T.Functional="functional",T.Technical="technical",T.Behavioral="behavioral",T}(i||{}),L=function(T){return T.Anonymous="anonymous",T.DeviceOnly="deviceOnly",T.DevicePreferred="devicePreferred",T.UserPreferred="userPreferred",T.UserRequired="userRequired",T}(L||{}),x=function(T){return T.PRODUCT_CHANGE="PRODUCT_CHANGE",T.ASSET_CHANGE="ASSET_CHANGE",T.SESSION_CHANGE="SESSION_CHANGE",T.LAYOUT_CHANGE="LAYOUT_CHANGE",T.GSWS_SYNC="GSWS_SYNC",T.SECTION_CHANGE="SECTION_CHANGE",T.LINKEDACCOUNT_CHANGE="LINKEDACCOUNT_CHANGE",T.APP_CHANGE="APP_CHANGE",T.SERVER_INFO_SYNC="SERVER_INFO_SYNC",T.CONFIGURATION_CHANGE="CONFIGURATION_CHANGE",T.SUBSCRIPTION_CHANGE="SUBSCRIPTION_CHANGE",T.UNKNOWN="UNKNOWN",T.PATCHING_EVENT="PATCHING_EVENT",T.KV_STORE_CHANGE="KV_STORE_CHANGE",T.LIBRARY_CHANGE="LIBRARY_CHANGE",T.PLATFORM_SYNC_CHANGE="PLATFORM_SYNC_CHANGE",T.CAMPAIGN_CHANGE="CAMPAIGN_CHANGE",T.FAVORITES_CHANGE="FAVORITES_CHANGE",T}(x||{}),u=function(T){return T.Oldest="Oldest",T.AtoZ="AtoZ",T.Newest="Newest",T.ZtoA="ZtoA",T}(u||{}),g=function(T){return T.AppsRefresh="AppsRefresh",T.PanelRefresh="PanelRefresh",T.CampaignsRefresh="CampaignsRefresh",T.TimerRefresh="TimerRefresh",T}(g||{}),h=function(T){return T.EndOfSession="EndOfSession",T.Mall="Mall",T.Notification="Notification",T}(h||{}),O=function(T){return T.Highlights="Highlights",T.Game="Game",T.Media="Media",T}(O||{}),E=function(T){return T.GameShortcutUrl="GameShortcutUrl",T}(E||{}),w=function(T){return T.AddDesktopShortcut="AddDesktopShortcut",T.LaunchGame="LaunchGame",T.NesAutoAuthorization="NesAutoAuthorization",T.LoginWithJarvisOAuth="LoginWithJarvisOAuth",T.LoginWithFacebook="LoginWithFacebook",T.NesGetCompleteLayouts="NesGetCompleteLayouts",T.LoginWithAffiliate="LoginWithAffiliate",T.LoginWithGoogle="LoginWithGoogle",T.Continue="Continue",T.ManageECommerceSubscription="ManageECommerceSubscription",T.UninstallGame="UninstallGame",T.LoginWithOther="LoginWithOther",T.AddGameToLibrary="AddGameToLibrary",T.Resend="Resend",T.LoginWithStarfleet="LoginWithStarfleet",T.ServiceWorkerActivation="ServiceWorkerActivation",T.SilentLoginDirectLaunch="SilentLoginDirectLaunch",T.SilentLoginRedirectFromDMO="SilentLoginRedirectFromDMO",T.AutoEntitle="AutoEntitle",T.LoginWithStarfleetViaLoginWall="LoginWithStarfleetViaLoginWall",T}(w||{}),p=function(T){return T.Jarvis="Jarvis",T.Gfc="Gfc",T.Lcars="Lcars",T.Grid="Grid",T.Cms="Cms",T.Aem="Aem",T.Survey="Survey",T.DR="DR",T.RemoteConfig="RemoteConfig",T.Starfleet="Starfleet",T.Other="Other",T.Rating="Rating",T.Gfwsl="Gfwsl",T.KVStore="KVStore",T.GxTarget="GxTarget",T.NES="NES",T.ALS="ALS",T.AwsS3="AwsS3",T.PNS="PNS",T.UAS="UAS",T}(p||{}),V=function(T){return T.COMMUNICATION_BANNER="COMMUNICATION_BANNER",T.UXTEST_BANNER="UXTEST_BANNER",T.SURVEY_BANNER="SURVEY_BANNER",T.POST_GAME="POST_GAME",T.FEEDBACK="FEEDBACK",T.NOTIFICATION_BANNER="NOTIFICATION_BANNER",T}(V||{}),c=function(T){return T.NA="NA",T.EmptyLayout="EmptyLayout",T.AppsListFetch="AppsListFetch",T.VpcId="VpcId",T.Unknown="Unknown",T.SessionToken="SessionToken",T.DelegateTokenFetch="DelegateTokenFetch",T.LayoutFetch="LayoutFetch",T.OfflineNoCache="OfflineNoCache",T.DiskCache="DiskCache",T.AppMetadataFetch="AppMetadataFetch",T}(c||{}),C=function(T){return T.Passed="Passed",T.Unknown="Unknown",T.LbrDone="LbrDone",T.Skipped="Skipped",T.DialogShown="DialogShown",T}(C||{}),o=function(T){return T.IO="IO",T.Network="Network",T.General="General",T.JSON="JSON",T.None="None",T.File="File",T.Optimization="Optimization",T.IPC="IPC",T}(o||{}),n=function(T){return T.Success="Success",T.Failure="Failure",T}(n||{}),s=function(T){return T.AutoResume="AutoResume",T.DeviceTransition="DeviceTransition",T.None="None",T}(s||{}),R=function(T){return T.GetFreestyleFeature="GetFreestyleFeature",T.SendUsabilityStudyResponse="SendUsabilityStudyResponse",T.GetDeeplinkSupport="GetDeeplinkSupport",T.GetCloudSearch="GetCloudSearch",T.GetSurveyFeature="GetSurveyFeature",T.GetLayoutRefreshInterval="GetLayoutRefreshInterval",T.GetUsabilityStudy="GetUsabilityStudy",T.GetIgoSupportOnBrowserClient="GetIgoSupportOnBrowserClient",T.GetECommerceFeature="GetECommerceFeature",T.GetKeyboardLayout="GetKeyboardLayout",T.GetAutohighlightFeature="GetAutohighlightFeature",T.GetStarfleetPhase1="GetStarfleetPhase1",T.GetStarfleetPhase2="GetStarfleetPhase2",T.GetQueueETAConfig="GetQueueETAConfig",T.GetUpsellMessage="GetUpsellMessage",T.GetAllCloudVariables="GetAllCloudVariables",T.GetBrowserClientCanary="GetBrowserClientCanary",T.GetReservedSKUEnabled="GetReservedSKUEnabled",T.GetReservedSKUIBetaFlag="GetReservedSKUIBetaFlag",T.GetAnselFeature="GetAnselFeature",T.GetGfnBroadcastFeature="GetGfnBroadcastFeature",T.GetKBLayoutsConfig="GetKBLayoutsConfig",T.GetClipboardPasteConfig="GetClipboardPasteConfig",T.GetPathToPurchaseConfig="GetPathToPurchaseConfig",T.GetEnableRemoteConfigOnGXT="GetEnableRemoteConfigOnGXT",T.GetPunctualUIConfig="GetPunctualUIConfig",T.GetGameOwnershipABConfig="GetGameOwnershipABConfig",T.GetEnableBrowserIGSS="GetEnableBrowserIGSS",T.Other="Other",T}(R||{}),_=function(T){return T.FingerprintChanged="FingerprintChanged",T.ZoneListEmpty="ZoneListEmpty",T.PolicyCheckFailed="PolicyCheckFailed",T.Manual="Manual",T.CachedZoneNotStored="CachedZoneNotStored",T.ServerInfoFailed="ServerInfoFailed",T.CachedZoneNotAvailable="CachedZoneNotAvailable",T.NewZonesAdded="NewZonesAdded",T}(_||{}),q=function(T){return T.App_Exit="App_Exit",T.Dialog_Closed="Dialog_Closed",T.Goto_Settings="Goto_Settings",T.Continue_Login="Continue_Login",T.Proceed_Connect="Proceed_Connect",T.Paste_Confirmation="Paste_Confirmation",T.Continue_Play_Anyway="Continue_Play_Anyway",T.Continue_Add_Playtime="Continue_Add_Playtime",T}(q||{}),a=function(T){return T.Release_Highlights="Release_Highlights",T.Account_Link_Required="Account_Link_Required",T.Account_Link_Expired="Account_Link_Expired",T.Account_Link_Expires_Today="Account_Link_Expires_Today",T.Account_Link_Expires_Soon="Account_Link_Expires_Soon",T.Scheduled_Maintenance_Warning="Scheduled_Maintenance_Warning",T.Unsupported_Browser_Or_Platform_Load="Unsupported_Browser_Or_Platform_Load",T.Unsupported_Browser_Or_Platform_Login="Unsupported_Browser_Or_Platform_Login",T.Unsupported_Browser_Or_Platform_Game_Launch="Unsupported_Browser_Or_Platform_Game_Launch",T.InStream_Paste_Gesture_Dialog="InStream_Paste_Gesture_Dialog",T.Playtime_Not_Added="Playtime_Not_Added",T.Low_State_Game_Launch="Low_State_Game_Launch",T.Limited_State_Game_Launch="Limited_State_Game_Launch",T.Loading_Screen_Upgrade="Loading_Screen_Upgrade",T.Loading_Screen_Get_Day_Pass="Loading_Screen_Get_Day_Pass",T.Loading_Screen_Add_Playtime="Loading_Screen_Add_Playtime",T.Unknown="Unknown",T}(a||{}),y=function(T){return T.NVB_PROFILE_ROAMING_720P_30FPS="NVB_PROFILE_ROAMING_720P_30FPS",T.NVB_PROFILE_GAMING_1080P_60FPS="NVB_PROFILE_GAMING_1080P_60FPS",T.NT_1280_800_60="NT_1280_800_60",T.NVB_PROFILE_PROFESSIONAL="NVB_PROFILE_PROFESSIONAL",T.NVB_PROFILE_GAMING_720P_30FPS="NVB_PROFILE_GAMING_720P_30FPS",T.NT_1920_1200_60="NT_1920_1200_60",T.NT_1920_1200_30="NT_1920_1200_30",T.NT_1366_768_30="NT_1366_768_30",T.NT_1366_768_60="NT_1366_768_60",T.NT_1680_1050_30="NT_1680_1050_30",T.NT_1280_800_30="NT_1280_800_30",T.NT_1440_900_30="NT_1440_900_30",T.NT_1680_1050_60="NT_1680_1050_60",T.NVB_PROFILE_GAMING="NVB_PROFILE_GAMING",T.NVB_PROFILE_ROAMING_720P_60FPS="NVB_PROFILE_ROAMING_720P_60FPS",T.NT_1440_900_60="NT_1440_900_60",T.NVB_PROFILE_GAMING_720P_60FPS="NVB_PROFILE_GAMING_720P_60FPS",T.NVB_PROFILE_GAMING_1080P_30FPS="NVB_PROFILE_GAMING_1080P_30FPS",T.NVB_PROFILE_DEFAULT="NVB_PROFILE_DEFAULT",T}(y||{}),M=function(T){return T.Nvidia_Access_Denied="Nvidia_Access_Denied",T.Unknown="Unknown",T.Rate_Limited="Rate_Limited",T.Platform_Access_Denied="Platform_Access_Denied",T.Platform_Profile_Denied="Platform_Profile_Denied",T.Success="Success",T.Sync_Failed="Sync_Failed",T.Sync_Denied="Sync_Denied",T.Profile_Not_Created="Profile_Not_Created",T.Sync_Success="Sync_Success",T}(M||{}),P=function(T){return T.DismissManual="DismissManual",T.Completed="Completed",T.Notify="Notify",T.DismissAppExit="DismissAppExit",T.DismissLogout="DismissLogout",T.DismissSleep="DismissSleep",T.DismissTimeout="DismissTimeout",T.Participate="Participate",T.DismissManualPostMinimize="DismissManualPostMinimize",T.NotifyPostMinimize="NotifyPostMinimize",T.ParticpatePostMinimize="ParticpatePostMinimize",T.Minimized="Minimized",T.Deferred="Deferred",T.LearnMoreClicked="LearnMoreClicked",T}(P||{}),B=function(T){return T.Dev="Dev",T.Release="Release",T.IBeta="IBeta",T.Autoplay="Autoplay",T}(B||{}),j=function(T){return T.Video="Video",T.Image="Image",T}(j||{}),ot=function(T){return T.StreamingClient="StreamingClient",T.MallClient="MallClient",T.StoreLibrary="StoreLibrary",T.Unknown="Unknown",T.BackgroundAgent="BackgroundAgent",T}(ot||{}),F=function(T){return T.UserConsented="UserConsented",T.NotShown="NotShown",T.UserDidNotConsent="UserDidNotConsent",T}(F||{}),U=function(T){return T.Adaptive="Adaptive",T.Off="Off",T.On="On",T}(U||{}),m=function(T){return T.UpdBufferTips="UpdBufferTips",T.PlatformSelection="PlatformSelection",T.PlatformChangeConsent="PlatformChangeConsent",T.Redeem="Redeem",T.ManualLogout="ManualLogout",T.StreamerBackNavigation="StreamerBackNavigation",T.Settings="Settings",T.NetworkTroubleshooting="NetworkTroubleshooting",T.AllGames="AllGames",T.JoinGfn="JoinGfn",T.AddGameToLibrary="AddGameToLibrary",T.ManageMembership="ManageMembership",T.ViewMembershipDetails="ViewMembershipDetails",T.MarketingMarquee="MarketingMarquee",T.ReleaseHighlights="ReleaseHighlights",T.ShareGame="ShareGame",T.LaunchGame="LaunchGame",T.AddGameShortcut="AddGameShortcut",T.MyLibrary="MyLibrary",T.ViewGameDetails="ViewGameDetails",T.UninstallGame="UninstallGame",T.AccountManagementSso="AccountManagementSso",T.Upgrade="Upgrade",T.InvokeSearch="InvokeSearch",T.AddBrowserShortcut="AddBrowserShortcut",T.AccountMenu="AccountMenu",T.OpenClientIME="OpenClientIME",T.OpenFeedbackDialog="OpenFeedbackDialog",T.OpenOnScreenKeyboard="OpenOnScreenKeyboard",T.CloseOnScreenKeyboard="CloseOnScreenKeyboard",T.PasteClipboardText="PasteClipboardText",T.ShowVirtualGamepad="ShowVirtualGamepad",T.ToggleMicrophone="ToggleMicrophone",T.ToggleNetworkWarnings="ToggleNetworkWarnings",T.QuitGame="QuitGame",T.LearnMoreAboutStreamingProfiles="LearnMoreAboutStreamingProfiles",T.SeeMore="SeeMore",T.FilterTile="FilterTile",T.PathToPurchase="PathToPurchase",T.PromoCTA="PromoCTA",T.Unmute="Unmute",T.Mute="Mute",T.AddPlaytime="AddPlaytime",T.ViewPlaytime="ViewPlaytime",T.HowPlaytimeWorksKBA="HowPlaytimeWorksKBA",T.LimitedFeaturesKBA="LimitedFeaturesKBA",T.GetDayPass="GetDayPass",T.AddDayPass="AddDayPass",T.RefreshUserSubscription="RefreshUserSubscription",T.AddToFavorite="AddToFavorite",T.RemoveFromFavorite="RemoveFromFavorite",T}(m||{}),Y=function(T){return T.Keyboard="Keyboard",T.Gamepad="Gamepad",T.Mouse="Mouse",T.Touch="Touch",T.Unknown="Unknown",T}(Y||{}),D=function(T){return T.Joystick="Joystick",T.Mouse="Mouse",T.Unknown="Unknown",T.Keyboard="Keyboard",T.GamePad="GamePad",T}(D||{}),Z=function(T){return T.StreamerUsedFreeUpsell="StreamerUsedFreeUpsell",T.StreamerQueueUpsell="StreamerQueueUpsell",T.StreamerNoFreeUpsell="StreamerNoFreeUpsell",T.StreamerPostSessionFreeGaaSUpsell="StreamerPostSessionFreeGaaSUpsell",T.StreamerPostSessionUpsell="StreamerPostSessionUpsell",T.StreamerPostSessionAnonGaaSUpsell="StreamerPostSessionAnonGaaSUpsell",T.Standard="Standard",T}(Z||{}),W=function(T){return T.Clicked="Clicked",T.Dismissed="Dismissed",T}(W||{}),A=function(T){return T.UNDEFINED="UNDEFINED",T.TRUE="TRUE",T.FALSE="FALSE",T}(A||{}),H=function(T){return T.AUTH_FAILED="AUTH_FAILED",T.SESSION_EXIST="SESSION_EXIST",T.RETRYABLE_POST_FAILURE="RETRYABLE_POST_FAILURE",T.BLOCK_STREAM="BLOCK_STREAM",T.WIFI_2_4="WIFI_2_4",T.INVALID_PARAM="INVALID_PARAM",T.TEST_IN_PROGRESS="TEST_IN_PROGRESS",T.POST_FAILED="POST_FAILED",T.NA="NA",T.FAILED="FAILED",T.INVALID_DATA="INVALID_DATA",T.CANCELED="CANCELED",T.SETUP_FAILED="SETUP_FAILED",T.PacketLoss="PacketLoss",T.UNKNOWN="UNKNOWN",T.SYN_FAILED="SYN_FAILED",T.FIN_FAILED="FIN_FAILED",T.CAPACITY_FULL="CAPACITY_FULL",T}(H||{}),J=function(T){return T.Cancel="Cancel",T.Send="Send",T}(J||{}),st=function(T){return T.Unknown="Unknown",T.NotStarted="NotStarted",T.Started="Started",T.Completed="Completed",T.Canceled="Canceled",T.Paused="Paused",T.Resumed="Resumed",T}(st||{}),lt=function(T){return T.Landscape="Landscape",T.Portrait="Portrait",T.Unknown="Unknown",T}(lt||{}),gt=function(T){return T.Unknown="Unknown",T.Windows="Windows",T.Mac="Mac",T.Android="Android",T.Web="Web",T}(gt||{}),vt=function(T){return T.PlayGame="PlayGame",T.ViewGame="ViewGame",T.None="None",T}(vt||{}),k=function(T){return T.GetServerInformation="GetServerInformation",T.JARVIS_Get_User_Token="JARVIS_Get_User_Token",T.Image_Retrieval_Tile_Feature="Image_Retrieval_Tile_Feature",T.JARVIS_Set_Pin="JARVIS_Set_Pin",T.JARVIS_Redeem_Delegate_Token="JARVIS_Redeem_Delegate_Token",T.Append_Client_Data="Append_Client_Data",T.Get_Client_Settings="Get_Client_Settings",T.NES_Cancel_Subscription="NES_Cancel_Subscription",T.Get_Client_Data="Get_Client_Data",T.GetAppVariants="GetAppVariants",T.NES_Update_Subscription="NES_Update_Subscription",T.GetAppData="GetAppData",T.Layout_Get_Tile_Data="Layout_Get_Tile_Data",T.NES_Get_PlayTime="NES_Get_PlayTime",T.InitiateDownload="InitiateDownload",T.DR_Get_Product="DR_Get_Product",T.NES_Install="NES_Install",T.NES_Get_Subscriptions="NES_Get_Subscriptions",T.NES_Get_Products="NES_Get_Products",T.JARVIS_Chain_Session="JARVIS_Chain_Session",T.FCM_Checkin="FCM_Checkin",T.GetPrivacyPolicy="GetPrivacyPolicy",T.NES_Get_Credits="NES_Get_Credits",T.JARVIS_Get_Third_Party_Provider_Info="JARVIS_Get_Third_Party_Provider_Info",T.FCM_Subscribe="FCM_Subscribe",T.FCM_Unregister="FCM_Unregister",T.JARVIS_Request_Email_Verify="JARVIS_Request_Email_Verify",T.JARVIS_Verify_Pin="JARVIS_Verify_Pin",T.GetCloudVariable="GetCloudVariable",T.CheckForUpdate="CheckForUpdate",T.DR_Put_Cart="DR_Put_Cart",T.Get_Client_Token="Get_Client_Token",T.FCM_Unsubscribe="FCM_Unsubscribe",T.Streaming_GetFeedbackToken="Streaming_GetFeedbackToken",T.GetRemoteConfig="GetRemoteConfig",T.Get_Release_Highlights="Get_Release_Highlights",T.Get_User_Info="Get_User_Info",T.PrepareToDownload="PrepareToDownload",T.NES_Get_Resource="NES_Get_Resource",T.DR_Get_Payment="DR_Get_Payment",T.GetFeatureRollout="GetFeatureRollout",T.NES_Get_ServiceUrls="NES_Get_ServiceUrls",T.JARVIS_Get_Login_Token="JARVIS_Get_Login_Token",T.JARVIS_Get_Delegate_Token="JARVIS_Get_Delegate_Token",T.Set_Client_Data="Set_Client_Data",T.Layout_Get_Section="Layout_Get_Section",T.DR_Edit_Payment="DR_Edit_Payment",T.FeedbackHead="FeedbackHead",T.DR_Empty_Cart="DR_Empty_Cart",T.NES_Get_Apps="NES_Get_Apps",T.DR_Get_Orders="DR_Get_Orders",T.FCM_Register="FCM_Register",T.DR_Apply_Shopper="DR_Apply_Shopper",T.DR_Get_Token="DR_Get_Token",T.GetTermsAndConditions="GetTermsAndConditions",T.GetSurvey="GetSurvey",T.Layout_Get_Sections="Layout_Get_Sections",T.JARVIS_Get_Pin="JARVIS_Get_Pin",T.Get_Access_Token="Get_Access_Token",T.Delete_Client_Data="Delete_Client_Data",T.GetRatingsInfo="GetRatingsInfo",T.FeedbackAttachment="FeedbackAttachment",T.Image_Retrieval_Tile_Game="Image_Retrieval_Tile_Game",T.NES_Uninstall="NES_Uninstall",T.DR_Submit_Cart="DR_Submit_Cart",T.GetLayout="GetLayout",T.SendSurveyResponse="SendSurveyResponse",T.Feature_Tile_Image_Retrieval="Feature_Tile_Image_Retrieval",T.JARVIS_Get_Session_Token="JARVIS_Get_Session_Token",T.GetSpecificServerInformation="GetSpecificServerInformation",T.Layout_Manager_Data_Retrieval="Layout_Manager_Data_Retrieval",T.JARVIS_Get_User_Info="JARVIS_Get_User_Info",T.Streaming_GetJarvisDelegateToken="Streaming_GetJarvisDelegateToken",T.NES_Get_Product_Credits="NES_Get_Product_Credits",T.DR_Get_Cart="DR_Get_Cart",T.GetApps="GetApps",T.LinkAccount="LinkAccount",T.UnlinkAccount="UnlinkAccount",T.GetOAuthURL="GetOAuthURL",T.LibrarySync="LibrarySync",T.Other="Other",T.FetchJSFile="FetchJSFile",T.FetchLocaleJson="FetchLocaleJson",T.GetPanel="GetPanel",T.PNS_Registrations="PNS_Registrations",T.PNS_Unregister="PNS_Unregister",T.GetUserAccount="GetUserAccount",T.NES_GetClientStreamingQuality="NES_GetClientStreamingQuality",T.GetCampaigns="GetCampaigns",T.AcquireUser="AcquireUser",T.GetAcquisitionState="GetAcquisitionState",T.GetFilterGroupAndSortOrderDefinitions="GetFilterGroupAndSortOrderDefinitions",T.GetLoginWallData="GetLoginWallData",T.GetLoginWallStrings="GetLoginWallStrings",T.AddFavoriteApp="AddFavoriteApp",T.RemoveFavoriteApp="RemoveFavoriteApp",T.AddOwnedVariant="AddOwnedVariant",T.RemoveOwnedVariant="RemoveOwnedVariant",T.SelectOwnedVariant="SelectOwnedVariant",T}(k||{}),pt=function(T){return T.Unknown="Unknown",T.Connected="Connected",T.Disconnected="Disconnected",T}(pt||{}),le=function(T){return T.Excellent="Excellent",T.Poor="Poor",T.Bad="Bad",T.Unknown="Unknown",T}(le||{}),te=function(T){return T.SelfUpdateInstallAuto="SelfUpdateInstallAuto",T.SelfUpdateInstallManual="SelfUpdateInstallManual",T.CustomOfflinePage="CustomOfflinePage",T.LaunchUI="LaunchUI",T.FirstApplicationInstall="FirstApplicationInstall",T.LaunchPwaUI="LaunchPwaUI",T.ScheduledMaintenanceTimer="ScheduledMaintenanceTimer",T.SessionLengthTimer="SessionLengthTimer",T.UDSToastShown="UDSToastShown",T}(te||{}),bt=function(T){return T.OobeAgreeAndContinue="OobeAgreeAndContinue",T.OobeTermsOfUseHyperlink="OobeTermsOfUseHyperlink",T}(bt||{}),Vt=function(T){return T.No="No",T.Yes="Yes",T.None="None",T}(Vt||{}),ut=function(T){return T.GameNotFound="GameNotFound",T.BadRequest="BadRequest",T.Unknown="Unknown",T.ServerError="ServerError",T.ClipboardError="ClipboardError",T.Unauthorized="Unauthorized",T.PartnerAuthFailed="PartnerAuthFailed",T.ZoneNotFound="ZoneNotFound",T.RedirectURLNotAllowed="RedirectURLNotAllowed",T.None="None",T}(ut||{}),re=function(T){return T.AccountLinked="AccountLinked",T.Disconnect="Disconnect",T.ResyncAfterResolve="ResyncAfterResolve",T.ResyncAfterProfileCreate="ResyncAfterProfileCreate",T.Sync="Sync",T.Resync="Resync",T.ReconnectForOnboarding="ReconnectForOnboarding",T.Reconnect="Reconnect",T.ReconnectAfterSyncDenied="ReconnectAfterSyncDenied",T.ResyncAfterSyncFailed="ResyncAfterSyncFailed",T}(re||{}),Kt=function(T){return T.FingerprintChanged="FingerprintChanged",T.ClientUpdated="ClientUpdated",T.StreamerNetworkError="StreamerNetworkError",T.NetworkTestCancelled="NetworkTestCancelled",T.OverrideFlagSet="OverrideFlagSet",T.MaxDisplayRequired="MaxDisplayRequired",T.PolicyCheckFailed="PolicyCheckFailed",T.Manual="Manual",T.RedResult="RedResult",T.NetworkTestFailed="NetworkTestFailed",T.MaxSubscriptionProfileUpgraded="MaxSubscriptionProfileUpgraded",T}(Kt||{}),Wt=function(T){return T.Cancel="Cancel",T.Create="Create",T.Complete="Complete",T.Enter="Enter",T}(Wt||{}),Qt=function(T){return T.SolidState="SolidState",T.Unknown="Unknown",T.Rotational="Rotational",T}(Qt||{}),Ut=function(T){return T.Streamer="Streamer",T.Gallery="Gallery",T.Layout_L0="Layout_L0",T.Settings="Settings",T.Layout_L1="Layout_L1",T}(Ut||{}),Tt=function(T){return T.Add="Add",T.Delete="Delete",T.TrimNew="TrimNew",T.Play="Play",T.OpenLocation="OpenLocation",T.TrimReplace="TrimReplace",T.Preview="Preview",T}(Tt||{}),it=function(T){return T.Other="Other",T.Ethernet="Ethernet",T.Unknown="Unknown",T.Wifi_2_4="Wifi_2_4",T.Wifi_5_0="Wifi_5_0",T.Wifi_6_0="Wifi_6_0",T.Wifi_Unknown="Wifi_Unknown",T}(it||{}),Mt=function(T){return T.Manual="Manual",T.Automatic="Automatic",T}(Mt||{}),zt=function(T){return T.TabSwitch="TabSwitch",T.SessionEndPushNotification="SessionEndPushNotification",T.LocaleChange="LocaleChange",T.StreamerInstanceClosed="StreamerInstanceClosed",T.ClickRetry="ClickRetry",T.TwentyFourHourRefresh="TwentyFourHourRefresh",T.AppMetadataRefresh="AppMetadataRefresh",T.FocusGain="FocusGain",T.StreamerTerminated="StreamerTerminated",T.LoginStatusChange="LoginStatusChange",T.RemoveGame="RemoveGame",T.VpcIdRefresh="VpcIdRefresh",T.RemoveGameFailed="RemoveGameFailed",T.IntegrationChanged="IntegrationChanged",T.EcomStatusChanged="EcomStatusChanged",T.OnlineStatusChange="OnlineStatusChange",T.AppsListRefresh="AppsListRefresh",T.RefreshOnDataExpiry="RefreshOnDataExpiry",T.InitialFetch="InitialFetch",T.UserSKUChanged="UserSKUChanged",T.RefreshOnCampaignChange="RefreshOnCampaignChange",T}(zt||{}),ft=function(T){return T.SystemInfo="SystemInfo",T}(ft||{}),Ce=function(T){return T.StreamerConnecting="StreamerConnecting",T.CancelledLoginCompleted="CancelledLoginCompleted",T.RagnarokLaunchError="RagnarokLaunchError",T.Success="Success",T.StreamerQueueUpsell="StreamerQueueUpsell",T.HTTPError="HTTPError",T.StreamerPostSessionFreeGaaSUpsell="StreamerPostSessionFreeGaaSUpsell",T.StreamerQueueApology="StreamerQueueApology",T.StreamerPostSessionUpsell="StreamerPostSessionUpsell",T.NesAuthFailed="NesAuthFailed",T.StreamerPostSessionAnonGaaSUpsell="StreamerPostSessionAnonGaaSUpsell",T.GeronimoLaunchError="GeronimoLaunchError",T.Failure="Failure",T.AppExit="AppExit",T.StreamerUsedFreeUpsell="StreamerUsedFreeUpsell",T.JarvisPinAuthFailed="JarvisPinAuthFailed",T.StreamerLoading="StreamerLoading",T.StreamerNoFreeUpsell="StreamerNoFreeUpsell",T.NesNotEntitled="NesNotEntitled",T.EmailNotVerified="EmailNotVerified",T.ServerError="ServerError",T.ECommercePaywallLaunchError="ECommercePaywallLaunchError",T.NetworkInfoError="NetworkInfoError",T.LoginFailed="LoginFailed",T.GeronimoNetworkTestError="GeronimoNetworkTestError",T.NetworkTestSdkError="NetworkTestSdkError",T.EmptyLibrary="EmptyLibrary",T.GetLayoutError="GetLayoutError",T.ClientError="ClientError",T.ClientOffline="ClientOffline",T.Other="Other",T.ServiceWorkerActivationOngoing="ServiceWorkerActivationOngoing",T.ServiceWorkerActivated="ServiceWorkerActivated",T.UALoginComplete="UALoginComplete",T.UALoginFailed="UALoginFailed",T.UALoginPending="UALoginPending",T.UALoginPendingTimedOut="UALoginPendingTimedOut",T.UALoginPendingSuccess="UALoginPendingSuccess",T.UALoginPendingFailure="UALoginPendingFailure",T.ServiceWorkerRegistrationFailed="ServiceWorkerRegistrationFailed",T.ServiceWorkerRegistrationSuccess="ServiceWorkerRegistrationSuccess",T.ServiceWorkerNotSupported="ServiceWorkerNotSupported",T.ServiceWorkerInstalled="ServiceWorkerInstalled",T.ServiceWorkerActivationError="ServiceWorkerActivationError",T.Registered="Registered",T.NotRegistered="NotRegistered",T.Played="Played",T}(Ce||{}),De=function(T){return T.DeleteUndo="DeleteUndo",T.Enter="Enter",T.FiltersCleared="FiltersCleared",T.TrimCancel="TrimCancel",T.Montage="Montage",T.Edit="Edit",T}(De||{}),Se=function(T){return T.UpdateSuccess="UpdateSuccess",T.UpdateFailure="UpdateFailure",T.QueryFailure="QueryFailure",T.DownloadStarted="DownloadStarted",T.Query="Query",T.IPCReceived="IPCReceived",T.UpdateInitiated="UpdateInitiated",T.IPCSent="IPCSent",T.DownloadFailure="DownloadFailure",T.Error="Error",T.Optimization="Optimization",T.Downloaded="Downloaded",T.Cancelled="Cancelled",T}(Se||{}),ge=function(T){return T.UGC="UGC",T.Game="Game",T}(ge||{}),qt=function(T){return T.ScreenOobeWelcome="ScreenOobeWelcome",T.ScreenToastMessage="ScreenToastMessage",T.ScreenMainToolbar="ScreenMainToolbar",T.ScreenMarquee="ScreenMarquee",T.ScreenAllGames="ScreenAllGames",T.ScreenAccountMenu="ScreenAccountMenu",T.ScreenSettings="ScreenSettings",T.ScreenAutoLogin="ScreenAutoLogin",T.ScreenMontage="ScreenMontage",T.ScreenEmailVerification="ScreenEmailVerification",T.ScreenPreview="ScreenPreview",T.ScreenGallery="ScreenGallery",T.ScreenStreamer="ScreenStreamer",T.ScreenMyLibrary="ScreenMyLibrary",T.ScreenJoinGfnDialog="ScreenJoinGfnDialog",T.ScreenGridView="ScreenGridView",T.ScreenEvidencePanel="ScreenEvidencePanel",T.ScreenMallHome="ScreenMallHome",T.ScreenPlatformSelectionDialog="ScreenPlatformSelectionDialog",T.ScreenSwitchProvider="ScreenSwitchProvider",T.ScreenUpgradeBanner="ScreenUpgradeBanner",T.ScreenDesktopShortcut="ScreenDesktopShortcut",T.ScreenPlaytimeNotAddedDialog="ScreenPlaytimeNotAddedDialog",T.ScreenAddPlaytimeBanner="ScreenAddPlaytimeBanner",T.ScreenLimitedStateGameLaunchDialog="ScreenLimitedStateGameLaunchDialog",T.ScreenLowStateGameLaunchDialog="ScreenLowStateGameLaunchDialog",T.ScreenLowPlaytimeDayPassBanner="ScreenLowPlaytimeDayPassBanner",T.ScreenDayPassExpiryBanner="ScreenDayPassExpiryBanner",T.ScreenLowPlaytimeDayPassDialog="ScreenLowPlaytimeDayPassDialog",T}(qt||{}),Ct=function(T){return T.Unknown="Unknown",T.Cancel="Cancel",T.Create="Create",T.Failure="Failure",T}(Ct||{}),Gt=function(T){return T.Unknown="Unknown",T.GeForceNOW="GeForceNOW",T.External="External",T.Deeplink="Deeplink",T}(Gt||{}),Je=function(T){return T.Search="Search",T.FilterTile="FilterTile",T.SeeAll="SeeAll",T.Deeplink="Deeplink",T.Marquee="Marquee",T.FilterPanelAddFilter="FilterPanelAddFilter",T.FilterPanelRemoveFilter="FilterPanelRemoveFilter",T.FilterChipRemoveFilter="FilterChipRemoveFilter",T.LibraryItemRemoved="LibraryItemRemoved",T.SortOrderChanged="SortOrderChanged",T.ClearAll="ClearAll",T.AppsRefresh="AppsRefresh",T.LibraryRefresh="LibraryRefresh",T.CampaignRefresh="CampaignRefresh",T.ManualRetry="ManualRetry",T.NextPage="NextPage",T.None="None",T}(Je||{}),qe=function(T){return T.TOKEN_REGISTRATION="TOKEN_REGISTRATION",T.DISPATCH_NOTIFICATION="DISPATCH_NOTIFICATION",T.DEVICE_REGISTRATION="DEVICE_REGISTRATION",T.CLIENT_SERVER_COMMUNICATION="CLIENT_SERVER_COMMUNICATION",T.SUBSCRIPTION="SUBSCRIPTION",T.PAYLOAD_DECRYPTION="PAYLOAD_DECRYPTION",T.GENERAL="GENERAL",T}(qe||{}),bn=function(T){return T.Join="Join",T.Close="Close",T.Login="Login",T}(bn||{}),kn=function(T){return T.NNS="NNS",T.PNS="PNS",T}(kn||{}),wn=function(T){return T.InstantReplay="InstantReplay",T.Highlight="Highlight",T.Manual="Manual",T.Montage="Montage",T.Screenshot="Screenshot",T.Normal="Normal",T}(wn||{}),On=function(T){return T.Video="Video",T.Audio="Audio",T}(On||{}),Ln=function(T){return T.Success="Success",T.Failure="Failure",T}(Ln||{}),Pe=function(T){return T.EventNone="EventNone",T.EditBox="EditBox",T}(Pe||{}),We=function(T){return T.SessionStart="SessionStart",T.SessionStop="SessionStop",T.SessionConsentDenied="SessionConsentDenied",T}(We||{}),Xe=function(T){return T.Success="Success",T.Failure="Failure",T.Unknown="Unknown",T}(Xe||{}),Ye=function(T){return T.Full="Full",T.Low="Low",T.Limited="Limited",T}(Ye||{}),ue=function(T){return T.Desktop="Desktop",T.Mobile="Mobile",T.Unknown="Unknown",T}(ue||{}),Lt=function(T){return T.UpdateCheckAttemptsExhausted="UpdateCheckAttemptsExhausted",T.DownloadAttemptExhausted="DownloadAttemptExhausted",T.InstallationAttemptExhausted="InstallationAttemptExhausted",T.Banner="Banner",T}(Lt||{}),kt=function(T){return T.PopupShown="PopupShown",T.RelaunchNow="RelaunchNow",T.Redirect="Redirect",T}(kt||{});const rt={CaptureEvent:{name:"CaptureEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryContentEvent:{name:"GalleryContentEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},ClientAudioError:{name:"ClientAudioError",gdprLevel:i.Technical,personalization:L.UserPreferred},AnselFreestyleError:{name:"AnselFreestyleError",gdprLevel:i.Functional,personalization:L.UserPreferred},HighlightsGameSetting:{name:"HighlightsGameSetting",gdprLevel:i.Functional,personalization:L.UserPreferred},TextSearch:{name:"TextSearch",gdprLevel:i.Behavioral,personalization:L.UserPreferred},Geronimo_Feature_Event:{name:"Geronimo_Feature_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},ProcessStarted:{name:"ProcessStarted",gdprLevel:i.Functional,personalization:L.UserPreferred},MicrophoneSettingChange:{name:"MicrophoneSettingChange",gdprLevel:i.Functional,personalization:L.UserPreferred},MicrophoneInitialized:{name:"MicrophoneInitialized",gdprLevel:i.Functional,personalization:L.UserPreferred},CheckGFN:{name:"CheckGFN",gdprLevel:i.Functional,personalization:L.UserPreferred},UIAction:{name:"UIAction",gdprLevel:i.Functional,personalization:L.UserPreferred},QueueEtaUpgradeClicked:{name:"QueueEtaUpgradeClicked",gdprLevel:i.Functional,personalization:L.UserPreferred},QueueEtaAddPlaytimeClicked:{name:"QueueEtaAddPlaytimeClicked",gdprLevel:i.Technical,personalization:L.UserPreferred},AudioNotificationEvent:{name:"AudioNotificationEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},PopUpDialogClosed:{name:"PopUpDialogClosed",gdprLevel:i.Technical,personalization:L.UserPreferred},NetworkTest_Exception_Event:{name:"NetworkTest_Exception_Event",gdprLevel:i.Technical,personalization:L.UserPreferred},Game_Launch_Event:{name:"Game_Launch_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},LaunchProcess:{name:"LaunchProcess",gdprLevel:i.Functional,personalization:L.UserPreferred},ClientImeOpenEvent:{name:"ClientImeOpenEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},OpenedIGO:{name:"OpenedIGO",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryPlayedVideo:{name:"GalleryPlayedVideo",gdprLevel:i.Behavioral,personalization:L.UserPreferred},AnselFreestyleFeatureDisabled:{name:"AnselFreestyleFeatureDisabled",gdprLevel:i.Technical,personalization:L.UserPreferred},SettingSnapshot:{name:"SettingSnapshot",gdprLevel:i.Behavioral,personalization:L.UserPreferred},Application_Install:{name:"Application_Install",gdprLevel:i.Functional,personalization:L.UserPreferred},Ragnarok_Exception_Event:{name:"Ragnarok_Exception_Event",gdprLevel:i.Technical,personalization:L.UserPreferred},QueueAbandoned:{name:"QueueAbandoned",gdprLevel:i.Functional,personalization:L.UserPreferred},OwnershipSyncEvent:{name:"OwnershipSyncEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},PopUpDialogShown:{name:"PopUpDialogShown",gdprLevel:i.Functional,personalization:L.UserPreferred},PushNotificationReceived:{name:"PushNotificationReceived",gdprLevel:i.Functional,personalization:L.UserPreferred},UITransition:{name:"UITransition",gdprLevel:i.Behavioral,personalization:L.UserPreferred},OOBE_Accept:{name:"OOBE_Accept",gdprLevel:i.Functional,personalization:L.UserPreferred},RoutingStatus:{name:"RoutingStatus",gdprLevel:i.Functional,personalization:L.UserPreferred},Geronimo_Stream_Exit_Event:{name:"Geronimo_Stream_Exit_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},Ragnarok_Sleep_Event:{name:"Ragnarok_Sleep_Event",gdprLevel:i.Technical,personalization:L.UserPreferred},RagnarokGamepadEvent:{name:"RagnarokGamepadEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},CrashInfo:{name:"CrashInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},HTTPFailure:{name:"HTTPFailure",gdprLevel:i.Functional,personalization:L.UserPreferred},AnselFreestyleSession:{name:"AnselFreestyleSession",gdprLevel:i.Functional,personalization:L.UserPreferred},PushNotificationTokenRegistered:{name:"PushNotificationTokenRegistered",gdprLevel:i.Functional,personalization:L.UserPreferred},AutoUpdate:{name:"AutoUpdate",gdprLevel:i.Functional,personalization:L.UserPreferred},Ragnarok_Stream_Exit_Event:{name:"Ragnarok_Stream_Exit_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},Geronimo_SystemApi_Event:{name:"Geronimo_SystemApi_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},GeronimoGamepadEvent:{name:"GeronimoGamepadEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},ClientMetricEvent:{name:"ClientMetricEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},LayoutTelemetry:{name:"LayoutTelemetry",gdprLevel:i.Functional,personalization:L.UserPreferred},BrowserClientCanary:{name:"BrowserClientCanary",gdprLevel:i.Functional,personalization:L.UserPreferred},HTTPSuccess:{name:"HTTPSuccess",gdprLevel:i.Functional,personalization:L.UserPreferred},SDKCallResult:{name:"SDKCallResult",gdprLevel:i.Functional,personalization:L.UserPreferred},Drag:{name:"Drag",gdprLevel:i.Technical,personalization:L.UserPreferred},HighlightsIndividualGameToggle:{name:"HighlightsIndividualGameToggle",gdprLevel:i.Behavioral,personalization:L.UserPreferred},NetworkTest:{name:"NetworkTest",gdprLevel:i.Functional,personalization:L.UserPreferred},GFNSession:{name:"GFNSession",gdprLevel:i.Functional,personalization:L.UserPreferred},DeeplinkSource:{name:"DeeplinkSource",gdprLevel:i.Functional,personalization:L.UserPreferred},HIDInfo:{name:"HIDInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},NvstDebug_Event:{name:"NvstDebug_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},SystemInfo:{name:"SystemInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},GameSearchFilterEvent:{name:"GameSearchFilterEvent",gdprLevel:i.Behavioral,personalization:L.UserPreferred},GalleryOpenedFileLocation:{name:"GalleryOpenedFileLocation",gdprLevel:i.Behavioral,personalization:L.UserPreferred},Click:{name:"Click",gdprLevel:i.Technical,personalization:L.UserPreferred},AnselFreestyleFilters:{name:"AnselFreestyleFilters",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryFilterUsed:{name:"GalleryFilterUsed",gdprLevel:i.Behavioral,personalization:L.UserPreferred},Geronimo_Launch_Event:{name:"Geronimo_Launch_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},Nvst_RealTimeMetrics:{name:"Nvst_RealTimeMetrics",gdprLevel:i.Technical,personalization:L.UserPreferred},UserSession:{name:"UserSession",gdprLevel:i.Functional,personalization:L.UserPreferred},Geronimo_Connectivity_Event:{name:"Geronimo_Connectivity_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},NavigationPerformanceMetrics:{name:"NavigationPerformanceMetrics",gdprLevel:i.Technical,personalization:L.UserPreferred},GalleryDeleteCountEvent:{name:"GalleryDeleteCountEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},MontageEvent:{name:"MontageEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},CreateHTTPServerError:{name:"CreateHTTPServerError",gdprLevel:i.Functional,personalization:L.UserPreferred},Geronimo_Debug_Event:{name:"Geronimo_Debug_Event",gdprLevel:i.Technical,personalization:L.UserPreferred},AnselScreenshotEvent:{name:"AnselScreenshotEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},Hit_Event:{name:"Hit_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},CloudSearch:{name:"CloudSearch",gdprLevel:i.Functional,personalization:L.UserPreferred},AuthenticationProvider:{name:"AuthenticationProvider",gdprLevel:i.Functional,personalization:L.UserPreferred},ExperienceControlInfo:{name:"ExperienceControlInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},PageLoadPerformanceMetrics:{name:"PageLoadPerformanceMetrics",gdprLevel:i.Technical,personalization:L.UserPreferred},SettingState:{name:"SettingState",gdprLevel:i.Technical,personalization:L.UserPreferred},DeeplinkShare:{name:"DeeplinkShare",gdprLevel:i.Functional,personalization:L.UserPreferred},Game_Launch_Metrics:{name:"Game_Launch_Metrics",gdprLevel:i.Functional,personalization:L.UserPreferred},NetworkTest_Http_Event:{name:"NetworkTest_Http_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryAction:{name:"GalleryAction",gdprLevel:i.Functional,personalization:L.UserPreferred},GFNPCLogsInfo:{name:"GFNPCLogsInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},CTATileClickEvent:{name:"CTATileClickEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},StreamingProfile:{name:"StreamingProfile",gdprLevel:i.Technical,personalization:L.UserPreferred},ClientAudioSkewedEvent:{name:"ClientAudioSkewedEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},Geronimo_Http_Event:{name:"Geronimo_Http_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},ClientImeInteractionEvent:{name:"ClientImeInteractionEvent",gdprLevel:i.Technical,personalization:L.UserPreferred},StreamNowButtonClick:{name:"StreamNowButtonClick",gdprLevel:i.Functional,personalization:L.UserPreferred},HighlightCapture:{name:"HighlightCapture",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryFileRemoved:{name:"GalleryFileRemoved",gdprLevel:i.Behavioral,personalization:L.UserPreferred},Ragnarok_Http_Event:{name:"Ragnarok_Http_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},GalleryFilterEvent:{name:"GalleryFilterEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},MontageAction:{name:"MontageAction",gdprLevel:i.Functional,personalization:L.UserPreferred},UserSurvey:{name:"UserSurvey",gdprLevel:i.Functional,personalization:L.UserPreferred},Ragnarok_Launch_Event:{name:"Ragnarok_Launch_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},PluginAPIStatus:{name:"PluginAPIStatus",gdprLevel:i.Technical,personalization:L.UserPreferred},GPUInfo:{name:"GPUInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},GallerySortEvent:{name:"GallerySortEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},OverrideKeyboardLayout:{name:"OverrideKeyboardLayout",gdprLevel:i.Functional,personalization:L.UserPreferred},Exception:{name:"Exception",gdprLevel:i.Functional,personalization:L.UserPreferred},OpportunityViewStatus:{name:"OpportunityViewStatus",gdprLevel:i.Functional,personalization:L.UserPreferred},HighlightsCancelled:{name:"HighlightsCancelled",gdprLevel:i.Functional,personalization:L.UserPreferred},Ragnarok_Debug_Event:{name:"Ragnarok_Debug_Event",gdprLevel:i.Technical,personalization:L.UserPreferred},GalleryAccess:{name:"GalleryAccess",gdprLevel:i.Functional,personalization:L.UserPreferred},PushNotificationError:{name:"PushNotificationError",gdprLevel:i.Functional,personalization:L.UserPreferred},PushNotificationPurgedEntries:{name:"PushNotificationPurgedEntries",gdprLevel:i.Functional,personalization:L.UserPreferred},FreestyleStylesApplied:{name:"FreestyleStylesApplied",gdprLevel:i.Functional,personalization:L.UserPreferred},MediaPlay:{name:"MediaPlay",gdprLevel:i.Technical,personalization:L.UserPreferred},StatsClosedEvent:{name:"StatsClosedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},StatsViewChangedEvent:{name:"StatsViewChangedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},GFNEventStatus:{name:"GFNEventStatus",gdprLevel:i.Functional,personalization:L.UserPreferred},GameplayEntryEvent:{name:"GameplayEntryEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},StreamingQualityChangedEvent:{name:"StreamingQualityChangedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},ResolutionUpscalingChangedEvent:{name:"ResolutionUpscalingChangedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},WidgetViewChangedEvent:{name:"WidgetViewChangedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},NotificationChangedEvent:{name:"NotificationChangedEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},PlaytesterSessionEvent:{name:"PlaytesterSessionEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},System_WifiInfo_Event:{name:"System_WifiInfo_Event",gdprLevel:i.Functional,personalization:L.UserPreferred},ClipboardPasteEvent:{name:"ClipboardPasteEvent",gdprLevel:i.Functional,personalization:L.UserPreferred},StorageUsageMetrics:{name:"StorageUsageMetrics",gdprLevel:i.Technical,personalization:L.UserPreferred},LoginStart:{name:"LoginStart",gdprLevel:i.Functional,personalization:L.UserPreferred},RemoteConfigInfo:{name:"RemoteConfigInfo",gdprLevel:i.Functional,personalization:L.UserPreferred},GameCampaignsUpdate:{name:"GameCampaignsUpdate",gdprLevel:i.Functional,personalization:L.UserPreferred},UDSDialogShown:{name:"UDSDialogShown",gdprLevel:i.Functional,personalization:L.UserPreferred},UDSSuggestionFeedback:{name:"UDSSuggestionFeedback",gdprLevel:i.Functional,personalization:L.UserPreferred},ClientSelfUpdate:{name:"ClientSelfUpdate",gdprLevel:i.Functional,personalization:L.UserPreferred},UserWindowInfo:{name:"UserWindowInfo",gdprLevel:i.Functional,personalization:L.UserPreferred}};class he{constructor(ie){this.parameters=ie,this.ts=(new Date).toISOString()}}class G extends he{constructor(ie){super(ie),this.name=rt.GalleryContentEvent.name,this.gdprLevel=rt.GalleryContentEvent.gdprLevel,this.personalization=rt.GalleryContentEvent.personalization}}class Re extends he{constructor(ie){super(ie),this.name=rt.MicrophoneSettingChange.name,this.gdprLevel=rt.MicrophoneSettingChange.gdprLevel,this.personalization=rt.MicrophoneSettingChange.personalization}}class Ee extends he{constructor(ie){super(ie),this.name=rt.MicrophoneInitialized.name,this.gdprLevel=rt.MicrophoneInitialized.gdprLevel,this.personalization=rt.MicrophoneInitialized.personalization}}class Le extends he{constructor(ie){super(ie),this.name=rt.CheckGFN.name,this.gdprLevel=rt.CheckGFN.gdprLevel,this.personalization=rt.CheckGFN.personalization}}class xe extends he{constructor(ie){super(ie),this.name=rt.UIAction.name,this.gdprLevel=rt.UIAction.gdprLevel,this.personalization=rt.UIAction.personalization}}class an extends he{constructor(ie){super(ie),this.name=rt.QueueEtaUpgradeClicked.name,this.gdprLevel=rt.QueueEtaUpgradeClicked.gdprLevel,this.personalization=rt.QueueEtaUpgradeClicked.personalization}}class Be extends he{constructor(ie){super(ie),this.name=rt.QueueEtaAddPlaytimeClicked.name,this.gdprLevel=rt.QueueEtaAddPlaytimeClicked.gdprLevel,this.personalization=rt.QueueEtaAddPlaytimeClicked.personalization}}class ln extends he{constructor(ie){super(ie),this.name=rt.AudioNotificationEvent.name,this.gdprLevel=rt.AudioNotificationEvent.gdprLevel,this.personalization=rt.AudioNotificationEvent.personalization}}class tn extends he{constructor(ie){super(ie),this.name=rt.PopUpDialogClosed.name,this.gdprLevel=rt.PopUpDialogClosed.gdprLevel,this.personalization=rt.PopUpDialogClosed.personalization}}class Kn extends he{constructor(ie){super(ie),this.name=rt.NetworkTest_Exception_Event.name,this.gdprLevel=rt.NetworkTest_Exception_Event.gdprLevel,this.personalization=rt.NetworkTest_Exception_Event.personalization}}class $n extends he{constructor(ie){super(ie),this.name=rt.Game_Launch_Event.name,this.gdprLevel=rt.Game_Launch_Event.gdprLevel,this.personalization=rt.Game_Launch_Event.personalization}}class fn extends he{constructor(ie){super(ie),this.name=rt.ClientImeOpenEvent.name,this.gdprLevel=rt.ClientImeOpenEvent.gdprLevel,this.personalization=rt.ClientImeOpenEvent.personalization}}class Sn extends he{constructor(ie){super(ie),this.name=rt.Application_Install.name,this.gdprLevel=rt.Application_Install.gdprLevel,this.personalization=rt.Application_Install.personalization}}class An extends he{constructor(ie){super(ie),this.name=rt.QueueAbandoned.name,this.gdprLevel=rt.QueueAbandoned.gdprLevel,this.personalization=rt.QueueAbandoned.personalization}}class Nn extends he{constructor(ie){super(ie),this.name=rt.OwnershipSyncEvent.name,this.gdprLevel=rt.OwnershipSyncEvent.gdprLevel,this.personalization=rt.OwnershipSyncEvent.personalization}}class Vn extends he{constructor(ie){super(ie),this.name=rt.PopUpDialogShown.name,this.gdprLevel=rt.PopUpDialogShown.gdprLevel,this.personalization=rt.PopUpDialogShown.personalization}}class Ci extends he{constructor(ie){super(ie),this.name=rt.PushNotificationReceived.name,this.gdprLevel=rt.PushNotificationReceived.gdprLevel,this.personalization=rt.PushNotificationReceived.personalization}}class ri extends he{constructor(ie){super(ie),this.name=rt.OOBE_Accept.name,this.gdprLevel=rt.OOBE_Accept.gdprLevel,this.personalization=rt.OOBE_Accept.personalization}}class En extends he{constructor(ie){super(ie),this.name=rt.RoutingStatus.name,this.gdprLevel=rt.RoutingStatus.gdprLevel,this.personalization=rt.RoutingStatus.personalization}}class Li extends he{constructor(ie){super(ie),this.name=rt.HTTPFailure.name,this.gdprLevel=rt.HTTPFailure.gdprLevel,this.personalization=rt.HTTPFailure.personalization}}class To extends he{constructor(ie){super(ie),this.name=rt.PushNotificationTokenRegistered.name,this.gdprLevel=rt.PushNotificationTokenRegistered.gdprLevel,this.personalization=rt.PushNotificationTokenRegistered.personalization}}class io extends he{constructor(ie){super(ie),this.name=rt.AutoUpdate.name,this.gdprLevel=rt.AutoUpdate.gdprLevel,this.personalization=rt.AutoUpdate.personalization}}class de extends he{constructor(ie){super(ie),this.name=rt.LayoutTelemetry.name,this.gdprLevel=rt.LayoutTelemetry.gdprLevel,this.personalization=rt.LayoutTelemetry.personalization}}class pe extends he{constructor(ie){super(ie),this.name=rt.BrowserClientCanary.name,this.gdprLevel=rt.BrowserClientCanary.gdprLevel,this.personalization=rt.BrowserClientCanary.personalization}}class Te extends he{constructor(ie){super(ie),this.name=rt.HTTPSuccess.name,this.gdprLevel=rt.HTTPSuccess.gdprLevel,this.personalization=rt.HTTPSuccess.personalization}}class xn extends he{constructor(ie){super(ie),this.name=rt.Drag.name,this.gdprLevel=rt.Drag.gdprLevel,this.personalization=rt.Drag.personalization}}class mi extends he{constructor(ie){super(ie),this.name=rt.NetworkTest.name,this.gdprLevel=rt.NetworkTest.gdprLevel,this.personalization=rt.NetworkTest.personalization}}class Do extends he{constructor(ie){super(ie),this.name=rt.DeeplinkSource.name,this.gdprLevel=rt.DeeplinkSource.gdprLevel,this.personalization=rt.DeeplinkSource.personalization}}class zi extends he{constructor(ie){super(ie),this.name=rt.HIDInfo.name,this.gdprLevel=rt.HIDInfo.gdprLevel,this.personalization=rt.HIDInfo.personalization}}class oo extends he{constructor(ie){super(ie),this.name=rt.SystemInfo.name,this.gdprLevel=rt.SystemInfo.gdprLevel,this.personalization=rt.SystemInfo.personalization}}class pi extends he{constructor(ie){super(ie),this.name=rt.GameSearchFilterEvent.name,this.gdprLevel=rt.GameSearchFilterEvent.gdprLevel,this.personalization=rt.GameSearchFilterEvent.personalization}}class nr extends he{constructor(ie){super(ie),this.name=rt.Click.name,this.gdprLevel=rt.Click.gdprLevel,this.personalization=rt.Click.personalization}}class Pi extends he{constructor(ie){super(ie),this.name=rt.UserSession.name,this.gdprLevel=rt.UserSession.gdprLevel,this.personalization=rt.UserSession.personalization}}class ir extends he{constructor(ie){super(ie),this.name=rt.NavigationPerformanceMetrics.name,this.gdprLevel=rt.NavigationPerformanceMetrics.gdprLevel,this.personalization=rt.NavigationPerformanceMetrics.personalization}}class ro extends he{constructor(ie){super(ie),this.name=rt.GalleryDeleteCountEvent.name,this.gdprLevel=rt.GalleryDeleteCountEvent.gdprLevel,this.personalization=rt.GalleryDeleteCountEvent.personalization}}class ho extends he{constructor(ie){super(ie),this.name=rt.MontageEvent.name,this.gdprLevel=rt.MontageEvent.gdprLevel,this.personalization=rt.MontageEvent.personalization}}class Rr extends he{constructor(ie){super(ie),this.name=rt.CreateHTTPServerError.name,this.gdprLevel=rt.CreateHTTPServerError.gdprLevel,this.personalization=rt.CreateHTTPServerError.personalization}}class rr extends he{constructor(ie){super(ie),this.name=rt.Hit_Event.name,this.gdprLevel=rt.Hit_Event.gdprLevel,this.personalization=rt.Hit_Event.personalization}}class $i extends he{constructor(ie){super(ie),this.name=rt.AuthenticationProvider.name,this.gdprLevel=rt.AuthenticationProvider.gdprLevel,this.personalization=rt.AuthenticationProvider.personalization}}class Ao extends he{constructor(ie){super(ie),this.name=rt.PageLoadPerformanceMetrics.name,this.gdprLevel=rt.PageLoadPerformanceMetrics.gdprLevel,this.personalization=rt.PageLoadPerformanceMetrics.personalization}}class ii extends he{constructor(ie){super(ie),this.name=rt.SettingState.name,this.gdprLevel=rt.SettingState.gdprLevel,this.personalization=rt.SettingState.personalization}}class No extends he{constructor(ie){super(ie),this.name=rt.DeeplinkShare.name,this.gdprLevel=rt.DeeplinkShare.gdprLevel,this.personalization=rt.DeeplinkShare.personalization}}class Di extends he{constructor(ie){super(ie),this.name=rt.Game_Launch_Metrics.name,this.gdprLevel=rt.Game_Launch_Metrics.gdprLevel,this.personalization=rt.Game_Launch_Metrics.personalization}}class uo extends he{constructor(ie){super(ie),this.name=rt.NetworkTest_Http_Event.name,this.gdprLevel=rt.NetworkTest_Http_Event.gdprLevel,this.personalization=rt.NetworkTest_Http_Event.personalization}}class sr extends he{constructor(ie){super(ie),this.name=rt.GalleryAction.name,this.gdprLevel=rt.GalleryAction.gdprLevel,this.personalization=rt.GalleryAction.personalization}}class ar extends he{constructor(ie){super(ie),this.name=rt.CTATileClickEvent.name,this.gdprLevel=rt.CTATileClickEvent.gdprLevel,this.personalization=rt.CTATileClickEvent.personalization}}class so extends he{constructor(ie){super(ie),this.name=rt.StreamingProfile.name,this.gdprLevel=rt.StreamingProfile.gdprLevel,this.personalization=rt.StreamingProfile.personalization}}class ao extends he{constructor(ie){super(ie),this.name=rt.ClientImeInteractionEvent.name,this.gdprLevel=rt.ClientImeInteractionEvent.gdprLevel,this.personalization=rt.ClientImeInteractionEvent.personalization}}class Fe extends he{constructor(ie){super(ie),this.name=rt.StreamNowButtonClick.name,this.gdprLevel=rt.StreamNowButtonClick.gdprLevel,this.personalization=rt.StreamNowButtonClick.personalization}}class Hr extends he{constructor(ie){super(ie),this.name=rt.GalleryFilterEvent.name,this.gdprLevel=rt.GalleryFilterEvent.gdprLevel,this.personalization=rt.GalleryFilterEvent.personalization}}class zn extends he{constructor(ie){super(ie),this.name=rt.MontageAction.name,this.gdprLevel=rt.MontageAction.gdprLevel,this.personalization=rt.MontageAction.personalization}}class Vr extends he{constructor(ie){super(ie),this.name=rt.UserSurvey.name,this.gdprLevel=rt.UserSurvey.gdprLevel,this.personalization=rt.UserSurvey.personalization}}class cr extends he{constructor(ie){super(ie),this.name=rt.PluginAPIStatus.name,this.gdprLevel=rt.PluginAPIStatus.gdprLevel,this.personalization=rt.PluginAPIStatus.personalization}}class pn extends he{constructor(ie){super(ie),this.name=rt.GPUInfo.name,this.gdprLevel=rt.GPUInfo.gdprLevel,this.personalization=rt.GPUInfo.personalization}}class Gi extends he{constructor(ie){super(ie),this.name=rt.GallerySortEvent.name,this.gdprLevel=rt.GallerySortEvent.gdprLevel,this.personalization=rt.GallerySortEvent.personalization}}class mo extends he{constructor(ie){super(ie),this.name=rt.Exception.name,this.gdprLevel=rt.Exception.gdprLevel,this.personalization=rt.Exception.personalization}}class po extends he{constructor(ie){super(ie),this.name=rt.OpportunityViewStatus.name,this.gdprLevel=rt.OpportunityViewStatus.gdprLevel,this.personalization=rt.OpportunityViewStatus.personalization}}class lo extends he{constructor(ie){super(ie),this.name=rt.Ragnarok_Debug_Event.name,this.gdprLevel=rt.Ragnarok_Debug_Event.gdprLevel,this.personalization=rt.Ragnarok_Debug_Event.personalization}}class Wr extends he{constructor(ie){super(ie),this.name=rt.PushNotificationError.name,this.gdprLevel=rt.PushNotificationError.gdprLevel,this.personalization=rt.PushNotificationError.personalization}}class gr extends he{constructor(ie){super(ie),this.name=rt.PushNotificationPurgedEntries.name,this.gdprLevel=rt.PushNotificationPurgedEntries.gdprLevel,this.personalization=rt.PushNotificationPurgedEntries.personalization}}class dr extends he{constructor(ie){super(ie),this.name=rt.MediaPlay.name,this.gdprLevel=rt.MediaPlay.gdprLevel,this.personalization=rt.MediaPlay.personalization}}class _n extends he{constructor(ie){super(ie),this.name=rt.GFNEventStatus.name,this.gdprLevel=rt.GFNEventStatus.gdprLevel,this.personalization=rt.GFNEventStatus.personalization}}class yi extends he{constructor(ie){super(ie),this.name=rt.PlaytesterSessionEvent.name,this.gdprLevel=rt.PlaytesterSessionEvent.gdprLevel,this.personalization=rt.PlaytesterSessionEvent.personalization}}class Fo extends he{constructor(ie){super(ie),this.name=rt.ClipboardPasteEvent.name,this.gdprLevel=rt.ClipboardPasteEvent.gdprLevel,this.personalization=rt.ClipboardPasteEvent.personalization}}class Yi extends he{constructor(ie){super(ie),this.name=rt.StorageUsageMetrics.name,this.gdprLevel=rt.StorageUsageMetrics.gdprLevel,this.personalization=rt.StorageUsageMetrics.personalization}}class Go extends he{constructor(ie){super(ie),this.name=rt.LoginStart.name,this.gdprLevel=rt.LoginStart.gdprLevel,this.personalization=rt.LoginStart.personalization}}class Bo extends he{constructor(ie){super(ie),this.name=rt.RemoteConfigInfo.name,this.gdprLevel=rt.RemoteConfigInfo.gdprLevel,this.personalization=rt.RemoteConfigInfo.personalization}}class fo extends he{constructor(ie){super(ie),this.name=rt.GameCampaignsUpdate.name,this.gdprLevel=rt.GameCampaignsUpdate.gdprLevel,this.personalization=rt.GameCampaignsUpdate.personalization}}class Ho extends he{constructor(ie){super(ie),this.name=rt.UDSDialogShown.name,this.gdprLevel=rt.UDSDialogShown.gdprLevel,this.personalization=rt.UDSDialogShown.personalization}}class vi extends he{constructor(ie){super(ie),this.name=rt.UDSSuggestionFeedback.name,this.gdprLevel=rt.UDSSuggestionFeedback.gdprLevel,this.personalization=rt.UDSSuggestionFeedback.personalization}}class co extends he{constructor(ie){super(ie),this.name=rt.ClientSelfUpdate.name,this.gdprLevel=rt.ClientSelfUpdate.gdprLevel,this.personalization=rt.ClientSelfUpdate.personalization}}class mr extends he{constructor(ie){super(ie),this.name=rt.UserWindowInfo.name,this.gdprLevel=rt.UserWindowInfo.gdprLevel,this.personalization=rt.UserWindowInfo.personalization}}},65343:(Dt,ct,t)=>{"use strict";t.d(ct,{$4G:()=>i.$4G,AUc:()=>i.AUc,AVX:()=>i.AVX,AX0:()=>i.AX0,BFK:()=>i.BFK,Bbu:()=>i.Bbu,BhR:()=>i.BhR,CGJ:()=>i.CGJ,Cbx:()=>i.Cbx,DCd:()=>i.DCd,DL8:()=>i.DL8,DUy:()=>i.DUy,DYb:()=>i.DYb,DwO:()=>i.DwO,E5O:()=>i.E5O,F9b:()=>i.F9b,FRL:()=>e.FR,GVq:()=>i.GVq,GtW:()=>i.GtW,HGL:()=>i.HGL,HmX:()=>i.HmX,HyT:()=>i.HyT,ItH:()=>i.ItH,J2u:()=>i.J2u,JkH:()=>i.JkH,LMI:()=>i.LMI,Mbw:()=>i.Mbw,MjV:()=>i.MjV,Mlh:()=>i.Mlh,MsO:()=>i.MsO,N3X:()=>i.N3X,NX4:()=>i.NX4,NlQ:()=>i.NlQ,NuE:()=>i.NuE,OD0:()=>e.OD,OR5:()=>i.OR5,OSH:()=>i.OSH,Ols:()=>i.Ols,PoW:()=>i.PoW,PyH:()=>i.PyH,QqN:()=>i.QqN,Qrr:()=>i.Qrr,QuF:()=>i.QuF,RRm:()=>i.RRm,Ran:()=>i.Ran,T44:()=>i.T44,TK_:()=>i.TK_,Tbl:()=>i.Tbl,Tn7:()=>i.Tn7,U4l:()=>i.U4l,VHB:()=>i.VHB,VIQ:()=>i.VIQ,Vwu:()=>i.Vwu,W9g:()=>i.W9g,WLf:()=>i.WLf,Wb4:()=>i.Wb4,XHw:()=>i.XHw,XPX:()=>i.XPX,Xj5:()=>i.Xj5,XzU:()=>i.XzU,YXu:()=>i.YXu,Y_M:()=>i.Y_M,YbQ:()=>i.YbQ,Ydg:()=>i.Ydg,Yk9:()=>i.Yk9,YwJ:()=>i.YwJ,YyK:()=>i.YyK,ZQU:()=>i.ZQU,_63:()=>i._63,_G:()=>i._G,_K5:()=>i._K5,_LZ:()=>i._LZ,_So:()=>e._S,_cC:()=>i._cC,aGN:()=>i.aGN,att:()=>i.att,bOD:()=>i.bOD,c8x:()=>i.c8x,cPW:()=>i.cPW,cYw:()=>i.cYw,cjj:()=>i.cjj,cym:()=>i.cym,eCT:()=>i.eCT,ef6:()=>i.ef6,f$p:()=>i.f$p,foq:()=>i.foq,g7J:()=>i.g7J,gtW:()=>i.gtW,hAb:()=>i.hAb,hMy:()=>i.hMy,i5E:()=>i.i5E,iB_:()=>i.iB_,jzO:()=>i.jzO,kr1:()=>i.kr1,lzt:()=>i.lzt,nfD:()=>i.nfD,p3A:()=>i.p3A,pDK:()=>i.pDK,pjt:()=>i.pjt,qmX:()=>i.qmX,reR:()=>e.re,roz:()=>i.roz,ryx:()=>i.ryx,sNt:()=>i.sNt,sf3:()=>i.sf3,syg:()=>i.syg,tZp:()=>i.tZp,uEx:()=>i.uEx,v6v:()=>i.v6v,vlM:()=>i.vlM,wEN:()=>i.wEN,wU6:()=>L.w,wye:()=>i.wye,xNG:()=>i.xNG,xcx:()=>i.xcx,yOt:()=>i.yOt,zO5:()=>i.zO5,zZ4:()=>i.zZ4,zfT:()=>i.zfT,ztj:()=>i.ztj});var e=t(61993),i=t(81351),L=t(44512)},44512:(Dt,ct,t)=>{"use strict";t.d(ct,{w:()=>X});var e=t(49481),i=t(70462),L=t(73992),f=t(64555),x=t(38435),S=t(9681),u=t(87965),g=t(46939),h=t(47422),O=t(58175),E=t(15746),w=t(50183),p=t(680),V=t(47178),C=t(13963),l=t(89857),o=t(78943),n=t(61993),s=t(81351),R=t(93005),_=t(77869),b=t(64836),I=t(24642),q=t(62712),a=t(42586),y=t(19065),M=t(61699),P=t(79530),K=t(15665),B=t(91009),j=t(53576),tt=t(12878),ot=t(27947),F=t(1498),U=t(15476);const z="gfnTelemetry",Q={cmsId:null,shortName:"",appLaunchMode:I.xl.Default,launchSource:s.zO5.Unknown,sdkClient:""},dt="telemetrySessionId";let X=(()=>{var m;class Y{constructor(N,Z,W,A,d,H,$,J,st,lt,gt,vt,k,pt,yt){var Xt;this.loggingService=N,this.appConfig=Z,this.sharedStorageService=W,this.telemetryService=A,this.systemInfoService=d,this.ipcService=H,this.appConfigParams=$,this.gfnsdkService=J,this.pwaService=st,this.router=lt,this.guestModeHelperService=gt,this.deeplinkHelper=vt,this.inputModalityService=k,this.ngZone=pt,this.audioPlayService=yt,this.enableSoundNotification=!1,this.HIDInfo=void 0,this.clientType=s.BhR.Unknown,this.deviceIdSetSubject=new e.t(1),this.sendAppLaunchTelemetrySubject=new i.X(!1),this.streamerTelemetryConfig=Q,this.isBrowserClient=!1,this.isGpuEventSent=!1,this.lastClickInputSource=s.s8B.Unknown,this.clientVersion="",this.logger=this.loggingService.getLogger("telemetry-util.service"),this.enableSoundNotification=!(null==Z||null===(Xt=Z.featureEnablement)||void 0===Xt||!Xt.enableSoundNotification),this.setClientType((0,b.wI)(this.router.url)?b.lW.Streamer:b.lW.Mall),this.isBrowserClient=C.ng.isBrowserPlatform()}init(N){this.clientVersion=N,this.initialize().subscribe(Z=>{this.logger.info("Successfully generated and stored device id"),this.deviceIdSetSubject.next(),this.deviceIdSetSubject.complete()},Z=>{this.logger.error("Error fetching deviceId: ",Z)})}initializeAudioTelemetry(){this.enableSoundNotification&&this.audioPlayService.getAudioTelemetryData().subscribe(N=>{this.logger.info("Event received from audio service : ",N),this.sendAudioTelemetry(N)})}sendAudioTelemetry(N){var Z;this.telemetryService.push(new s.JI9({scenario:null!==(Z=N.eventScenario)&&void 0!==Z?Z:"",status:this.transformToEventStatus(N.eventStatus),errorDetails:(0,_.KF)(N.errorDetails,l.YM)}))}transformToEventStatus(N){return s.N3X[C.E_[N]]}restoreTelemetrySessionId(){null!==window.sessionStorage.getItem(dt)&&(this.telemetryService.updateTelemetrySessionId(window.sessionStorage.getItem(dt)),window.sessionStorage.removeItem(dt))}saveTelmetrySessionIdOnLoginAndLogout(N){this.logger.info("Subscribing to Login initiated notification"),N.subscribe(Z=>{this.logger.info("Received notification for ",Z),window.sessionStorage.setItem(dt,this.telemetryService.telemetrySessionId),this.logger.info("Completed saving telemetrySessionId")})}initialize(){this.restoreTelemetrySessionId(),this.ngZone.runOutsideAngular(()=>{this.inputModalityService.inputModalityChanged$.subscribe(Z=>{switch(Z){case a.q.Keyboard:this.lastClickInputSource=s.s8B.Keyboard;break;case a.q.Gamepad:this.lastClickInputSource=s.s8B.Gamepad;break;case a.q.Mouse:this.lastClickInputSource=s.s8B.Mouse;break;case a.q.Touch:this.lastClickInputSource=s.s8B.Touch}})});const N=this.systemInfoService.getSystemInfo([C.l7.DeviceId,C.l7.Platform,C.l7.OSVersion,C.l7.VendorName,C.l7.SystemName,C.l7.DeviceType,C.l7.BrowserName]);return(0,L.$R)(this.systemInfoService.getDeviceOSType(),N).pipe((0,u.zg)(([Z,W])=>{const A={deviceOS:Z,clientType:this.isBrowserClient?n.gx.Browser:n.gx.Native,clientVer:this.clientVersion,systemInfo:W,integrationId:this.getIntegrationId(),productName:this.appConfig.jsEvents.productName,productVersion:(0,y.s)(this.appConfig)};return this.initCommonData(A)}))}initCommonData(N){const Z=N.systemInfo;return this.telemetryService.setEventsCommonData({clientVer:N.clientVer,deviceId:Z.DeviceId,platform:this.getCommonPlatformType(Z.Platform),clientType:N.clientType,clientVariant:this.getCommonClientVariant(this.appConfig.build.variant),deviceOS:N.deviceOS,deviceOSVersion:Z.OSVersion,deviceMake:Z.VendorName||C.kQ,deviceModel:Z.SystemName||C.kQ,deviceType:Z.DeviceType||C.kQ,integrationId:N.integrationId,browserType:Z.BrowserName,productName:N.productName||C.kQ,productVersion:N.productVersion||C.kQ},!1),this.sharedStorageService.readBlock(z).pipe((0,u.zg)(W=>(W.clientVersion=this.appConfig.build.version,W.deviceId=Z.DeviceId,this.sharedStorageService.writeBlock(z,W))))}setTelemetryConfig(N){this.streamerTelemetryConfig=null!=N?N:Q,this.sendSystemInfoTelemetry()}getIntegrationId(){let N=C.kQ;const Z=this.deeplinkHelper.getUpdatedPartnerId((0,b.cj)(q.uE.PartnerId));return(this.guestModeHelperService.isGuestMode||this.deeplinkHelper.isSpecialAffiliatePartner(Z))&&(N=Z||C.kQ),N}getPlatformType(N){switch(N){case"Mac":return s.zhv.Mac;case"Windows":return s.zhv.Windows;case"Android":case"Shield":return s.zhv.Android;default:return s.zhv.Unknown}}getCurrentUiMode(N){switch(N){case o.Yk.Common.Systeminfo.UiModeEnum.Desktop:return s.bi$.Desktop;case o.Yk.Common.Systeminfo.UiModeEnum.Mobile:return s.bi$.Mobile;default:return s.bi$.Unknown}}getCommonClientVariant(N){switch(N){case"ibeta":return n.ve.iBeta;case"release":return n.ve.Release;default:return n.ve.Undefined}}getCommonPlatformType(N){return C.ng.isBrowserPlatform()?s.zhv.Web:"Windows"===N?"Win":N}getProductName(){return this.appConfig.jsEvents.productName}getDisplayDetails(N){const Z=[];for(let W=0;W<n.Iv.MaxDisplay;W++){const A={physicalRes:N&&N[W]&&N[W].PhysicalResolution||"",logicalRes:N&&N[W]&&N[W].LogicalResolution||"",refreshRate:N&&N[W]&&parseInt(N[W].RefreshRate,10)||0,displayNumber:W};Z.push(A)}return Z}getGpuDetails(N){const Z=[];for(let d=0;d<n.Iv.MaxGpu;d++){var W,A;const H={gpuLongName:"",gpuVDSR:""};H.gpuLongName=N&&(null==N?void 0:N.GPUData)&&(null==N?void 0:N.GPUData[d])&&(null==N||null===(W=N.GPUData[d])||void 0===W?void 0:W.LongGPUName)||"",H.gpuVDSR=N&&(null==N?void 0:N.GPUData)&&(null==N?void 0:N.GPUData[d])&&(null==N||null===(A=N.GPUData[d])||void 0===A?void 0:A.VDSR)||"",Z.push(H)}return Z}getApiStatus(N){return"Success"===N?s.ee7.Success:s.ee7.Failure}getPluginName(N){if("SystemInfo"===N)return s.p7_.SystemInfo}getDiskMediumType(N){switch(N){case"SolidState":return s.u_Q.SolidState;case"Rotational":return s.u_Q.Rotational;default:return s.u_Q.Unknown}}getClientVariantType(N){switch(N){case"ibeta":return s.WUy.IBeta;case"release":return s.WUy.Release;case"autoplay":return s.WUy.Autoplay;default:return s.WUy.Dev}}getDiskInfo(N){const Z=[];for(let W=0;W<n.Iv.MaxDisk;W++){const A={FreeSpace:0,MediumType:"",TotalSize:0};A.FreeSpace=N&&N[W]&&N[W].FreeSpace&&parseInt(N[W].FreeSpace,10)||0,A.MediumType=N&&N[W]&&this.getDiskMediumType(N[W].MediumType)||s.u_Q.Unknown,A.TotalSize=N&&N[W]&&N[W].TotalSize&&parseInt(N[W].TotalSize,10)||0,Z.push(A)}return Z}getInputDeviceInfo(N,Z){let W;switch(N){case s.SzM.Keyboard:W=Z.Keyboard;break;case s.SzM.Mouse:W=Z.Mouse;break;case s.SzM.GamePad:W=Z.GamePad;break;case s.SzM.Joystick:W=Z.Joystick}return W}getNetworkType(N){let Z;switch(N){case C.VV.WiFiUnknown:Z=s.RRm.Wifi_Unknown;break;case C.VV.WiFi6_0:Z=s.RRm.Wifi_6_0;break;case C.VV.WiFi5_0:Z=s.RRm.Wifi_5_0;break;case C.VV.WiFi2_4:Z=s.RRm.Wifi_2_4;break;case C.VV.Ethernet:Z=s.RRm.Ethernet;break;case C.VV.Other:Z=s.RRm.Other;break;default:Z=s.RRm.Unknown}return Z}setClientType(N){this.clientType=N===b.lW.Mall?s.BhR.MallClient:N===b.lW.Streamer?s.BhR.StreamingClient:s.BhR.Unknown}getClientType(){return this.clientType}parseAndSendInputDeviceTelemetry(N,Z){for(let W=0;W<n.Iv.MaxInputDevicePerType;W++)if(!(0,V.isUndefined)(Z[W])){const A={clientType:this.getClientType(),inputDevice:s.SzM[N],manufacturer:Z[W].manufacturer,versionNumber:Z[W].versionNumber,productID:Z[W].productID,reportIntervalMicroSeconds:isNaN(parseInt(Z[W].reportIntervalUs,10))?0:parseInt(Z[W].reportIntervalUs,10),transport:Z[W].transport,vendorID:Z[W].vendorID},d=new s.MF$(A);this.telemetryService.push(d)}}sendHIDTelemetry(){if((0,V.isUndefined)(this.HIDInfo))this.logger.info("HID info is undefined");else for(const N in s.SzM)if(this.HIDInfo.hasOwnProperty(s.SzM[N])){const Z=this.getInputDeviceInfo(s.SzM[N],this.HIDInfo);this.parseAndSendInputDeviceTelemetry(s.SzM[N],Z)}}sendGpuInfoTelemetry(N){let Z;var W,A,d,H,$;if(N?Z={gpuProduct:(null==N||null===(W=N.GPU)||void 0===W||null===(W=W.PrimaryGPUDriverInfo)||void 0===W?void 0:W.GpuProduct)||"",gpuRevision:(null==N||null===(A=N.GPU)||void 0===A||null===(A=A.PrimaryGPUDriverInfo)||void 0===A?void 0:A.GpuRevision)||"",gpuBuildNumHi:(null==N||null===(d=N.GPU)||void 0===d||null===(d=d.PrimaryGPUDriverInfo)||void 0===d?void 0:d.GpuBuildNumHi)||"",gpuBuildNumLo:(null==N||null===(H=N.GPU)||void 0===H||null===(H=H.PrimaryGPUDriverInfo)||void 0===H?void 0:H.GpuBuildNumLo)||"",gpuDriverName:(null==N||null===($=N.GPU)||void 0===$||null===($=$.PrimaryGPUDriverInfo)||void 0===$?void 0:$.GpuDriverName)||"",gpuDetails:this.getGpuDetails(N.GPU)}:this.logger.error("No GPU Information available"),(0,V.isUndefined)(Z))this.logger.info("GpuInfo event is undefined");else{const J=new s.XBX(Z);this.telemetryService.push(J),this.isGpuEventSent=!0}}sendApiStatusTelemetry(N){let Z;if(N?Z={apiName:N.ApiName||"",subApiName:N.SubApiName||"",errorMessage:N.ErrorMessage||"",pluginName:this.getPluginName(N.PluginName),status:this.getApiStatus(N.ApiStatus)}:this.logger.error("No System Information"),(0,V.isUndefined)(Z)||this.getPluginName(N.PluginName)!==s.p7_.SystemInfo)this.logger.info("API status info is undefined");else{const W=new s.O9g(Z);this.telemetryService.push(W)}}prepareSystemInfoTelemetryObject(N,Z){let A,d=[];var H,$,J,st,lt,gt,vt,k,pt;(this.sendApiStatusTelemetry(N),this.isGpuEventSent||this.sendGpuInfoTelemetry(N),N)?(d=this.getDiskInfo(N.Disk),N.Display=N.Display.slice(0,3),N.GPU&&(N.GPU.GPUData=null!==(k=null===(pt=N.GPU)||void 0===pt||null===(pt=pt.GPUData)||void 0===pt?void 0:pt.slice(0,2))&&void 0!==k?k:[]),this.HIDInfo=N.HID,A={vendorName:N.VendorName||"",systemName:N.SystemName||"",userDefaultUILanguage:N.UserDefaultUILanguage||"",osName:N.OSName||"",osVersion:N.OSVersion||"",physicalMemoryCapacity:parseInt(N.PhysicalMemoryCapacity,10)||0,processorArchitecture:N.ProcessorArchitecture||"",cpuName:N.CPUName||"",networkType:N.Network&&N.Network.NetworkType?this.getNetworkType(N.Network.NetworkType):s.RRm.Unknown,gpuCount:(null===(H=N.GPU)||void 0===H||null===(H=H.GPUData)||void 0===H?void 0:H.length)||0,gpu0LongName:N.GPU&&(null===($=N.GPU)||void 0===$?void 0:$.GPUData)&&(null===(J=N.GPU)||void 0===J?void 0:J.GPUData[0])&&(null===(st=N.GPU)||void 0===st||null===(st=st.GPUData[0])||void 0===st?void 0:st.LongGPUName)||"",gpu1LongName:N.GPU&&(null===(lt=N.GPU)||void 0===lt?void 0:lt.GPUData)&&(null===(gt=N.GPU)||void 0===gt?void 0:gt.GPUData[1])&&(null===(vt=N.GPU)||void 0===vt||null===(vt=vt.GPUData[1])||void 0===vt?void 0:vt.LongGPUName)||"",diskCount:N.Disk.length||0,disk0FreeSpace:d[0].FreeSpace||0,disk0MediumType:d[0].MediumType||s.u_Q.Unknown,disk0TotalSize:d[0].TotalSize||0,disk1FreeSpace:d[1].FreeSpace||0,disk1MediumType:d[1].MediumType||s.u_Q.Unknown,disk1TotalSize:d[1].TotalSize||0,disk2FreeSpace:d[2].FreeSpace||0,disk2MediumType:d[2].MediumType||s.u_Q.Unknown,disk2TotalSize:d[2].TotalSize||0,displayCount:N.Display.length||0,displayDetails:this.getDisplayDetails(N.Display),routerMacAddress:N.Network&&N.Network.RouterMACAddress?N.Network.RouterMACAddress.substring(0,8).toUpperCase():"Unknown",platform:this.getPlatformType(N.Platform)||s.zhv.Unknown,clientVariant:this.getClientVariantType(this.appConfig.build.variant),launchSource:this.getLaunchSource(),userAgent:N.BrowserName+" "+N.BrowserVersion||C.kQ,dxVersion:N.DxVersion||"",browserName:N.BrowserName||C.kQ,browserVersion:N.BrowserVersion||C.kQ,confidenceInBrowser:C.ng.isNativeLikePlatform()?99:N.ConfidenceInBrowser,isBrowserForged:C.ng.isCefPlatform()?s.wye.UNDEFINED:N.IsBrowserForged?s.wye.TRUE:s.wye.FALSE,systemInfoGuid:Z,clientUrl:this.isBrowserClient?window.location.host+window.location.pathname:"",currentUiMode:this.getCurrentUiMode(N.CurrentUiMode)}):this.logger.error("No System Information");return A}getSystemInformationForTelemetry(){let N=C.FO;return C.ng.isCefPlatform()||(N=N.filter(Z=>Z!==C.l7.DxVersion)),(0,f.aj)([this.systemInfoService.getSystemInfo(N),this.systemInfoService.getSystemInfoGuid()]).pipe((0,g.q)(1),(0,h.U)(([Z,W])=>this.prepareSystemInfoTelemetryObject(Z,W)))}getLaunchSource(){return this.gfnsdkService.isThisAGFNSDKSession()&&!this.guestModeHelperService.isGuestMode?this.streamerTelemetryConfig.sdkClient||"Unknown":this.streamerTelemetryConfig.launchSource===s.zO5.External?"External":this.streamerTelemetryConfig.launchSource===s.zO5.GeForceNOW?"Mall":this.streamerTelemetryConfig.launchSource===s.zO5.Deeplink?"Deeplink":"Unknown"}sendLaunchUiTelemetry(){const N=new s._63({clientType:this.getClientType(),type:s.AUc.LaunchUI});this.telemetryService.push(N)}sendSystemInfoTelemetry(){this.sharedSystemInfoSub||(this.sharedSystemInfoSub=(0,x.H)(this.appConfig.jsEvents.systemInfoEventDelay).pipe((0,u.zg)(()=>this.getSystemInformationForTelemetry()),(0,O.K)(N=>(this.logger.error("Error when getting system info: ",N),(0,S.of)(null))),(0,E.b)(N=>{if((0,V.isUndefined)(N))this.logger.error("No system information found for telemetry");else{const Z=new s.AGB(N);this.telemetryService.push(Z),this.sendHIDTelemetry()}}),(0,w.B)())),this.sharedSystemInfoSub.subscribe()}sendSDKTelemetry(){this.gfnsdkService.getTelemetryData().subscribe(N=>{this.logger.info("Parsing sdk client events for ",N.platformName),this.logger.info(`Sending ${N.checkGFNItems.length} CheckGFN events`),this.logger.info(`Sending ${N.streamNowButtonClickItems.length} StreamNowButtonClick events`);for(const Z of N.checkGFNItems)this.telemetryService.push(new s.vkU({status:Z.status,timeTaken:Z.timeTaken,gfnSDKVersion:Z.version,gfnDLLVersion:Z.dllVersion,originalTimestamp:Z.originalTimestamp,originalSource:N.platformName||"Unspecified",originalCmsId:Z.originalCmsId,originalShortname:Z.originalShortname,originalAuthMethod:Z.originalAuthMethod}));for(const Z of N.streamNowButtonClickItems)this.logger.info("StreamNowButtonClick event found",this.streamerTelemetryConfig),this.telemetryService.push(new s.ig$({status:Z.status,timeTaken:Z.timeTaken,gfnSDKVersion:Z.version,cmsId:""+this.streamerTelemetryConfig.cmsId,gameShortName:this.streamerTelemetryConfig.shortName||"",gfnDLLVersion:Z.dllVersion,originalTimestamp:Z.originalTimestamp,originalSource:N.platformName||"Unspecified",originalCmsId:Z.originalCmsId,originalShortname:Z.originalShortname,originalAuthMethod:Z.originalAuthMethod,timeRemaining:Z.timeRemaining,hasPartnerData:Z.hasPartnerData?s.PoW.Yes:s.PoW.No,hasPartnerSecureData:Z.hasPartnerSecureData?s.PoW.Yes:s.PoW.No}));this.gfnsdkService.clearTelemetryData(N)})}sendPwaTelemetry(){this.pwaService.onPWAModeChange.pipe((0,g.q)(1),(0,E.b)(N=>{if(N){this.logger.info("Sending PWA launch event");const Z=new s._63({clientType:this.getClientType(),type:s.AUc.LaunchPwaUI});this.telemetryService.push(Z)}})).subscribe()}sendOfflineLaunchTelemetry(){this.pwaService.checkForOfflineLaunch().subscribe(N=>{if(N){this.logger.info("Sending Offline Launch Event");const Z=new s._63({clientType:this.getClientType(),type:s.AUc.CustomOfflinePage});this.telemetryService.push(Z)}else this.logger.info("No offline data present")})}sendStorageUsageEvent(){if(!this.isBrowserClient)return;const N=navigator.storage;null!=N&&N.estimate?N.estimate().then(Z=>{var W,A,d,H,$,J,st,lt;this.logger.info("Sending storage usage metrics");const gt=new s.uXL({totalQuota:null!==(W=Z.quota)&&void 0!==W?W:0,totalUsage:null!==(A=Z.usage)&&void 0!==A?A:0,cacheUsage:null!==(d=null===(H=Z.usageDetails)||void 0===H?void 0:H.caches)&&void 0!==d?d:0,indexedDBUsage:null!==($=null===(J=Z.usageDetails)||void 0===J?void 0:J.indexedDB)&&void 0!==$?$:0,serviceWorkerRegistrationsUsage:null!==(st=null===(lt=Z.usageDetails)||void 0===lt?void 0:lt.serviceWorkerRegistrations)&&void 0!==st?st:0});this.telemetryService.push(gt)}).catch(Z=>{this.logger.error("Failed to obtain storage estimate:",Z)}):this.logger.info("StorageManager#estimate is not supported. Skipping sending storage metrics")}sendViewportTelemetry(){var N,Z,W,A,d,H,$,J;const st=new s.D2e({windowInnerHeight:null!==(N=null===(Z=window)||void 0===Z?void 0:Z.innerHeight)&&void 0!==N?N:-1,windowInnerWidth:null!==(W=null===(A=window)||void 0===A?void 0:A.innerWidth)&&void 0!==W?W:-1,visualViewportHeight:null!==(d=null===(H=window)||void 0===H||null===(H=H.visualViewport)||void 0===H?void 0:H.height)&&void 0!==d?d:-1,visualViewportWidth:null!==($=null===(J=window)||void 0===J||null===(J=J.visualViewport)||void 0===J?void 0:J.width)&&void 0!==$?$:-1,screenOrientationType:window.matchMedia("(orientation: landscape)").matches?s.i5E.Landscape:s.i5E.Portrait});this.telemetryService.push(st)}sendLaunchTimeTelemetry(){this.deviceIdSetSubject.subscribe(()=>{const N=this.telemetryService.getLaunchUiEventSent();N||(this.sendLaunchUiTelemetry(),this.sendSystemInfoTelemetry(),this.sendSDKTelemetry(),this.sendPwaTelemetry(),this.sendOfflineLaunchTelemetry(),this.sendStorageUsageEvent(),this.initializeAudioTelemetry(),this.sendViewportTelemetry(),this.telemetryService.setLaunchUiEventSent(!0)),this.sendAppLaunchTelemetrySubject.next(!N)})}getAppLaunchTelemetryObservable(){return this.sendAppLaunchTelemetrySubject.asObservable()}getPlatform(){return this.systemInfoService.getSystemInfo([C.l7.Platform]).pipe((0,h.U)(N=>this.getPlatformType(N.Platform)),(0,p.d)(1))}getClientVariant(){return this.getClientVariantType(this.appConfig.build.variant)}sendLoginTelemetry(N,Z,W,A){const d=new s.$4G({clientType:this.getClientType(),currentScreen:W,userAction:Z,status:N?s.N3X.Success:s.N3X.LoginFailed,errorDetails:N.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(d,A)}triggerExceptionInfoUpload(N){N.logsFeedbackId=this.telemetryService.telemetrySessionId;const Z={type:R.oI.UploadExceptionInfo,content:JSON.stringify(N),sender:this.getClientType()===s.BhR.MallClient?R.vS.GfnMall:R.vS.GfnStreamer,recipient:R.vS.GfnUpdater};this.logger.info("Sending IPC message:",Z),this.ipcService.pushMessage(Z).subscribe(W=>this.logger.info("Exception info upload triggered: ",W),W=>this.logger.error("Error triggering exception info upload: ",W))}getXRequestIdForHttpEvent(N){let Z="";return N&&N.config&&N.config.headers&&N.config.headers["x-request-id"]&&(Z=N.config.headers["x-request-id"]),Z}sendUiActionEvent(N,Z){const W=new s.Hj8({actionTaken:N,uiVariant:Z});this.telemetryService.push(W)}sendJoinTodayAlertDialogUiAction(N){let Z;switch(N){case I.V_.Close:Z=s.VHB.Close;break;case I.V_.Join:Z=s.VHB.Join;break;case I.V_.Login:Z=s.VHB.Login}Z&&this.sendUiActionEvent(Z,s.c8x.Standard)}getJoinTodayAlertDialogHierarchy(N,Z){let W;switch(N){case s.CGJ.ScreenEvidencePanel:W=Z;break;case s.CGJ.ScreenMarquee:W=`${s.CGJ.ScreenMallHome}`;break;default:W=""}return W&&(W=`${W}/${N}`),W}sendUserSessionEvent(N,Z,W,A,d){const H=d||this.telemetryService.getScreen(),$=new s.$4G({currentScreen:H,clientType:this.clientType,userAction:N,status:Z,errorDetails:(0,_.KF)(A,l.YM),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push($,W)}sendClickEvent(N,Z,W,A=!1,d="",H="",$){const J=A?`${this.telemetryService.getScreen()}/${W}`:W,st=new s.gZv({itemType:N,itemLabel:Z,hierarchy:J||"",inputSource:this.lastClickInputSource,gameCampaignId:null!=d?d:"",additionalData:H});this.telemetryService.push(st,null,$)}sendDragEvent(N,Z,W,A=!1){const d=A?`${this.telemetryService.getScreen()}/${W}`:W,H=new s.r_X({itemType:N,itemLabel:Z,hierarchy:d||""});this.telemetryService.push(H)}sendPageLoadPerfEvent(N,{viewDataLoadDuration:Z=0,sectionNames:W=["","","","",""],sectionDataLoadDurations:A=[0,0,0,0,0],sectionTotalLoadDurations:d=[0,0,0,0,0],imageLoadDuration:H=-1,imageCount:$=-1,imageTransferSize:J=-1,usedJsHeapSize:st=-1}){const lt=new s.nLL({viewName:N,viewDataLoadDuration:Math.round(Z),sectionOneName:W[0],sectionOneDataLoadDuration:Math.round(A[0]),sectionOneTotalLoadDuration:Math.round(d[0]),sectionTwoName:W[1],sectionTwoDataLoadDuration:Math.round(A[1]),sectionTwoTotalLoadDuration:Math.round(d[1]),sectionThreeName:W[2],sectionThreeDataLoadDuration:Math.round(A[2]),sectionThreeTotalLoadDuration:Math.round(d[2]),sectionFourName:W[3],sectionFourDataLoadDuration:Math.round(A[3]),sectionFourTotalLoadDuration:Math.round(d[3]),sectionFiveName:W[4],sectionFiveDataLoadDuration:Math.round(A[4]),sectionFiveTotalLoadDuration:Math.round(d[4]),totalViewLoadDuration:Math.round(d[4]),imageLoadDuration:Math.round(H),imageCount:Math.round($),imageTransferSize:Math.round(J),usedJsHeapSize:Math.round(st)});this.telemetryService.push(lt)}sendNavigationPerfEvent(){const N=window.performance.timing,Z=new s.zDK({domainLookupDuration:N.domainLookupEnd-N.domainLookupStart,connectDuration:N.connectEnd-N.connectStart,requestResponseDuration:N.responseEnd-N.requestStart,responseDuration:N.responseEnd-N.responseStart,timeToFirstByte:N.responseStart-N.requestStart,pageRenderDuration:N.domComplete-N.domLoading,pageLoadDuration:N.loadEventEnd-N.fetchStart,redirectDuration:N.redirectEnd-N.redirectStart});this.telemetryService.push(Z)}sendDeeplinkShareEvent(N,Z,W=s.cYw.None,A=""){const d=new s.tyl({queryParamsString:N,shareType:Z,serviceName:A,error:W});this.telemetryService.push(d)}sendDeeplinkSourceEvent(N,Z){const W=new s.yVM(N);this.telemetryService.push(W,void 0,Z)}sendPopUpDialogShownEvent(N){const Z=new s.Tn7({name:N});this.telemetryService.push(Z)}sendPopUpDialogClosedEvent(N,Z,W=0,A=0,d=s.wye.FALSE,H=s.wye.FALSE){const $=new s._js({name:N,exitTriggerPoint:Z,totalMs:W,inWindowClicks:A,scrolled:d,checkBoxChecked:H});this.telemetryService.push($)}sendClipboardPasteEvent(N){const Z=new s.GbY({clientClipboardRead:N.clientClipboardRead,clipboardDataSent:N.clipboardDataSent,clipboardDataLength:N.clipboardDataLength,streamSessionId:N.streamSessionId||"",streamSubSessionId:N.streamSubSessionId||"",requestId:N.requestId||""});this.telemetryService.push(Z)}sendPlaytesterSessionEvent(N,Z,W,A,d,H,$,J,st,lt,gt,vt){const k=new s.HUU({userAction:N,status:Z,sessionId:null!=W?W:"",streamSessionId:null!=A?A:"",gameDeveloperName:null!=d?d:"",gameName:null!=H?H:"",gameBuildNumber:null!=$?$:"",cmsId:null!=J?J:"",webcamName:null!=st?st:"",microphoneName:null!=lt?lt:"",microphoneTested:null!=gt?gt:s.PoW.No,errorInfo:null!=vt?vt:""});return this.telemetryService.pushWithPromise(k,null,{immediateRequest:!0})}}return(m=Y).\u0275fac=function(N){return new(N||m)(M.LFG(C.ed),M.LFG(P.V),M.LFG(K.OA),M.LFG(l.y0),M.LFG(C.Ob),M.LFG(R.uC),M.LFG(B._c),M.LFG(j.s),M.LFG(tt.nG),M.LFG(ot.F0),M.LFG(F.h),M.LFG(U.g),M.LFG(a.b),M.LFG(M.R0b),M.LFG(C.P))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),Y})()},99978:(Dt,ct,t)=>{"use strict";t.d(ct,{o:()=>lt});var e=t(61699),i=t(46939),L=t(13303),f=t(32484),x=t(64555),S=t(22006),u=t(81351),g=t(89129),h=t(13963),O=t(89857),E=t(15598),w=t(15391),p=t(30427),V=t(98144),c=t(26575),C=t(28849),l=t(78654),o=t(15550),n=t(33910),s=t(86515),R=t(45356),_=t(47520),b=t(95787),I=t(75889),q=t(81337),a=t(87251),y=t(79329),M=t(31546),P=t(38616),K=t(81711),B=t(55998),j=t(27247);const tt=function(gt,vt){return{"warning-label":gt,"error-label":vt}};let F=(()=>{var gt;class vt{set score(pt){this._score=(0,B.su)(pt),this._score<this.min&&(this._score=this.min),this._score>this.max&&(this._score=this.max)}get score(){return this._score}constructor(){this._score=0}ngOnInit(){}}return(gt=vt).\u0275fac=function(pt){return new(pt||gt)},gt.\u0275cmp=e.Xpm({type:gt,selectors:[["gfn-uds-graph"]],inputs:{min:"min",max:"max",score:"score",label:"label",level:"level"},decls:11,vars:10,consts:[[1,"graph-container"],[1,"graph-score"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3",1,"graph-label","font-body2",3,"ngClass","isMultiLineEllipsis"],["fxLayout","row","fxLayoutAlign","space-between center",1,"graph-range"],[1,"graph-icon","flip-rtl-element",3,"svgIcon"]],template:function(pt,yt){1&pt&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3)(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e._UZ(10,"mat-icon",4),e.qZA()),2&pt&&(e.xp6(2),e.Oqu(yt.score),e.xp6(1),e.Q6J("ngClass",e.WLB(7,tt,1===yt.level,0===yt.level))("isMultiLineEllipsis",!0),e.xp6(1),e.hij(" ",yt.label," "),e.xp6(3),e.Oqu(yt.min),e.xp6(2),e.Oqu(yt.max),e.xp6(1),e.s9C("svgIcon","score_graph_L"+yt.level))},dependencies:[c.mk,s.Hw,R.xw,R.Wh,_.oO,j.n],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.background-image-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border[_ngcontent-%COMP%]{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.graph-container[_ngcontent-%COMP%]{position:relative;width:92px;height:90px}.graph-container[_ngcontent-%COMP%]   .warning-label[_ngcontent-%COMP%]{color:#ffb43e}.graph-container[_ngcontent-%COMP%]   .error-label[_ngcontent-%COMP%]{color:#e02828}.graph-score[_ngcontent-%COMP%]{position:absolute;top:21px;text-align:center;width:100%;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:28px;line-height:48px;letter-spacing:0;font-weight:700}.isLtr[_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%]{right:1px}html[dir=ltr][_ngcontent-%COMP%]   .graph-score[_ngcontent-%COMP%]{--dummy6: 0;right:1px}.isRtl[_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%]{left:1px}html[dir=rtl][_ngcontent-%COMP%]   .graph-score[_ngcontent-%COMP%]{--dummy6: 0;left:1px}.tv-view[_ngcontent-%COMP%]   .graph-score[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .graph-score[_ngcontent-%COMP%]{font-size:56px;line-height:96px}.graph-label[_ngcontent-%COMP%]{position:absolute;top:66px;text-align:center;width:100%;word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;align-self:center;text-overflow:ellipsis}.graph-range[_ngcontent-%COMP%]{position:absolute;width:100%;top:44px;font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:8px;line-height:16px;letter-spacing:0;color:#fff9}.tv-view[_ngcontent-%COMP%]   .graph-range[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .graph-range[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .graph-range[_ngcontent-%COMP%]{font-size:16px;line-height:32px}.new-10ft[_nghost-%COMP%]   .graph-range[_ngcontent-%COMP%], .new-10ft   [_nghost-%COMP%]   .graph-range[_ngcontent-%COMP%]{color:#ffffffd9}.graph-icon[_ngcontent-%COMP%]{position:absolute;width:92px;height:55px;top:0}"]}),vt})();var U=t(43559);function z(gt,vt){1&gt&&e._UZ(0,"div",8)}const Q=function(gt,vt){return{"warning-icon":gt,"error-icon":vt}};function dt(gt,vt){if(1&gt&&(e.ynx(0),e._UZ(1,"mat-icon",6),e.YNc(2,z,1,0,"div",7),e.BQk()),2&gt){const k=vt.$implicit,pt=vt.last,yt=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(3,Q,yt.scoreHeaderIconStateMap[k]===yt.scoreHeaderIconStateType.Warning,yt.scoreHeaderIconStateMap[k]===yt.scoreHeaderIconStateType.Error))("svgIcon",k),e.xp6(1),e.Q6J("ngIf",!pt)}}function X(gt,vt){if(1&gt&&(e.ynx(0),e._UZ(1,"gfn-uds-graph",9),e.BQk()),2&gt){const k=vt.$implicit;e.xp6(1),e.Q6J("score",k.score)("label",k.label)("level",k.level)}}let m=(()=>{var gt;class vt{get saScores(){return this._saScores}set saScores(pt){this.scoreHeaderIconStateMap=new Map,pt.forEach(yt=>{const Xt=yt.level===S._.Poor,It=yt.level===S._.Bad;S.n4.get(yt.type).forEach(le=>{Xt?this.scoreHeaderIconStateMap[le]=S.bW.Error:It&&!this.scoreHeaderIconStateMap[le]&&(this.scoreHeaderIconStateMap[le]=S.bW.Warning)})}),this._saScores=pt}constructor(){this.scoreHeaderIconOrderedList=[S.hy.DesktopWindows,S.hy.Wifi,S.hy.Isp,S.hy.Storage],this.scoreHeaderIconStateType=S.bW,this._saScores=[]}ngOnInit(){}}return(gt=vt).\u0275fac=function(pt){return new(pt||gt)},gt.\u0275cmp=e.Xpm({type:gt,selectors:[["gfn-uds-score-container"]],inputs:{saScores:"saScores"},decls:9,vars:5,consts:[["fxLayout","column","fxFlexFill",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"uds-score-header"],[1,"font-sub1","font-color-primary"],["fxLayout","row","fxLayoutAlign","center center"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center",1,"uds-score-graph"],[1,"score-icons",3,"ngClass","svgIcon"],["class","score-dots",4,"ngIf"],[1,"score-dots"],["min","0","max","100",3,"score","label","level"]],template:function(pt,yt){1&pt&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,dt,3,6,"ng-container",4),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,X,2,3,"ng-container",4),e.qZA()()),2&pt&&(e.xp6(3),e.hij(" ",e.lcZ(4,3,"uds.scoreTitle")," "),e.xp6(3),e.Q6J("ngForOf",yt.scoreHeaderIconOrderedList),e.xp6(2),e.Q6J("ngForOf",yt.saScores))},dependencies:[c.mk,c.sg,c.O5,s.Hw,R.xw,R.Wh,R.s9,_.oO,F,U.X$],styles:[".uds-score-header[_ngcontent-%COMP%]{height:48px;background:#393939}.isLtr[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.uds-score-header[_ngcontent-%COMP%]   .score-dots[_ngcontent-%COMP%]{width:12px;height:0px;border:1px dashed #737373}.isLtr[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child), .isLtr   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child){padding-right:12px}html[dir=ltr][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child){--dummy2: 0;padding-right:12px}.isRtl[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child), .isRtl   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child){padding-left:12px}html[dir=rtl][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:last-child){--dummy2: 0;padding-left:12px}.isLtr[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child), .isLtr   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child){padding-left:12px}html[dir=ltr][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child){--dummy1: 0;padding-left:12px}.isRtl[_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child), .isRtl   [_nghost-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child){padding-right:12px}html[dir=rtl][_ngcontent-%COMP%]   .uds-score-header[_ngcontent-%COMP%]   .score-icons[_ngcontent-%COMP%]:not(:first-child){--dummy1: 0;padding-right:12px}.uds-score-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#ffb43e}.uds-score-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:#e02828}.uds-score-graph[_ngcontent-%COMP%]{margin-top:24px}.isLtr[_nghost-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child), .isLtr   [_nghost-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child){margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child), .isRtl   [_nghost-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child){margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .uds-score-graph[_ngcontent-%COMP%]   gfn-uds-graph[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-left:24px}"]}),vt})();function Y(gt,vt){if(1&gt){const k=e.EpF();e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",9),e.NdJ("click",function(){e.CHM(k);const yt=e.oxw();return e.KtG(yt.onLearnMoreClick())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&gt){const k=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,3,"uds.noUDSReport"),"\xa0"),e.xp6(2),e.s9C("href",k.udsLearnMoreUrl,e.LSH),e.xp6(1),e.Oqu(e.lcZ(6,5,"common.learnMore"))}}function D(gt,vt){1&gt&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-spinner",10),e.qZA())}function N(gt,vt){if(1&gt&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&gt){const k=e.oxw(2);e.xp6(1),e.hij(" ",k.suggestionHeader," ")}}function Z(gt,vt){if(1&gt){const k=e.EpF();e.TgZ(0,"mat-expansion-panel",30),e.NdJ("opened",function(){e.CHM(k);const yt=e.oxw(4);return e.KtG(yt.onSuggestionPanelItemOpened())}),e.TgZ(1,"mat-expansion-panel-header",31)(2,"mat-panel-title"),e._uU(3),e.qZA()(),e.TgZ(4,"div",32),e._uU(5),e.qZA()()}if(2&gt){const k=e.oxw().$implicit;e.xp6(3),e.hij(" ",null==k?null:k.solutionTitle," "),e.xp6(2),e.hij(" ",null==k?null:k.learnMoreText," ")}}function W(gt,vt){if(1&gt&&(e.TgZ(0,"div",28),e.YNc(1,Z,6,2,"mat-expansion-panel",29),e.qZA()),2&gt){const k=vt.$implicit;e.xp6(1),e.Q6J("ngIf",null==k?null:k.solutionTitle)}}function A(gt,vt){if(1&gt&&(e.TgZ(0,"div",26)(1,"mat-accordion"),e.YNc(2,W,2,1,"div",27),e.qZA()()),2&gt){const k=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",k.suggestionList)}}function d(gt,vt){1&gt&&(e.TgZ(0,"div",33)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&gt&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"uds.goodScoreMessage")))}const H=function(gt){return{numOfDays:gt}};function $(gt,vt){if(1&gt){const k=e.EpF();e.TgZ(0,"div",34)(1,"mat-checkbox",35),e.NdJ("ngModelChange",function(yt){e.CHM(k);const Xt=e.oxw(2);return e.KtG(Xt.isSnoozed=yt)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&gt){const k=e.oxw(2);e.xp6(1),e.Q6J("ngModel",k.isSnoozed),e.xp6(1),e.hij(" ",e.xi3(3,2,"uds.snoozeText",e.VKq(5,H,k.snoozeDurationInDays))," ")}}const J=function(gt){return{"selected-thumb":gt}};function st(gt,vt){if(1&gt){const k=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"div",13),e._UZ(7,"gfn-uds-score-container",14),e.qZA(),e.YNc(8,N,2,1,"div",15),e.YNc(9,A,3,1,"div",16),e.YNc(10,d,4,3,"div",17),e.TgZ(11,"div",18)(12,"span",19),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",20),e.NdJ("click",function(){e.CHM(k);const yt=e.oxw();return e.KtG(yt.thumbUpClicked())}),e.TgZ(16,"mat-icon",21),e._uU(17,"thumb_up"),e.qZA()(),e.TgZ(18,"button",22),e.NdJ("click",function(){e.CHM(k);const yt=e.oxw();return e.KtG(yt.thumbDownClicked())}),e.TgZ(19,"mat-icon",21),e._uU(20,"thumb_down"),e.qZA()()(),e.TgZ(21,"div",23)(22,"a",9),e.NdJ("click",function(){e.CHM(k);const yt=e.oxw();return e.KtG(yt.onLearnMoreClick())}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,$,4,7,"div",24),e.qZA()}if(2&gt){const k=e.oxw();e.xp6(3),e.Oqu(k.gameTitle),e.xp6(2),e.Oqu(k.udsReportDateTime),e.xp6(2),e.Q6J("saScores",k.saScores),e.xp6(1),e.Q6J("ngIf",k.suggestionHeader),e.xp6(1),e.Q6J("ngIf",k.suggestionList),e.xp6(1),e.Q6J("ngIf",k.showGoodScoreReport),e.xp6(3),e.hij(" ",e.lcZ(14,12,"uds.feedbackTitle")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(16,J,k.currentFeedbackSelection===k.udsFeedbackSelection.thumbUp)),e.xp6(3),e.Q6J("ngClass",e.VKq(18,J,k.currentFeedbackSelection===k.udsFeedbackSelection.thumbDown)),e.xp6(4),e.s9C("href",k.udsLearnMoreUrl,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(24,14,"common.learnMore")," "),e.xp6(2),e.Q6J("ngIf",k.snoozeDurationInDays&&k.launchSource===k.UDSTriggerSource.EndOfSession)}}let lt=(()=>{var gt;class vt{get snoozeDurationInDays(){return this.udsHelperService.snoozeDurationInDays}constructor(pt,yt,Xt,It,Nt,le,te){this.localeService=pt,this.telemetryService=yt,this.udsHelperService=Xt,this.dateFormatterService=It,this.redirectService=Nt,this.idmService=le,this.destroy$=new f.xQ,this.saScores=[],this.gameTitle="",this.currentFeedbackSelection=S.mu.none,this.udsFeedbackSelection=S.mu,this.UDSTriggerSource=u.Cbx,this.isSnoozed=!1,this.udsJSBundleVersion="",this.isSuggestionExpanded=!1,this.isLearnMoreClicked=!1,this.udsReportDateTime="",this.noUDSReport=!1,this.isLoading=!0,this.showGoodScoreReport=!1,this.udsUIClosed=new e.vpe,this.logger=te.getLogger("UdsUiComponent")}ngOnInit(){(0,x.aj)([this.localeService.localeChanged,this.udsHelperService.getUDSData$(),this.udsHelperService.udsJSBundleLoaded$(),this.idmService.accountStatusChanged]).pipe((0,i.q)(1),(0,L.R)(this.destroy$)).subscribe(([pt,yt,Xt,It])=>{if(this.isLoading=!1,yt)if(Xt){var Nt,le;yt.locale=pt,yt.idpId=null==It?void 0:It.idpId,this.sessionId=null==yt?void 0:yt.sessionId,this.subSessionId=null==yt?void 0:yt.subSessionId;const bt=(this.launchSource===u.Cbx.EndOfSession?null===(Nt=window)||void 0===Nt||null===(Nt=Nt.uds)||void 0===Nt?void 0:Nt.getUDSSuggestionDataV1:null===(le=window)||void 0===le||null===(le=le.uds)||void 0===le?void 0:le.getUDSDataForSummonedUIV1)({udsData:yt,streamingResolution:yt.streamingResolution,locale:pt});if(this.udsJSBundleVersion=null==bt?void 0:bt.udsJSBundleVersion,bt)if(null!=bt&&bt.error){const Vt=String(null==bt?void 0:bt.error);this.handleUDSSuggestionError(Vt,yt)}else this.udsHelperService.udsSuggestionsShownInStream=!0,this.gameTitle=yt.streamedAppName,this.setUDSReportDateTime(yt),this.logger.info("Response from uds js bundle",bt),this.saScores=null==bt?void 0:bt.saScores,null!=bt&&bt.areSAScoresGood&&this.launchSource!==u.Cbx.EndOfSession?this.showGoodScoreReport=!0:(this.suggestionHeader=null==bt?void 0:bt.recommendationListHeader,this.suggestionList=null==bt?void 0:bt.recommendationList),this.sendUDSDialogShownTelemetry(yt,null==bt?void 0:bt.recommendationCategory);else this.handleUDSSuggestionError(this.launchSource===u.Cbx.EndOfSession?"Error while calling getUDSSuggestionDataV1":"Error while calling getUDSDataForSummonedUIV1",yt)}else this.handleUDSSuggestionError("loadError: No UDS JS bundle available",yt);else this.handleUDSSuggestionError("emptyError: No data is available",yt)}),this.constructUDSLearnMoreLink()}constructUDSLearnMoreLink(){this.redirectService.getRedirectUrl(g.hE.GfnPcUdsLearnMore).pipe((0,i.q)(1),(0,L.R)(this.destroy$)).subscribe(pt=>{this.udsLearnMoreUrl=pt,this.logger.info("UDS Learn more URL: ",this.udsLearnMoreUrl)})}handleUDSSuggestionError(pt,yt){this.udsHelperService.udsSuggestionsShownInStream=!1,this.logger.error("handling UDSSuggestion Error: ",pt,"Launch Source: ",this.launchSource),this.sendUDSDialogShownTelemetry(yt,"",pt),this.launchSource!==u.Cbx.EndOfSession?this.noUDSReport=!0:this.udsUIClosed.emit()}setUDSReportDateTime(pt){const yt=this.dateFormatterService.getLocalizedDate(pt.sessionStartTimeStamp),Xt=this.dateFormatterService.getLocalizedDate(pt.sessionEndTimeStamp),It=this.dateFormatterService.getLocalizedTime(pt.sessionStartTimeStamp),Nt=this.dateFormatterService.getLocalizedTime(pt.sessionEndTimeStamp);(0,x.aj)([yt,Xt,It,Nt]).pipe((0,i.q)(1),(0,L.R)(this.destroy$)).subscribe(([le,te,bt,Vt])=>{this.udsReportDateTime=le===te?le+" "+bt+" - "+Vt:le+" "+bt+"-"+te+" "+Vt})}get exitButtonString(){return this.currentFeedbackSelection!==S.mu.none?"common.send":"common.close"}sendUDSDialogShownTelemetry(pt,yt,Xt=""){var It,Nt;const le={sessionId:null!==(It=this.sessionId)&&void 0!==It?It:"",subSessionId:null!==(Nt=this.subSessionId)&&void 0!==Nt?Nt:"",isSuccess:Xt?u.wye.FALSE:u.wye.TRUE,error:Xt,apiVersion:"v1/"+this.udsJSBundleVersion,udsData:JSON.stringify(pt).substring(0,1024)||"",category:yt||"",source:this.launchSource};this.telemetryService.push(new u.H_T(le))}sendUDSSuggestionFeedbackTelemetry(){var pt,yt;let Xt=u.PoW.None;this.currentFeedbackSelection===S.mu.thumbUp?Xt=u.PoW.Yes:this.currentFeedbackSelection===S.mu.thumbDown&&(Xt=u.PoW.No);const It={sessionId:null!==(pt=this.sessionId)&&void 0!==pt?pt:"",subSessionId:null!==(yt=this.subSessionId)&&void 0!==yt?yt:"",wasHelpful:Xt,apiVersion:"v1/"+this.udsJSBundleVersion,snooze:this.isSnoozed?u.wye.TRUE:u.wye.FALSE,showMore:this.isSuggestionExpanded?u.wye.TRUE:u.wye.FALSE,source:this.launchSource,learnMore:this.isLearnMoreClicked?u.wye.TRUE:u.wye.FALSE};this.telemetryService.push(new u.ZEJ(It))}thumbUpClicked(){this.currentFeedbackSelection=this.currentFeedbackSelection!==S.mu.thumbUp?S.mu.thumbUp:S.mu.none}thumbDownClicked(){this.currentFeedbackSelection=this.currentFeedbackSelection!==S.mu.thumbDown?S.mu.thumbDown:S.mu.none}onSuggestionPanelItemOpened(){this.isSuggestionExpanded=!0}onExit(){this.sendUDSSuggestionFeedbackTelemetry(),this.isSnoozed&&this.udsHelperService.snoozeUDS(),this.udsUIClosed.emit()}onLearnMoreClick(){this.isLearnMoreClicked=!0}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(gt=vt).\u0275fac=function(pt){return new(pt||gt)(e.Y36(h.OL),e.Y36(O.y0),e.Y36(E.w),e.Y36(w.K),e.Y36(p.V),e.Y36(V.N),e.Y36(h.ed))},gt.\u0275cmp=e.Xpm({type:gt,selectors:[["gfn-uds-ui"]],inputs:{launchSource:"launchSource"},outputs:{udsUIClosed:"udsUIClosed"},decls:13,vars:9,consts:[["nvTrapFocus","","fxLayout","column",1,"uds-main-container","depth-highest"],[1,"uds-title","font-header5","font-color-primary"],["svgIcon","analytics",1,"uds-title-icon"],["class","uds-noreport font-body2 font-color-secondary",4,"ngIf"],[4,"ngIf"],["class","uds-full-scroll-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end end",1,"uds-buttons-container"],["mat-button","","nvAutoFocus","",1,"font-button2","mat-accent","mat-flat-button",3,"click"],[1,"uds-noreport","font-body2","font-color-secondary"],["target","_blank","cdkMonitorElementFocus","",1,"font-body2-link","no-wrap",3,"href","click"],["mode","indeterminate","color","accent","diameter","48","strokeWidth","4",1,"uds-spinner"],[1,"uds-full-scroll-container"],[1,"uds-subtitle","font-body2","font-color-secondary"],["fxLayout","column",1,"uds-score-container"],[3,"saScores"],["class","uds-suggestion-header font-color-primary font-sub1",4,"ngIf"],["class","uds-suggestion-container",4,"ngIf"],["class","uds-good-score-header-container",4,"ngIf"],[1,"uds-feedback-container"],[1,"uds-feedback-title","font-color-primary","font-body1"],["mat-icon-button","",1,"uds-thumb-up-button",3,"ngClass","click"],["mat-font-set","material-icons"],["mat-icon-button","",3,"ngClass","click"],[1,"uds-learn-more-container"],["class","uds-snooze-container font-body1",4,"ngIf"],[1,"uds-suggestion-header","font-color-primary","font-sub1"],[1,"uds-suggestion-container"],["class","uds-suggestion-list","nvSpatialNavigationGroup","","navigateAction","focus",4,"ngFor","ngForOf"],["nvSpatialNavigationGroup","","navigateAction","focus",1,"uds-suggestion-list"],[3,"opened",4,"ngIf"],[3,"opened"],["nvMatExpansionPanelHeaderKeyboardFixup","","cdkMonitorElementFocus","",1,"uds-expansion-panel-header"],[1,"uds-expansion-panel-details","font-color-tertiary","fond-body2"],[1,"uds-good-score-header-container"],[1,"uds-snooze-container","font-body1"],[3,"ngModel","ngModelChange"]],template:function(pt,yt){1&pt&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"mat-icon",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,Y,7,7,"div",3),e.YNc(7,D,2,0,"div",4),e.YNc(8,st,26,20,"div",5),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return yt.onExit()}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()),2&pt&&(e.xp6(4),e.Oqu(e.lcZ(5,5,"uds.title")),e.xp6(2),e.Q6J("ngIf",yt.noUDSReport),e.xp6(1),e.Q6J("ngIf",yt.isLoading),e.xp6(1),e.Q6J("ngIf",!yt.noUDSReport&&!yt.isLoading),e.xp6(3),e.hij(" ",e.lcZ(12,7,yt.exitButtonString)," "))},dependencies:[c.mk,c.sg,c.O5,C.JJ,C.On,l.eB,o.FC,n.Ou,s.Hw,R.xw,R.Wh,_.oO,b.pp,b.ib,b.yz,b.yK,I.b,q.jB,q.xZ,a.E,y.e,M.h,P.p,K.VP,m,U.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.uds-main-container[_ngcontent-%COMP%]{width:700px;max-height:87vh;padding:16px 0;overflow:hidden}.uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-title-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.uds-main-container[_ngcontent-%COMP%]   .uds-subtitle[_ngcontent-%COMP%]{margin-bottom:24px}.uds-main-container[_ngcontent-%COMP%]   .uds-spinner[_ngcontent-%COMP%]{margin:48px auto}.uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{margin-bottom:48px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-noreport[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{overflow-y:overlay}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-full-scroll-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.uds-main-container[_ngcontent-%COMP%]   .uds-score-container[_ngcontent-%COMP%]{height:180px;min-height:180px;border:1px solid #494949;margin-bottom:24px}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%]{border-top:1px solid #494949;border-left:1px solid #494949;border-right:1px solid #494949;background-color:#393939;padding-top:12px;padding-bottom:12px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]{border:1px solid #494949;margin-bottom:24px;overflow-y:hidden}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .uds-expansion-panel-details[_ngcontent-%COMP%]{padding:0 16px 16px}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{height:48px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-right:16px!important}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px!important}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:16px!important}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px!important}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:16px!important}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px!important}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-right:16px!important}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px!important}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .uds-expansion-panel-header[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{background-color:transparent}@media (hover: hover){.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .uds-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#ffffff14!important}}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .uds-expansion-panel-header[_ngcontent-%COMP%]:active, .uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-container[_ngcontent-%COMP%]   .uds-expansion-panel-header.cdk-keyboard-focused[_ngcontent-%COMP%]{background-color:#ffffff52!important;transition:background-color .75s ease}.uds-main-container[_ngcontent-%COMP%]   .uds-suggestion-list[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #494949}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-feedback-title[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .uds-thumb-up-button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%]   .selected-thumb[_ngcontent-%COMP%]{background-color:#ffffff29}.uds-main-container[_ngcontent-%COMP%]   .uds-feedback-container[_ngcontent-%COMP%], .uds-main-container[_ngcontent-%COMP%]   .uds-snooze-container[_ngcontent-%COMP%], .uds-main-container[_ngcontent-%COMP%]   .uds-learn-more-container[_ngcontent-%COMP%]{padding-bottom:16px}.uds-main-container[_ngcontent-%COMP%]   .uds-good-score-header-container[_ngcontent-%COMP%]{margin:16px auto;text-align:center}.uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%]{padding-top:8px}.isLtr[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .uds-main-container[_ngcontent-%COMP%]   .uds-buttons-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}"]}),vt})()},15598:(Dt,ct,t)=>{"use strict";t.d(ct,{w:()=>R});var e=t(49481),i=t(9681),L=t(64555),f=t(47422),x=t(58175),S=t(46939),u=t(87965),g=t(85046),h=t(15746),O=t(13963),E=t(90220),w=t(22006),p=t(61699),V=t(40943),c=t(32311),C=t(87815),l=t(19165),o=t(1498),n=t(99484),s=t(98144);let R=(()=>{var _;class b{get udsSuggestionsShownInStream(){return this._udsSuggestionsShownInStream}set udsSuggestionsShownInStream(q){this._udsSuggestionsShownInStream=q}get snoozeDurationInDays(){return this._snoozeDurationInDays}set snoozeDurationInDays(q){this._snoozeDurationInDays=q}get rawUDSDataFromGS(){return this._rawUDSDataFromGS}set rawUDSDataFromGS(q){this._rawUDSDataFromGS=q}get elapsedTimeInDays(){return this._elapsedTimeInDays}set elapsedTimeInDays(q){this._elapsedTimeInDays=Math.max(0,Math.floor(q/86400))}get sessionDurationInMinsForUDS(){return this._sessionDurationInMins}set sessionDurationInMinsForUDS(q){this._sessionDurationInMins=q/60}updateUDSData(q,a){var y,M,P;return null!==(y=this.appConfig)&&void 0!==y&&null!==(y=y.udsConfig)&&void 0!==y&&y.useOverriddenSAScores&&q&&null!==(M=this.appConfig)&&void 0!==M&&null!==(M=M.udsConfig)&&void 0!==M&&M.saScores&&(q.saScores={...q.saScores,...null===(P=this.appConfig)||void 0===P||null===(P=P.udsConfig)||void 0===P?void 0:P.saScores},a.nonDefaultScores=this.areSAScoresNonDefault(q)||!1,this.logger.info("Overriding saScores ",q.saScores)),{...q,...a}}get streamingResolution(){return this._currentStreamingResolution}set streamingResolution(q){this._currentStreamingResolution=q}get streamingProperties(){return this._currentStreamingProperties}set streamingProperties(q){this._currentStreamingProperties={...q}}emitUDSData(q){return this.udsDataReplaySubject.next(q)}getUDSData$(){return this.udsDataReplaySubject.asObservable()}udsJSBundleLoaded$(){return this.udsJSBundleLoadedReplaySubject.asObservable()}constructor(q,a,y,M,P,K,B,j,tt,ot,F){var U,z,Q;this.settingsService=q,this.externalJsLoadService=a,this.browserSupportService=y,this.appConfig=M,this.remoteConfigService=P,this.localeService=K,this.guestModeHelperService=B,this.ecommerceService=j,this.idmService=tt,this.dbCacheService=ot,this._udsSuggestionsShownInStream=!1,this._rawUDSDataFromGS=null,this.udsDataReplaySubject=new e.t(1),this.udsJSBundleLoadedReplaySubject=new e.t(1),this._currentStreamingResolution=null,this._currentStreamingProperties=null,this.udsDBStore=null,this.logger=F.getLogger("UdsHelperService"),this.udsBundlePath=null!==(U=this.appConfig)&&void 0!==U&&U.udsConfig.cdnPathIsRelative?this.browserSupportService.getHostBranchName()+(null===(z=this.appConfig)||void 0===z?void 0:z.udsConfig.cdnPath):null===(Q=this.appConfig)||void 0===Q?void 0:Q.udsConfig.cdnPath}isGapSinceEntitlementAllowed(q,a){if(!a)return this.logger.info("firstEntitlementStartDateTime from GES is empty/null"),!1;const M=86400*q,P=(new Date).getTime(),K=new Date(a).getTime(),B=Math.max(0,Math.floor((P-K)/1e3));return this.logger.info("elapsedTime since firstEntitlement",B),this.elapsedTimeInDays=B,B<=M}canEnableUDSFeature(){return this.guestModeHelperService.isGuestMode?(0,i.of)(!1):(0,L.aj)([this.remoteConfigService.remoteConfigFetched$,this.localeService.localeChanged]).pipe((0,f.U)(([q,a])=>{var y,M;let P=null===(y=q.config)||void 0===y?void 0:y.udsConfig.canEnableUI;var K;return null!==(M=q.config)&&void 0!==M&&M.udsConfig.allLocaleSupported||(P=P&&(null===(K=q.config)||void 0===K||null===(K=K.udsConfig.supportedLocales)||void 0===K?void 0:K.includes(a))),this.logger.info("canEnableUDSUI flag",P),P}),(0,x.K)(q=>(this.logger.error("Error while fetching UDS remote config",q),(0,i.of)(!1))))}canShowUDSSummonedUIIcon(){return(0,L.aj)([this.remoteConfigService.remoteConfigFetched$,this.canEnableUDSFeature(),this.getUDSData$()]).pipe((0,f.U)(([q,a,y])=>{var M;const P=a&&(null===(M=q.config)||void 0===M?void 0:M.udsConfig.canEnableSummonedUI)&&(null==y?void 0:y.nonDefaultScores);return this.logger.info("showUDSSummonedUIIcon flag",P),P}),(0,x.K)(q=>(this.logger.error("Error in canShowUDSSummonedUIIcon",q),(0,i.of)(!1))))}areSAScoresNonDefault(q){var a,y;if(null!==(a=window)&&void 0!==a&&null!==(a=a.uds)&&void 0!==a&&a.areSAScoresNonDefault)return null===(y=window)||void 0===y||null===(y=y.uds)||void 0===y?void 0:y.areSAScoresNonDefault(q)}shouldShowSessionEndUDSDialog(q){return(0,L.aj)([this.remoteConfigService.remoteConfigFetched$,this.canEnableUDSFeature(),this.ecommerceService.getUserMembership(),this.isUdsSnoozed()]).pipe((0,S.q)(1),(0,f.U)(([a,y,M,P])=>{var K,B,j,tt,ot;this.logger.info("Session duration ",q),this.logger.info("isUdsSnoozed",P),this.sessionDurationInMinsForUDS=q,this.snoozeDurationInDays=null===(K=a.config)||void 0===K?void 0:K.udsConfig.snoozeDurationInDays;const F=y&&(null===(B=a.config)||void 0===B?void 0:B.udsConfig.canEnableEndOfSessionUI)&&!P&&q>=(null===(j=a.config)||void 0===j?void 0:j.udsConfig.minSessionDurationForUDS)&&this.isGapSinceEntitlementAllowed(null===(tt=a.config)||void 0===tt?void 0:tt.udsConfig.allowedGapSinceEntitlementInDays,null===(ot=M.subscription)||void 0===ot?void 0:ot.firstEntitlementStartDateTime);return this.logger.info("showUDSDialog flag ",F),F}),(0,x.K)(a=>(this.logger.error("Error in shouldShowSessionEndUDSDialog",a),(0,i.of)(!1))))}snoozeUDS(){var q;const a=null!==(q=24*this.snoozeDurationInDays*60*60*1e3)&&void 0!==q?q:0,y={settingType:E.Bq.UdsSnoozeStopDateTime,selectedOption:new Date(Date.now()+a).toISOString()};this.settingsService.storeChangedSettings(y)}isUdsSnoozed(){var q;return null!==(q=this.appConfig.udsConfig)&&void 0!==q&&q.disableSnooze?(0,i.of)(!1):this.settingsService.getSettingsData().pipe((0,f.U)(a=>{if(null!=a&&a.udsSnoozeStopDateTime){const y=new Date(a.udsSnoozeStopDateTime).getTime();if((new Date).getTime()<y)return!0}return!1}))}loadUdsJsBundle(){return this.canEnableUDSFeature().pipe((0,u.zg)(q=>{const a=this.udsBundlePath&&this.externalJsLoadService.isScriptLoaded(this.udsBundlePath);return q?a?(0,i.of)(!0):this.externalJsLoadService.loadJSWithRetry(this.udsBundlePath,this.appConfig.udsConfig.jsLoadConfig):(a&&this.unloadUdsJsBundle(),(0,i.of)(!1))}),(0,x.K)(q=>(this.logger.error("Error in loading UDS js bundle from CDN",q),(0,i.of)(!1))))}unloadUdsJsBundle(){this.externalJsLoadService.unloadJS(this.udsBundlePath),delete window.uds}initializeUDS(){this.loadUDSData().subscribe(),this.loadUdsJsBundle().subscribe(q=>this.udsJSBundleLoadedReplaySubject.next(q),q=>this.logger.info("Error in loading the UDS JS bundle",q))}persistUDSData(){this.udsDBStore&&this.udsDBStore.status_===O.c1.Saved&&this.getUDSData$().pipe((0,u.zg)(q=>(this.logger.info("Saving into UDSDataStore",q),this.udsDBStore.udsData=q,this.udsDBStore.persist_()))).subscribe()}persistToastShown(){this.udsDBStore&&this.udsDBStore.status_===O.c1.Saved&&(this.udsDBStore.toastShown=!0,this.udsDBStore.persist_().subscribe())}loadUDSData(){return(0,L.aj)([this.canEnableUDSFeature(),this.idmService.accountStatusChanged]).pipe((0,g.h)(([q,a])=>q&&a.isAuthenticated),(0,u.zg)(([q,a])=>(this.logger.info("intializing UDSDataStore"),this.udsDBStore=this.dbCacheService.getOrCreateCachedGlobalItem(w.Xj,a.userId),this.udsDBStore.sync_())),(0,h.b)(q=>{this.emitUDSData(this.udsDBStore.udsData)}))}showUDSToast$(){return this.canShowUDSSummonedUIIcon().pipe((0,f.U)(q=>{const a=q&&!this.udsDBStore.toastShown;return this.logger.info("canShowUDSToast",a),a}))}}return(_=b).\u0275fac=function(q){return new(q||_)(p.LFG(E.gb),p.LFG(V.Z),p.LFG(c.OA),p.LFG(C.VK),p.LFG(l.s),p.LFG(O.OL),p.LFG(o.h),p.LFG(n.BH),p.LFG(s.N),p.LFG(O.LA),p.LFG(O.ed))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),b})()},22006:(Dt,ct,t)=>{"use strict";t.d(ct,{Xj:()=>u,_:()=>e,bW:()=>i,hy:()=>L,mu:()=>f,n4:()=>S});var e=function(g){return g[g.Poor=0]="Poor",g[g.Bad=1]="Bad",g[g.Good=2]="Good",g[g.Excellent=3]="Excellent",g}(e||{}),i=function(g){return g[g.None=0]="None",g[g.Warning=1]="Warning",g[g.Error=2]="Error",g}(i||{}),L=function(g){return g.DesktopWindows="desktop_windows",g.Wifi="wifi",g.Isp="isp",g.Storage="storage",g}(L||{}),f=function(g){return g[g.none=0]="none",g[g.thumbUp=1]="thumbUp",g[g.thumbDown=2]="thumbDown",g}(f||{}),x=function(g){return g.DecoderScore="decoderScore",g.DownlinkCongestion="downlinkCongestion",g.DownlinkLag="downlinkLag",g.GpuPerfScore="gpuPerfScore",g.Overall="overall",g.ServerPerfScore="serverPerfScore",g.Uplink="uplink",g.VisualScore="visualScore",g}(x||{});const S=new Map([[x.DecoderScore,[L.DesktopWindows]],[x.Uplink,[L.Wifi]],[x.DownlinkLag,[L.Wifi,L.Isp]],[x.DownlinkCongestion,[L.Wifi,L.Isp]],[x.GpuPerfScore,[L.Storage]]]),u="UDSDataStore"},42740:(Dt,ct,t)=>{"use strict";t.d(ct,{A:()=>L,b:()=>f});var e=t(47178),L=function(x){return x[x.Greater=0]="Greater",x[x.Lesser=1]="Lesser",x[x.Equal=2]="Equal",x}(L||{});class f{constructor(S,u="."){if(this.versionStr=S,this.delimiter=u,(0,e.isNil)(S)||0===S.length)throw new Error("invalid version string: "+S);this.versionComponents=[];const g=S.split(u);for(const h of g)this.versionComponents.push(+h)}static getPaddedFourOctetVersion(S,u="."){if(!S)return S;const g=S.split(u);for(let O=0;O<4-g.length;O++)g.push("0");return g.reduce((O,E)=>`${O}.${E}`)}compare(S){const u=Math.min(this.versionComponents.length,S.versionComponents.length);for(let g=0;g<u;g++)if(this.versionComponents[g]!==S.versionComponents[g])return this.versionComponents[g]>S.versionComponents[g]?L.Lesser:L.Greater;return this.versionComponents.length>S.versionComponents.length?L.Lesser:this.versionComponents.length<S.versionComponents.length?L.Greater:L.Equal}compareMajorVersion(S){const u=Math.min(this.versionComponents.length,S.versionComponents.length);for(let g=0;g<u-1;g++)if(this.versionComponents[g]!==S.versionComponents[g])return this.versionComponents[g]>S.versionComponents[g]?L.Lesser:L.Greater;return this.versionComponents.length>S.versionComponents.length?L.Lesser:this.versionComponents.length<S.versionComponents.length?L.Greater:L.Equal}toString(){return this.versionStr}}},53703:(Dt,ct,t)=>{"use strict";t.d(ct,{Z:()=>I});var e=t(47178),i=t(49481),L=t(92130),f=t(64555),x=t(70506),S=t(9681),u=t(17827),g=t(47422),h=t(87965),O=t(58175),E=t(99901),w=t(89857),p=t(78943),V=t(13963),c=t(65343),C=t(69324),l=t(53576),o=t(77869),n=t(61699),s=t(21120),R=t(15665),_=t(7749),b=t(56989);let I=(()=>{var q;class a{constructor(M,P,K,B,j,tt,ot,F,U){this.appConfig=M,this.loggingService=P,this.sharedStorageService=K,this.idmService=B,this.telemetryService=j,this.telemetryUtilService=tt,this.gfnSdkService=ot,this.idmIpcService=F,this.bridgeService=U,this.blockName="userConsentInfo",this.userConsentExpirationHours=24,this.isClientGdprConsentSet=!1,this.isManualLogin=null,this.userConsentSubject=new i.t(1),this.deviceConsentSubject=new i.t(1),this.logger=this.loggingService.getLogger("user-consent.service"),this.initLoginStatusSubscription(),this.sendEventDataElementsToRagnarok()}initUserConsent(){this.sharedStorageService.readBlock(this.blockName).pipe((0,g.U)(M=>!(0,e.isEmpty)(M)&&((0,e.isNil)(M.userId)||(0,e.isEmpty)(M.userId)?(this.logger.event("no stored consent setDefaultClientConsent",M.userConsent),this.telemetryService.setDefaultClientConsent(M.userConsent)):this.telemetryService.setUserConsent([M]),!0))).subscribe(M=>{M?this.logger.info("Consent read from userConsentInfo block sent to jsevents for initialization."):this.logger.error("No client consent sent to jsevents.")},M=>{this.logger.error("Reading UserConsentInfo block failed with error: ",M)})}writeUserConsent(M){return this.sharedStorageService.writeBlock(this.blockName,M,!0)}getDeviceConsent$(){return this.deviceConsentSubject.asObservable()}getUserConsent$(){return this.userConsentSubject.asObservable()}fetchAndUpdateUserConsent(M){return(0,L.D)([this.sharedStorageService.readBlock(this.blockName),this.telemetryService.getDefaultClientConsentObserable()]).pipe((0,h.zg)(([P,K])=>(P=this.refreshExpiryTime(P),this.updateUserConsentTelemetry(P,M),this.logger.info("Send app launch telemetry for valid userId"),this.telemetryUtilService.sendLaunchTimeTelemetry(),this.setExpiryIntervalSubscription(M),this.userConsentSubject.next(P.userConsent),this.writeUserConsent(P))))}sendEventDataElementsToRagnarok(){V.ng.isBrowserPlatform()&&(this.telemetryService.getCommonData$().pipe((0,h.zg)(M=>{const P={commonData:M,config:{server:this.appConfig.jsEvents.server,version:this.appConfig.jsEvents.version}};return P.commonData.sentTs=void 0,P.commonData.events=void 0,this.bridgeService.executeCommand(p.Gh.Gfn.Streaming.UpdateEventDataElements,P)})).subscribe(),(0,f.aj)([this.getDeviceConsent$(),this.getUserConsent$()]).pipe((0,h.zg)(([M,P])=>{const K={commonData:{}};return K.commonData.deviceGdprFuncOptIn=M.functional,K.commonData.deviceGdprTechOptIn=M.technical,K.commonData.deviceGdprBehOptIn=M.behavioral,K.commonData.gdprFuncOptIn=P.functional,K.commonData.gdprTechOptIn=P.technical,K.commonData.gdprBehOptIn=P.behavioral,this.bridgeService.executeCommand(p.Gh.Gfn.Streaming.UpdateEventDataElements,K)})).subscribe())}createConsentBlock(M){const P=(0,e.merge)({},w.XA);return P.userConsent=M,P}createConsentBlockWithAuthInfo(M,P){const K=(0,e.merge)(w.XA,{userId:M.userId,externalUserId:M.externalUserId,idpId:M.idpId});return K.userConsent=P,K}initLoginStatusSubscription(){this.idmService.cachedUser.pipe((0,h.zg)(M=>(this.isManualLogin=!M.data.isAuthenticated,(0,f.aj)([this.gfnSdkService.getAuthInfo(),this.idmService.accountStatusChanged]).pipe((0,h.zg)(([K,B])=>{let j=B;if(!j.isAuthenticated&&this.checkIntervalSubscription)this.checkIntervalSubscription.unsubscribe();else if(j.isAuthenticated||K.authType===l.Gr.JWT){let tt={userId:j.userId,externalUserId:j.externalId,idpId:j.idpId};return K.authType===l.Gr.JWT&&(tt={userId:K.userId,externalUserId:K.externalUserId,idpId:K.idpId},j={...j,userId:K.userId,externalId:K.externalUserId,idpId:K.idpId}),(""===j.idpId||(0,e.isNil)(j.idpId))&&(tt={userId:w.wy.Undefined,externalUserId:j.userId,idpId:w.wy.Undefined}),this.telemetryService.setEventsCommonData(tt,!0),this.fetchAndUpdateUserConsent(j)}return j.isAuthenticated?x.E:this.updateUserConsentInfoOnLogout()})))),(0,O.K)(M=>(this.logger.error("Error in getting/setting consent data on user refresh, Setting to default",M),(0,S.of)(!1)))).subscribe(M=>{this.logger.info("Updated user consent result successfully:",M),this.idmIpcService.sendLoginStatusChange()})}isExpired(M){let P=!0;const K=new Date;if(M&&M.expiryTime){const B=new Date(M.expiryTime);this.logger.info("Expiry time "+B+" now "+K),P=B<K}return P}refreshExpiryTime(M){if((0,e.isNil)(M.expiryTime)||this.telemetryUtilService.getClientType()!==c.BhR.StreamingClient){const P=new Date;P.setDate(P.getDate()+1),M.expiryTime=P.toISOString(),this.logger.event("LocalConsent expiryTime updated: ",M)}return M}updateUserConsentTelemetry(M,P){P.isAuthenticated&&(M.userConsent=(0,C.WF)(P),M.userId=P.userId,M.externalUserId=P.externalId,M.idpId=P.idpId,this.telemetryService.setUserConsent([M]))}checkConsentInterval(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,h.zg)(M=>{if(!(0,e.isEmpty)(M))return this.isExpired(M)?this.idmService.refreshUser().pipe((0,E.h)(!0)):(this.logger.info("Consent data is still valid"),this.updateUserConsentTelemetry(M,this.currentUser),x.E)}))}setExpiryIntervalSubscription(M){if(this.currentUser=M,this.telemetryUtilService.getClientType()!==c.BhR.StreamingClient){const P=(0,u.F)(60*this.userConsentExpirationHours*60*1e3);this.checkIntervalSubscription=P.pipe((0,h.zg)(()=>this.checkConsentInterval())).subscribe()}else this.logger.info("Not checking consent info on regular intervals for streamer")}setUpJarvisUserChangedSubscription(){this.idmService.accountStatusChanged.subscribe(M=>{!M.isAuthenticated&&!this.telemetryService.getLaunchUiEventSent()&&(this.logger.info("No user present, send launch time telemetry for undefined userId"),this.telemetryUtilService.sendLaunchTimeTelemetry())})}setDefaultConsentData(M){return this.logger.trace(o.y$.UserDetails,o.Px.UserInfo,"User consent is Behavioral:"+M.behavioral+" Functional:"+M.functional+" Technical:"+M.technical),this.isClientGdprConsentSet?(this.logger.info("Client GDPR consent is already set."),(0,S.of)(!1)):(this.logger.event("client consent not yet set - setDefaultClientConsent",M),this.telemetryService.setDefaultClientConsent(M),this.setUpJarvisUserChangedSubscription(),this.isClientGdprConsentSet=!0,this.deviceConsentSubject.next(M),this.writeUserConsent(this.createConsentBlock(M)))}setAnonUserConsentData(M){return this.logger.event("client consent not yet set - setAnonUserConsentData",M),this.telemetryService.setDefaultClientConsent(M),this.setUpJarvisUserChangedSubscription(),this.isClientGdprConsentSet=!0,this.gfnSdkService.getAuthInfo().pipe((0,h.zg)(P=>this.writeUserConsent(this.createConsentBlockWithAuthInfo(P,M))))}getAnonUserConsentData(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,h.zg)(M=>(0,S.of)(M)))}updateUserConsentInfoOnLogout(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,h.zg)(M=>(0,e.isEmpty)(M)?(this.logger.warn("UserConsentInfo section is empty in sharedstorage"),(0,S.of)(!1)):(M.userConsent=w.l3,delete M.userId,M.externalUserId&&delete M.externalUserId,M.idpId&&delete M.idpId,M.expiryTime&&delete M.expiryTime,this.userConsentSubject.next(M.userConsent),this.writeUserConsent(M))))}ngOnDestroy(){this.checkIntervalSubscription&&this.checkIntervalSubscription.unsubscribe()}}return(q=a).\u0275fac=function(M){return new(M||q)(n.LFG(s.VKt),n.LFG(V.ed),n.LFG(R.OA),n.LFG(_.No),n.LFG(w.y0),n.LFG(c.wU6),n.LFG(l.s),n.LFG(b.i),n.LFG(V.dF))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),a})()},79993:(Dt,ct,t)=>{"use strict";t.d(ct,{AK:()=>O,l$:()=>e.l$,qr:()=>e.qr,X4:()=>e.X4,h6:()=>e.h6,Or:()=>e.Or,Df:()=>e.Df,TW:()=>e.TW,yY:()=>e.yY,j7:()=>e.j7,_6:()=>e._6,Q2:()=>e.Q2,AB:()=>e.AB,Jk:()=>e.Jk});var e=t(69324),i=t(32484),L=t(56293),f=t(65343),x=t(61699),S=t(13963),u=t(89857),g=function(E){return E.HaveNothing="HAVE_NOTHING",E.HaveMetadata="HAVE_METADATA",E.HaveCurrentData="HAVE_CURRENT_DATA",E.HaveFutureData="HAVE_FUTURE_DATA",E.HaveEnoughData="HAVE_ENOUGH_DATA",E}(g||{}),h=function(E){return E.NetworkEmpty="NETWORK_EMPTY",E.NetworkIdle="NETWORK_IDLE",E.NetworkLoading="NETWORK_LOADING",E.NetworkNoSource="NETWORK_NO_SOURCE",E}(h||{});let O=(()=>{var E;class w{constructor(V,c){this.telemetryService=c,this.mediaPlayExceptionSubject=new i.xQ,this.logger=V.getLogger("MediaHelperService")}playMedia(V,c,C){null!=V&&V.parentElement||this.logger.warn("Attempting to play a media with null parentElement (probably not in DOM?)");const l=o=>{this.logger.info(`${o} - type=${c}, srcObject=${null!=V&&V.srcObject?"defined":"undefined"}, played=${null==V?void 0:V.played}, paused=${null==V?void 0:V.paused}, readyState=${this.getVideoState(null==V?void 0:V.readyState)}, muted=${null==V?void 0:V.muted}`)};return l("Attempting to play media"),new L.y(o=>{var n,s,R,_,b;const I=null==V?void 0:V.play();if(!I)return l("Undefined play result"),o.next(!(null!=V&&V.paused)),void o.complete();null===(n=I.then)||void 0===n||null===(s=(R=n.call(I,()=>{l("Successfully played"),this.sendMediaPlayEvent(c,C),o.next(!0)})).catch)||void 0===s||null===(_=(b=s.call(R,q=>{l("Failed to play"),this.logger.error(`${c} play failed with error: ${q.name}: ${q.message}`),this.sendMediaPlayEvent(c,C,q),this.mediaPlayExceptionSubject.next(q),o.next(!1)})).finally)||void 0===_||_.call(b,()=>{o.complete()})})}pauseMedia(V){null==V||V.pause()}mediaPlayFailure$(){return this.mediaPlayExceptionSubject.asObservable()}sendMediaPlayEvent(V,c,C){var l,o,n,s,R;const _=new f.LMI({streamSessionId:null!==(l=null==c?void 0:c.sessionId)&&void 0!==l?l:"",streamSubSessionId:null!==(o=null==c?void 0:c.subSessionId)&&void 0!==o?o:"",mediaType:"video"===V?f.E5O.Video:f.E5O.Audio,result:void 0===C?f.GVq.Success:f.GVq.Failure,errorDetails:null!==(n=null==C?void 0:C.message)&&void 0!==n?n:"",errorName:null!==(s=null==C?void 0:C.name)&&void 0!==s?s:"",isResume:null!==(R=null==c?void 0:c.isResumed)&&void 0!==R?R:f.wye.FALSE});this.telemetryService.push(_)}getVideoState(V){let c;switch(V){case HTMLMediaElement.HAVE_NOTHING:c=g.HaveNothing;break;case HTMLMediaElement.HAVE_METADATA:c=g.HaveMetadata;break;case HTMLMediaElement.HAVE_CURRENT_DATA:c=g.HaveCurrentData;break;case HTMLMediaElement.HAVE_FUTURE_DATA:c=g.HaveFutureData;break;case HTMLMediaElement.HAVE_ENOUGH_DATA:c=g.HaveEnoughData;break;default:c=V}return c}getVideoNetworkState(V){let c;switch(V){case HTMLMediaElement.NETWORK_EMPTY:c=h.NetworkEmpty;break;case HTMLMediaElement.NETWORK_IDLE:c=h.NetworkIdle;break;case HTMLMediaElement.NETWORK_LOADING:c=h.NetworkLoading;break;case HTMLMediaElement.NETWORK_NO_SOURCE:c=h.NetworkNoSource;break;default:c=V}return c}}return(E=w).\u0275fac=function(V){return new(V||E)(x.LFG(S.ed),x.LFG(u.y0))},E.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})()},69324:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AB:()=>mapScrimRGBToFontColor,Df:()=>formatTimeInMinutesToString,Jk:()=>removeSpacesInString,Or:()=>formatTimeConfig,Q2:()=>getUserFacingOSName,TW:()=>formatTimeString,WF:()=>formatConsentData,X4:()=>extractCmsId,_6:()=>getUserFacingDeviceType,h6:()=>formatHexString,j7:()=>formatVanityUrlForDisplay,l$:()=>convertNegativeErrorCodes,qr:()=>evalCss,yY:()=>formatUserCodeForDisplay});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47178),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58540),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),crimson__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13963),js_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89857);const minutesInAnHour=60,maxUnsigned32BitInteger=4294967295,HTTP_RESPONSE_STATES={UNDEFINED_RESPONSE:"undefined-response",NULL_URL:"null-url"},formatTimeConfig={HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"};function formatTimeString(Dt,ct){const t=moment__WEBPACK_IMPORTED_MODULE_1__.duration(Dt,"seconds"),e=[];if(-1!==ct.indexOf(formatTimeConfig.HOURS)){const i=leftPad(t.hours().toString(),"0",2);e.push(i)}if(-1!==ct.indexOf(formatTimeConfig.MINUTES)){const i=leftPad(t.minutes().toString(),"0",2);e.push(i)}if(-1!==ct.indexOf(formatTimeConfig.SECONDS)){const i=leftPad(t.seconds().toString(),"0",2);e.push(i)}return e.join(":")}function formatHexString(Dt){if(Number.isInteger(Dt)){let ct=(Dt>>>=0).toString(16).toUpperCase();return ct=leftPad(ct,"0",8),"0x"+ct}return""}function leftPad(Dt,ct,t){const e=t-Dt.length;return e>0?Array(e+1).join(ct)+Dt:Dt}function hasValue(Dt,ct){return!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Dt)}function getUrl(Dt,ct){let t="";return t=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(Dt)?ct+"/"+HTTP_RESPONSE_STATES.UNDEFINED_RESPONSE:(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNull)(Dt.url)?ct+"/"+HTTP_RESPONSE_STATES.NULL_URL:Dt.url,t}function getHttpResponseStatus(Dt){let ct;return ct=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(Dt)?HTTP_RESPONSE_STATES.UNDEFINED_RESPONSE:Dt.status,ct}function validateObject(Dt,ct,t=hasValue){const e=!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Dt);return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.reduce)(ct,(i,L)=>i&&t(Dt[L],i),e)}function validateJson(Dt,ct,t){const e={isValid:!1,data:null,error:""};try{e.data=JSON.parse(Dt),e.isValid=!0}catch(i){e.error=i.message}return e.isValid=e.isValid&&validateObject(e.data,ct,t),e}function extractCmsId(Dt,ct){const t=Dt.search("cmsId");if(t<0)return ct.info("cmsId not found, ignoring event"),null;let e=Dt.substring(t),i=e.split("&");return i.length<=0?(ct.error("cmsId found, but string splitting on & returned 0 strings"),null):(e=i[0],i=e.split("="),i.length<=1?(ct.error("cmsId key found, but no value was found"),null):+i[1])}function formatConsentData(Dt){const ct=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.merge)({},js_events__WEBPACK_IMPORTED_MODULE_3__.l3);return Dt&&(ct.technical=Dt.technicalConsent,ct.behavioral=Dt.behavioralConsent),ct}function removeSpacesInString(Dt){return Dt.replace(/\s/g,"")}function formatVanityUrlForDisplay(Dt){return Dt.replace(/(^\w+:|^)\/\//,"")}function formatUserCodeForDisplay(Dt){if(Dt.length<6)return Dt;const ct=Math.round(Dt.length/2);return Dt.slice(0,ct)+" - "+Dt.slice(ct)}function getUserFacingOSName(Dt){switch(Dt){case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.WebOS:return"webOS";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Tizen:return"Tizen";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.XBox:return"Xbox";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.SteamOS:return"SteamOS";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Shield:case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Android:return"Android";default:return}}function getUserFacingDeviceType(Dt){switch(Dt){case crimson__WEBPACK_IMPORTED_MODULE_2__.z7.TV:return"TV";case crimson__WEBPACK_IMPORTED_MODULE_2__.z7.Console:return"Console";default:return}}function evalCss(expr){return eval(expr.trim().replace(/calc/g,"").replace(/px/g,"").replace(/100vw/g,window.innerWidth.toString()).replace(/100vh/g,window.innerHeight.toString()).replace(/[^-()\d/*+.]/g,""))}function formatTimeInMinutesToString(Dt){if(0===Dt)return{time:"0m"};let ct="";Dt>=minutesInAnHour&&(ct+=Math.floor(Dt/minutesInAnHour)+"h");const t=Dt%minutesInAnHour;return t>0&&(ct+=" "+t+"m"),{time:ct}}function mapScrimRGBToFontColor(Dt){return Dt?.299*Dt.r+.587*Dt.g+.114*Dt.b>150?"black":"white":null}function convertNegativeErrorCodes(Dt){return Dt>=0?Dt:maxUnsigned32BitInteger- -1*Dt+1}},82711:(Dt,ct,t)=>{"use strict";t.d(ct,{$_:()=>E,Em:()=>u});var e=t(60048),i=t(30502),L=t(17827),f=t(9681),x=t(46939),S=t(99901),u=function(w){return w.Timeout="Timeout",w.Cleared="Cleared",w.Tick="Tick",w.Unknown="Unknown",w}(u||{}),h=t(61699),O=t(13963);let E=(()=>{var w;class p{constructor(c){this.logger=c.getLogger("GfnWebWorkerService")}initialize(){if(typeof Worker<"u"){const c=new Worker(t.tu(new URL(t.p+t.u(144),t.b)),{type:void 0,name:"gfn-web"});this.gfnWorker=(0,e.Ud)(c)}else this.logger.warn("Web workers not supported, will use fallback mechanism");return this.gfnWorker}hash(c){return(0,i.D)(this.gfnWorker.sha1(c))}intervalHandler(c,C){return this.gfnWorker?(0,i.D)(this.gfnWorker.registerTimer(c,(0,e.sj)(C))):c.startTimer?(this.logger.info("Fallback mechanism triggered, starting timer"),this.timer$=(0,L.F)(c.timeout).pipe((0,x.q)(1),(0,S.h)(u.Timeout)),this.timer$):(this.logger.info("Fallback mechanism triggered, clearing timer"),this.timer$=null,(0,f.of)(u.Cleared))}periodicIntervalHandler(c,C){return this.gfnWorker?(this.gfnWorker.registerInterval(c,(0,e.sj)(C)),(0,f.of)(u.Unknown)):c.startInterval?(this.logger.info("Fallback mechanism triggered, starting interval"),this.interval$=(0,L.F)(c.tickInterval).pipe((0,S.h)(u.Tick)),this.interval$):(this.logger.info("Fallback mechanism triggered, clearing interval"),this.interval$=null,(0,f.of)(u.Cleared))}}return(w=p).\u0275fac=function(c){return new(c||w)(h.LFG(O.ed))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},59248:(Dt,ct,t)=>{"use strict";t.d(ct,{W:()=>e.W});var e=t(25502)},25502:(Dt,ct,t)=>{"use strict";t.d(ct,{W:()=>f});var e=t(61699),i=t(15665);const L="defaultZone";let f=(()=>{var x;class S{constructor(g){this.sharedStorage=g}setDefaultZone(g){return this.sharedStorage.writeBlock(L,g)}getDefaultZone(){return this.sharedStorage.readBlock(L)}}return(x=S).\u0275fac=function(g){return new(g||x)(e.LFG(i.OA))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),S})()},21120:(Dt,ct,t)=>{"use strict";t.d(ct,{hB7:()=>jn,F4z:()=>Oo,rmE:()=>Qn.rm,rEB:()=>Oi,ScT:()=>ba,M9n:()=>qi,O9v:()=>Xs,dCY:()=>An.dC,bFC:()=>Zn.b,ANw:()=>Zn.A,mfJ:()=>fl,X92:()=>zn.X9,wvY:()=>pi.wv,yQ7:()=>Sn.yQ,KcQ:()=>Sn.Kc,wye:()=>k.wye,OMY:()=>Mo,uu8:()=>li.uu,qBq:()=>An.qB,roz:()=>k.roz,a$B:()=>Bn.a$,K$w:()=>Bn.K$,F0r:()=>li.F0,lzt:()=>k.lzt,x5h:()=>ma.x5,ztj:()=>k.ztj,QuF:()=>k.QuF,aGN:()=>k.aGN,mpd:()=>Qn.mp,wMv:()=>Qn.wM,BhR:()=>k.BhR,Ktt:()=>Xo,YvH:()=>sl,$lO:()=>ss.$l,_P4:()=>ss._P,OKi:()=>Sn.OK,Ujf:()=>H,uE5:()=>Qn.uE,hEi:()=>yt.hE,hD7:()=>yt.hD,reR:()=>k.reR,VKt:()=>ge.VK,OX4:()=>We,q6_:()=>si.q6,Gxu:()=>xr.Gx,HOt:()=>_n.H,Oni:()=>Na,f0:()=>sr,X5k:()=>Qs,gOl:()=>Qn.gO,EG8:()=>Sn.EG,lJR:()=>Br,KNS:()=>cl.K,cYw:()=>k.cYw,gIP:()=>ls.g,$Yn:()=>Qn.$Y,eKR:()=>Qn.eK,EMz:()=>Qn.EM,NX4:()=>k.NX4,iJP:()=>Qn.iJ,dvL:()=>ii.dv,Vvs:()=>zn.Vv,BPY:()=>$n.BP,XzU:()=>k.XzU,xAy:()=>Or,rVM:()=>si.rV,f1U:()=>si.f1,vAT:()=>si.vA,hHP:()=>so,hmT:()=>po,qMw:()=>zn.qM,l2p:()=>zn.l2,vq_:()=>zn.vq,BHV:()=>zn.BH,D7$:()=>zn.D7,JFu:()=>Bn.JF,mJI:()=>Bn.mJ,WEF:()=>Oa,vzH:()=>Ka,Gvo:()=>fs,N3X:()=>k.N3X,$TJ:()=>hi,zu9:()=>mn.zu,CzD:()=>Qn.Cz,Vti:()=>Yt,Vao:()=>An.V,OY9:()=>ge.OY,g7J:()=>k.g7J,YyK:()=>k.YyK,yOt:()=>k.yOt,ryx:()=>k.ryx,HyT:()=>k.HyT,tZp:()=>k.tZp,AVX:()=>k.AVX,NlQ:()=>k.NlQ,MsO:()=>k.MsO,hAb:()=>k.hAb,DUy:()=>k.DUy,_LZ:()=>k._LZ,DCd:()=>k.DCd,zfT:()=>k.zfT,eCT:()=>k.eCT,CK8:()=>Qn.CK,IYW:()=>gl,V89:()=>za,zO5:()=>k.zO5,FRL:()=>k.FRL,NuE:()=>k.NuE,sf3:()=>k.sf3,tDF:()=>Qa.t,BwP:()=>Bn.Bw,D$u:()=>Bn.D$,U4l:()=>k.U4l,Y_M:()=>k.Y_M,xQn:()=>ll,SC7:()=>ds,dgl:()=>uo,N0y:()=>An.N0,fFR:()=>cn.fF,Y6V:()=>Un,m$M:()=>Va,dbe:()=>Sn.db,lUL:()=>Be,Drq:()=>er,PyH:()=>k.PyH,$_t:()=>$i.$_,rIG:()=>ln.r,hTr:()=>te.h,o15:()=>te.o,et_:()=>Qn.et,AUc:()=>k.AUc,_63:()=>k._63,T6w:()=>ii.T6,ZB5:()=>is,No2:()=>ii.No,VRd:()=>pi.VR,EmV:()=>$i.Em,oIn:()=>fn.oI,MxV:()=>fn.Mx,uCR:()=>fn.uC,vSX:()=>fn.vS,V__:()=>An.V_,xld:()=>An.xl,cPW:()=>k.cPW,w7s:()=>ge.w7,Bbu:()=>k.Bbu,sNt:()=>k.sNt,vpN:()=>Bn.vp,zcQ:()=>Bn.zc,mkU:()=>Bn.mk,b1m:()=>jl,V7b:()=>wa,Etx:()=>Qn.Et,pvZ:()=>Qn.pv,AKw:()=>tn.AK,LMI:()=>k.LMI,GVq:()=>k.GVq,$ww:()=>Jl,qmX:()=>k.qmX,W9g:()=>k.W9g,Mbw:()=>k.Mbw,DL8:()=>k.DL8,_cC:()=>k._cC,bOD:()=>k.bOD,qql:()=>An.qq,MNE:()=>Xi,_Rm:()=>mn._R,PT0:()=>mn.PT,$e1:()=>mn.$e,fIQ:()=>$n.fI,XS0:()=>oo.XS,ZPL:()=>Sn.ZP,uZ6:()=>Wa.u,U5H:()=>pi.U5,Irw:()=>pi.Ir,Eum:()=>pi.Eu,Yk9:()=>k.Yk9,R2C:()=>pi.R2,eTr:()=>pi.eT,ASW:()=>pi.AS,vg_:()=>pi.vg,DYb:()=>k.DYb,nzn:()=>cr.n,R76:()=>li.R7,PTF:()=>li.PT,HKp:()=>Nt.H,u4N:()=>Nt.u,N3U:()=>ml,kuH:()=>ul,qMk:()=>ol,UJ:()=>yr.UJ,nG5:()=>yr.nG,$3D:()=>Bn.$3,whE:()=>Bn.wh,QUw:()=>xr.QU,Ilb:()=>li.Il,unb:()=>cn.un,UeV:()=>Bn.Ue,Q0y:()=>Ni,Xj5:()=>k.Xj5,p3A:()=>k.p3A,Tn7:()=>k.Tn7,ItH:()=>k.ItH,M1b:()=>Sn.M1,EI7:()=>qs.EI,pr3:()=>Ei,oWM:()=>li.oW,Ad8:()=>li.Ad,S8R:()=>cn.S8,XHw:()=>k.XHw,HmX:()=>k.HmX,XPX:()=>k.XPX,VIQ:()=>k.VIQ,V5e:()=>_n.V,VHe:()=>yt.VH,cFU:()=>xr.cF,ePW:()=>xr.eP,WM6:()=>Fr,NS5:()=>ur,JkH:()=>k.JkH,Ran:()=>k.Ran,s$G:()=>Ro.s,g2J:()=>pt.g,MDl:()=>Sn.MD,zrw:()=>Sn.zr,JrW:()=>Sn.Jr,DIV:()=>Sn.DI,gcn:()=>Aa,CGJ:()=>k.CGJ,hMy:()=>k.hMy,mw3:()=>oo.mw,QZM:()=>Sn.QZ,nau:()=>Sn.n,gbG:()=>Sn.gb,zVP:()=>Qn.zV,BqE:()=>Sn.Bq,mPX:()=>An.mP,fyj:()=>Sn.fy,bbu:()=>qs.bb,HS8:()=>kr,oX5:()=>ql,CG5:()=>tc,E5O:()=>k.E5O,pDK:()=>k.pDK,GKb:()=>Sn.GK,xAh:()=>mn.xA,jcr:()=>mn.jc,LQU:()=>mn.LQ,$cB:()=>mn.$c,cIz:()=>vi.cI,wN:()=>ki,FR5:()=>Ya,_G:()=>k._G,T44:()=>k.T44,PoW:()=>k.PoW,wU6:()=>k.wU6,ByO:()=>Bn.By,YUT:()=>Bn.YU,O1L:()=>Xl,Cbx:()=>k.Cbx,wHL:()=>an.w,owr:()=>xe.o,$Uz:()=>li.$U,LB$:()=>vi.LB,rHN:()=>vi.rH,DI4:()=>vi.DI,GMF:()=>ci,WOA:()=>ei,_87:()=>Sn._8,nnJ:()=>cn.nn,Vwu:()=>k.Vwu,ZZY:()=>It.Z,Tn6:()=>zn.Tn,OAB:()=>Sn.OA,ef6:()=>k.ef6,uaH:()=>Kn.u,WIQ:()=>rl.W,l$P:()=>tn.l$,zJp:()=>cn.zJ,ibQ:()=>ya,qrs:()=>tn.qr,X4o:()=>tn.X4,h6z:()=>tn.h6,Or7:()=>tn.Or,Dfl:()=>tn.Df,TWU:()=>tn.TW,j9B:()=>Bn.j9,sc2:()=>ge.sc,cjf:()=>cn.cj,n6x:()=>cn.n6,svt:()=>cn.sv,wIc:()=>cn.wI,MAX:()=>cn.MA,AB4:()=>tn.AB,U19:()=>mn.U1,Jn8:()=>mn.Jn,A8q:()=>cn.A8,qHO:()=>hl,bY:()=>cn.bY,IGn:()=>cn.IG});var e=t(26575),i=t(32995),L=t(28849),f=t(43559),x=t(17401),S=t(32484),u=t(56293);var h=t(89857);const O={PopUpDialogShown:{name:"PopUpDialogShown",gdprLevel:h.KM.Functional},PopUpDialogClosed:{name:"PopUpDialogClosed",gdprLevel:h.KM.Technical}};var E=function(nt){return nt.UNDEFINED="UNDEFINED",nt.TRUE="TRUE",nt.FALSE="FALSE",nt}(E||{}),w=function(nt){return nt.App_Exit="App_Exit",nt.Dialog_Closed="Dialog_Closed",nt.Goto_Settings="Goto_Settings",nt}(w||{}),p=function(nt){return nt.Release_Highlights="Release_Highlights",nt.Account_Link_Required="Account_Link_Required",nt.Account_Link_Expired="Account_Link_Expired",nt.Account_Link_Expires_Today="Account_Link_Expires_Today",nt.Account_Link_Expires_Soon="Account_Link_Expires_Soon",nt.Unknown="Unknown",nt}(p||{});class V extends h.MW{constructor(_t){super(_t),this.name=O.PopUpDialogShown.name,this.gdprLevel=O.PopUpDialogShown.gdprLevel}}class c extends h.MW{constructor(_t){super(_t),this.name=O.PopUpDialogClosed.name,this.gdprLevel=O.PopUpDialogClosed.gdprLevel}}var C=t(47178),l=t(13303),o=t(46939),n=t(61699),s=t(13963),R=t(91467),_=t(28332),b=t(45356),I=t(47520),q=t(86515),a=t(33910),y=t(78654),M=t(69400),P=t(75889),K=t(87251),B=t(79329),j=t(72416),tt=t(38616),ot=t(27037),F=t(93170),U=t(64915);const z=["articleContentContainer"];function Q(nt,_t){1&nt&&(n.TgZ(0,"div",5),n._UZ(1,"mat-progress-spinner",6),n.qZA())}function dt(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",17)(1,"button",18),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(3);return n.KtG(v.closeDialog())}),n._UZ(2,"mat-icon",19),n.qZA()()}}function X(nt,_t){if(1&nt&&(n.TgZ(0,"span",20),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw(3);n.xp6(1),n.Oqu(n.lcZ(2,1,Et.articleDataParams.subTitle))}}function m(nt,_t){1&nt&&n._UZ(0,"div",21)}function Y(nt,_t){if(1&nt&&(n._UZ(0,"span",22),n.ALo(1,"trustAsHtml")),2&nt){const Et=n.oxw(3);n.Q6J("innerHTML",n.lcZ(1,2,Et.articleDataParams.content),n.oJD),n.uIk("tabindex",Et.scrollable?0:null)}}function D(nt,_t){1&nt&&n._UZ(0,"div",23)}function N(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div")(1,"div",7)(2,"span",8),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.YNc(5,dt,3,0,"div",9),n.qZA(),n._UZ(6,"mat-divider"),n.YNc(7,X,3,3,"span",10),n.TgZ(8,"div",11),n.YNc(9,m,1,0,"div",12),n.qZA(),n.TgZ(10,"mat-dialog-content",13,14),n.NdJ("scroll",function(v){n.CHM(Et);const et=n.oxw(2);return n.KtG(et.onScroll(v))}),n.YNc(12,Y,2,4,"span",15),n.qZA(),n.YNc(13,D,1,0,"div",16),n.qZA()}if(2&nt){const Et=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,7,Et.articleDataParams.title)),n.xp6(2),n.Q6J("ngIf",Et.closeButtonVisible),n.xp6(2),n.Q6J("ngIf",Et.articleDataParams.subTitle),n.xp6(2),n.Q6J("ngIf",Et.showTopOverlay),n.xp6(1),n.Q6J("enableLongPressScroll",Et.scrollable),n.xp6(2),n.Q6J("ngIf",Et.articleDataParams.content),n.xp6(1),n.Q6J("ngIf",Et.showBottomOverlay)}}function Z(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw();return n.KtG(v.OnDialogClick())}),n.YNc(1,Q,2,0,"div",3),n.YNc(2,N,14,9,"div",4),n.qZA()}if(2&nt){const Et=n.oxw();n.Q6J("ngClass",Et.articleDataParams.style),n.xp6(1),n.Q6J("ngIf",Et.waiting),n.xp6(1),n.Q6J("ngIf",!Et.waiting)}}let W=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae){this.el=r,this.genericDialog=et,this.telemetryService=ht,this.applicationLifetimeService=Ot,this.dialogRef=Ft,this.articleDataParams=Ht,this.systemInfoService=ae,this.waiting=!0,this.loadingContent=!0,this.showBottomOverlay=!1,this.showTopOverlay=!1,this.showDialog=!1,this.closeButtonVisible=!1,this.scrollable=!1,this.maxScrollPercent=0,this.dialogShownStartTime=0,this.dialogClickedCount=0,this.isTelemetrySent=!1,this.destroy$=new S.xQ,this.logger=v.getLogger("information-dialog"),this.logger.info("component created"),this.closeButtonVisible=null==Ht?void 0:Ht.enableCloseButton,Ft.disableClose=!0}ngOnInit(){this.waiting=!0,this.articleDataParams.style="article-content",this.articleSubscription=this.articleDataParams.getArticleCallback().subscribe(r=>{this.waiting=!1,this.dialogShownStartTime=Date.now(),r&&r.body?(this.articleDataParams.title=r.title,this.articleDataParams.subTitle=r.subTitle,this.articleDataParams.content=r.body,this.articleDataParams.style=r.style,this.showBottomOverlay=!0,this.currentDialogName=this.articleDataParams.dialogType,this.showDialog=!0,this.sendDialogShownTelemetry(),this.handleFocusWithScrollbar()):(this.error=!0,this.logger.error("get article returned null"),this.showErrorDialog())},r=>{this.waiting=!1,this.error=!0,this.logger.error("get article information failed with error: ",r),"1"!==this.articleDataParams.isInstallationScenario||(0,C.isNil)(r.status)?this.showErrorDialog():this.dialogRef.close()}),this.applicationLifetimeService.addWorkOnShutdown(()=>new u.y(r=>{r.next(this.sendDialogClosedTelemetry(w.App_Exit)),r.complete()}))}showErrorDialog(){const r=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{icon:"info",bodyText:{text:"releaseHighlights.noInformationAvailable"},primaryButton:{text:"common.close"}}});r.afterClosed().pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.dialogRef.close()}),r.primaryButtonClick.pipe((0,o.q)(1)).subscribe(()=>r.close()),!(0,C.isNil)(r)&&this.articleDataParams.autoCloseOnError&&setTimeout.call(r,()=>{r.close()},3e3)}onScroll(r){r.stopPropagation(),r.preventDefault();const v=Math.round((r.target.scrollTop+r.target.clientHeight)/r.target.scrollHeight*100);v>this.maxScrollPercent&&(this.maxScrollPercent=v),setTimeout(()=>{this.showTopOverlay=r.target.scrollTop>0,this.showBottomOverlay=v<100})}closeDialog(){this.dialogRef.close()}sendDialogShownTelemetry(){const r=new V({name:this.currentDialogName||p.Unknown});this.telemetryService.push(r)}handleFocusWithScrollbar(){setTimeout(()=>{var r,v;const et=null===(r=this.articleContentContainerElement)||void 0===r||null===(r=r.nativeElement)||void 0===r?void 0:r.clientHeight,ht=null===(v=this.articleContentContainerElement)||void 0===v||null===(v=v.nativeElement)||void 0===v?void 0:v.scrollHeight;this.scrollable=!et||!ht||ht>et,this.logger.info(`containerHeight: ${et}, scrollHeight: ${ht},  dialog is scrollable: ${this.scrollable}`)})}sendDialogClosedTelemetry(r){if(!this.error&&!this.isTelemetrySent){const v=new c({name:this.currentDialogName||p.Unknown,totalMs:0,scrolled:0!==this.maxScrollPercent?E.TRUE:E.FALSE,inWindowClicks:this.dialogClickedCount,exitTriggerPoint:r,checkBoxChecked:E.FALSE});this.telemetryService.push(v,this.dialogShownStartTime,{immediateRequest:!0}),this.isTelemetrySent=!0}}OnDialogClick(){this.dialogClickedCount++}ngOnDestroy(){this.logger.info("destroying article-content dialog"),this.sendDialogClosedTelemetry(w.Dialog_Closed),this.articleSubscription&&this.articleSubscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(n.SBq),n.Y36(s.ed),n.Y36(R.TX),n.Y36(h.y0),n.Y36(_.Ll),n.Y36(x.so),n.Y36(x.WI),n.Y36(s.Ob))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["nv-information-dialog"]],viewQuery:function(r,v){if(1&r&&n.Gf(z,5),2&r){let et;n.iGM(et=n.CRH())&&(v.articleContentContainerElement=et.first)}},decls:2,vars:1,consts:[["nvSpatialNavigationContainer","","nvTrapFocus","","nvBackToCloseModal",""],["fxLayout","column","class","article-dialog",3,"ngClass","click",4,"ngIf"],["fxLayout","column",1,"article-dialog",3,"ngClass","click"],["fxFlex","","fxFill","","fxLayoutAlign","center center","class","waiting-overlay",4,"ngIf"],[4,"ngIf"],["fxFlex","","fxFill","","fxLayoutAlign","center center",1,"waiting-overlay"],["id","progressIndicator","color","accent","mode","indeterminate","strokeWidth","5","diameter","35","value","15",1,"mat-accent"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["class","font-sub1",4,"ngIf"],[1,"constants-position-relative"],["class","common-overlay scroll-overlay-top-gradient",4,"ngIf"],["cdkMonitorSubtreeFocus","","nvLongPressScroller","","orientation","vertical",1,"font-body2",3,"enableLongPressScroll","scroll"],["articleContentContainer",""],["class","mat-primary mat-hue-2",3,"innerHTML",4,"ngIf"],["class","common-overlay scroll-overlay-bottom-gradient",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["svgIcon","close"],[1,"font-sub1"],[1,"common-overlay","scroll-overlay-top-gradient"],[1,"mat-primary","mat-hue-2",3,"innerHTML"],[1,"common-overlay","scroll-overlay-bottom-gradient"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Z,3,3,"div",1),n.qZA()),2&r&&(n.xp6(1),n.Q6J("ngIf",v.showDialog))},dependencies:[e.mk,e.O5,b.xw,b.Wh,b.s9,b.yH,I.oO,x.xY,q.Hw,a.Ou,y.eB,M.d,P.N,K.E,B.e,j.u,tt.p,ot.g,F.kH,U.W,f.X$],styles:[':root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}html,body{margin:0}img{-webkit-user-drag:none}.no-wrap{white-space:nowrap}@font-face{font-family:"Material Icons 2";font-style:normal;font-weight:400;font-display:block;src:url(assets/hashed/MaterialIcons-Regular.1e50f5c2ffa6aba4.eot),url(assets/hashed/MaterialIcons-Regular.7ea2023eeca07427.woff2) format("woff2"),url(assets/hashed/MaterialIcons-Regular.db852539204b1a34.woff) format("woff"),url(assets/hashed/MaterialIcons-Regular.196fa4a92dd6fa73.ttf) format("truetype")}.common-window .material-icons{font-family:"Material Icons 2"}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.cdk-global-overlay-wrapper>.nv-overlay-panel{max-width:calc(100vw - 32px)!important}}.constants-position-relative{position:relative}.constants-position-absolute{position:absolute}.constants-display-none{display:none}:host-context(.isRtl) .flip-rtl-element{transform:scaleX(-1)}html[dir=rtl] .flip-rtl-element{--dummy: 0;transform:scaleX(-1)}.background-image-overlay{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:-1}.hotkey-border{border:1px solid #ffffff;padding:4px 8px;font-weight:500;line-height:32px;margin:4px}.common-overlay{position:absolute;right:0;left:0;display:flex;top:0;bottom:0;z-index:1;background-color:#000000bf}.common-overlay.light-background{background-color:#00000080}.common-overlay.no-background{background-color:transparent}button mat-icon{display:block;color:#ffffffb3}.article-dialog{min-width:408px;max-width:560px;max-height:538px;overflow-x:hidden;border-radius:0;padding:24px}mat-content,mat-dialog-content{overflow-y:overlay;overflow-x:hidden}.article-dialog mat-dialog-content{font-size:12px;font-weight:400;color:#fff9;padding:24px;width:inherit;overflow-x:hidden}.article-dialog.article-content mat-dialog-content{overflow-x:hidden;margin:0 0 5px;padding:0}.article-dialog.article-content{background-image:none;max-height:80vh;min-height:250px;min-width:560px;max-width:678px;transition:all;transform:translate(0) scale(1);animation-delay:0s;transition-delay:0s}@media (max-width: 599px){.article-dialog.article-content{min-width:0}}.article-dialog.dialog-service-container-size{background-image:none;max-height:80vh;min-height:250px;width:560px;max-width:678px;position:relative;transition:all;transform:translate(0) scale(1);animation-delay:0s;transition-delay:0s;background-color:#292929;overflow-y:hidden}.dialog-service-container-size a{border-bottom:1px solid transparent;white-space:nowrap;color:#76b900;opacity:1;text-decoration:none}.dialog-service-container-size a:hover{cursor:pointer;outline:none;border-bottom:1px dotted #76b900}.dialog-service-container-size a.cdk-program-focused,.dialog-service-container-size a.cdk-keyboard-focused,.cdk-keyboard-focused .dialog-service-container-size a:focus,.cdk-program-focused .dialog-service-container-size a:focus{position:relative;--outset:-1px;--focus-background: rgba(118, 185, 0, .32)}.dialog-service-container-size a.cdk-program-focused:before,.dialog-service-container-size a.cdk-keyboard-focused:before,.cdk-keyboard-focused .dialog-service-container-size a:focus:before,.cdk-program-focused .dialog-service-container-size a:focus:before{content:"";position:absolute;top:var(--outset);right:var(--outset);bottom:var(--outset);left:var(--outset);animation:backgroundColorFadeIn .75s forwards}.dialog-service-container-size a.cdk-program-focused:after,.dialog-service-container-size a.cdk-keyboard-focused:after,.cdk-keyboard-focused .dialog-service-container-size a:focus:after,.cdk-program-focused .dialog-service-container-size a:focus:after{background-color:unset}@keyframes backgroundColorFadeIn{0%{background-color:transparent}to{background-color:var(--focus-background)}}.dialog-service-container-size a:active{opacity:.45}.dialog-service-container-size img{width:512px}.article-dialog.dialog-service-container-size .common-overlay{display:none}.article-dialog.dialog-service-container-size mat-divider{margin-top:16px;margin-bottom:16px}.common-window .dialog-no-transition{transition:none}.article-dialog .scroll-overlay-top-gradient{height:30px;background:linear-gradient(rgb(28,28,28),rgba(28,28,28,0));top:0}:host-context(.isLtr) .article-dialog .scroll-overlay-top-gradient{margin-left:24px}html[dir=ltr] .article-dialog .scroll-overlay-top-gradient{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-top-gradient{margin-right:24px}html[dir=rtl] .article-dialog .scroll-overlay-top-gradient{--dummy3: 0;margin-right:24px}:host-context(.isLtr) .article-dialog .scroll-overlay-top-gradient{margin-right:24px}html[dir=ltr] .article-dialog .scroll-overlay-top-gradient{--dummy4: 0;margin-right:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-top-gradient{margin-left:24px}html[dir=rtl] .article-dialog .scroll-overlay-top-gradient{--dummy4: 0;margin-left:24px}.article-dialog .scroll-overlay-bottom-gradient{height:30px;background:linear-gradient(rgba(28,28,28,0),rgb(28,28,28));bottom:24px;top:auto}:host-context(.isLtr) .article-dialog .scroll-overlay-bottom-gradient{margin-left:24px}html[dir=ltr] .article-dialog .scroll-overlay-bottom-gradient{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-bottom-gradient{margin-right:24px}html[dir=rtl] .article-dialog .scroll-overlay-bottom-gradient{--dummy3: 0;margin-right:24px}:host-context(.isLtr) .article-dialog .scroll-overlay-bottom-gradient{margin-right:24px}html[dir=ltr] .article-dialog .scroll-overlay-bottom-gradient{--dummy4: 0;margin-right:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-bottom-gradient{margin-left:24px}html[dir=rtl] .article-dialog .scroll-overlay-bottom-gradient{--dummy4: 0;margin-left:24px}.mat-mdc-dialog-container{padding-top:32px;z-index:82;transform:none;opacity:1;padding-bottom:24px;background-color:#191919;color:#fff;overflow:hidden}::selection{background:#478b06}.article-dialog mat-dialog-content:last-child,.article-dialog mat-dialog-content ng-form:last-child{margin-bottom:0}.article-dialog mat-dialog-content p:first-child{margin-top:0}.article-dialog mat-dialog-content .last-dialog-child{margin-bottom:0}.article-dialog mat-dialog-content.cdk-keyboard-focused,.article-dialog mat-dialog-content.cdk-program-focused{background-color:#ffffff52;transition:background-color .75s ease}.waiting-overlay{background-color:#0e0e0eb3}@media (max-width: 599.98px) and (orientation: portrait),(min-width: 480px) and (max-width: 719px){.article-dialog.dialog-service-container-size{max-height:100vh;width:100vw;height:100vh;max-width:100vw}.article-dialog,.article-dialog.article-content{min-width:320px;max-height:100vh;min-height:320px;max-width:100vw}.cdk-global-overlay-wrapper .small-screen-overlay-panel{max-width:100vw!important}}@media (max-width: 599.98px) and (orientation: portrait){.article-dialog mat-dialog-content{max-height:75vh}.dialog-service-container-size img{width:100%}}@media (max-width: 959.98px) and (orientation: landscape){.article-dialog mat-dialog-content{max-height:60vh}:host-context(.isLtr) .article-dialog.dialog-service-container-size{padding-left:max(env(safe-area-inset-left),24px)}html[dir=ltr] .article-dialog.dialog-service-container-size{--dummy1: 0;padding-left:max(env(safe-area-inset-left),24px)}:host-context(.isRtl) .article-dialog.dialog-service-container-size{padding-right:max(env(safe-area-inset-left),24px)}html[dir=rtl] .article-dialog.dialog-service-container-size{--dummy1: 0;padding-right:max(env(safe-area-inset-left),24px)}:host-context(.isLtr) .article-dialog.dialog-service-container-size{padding-right:max(env(safe-area-inset-right),24px)}html[dir=ltr] .article-dialog.dialog-service-container-size{--dummy2: 0;padding-right:max(env(safe-area-inset-right),24px)}:host-context(.isRtl) .article-dialog.dialog-service-container-size{padding-left:max(env(safe-area-inset-right),24px)}html[dir=rtl] .article-dialog.dialog-service-container-size{--dummy2: 0;padding-left:max(env(safe-area-inset-right),24px)}}.tv-view ::-webkit-scrollbar{width:16px}.tv-view .article-dialog{padding:32px}.tv-view .dialog-service-container-size img{width:100%}.tv-view .article-dialog.dialog-service-container-size{max-height:none;height:auto;width:925px;max-width:1920px}.tv-view .article-dialog.dialog-service-container-size mat-divider{margin-top:32px;margin-bottom:32px}\n'],encapsulation:2}),_t})(),A=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,L.u5,i.o9,x.Is,q.Ps,a.Cq,y.yu,M.t,s.it,R.hp,F.rt,f.aw.forChild(),e.ez,L.u5]}),_t})();var d=t(46555);let H=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,f.aw,d.Q,y.yu,i.o9,R.hp]}),_t})();var $=t(63594),J=t(9681),st=t(73992),lt=t(92130),gt=t(15746),vt=t(87965),k=t(65343),pt=t(32124),yt=t(89129),Xt=t(65094),It=t(53703),Nt=t(91266),le=t(53576),te=t(1498),bt=t(15550),Vt=t(81337),ut=t(81711);const re=["welcomeContentContainer"],Kt=["welcomeContent"];function jt(nt,_t){if(1&nt&&(n._UZ(0,"h1",15),n.ALo(1,"translate")),2&nt){const Et=n.oxw();n.Q6J("innerHTML",n.xi3(1,1,"oobe.gfnVersionText",Et.gfnVersionText),n.oJD)}}const Wt=function(nt){return{"gray-out":nt}};function oe(nt,_t){if(1&nt&&(n.TgZ(0,"div",16),n._UZ(1,"mat-icon",17),n.qZA()),2&nt){const Et=n.oxw();n.xp6(1),n.Q6J("ngClass",n.VKq(1,Wt,!Et.turnOnUpIndicator))}}function Qt(nt,_t){if(1&nt&&(n._UZ(0,"h1",15),n.ALo(1,"translate")),2&nt){const Et=n.oxw();n.Q6J("innerHTML",n.xi3(1,1,"oobe.gfnVersionText",Et.gfnVersionText),n.oJD)}}const Pt=function(nt){return{cookiePolicyLink:nt}};function Ut(nt,_t){if(1&nt&&(n._UZ(0,"p",10),n.ALo(1,"translate")),2&nt){const Et=n.oxw();n.Q6J("innerHTML",n.xi3(1,2,"oobe.oobeCookiePolicyText",n.VKq(5,Pt,Et.cookiePolicyLink)),n.oJD)("shortUrl",Et.cookiePolicyShortUrl)}}function Tt(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",18),n._UZ(1,"mat-divider"),n.TgZ(2,"mat-checkbox",19),n.NdJ("ngModelChange",function(v){n.CHM(Et);const et=n.oxw();return n.KtG(et.anonUserConsent=v)}),n._uU(3),n.ALo(4,"translate"),n.qZA()()}if(2&nt){const Et=n.oxw();n.xp6(2),n.Q6J("ngModel",Et.anonUserConsent),n.xp6(1),n.hij(" ",n.lcZ(4,2,"oobe.oobeAnonUserConsent")," ")}}function it(nt,_t){if(1&nt&&(n.TgZ(0,"div",16),n._UZ(1,"mat-icon",20),n.qZA()),2&nt){const Et=n.oxw();n.xp6(1),n.Q6J("ngClass",n.VKq(1,Wt,!Et.turnOnDownIndicator))}}const Mt=function(nt){return{privacyCenterLink:nt}},zt=function(nt){return{privacyPolicyLink:nt}},ft=function(nt){return{termsOfUseLink:nt}},ve=function(nt){return{"anon-user":nt}};let Ce=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me){this.oobeService=v,this.telemetryService=et,this.userConsentService=ht,this.oobeTelemetryService=Ot,this.gfnSdkService=Ft,this.guestModeHelperService=Ht,this.spatialNavigationService=ae,this.redirectService=Me,this.gfnVersionText={productVersion:""},this.privacyPolicyShortUrl=yt.hD[yt.hE.PrivacyPolicy],this.cookiePolicyShortUrl=yt.hD[yt.hE.CookiePolicy],this.termsOfUseShortUrl=yt.hD[yt.hE.TermsConditions],this.privacyCenterShortUrl=yt.hD[yt.hE.PrivacyCenter],this.welcomeContentViewed=!0,this.welcomeContentVisible=!0,this.anonUserConsent=!1,this.turnOnUpIndicator=!1,this.turnOnDownIndicator=!1,this.agreeButtonClick=new n.vpe,this.logger=r.getLogger("OobeWelcomeComponent"),this.isBrowserPlatform=s.ng.isBrowserPlatform(),this.isAnonUser$=this.guestModeHelperService.isGuestMode?(0,J.of)(!1):this.gfnSdkService.getIsAnonymousUser(),this.destroy$=new S.xQ}ngOnInit(){this.gfnVersionText.productVersion=this.oobeService.getProductVersion,this.parentScreen=this.telemetryService.getScreen(),this.telemetryService.setScreen(k.CGJ.ScreenOobeWelcome);const r=this.redirectService.getRedirectUrl(yt.hE.PrivacyPolicy).pipe((0,o.q)(1)),v=this.redirectService.getRedirectUrl(yt.hE.TermsConditions).pipe((0,o.q)(1)),et=this.redirectService.getRedirectUrl(yt.hE.CookiePolicy).pipe((0,o.q)(1)),ht=this.redirectService.getRedirectUrl(yt.hE.PrivacyCenter).pipe((0,o.q)(1));(0,st.$R)(r,v,et,ht).pipe((0,l.R)(this.destroy$)).subscribe(([Ot,Ft,Ht,ae])=>{const Me="font-body2-link";this.privacyPolicyLink=`href="${Ot}" class="${Me}"`,this.cookiePolicyLink=`href="${Ht}" class="${Me}"`,this.termsOfUseLink=`href="${Ft}" class="${Me} no-wrap"`,this.privacyCenterLink=`href="${ae}" class="${Me}"`}),this.userConsentService.getAnonUserConsentData().pipe((0,l.R)(this.destroy$)).subscribe(Ot=>{var Ft;this.anonUserConsent=(null===(Ft=Ot.userConsent)||void 0===Ft?void 0:Ft.technical)===h.p6.Full})}ngAfterViewInit(){this.spatialNavigationService.setStartingPoint(this.welcomeContentElement.nativeElement.firstElementChild),pt.g.onResize(this.welcomeContentElement.nativeElement).pipe((0,l.R)(this.destroy$)).subscribe(r=>this.checkIfWelcomeContentViewed())}onScrollWelcomeContent(){this.checkIfWelcomeContentViewed()}onOrientationChange(){this.welcomeContentContainerElement.nativeElement.scrollTop=0}checkIfWelcomeContentViewed(){const r=this.welcomeContentContainerElement.nativeElement.getBoundingClientRect(),v=this.welcomeContentElement.nativeElement.getBoundingClientRect(),et=r.bottom,Ft=v.bottom;this.welcomeContentVisible=Ft<=et&&v.top>=r.top,this.welcomeContentViewed=Ft<=et,this.tvMode&&(this.turnOnUpIndicator=!(this.welcomeContentVisible||0===this.welcomeContentContainerElement.nativeElement.scrollTop),this.turnOnDownIndicator=!this.welcomeContentVisible&&!this.welcomeContentViewed)}agreeAndContinue(){let r=null,v=null;this.logger.info("oobe, welcome screen - agree and continue clicked"),this.saveTermsSubscription=(0,lt.D)({saveTouResponse:this.oobeService.saveTermsOfUseAcceptedVersion(),isAnonUser:this.isAnonUser$}).pipe((0,gt.b)(et=>{this.logger.info("Success writing accepted version"+et.saveTouResponse),this.oobeTelemetryService.oobeCompleted=!0}),(0,vt.zg)(et=>(r=et.isAnonUser,et.isAnonUser?(this.logger.info("oobe welcome setAnonUserConsentData. TechnicalConsent="+this.anonUserConsent),v=this.anonUserConsent?h.ys:h.l3,this.userConsentService.setAnonUserConsentData(v)):(this.logger.event("oobe welcome setDefaultConsentData"),v=this.guestModeHelperService.isGuestMode?h.$P:h.l3,this.userConsentService.setDefaultConsentData(v))))).pipe((0,o.q)(1)).subscribe(()=>{this.logger.info("Successfully set default consent data"),this.oobeTelemetryService.sendOobeAcceptEvent(k.Ols.OobeAgreeAndContinue,r,v.technical),this.agreeButtonClick.emit()},et=>{this.logger.error("Failed to set default consent data",et)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.saveTermsSubscription&&this.saveTermsSubscription.unsubscribe(),this.telemetryService.setScreen(this.parentScreen)}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(Xt.H),n.Y36(h.y0),n.Y36(It.Z),n.Y36(Nt.u),n.Y36(le.s),n.Y36(te.h),n.Y36(R.jr),n.Y36(yt.VH))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-oobe-welcome"]],viewQuery:function(r,v){if(1&r&&(n.Gf(re,5),n.Gf(Kt,5)),2&r){let et;n.iGM(et=n.CRH())&&(v.welcomeContentContainerElement=et.first),n.iGM(et=n.CRH())&&(v.welcomeContentElement=et.first)}},hostBindings:function(r,v){1&r&&n.NdJ("orientationchange",function(){return v.onOrientationChange()},!1,n.Jf7)},inputs:{tvMode:"tvMode"},outputs:{agreeButtonClick:"agreeButtonClick"},decls:33,vars:44,consts:[["fxFlex","","fxLayout","column","nvSpatialNavigationContainer","","nvTrapFocus","",1,"container"],["fxFlex","1 0 0",1,"welcome-header-container"],[1,"header-logo"],["svgIcon","gfnBranding"],["class","font-header6",3,"innerHTML",4,"ngIf"],["class","indicator-icon","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","8 0 0","nvLongPressScroller","","orientation","vertical","reachBoundary","end",1,"welcome-content-container",3,"scroll"],["welcomeContentContainer",""],[1,"welcome-text","font-body2"],["welcomeContent",""],["cdkMonitorSubtreeFocus","",3,"innerHTML","shortUrl"],["cdkMonitorSubtreeFocus","",3,"innerHTML","shortUrl",4,"ngIf"],["fxFlex","none","fxLayout","column","class","anon-user-consent-container nv-hig",4,"ngIf"],[1,"welcome-footer-container",3,"ngClass"],["mat-raised-button","","id","agreeAndContinueButton",1,"oobe-action-button","font-button2",3,"nvFocusRipple","disabled","click"],[1,"font-header6",3,"innerHTML"],["fxLayout","row","fxLayoutAlign","center center",1,"indicator-icon"],["svgIcon","carrot_up",3,"ngClass"],["fxFlex","none","fxLayout","column",1,"anon-user-consent-container","nv-hig"],["fxLayoutFill","",1,"anon-user-consent-checkbox","font-body2",3,"ngModel","ngModelChange"],["svgIcon","carrot_down",3,"ngClass"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"mat-icon",3),n.qZA(),n.YNc(4,jt,2,4,"h1",4),n.YNc(5,oe,2,3,"div",5),n.qZA(),n.TgZ(6,"div",6,7),n.NdJ("scroll",function(){return v.onScrollWelcomeContent()}),n.YNc(8,Qt,2,4,"h1",4),n.TgZ(9,"div",8,9)(11,"p")(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA()(),n.TgZ(15,"p"),n._UZ(16,"span",10),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"p"),n._UZ(19,"span",10),n.ALo(20,"translate"),n.qZA(),n.YNc(21,Ut,2,7,"p",11),n.TgZ(22,"p"),n._UZ(23,"span",10),n.ALo(24,"translate"),n.qZA()()(),n.YNc(25,Tt,5,4,"div",12),n.ALo(26,"async"),n.TgZ(27,"div",13),n.ALo(28,"async"),n.YNc(29,it,2,3,"div",5),n.TgZ(30,"button",14),n.NdJ("click",function(){return v.agreeAndContinue()}),n._uU(31),n.ALo(32,"translate"),n.qZA()()()),2&r&&(n.xp6(4),n.Q6J("ngIf",!v.tvMode),n.xp6(1),n.Q6J("ngIf",v.tvMode),n.xp6(1),n.Udp("overflow-y",v.welcomeContentVisible?"hidden":"auto"),n.xp6(2),n.Q6J("ngIf",v.tvMode),n.xp6(5),n.Oqu(n.lcZ(14,19,"oobe.oobeStatement")),n.xp6(3),n.Q6J("innerHTML",n.xi3(17,21,"oobe.oobeText",n.VKq(36,Mt,v.privacyCenterLink)),n.oJD)("shortUrl",v.privacyCenterShortUrl),n.xp6(3),n.Q6J("innerHTML",n.xi3(20,24,"oobe.oobePrivacyText",n.VKq(38,zt,v.privacyPolicyLink)),n.oJD)("shortUrl",v.privacyPolicyShortUrl),n.xp6(2),n.Q6J("ngIf",v.isBrowserPlatform),n.xp6(2),n.Q6J("innerHTML",n.xi3(24,27,"oobe.agreeToTermsOfUse",n.VKq(40,ft,v.termsOfUseLink)),n.oJD)("shortUrl",v.termsOfUseShortUrl),n.xp6(2),n.Q6J("ngIf",n.lcZ(26,30,v.isAnonUser$)),n.xp6(2),n.Q6J("ngClass",n.VKq(42,ve,n.lcZ(28,32,v.isAnonUser$))),n.xp6(2),n.Q6J("ngIf",v.tvMode),n.xp6(1),n.Q6J("nvFocusRipple",!1)("disabled",!v.welcomeContentViewed),n.xp6(1),n.hij(" ",n.lcZ(32,34,"oobe.agreeAndContinue")," "))},dependencies:[e.mk,e.O5,L.JJ,L.On,b.xw,b.Wh,b.yH,I.oO,y.eB,bt.FC,M.d,q.Hw,P.N,Vt.xZ,K.E,B.e,tt.p,ut.VP,ot.g,F.kH,e.Ov,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.container[_ngcontent-%COMP%]{outline:none}.welcome-header-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:14px}.welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:none}.header-logo[_ngcontent-%COMP%]{width:fit-content;height:fit-content}.header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block;width:186px;height:56px}.welcome-text[_ngcontent-%COMP%]{color:#ffffffbf}.welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px;margin-top:14px;margin-bottom:14px}.welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-top:0}.anon-user-consent-container[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;margin-bottom:16px}.anon-user-consent-container[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-bottom:24px}.welcome-footer-container[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}.welcome-footer-container.anon-user[_ngcontent-%COMP%]{margin-top:36px}.welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{margin:8px 0;padding:0 8px;min-width:auto;height:36px;border:none;background-color:#393939;box-shadow:none}.isLtr[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{--dummy0: 0;float:left}.welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[disabled][_ngcontent-%COMP%]{background-color:#393939;opacity:.38}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.container[_ngcontent-%COMP%]{width:100%;height:100%}.header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:186px;height:auto}.welcome-footer-container[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;display:flex;align-items:center;justify-content:flex-end}}.tv-view[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{margin:56px 88px 60px}.tv-view[_nghost-%COMP%]   .header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100px;width:auto}.tv-view[_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:48px;width:48px}.tv-view[_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon.gray-out[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon.gray-out[_ngcontent-%COMP%]{color:#ffffff14}.tv-view[_nghost-%COMP%]   .welcome-header-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-header-container[_ngcontent-%COMP%]{margin-bottom:16px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]{width:1672px;height:587px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;margin-bottom:58px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,255,255,.16)}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track, .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(255,255,255,.08)}.tv-view[_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]{width:1200px}.tv-view[_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:inherit;margin-top:58px;margin-bottom:58px}.tv-view[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-bottom:0;flex:3 0 auto}.tv-view[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{padding:0 32px;height:72px;width:fit-content;align-self:center}"]}),_t})();var De=t(72524),ze=t(75435),$e=t(74258),Se=t(32875),ce=t(81351),ge=t(87815),qt=t(99709),Ct=t(31546),Gt=t(422),Zt=t(59397);function ee(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.closeClicked())}),n.TgZ(1,"mat-icon",16),n._uU(2,"close"),n.qZA()()}}function _e(nt,_t){if(1&nt&&(n.TgZ(0,"div",10)(1,"div",11)(2,"h1",12),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.TgZ(5,"div",13),n.YNc(6,ee,3,0,"button",14),n.qZA()()),2&nt){const Et=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"common.gfn")),n.xp6(3),n.Q6J("ngIf",Et.closeButtonVisible)}}function Ie(nt,_t){1&nt&&n._UZ(0,"img",17)}const Je=function(nt,_t){return[nt,_t]};let qe=(()=>{var nt;class _t{constructor(r,v,et){var ht;this.ecommerceService=v,this.spatialNavigationService=et,this.primaryButtonClicked=new n.vpe,this.closeButtonClicked=new n.vpe,this.showLoadingOnContinue=!1,this.closeButtonVisible=!0,this.destroy$=new S.xQ,this.closeButtonVisible=!(null!=r&&null!==(ht=r.featureEnablement)&&void 0!==ht&&ht.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.membershipUpdateProgressDialog.title",this.description=this.ecommerceService.isDayPassSubscription?"ecommerce.membershipUpdateProgressDialog.compactDialogDescription":"ecommerce.membershipUpdateProgressDialog.description"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){const r=document.getElementsByClassName("membership-options-link"),v=(null==r?void 0:r.length)>0?r[0]:void 0;v&&this.spatialNavigationService.onClick(v).pipe((0,l.R)(this.destroy$)).subscribe(et=>{et&&this.ecommerceService.openUpgradeMemberShipPage(ce.CGJ.ScreenJoinGfnDialog,Se.D7.MembershipUpdateProgressEcomUIState)})}continueClicked(){this.showLoadingOnContinue=!0,this.ecommerceService.refreshUsersEntitlement(),this.primaryButtonClicked.emit()}closeClicked(){this.closeButtonClicked.emit()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(ge.VK),n.Y36(qt.B),n.Y36(R.jr))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-membership-update-progress"]],inputs:{data:"data"},outputs:{primaryButtonClicked:"primaryButtonClicked",closeButtonClicked:"closeButtonClicked"},decls:18,vars:21,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","",1,"font-button2",3,"click"],["mat-raised-button","","nvProgressCircular","","nvAutoFocus","",1,"font-button2","mat-accent",3,"isVisible","click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,_e,7,4,"div",1),n.TgZ(2,"div",2),n.YNc(3,Ie,1,0,"img",3),n.TgZ(4,"div",4)(5,"h2",5),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"span",6),n.ALo(9,"trustAsHtml"),n.ALo(10,"translate"),n.qZA()(),n.TgZ(11,"div",7)(12,"button",8),n.NdJ("click",function(){return v.closeClicked()}),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"button",9),n.NdJ("click",function(){return v.continueClicked()}),n._uU(16),n.ALo(17,"translate"),n.qZA()()()),2&r&&(n.Q6J("ngClass",n.WLB(18,Je,v.data.isStreamerApp?"main-content-streamer":"main-content-mall",v.data.isCompactDialog?"compact-dialog-wrapper":"")),n.xp6(1),n.Q6J("ngIf",!v.data.isStreamerApp&&!v.data.isCompactDialog),n.xp6(2),n.Q6J("ngIf",!v.data.isCompactDialog),n.xp6(3),n.Oqu(n.lcZ(7,8,v.dialogTitle)),n.xp6(2),n.Q6J("innerHTML",n.lcZ(9,10,n.lcZ(10,12,v.description)),n.oJD),n.xp6(5),n.hij(" ",n.lcZ(14,14,"common.close")," "),n.xp6(2),n.Q6J("isVisible",v.showLoadingOnContinue),n.xp6(1),n.hij(" ",n.lcZ(17,16,"common.continue")," "))},dependencies:[b.xw,b.Wh,b.s9,b.yH,I.oO,x.uh,q.Hw,y.eB,e.mk,e.O5,P.N,K.E,Ct.h,tt.p,Gt.W,ut.VP,Zt.D,U.W,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}.compact-dialog-wrapper[_ngcontent-%COMP%], .compact-dialog-wrapper[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:100%}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),_t})();function bn(nt,_t){1&nt&&(n.TgZ(0,"div",10),n._UZ(1,"div",11),n.qZA())}const kn=function(nt){return[nt]};let wn=(()=>{var nt;class _t{constructor(r){this.localeService=r,this.closeButtonClicked=new n.vpe,this.serverStatusShortUrl=yt.hD[yt.hE.GfnServerStatus]}ngOnInit(){this.localeSubscription=this.localeService.localeChanged.subscribe(r=>{this.serverStatusUrl=yt.hE.BaseUrl+r+"&page="+yt.hE.GfnServerStatus})}closeClicked(){this.closeButtonClicked.emit()}ngOnDestroy(){this.localeSubscription&&this.localeSubscription.unsubscribe()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.OL))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-membership-refresh-error"]],inputs:{data:"data"},outputs:{closeButtonClicked:"closeButtonClicked"},decls:17,vars:15,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","","fxLayout","column"],["fxLayoutAlign","center center",1,"dialog-art"],["fontSet","nv-custom-icons","fontIcon","icon-alert-circle_reg",1,"nv-custom-icons","membership-error-icon"],[1,"dialog-content","membership-error-text"],[1,"font-body2"],["target","_blank",1,"font-body2-link",3,"href","shortUrl"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","nvAutoFocus","",1,"font-button1",3,"click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","end center"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,bn,2,0,"div",1),n.TgZ(2,"div",2)(3,"div",3),n._UZ(4,"mat-icon",4),n.qZA(),n.TgZ(5,"div",5)(6,"h2",6),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"a",7),n._uU(10),n.ALo(11,"translate"),n.qZA()()(),n.TgZ(12,"div",8)(13,"button",9),n.NdJ("click",function(){return v.closeClicked()}),n.TgZ(14,"span"),n._uU(15),n.ALo(16,"translate"),n.qZA()()()()),2&r&&(n.Q6J("ngClass",n.VKq(13,kn,v.data.isStreamerApp?"main-content-streamer":"main-content-mall")),n.xp6(1),n.Q6J("ngIf",!v.data.isStreamerApp),n.xp6(6),n.Oqu(n.lcZ(8,7,"common.genericLoadError")),n.xp6(2),n.Q6J("href",v.serverStatusUrl,n.LSH)("shortUrl",v.serverStatusShortUrl),n.xp6(1),n.hij(" ",n.lcZ(11,9,"common.viewServerStatus")," "),n.xp6(5),n.Oqu(n.lcZ(16,11,"common.close")))},dependencies:[b.xw,b.Wh,b.s9,b.yH,I.oO,q.Hw,y.eB,e.mk,e.O5,P.N,K.E,Ct.h,tt.p,Zt.D,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}.compact-dialog-wrapper[_ngcontent-%COMP%], .compact-dialog-wrapper[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:100%}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}.membership-error-icon[_ngcontent-%COMP%]{padding:80px 0 0;margin:0 auto 86px;font-size:80px;width:100%;height:178px;line-height:1;display:block;text-align:center;box-sizing:border-box}.membership-error-text[_ngcontent-%COMP%]{text-align:center}"]}),_t})();function On(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",13)(1,"button",14),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.closeClicked())}),n.TgZ(2,"mat-icon",15),n._uU(3,"close"),n.qZA()()()}}function Ln(nt,_t){if(1&nt&&(n.TgZ(0,"div",9)(1,"div",10)(2,"h1",11),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.YNc(5,On,4,0,"div",12),n.qZA()),2&nt){const Et=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"common.gfn")),n.xp6(2),n.Q6J("ngIf",Et.closeButtonVisible)}}function yn(nt,_t){1&nt&&n._UZ(0,"img",16)}const Pe=function(nt,_t){return[nt,_t]};let Ue=(()=>{var nt;class _t{constructor(r,v,et){var ht;this.ecommerceService=v,this.spatialNavigationService=et,this.closeButtonClicked=new n.vpe,this.closeButtonVisible=!0,this.destroy$=new S.xQ,this.closeButtonVisible=!(null!=r&&null!==(ht=r.featureEnablement)&&void 0!==ht&&ht.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.membershipNotUpdatedDialog.title",this.description="ecommerce.membershipNotUpdatedDialog.description"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){const r=document.getElementsByClassName("membership-status-link"),v=(null==r?void 0:r.length)>0?r[0]:void 0;v&&this.spatialNavigationService.onClick(v).pipe((0,l.R)(this.destroy$)).subscribe(et=>{et&&this.ecommerceService.openAccountManagementPage(k.CGJ.ScreenJoinGfnDialog,Se.D7.MembershipNotUpdatedEcomUIState)})}closeClicked(){this.closeButtonClicked.emit()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(ge.VK),n.Y36(qt.B),n.Y36(R.jr))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-membership-not-updated"]],inputs:{data:"data"},outputs:{closeButtonClicked:"closeButtonClicked"},decls:16,vars:17,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","nvAutoFocus","",1,"font-button2",3,"click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Ln,6,4,"div",1),n.TgZ(2,"div",2),n.YNc(3,yn,1,0,"img",3),n.TgZ(4,"div",4)(5,"h2",5),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"span",6),n.ALo(9,"trustAsHtml"),n.ALo(10,"translate"),n.qZA()(),n.TgZ(11,"div",7)(12,"button",8),n.NdJ("click",function(){return v.closeClicked()}),n.TgZ(13,"span"),n._uU(14),n.ALo(15,"translate"),n.qZA()()()()),2&r&&(n.Q6J("ngClass",n.WLB(14,Pe,v.data.isStreamerApp?"main-content-streamer":"main-content-mall",v.data.isCompactDialog?"compact-dialog-wrapper":"")),n.xp6(1),n.Q6J("ngIf",!v.data.isStreamerApp&&!v.data.isCompactDialog),n.xp6(2),n.Q6J("ngIf",!v.data.isCompactDialog),n.xp6(3),n.Oqu(n.lcZ(7,6,v.dialogTitle)),n.xp6(2),n.Q6J("innerHTML",n.lcZ(9,8,n.lcZ(10,10,v.description)),n.oJD),n.xp6(6),n.Oqu(n.lcZ(15,12,"common.close")))},dependencies:[b.xw,b.Wh,b.s9,b.yH,I.oO,x.uh,q.Hw,y.eB,e.mk,e.O5,P.N,K.E,Ct.h,tt.p,Zt.D,U.W,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}.compact-dialog-wrapper[_ngcontent-%COMP%], .compact-dialog-wrapper[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:100%}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),_t})();function Ae(nt,_t){if(1&nt&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,Et.data.header)," ")}}let we=(()=>{var nt;class _t{constructor(r,v){this.dialogRef=r,this.data=v}ngOnInit(){}close(){this.dialogRef.close()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(x.so),n.Y36(x.WI))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-confirmation-dialog"]],decls:10,vars:10,consts:[["fxLayout","column","fxLayoutAlign","space-between stretch","nvBackToCloseModal","",1,"confirmation-dialog"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","flex-end center"],["mat-button","","color","accent",1,"mat-raised-button","mat-accent","color-white-important",3,"click"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Ae,3,3,"p",1),n.TgZ(2,"p",2),n._UZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"div",3)(7,"button",4),n.NdJ("click",function(){return v.close()}),n._uU(8),n.ALo(9,"translate"),n.qZA()()()),2&r&&(n.xp6(1),n.Q6J("ngIf",v.data.header),n.xp6(2),n.Gre("nv-custom-icons ",v.data.iconClass,""),n.xp6(1),n.hij(" ",n.lcZ(5,6,v.data.message)," "),n.xp6(4),n.hij(" ",n.lcZ(9,8,v.data.closeButtonText)," "))},dependencies:[e.O5,y.eB,b.xw,b.Wh,j.u,ut.VP,f.X$],styles:[".confirmation-dialog span.nv-custom-icons{font-size:20px}:host-context(.isLtr) .confirmation-dialog span.nv-custom-icons{margin-right:10px}html[dir=ltr] .confirmation-dialog span.nv-custom-icons{--dummy4: 0;margin-right:10px}:host-context(.isRtl) .confirmation-dialog span.nv-custom-icons{margin-left:10px}html[dir=rtl] .confirmation-dialog span.nv-custom-icons{--dummy4: 0;margin-left:10px}.confirmation-dialog-set-background .mat-mdc-dialog-container{background:#1f2224}\n"],encapsulation:2}),_t})(),We=(()=>{var nt;class _t{constructor(r,v){this.matDialog=r,this.focusManager=v}open(r){return r.panelClass="confirmation-dialog-set-background",r.enterAnimationDuration="0ms",this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(we,r))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(x.uw),n.LFG(R.IK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();function Xe(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.closeClicked())}),n.TgZ(1,"mat-icon",16),n._uU(2,"close"),n.qZA()()}}function Gn(nt,_t){if(1&nt&&(n.TgZ(0,"div",10)(1,"div",11)(2,"h1",12),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.TgZ(5,"div",13),n.YNc(6,Xe,3,0,"button",14),n.qZA()()),2&nt){const Et=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"common.gfn")),n.xp6(3),n.Q6J("ngIf",Et.closeButtonVisible)}}function Yn(nt,_t){1&nt&&n._UZ(0,"img",17)}const ye=function(nt,_t){return[nt,_t]};let Ye=(()=>{var nt;class _t{constructor(r,v){var et;this.ecommerceService=v,this.primaryButtonClicked=new n.vpe,this.closeButtonClicked=new n.vpe,this.showLoadingOnContinue=!1,this.closeButtonVisible=!0,this.closeButtonVisible=!(null!=r&&null!==(et=r.featureEnablement)&&void 0!==et&&et.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.playtimeAddProgressDialog.title",this.description="ecommerce.membershipUpdateProgressDialog.compactDialogDescription"}continueClicked(){this.showLoadingOnContinue=!0,this.ecommerceService.refreshUsersEntitlement(),this.primaryButtonClicked.emit()}closeClicked(){this.closeButtonClicked.emit()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(ge.VK),n.Y36(qt.B))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtime-update-progress"]],inputs:{data:"data"},outputs:{primaryButtonClicked:"primaryButtonClicked",closeButtonClicked:"closeButtonClicked"},decls:18,vars:21,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","",1,"font-button2",3,"click"],["mat-raised-button","","nvProgressCircular","","nvAutoFocus","",1,"font-button2","mat-accent",3,"isVisible","click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Gn,7,4,"div",1),n.TgZ(2,"div",2),n.YNc(3,Yn,1,0,"img",3),n.TgZ(4,"div",4)(5,"h2",5),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"span",6),n.ALo(9,"trustAsHtml"),n.ALo(10,"translate"),n.qZA()(),n.TgZ(11,"div",7)(12,"button",8),n.NdJ("click",function(){return v.closeClicked()}),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"button",9),n.NdJ("click",function(){return v.continueClicked()}),n._uU(16),n.ALo(17,"translate"),n.qZA()()()),2&r&&(n.Q6J("ngClass",n.WLB(18,ye,v.data.isStreamerApp?"main-content-streamer":"main-content-mall",v.data.isCompactDialog?"compact-dialog-wrapper":"")),n.xp6(1),n.Q6J("ngIf",!v.data.isStreamerApp&&!v.data.isCompactDialog),n.xp6(2),n.Q6J("ngIf",!v.data.isCompactDialog),n.xp6(3),n.Oqu(n.lcZ(7,8,v.dialogTitle)),n.xp6(2),n.Q6J("innerHTML",n.lcZ(9,10,n.lcZ(10,12,v.description)),n.oJD),n.xp6(5),n.hij(" ",n.lcZ(14,14,"common.close")," "),n.xp6(2),n.Q6J("isVisible",v.showLoadingOnContinue),n.xp6(1),n.hij(" ",n.lcZ(17,16,"common.continue")," "))},dependencies:[b.xw,b.Wh,b.s9,b.yH,I.oO,x.uh,q.Hw,y.eB,e.mk,e.O5,P.N,K.E,Ct.h,tt.p,Gt.W,ut.VP,Zt.D,U.W,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}.compact-dialog-wrapper[_ngcontent-%COMP%], .compact-dialog-wrapper[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:100%}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),_t})();function ue(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",13)(1,"button",14),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.closeClicked())}),n.TgZ(2,"mat-icon",15),n._uU(3,"close"),n.qZA()()()}}function Lt(nt,_t){if(1&nt&&(n.TgZ(0,"div",9)(1,"div",10)(2,"h1",11),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.YNc(5,ue,4,0,"div",12),n.qZA()),2&nt){const Et=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"common.gfn")),n.xp6(2),n.Q6J("ngIf",Et.closeButtonVisible)}}function kt(nt,_t){1&nt&&n._UZ(0,"img",16)}const rt=function(nt,_t){return[nt,_t]};let he=(()=>{var nt;class _t{constructor(r,v,et){var ht;this.ecommerceService=v,this.spatialNavigationService=et,this.closeButtonClicked=new n.vpe,this.closeButtonVisible=!0,this.destroy$=new S.xQ,this.closeButtonVisible=!(null!=r&&null!==(ht=r.featureEnablement)&&void 0!==ht&&ht.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.playtimeNotUpdatedDialog.title",this.description="ecommerce.playtimeNotUpdatedDialog.description"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){const r=document.getElementsByClassName("account-status-link"),v=(null==r?void 0:r.length)>0?r[0]:void 0;v&&this.spatialNavigationService.onClick(v).pipe((0,l.R)(this.destroy$)).subscribe(et=>{et&&this.ecommerceService.openAccountManagementPage(k.CGJ.ScreenJoinGfnDialog,Se.D7.MembershipTimeNotUpdatedEcomUIState)})}closeClicked(){this.closeButtonClicked.emit()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(ge.VK),n.Y36(qt.B),n.Y36(R.jr))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtime-not-updated"]],inputs:{data:"data"},outputs:{closeButtonClicked:"closeButtonClicked"},decls:16,vars:17,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","nvAutoFocus","",1,"font-button2",3,"click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Lt,6,4,"div",1),n.TgZ(2,"div",2),n.YNc(3,kt,1,0,"img",3),n.TgZ(4,"div",4)(5,"h2",5),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"span",6),n.ALo(9,"trustAsHtml"),n.ALo(10,"translate"),n.qZA()(),n.TgZ(11,"div",7)(12,"button",8),n.NdJ("click",function(){return v.closeClicked()}),n.TgZ(13,"span"),n._uU(14),n.ALo(15,"translate"),n.qZA()()()()),2&r&&(n.Q6J("ngClass",n.WLB(14,rt,v.data.isStreamerApp?"main-content-streamer":"main-content-mall",v.data.isCompactDialog?"compact-dialog-wrapper":"")),n.xp6(1),n.Q6J("ngIf",!v.data.isStreamerApp&&!v.data.isCompactDialog),n.xp6(2),n.Q6J("ngIf",!v.data.isCompactDialog),n.xp6(3),n.Oqu(n.lcZ(7,6,v.dialogTitle)),n.xp6(2),n.Q6J("innerHTML",n.lcZ(9,8,n.lcZ(10,10,v.description)),n.oJD),n.xp6(6),n.Oqu(n.lcZ(15,12,"common.close")))},dependencies:[b.xw,b.Wh,b.s9,b.yH,I.oO,x.uh,q.Hw,y.eB,e.mk,e.O5,P.N,K.E,Ct.h,tt.p,Zt.D,U.W,f.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}.compact-dialog-wrapper[_ngcontent-%COMP%], .compact-dialog-wrapper[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:100%}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),_t})(),Ge=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[i.o9,x.Is,q.Ps,y.yu,M.t,a.Cq,e.ez,H,s.it,f.aw.forChild(),R.hp]}),_t})();n.B6R($e.U,function(){return[b.xw,b.s9,b.yH,I.oO,e.mk,e.RF,e.n9,B.e,j.u,ze.I,qe,wn,Ue,Ye,he]},[]);var G=t(60989);let at=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[x.Is,q.Ps,y.yu,a.Cq,e.ez,f.aw,i.o9,G.Nh,R.hp]}),_t})();var St=t(73725);let wt=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[i.o9,St.N,x.Is,q.Ps,y.yu,M.t,a.Cq,e.ez,H,s.it,f.aw.forChild(),R.hp]}),_t})(),Yt=(()=>{var nt;class _t{constructor(r){this.logger=r.getLogger("FullScreenOverlayComponent"),this.logger.info("Full Screen Overlay Initialized")}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-full-screen-overlay"]],inputs:{fullScreenOverlayText:"fullScreenOverlayText"},decls:5,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"overlay-container"],[1,"message-div"],[1,"message-text","font-header6"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"span",2),n._uU(3),n.ALo(4,"translate"),n.qZA()()()),2&r&&(n.xp6(3),n.Oqu(n.lcZ(4,1,v.fullScreenOverlayText)))},dependencies:[f.X$],styles:[".overlay-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);height:100%;width:100%}.message-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.message-text[_ngcontent-%COMP%]{max-width:80%;display:flex;align-items:center;justify-content:center;text-align:center}[_nghost-%COMP%]{width:100%}"]}),_t})(),se=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,f.aw.forChild()]}),_t})();var fe=t(95787),Re=t(92106);let Ee=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,d.Q,i.o9,x.Is,fe.To,bt.Zh,Re.Fk,R.hp,f.aw.forChild()]}),_t})();t(22006);var xe=t(99978),an=t(15598);let Be=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,L.u5,i.o9,d.Q,f.aw.forChild(),A,Ge,at,wt,s.it,R.hp,F.rt,se,a.Cq,e.ez,L.u5,$.E,H,Ge,at,Ee]}),_t})();n.B6R(De.C,function(){return[Ce]},[]);var ln=t(43818),tn=t(79993),Kn=t(24122),$n=t(77299),mn=t(78182),fn=t(93005),Rn=t(33994),nn=t(58175),qn=t(47927);let hi=(()=>{var nt;class _t{constructor(r,v){this.experienceControlService=v,this.logger=r.getLogger("shared/Experience-Ipc")}getCloudVariable(r,v={},et,ht,Ot,Ft){return this.experienceControlService.getCloudVariable(r,v,et,ht,Ot,Ft).pipe((0,gt.b)(Ht=>{}),(0,nn.K)(Ht=>(0,Rn._)(Ht)))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(qn.Q6))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Sn=t(90220),li=t(63071),An=t(24642),Nn=t(49481),Vn=t(5717),Ci=t(680),Ve=t(47422),ri=t(36520),En=t(85046),dn=t(78943),Zn=t(42740),ei=function(nt){return nt[nt.Recommended=1]="Recommended",nt[nt.Required=2]="Required",nt[nt.Critical=3]="Critical",nt}(ei||{}),bi=function(nt){return nt.Recommended="recommended",nt.Required="required",nt.Critical="critical",nt}(bi||{}),Li=function(nt){return nt[nt.Success=0]="Success",nt[nt.SubAppRunning=1]="SubAppRunning",nt[nt.Failed=2]="Failed",nt}(Li||{});const io="updateData";var Jt=t(64836),Bt=t(27947);function ne(nt,_t){1&nt&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"common.updateRequiredDescription")))}function xt(nt,_t){1&nt&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"common.updateRequiredDescription")))}let de=(()=>{var nt;class _t{constructor(r){this.router=r,this.isMall=!(0,Jt.wI)(this.router.url)}ngOnInit(){}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(Bt.F0))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-update-in-progress"]],decls:4,vars:2,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center",1,"main-content"],[4,"ngIf"],["diameter","60","mode","indeterminate",1,"mat-accent"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0),n.YNc(1,ne,3,3,"span",1),n.YNc(2,xt,3,3,"span",1),n._UZ(3,"mat-spinner",2),n.qZA()),2&r&&(n.xp6(1),n.Q6J("ngIf",v.isMall),n.xp6(1),n.Q6J("ngIf",!v.isMall))},dependencies:[a.Ou,e.O5,b.xw,b.Wh,b.yH,f.X$],styles:[".main-content{width:470px;height:240px}.main-content .dialog-content{padding:24px;height:302px}.main-content .dialog-content>h2{margin-top:0}.main-content mat-spinner{margin-top:20px}.mat-mdc-dialog-container{padding:0;border-radius:0}\n"],encapsulation:2}),_t})();var pe=t(77869);const Te="command-line";var mi,Ke=function(nt){return nt.InstallationFailure="InstallationFailure",nt.UpdateCheckFailure="UpdateCheckFailure",nt.DownloadFailure="DownloadFailure",nt}(Ke||{}),xn=t(82301),ni=t(15665);class ci{constructor(_t,Et,r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke){this.ipcService=_t,this.nativeEventService=v,this.sharedStorage=et,this.telemetry=ht,this.telemetryUtilService=Ot,this.bridgeService=Ft,this.systemInfoService=Ht,this.dialog=ae,this.focusManager=Me,this.genericDialog=Ne,this.redirectService=ke,this.firstRunAfterMajorUpdate=!1,this.firstRunAfterMajorUpdateObservable=new Nn.t(1),this.initialAppVersion=null,this.logger=Et.getLogger("updateService"),this.updateEventStream=new pe.Gb(()=>(this.updateInternalSubject=new S.xQ,this.updateInternalSubject.asObservable()),!1),this.baseVersion=new Zn.b((0,ge.sc)(r)),this.updateChannel=r.selfUpdate.serverChannel,this.wasUpdatedFromUI=!1,this.updateStartTimestamp=0,this.registerForIpcMessages(),this.registerForWindowEvents(),this.readPreviousVersion().pipe((0,gt.b)(Ze=>{this.previousVersion=Ze||ci.zeroVersion}),(0,vt.zg)(this.storeCurrentVersion.bind(this)),(0,vt.zg)(this.isFirstRunAfterUpdate.bind(this)),(0,vt.zg)(Ze=>Ze?this.telemetryUtilService.getAppLaunchTelemetryObservable():(0,J.of)(!1)),(0,vt.zg)(Ze=>Ze?this.sendAppLaunchTelemetry(this.previousVersion):(0,J.of)(null))).subscribe(Vn.Z,Ze=>{this.logger.error("Received error while reading and updating stored version: ",Ze)},()=>{this.logger.info("Completed reading and updating stored version")}),this.pendingGameLaunchSubject=new Nn.t(1),this.osType$=this.systemInfoService.getDeviceOSType().pipe((0,o.q)(1),(0,Ci.d)(1))}registerForIpcMessages(){this.ipcSubscriptions?(this.ipcSubscriptions.forEach((Et,r)=>{Et.unsubscribe(),this.logger.info("Unregistering for ipc event: ",r)}),this.ipcSubscriptions.clear()):this.ipcSubscriptions=new Map,this.logger.info("Registering for ipc events");const _t=(Et,r)=>this.ipcService.get$(Et).pipe((0,vt.zg)(v=>(this.logger.info("IPC event call for version",v),this.isUpdateAvailable$().pipe((0,Ve.U)(et=>(this.logger.info("IPC update available response:",et),et)),(0,nn.K)(et=>(this.errorUpdate("Received error when handling ipc update: "+et),this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),k.YwJ.Error,"Error on IPC event: "+et),(0,J.of)(!1)))))),(0,nn.K)(v=>(this.logger.error("Received error on ipc type "+Et+": ",v),this.registerForIpcMessages(),(0,J.of)(!1)))).subscribe();this.ipcSubscriptions.set(fn.oI.SelfUpdate,_t(fn.oI.SelfUpdate)),this.ipcSubscriptions.set(fn.oI.RecommendedUpdate,_t(fn.oI.RecommendedUpdate)),this.ipcSubscriptions.set(fn.oI.RequiredUpdate,_t(fn.oI.RequiredUpdate)),this.ipcSubscriptions.set(fn.oI.CriticalUpdate,_t(fn.oI.CriticalUpdate))}registerForWindowEvents(){this.windowEventSubscriptions?(this.windowEventSubscriptions.forEach((v,et)=>{v.unsubscribe(),this.logger.info("Unregistering for window event: ",et)}),this.windowEventSubscriptions.clear()):this.windowEventSubscriptions=new Map,this.logger.info("Registering for window events");const _t=this.nativeEventService.get$(s.Nx.SelfUpdate,s.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(v=>{try{const et=this.validateUpdateData(this.parseUpdateData(v));(0,C.isNil)(et)||this.handleIncomingUpdate(et)}catch(et){this.errorUpdate(et),this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),k.YwJ.UpdateFailure,et.toString())}},v=>{this.logger.error("Received error from window event "+s.Nx.SelfUpdate+": ",v),this.registerForWindowEvents()});this.windowEventSubscriptions.set(s.Nx.SelfUpdate,_t);const Et=this.nativeEventService.get$(s.Nx.StoredCommandLine,s.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(v=>{let et;try{et=JSON.parse(v)}catch{return void this.logger.error("Invalid object raised as stored command line: ",v)}(0,C.isNil)(et[Te])?this.logger.error("Update command line event raised without data or command-line value: ",et):this.handlePostUpdateCommandLine(et[Te])},v=>{this.logger.error("Received error from window event "+s.Nx.StoredCommandLine+": ",v),this.registerForWindowEvents()});this.windowEventSubscriptions.set(s.Nx.StoredCommandLine,Et);const r=this.nativeEventService.get$(s.Nx.UpdateInitiated,s.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),k.YwJ.UpdateInitiated,null,0,{immediateRequest:!0}),this.showUpdateInProgressDialog()},v=>{this.logger.error("Received error from window event "+s.Nx.UpdateInitiated+": ",v),this.registerForWindowEvents()});this.windowEventSubscriptions.set(s.Nx.UpdateInitiated,r)}getUpdates$(){return this.updateEventStream.get$()}getPendingGameLaunch$(){return this.pendingGameLaunchSubject.asObservable()}recordUpdateFromUI$(){return this.appendUpdateData({updateFromJS:!0})}updateApplication$(_t=!1){return this.appendUpdateData({updateFromJS:!0,updateFromStreamer:_t,updateStartTimestamp:Date.now()}).pipe((0,ri.w)(()=>this.bridgeService.executeCommand(xn.B.GfnUpdate)),(0,Ve.U)(Et=>Et),(0,gt.b)(Et=>{(0,C.isNil)(Et)||(0,C.isNil)(Et.status)?this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),k.YwJ.Error,"Error running update query, invalid result or status"):Et.status!==Li.Success&&this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),k.YwJ.Error,"Error status returned from update query: "+Et.status)}))}showUpdateInProgressDialog(){const _t={disableClose:!0,autoFocus:!0,panelClass:["confirmation-dialog-set-background","nv-overlay-panel"]};return this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(de,_t))}getUpdateData$(){return this.bridgeService.executeCommand(dn.Gh.Common.Update.ReadTicket,{}).pipe((0,Ve.U)(_t=>{try{return this.validateUpdateData(_t)}catch(Et){throw this.logger.error("Error when processing ReadTicket result: ",Et),new Error(Et)}}),(0,nn.K)(_t=>(this.logger.error("Error reading update ticket data",_t),(0,J.of)(null))))}getAvailableUpdate$(){return this.getUpdateData$().pipe((0,Ve.U)(_t=>(this.handleIncomingUpdate(_t),this.pendingUpdate)))}isUpdateAvailable$(){return this.getAvailableUpdate$().pipe((0,Ve.U)(_t=>!(0,C.isNil)(_t)))}updateRequiredOnLaunch$(){return this.getAvailableUpdate$().pipe((0,Ve.U)(_t=>(0,C.get)(_t,"severity",ei.Recommended)>ei.Recommended))}isFirstAppRunAfterMajorUpdate$(){return this.firstRunAfterMajorUpdateObservable.asObservable()}parseUpdateData(_t){let Et;try{Et=JSON.parse(_t)}catch{const v="Update ticket raised with improper JSON: "+_t;throw this.logger.error(v),new Error(v)}if((0,C.isNil)(_t)||(0,C.isNil)(Et)){const r="Update ticket raised with null data: "+_t;throw this.logger.error(r),new Error(r)}return Et}validateUpdateData(_t){if((0,C.isNil)(_t)){const r="validateUpdateData called with null updateData";throw this.logger.error(r),new Error(r)}if(!_t.available||(0,C.isNil)(_t.severity)||(0,C.isNil)(_t.version))return this.logger.info("No update available"),null;const Et=function Wi(nt){switch(nt){case bi.Recommended:return ei.Recommended;case bi.Required:return ei.Required;case bi.Critical:return ei.Critical;default:return null}}(_t.severity);if((0,C.isNil)(Et)){const r="Unrecognized update severity: "+_t.severity;throw this.logger.error(r),new Error(r)}return{version:new Zn.b(_t.version),severity:Et}}isUpdateAccepted(_t){if((0,C.isNil)(_t))return!1;if((0,C.isNil)(this.pendingUpdate))return this.baseVersion.compare(_t.version)===Zn.A.Greater;switch(this.pendingUpdate.version.compare(_t.version)){case Zn.A.Greater:return!0;case Zn.A.Lesser:return this.logger.info("Checked update has a lower version than current pending update: "+this.updateDataToString(_t)+" < "+this.updateDataToString(this.pendingUpdate)),!1;case Zn.A.Equal:return _t.severity>this.pendingUpdate.severity||(this.logger.info("Raised update has equal version and lesser or equal severity as current pending update: "+this.updateDataToString(_t)+" <= "+this.updateDataToString(this.pendingUpdate)),!1)}return!1}handleIncomingUpdate(_t){this.isUpdateAccepted(_t)?this.acceptUpdate(_t):this.ignoreUpdate(_t)}acceptUpdate(_t){this.logger.info("Accepting new update data: ",_t),this.pendingUpdate=_t,this.updateInternalSubject.next(this.pendingUpdate),this.sendAppUpdateTelemetry(this.baseVersion,_t.version,k.YwJ.IPCReceived)}errorUpdate(_t){const Et="Raising error when processing update: "+_t;this.logger.error(Et),this.updateInternalSubject.error(Et)}ignoreUpdate(_t){this.logger.info("Ignoring update data: ",_t)}updateDataToString(_t){return(0,C.isNil)(_t)?"undefined":_t.version+":("+_t.severity+")"}readUpdateData(){return this.sharedStorage.readBlock(io)}writeUpdateData(_t){return this.sharedStorage.writeBlock(io,_t)}appendUpdateData(_t){return this.readUpdateData().pipe((0,vt.zg)(Et=>{(0,C.isNil)(_t)&&(Et={});const r={...Et,..._t};return this.writeUpdateData(r)}))}isFirstRunAfterUpdate(){return this.readPreviousVersion().pipe((0,gt.b)(_t=>{this.firstRunAfterMajorUpdate=this.baseVersion.compareMajorVersion(_t)===Zn.A.Lesser,this.firstRunAfterMajorUpdateObservable.next(this.firstRunAfterMajorUpdate&&!this.isFirstApplicationInstall(_t))}),(0,Ve.U)(_t=>this.baseVersion.compare(_t)===Zn.A.Lesser))}isFirstApplicationInstall(_t){return _t.compare(ci.zeroVersion)===Zn.A.Equal}storeCurrentVersion(){const _t={currentVersion:this.baseVersion.toString()};return this.isFirstApplicationInstall(this.previousVersion)&&(_t.initialAppVersion=Zn.b.getPaddedFourOctetVersion(this.baseVersion.toString())),this.appendUpdateData(_t)}getInitialVersion(){return this.initialAppVersion?(0,J.of)(this.initialAppVersion):this.readUpdateData().pipe((0,Ve.U)(_t=>{const Et=null==_t?void 0:_t.initialAppVersion;return this.initialAppVersion=Et&&new Zn.b(Et)||ci.zeroVersion,this.initialAppVersion}))}readPreviousVersion(){return(0,C.isNil)(this.previousVersion)?((0,C.isNil)(this.readPreviousVersionOb$)&&(this.readPreviousVersionOb$=this.readUpdateData().pipe((0,Ve.U)(_t=>{if((0,C.isNil)(_t))this.logger.info("No update data found in shared storage");else{this.wasUpdatedFromUI=(0,C.get)(_t,"updateFromJS",!1),this.updateStartTimestamp=(0,C.get)(_t,"updateStartTimestamp",0);const Et=(0,C.get)(_t,"currentVersion",ci.zeroVersion.toString()),r=new Zn.b(Et);if(r.compare(ci.zeroVersion)!==Zn.A.Equal)return r;this.logger.info("No previous version found in shared storage update block")}return ci.zeroVersion}),(0,nn.K)(_t=>{const Et="Error caught when reading update data from shared storage: "+_t;throw this.logger.error(Et),new Error(Et)}))),this.readPreviousVersionOb$):(0,J.of)(this.previousVersion)}sendAppUpdateTelemetry(_t,Et,r,v,et=0,ht){this.logger.info("Uploading app update telemetry",_t,Et,r,v,et,ht);const Ot=new k.J2u({previousVersion:(0,C.isNil)(_t)?"":_t.toString(),targetVersion:(0,C.isNil)(Et)?"":Et.toString(),status:r,downloadTimeMs:0,upTimeMs:0,installerRuntimeMs:et,retryCount:0,channel:this.updateChannel,updateUrl:"",errorCategory:(0,C.isNil)(v)?k.Ydg.None:k.Ydg.General,errorMessage:(0,C.isNil)(v)?"":v});this.telemetry.push(Ot,0,ht)}sendAppLaunchTelemetry(_t){return this.systemInfoService.getSystemInfo([s.l7.OSName,s.l7.OSVersion]).pipe((0,Ve.U)(Et=>({OSName:Et.OSName,OSVersion:Et.OSVersion})),(0,nn.K)(Et=>(this.logger.error("Received error from getOsInfo, uploading telemetry without os info. Error = ",Et),(0,J.of)({OSName:"",OSVersion:""}))),(0,Ve.U)(Et=>{let r,v;if(_t===ci.zeroVersion)r="",v=k.AUc.FirstApplicationInstall;else{r=_t.toString(),v=k.AUc.SelfUpdateInstallAuto;let Ot=0;this.updateStartTimestamp>0&&(Ot=Date.now()-this.updateStartTimestamp),this.sendAppUpdateTelemetry(this.previousVersion,this.baseVersion,k.YwJ.UpdateSuccess,null,Ot)}const et={clientType:this.telemetryUtilService.getClientType(),type:v,previousAppVersion:r,osName:Et.OSName,osVersion:Et.OSVersion};this.logger.info("Uploading app install telemetry: ",v);const ht=new k.syg(et);this.telemetry.push(ht)}))}handlePostUpdateCommandLine(_t){const Et=(0,tn.X4)(_t,this.logger);(0,C.isNil)(Et)||this.isFirstRunAfterUpdate().subscribe(r=>{r&&!this.wasUpdatedFromUI?(this.logger.info("Found cmsId, this is the first run with a new version, and the previous update was not initiated from the UI, so attempting to launch the given cmsId"),this.pendingGameLaunchSubject.next(Et)):this.logger.info("found cmsId "+Et+", but this is not the first run after an update. Ignoring")})}getTargetVersion(){return(0,C.isNil)(this.pendingUpdate)?null:this.pendingUpdate.version}checkLastInstallationStatus(){this.osType$.pipe((0,En.h)(_t=>_t===s.wi.Windows),(0,vt.zg)(()=>this.bridgeService.executeCommand(dn.Gh.Common.Applicationcontrol.RequestLastInstallerStatus))).subscribe(_t=>{this.logger.info("RequestLastInstallerStatus response: ",_t),_t&&!(0,C.isEmpty)(null==_t?void 0:_t.errorcode)?this.showUpdateDownloadFailureErrorDialog(_t.errorcode):(this.logger.error("RequestLastInstallerStatus data is not valid."),this.checkUpdateDownloadFailure())},_t=>{this.logger.error("RequestLastInstallerStatus returns error: ",_t),this.checkUpdateDownloadFailure()}),this.osType$.pipe((0,En.h)(_t=>_t===s.wi.MacOS),(0,gt.b)(()=>this.checkUpdateDownloadFailure())).subscribe()}checkUpdateDownloadFailure(){this.ipcService.get$(fn.oI.UpdateCheckFailure).subscribe(Et=>{this.logger.info("UpdateCheckFailure response: ",Et),this.showUpdateDownloadFailureErrorDialog(null,Ke.UpdateCheckFailure,Et)},Et=>this.logger.error("Error checking UpdateCheckFailure: ",Et)),this.ipcService.get$(fn.oI.DownloadPrepareFailure).subscribe(Et=>{this.logger.info("DownloadPrepareFailure respopnse: ",Et),this.showUpdateDownloadFailureErrorDialog(null,Ke.DownloadFailure,Et)},Et=>this.logger.error("Error checking DownloadPrepareFailure: ",Et)),this.ipcService.get$(fn.oI.SelfUpdateThresholdNotReached).subscribe(Et=>this.logger.info("SelfUpdateThresholdNotReached respopnse: ",Et),Et=>this.logger.error("Error checking SelfUpdateThresholdNotReached: ",Et));const _t={type:fn.oI.SelfUpdateStatus,content:"",sender:fn.vS.GfnMall,recipient:fn.vS.GfnUpdater};this.logger.info("Sending IPC message for checking self update status:",_t),this.ipcService.pushMessage(_t).pipe((0,o.q)(1)).subscribe(Et=>this.logger.info("SelfUpdateStatus requested: ",Et),Et=>this.logger.error("Error checking SelfUpdateStatus: ",Et))}errorDialogLinkClicked(){this.logger.info("App manual download link clicked"),this.redirectService.openRedirectUrl(yt.hE.GfnPcDownload)}showUpdateDownloadFailureErrorDialog(_t,Et=Ke.InstallationFailure,r){let v=k.BFK.InstallationAttemptExhausted;Et===Ke.DownloadFailure?v=k.BFK.DownloadAttemptExhausted:Et===Ke.UpdateCheckFailure&&(v=k.BFK.UpdateCheckAttemptsExhausted),this.sendSelfUpdateTelemetry(v,k.AX0.PopupShown,null!=_t?_t:"",k.N3X.Failure,null!=r?r:"");const Ht={text:"notification.getLatestApp",linkClickedCallback:this.errorDialogLinkClicked.bind(this)};let ae;_t&&(ae={text:"error.errorCode",placeholders:{errorCode:_t}});const ke=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:Et===Ke.InstallationFailure||Et===Ke.DownloadFailure?"notification.updateFailureTitle":"notification.updateFailureCheckTitle"},bodyText:{text:Et===Ke.InstallationFailure||Et===Ke.DownloadFailure?"notification.updateFailureNotification":"notification.updateFailureCheckBody"},primaryButton:{text:"common.close"},link:Ht,errorCodeText:_t?ae:null}});ke.primaryButtonClick.pipe((0,o.q)(1)).subscribe(()=>{this.logger.info("close clicked "),ke.close()})}sendSelfUpdateTelemetry(_t,Et,r,v,et){const ht=new k.gtW({category:_t,action:Et,errorDetails:r,status:v,newVersion:et});this.telemetry.push(ht)}}(mi=ci).zeroVersion=new Zn.b("0"),mi.\u0275fac=function(_t){return new(_t||mi)(n.LFG(fn.uC),n.LFG(s.ed),n.LFG(ge.VK),n.LFG(s.o1),n.LFG(ni.OA),n.LFG(h.y0),n.LFG(k.wU6),n.LFG(s.dF),n.LFG(s.Ob),n.LFG(x.uw),n.LFG(R.IK),n.LFG(R.TX),n.LFG(yt.VH))},mi.\u0275prov=n.Yz7({token:mi,factory:mi.\u0275fac,providedIn:"root"});let Do=(()=>{var nt;class _t{constructor(){}}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["html"]],decls:10,vars:0,consts:[["charset","UTF-8"],["onload","sendErrorMessage()",2,"background-color","#1a1a1a","font-family","Roboto, sans-serif"],[2,"position","absolute","top","50%","left","50%","margin-right","50%","transform","translate(-50%, -50%)"],["aria-hidden","true",2,"color","rgba(255, 255, 255, .3)","width","410px","text-align","center"],["src","data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="],[2,"color","rgba(255, 255, 255, .3)","width","410px","text-align","center"]],template:function(r,v){1&r&&(n.TgZ(0,"head"),n._UZ(1,"meta",0),n.TgZ(2,"title"),n._uU(3,"NVIDIA GeForce NOW"),n.qZA()(),n.TgZ(4,"body",1)(5,"div",2)(6,"p",3),n._UZ(7,"img",4),n.qZA(),n.TgZ(8,"p",5),n._uU(9," #pageCouldNotBeLoaded "),n.qZA()()())},encapsulation:2}),_t})(),zi=(()=>{var nt;class _t{constructor(r,v){this.translate=r,this.bridgeService=v}load(r){return this.translateStringTable(r.translateStringTable).pipe((0,vt.zg)(v=>{const et={...v,...r.staticStringTable};return this.bridgeService.executeCommand(dn.Gh.Common.Applicationcontrol.LoadStringTable,{stringTable:et})}))}translateStringTable(r){if((0,C.isNil)(r))return(0,J.of)(r);const v=Object.keys(r),et=Object.values(r);return this.translate.get(et).pipe((0,Ve.U)(ht=>{const Ot={};return et.forEach((Ft,Ht)=>{Ot[v[Ht]]=ht[Ft]}),Ot}))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(f.sK),n.LFG(s.dF))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})(),er=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft){this.injector=r,this.stringTableService=v,this.configuration=et,this.translate=ht,this.localeService=Ot,this.logger=Ft.getLogger("gfn-shared/GfnStringTableService")}load(){return this.localeService.localeChanged.pipe((0,vt.zg)(r=>{const v=this.injector.get(n.z2F),Ot=`<html><head><meta charset="UTF-8"></head>${(0,n.LMc)(Do,{environmentInjector:v.injector}).location.nativeElement.innerHTML}</html>`,Ft={translateStringTable:{quitMenuItem:"common.quit"},staticStringTable:{userAgent:this.configuration.client.userAgent+"/"+this.configuration.build.version,onLoadError:Ot,acceptLanguage:r}},Ht=["error.pageCouldNotBeLoaded","common.retry"],ae=["#pageCouldNotBeLoaded","#retry"];return this.translate.get(Ht).pipe((0,vt.zg)(Me=>(Ht.forEach((Ne,ke)=>{Ft.staticStringTable.onLoadError=Ft.staticStringTable.onLoadError.replace(ae[ke],Me[Ne])}),this.stringTableService.load(Ft))),(0,nn.K)(Me=>(this.logger.error("Could not translate static strings ",Me),this.stringTableService.load(Ft))))}))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(n.zs3),n.LFG(zi),n.LFG(ge.VK),n.LFG(f.sK),n.LFG(s.OL),n.LFG(s.ed))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var oo=t(94386),pi=t(17692),Ti=t(38435),nr=t(328),Ki=t(1062),Tr=t(54991),Dr=t(14955),Ro=t(19165),Pi=t(70462),Wn=t(64555),ir=t(69318),$i=t(82711),Mn=t(3310),Ao=t(69324),ii=t(7749);let No=(()=>{var nt;class _t{constructor(r,v,et){this.idmService=r,this.loggingService=v,this.sharedStorageService=et,this.currentUserId="undefined",this.currentUserConsent=h.nM,this.userConsentFetchedSubject=new Nn.t(1),this.logger=this.loggingService.getLogger("UserConsentWrapperService")}initialize(){this.readSharedStorageConsent(),this.onUserAccountStatusChanged(),this.onJarvisUserDataChanged()}hasUserIdChanged(r){return!(0,C.isEqual)(this.currentUserId,r)}hasUserConsentChanged(r){return!(0,C.isEqual)(this.currentUserConsent,r)}setCurrentUserData(r,v){this.currentUserId=r,this.currentUserConsent=v}readSharedStorageConsent(){this.sharedStorageService.readBlock("userConsentInfo").subscribe(r=>{!(0,C.isUndefined)(r)&&this.hasUserIdChanged(r.userId)&&this.hasUserConsentChanged(r.userConsent)&&(this.setCurrentUserData(r.userId,r.userConsent),this.userConsentFetchedSubject.next({userId:r.userId,externalUserId:r.externalUserId,idpId:r.idpId,userConsent:r.userConsent}))})}onUserAccountStatusChanged(){this.idmService.accountStatusChanged.subscribe(r=>{if(r.isAuthenticated){const v=(0,Ao.WF)(r);this.hasUserIdChanged(r.userId)&&this.hasUserConsentChanged(v)&&(this.setCurrentUserData(r.userId,v),this.userConsentFetchedSubject.next({userId:r.userId,externalUserId:r.externalId,idpId:r.idpId,userConsent:v}))}else this.setCurrentUserData(r.userId,h.l3),this.userConsentFetchedSubject.next({userId:"",externalUserId:"",idpId:"",userConsent:void 0})})}onJarvisUserDataChanged(){this.idmService.accountStatusChanged.subscribe(r=>{if(r.isAuthenticated){const v=(0,Ao.WF)(r);this.hasUserIdChanged(r.userId)&&this.hasUserConsentChanged(v)&&(this.setCurrentUserData(r.userId,v),this.userConsentFetchedSubject.next({userId:r.userId,externalUserId:r.externalId,idpId:r.idpId,userConsent:v}))}else this.hasUserIdChanged(r.userId)&&this.userConsentFetchedSubject.next({userId:"",externalUserId:"",idpId:"",userConsent:void 0})})}getUserConsentFetchedSubjectObservable(){return this.userConsentFetchedSubject.asObservable()}getLogoutInitiatedNotification(){return this.idmService.getLogoutInitializeNotification()}sameTabAuthStarted(){return this.idmService.sameTabAuthStarted()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(ii.No),n.LFG(s.ed),n.LFG(ni.OA))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();const Di="saveAppInstanceId";let uo=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke){this.appConfig=r,this.systemInfoService=v,this.telemetryService=et,this.remoteLoggingService=ht,this.userConsentWrapperService=Ot,this.loggingService=Ft,this.sharedStorageService=Ht,this.logQueueService=ae,this.gfnWebWorkerService=Me,this.telemetryUtilService=Ne,this.injector=ke,this.defaultConsent=h.nM,this.appInstanceIdSubject=new Pi.X(""),this.appInstanceId=s.kQ,this.waitForLogRestore$=new Nn.t(1),this.eventParamIds={streamSessionId:"",surveySessionId:""},this.clientVersion="",this.logger=this.loggingService.getLogger("GfcHelperService")}restoreAllData(){null!==window.sessionStorage.getItem(Di)&&(this.remoteLoggingService.restoreSavedLogs(),this.appInstanceId=window.sessionStorage.getItem(Di),window.sessionStorage.removeItem(Di)),this.waitForLogRestore$.next(!0)}getLogoutInitializeNotification(){this.userConsentWrapperService.getLogoutInitiatedNotification().subscribe(r=>{this.remoteLoggingService.handleExternalUrlLoad()})}saveLogsOnLoginClick(){this.logger.info("Subscribing to Login initiated notification"),this.userConsentWrapperService.sameTabAuthStarted().subscribe(r=>{r===Mn.fH.LoginStarted&&(this.logger.info("Received notification for ",r),window.sessionStorage.setItem(Di,this.appInstanceId),this.remoteLoggingService.saveLogsToSessionStorage(),this.logger.info("Completed saving appInstanceId and Logs"))})}initialize(r,v=this.eventParamIds){this.clientVersion=r,this.restoreAllData(),this.saveLogsOnLoginClick();const et=this.appConfig.gfcFeedbackEvents;this.remoteLoggingService.setBufferConfiguration({msBetweenChunkCreation:et.msBetweenChunkCreation,maxBufferSizeInBytes:et.maxBufferSizeInBytes,chunksQueueSize:et.chunksQueueSize,chunkResendRetryLimit:et.chunkResendRetryLimit}),this.userConsentWrapperService.initialize(),this.prepareAllGfcEventParams(v),this.registerForTimerRequests().subscribe(C.noop,ht=>{this.logger.error("Error getting timer updates")}),this.telemetryService.getDefaultClientConsentObserable().subscribe(()=>{this.defaultConsent=h.l3,this.remoteLoggingService.defaultConsentLevel=h.l3}),this.getLogoutInitializeNotification()}onTimerUpdate(r){r===$i.Em.Timeout||r===$i.Em.Cleared?this.logQueueService.updateTimer(r):this.logger.error("Error polling for idle timeout: ",r)}registerForTimerRequests(){return this.logQueueService.timerSubscriptionChanged().pipe((0,ri.w)(r=>this.gfnWebWorkerService.intervalHandler(r,this.onTimerUpdate.bind(this))))}buildGFNPCLogsFeedbackData(r){return this.systemInfoService.getSystemInfo([s.l7.BrowserName,s.l7.BrowserVersion,s.l7.OSName,s.l7.OSVersion]).pipe((0,Ve.U)(v=>{const et=(0,C.extend)({},{appInstanceId:r.appInstanceId,streamSessionId:r.streamSessionId||"",browserName:v.BrowserName||"",browserVersion:v.BrowserVersion||"",osName:v.OSName||"",osVersion:v.OSVersion||"",streamSubSessionIds:[],surveySessionId:r.surveySessionId||""});return this.logger.info("Prepared gfc feedback event params."),this.remoteLoggingService.prepareGfcFeedbackEventParams(et),!0}))}setAppInstanceIdInIndexedDb(r){return this.sharedStorageService.writeBlock("gfc",{appInstanceId:r})}prepareGfnPcLogsEventParams(r){let v;return this.waitForLogRestore$.pipe((0,vt.zg)(et=>(this.appInstanceId===s.kQ&&(this.appInstanceId=(0,pe.Rl)()),this.setAppInstanceIdInIndexedDb(this.appInstanceId))),(0,vt.zg)(et=>(v=et,r.appInstanceId=this.appInstanceId,this.buildGFNPCLogsFeedbackData(r))),(0,gt.b)(et=>{v&&(console.log("Application InstanceId: ",this.appInstanceId),this.appInstanceIdSubject.next(this.appInstanceId))}))}getClientVariantType(r){switch(r){case"ibeta":return s.ns.iBeta;case"release":return s.ns.Release;default:return s.ns.Undefined}}fetchCommonDataFromSystem(r,v){return(0,Wn.aj)([this.systemInfoService.getSystemInfo([s.l7.DeviceId,s.l7.OSName,s.l7.OSVersion,s.l7.SystemName,s.l7.DeviceType,s.l7.BrowserName]),this.userConsentWrapperService.getUserConsentFetchedSubjectObservable()]).pipe((0,Ve.U)(([et,ht])=>{var Ot,Ft;const Ht={clientVer:this.clientVersion,deviceId:et.DeviceId,sessionId:this.telemetryService.telemetrySessionId,feedbackId:this.telemetryService.telemetrySessionId,feedbackName:r,fileList:v,clientType:s.Bh.Browser,clientVariant:this.getClientVariantType(this.appConfig.build.variant),deviceOS:et.OSName,deviceOSVersion:null!==(Ot=et.OSVersion)&&void 0!==Ot?Ot:s.kQ,deviceMake:s.kQ,deviceModel:et.SystemName||s.kQ,deviceType:et.DeviceType,browserType:null!==(Ft=et.BrowserName)&&void 0!==Ft?Ft:s.kQ,integrationId:this.telemetryUtilService.getIntegrationId(),deviceGdprFuncOptIn:this.defaultConsent.functional,deviceGdprTechOptIn:this.defaultConsent.technical,deviceGdprBehOptIn:this.defaultConsent.behavioral,productName:this.appConfig.gfcFeedbackEvents.productName,productVersion:this.clientVersion||s.kQ};return this.logger.trace(pe.y$.UserDetails,pe.Px.UserInfo,"Feedback id is "+Ht.feedbackId),this.logger.trace(pe.y$.UserDetails,pe.Px.UserInfo,"Client version is "+Ht.clientVer),(0,C.isEmpty)(ht.userId)||ht.userId===s.kQ?(Ht.userId=s.kQ,Ht.externalUserId=s.kQ,Ht.idpId=s.kQ):(Ht.userId=ht.userId,Ht.externalUserId=ht.externalUserId,Ht.idpId=ht.idpId),null!=ht&&ht.userConsent&&(Ht.gdprFuncOptIn=ht.userConsent.functional,Ht.gdprTechOptIn=ht.userConsent.technical,Ht.gdprBehOptIn=ht.userConsent.behavioral),Ht}),(0,nn.K)(et=>(this.logger.error("Error fetching common device info: ",et),(0,Rn._)(et))))}prepareFeedbackEventCommonParameters(){return console.log("telemetry sessionId/feedbackId ",this.telemetryService.telemetrySessionId),this.fetchCommonDataFromSystem("GFNPCLogs",[{name:"mall_console.txt",type:"file/gfnwebobfuscation"}]).pipe((0,ri.w)(v=>(this.remoteLoggingService.prepareFeedbackCommonEventData(v),this.logger.info("Prepared common gfc feedback event params."),(0,J.of)(!0))),(0,nn.K)(v=>(this.logger.error("Error fetching systeminfo or deviceId: ",v),(0,J.of)(!1))))}prepareAllGfcEventParams(r){const v=this.prepareFeedbackEventCommonParameters(),et=this.prepareGfnPcLogsEventParams(r);(0,st.$R)(v,et).subscribe(ht=>{!(0,C.isUndefined)(ht)&&ht[0]&&ht[1]&&this.handleUserConsentUpdates()})}handleUserConsentUpdates(){this.userConsentWrapperService.getUserConsentFetchedSubjectObservable().subscribe(r=>{(0,C.isEmpty)(r.userId)?this.remoteLoggingService.prepareFeedbackCommonEventData({userId:s.kQ}):(r.userId!==s.kQ||!(0,C.isEmpty)(r.userId))&&(this.remoteLoggingService.prepareFeedbackCommonEventData({userId:r.userId}),this.remoteLoggingService.setUserConsent({userId:r.userId,externalUserId:r.externalUserId,idpId:r.idpId,userConsent:r.userConsent}))})}updateEventDataParamIds(r){this.remoteLoggingService.updateEventDataParamIds(r)}getAppInstanceId(){return this.appInstanceIdSubject.asObservable()}terminateRemoteLogSession(){this.logger.info("Terminating log collection."),this.remoteLoggingService.stopFeedbackUpload()}triggerExceptionInfoUpload(r){const v=this.injector.get(ir.H0);if(v){this.logger.info("EndPoints service available");const{exceptionTrace:et,...ht}=r;(0,Wn.aj)([this.remoteLoggingService.feedbackId$,this.fetchCommonDataFromSystem("GFNUIException")]).pipe((0,o.q)(1),(0,vt.zg)(([Ot,Ft])=>{this.logger.info("feedbackId:",Ot),Ft.clientTs=(new Date).toISOString(),Ft.feedbackId=(0,pe.Rl)();let Ht=!1;Ft.gdprTechOptIn===s.p6.Full&&(Ft.fileList=[{name:"exception_trace.txt",type:"file/js-stacktrace"}],Ht=!0),this.logger.info("Common data:",Ft);const ae={...Ft,parameters:{...ht}};return ae.parameters.logsFeedbackId=Ot,v.sendFeedbackBasedOnTechConsent(ae,Ht,et)})).subscribe(()=>{this.logger.info("Exception data sent successfully")},Ot=>{this.logger.info("Error uploading exception info:",Ot)})}else this.logger.info("EndPoints service not available, not uploading the feedback event")}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(ge.VK),n.LFG(s.Ob),n.LFG(h.y0),n.LFG(s.V$),n.LFG(No),n.LFG(s.ed),n.LFG(ni.OA),n.LFG(s.p3),n.LFG($i.$_),n.LFG(k.wU6),n.LFG(n.zs3))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})(),sr=(()=>{var nt;class _t extends Dr.r7{constructor(r,v,et){super(r.getLogger("shared/CustomExceptionService"),v,et),this.exceptionDataList=new Map,this.exceptionEvent$=new S.xQ}handleClientSideException(r,v){this.registerExceptionLimiter(),this.timeLimiter=v.exceptionTimeLimiter,this.exceptionEvent$.next(r)}registerExceptionLimiter(){let r;const v=this.injector.get(Ro.s),et=this.injector.get(ge.VK);this.exceptionEvent$.pipe((0,En.h)(ht=>(r={message:ht.message,fileName:"",stackFrameSource:"",exceptionTrace:ht.exceptionString},!this.exceptionMatchFound(ht.name,r))),(0,gt.b)(ht=>{var Ot,Ft,Ht;this.exceptionDataList.set(ht.name,r),this.logger.info("Added exception data list of size: ",this.exceptionDataList.size);const ae=this.injector.get(k.wU6);this.sendExceptionTelemetry(ht,ae);const Me={name:null!==(Ot=ht.name)&&void 0!==Ot?Ot:"",message:null!==(Ft=ht.message)&&void 0!==Ft?Ft:"",exceptionTrace:null!==(Ht=ht.exceptionString)&&void 0!==Ht?Ht:"",logsFeedbackId:""};if(s.ng.isBrowserPlatform()){const Ne=this.injector.get(uo);Ne?(Ne.triggerExceptionInfoUpload(Me),this.logger.info("Exception upload triggered")):this.logger.info("Could not inject GfcHelperService")}else ae.triggerExceptionInfoUpload(Me)}),(0,nr.M)(v.remoteConfigFetched$.pipe((0,Ki.O)({overrides:{},config:et}))),(0,Tr.z)(([ht,Ot])=>((0,C.has)(Ot,"config.exception")&&(this.timeLimiter=Ot.config.exception.exceptionTimeLimiter),this.logger.info("Exception rate limit timer started: ",this.timeLimiter),(0,Ti.H)(this.timeLimiter)))).subscribe(()=>{this.clearExceptionDataList()})}exceptionMatchFound(r,v){let et=!1;return!(0,C.isNil)(this.exceptionDataList)&&!(0,C.isEmpty)(this.exceptionDataList)&&this.exceptionDataList.has(r)&&(et=(0,C.isEqual)(v,this.exceptionDataList.get(r))),et}clearExceptionDataList(){this.logger.info("clearing exception data list"),this.exceptionDataList.clear()}sendExceptionTelemetry(r,v){var et,ht,Ot;this.logger.info("Sending Exception telemetry event"),this.injector.get(h.y0).push(new k.vlM({clientType:v.getClientType(),name:null!==(et=r.name)&&void 0!==et?et:"",message:null!==(ht=r.message)&&void 0!==ht?ht:"",fileName:"",stackFrameSource:"",exceptionTrace:null!==(Ot=r.exceptionString)&&void 0!==Ot?Ot:""}))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(n.zs3),n.LFG(x.uw))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac}),_t})();var ar=dn.Yk.Common.Discord.DiscordAsset;let so=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot){this.bridgeService=v,this.settingsService=et,this.appConfig=ht,this.translate=Ot,this.logger=r.getLogger("DiscordService"),this.discordRpEnabled=Sn.n.discordRpEnabled,this.featureEnabled=this.appConfig.featureEnablement.discordRichPresence&&s.ng.isCefPlatform()||!1,this.settingsService.getSettingsData().subscribe(Ft=>{this.discordRpEnabled=(0,C.get)(Ft,"discordRpEnabled",Sn.n.discordRpEnabled)},Ft=>this.logger.error("Failed to get settings data",Ft))}updatePresence(r){!this.featureEnabled||!r||this.translate.get("discord.playing",{title:r}).subscribe(v=>(this.currentPresence={details:v.trim().substring(0,128),largeImageKey:ar.Large},this.discordRpEnabled&&this.updatePresenceCommand(this.currentPresence)))}clearPresence(){!this.featureEnabled||!this.currentPresence||(this.currentPresence=null,this.clearPresenceCommand())}updatePresenceCommand(r){if(!(0,C.isEmpty)(r))return this.logger.info("Updating rich presence with params",r),this.bridgeService.executeCommand(dn.Gh.Common.Discord.UpdatePresence,r).subscribe()}clearPresenceCommand(){return this.logger.info("Clearing rich presence"),this.bridgeService.executeCommand(dn.Gh.Common.Discord.ClearPresence,{}).subscribe()}setDiscordEnabled(r){this.discordRpEnabled=r,r?this.updatePresenceCommand(this.currentPresence):this.clearPresenceCommand()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(s.dF),n.LFG(Sn.gb),n.LFG(ge.VK),n.LFG(f.sK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var lr=t(56989);let kr=(()=>{var nt;class _t{constructor(r,v,et,ht){this.loggingService=r,this.networkConfigurationService=v,this.gridService=et,this.logger=this.loggingService.getLogger("gfn/startupService")}checkAndFixOverrideZone(){const r=[],v=this.gridService.zoneList$.pipe((0,nn.K)(et=>(this.logger.error("failed to get zones",et),(0,J.of)({}))));return r.push(v),r.push(this.networkConfigurationService.getNetworkOverride()),(0,st.$R)(...r).pipe((0,vt.zg)(et=>{const ht=et[0],Ot=et[1];return(0,C.isNil)(Ot)||Ot.isInternal||-1!==((0,C.isNil)(ht)?[]:Object.values(ht)).findIndex(ae=>ae.address===Ot.address&&ae.name===Ot.name)?(0,J.of)(!0):(this.logger.info("Zone override present and not available in the zonesList, clearing the NetworkOverride"),this.networkConfigurationService.clearNetworkOverride())}))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(oo.XS),n.LFG(ln.r),n.LFG(lr.i))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var ao=function(nt){return nt.StartRelaunch="StartRelaunch",nt.CheckForceStatus="CheckForceStatus",nt.AppContextSwitch="AppContextSwitch",nt.SendIpcShutdown="SendIpcShutdown",nt.FinishRelaunch="FinishRelaunch",nt.Done="Done",nt}(ao||{}),Fe=t(99901);class Fr{constructor(_t,Et,r,v){this.applicationLifetimeService=_t,this.sharedStorageService=Et,this.updateService=r,this.stateMachineStatusSubject=new Nn.t(1),this.isRelaunchFromStreamer=!1,this.sharedStorageKey="relaunchData",this.relaunchShutdownHandler=()=>(0,J.of)(void 0),this.logger=v.getLogger("crimson/relaunchService")}startRelaunch(_t,Et=!1){return this.isActive()?(0,Rn._)("Relaunch started when one was already active"):(this.isRelaunchFromStreamer=Et,this.stateMachineStatusSubject.next(ao.StartRelaunch),this.relaunchData=this.createNewRelaunchData(_t),this.startRelaunchInternal())}createNewRelaunchData(_t){return{active:!0,force:_t}}cancelRelaunch(){this.isActive()?this.logger.error("cancelRelaunch called when relaunch wasn't started"):this.relaunchData.active=!1}shutdownDueToIpc(){return this.relaunchShutdownHandler().pipe((0,gt.b)(()=>this.applicationLifetimeService.shutdownApplication(_.ld.IpcRequestedExit)),(0,Fe.h)(void 0))}startRelaunchInternal(){return this.isCancelled()?(0,Rn._)("Relaunch Cancelled"):this.onRelaunch()}setRelaunchShutdownHandler(_t){this.relaunchShutdownHandler=(0,C.isNil)(_t)?()=>(0,J.of)(void 0):_t}appendRelaunchSharedData(_t){return this.readRelaunchSharedData().pipe((0,Ve.U)(Et=>((0,C.isNil)(Et)&&(Et={}),(0,C.merge)(Et,_t),Et)),(0,vt.zg)(Et=>this.writeRelaunchSharedData(Et)))}clearRelaunchSharedData(){return this.writeRelaunchSharedData({})}readRelaunchSharedData(){return this.sharedStorageService.readBlock(this.sharedStorageKey)}isActive(){return!(0,C.isNil)(this.relaunchData)&&this.relaunchData.active}currentState(){return this.stateMachineStatusSubject.asObservable()}isCancelled(){return!(0,C.isNil)(this.relaunchData)&&!this.relaunchData.active}onRelaunch(){return this.stateMachineStatusSubject.next(ao.FinishRelaunch),this.relaunchShutdownHandler().pipe((0,vt.zg)(()=>this.appendRelaunchSharedData({releaseHighlight:!0})),(0,vt.zg)(()=>this.updateService.updateApplication$(this.isRelaunchFromStreamer)),(0,En.h)(_t=>this.validateGfnSelfUpdateResponse(_t)),(0,vt.zg)(()=>this.onDone()))}validateGfnSelfUpdateResponse(_t){if((0,C.isNil)(_t)||(0,C.isNil)(_t.status))throw this.logger.error("gfnSelfUpdate returned invalid result data"),_t;switch(_t.status){case Li.SubAppRunning:throw this.logger.error("gfnSelfUpdate returned SUB_APP_RUNNING"),_t;case Li.Failed:throw this.logger.error("gfnSelfUpdate returned FAILED"),_t;case Li.Success:return this.logger.info("Self update succeeded"),!0;default:throw this.logger.error("gfnSelfUpdate returned unknown staus value"),_t}}onDone(){return this.stateMachineStatusSubject.next(ao.Done),this.cancelRelaunch(),(0,J.of)(!0)}writeRelaunchSharedData(_t){return this.sharedStorageService.writeBlock(this.sharedStorageKey,_t)}}var Gr=t(72698);let Br=(()=>{var nt;class _t{}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({imports:[e.ez,Gr.U8]}),_t})();t(97245);var zn=t(99484);t(33385);var cr=t(31609),pn=t(31157),Gi=t(32244),cn=t(88207),mo=t(62864);let po=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me){this.appConfig=v,this.distributedTracingUtilService=et,this.systemInfoService=ht,this.nesUserInfoService=Ot,this.sharedStorageCachingService=Ft,this.localeService=Ht,this.router=ae,this.gridService=Me,this.disableTracingReplaySubject=new Nn.t(1),this.globalTagsReplaySubject=new Nn.t(1),this.logger=r.getLogger("gfn/distributed-tracing-initializer")}initializeDistributedTracing(){this.disableTracingReplaySubject.next(!1);const r={exportConfig:{...this.appConfig.otelTracerConfig},propagationConfig:{openTracingContextPropagation:this.appConfig.openTelemetry.useOpenTracingContextPropagation},statusCodeZeroAnalyzerConfig:this.appConfig.statusCodeZeroAnalyzerConfig,apiTracingConfig:{urlRegex:this.appConfig.distributedTracing.xhrAllowList}};this.distributedTracingUtilService.initializeDistributedTracing(r,this.disableTracingReplaySubject,this.globalTagsReplaySubject),this.setGlobalTags()}setGlobalTags(){const r=(0,J.of)({[pn.NI.ServiceVersion]:(0,ge.sc)(this.appConfig),[pn.NI.ServiceType]:pn.sk.Pc_A7,[pn.NI.SpanKind]:pn.$Q.Client,[pn.NI.AppName]:(0,cn.wI)(this.router.url)?cn.lW.Streamer:cn.lW.Mall}),v=this.systemInfoService.getSystemInfo([s.l7.DeviceId]).pipe((0,Ve.U)(Ht=>({[pn.NI.DeviceId]:Ht.DeviceId})),(0,Ki.O)({})),et=this.systemInfoService.getSystemInfo([s.l7.OSName,s.l7.OSVersion,s.l7.Platform]).pipe((0,Ve.U)(Ht=>({[pn.NI.ClientOs]:Ht.Platform,[pn.NI.ClientOsName]:Ht.OSName,[pn.NI.ClientOsVersion]:Ht.OSVersion})),(0,Ki.O)({}),(0,nn.K)(Ht=>(this.logger.info(`Error fetching osInfo: ${Ht}`),(0,J.of)({})))),ht=this.fetchCountryCode().pipe((0,Ve.U)(Ht=>({[pn.NI.CountryCode]:Ht})),(0,Ki.O)({})),Ot=this.localeService.localeChanged.pipe((0,Ve.U)(Ht=>({[pn.NI.Locale]:Ht})),(0,Ki.O)({})),Ft=this.gridService.vpcId$.pipe((0,Ve.U)(Ht=>({[pn.NI.VpcId]:Ht})),(0,Ki.O)({}),(0,nn.K)(Ht=>(this.logger.info(`Error fetching vpcId: ${Ht}`),(0,J.of)({[pn.NI.VpcId]:pn.H7.VpcId}))));(0,Wn.aj)([r,v,et,ht,Ot,Ft]).subscribe(([Ht,ae,Me,Ne,ke,Ze])=>{const on=(0,C.merge)({},Ht,ae,Me,Ne,ke,Ze);this.logger.info("Setting the global tags:",on),this.globalTagsReplaySubject.next(on)})}fetchCountryCode(){return this.sharedStorageCachingService.getItem(Gi.RI.CountryCode).pipe((0,vt.zg)(r=>{if((0,C.isNil)(r.data))return this.logger.info("Cound not find countrycode in shared storage so fetching from NES"),this.nesUserInfoService.getCountryCode();if(r.expired){if(!this.sharedStorageCachingService.isExpiredValueAllowed(Gi.RI.CountryCode))return this.logger.info("Expired values not allowed for country code hence fetching fresh value from NES"),this.nesUserInfoService.getCountryCode();this.logger.info("The cached country code value is expired so refreshing in backgound"),this.refreshCountryCodeInBackground()}return this.logger.info(`Using the country code from cache ${r.data}`),(0,J.of)(r.data)}))}refreshCountryCodeInBackground(){this.nesUserInfoService.getCountryCode().subscribe()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ge.VK),n.LFG(pn.Dc),n.LFG(s.Ob),n.LFG(mo.f),n.LFG(Gi.sB),n.LFG(s.OL),n.LFG(Bt.F0),n.LFG(ln.r))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Ri=t(11917);const lo="releaseHighlightStatus",vo="releaseHighlightsOnAppUpdate",zr={go:"IN",sM:"32GB",osC:"10.0",osB:"7601",is6:"1",GFPV:"385.69",iLp:"0"},dr={name:"gfnReleaseHighlightsHtml",classPath:Ri.zJ.services,clientPath:Ri.dp.GfeClient,endpointPath:"/getStyledClientReleaseHighlightsHtml",method:Ri.fo.Get,paramMask:["cNm","cmID","gcV","lg","gLg","go","cID","dIDa","sM","osC","osB","is6","GFPV","gIsB","iLp","isO","isSLI","cSR","isInst","Plt","clVt"]};let ur=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne){var ke,Ze;this.localService=et,this.matDialog=ht,this.aemService=Ot,this.sharedStorage=Ft,this.remoteConfigurationService=Ht,this.telemetryUtilService=ae,this.systemInfoService=Me,this.focusManager=Ne,this.releaseHighlightsData={shown:!1},this.aemEndpointDefintions=[],this.aemEndpointDefintions.push(dr),this.logger=v.getLogger("gfn/releaseHighlights"),this.aemService.addEndpointDefinitions(this.aemEndpointDefintions),this.platform$=this.telemetryUtilService.getPlatform(),this.clientVariant=this.telemetryUtilService.getClientVariant(),this.osInfo$=this.systemInfoService.getSystemInfo([s.l7.OSName]),this.mobileMode=!(null==r||null===(ke=r.featureEnablement)||void 0===ke||!ke.mobileMode),this.showBackButton=!(null==r||null===(Ze=r.backNavigation)||void 0===Ze||!Ze.showBackButton)}getReleaseHighlight(){return this.getAemReleaseHighlights().pipe((0,Ve.U)(r=>({title:"common.releaseHighlights",subTitle:"",body:r.body.gfcontent.body,style:"dialog-service-container-size"})))}getAemReleaseHighlights(){return(0,st.$R)(this.localService.localeChanged,this.platform$,this.osInfo$).pipe((0,vt.zg)(([r,v,et])=>this.aemService.callAemEndpoint("gfnReleaseHighlightsHtml",{cmID:"",gcV:this.clientVersion,gLg:r,lg:"",...zr,cNm:s.ng.isNativeLikePlatform()?"gfn":"gfnb",isInst:this.isInstallScenario,Plt:s.ng.isNativeLikePlatform()?v:(0,tn.Jk)(et.OSName.toString()),clVt:this.clientVariant},{originalService:k.v6v.Aem,serviceUseCase:k.f$p.Get_Release_Highlights},{},{"Content-Type":"text/plain"},void 0)))}updateReleaseHighlightsStatusInSharedStorage(r){return this.sharedStorage.writeBlock(lo,{appVersion:r,isDialogShown:!0})}showReleaseHighlightsFromRemoteConfig(r){return this.remoteConfigurationService.remoteConfigFetched$.pipe((0,vt.zg)(v=>{const et=new Zn.b(r);if((0,C.isNil)(v.config)||(0,C.isNil)(v.config.releaseHighlights))return this.logger.info("Remote config value not set for Release highlights."),(0,J.of)(!1);{const ht=v.config.releaseHighlights.showReleaseHighlightsForAppVersion;return this.logger.info("Remote config value for Release highlights: ",ht),et.compare(new Zn.b(ht))===Zn.A.Equal?this.updateReleaseHighlightsStatusInSharedStorage(et.toString()).pipe((0,vt.zg)(()=>(0,J.of)(!0))):(this.logger.info("Remote config version does not match the app versions."),(0,J.of)(!1))}}))}showReleaseHighlightsFromSharedStorage(r){return this.sharedStorage.readBlock(lo).pipe((0,vt.zg)(v=>(0,C.isNil)(v)||(0,C.isEmpty)(v)?(0,J.of)(!0):v.appVersion===r?(0,J.of)(!v.isDialogShown):(this.logger.info("Old version value present in shared storage. Clearing"),this.sharedStorage.writeBlock(lo,{}).pipe((0,Fe.h)(!0)))))}onShowReleaseHighlight(r,v,et){if(this.clientVersion=v,this.isInstallScenario=et,!r||!this.releaseHighlightsData.shown){this.releaseHighlightsData.shown=!0;const ht={autoFocus:!1,hasBackdrop:!0,disableClose:!1,restoreFocus:!1,enterAnimationDuration:"0ms",panelClass:["dialogPaddingRemove","small-screen-overlay-panel"]};return ht.data={getArticleCallback:()=>this.getReleaseHighlight(),autoCloseOnError:r,noInformationAvailableTxt:"releaseHighlights.noInformationAvailable",closeTxt:"common.close",dialogType:p.Release_Highlights,isInstallationScenario:this.isInstallScenario,enableCloseButton:this.showBackButton},this.mobileMode&&(ht.maxWidth="100vw"),this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(W,ht)),this.readReleaseHighlightsSkippedStatus(this.clientVersion).pipe((0,vt.zg)(Ot=>Ot?this.sharedStorage.writeBlock(vo,{}):(0,J.of)(null))).subscribe()}}updateReleaseHighlightsSkippedStatus(r,v){return this.sharedStorage.writeBlock(vo,{appVersion:r,isSkipped:v})}readReleaseHighlightsSkippedStatus(r){return this.sharedStorage.readBlock(vo).pipe((0,vt.zg)(v=>v?v.appVersion===r?(0,J.of)(v.isSkipped):(this.logger.info("Old version value present in shared storage. Clearing"),this.sharedStorage.writeBlock(vo,{}).pipe((0,Fe.h)(!1))):(0,J.of)(!1)))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(ge.VK),n.LFG(s.ed),n.LFG(s.OL),n.LFG(x.uw),n.LFG(Ri.ZJ),n.LFG(ni.OA),n.LFG(Ro.s),n.LFG(k.wU6),n.LFG(s.Ob),n.LFG(R.IK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var _n=t(23602),Kr=t(45976),$r=t(56606),Cn=t(38096),Uo=t(14430),Zi=t(6776),yi=t(59797),ko=t(17559);function Fo(nt,_t){1&nt&&(n.TgZ(0,"div",9),n._UZ(1,"mat-icon",10),n.qZA())}function Yi(nt,_t){1&nt&&(n.TgZ(0,"span",11),n._uU(1,"error"),n.qZA())}function Go(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",12),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.onCancel())}),n.TgZ(1,"span",13),n._uU(2),n.ALo(3,"translate"),n.qZA()()}if(2&nt){const Et=n.oxw(2);n.xp6(2),n.Oqu(n.lcZ(3,1,Et.cancelButtonText))}}function Bo(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(2);return n.KtG(et.onLoginClicked(v))}),n.TgZ(1,"span",13),n._uU(2),n.ALo(3,"translate"),n.qZA()()}if(2&nt){const Et=n.oxw(2);n.xp6(2),n.Oqu(n.lcZ(3,1,Et.tryLoginText))}}function fo(nt,_t){if(1&nt&&(n.TgZ(0,"div",1),n.YNc(1,Fo,2,0,"div",2),n.YNc(2,Yi,2,0,"span",3),n.TgZ(3,"div",4)(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"span",5),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",6),n.YNc(11,Go,4,3,"button",7),n.YNc(12,Bo,4,3,"button",8),n.qZA()()),2&nt){const Et=n.oxw();n.Q6J("ngClass",Et.isStreamer?"main-content-streamer":"main-content-mall")("backToCloseResult",Et.backToCloseResult),n.xp6(1),n.Q6J("ngIf",!Et.showErrorIcon&&Et.isStreamer),n.xp6(1),n.Q6J("ngIf",Et.showErrorIcon&&Et.isStreamer),n.xp6(1),n.Q6J("ngClass",Et.showErrorIcon&&Et.isStreamer?"content-header-error font-sub1":"content-header font-header6"),n.xp6(2),n.Oqu(n.lcZ(6,9,Et.headerText)),n.xp6(3),n.Oqu(n.lcZ(9,11,Et.bodyText)),n.xp6(3),n.Q6J("ngIf",Et.showCancel),n.xp6(1),n.Q6J("ngIf",Et.showTryLogin)}}let Ho=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un){var vn,Dn;this.dialogRef=et,this.genericDialog=ht,this.localeService=Ot,this.router=Ft,this.telemetryService=Ht,this.config=ae,this.dialogData=Me,this.gfnSdkService=Ne,this.systemInfoService=ke,this.idmTelemetryService=Ze,this.idmService=on,this.idmLoginService=sn,this.headerText="",this.bodyText="",this.cancelButtonText="",this.tryLoginText="",this.showCancel=!1,this.showTryLogin=!1,this.isStreamer=!1,this.shouldShowLoginButton=!1,this.showErrorIcon=!1,this.deviceAuthUri="",this.deviceAuthCode="",this.deviceAuthUriComplete="",this.browserPopup=void 0,this.needsWindowWorkaround=!1,this.offDeviceDialogSubscription=null,this.backToCloseResult=Mn.L$.Cancel,this.useDeviceAuthLogin=!(null===(vn=this.config)||void 0===vn||!vn.useDeviceAuthLogin),this.logger=r.getLogger("loginBridgeState"),this.needsWindowWorkaround=!(null==v||null===(Dn=v.featureEnablement)||void 0===Dn||!Dn.loginPopupBlockerWorkaround),this.destroy$=new S.xQ,this.onLoginClicked=un.guard(R.Ku.Link,this.onLoginClicked.bind(this))}initialize(){this.shouldShowLoginButton?(this.headerText="loginBridgeState.login",this.bodyText="loginBridgeState.loginToGeForceNow",this.tryLoginText="common.login",this.showCancel=!1,this.showTryLogin=!0):this.onTryLogin()}startLoginProcess(){this.logger.trace(pe.y$.UserGesture,pe.Px.Login,pe.Rf.open," login operation"),this.idmLoginService.getDeviceName$().pipe((0,o.q)(1),(0,vt.zg)(r=>(this.idmTelemetryService.sendLoginStartEvent(this.dialogData.idpId,!1),this.idmService.login(!1,this.dialogData.idpId,this.browserPopup,r))),(0,l.R)(this.destroy$)).subscribe(r=>{switch(this.logger.info("starfleet login state update",r),r){case Mn.fH.LoginAbortedByUser:this.dialogRef.close(Mn.L$.Cancel);break;case Mn.fH.LoginAbortedAlreadyLoggedIn:this.dialogRef.close(Mn.L$.Success);break;case yi.n.LoggedIn:this.idmTelemetryService.sendLoginSuccessUserSessionEvent(),this.dialogRef.close(Mn.L$.Success);break;case Mn.fH.LoginFailed:case yi.n.Failed:this.onLoginFailed();break;case Mn.fH.LoginFailedNoRetry:case yi.n.LoggedOut:this.onLoginFailed(!1);break;case Mn.fH.LoginFailedToStart:this.onLoginFailed(!1,!1);break;case Mn.fH.LoginInProgressNeedDisplayCode:this.onNeedDisplayCode()}},r=>{this.logger.error("failed to login the user with error",r),this.needsWindowWorkaround&&r===Mn.fH.LoginAlreadyInProgress&&(this.idmService.cancel(),setTimeout(()=>{this.startLoginProcess()}))})}ngOnInit(){this.isStreamer=(0,cn.MA)(this.router.url),(0,Wn.aj)([this.gfnSdkService.getAuthType(),this.localeService.localeChanged]).pipe((0,vt.zg)(([r])=>(this.isStreamer&&r!==le.Gr.IDM_FALLBACK&&r!==le.Gr.JWT&&(this.shouldShowLoginButton=!0),this.localeService.localeChanged)),(0,o.q)(1)).subscribe(Vn.Z,r=>this.logger.error("error in in locale changed"),()=>this.initialize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.closeOffDeviceAuthDialog()}onLoginFailed(r=!0,v=!0){if(v?(this.headerText="common.loginUnsuccessful",this.bodyText=r?"loginBridgeState.problemLogInRetry":"loginBridgeState.problemLogIn"):(this.headerText="loginBridgeState.unableToInitiateLogin",this.bodyText="loginBridgeState.poroblemTryingToLogin"),this.showCancel=!0,this.cancelButtonText="common.close",this.showTryLogin=r,this.showErrorIcon=!0,this.tryLoginText="common.retry",!1===v?this.idmTelemetryService.sendCreateHTTPServerErrorEvent():this.idmTelemetryService.sendLoginFailureUserSessionEvent(),this.useDeviceAuthLogin){const et={panelClass:"dialogPaddingRemove",disableClose:!0,data:{...this.dialogData,headerText:{text:this.headerText},bodyText:{text:this.bodyText},primaryButton:{text:this.cancelButtonText}}};this.openThreeQuarterSheet(et)}}onCancel(){this.logger.trace(pe.y$.UserGesture,pe.Px.Login,pe.Rf.close," Login operation by clicking on cancel button"),this.dialogRef.close("common.close"===this.cancelButtonText?Mn.L$.CloseOnFailure:Mn.L$.Cancel)}onTryLogin(){this.needsWindowWorkaround?(this.browserPopup=window.open("","_blank"),this.headerText="loginBridgeState.login",this.bodyText="loginBridgeState.completeTheLogin",this.tryLoginText="common.login",this.showTryLogin=!0):(this.headerText="loginBridgeState.loginInProgress",this.bodyText="loginBridgeState.browserIsOpen",this.tryLoginText="common.retry",this.showTryLogin=!1),this.cancelButtonText="common.cancelTitleCase",this.showCancel=!0,this.startLoginProcess()}onLoginClicked(r){this.onTryLogin()}onNeedDisplayCode(){this.deviceAuthUri=this.idmService.getDeviceDisplayCode().url,this.deviceAuthUriComplete=this.idmService.getDeviceDisplayCode().url_complete;const r=this.idmService.getDeviceDisplayCode().user_code;if(r&&(this.deviceAuthCode=(0,tn.yY)(r),this.cancelButtonText="common.cancelTitleCase",this.showCancel=!0),!this.deviceAuthUri||!this.deviceAuthUriComplete||!r)throw new Error(`Failed to launch login bridge dialog. deviceAuthUri: ${this.deviceAuthUri}, deviceAuthUriComplete: ${this.deviceAuthUriComplete}, rawCode: ${r}`);{const v={panelClass:"dialogPaddingRemove",disableClose:!0,data:{...this.dialogData,headerText:{text:(0,tn.j7)(this.deviceAuthUri)},primaryButton:{text:"common.cancelTitleCase"},bodyText:{text:"loginBridgeState.deviceAuthLogin",placeholders:{authCode:`<div class="font-header3 white">${this.deviceAuthCode}</div>`}},footerText:{text:"loginBridgeState.deviceAuthHint"},image:{url:this.deviceAuthUriComplete}}};this.openThreeQuarterSheet(v)}}openThreeQuarterSheet(r){this.closeOffDeviceAuthDialog(),this.offDeviceAuthDialogRef=this.genericDialog.open(r,{preferredDialogType:R.Xm.ThreeQuarterSheet}),this.offDeviceAuthDialogRef.backToCloseResult=this.backToCloseResult,this.offDeviceDialogSubscription=(0,Cn.S3)(this.offDeviceAuthDialogRef.primaryButtonClick,this.offDeviceAuthDialogRef.afterClosed()).pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.closeOffDeviceAuthDialog(),this.onCancel()})}closeOffDeviceAuthDialog(){var r,v;null===(r=this.offDeviceDialogSubscription)||void 0===r||r.unsubscribe(),this.offDeviceDialogSubscription=null,null===(v=this.offDeviceAuthDialogRef)||void 0===v||v.close(),this.offDeviceAuthDialogRef=void 0}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(ge.VK),n.Y36(x.so),n.Y36(R.TX),n.Y36(s.OL),n.Y36(Bt.F0),n.Y36(h.y0),n.Y36(Mn.TR),n.Y36(x.WI),n.Y36(le.s),n.Y36(s.Ob),n.Y36(ko.e),n.Y36(ii.No),n.Y36(is),n.Y36(R.wI))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-login-bridge-state"]],decls:1,vars:1,consts:[["fxFlex","","fxLayout","column","nvTrapFocus","","nvBackToCloseModal","",3,"ngClass","backToCloseResult",4,"ngIf"],["fxFlex","","fxLayout","column","nvTrapFocus","","nvBackToCloseModal","",3,"ngClass","backToCloseResult"],["class","header-logo",4,"ngIf"],["class","error-icon material-icons",4,"ngIf"],[3,"ngClass"],[1,"font-body2","content-body"],["fxFlex","","fxLayout","row","fxLayoutAlign","end end",1,"content-button"],["mat-button","","class","font-button2 text-button-icon",3,"click",4,"ngIf"],["color","accent","class","retry-button","mat-raised-button","",3,"click",4,"ngIf"],[1,"header-logo"],["svgIcon","gfnBranding"],[1,"error-icon","material-icons"],["mat-button","",1,"font-button2","text-button-icon",3,"click"],[1,"font-button2"],["color","accent","mat-raised-button","",1,"retry-button",3,"click"]],template:function(r,v){1&r&&n.YNc(0,fo,13,13,"div",0),2&r&&n.Q6J("ngIf",!v.useDeviceAuthLogin)},dependencies:[b.xw,b.Wh,b.yH,I.oO,q.Hw,y.eB,e.mk,e.O5,B.e,j.u,ut.VP,f.X$],styles:[".login-bridge-state-dialog .mat-mdc-dialog-container{border-radius:0}.login-bridge-state-dialog .main-content-streamer{width:470px;height:618px;background-color:#1f2224}.login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{width:200px;height:60px;margin-top:34px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{margin-left:24px}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{margin-right:24px}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{--dummy3: 0;margin-right:24px}@keyframes gfn-login-bridge-state_fade{0%{opacity:.7}50%{opacity:.3}to{opacity:.7}}.login-bridge-state-dialog .main-content-streamer .content-header{margin:138px 0 0!important;text-align:center}.login-bridge-state-dialog .main-content-streamer .content-header-error{margin:33px 0 0!important;text-align:center}.login-bridge-state-dialog .main-content-streamer .error-icon{font-size:50px;margin:189px 0 0!important;opacity:.7;text-align:center}.login-bridge-state-dialog .main-content-streamer .content-body{margin:10px 24px 0!important;text-align:center}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .content-button{margin:0 8px 8px 0}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .content-button{--dummy: 0;margin:0 8px 8px 0}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .content-button{margin:0 0 8px 8px}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .content-button{--dummy: 0;margin:0 0 8px 8px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .retry-button{margin:0 0 0 8px}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .retry-button{--dummy: 0;margin:0 0 0 8px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .retry-button{margin:0 8px 0 0}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .retry-button{--dummy: 0;margin:0 8px 0 0}.login-bridge-state-dialog .main-content-mall{width:560px;height:166px;background-color:#393939}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-header{margin:19px 24px 14px!important}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-header{--dummy: 0;margin:19px 24px 14px!important}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-header{margin:19px 24px 14px!important}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-header{--dummy: 0;margin:19px 24px 14px!important}.login-bridge-state-dialog .main-content-mall .content-body{height:52px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-body{margin:0 24px!important}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-body{--dummy: 0;margin:0 24px!important}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-body{margin:0 24px!important}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-body{--dummy: 0;margin:0 24px!important}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-button{margin:0 8px 8px 0}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-button{--dummy: 0;margin:0 8px 8px 0}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-button{margin:0 0 8px 8px}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-button{--dummy: 0;margin:0 0 8px 8px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .retry-button{margin:0 0 0 8px}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .retry-button{--dummy: 0;margin:0 0 0 8px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .retry-button{margin:0 8px 0 0}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .retry-button{--dummy: 0;margin:0 8px 0 0}.login-bridge-state-dialog .green{color:#76b900}.login-bridge-state-dialog .white{color:#fff}\n"],encapsulation:2}),_t})();var vi=t(63069),mr=(t(59948),t(72654)),T=t(93190),ie=t(70506),oi=t(24027),Bn=t(94076),si=t(30088);const fs="EPIC",_s=["UNKNOWN","NONE"];var Qi=function(nt){return nt.onboardingReconnect="onboardingReconnect",nt.reconnect="reconnect",nt.syncDenied="syncDenied",nt}(Qi||{}),ji=function(nt){return nt.syncFailed="syncFailed",nt.profileNotCreated="profileNotCreated",nt.privateProfile="privateProfile",nt}(ji||{}),ti=function(nt){return nt.UNKNOWN="UNKNOWN",nt.SYNC_FAILED="SYNC_FAILED",nt.SYNC_DENIED="SYNC_DENIED",nt.PROFILE_NOT_CREATED="PROFILE_NOT_CREATED",nt.SYNC_SUCCESS="SYNC_SUCCESS",nt}(ti||{});class Cs{constructor(_t=36e5,Et=864e5,r=12096e5){this.now=_t,this.today=Et,this.soon=r}}var jn=function(nt){return nt[nt.NotExpired=0]="NotExpired",nt[nt.ExpiresNow=1]="ExpiresNow",nt[nt.ExpiresToday=2]="ExpiresToday",nt[nt.ExpiresSoon=3]="ExpiresSoon",nt[nt.Expired=4]="Expired",nt}(jn||{}),Ei=function(nt){return nt[nt.InitialFetchDone=0]="InitialFetchDone",nt[nt.LinkingDone=1]="LinkingDone",nt[nt.LinkingError=2]="LinkingError",nt[nt.SyncingDone=3]="SyncingDone",nt[nt.SyncingError=4]="SyncingError",nt[nt.Disconnected=5]="Disconnected",nt[nt.Expiring=6]="Expiring",nt}(Ei||{}),Jn=t(30502);let Ps=(()=>{var nt;class _t{constructor(r,v){this.dialogRef=v,this.destroy$=new S.xQ,this.dismissMessageDelay=4e3,this.gfnLink=location.hostname,this.logger=r.getLogger("pwa-wall-help.component")}onClose(){this.dialogRef.close()}onCopy(){(0,Jn.D)(navigator.clipboard.writeText(this.gfnLink)).pipe((0,l.R)(this.destroy$)).subscribe(r=>{this.successMessageVisible=!0,this.logger.info(`${this.gfnLink} is copied`),setTimeout(()=>{this.successMessageVisible=!1},this.dismissMessageDelay)},r=>{this.logger.error(`${this.gfnLink} is copied failed, error: ${r}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(x.so))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-pwa-wall-help"]],decls:27,vars:21,consts:[["fxFlex","","fxLayout","column",1,"main-container"],["fxLayout","column",1,"content-container"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-header6","color-white","prompt-header"],[1,"font-body2"],[1,"link-container","font-body2"],["fxLayoutAlign","start center",1,"gfn-link"],["mat-button","","fxLayout","row","fxLayoutAlign","end center",1,"color-white",3,"click"],[1,"success-message","font-body2"],["fxLayout","row","fxLayoutAlign","end end",1,"button-container"],["mat-button","",3,"click"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"span",4),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"span",4),n._uU(10),n.ALo(11,"translate"),n.qZA()(),n.TgZ(12,"div",5)(13,"span",6),n._uU(14),n.qZA(),n.TgZ(15,"button",7),n.NdJ("click",function(){return v.onCopy()}),n.TgZ(16,"span"),n._uU(17),n.ALo(18,"translate"),n.qZA()()(),n.TgZ(19,"span",8),n._uU(20),n.ALo(21,"translate"),n.qZA()(),n.TgZ(22,"div",9)(23,"button",10),n.NdJ("click",function(){return v.onClose()}),n.TgZ(24,"span"),n._uU(25),n.ALo(26,"translate"),n.qZA()()()()),2&r&&(n.xp6(4),n.Oqu(n.lcZ(5,9,"common.setUpOnSafari")),n.xp6(3),n.Oqu(n.lcZ(8,11,"iosPWA.setUpStep1")),n.xp6(3),n.Oqu(n.lcZ(11,13,"iosPWA.setUpStep2")),n.xp6(4),n.Oqu(v.gfnLink),n.xp6(3),n.Oqu(n.lcZ(18,15,"iosPWA.copy")),n.xp6(2),n.ekj("visible",v.successMessageVisible),n.xp6(1),n.Oqu(n.lcZ(21,17,"iosPWA.linkCopied")),n.xp6(5),n.Oqu(n.lcZ(26,19,"common.gotIt")))},dependencies:[b.xw,b.Wh,b.yH,y.eB,f.X$],styles:[".main-container[_ngcontent-%COMP%]{width:560px;height:fit-content}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:20px 24px 8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .prompt-header[_ngcontent-%COMP%]{margin-bottom:12px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;margin:16px 0 8px;border:1px solid rgba(255,255,255,.2)}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{visibility:hidden}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 0 8px 8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 8px 8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 8px 8px 0}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 8px 0}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message.visible[_ngcontent-%COMP%]{visibility:visible}.main-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin:0 8px 8px}"]}),_t})(),Ss=(()=>{var nt;class _t{constructor(r){this.loggingService=r,this.primaryButtonClick=new n.vpe,this.destroy$=new S.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("playtest-error")}onPrimaryButtonClick(){this.primaryButtonClick.emit(!1)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtestlive-error"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:14,vars:11,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"error-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"error-dialog-header"],[1,"font-header6"],[1,"error-dialog-body"],[1,"font-body2",3,"innerHtml"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button",3,"click"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",4),n._UZ(7,"span",5),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"mat-dialog-actions",6)(10,"button",7),n.NdJ("click",function(){return v.onPrimaryButtonClick()}),n._uU(11),n.ALo(12,"uppercase"),n.ALo(13,"translate"),n.qZA()()()),2&r&&(n.xp6(4),n.Oqu(n.lcZ(5,3,"playtestLive.errorDialog.header")),n.xp6(3),n.Q6J("innerHtml",n.lcZ(8,5,"playtestLive.errorDialog.notAccessibleError"),n.oJD),n.xp6(4),n.hij(" ",n.lcZ(12,7,n.lcZ(13,9,"common.ok"))," "))},dependencies:[b.xw,b.SQ,b.Wh,b.s9,b.yH,y.eB,x.ZT,x.H8,e.gd,f.X$],styles:[".error-dialog-container[_ngcontent-%COMP%]{max-width:100%}.error-dialog-container[_ngcontent-%COMP%]   .error-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.error-dialog-container[_ngcontent-%COMP%]   .error-dialog-body[_ngcontent-%COMP%]{margin-bottom:20px}"]}),_t})();var Ms=t(83918);const Wo={protocol:"",host:"",port:443,app:"",streamName:"",iceServers:[],tcpMuxPolicy:"",mediaElementId:void 0,mediaConstraints:{audio:{deviceId:"",echoCancellation:!0},video:{deviceId:"",width:{min:320,ideal:640,max:640},height:{min:240,ideal:360,max:480},frameRate:30}},connectionParams:{host:"",app:"live"},bandwidth:{audio:56,video:512},cameraWidth:640,cameraHeight:360},Qe="red5ProPublisherSdk";var gn=t(62712),hn=t(30285);const en={webcam:"",webcamDevId:"",microphone:"",micDevId:""};let Fn=(()=>{var nt;class _t{constructor(r,v){this.loggingService=r,this.translateService=v,this.audioInputDevices=[],this.videoInputDevices=[],this.logger=this.loggingService.getLogger("GFNWebcamService"),this.mediaSetup=en}getMediaDeviceInfo(r){return(0,Jn.D)(navigator.mediaDevices.enumerateDevices()).pipe((0,o.q)(1),(0,Ve.U)(v=>(v.forEach(et=>{"audioinput"===et.kind?this.audioInputDevices.push({deviceId:et.deviceId,label:et.label,groupId:et.groupId}):"videoinput"===et.kind&&this.videoInputDevices.push({deviceId:et.deviceId,label:et.label,groupId:et.groupId})}),this.audioInputDevices=this.audioInputDevices.filter((et,ht,Ot)=>Ot.findIndex(Ft=>Ft.groupId===et.groupId)===ht),this.videoInputDevices=this.videoInputDevices.filter((et,ht,Ot)=>Ot.findIndex(Ft=>Ft.groupId===et.groupId)===ht),{videoInput:this.videoInputDevices,audioInput:this.audioInputDevices})))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(f.sK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var ai=t(77122);const Si={offerToReceiveAudio:!0,offerToReceiveVideo:!0};let Ai=(()=>{var nt;class _t{constructor(r){this.loggingService=r,this.messagesSubject=new S.xQ,this.signalingMessages$=this.messagesSubject.asObservable(),this.numIceCandidates=0,this.signalingUrl="",this.streamName="",this.handleICECandidateEvent=v=>{this.logger.info(v),v.candidate&&this.sendCandidateMessage({handleCandidate:this.streamName,data:{candidate:v.candidate}})},this.handleNegotiationNeededEvent=v=>{this.logger.info(v)},this.handleICEConnectionStateChangeEvent=v=>{switch(this.logger.info(v),this.rtcPeerConnection.iceConnectionState){case"closed":case"failed":case"disconnected":this.closeWebRtc()}},this.handleSignalingStateChangeEvent=v=>{"closed"===(this.logger.info(v),this.rtcPeerConnection.signalingState)&&this.closeWebRtc()},this.handleTrackEvent=v=>{this.logger.info(v)},this.reportError=v=>{this.logger.error("got Error: "+v.name)},this.logger=this.loggingService.getLogger("WebrtcService"),this.mediaSetup=en}connect(){(!this.socket$||this.socket$.closed)&&(this.socket$=this.createWebSocket(),this.socket$.subscribe(r=>{this.logger.verbose("Received a message: send to msgHandler"),this.messagesSubject.next(r)}))}createWebSocket(){return(0,ai.j)({url:this.signalingUrl,protocol:"json",openObserver:{next:()=>{this.logger.info("WebrtcService: connected to websocket")}},closeObserver:{next:()=>{this.logger.info("WebrtcService: websocket connection closed"),this.socket$=void 0}}})}setUrlAndStreamName(r,v){this.signalingUrl=r,this.streamName=v,this.logger.info("setUrlAndStreamName "+this.signalingUrl+": "+this.streamName)}initSignalingConnection(){return this.logger.info("initSignalingConnection"),""===this.signalingUrl?(this.logger.error("invalid signaling url"),!1):"ws"!==this.signalingUrl.substr(0,2)?(this.logger.error("invalid protocol requested"),!1):(this.addIncomingMessageHandler(),this.requestMediaDevices().pipe((0,o.q)(1)).subscribe(r=>{this.logger.info("got media: signaling initialized"),this.initRtcPeerConnection()}),!0)}requestMediaDevices(){return new u.y(r=>{this.logger.info("requestMediaDevices");try{this.logger.info("selected devices: "+this.mediaSetup.micDevId+": "+this.mediaSetup.webcamDevId),(0,Jn.D)(navigator.mediaDevices.getUserMedia({audio:{deviceId:this.mediaSetup.micDevId,echoCancellation:!0},video:{width:864,height:480,deviceId:this.mediaSetup.webcamDevId}})).subscribe(v=>{v.getTracks().forEach(et=>{this.logger.info("track: "+et.id+" readyState: "+et.readyState)}),this.mediaStream=v,r.next()})}catch(v){r.error(v),this.logger.error(`getUserMedia() error: ${v.name}`)}})}initRtcPeerConnection(){this.logger.info("initRtcPeerConnetion"),this.createPeerConnection(),this.mediaStream.getTracks().forEach(r=>this.rtcPeerConnection.addTrack(r,this.mediaStream));try{let r;(0,Jn.D)(this.rtcPeerConnection.createOffer(Si)).pipe((0,o.q)(1),(0,gt.b)(v=>{r=v}),(0,ri.w)(v=>(0,Jn.D)(this.rtcPeerConnection.setLocalDescription(r)))).subscribe(v=>{this.logger.info("offer created and set"),this.sendOfferMessage({handleOffer:this.streamName,transport:"udp",data:{sdp:r}})})}catch(r){this.handleGetUserMediaError(r)}}addIncomingMessageHandler(){this.connect(),this.logger.info("connect() done: addIncomingMessageHandler"),this.signalingMessages$.subscribe(r=>{if(this.logger.info("Received message obj:"),this.logger.info(r.data),r.data.type)switch(r.data.type){case"status":this.logger.info("Received message status");break;case"offer":this.logger.info("Received message offer"),this.handleOfferMessage(r.data);break;case"answer":this.logger.info("Received message answer"),this.handleAnswerMessage(r.data);break;case"hangup":this.handleHangupMessage(r);break;case"ice-candidate":case"candidate":this.logger.info("Received message ice-candidate"),this.handleICECandidateMessage(r.data.candidate);break;default:this.logger.info("unknown message of type "+r.type)}else r.data.sdp&&(this.logger.info("Received message is SDP"),"answer"===r.data.sdp.type&&(this.logger.info("Received message sdp-answer"),this.handleAnswerMessage(r.data.sdp)))},r=>this.logger.error(r)),this.logger.info("addIncomingMessageHandler done")}sendMessage(r){this.logger.info("sending message: "+r.type),this.socket$.next(r)}sendOfferMessage(r){this.logger.info("sending offerMessage"),this.socket$.next(r)}sendCandidateMessage(r){this.logger.info("sending candidateMessage"),this.socket$.next(r)}sendPublishMessage(r){this.logger.info("sending PUBLISH msg"),this.socket$.next(r)}handleOfferMessage(r){this.logger.info("handle incoming offer"),this.rtcPeerConnection||this.createPeerConnection(),this.mediaStream||this.startWebRtc(),(0,Jn.D)(this.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(r))).pipe((0,o.q)(1),(0,gt.b)(v=>{this.mediaStream.getTracks().forEach(et=>this.rtcPeerConnection.addTrack(et,this.mediaStream)),this.logger.info("setRemoteDescription done")}),(0,ri.w)(v=>(0,Jn.D)(this.rtcPeerConnection.createAnswer())),(0,gt.b)(v=>{this.logger.info(`createAnswer done: ${v}`)}),(0,ri.w)(v=>(0,Jn.D)(this.rtcPeerConnection.setLocalDescription(v))),(0,o.q)(1),(0,Ve.U)(v=>{this.logger.info(`localDescription done: ${this.rtcPeerConnection.localDescription}`),this.sendMessage({type:"answer",data:this.rtcPeerConnection.localDescription})})).subscribe(v=>{this.logger.info("Negotiation succeeded: ",v)},v=>{this.logger.info("Negotiation error: ",v),this.handleGetUserMediaError(v)},()=>{this.logger.info("Negotiation success")})}handleAnswerMessage(r){this.logger.info("handle incoming answer"),this.rtcPeerConnection.setRemoteDescription(r)}handleHangupMessage(r){this.logger.info(r),this.closeWebRtc()}handleICECandidateMessage(r){const v=new RTCIceCandidate(r);this.rtcPeerConnection.addIceCandidate(v).catch(this.reportError),this.numIceCandidates++,this.numIceCandidates>1&&(this.logger.info("PUBLISH NOW"),this.sendPublishMessage({publish:this.streamName,mode:"live",keyFramerate:3e3}))}createPeerConnection(){this.logger.info("creating PeerConnection"),this.rtcPeerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun2.l.google.com:19302"}]}),this.rtcPeerConnection.onicecandidate=this.handleICECandidateEvent,this.rtcPeerConnection.oniceconnectionstatechange=this.handleICEConnectionStateChangeEvent,this.rtcPeerConnection.onsignalingstatechange=this.handleSignalingStateChangeEvent,this.rtcPeerConnection.onnegotiationneeded=this.handleNegotiationNeededEvent,this.rtcPeerConnection.ontrack=this.handleTrackEvent}startWebRtc(){this.logger.info("starting local stream"),this.mediaStream.getTracks().forEach(r=>{r.enabled=!0,this.logger.info("track: "+r+" readyState: "+r.readyState)})}closeWebRtc(){this.logger.info("Close webrtc"),this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.oniceconnectionstatechange=null,this.rtcPeerConnection.onsignalingstatechange=null,this.mediaStream.getTracks().forEach(r=>{r.stop()}),this.rtcPeerConnection.getTransceivers().forEach(r=>{r.stop()}),this.rtcPeerConnection.close(),this.rtcPeerConnection=null)}handleGetUserMediaError(r){switch(null==r?void 0:r.name){case"NotFoundError":this.logger.info("Unable to start streaming because no camera and/or microphone found");break;case"SecurityError":case"PermissionDeniedError":break;case null:case void 0:this.logger.error("Undefined error message.");break;default:this.logger.error("Error opening your camera and/or microphone: "+r.message)}this.closeWebRtc()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var xi=t(65150);let Bi=(()=>{var nt;class _t{constructor(r){this.loggingService=r,this.logger=this.loggingService.getLogger("Red5PublisherService"),this.mediaSetup=en,this.rtcPublisher=new xi.RTCPublisher}startRed5RtcPublish(r){this.logger.info("[startRed5RtcPublish]: started"),this.logger.info("Connecting using rtcConfig: ",r),(0,Jn.D)(this.rtcPublisher.init(r)).pipe((0,gt.b)(this.rtcPublisher.on("*",this.onRed5PublisherEvent.bind(this))),(0,vt.zg)(v=>this.rtcPublisher.publish()),(0,o.q)(1)).subscribe(v=>{this.logger.info("[startRed5RtcPublish]: Red5Publish succeeded: ",v)},v=>{this.logger.error("[startRed5RtcPublish]: Publisher Failed",v)})}onRed5PublisherEvent(r){this.logger.info("[onRed5PublisherEvent]:",r.type)}stopRed5RtcPublish(){this.logger.info("[stopRed5RtcPublish]: Stop Red5Pro streaming"),this.rtcPublisher.unpreview(),(0,Jn.D)(this.rtcPublisher.unpublish()).pipe((0,o.q)(1)).subscribe(r=>{this.rtcPublisher.off("*",this.onRed5PublisherEvent),this.logger.info("[stopRed5RtcPublish]: Unpublish Complete")},r=>{this.logger.error("[stopRed5RtcPublish]: Unpublish Failed: ",r)})}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Co=t(32392);let Ni=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on){this.loggingService=r,this.bridgeService=v,this.endpointFactory=et,this.gfnWebcamService=ht,this.dialogService=Ot,this.webrtcService=Ft,this.red5PublisherService=Ht,this.appConfig=ae,this.idmService=Me,this.telemetryUtilService=Ne,this.telemetryService=ke,this.projectInterfaceService=Ze,this.networkStatusService=on,this.clientIngestURL="",this.webCamSupport=Qe,this.playtestPermissionsGranted=!1,this.validIngest=!1,this.id="",this.heartbeatSubscription=null,this.timerSource=void 0,this.micTested=!1,this.streamerSessionId="",this.vdkSessionId="",this.stop$=new S.xQ,this.audioContext=null,this.audioSource=null,this.mediaStream=null,this.isPlaytestLive=!1,this.blockReconnect=!1,this.disablePostSessionTips=!1,this.disableFeedback=!1,this.disableUds=!1,this.audioAnalyzer=null,this.featureFlags={captureWebcam:!0,captureWebcamOptional:!1,captureMicrophone:!0,captureMicrophoneOptional:!1,captureGameplay:!0,captureInput:!0},this.logger=this.loggingService.getLogger("PlaytestLiveService"),this.vdkPlaytestConfig=this.appConfig.vdkPlaytestConfig,this.endPoint=this.createEndpoint(!0)}initialize(){var r;null!==(r=this.appConfig.featureEnablement)&&void 0!==r&&r.playtest&&(this.projectInterfaceService.streamingSessionSetupSuccess$.subscribe(v=>{this.logger.info("Received streaming streamingSessionSetupSuccess notification:",v),this.setStreamingSessionId(v.sessionId)},v=>{this.logger.error("Error while receiving streamingSessionSetupSuccess:",v)}),this.projectInterfaceService.streamingBegin$.subscribe(v=>{this.logger.info("Received streaming streamingBegin notification:",v),this.startPlaytestLive()},v=>{this.logger.error("Error while receiving streamingBegin:",v)}),this.projectInterfaceService.streamingEnd$.subscribe(v=>{this.logger.info("Received streaming streamingEnd notification:",v),this.stopPlaytestLive()},v=>{this.logger.error("Error while receiving streamingEnd:",v)}))}initiatePlaytestLive(r,v){var et;if(null!==(et=this.appConfig.featureEnablement)&&void 0!==et&&et.playtest){this.logger.info("Initiating playtest"),this.streamerSessionId="",this.id=r,this.vdkSessionId=v,this.telemetryService.setEventsCommonData({integrationId:gn.dp.GFN_PLAYTEST},!1,!0);const Ot=!0,Ft=!0;return(s.ng.isBrowserPlatform()?(0,J.of)(!0):this.bridgeService.executeCommand(dn.Gh.Gfn.Streaming.AuthorizeAVDevices,{mic:Ot,camera:Ft})).pipe((0,vt.zg)(ae=>ae?this.idmService.getAuthToken(!1):(0,Rn._)("AuthorizeAVDevices Error")),(0,vt.zg)(ae=>(null!=ae&&ae.token&&(this.authToken=ae.token),this.getSessionInfo())),(0,vt.zg)(ae=>ae?(this.featureFlags.captureWebcam=!this.playtestSession.featureFlags.includes("WEBCAM_DISABLED"),this.featureFlags.captureWebcamOptional=this.playtestSession.featureFlags.includes("WEBCAM_OPTIONAL"),this.featureFlags.captureMicrophone=!this.playtestSession.featureFlags.includes("MICROPHONE_DISABLED"),this.featureFlags.captureMicrophoneOptional=this.playtestSession.featureFlags.includes("MICROPHONE_OPTIONAL"),this.featureFlags.captureGameplay=!this.playtestSession.featureFlags.includes("RECORDING_DISABLED"),this.featureFlags.captureInput=!this.playtestSession.featureFlags.includes("INPUT_DISABLED"),this.featureFlags.captureWebcam||this.featureFlags.captureMicrophone||this.featureFlags.captureGameplay||this.featureFlags.captureInput?this.dialogService.openPlaytestLivePermissionHigDialog(this.playtestSession):(0,J.of)(!0)):this.dialogService.openPlaytestLiveErrorDialog()),(0,vt.zg)(ae=>ae?this.featureFlags.captureWebcam?this.dialogService.openPlaytestLiveWebcamPreview(this.playtestSession):(0,J.of)(!0):(this.sendTelemetry(k.p3A.SessionConsentDenied,k.Xj5.Success),(0,Rn._)("Permissions not granted"))),(0,vt.zg)(ae=>ae?(this.gfnWebcamService.mediaSetup.webcamDevId.match("Disable")&&(this.featureFlags.captureWebcam=!1),this.featureFlags.captureMicrophone=this.featureFlags.captureWebcam,this.featureFlags.captureMicrophoneOptional=!1,this.featureFlags.captureMicrophone?this.dialogService.openPlaytestLiveMicrophonePreview(this.playtestSession):(0,J.of)(!0)):(this.sendTelemetry(k.p3A.SessionConsentDenied,k.Xj5.Success),(0,Rn._)("Webcam permissions not granted"))),(0,vt.zg)(ae=>ae?(this.logger.info("Permissions granted"),this.playtestPermissionsGranted=!0,(0,J.of)(!0)):(this.sendTelemetry(k.p3A.SessionConsentDenied,k.Xj5.Success),(0,Rn._)("Launch Cancelled"))),(0,o.q)(1),(0,nn.K)(ae=>(this.logger.error("initiatePlaytestLive error:",ae),(0,Rn._)("initiatePlaytestLive Error"))))}}startMic(r){var v;null!==(v=this.appConfig.featureEnablement)&&void 0!==v&&v.playtest&&(0,Jn.D)(navigator.mediaDevices.getUserMedia({audio:{deviceId:r,echoCancellation:!0}})).pipe((0,o.q)(1),(0,l.R)(this.stop$),(0,gt.b)(et=>et.getAudioTracks().some(ht=>ht.enabled&&"live"===ht.readyState)?(0,J.of)(et):(0,Rn._)("Microphone not ready"))).subscribe(et=>{this.mediaStream=et,this.audioContext=new AudioContext,this.audioAnalyzer=this.audioContext.createAnalyser(),this.audioSource=this.audioContext.createMediaStreamSource(this.mediaStream),this.audioAnalyzer.fftSize=512,this.audioAnalyzer.minDecibels=-127,this.audioAnalyzer.maxDecibels=0,this.audioAnalyzer.smoothingTimeConstant=.4,this.audioSource.connect(this.audioAnalyzer),this.logger.info("Starting mic")},et=>{this.logger.info("Error accessing microphone: ",et)})}stopMic(){var r,v;null!==(r=this.appConfig.featureEnablement)&&void 0!==r&&r.playtest&&(this.logger.info("Stopping mic"),this.audioSource&&this.audioAnalyzer&&this.audioSource.disconnect(this.audioAnalyzer),this.audioSource=null,this.audioAnalyzer=null,this.audioContext&&this.audioContext.close(),this.audioContext=null,this.mediaStream&&(null===(v=this.mediaStream.getTracks())||void 0===v||v.forEach(et=>{et.stop()})),this.mediaStream=null,this.stop$.next(!0),this.stop$.complete())}disableClientRecord(){var r;return(null===(r=this.appConfig.featureEnablement)||void 0===r?void 0:r.playtest)&&this.playtestPermissionsGranted}skipReconnect(){var r;const v=(null===(r=this.appConfig.featureEnablement)||void 0===r?void 0:r.playtest)&&this.networkStatusService.isOnline&&this.blockReconnect;return this.disablePostSessionTips=v,v}skipPostSessionTips(){var r;const v=(null===(r=this.appConfig.featureEnablement)||void 0===r?void 0:r.playtest)&&this.disablePostSessionTips;return this.disablePostSessionTips=!1,v}skipFeedback(){var r;const v=(null===(r=this.appConfig.featureEnablement)||void 0===r?void 0:r.playtest)&&this.disableFeedback;return this.disableFeedback=!1,v}skipUds(){var r;const v=(null===(r=this.appConfig.featureEnablement)||void 0===r?void 0:r.playtest)&&this.disableUds;return this.disableUds=!1,v}createEndpoint(r){return this.endpointFactory.createEndpoint({config:{timeout:this.vdkPlaytestConfig.defaultTimeout,timeBetweenRetries:this.vdkPlaytestConfig.defaultTimeBetweenRetries,maxRetries:r?1:3}})}ptmsHeartbeatPing(){const r=`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/heartbeat`;this.logger.verbose("Heartbeat API call"),this.endPoint.post(r,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,o.q)(1)).subscribe(et=>{this.logger.verbose("Heartbeat ping success")},et=>{401===et.status?this.idmService.getAuthToken(!0).pipe((0,o.q)(1)).subscribe(ht=>{this.logger.info("Heartbeat getAuthToken refreshed"),this.authToken=ht.token,this.ptmsHeartbeatPing()}):this.logger.error("Heartbeat ping error: ",et)})}getIngestUrls(){return this.endPoint.post(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/ingest`,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,gt.b)(et=>{this.validIngest=!0,this.startHeartbeatPing(),this.ingestDetails=Object.assign({},{ingest:et.ingest},{webcam:et.webcam},{streamProperties:et.streamProperties})},et=>{this.logger.error("Ingest url error: ",et),(0,Rn._)("getIngestUrls Error")}))}getSessionInfo(){return this.endPoint.get(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.vdkSessionId}`,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,gt.b)(et=>{this.playtestSession=et}),(0,nn.K)(et=>(this.logger.error("getSessionInfo error: ",et),(0,J.of)(null))))}clientWebcamStart(){try{const r=this.clientIngestURL.lastIndexOf("/"),v=this.clientIngestURL.slice(r+1,this.clientIngestURL.length);if("standardWebrtc"===this.webCamSupport)return this.logger.info("Standard WebRTC streaming started"),this.webrtcService.setUrlAndStreamName(this.clientIngestURL,v),this.webrtcService.mediaSetup.micDevId=this.gfnWebcamService.mediaSetup.micDevId,this.webrtcService.mediaSetup.webcamDevId=this.gfnWebcamService.mediaSetup.webcamDevId,void this.webrtcService.initSignalingConnection();this.webCamSupport===Qe&&(this.featureFlags.captureMicrophone&&(this.red5PublisherService.mediaSetup.micDevId=this.gfnWebcamService.mediaSetup.micDevId),this.featureFlags.captureWebcam&&(this.red5PublisherService.mediaSetup.webcamDevId=this.gfnWebcamService.mediaSetup.webcamDevId),this.featureFlags.captureMicrophone||this.featureFlags.captureWebcam?(this.ingestDetails.webcam=Object.assign({},this.ingestDetails.webcam,{mediaConstraints:Wo.mediaConstraints,mediaElementId:void 0}),this.ingestDetails.webcam.mediaConstraints.audio.deviceId=this.gfnWebcamService.mediaSetup.micDevId,this.ingestDetails.webcam.mediaConstraints.video.deviceId=this.gfnWebcamService.mediaSetup.webcamDevId,this.ingestDetails.webcam.cameraWidth=Wo.cameraWidth,this.ingestDetails.webcam.cameraHeight=Wo.cameraHeight,this.ingestDetails.webcam.bandwidth=Wo.bandwidth,this.logger.info("Red5Pro startRed5RtcPublish"),this.red5PublisherService.startRed5RtcPublish(this.ingestDetails.webcam)):this.logger.info("Red5Pro startRed5RtcPublish skipped"))}catch{this.logger.info("clientWebcamStart error")}}clientWebcamStop(){try{"standardWebrtc"===this.webCamSupport?this.webrtcService.closeWebRtc():"red5ProPublisherSdk"===this.webCamSupport&&(this.featureFlags.captureMicrophone||this.featureFlags.captureWebcam?(this.logger.info("Red5Pro stopRed5RtcPublish"),this.red5PublisherService.stopRed5RtcPublish()):this.logger.info("Red5Pro stopRed5RtcPublish skipped"))}catch{this.logger.info("clientWebcamStop error")}}setStreamingSessionId(r){this.streamerSessionId=r}startPlaytestLive(){this.blockReconnect=!1,this.disableFeedback=!1,this.disableUds=!1,null!=this.playtestSession&&this.playtestPermissionsGranted&&this.getIngestUrls().pipe((0,o.q)(1)).subscribe(r=>{this.clientWebcamStart(),this.logger.info("Playtest started"),this.isPlaytestLive=!0,this.blockReconnect=!0,this.disableFeedback=!0,this.disableUds=!0,this.sendTelemetry(k.p3A.SessionStart,k.Xj5.Success)},r=>{var v;this.logger.info("Playtest broadcast connection error: ",r),this.clientWebcamStop(),this.ptmsStopIngest(),null===(v=this.heartbeatSubscription)||void 0===v||v.unsubscribe(),this.heartbeatSubscription=null,this.authToken=null,this.playtestSession=null,this.stopMic(),this.sendTelemetry(k.p3A.SessionStart,k.Xj5.Failure),this.telemetryService.setEventsCommonData({integrationId:h.wy.Undefined},!1,!0)})}ptmsStopIngest(){this.validIngest&&this.endPoint.delete(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/ingest`,{headers:{Authorization:`Bearer ${this.authToken}`}}).subscribe(et=>{this.validIngest=!1},et=>{this.logger.error("Stop ingest error: ",et),401===et.status?this.idmService.getAuthToken(!0).pipe((0,o.q)(1)).subscribe(ht=>{this.authToken=ht.token,this.ptmsStopIngest()}):(0,Rn._)("ptmsStopIngest Error")})}stopPlaytestLive(){var r;this.isPlaytestLive&&(this.logger.info("Playtest ended"),this.sendTelemetry(k.p3A.SessionStop,k.Xj5.Success,!0),this.clientWebcamStop(),this.ptmsStopIngest(),null===(r=this.heartbeatSubscription)||void 0===r||r.unsubscribe(),this.heartbeatSubscription=null,this.stopMic(),this.isPlaytestLive=!1,this.dialogService.openPlaytestLiveFeedbackHigDialog(this.playtestSession)),this.playtestPermissionsGranted=!1,this.authToken=null,this.playtestSession=null}startHeartbeatPing(){this.timerSource=(0,Ti.H)(1e3,6e4),this.heartbeatSubscription=this.timerSource.subscribe(r=>{this.logger.verbose("HeartBeating every 60 seconds call "),this.ptmsHeartbeatPing()})}sendTelemetry(r,v,et=!1){var ht=this;return(0,Ms.Z)(function*(){try{var Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un,vn,Dn;yield ht.telemetryUtilService.sendPlaytesterSessionEvent(r,v,null!==(Ot=null===(Ft=ht.playtestSession)||void 0===Ft?void 0:Ft.sessionID)&&void 0!==Ot?Ot:"",null!==(Ht=ht.streamerSessionId)&&void 0!==Ht?Ht:"",null!==(ae=null===(Me=ht.playtestSession)||void 0===Me||null===(Me=Me.gameInfo)||void 0===Me?void 0:Me.gameDeveloper)&&void 0!==ae?ae:"",null!==(Ne=null===(ke=ht.playtestSession)||void 0===ke||null===(ke=ke.gameInfo)||void 0===ke?void 0:ke.gameName)&&void 0!==Ne?Ne:"",null!==(Ze=null===(on=ht.playtestSession)||void 0===on||null===(on=on.gameInfo)||void 0===on?void 0:on.gameBuild)&&void 0!==Ze?Ze:"",null!==(sn=null===(un=ht.playtestSession)||void 0===un||null===(un=un.gameInfo)||void 0===un?void 0:un.gameCMSID)&&void 0!==sn?sn:"",null!==(vn=ht.gfnWebcamService.mediaSetup.webcam)&&void 0!==vn?vn:"",null!==(Dn=ht.gfnWebcamService.mediaSetup.microphone)&&void 0!==Dn?Dn:"",ht.micTested?k.PoW.Yes:k.PoW.No,"")}catch(_i){ht.logger.error("Telemetry send failed",_i)}et&&ht.telemetryService.setEventsCommonData({integrationId:h.wy.Undefined},!1,!0)})()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(s.dF),n.LFG(hn.V9),n.LFG(Fn),n.LFG(Or),n.LFG(Ai),n.LFG(Bi),n.LFG(ge.VK),n.LFG(ii.No),n.LFG(k.wU6),n.LFG(h.y0),n.LFG(Co.m3),n.LFG(s._J))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();function pr(nt,_t){1&nt&&(n._UZ(0,"span",5),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionGameplay"),n.oJD)}function zo(nt,_t){1&nt&&(n._UZ(0,"span",5),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionInputs"),n.oJD)}function vr(nt,_t){1&nt&&(n._UZ(0,"span",5),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionWebcam"),n.oJD)}function Ko(nt,_t){1&nt&&(n._UZ(0,"span",5),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionMicrophone"),n.oJD)}let Po=(()=>{var nt;class _t{constructor(r,v){this.loggingService=r,this.playtestLiveService=v,this.primaryButtonClick=new n.vpe,this.secondaryButtonClick=new n.vpe,this.destroy$=new S.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("PermissionHig"),this.featureFlags=this.playtestLiveService.featureFlags}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}onCancelButtonClick(){this.secondaryButtonClick.emit(!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(Ni))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtestlive-permissionhig"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick"},decls:22,vars:21,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"permissionhig-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"permissionhig-dialog-header"],[1,"font-header6"],[1,"permissionhig-dialog-body"],[1,"font-body2",3,"innerHtml"],["class","font-body2",3,"innerHtml",4,"ngIf"],["fxLayout","row-reverse","fxLayoutAlign","start center","fxLayoutGap","10px"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","click"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button",3,"click"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",4),n._UZ(7,"span",5),n.ALo(8,"translate"),n.YNc(9,pr,2,3,"span",6),n.YNc(10,zo,2,3,"span",6),n.YNc(11,vr,2,3,"span",6),n.YNc(12,Ko,2,3,"span",6),n.qZA()(),n.TgZ(13,"mat-dialog-actions",7)(14,"button",8),n.NdJ("click",function(){return v.onPrimaryButtonClick()}),n._uU(15),n.ALo(16,"uppercase"),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"button",9),n.NdJ("click",function(){return v.onCancelButtonClick()}),n._uU(19),n.ALo(20,"uppercase"),n.ALo(21,"translate"),n.qZA()()()),2&r&&(n.xp6(4),n.hij(" ",n.lcZ(5,9,"playtestLive.privacyPermissionsDialog.header")," "),n.xp6(3),n.Q6J("innerHtml",n.lcZ(8,11,"playtestLive.privacyPermissionsDialog.permissionIntro"),n.oJD),n.xp6(2),n.Q6J("ngIf",v.featureFlags.captureGameplay),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureInput),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureWebcam),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureMicrophone),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.hij(" ",n.lcZ(16,13,n.lcZ(17,15,"playtestLive.privacyPermissionsDialog.accept"))," "),n.xp6(4),n.hij(" ",n.lcZ(20,17,n.lcZ(21,19,"common.cancel"))," "))},dependencies:[e.O5,b.xw,b.SQ,b.Wh,b.s9,b.yH,y.eB,x.ZT,x.H8,e.gd,f.X$],styles:[".permissionhig-dialog-container[_ngcontent-%COMP%]{max-width:100%}.permissionhig-dialog-container[_ngcontent-%COMP%]   .permissionhig-dialog-header[_ngcontent-%COMP%]{margin-bottom:25px}.permissionhig-dialog-container[_ngcontent-%COMP%]   .permissionhig-dialog-body[_ngcontent-%COMP%]{margin-bottom:20px}"]}),_t})();var go=t(96355),Qr=t(10257),Os=t(78173);const fr=["disableButton"];function bs(nt,_t){if(1&nt&&(n.TgZ(0,"mat-option",18),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw();n.Q6J("value",Et.selectedMicrophoneId),n.xp6(1),n.hij(" ",n.lcZ(2,2,"playtestLive.selectMicrophoneDialog.noMicrophone")," ")}}function ys(nt,_t){if(1&nt&&(n.TgZ(0,"mat-option",19),n._uU(1),n.qZA()),2&nt){const Et=_t.$implicit;n.Q6J("value",Et.deviceId),n.xp6(1),n.hij(" ",Et.label," ")}}function Es(nt,_t){1&nt&&(n.TgZ(0,"div",20),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"playtestLive.hardwarePermissionError")," "))}function So(nt,_t){1&nt&&(n.TgZ(0,"div",20),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"playtestLive.hardwarePermissionErrorOptional")," "))}const jr=function(nt){return{"microphone-display-none":nt}};let _r=(()=>{var nt;class _t{constructor(r,v,et,ht){this.gfnWebcamService=r,this.loggingService=v,this.playtestLiveService=et,this.systemInfoService=ht,this.primaryButtonClick=new n.vpe,this.micSensitivity=0,this.isMicReady=!1,this.destroy$=new S.xQ,this.selectedMicrophoneId="",this.checkboxState=!1,this.stopMicAfterPreview=!1,this.onAudioProcess=()=>{if(this.playtestLiveService.audioAnalyzer){const Ot=new Uint8Array(this.playtestLiveService.audioAnalyzer.frequencyBinCount);this.playtestLiveService.audioAnalyzer.getByteFrequencyData(Ot);let Ft=0;const Ht=Array.from(Ot);for(const ae of Ht)Ft+=ae;this.micSensitivity=Ft/Ot.length}else this.micSensitivity=0}}ngOnInit(){this.logger=this.loggingService.getLogger("MicrophonePreview"),this.featureFlags=this.playtestLiveService.featureFlags,this.audioDevices=[],this.systemInfoService.getDeviceOSType().pipe((0,l.R)(this.destroy$),(0,o.q)(1)).subscribe(r=>{this.stopMicAfterPreview=!s.ng.isCefPlatform()||r!==s.wi.Windows}),this.gfnWebcamService.getMediaDeviceInfo(this.featureFlags).pipe((0,l.R)(this.destroy$)).subscribe(r=>{this.audioDevices=r.audioInput.map(v=>v),0<this.audioDevices.length&&this.onMicrophoneSelected(this.audioDevices[0].deviceId)},r=>{this.logger.info("Error fetching mic: ",r)}),this.audioIntervalHandle=window.setInterval(this.onAudioProcess,100)}onMicrophoneSelected(r){const v=this.audioDevices.find(et=>et.deviceId===r);v&&(this.selectedMicrophoneId=v.deviceId,this.gfnWebcamService.mediaSetup.microphone=v.label,this.gfnWebcamService.mediaSetup.micDevId=v.deviceId,this.playtestLiveService.stopMic(),this.playtestLiveService.startMic(v.deviceId),this.isMicReady=!0)}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}onDisableChange(){this.checkboxState?(this.playtestLiveService.stopMic(),this.gfnWebcamService.mediaSetup.microphone="Disable",this.gfnWebcamService.mediaSetup.micDevId="Disable"):this.onMicrophoneSelected(this.selectedMicrophoneId)}isSelectorEmpty(){return 0===this.audioDevices.length||!this.audioDevices[0].deviceId||0===this.audioDevices[0].deviceId.length}ngOnDestroy(){window.clearInterval(this.audioIntervalHandle),this.audioIntervalHandle=null,this.stopMicAfterPreview?(this.logger.info("Stopping mic after preview"),this.playtestLiveService.stopMic()):this.logger.info("Not stopping mic after preview"),this.destroy$.next(!0),this.destroy$.complete(),this.audioDevices=[]}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(Fn),n.Y36(s.ed),n.Y36(Ni),n.Y36(s.Ob))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtestlive-microphonepreview"]],viewQuery:function(r,v){if(1&r&&n.Gf(fr,5),2&r){let et;n.iGM(et=n.CRH())&&(v.disableButton=et.first)}},inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:33,vars:39,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"microphone-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"microphone-dialog-header"],[1,"font-header6"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"microphone-dialog-select","font-body2"],[3,"disableOptionCentering","value","disabled","valueChange","selectionChange"],["selected","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","15px",1,"microphone-dialog-preview"],[1,"font-body2","nowrap"],["mode","determinate",1,"mic-progress",3,"value"],[1,"microphone-dialog-disable"],[3,"ngClass","ngModel","ngModelChange","change"],[1,"font-body2","font-color-warning",3,"ngClass"],["class","font-body2",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","disabled"],["selected","",3,"value"],[3,"value"],[1,"font-body2"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",4)(7,"mat-select",5),n.NdJ("valueChange",function(ht){return v.selectedMicrophoneId=ht})("selectionChange",function(ht){return v.onMicrophoneSelected(ht.value)}),n.YNc(8,bs,3,4,"mat-option",6),n.YNc(9,ys,2,2,"mat-option",7),n.qZA()(),n.TgZ(10,"div",8)(11,"span",9),n._uU(12),n.ALo(13,"translate"),n.qZA(),n._UZ(14,"mat-progress-bar",10),n.qZA(),n.TgZ(15,"div",11)(16,"mat-checkbox",12),n.NdJ("ngModelChange",function(ht){return v.checkboxState=ht})("change",function(){return v.onDisableChange()}),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"div",13),n._uU(20),n.ALo(21,"translate"),n.qZA()(),n.YNc(22,Es,3,3,"div",14),n.YNc(23,So,3,3,"div",14),n.qZA(),n.TgZ(24,"mat-dialog-actions",15)(25,"button",16),n._uU(26),n.ALo(27,"uppercase"),n.ALo(28,"translate"),n.qZA(),n.TgZ(29,"button",17),n._uU(30),n.ALo(31,"uppercase"),n.ALo(32,"translate"),n.qZA()()()),2&r&&(n.xp6(4),n.hij(" ",n.lcZ(5,19,"playtestLive.selectMicrophoneDialog.selectYourMicrophone")," "),n.xp6(3),n.Q6J("disableOptionCentering",!0)("value",v.selectedMicrophoneId)("disabled",v.checkboxState||v.isSelectorEmpty()),n.xp6(1),n.Q6J("ngIf",v.isSelectorEmpty()),n.xp6(1),n.Q6J("ngForOf",v.audioDevices),n.xp6(3),n.hij(" ",n.lcZ(13,21,"playtestLive.selectMicrophoneDialog.inputLevel")," "),n.xp6(2),n.Q6J("value",v.checkboxState?0:v.micSensitivity),n.xp6(2),n.Q6J("ngClass",n.VKq(35,jr,!v.featureFlags.captureMicrophoneOptional))("ngModel",v.checkboxState),n.xp6(1),n.Oqu(n.lcZ(18,23,"playtestLive.selectMicrophoneDialog.disableMicrophone")),n.xp6(2),n.Q6J("ngClass",n.VKq(37,jr,!v.isSelectorEmpty()||v.featureFlags.captureMicrophoneOptional)),n.xp6(1),n.hij(" ",n.lcZ(21,25,"playtestLive.selectMicrophoneDialog.requireMicrophone")," "),n.xp6(2),n.Q6J("ngIf",v.isSelectorEmpty()&&!v.featureFlags.captureMicrophoneOptional),n.xp6(1),n.Q6J("ngIf",v.isSelectorEmpty()&&v.featureFlags.captureMicrophoneOptional),n.xp6(3),n.hij(" ",n.lcZ(27,27,n.lcZ(28,29,"common.cancel"))," "),n.xp6(3),n.Q6J("mat-dialog-close",!0)("disabled",v.isSelectorEmpty()&&(!v.featureFlags.captureMicrophoneOptional||!v.checkboxState)),n.xp6(1),n.hij(" ",n.lcZ(31,31,n.lcZ(32,33,"playtestLive.joinPlaytest"))," "))},dependencies:[e.mk,e.sg,e.O5,L.JJ,L.On,b.xw,b.SQ,b.Wh,b.s9,b.yH,I.oO,y.eB,bt.FC,x.ZT,x.H8,go.gD,Qr.ey,Os.pW,Vt.xZ,e.gd,f.X$],styles:[".isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-right:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-left:10px}.isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-left:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-right:10px}.microphone-dialog-container[_ngcontent-%COMP%]{max-width:100%}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-select[_ngcontent-%COMP%]{height:48px;margin-bottom:16px;background:#494949}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-preview[_ngcontent-%COMP%], .microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-disable[_ngcontent-%COMP%]{margin-bottom:10px}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-disable[_ngcontent-%COMP%]   .font-color-warning[_ngcontent-%COMP%]{color:#ffb43e}.microphone-dialog-container[_ngcontent-%COMP%]   .mic-progress[_ngcontent-%COMP%]{margin-top:8px}.microphone-dialog-container[_ngcontent-%COMP%]   .nowrap[_ngcontent-%COMP%]{white-space:nowrap}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-display-none[_ngcontent-%COMP%]{display:none}"]}),_t})();const xs=["webcamHolder"],Is=["disableButton"];function ws(nt,_t){if(1&nt&&(n.TgZ(0,"mat-option",19),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw();n.Q6J("value",Et.selectedWebcamId),n.xp6(1),n.hij(" ",n.lcZ(2,2,"playtestLive.selectWebcamDialog.noWebcam")," ")}}function Ls(nt,_t){if(1&nt&&(n.TgZ(0,"mat-option",20),n._uU(1),n.qZA()),2&nt){const Et=_t.$implicit;n.Q6J("value",Et.deviceId),n.xp6(1),n.hij(" ",Et.label," ")}}function Ts(nt,_t){1&nt&&(n.TgZ(0,"div",23),n._UZ(1,"mat-progress-spinner",24),n.qZA())}function Ds(nt,_t){if(1&nt&&(n.TgZ(0,"div",21),n.YNc(1,Ts,2,0,"div",22),n.qZA()),2&nt){const Et=n.oxw();n.xp6(1),n.Q6J("ngIf",Et.showSpinner)}}function Rs(nt,_t){1&nt&&(n.TgZ(0,"div",29),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"playtestLive.hardwarePermissionError")," "))}function As(nt,_t){1&nt&&(n.TgZ(0,"div",29),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"playtestLive.hardwarePermissionErrorOptional")," "))}function Ns(nt,_t){if(1&nt&&(n.TgZ(0,"div",25)(1,"div",26)(2,"div",27),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.YNc(5,Rs,3,3,"div",28),n.YNc(6,As,3,3,"div",28),n.qZA()()),2&nt){const Et=n.oxw();n.xp6(3),n.hij(" ",n.lcZ(4,3,"playtestLive.selectWebcamDialog.noWebcam")," "),n.xp6(2),n.Q6J("ngIf",!Et.featureFlags.captureWebcamOptional),n.xp6(1),n.Q6J("ngIf",Et.featureFlags.captureWebcamOptional)}}function Us(nt,_t){if(1&nt&&(n.TgZ(0,"button",30),n._uU(1),n.ALo(2,"uppercase"),n.ALo(3,"translate"),n.qZA()),2&nt){const Et=n.oxw();n.Q6J("mat-dialog-close",!0)("disabled",!Et.isWebcamReady),n.xp6(1),n.hij(" ",n.lcZ(2,3,n.lcZ(3,5,"playtestLive.selectWebcamDialog.next"))," ")}}function ks(nt,_t){if(1&nt&&(n.TgZ(0,"button",30),n._uU(1),n.ALo(2,"uppercase"),n.ALo(3,"translate"),n.qZA()),2&nt){const Et=n.oxw();n.Q6J("mat-dialog-close",!0)("disabled",!Et.isWebcamReady&&!Et.checkboxState),n.xp6(1),n.hij(" ",n.lcZ(2,3,n.lcZ(3,5,"playtestLive.joinPlaytest"))," ")}}const Fs=function(nt){return{"webcam-hidden":nt}},Jr=function(nt){return{"webcam-display-none":nt}};let Gs=(()=>{var nt;class _t{constructor(r,v,et){this.gfnWebcamService=r,this.loggingService=v,this.playtestLiveService=et,this.secondaryButtonClick=new n.vpe,this.destroy$=new S.xQ,this.isWebcamReady=!1,this.selectedWebcamId="",this.checkboxState=!1,this.showSpinner=!0,this.spinnerTimeout=null}startSpinner(){this.stopSpinner(),this.showSpinner=!0,this.spinnerTimeout=(0,Ti.H)(7e3).subscribe(()=>{this.stopSpinner()})}stopSpinner(){var r;null===(r=this.spinnerTimeout)||void 0===r||r.unsubscribe(),this.spinnerTimeout=null,this.showSpinner=!1}ngOnInit(){this.logger=this.loggingService.getLogger("WebcamPreview"),this.featureFlags=this.playtestLiveService.featureFlags,this.videoDevices=[],this.startSpinner(),this.gfnWebcamService.getMediaDeviceInfo(this.featureFlags).pipe((0,l.R)(this.destroy$)).subscribe(r=>{this.videoDevices=r.videoInput.map(v=>v),0<this.videoDevices.length?this.onWebcamSelected(this.videoDevices[0].deviceId):this.stopSpinner()},r=>{this.logger.info("Error fetching webcam: ",r),this.stopSpinner()})}onWebcamSelected(r){const v=this.videoDevices.find(et=>et.deviceId===r);this.isWebcamReady=!1,this.startSpinner(),v&&(this.selectedWebcamId=v.deviceId,(0,Jn.D)(navigator.mediaDevices.getUserMedia({audio:!1,video:{width:512,deviceId:v.deviceId}})).pipe((0,o.q)(1),(0,l.R)(this.destroy$),(0,gt.b)(et=>et.getVideoTracks().some(ht=>ht.enabled&&"live"===ht.readyState)?(0,J.of)(et):(0,Rn._)("Webcam not ready"))).subscribe(et=>{this.clearTracks(),this.webcamHolder.nativeElement.srcObject=et,this.webcamHolder.nativeElement.onloadedmetadata=ht=>{this.stopSpinner(),this.isWebcamReady=!0,this.webcamHolder.nativeElement.play(),this.gfnWebcamService.mediaSetup.webcam=v.label,this.gfnWebcamService.mediaSetup.webcamDevId=v.deviceId}},et=>{this.stopSpinner(),this.isWebcamReady=!1,this.clearTracks(),this.logger.info("Error accessing your webcam: ",et)}))}onDisableChange(){this.checkboxState?(this.stopSpinner(),this.isWebcamReady=!1,this.clearTracks(),this.gfnWebcamService.mediaSetup.webcam="Disable",this.gfnWebcamService.mediaSetup.webcamDevId="Disable"):this.onWebcamSelected(this.selectedWebcamId)}isSelectorEmpty(){return 0===this.videoDevices.length||!this.videoDevices[0].deviceId||0===this.videoDevices[0].deviceId.length}clearTracks(){var r;const v=null===(r=this.webcamHolder)||void 0===r||null===(r=r.nativeElement)||void 0===r||null===(r=r.srcObject)||void 0===r?void 0:r.getTracks();null==v||v.forEach(et=>et.stop())}ngOnDestroy(){this.stopSpinner(),this.clearTracks(),this.checkboxState&&(this.gfnWebcamService.mediaSetup.webcam="Disable",this.gfnWebcamService.mediaSetup.webcamDevId="Disable"),this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(Fn),n.Y36(s.ed),n.Y36(Ni))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtestlive-webcampreview"]],viewQuery:function(r,v){if(1&r&&(n.Gf(xs,5),n.Gf(Is,5)),2&r){let et;n.iGM(et=n.CRH())&&(v.webcamHolder=et.first),n.iGM(et=n.CRH())&&(v.disableButton=et.first)}},outputs:{secondaryButtonClick:"secondaryButtonClick"},decls:29,vars:33,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"webcam-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"webcam-dialog-header"],[1,"font-header6"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"webcam-dialog-select","font-body2"],[3,"disableOptionCentering","value","disabled","valueChange","selectionChange"],["selected","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"webcam-dialog-preview"],[1,"video-preview",3,"ngClass"],["webcamHolder",""],["class","video-box",4,"ngIf"],["class","video-text-box",4,"ngIf"],[1,"webcam-dialog-disable"],[3,"ngClass","ngModel","ngModelChange","change"],[1,"font-body2","font-color-warning",3,"ngClass"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close","disabled",4,"ngIf"],["selected","",3,"value"],[3,"value"],[1,"video-box"],["class","hig-dialog-spinner","fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto",1,"hig-dialog-spinner"],["mode","indeterminate","diameter","48","strokeWidth","4","color","accent"],[1,"video-text-box"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto"],[1,"no-webcam-header","font-sub1"],["class","font-body2",4,"ngIf"],[1,"font-body2"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","disabled"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",4)(7,"mat-select",5),n.NdJ("valueChange",function(ht){return v.selectedWebcamId=ht})("selectionChange",function(ht){return v.onWebcamSelected(ht.value)}),n.YNc(8,ws,3,4,"mat-option",6),n.YNc(9,Ls,2,2,"mat-option",7),n.qZA()(),n.TgZ(10,"div",8),n._UZ(11,"video",9,10),n.YNc(13,Ds,2,1,"div",11),n.YNc(14,Ns,7,5,"div",12),n.qZA(),n.TgZ(15,"div",13)(16,"mat-checkbox",14),n.NdJ("ngModelChange",function(ht){return v.checkboxState=ht})("change",function(){return v.onDisableChange()}),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"div",15),n._uU(20),n.ALo(21,"translate"),n.qZA()()(),n.TgZ(22,"mat-dialog-actions",16)(23,"button",17),n._uU(24),n.ALo(25,"uppercase"),n.ALo(26,"translate"),n.qZA(),n.YNc(27,Us,4,7,"button",18),n.YNc(28,ks,4,7,"button",18),n.qZA()()),2&r&&(n.xp6(4),n.Oqu(n.lcZ(5,17,"playtestLive.selectWebcamDialog.selectYourWebcam")),n.xp6(3),n.Q6J("disableOptionCentering",!0)("value",v.selectedWebcamId)("disabled",v.checkboxState||v.isSelectorEmpty()),n.xp6(1),n.Q6J("ngIf",v.isSelectorEmpty()),n.xp6(1),n.Q6J("ngForOf",v.videoDevices),n.xp6(2),n.Q6J("ngClass",n.VKq(27,Fs,v.checkboxState||!v.isWebcamReady)),n.xp6(2),n.Q6J("ngIf",v.showSpinner||v.checkboxState||!v.isWebcamReady||v.isSelectorEmpty()),n.xp6(1),n.Q6J("ngIf",!v.showSpinner&&!v.checkboxState&&(v.isSelectorEmpty()||!v.isWebcamReady)),n.xp6(2),n.Q6J("ngClass",n.VKq(29,Jr,!v.featureFlags.captureWebcamOptional))("ngModel",v.checkboxState),n.xp6(1),n.Oqu(n.lcZ(18,19,"playtestLive.selectWebcamDialog.disableWebcam")),n.xp6(2),n.Q6J("ngClass",n.VKq(31,Jr,v.featureFlags.captureWebcamOptional||!v.isSelectorEmpty())),n.xp6(1),n.hij(" ",n.lcZ(21,21,"playtestLive.selectWebcamDialog.requireWebcam")," "),n.xp6(4),n.hij(" ",n.lcZ(25,23,n.lcZ(26,25,"common.cancel"))," "),n.xp6(3),n.Q6J("ngIf",v.featureFlags.captureMicrophone&&!v.checkboxState),n.xp6(1),n.Q6J("ngIf",!v.featureFlags.captureMicrophone||v.checkboxState))},dependencies:[e.mk,e.sg,e.O5,L.JJ,L.On,b.xw,b.SQ,b.Wh,b.s9,b.yH,I.oO,y.eB,bt.FC,a.Ou,x.ZT,x.H8,go.gD,Qr.ey,Vt.xZ,e.gd,f.X$],styles:[".isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-right:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-left:10px}.isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-left:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-right:10px}.webcam-dialog-container[_ngcontent-%COMP%]{max-width:100%}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-select[_ngcontent-%COMP%]{height:48px;margin-bottom:16px;background:#494949}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]{height:288px;margin-bottom:10px;position:relative}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{object-fit:cover;height:100%;width:100%;position:absolute}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;background:#292929}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-text-box[_ngcontent-%COMP%]{height:100%;width:76%;left:12%;position:absolute;text-align:center}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-text-box[_ngcontent-%COMP%]   .no-webcam-header[_ngcontent-%COMP%]{margin-bottom:5px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-disable[_ngcontent-%COMP%]{margin-bottom:10px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-disable[_ngcontent-%COMP%]   .font-color-warning[_ngcontent-%COMP%]{color:#ffb43e}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-hidden[_ngcontent-%COMP%]{visibility:hidden}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-display-none[_ngcontent-%COMP%]{display:none}"]}),_t})();function Bs(nt,_t){1&nt&&(n._UZ(0,"div",8),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackIntro"),n.oJD)}function Hs(nt,_t){1&nt&&(n._UZ(0,"div",8),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackGameplay"),n.oJD)}function Vs(nt,_t){1&nt&&(n._UZ(0,"div",8),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackInputs"),n.oJD)}function Ws(nt,_t){1&nt&&(n._UZ(0,"div",8),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackWebcam"),n.oJD)}function zs(nt,_t){1&nt&&(n._UZ(0,"div",8),n.ALo(1,"translate")),2&nt&&n.Q6J("innerHtml",n.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackMicrophone"),n.oJD)}let Ks=(()=>{var nt;class _t{constructor(r,v){this.loggingService=r,this.playtestLiveService=v,this.primaryButtonClick=new n.vpe,this.destroy$=new S.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("FeedbackHig"),this.featureFlags=this.playtestLiveService.featureFlags}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(Ni))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["gfn-playtestlive-feedbackhig"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:17,vars:14,consts:[["fxLayout","column",1,"feedbackhig-dialog-container"],[1,"feedbackhig-dialog-header"],[1,"font-header6"],[1,"feedbackhig-dialog-intro"],["class","font-body2",3,"innerHtml",4,"ngIf"],[1,"feedbackhig-dialog-items"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","click"],[1,"font-body2",3,"innerHtml"]],template:function(r,v){1&r&&(n.TgZ(0,"div",0)(1,"span",1)(2,"span",2),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.TgZ(5,"span",3),n.YNc(6,Bs,2,3,"div",4),n.qZA(),n.TgZ(7,"span",5),n.YNc(8,Hs,2,3,"div",4),n.YNc(9,Vs,2,3,"div",4),n.YNc(10,Ws,2,3,"div",4),n.YNc(11,zs,2,3,"div",4),n.qZA(),n.TgZ(12,"mat-dialog-actions",6)(13,"button",7),n.NdJ("click",function(){return v.onPrimaryButtonClick()}),n._uU(14),n.ALo(15,"uppercase"),n.ALo(16,"translate"),n.qZA()()()),2&r&&(n.xp6(3),n.hij(" ",n.lcZ(4,8,"playtestLive.playtestFeedbackDialog.header")," "),n.xp6(3),n.Q6J("ngIf",v.featureFlags.captureWebcam||v.featureFlags.captureMicrophone||v.featureFlags.captureGameplay||v.featureFlags.captureInput),n.xp6(2),n.Q6J("ngIf",v.featureFlags.captureGameplay),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureInput),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureWebcam),n.xp6(1),n.Q6J("ngIf",v.featureFlags.captureMicrophone),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.hij(" ",n.lcZ(15,10,n.lcZ(16,12,"common.done"))," "))},dependencies:[e.O5,b.xw,b.SQ,b.Wh,y.eB,x.ZT,x.H8,e.gd,f.X$],styles:[".feedbackhig-dialog-container[_ngcontent-%COMP%]{max-width:100%}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-header[_ngcontent-%COMP%]{margin-bottom:20px}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-intro[_ngcontent-%COMP%]{margin-bottom:10px}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-items[_ngcontent-%COMP%]{margin-bottom:20px}"]}),_t})();var $o=t(58540),Xr=t(4406),qr=t(36480),ts=t(32311);let Mo=(()=>{var nt;class _t{allowEarlyLayoutFetch(){this.startLayoutFetchSubject.next()}get startLayoutFetch$(){return this.startLayoutFetchSubject.asObservable()}get filterPanelToggled$(){return this.filterPanelToggled.asObservable()}get streamingTerminated$(){return this.streamingTerminated.asObservable()}get selectedParentId(){return this._selectedParentId}get enableGridResizing$(){return this.enableGridResizing}get gridSectionEvidencePanelOpenStatus$(){return this.isGridSectionEvidencePanelOpen.asObservable()}updateGridSectionEvidencePanelOpenStatus(r){this.isGridSectionEvidencePanelOpen.next(r)}browseStore(r){return r.pipe((0,o.q)(1),(0,Ve.U)(v=>(this.browseDbStore=this.dbCacheService.getOrCreateCachedGlobalItem(oi.SB.DbStoreName,v.userId||s.kQ),this.logger.info("DB store initialize",oi.SB.DbStoreName),this.browseDbStore)))}applyClassOnBody(r){document?document.getElementsByTagName("body")[0].classList.add(r):this.logger.error("Can not add the class, document is undefined")}updateInitialScale(){const r=window.devicePixelRatio;if(r){const v=1/r;this.meta.updateTag({content:`width=device-width, initial-scale=${v}, viewport-fit=cover, minimum-scale=${v}, maximum-scale=${v}`},"name=viewport")}else this.logger.info("Invalid devicePixelRatio. Not updating the initial scale.")}get gridViewEvidencePanelGameId(){return this._gridViewEvidencePanelGameId}get enableOverrideToolLink(){return this.overrideToolPath&&this.browserSupportService.isStagingOrDevDomain()&&this.pwaService.isInPWAMode()}constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me){var Ne,ke,Ze;this.appConfig=v,this.dbCacheService=et,this.systemInfoService=ht,this.sharedStorageService=Ot,this.distributedTracingBootstrapService=Ft,this.meta=Ht,this.browserSupportService=ae,this.pwaService=Me,this.marqueeControl=Xr.E.Play,this.enableGridResizing=new S.xQ,this.isGridSectionEvidencePanelOpen=new Pi.X(!1),this.filterPanelToggled=new Nn.t(1),this.streamingTerminated=new S.xQ,this.startLayoutFetchSubject=new Nn.t(1),this.logger=r.getLogger("gfn/shared/browseUx"),this._selectedParentId="",this.tvMode=!(null==v||null===(Ne=v.featureEnablement)||void 0===Ne||!Ne.tvMode),this.overrideToolPath=null===(ke=this.appConfig)||void 0===ke||null===(ke=ke.client)||void 0===ke?void 0:ke.overrideToolPath;const on=!(null==v||null===(Ze=v.featureEnablement)||void 0===Ze||!Ze.new10ftUx);var sn;this.tvMode&&(this.applyClassOnBody("tv-view"),null!=v&&null!==(sn=v.client)&&void 0!==sn&&sn.updateInitalScale&&this.updateInitialScale()),on&&this.applyClassOnBody("new-10ft")}initialize(){this.setMarqueeControlAction(Xr.E.Play)}getUserPreference(r,v){return this.browseStore(v).pipe((0,vt.zg)(et=>et.sync_()),(0,Ve.U)(et=>et[r]))}setGridViewEvidencePanelGameId(r){this._gridViewEvidencePanelGameId=r}setUserPreference(r,v){return this.browseDbStore.sync_().pipe((0,vt.zg)(()=>(this.browseDbStore[r]=v,this.browseDbStore.persist_())))}setMarqueeControlAction(r){this.marqueeControl=r}getMarqueeControlAction(){return this.marqueeControl}setSelectedParentId(r){this._selectedParentId=r}emitFilterPanelToggled(r,v){this.filterPanelToggled.next({opened:r,mode:v})}emitStreamingTerminated(){this.streamingTerminated.next()}getVersionString(){return(0,Wn.aj)([this.systemInfoService.getSystemInfo([s.l7.UserDefaultUILanguage,s.l7.ProductName]),this.distributedTracingBootstrapService.fetchCountryCode()]).pipe((0,o.q)(1),(0,Ve.U)(([r,v])=>{if(s.ng.isAndroidPlatform())return`${(0,ge.sc)(this.appConfig)} ${v}/${r.UserDefaultUILanguage}/${r.ProductName}`;{const et=this.getClientVersionInfo();if(!et)return"";let ht="",Ot="";return et.variant.length>0&&(ht=et.variant.charAt(0)),et.type.length>0&&(Ot=et.type.charAt(0)),et.version+(ht&&Ot?"/":"")+ht+Ot+" "+v+"/"+r.UserDefaultUILanguage}}))}readLaunchMetaData(r){return this.sharedStorageService.readBlock(An.mP.parentIdToLaunchMetaDataMap+"/"+r)}writeLaunchMetaData(r,v){return this.sharedStorageService.writeBlock(An.mP.parentIdToLaunchMetaDataMap+"/"+r,v)}deleteLaunchMetaData(r){return this.sharedStorageService.removeBlock(An.mP.parentIdToLaunchMetaDataMap+"/"+r)}openOverrideToolPage(){this.tvMode?location.href=this.overrideToolPath:window.open(this.overrideToolPath,"_blank")}getClientVersionInfo(){return{version:this.appConfig.build.version,variant:this.appConfig.build.variant,type:this.appConfig.build.type}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ge.VK),n.LFG(s.LA),n.LFG(s.Ob),n.LFG(ni.OA),n.LFG(po),n.LFG(qr.h_),n.LFG(ts.OA),n.LFG(yr.nG))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Oo=function(nt){return nt.Back="Back",nt.Logout="Logout",nt}(Oo||{}),Pn=function(nt){return nt.MarkAsOwned="MarkAsOwned",nt.ManuallyMarkAsOwned="ManuallyMarkAsOwned",nt.Cancel="Cancel",nt.Reconnect="Reconnect",nt.Connect="Connect",nt.GoToConnection="GoToConnection",nt.Resync="Resync",nt.NotNow="NotNow",nt.Done="Done",nt}(Pn||{});const Mi_body_text="layout.inLineAccountLinkingPrompt.body",Mi_body_textWithoutURL="layout.inLineAccountLinkingPrompt.bodyWithoutURL",Mi_primaryButton={text:"layout.accountLinkingPrompt.connect",accentColor:!0},Mi_checkbox_text="common.dontShowThisAgain",Mi_checkbox_initialState=!1,Mi_tvLink_text="pathToPurchase.title",es_body_text="layout.inLineSyncInProgress.body",Zo_connectBody_text="layout.inLineAccountConnected.body",Zo_reconnectBody_text="layout.inLineAccountConnected.reconnectBody",Zo_primaryButton={text:"common.done"},Yo_body_text="layout.inLineSyncFailure.failedSync.body",Yo_primaryButton={text:"accountConnection.refreshLibrary",accentColor:!0},bo_body_text="layout.inLineSyncFailure.notPublicIssue.body",bo_primaryButton={text:"accountConnection.refreshLibrary",accentColor:!0},yo_body_text="layout.inLineSyncFailure.profileNotCreated.body",yo_primaryButton={text:"accountConnection.refreshLibrary",accentColor:!0},Qo_body_text="layout.inLineSyncFailure.permissionFailure.body",Qo_primaryButton={text:"accountConnection.goToConnection",accentColor:!0},Cr_body_text="layout.inLineLibrarySynced.body",Cr_primaryButton={text:"common.done"},Hi_body_text="layout.inLineNoGameSynced.body",Hi_primaryButton={text:"accountConnection.refreshLibrary",accentColor:!0},Hi_tvLink_text="pathToPurchase.title",Ii_body_text="layout.manuallyOwnPrompt.body",Ii_body_textWithoutURL="layout.manuallyOwnPrompt.bodyWithoutURL",Ii_genericBody_text="layout.manuallyOwnPrompt.genericBody",Ii_genericBody_textWithoutURL="layout.manuallyOwnPrompt.genericBodyWithoutURL",Ii_primaryButton={text:"layout.manuallyOwnPrompt.primaryButton",accentColor:!0},Ii_tvLink_text="pathToPurchase.title",Ji_body_text="layout.resyncGameStore.body",Ji_primaryButton={text:"accountConnection.refreshLibrary",accentColor:!0},Ji_tvLink_text="pathToPurchase.title",Pr={header:"common.joinTodayToPlay",headerOnTv:"layout.joinTodayAlertDialogText.headerTextOnTv",body:{text:"layout.joinTodayAlertDialogText.bodyText",textWithoutLink:"layout.joinTodayAlertDialogText.bodyTextWithoutLink"},primaryButton:{text:"common.joinToday",accentColor:!0},secondaryButton:{text:"common.cancel"},loginButton:{text:"common.login"}},Sr={header:"loginBridgeState.loginToGeForceNow",headerOnTv:"loginBridgeState.loginToGeForceNow",body:{text:"layout.joinTodayAlertDialogText.bodyTextWithoutLink",textWithoutLink:"layout.joinTodayAlertDialogText.bodyTextWithoutLink"},primaryButton:{text:"common.login",accentColor:!0},secondaryButton:{text:"common.cancel"},loginButton:{text:"common.login",accentColor:!0}},Eo_body_text="common.connectionError",Eo_primaryButton={text:"common.close",accentColor:!0},Ui_body_text="layout.mobileDataWarning.body",Ui_primaryButton={text:"common.allow",accentColor:!0},xo_body={text:"multiplatform.dialog.description"},xo_primaryButton={text:"common.continue",isDisabled:!0},jo_body_text="fencedStatus.patchingSupplementalText",jo_primaryButton_text="common.close",Mr_body_text="fencedStatus.offlineSupplementalTextShortMessage",Mr_primaryButton_text="common.close",Vi_body_text="layout.gamepadWarningAlert.body",Vi_checkbox_text="common.dontShowThisAgain",Vi_checkbox_initialState=!1,Vi_primaryButton={text:"common.continue",accentColor:!0},wi_body_text="layout.keyboardMouseWarningAlert.body",wi_checkbox_text="common.dontShowThisAgain",wi_checkbox_initialState=!1,wi_primaryButton={text:"common.continue",accentColor:!0},ui_body_text="layout.dayPassLowPlayTimeAlert.body",ui_body_bodyEcomRestricted="layout.dayPassLowPlayTimeAlert.bodyEcomRestricted",ui_body_bodyEcomRestrictedTV="layout.dayPassLowPlayTimeAlert.bodyEcomRestrictedTV",ui_checkbox_text="common.dontShowThisAgain",ui_checkbox_initialState=!1,ui_primaryButton={text:"common.playAnyway",accentColor:!0},ui_secondaryButton_text="common.cancel",ui_secondaryButton_id="cancel",ui_augmentedButton_text="ecommerce.membership.addDays",ui_augmentedButton_ecomRestricted="ecommerce.viewAccount",gi_body_text="timeCapTimeAlert.timeCapLowPlayTimeAlert.body",gi_body_bodyEcomRestricted="timeCapTimeAlert.timeCapLowPlayTimeAlert.bodyEcomRestricted",gi_checkbox_text="timeCapTimeAlert.dontShowAgain",gi_checkbox_initialState=!1,gi_primaryButton={text:"common.playAnyway",accentColor:!0},Xn_header="timeCapSessionLimitReached.outOfPlaytime",Xn_body_text="timeCapTimeAlert.timeCapLimitedPlayTimeAlert.body",Xn_body_bodyUnplayable="timeCapTimeAlert.timeCapLimitedPlayTimeAlert.bodyUnplayable",Xn_checkbox_text="timeCapTimeAlert.dontShowAgain",Xn_checkbox_initialState=!1,Xn_primaryButton={text:"ecommerce.addPlaytime",accentColor:!0},Xn_primaryViewPlaytimeButton={text:"ecommerce.viewPlaytime",accentColor:!0},Hn_primaryButton={text:"common.gotIt"},Jo_body_unsupportedBrowserWithNativeApps="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsBodyText",Jo_primaryButton={text:"common.close"},sa_primaryButton={text:"common.continueAnyway"},sa_secondaryButton={text:"common.cancel"};let Or=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un){var vn;this.appConfig=v,this.dialog=et,this.browseUxService=ht,this.translateService=Ot,this.telemetryUtilService=Ft,this.sharedStorageService=Ht,this.idmService=ae,this.redirectService=Me,this.genericDialog=Ne,this.ecomService=ke,this.unsupportedBrowserService=Ze,this.bridgeService=on,this.focusManager=sn,this.fullPageDialog=un,this.logger=r.getLogger("DialogService"),this.tvMode=!(null==v||null===(vn=v.featureEnablement)||void 0===vn||!vn.tvMode)}get threeQuarterSheetBackgroundData(){return this._threeQuarterSheetDialogData}set threeQuarterSheetBackgroundData(r){this._threeQuarterSheetDialogData=r}openJoinTodayAlertDialog(r,v,et){const ht=this.ecomService.canHardUpsell(),Ot=ht?Pr:Sr,Ft=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:this.tvMode?Ot.headerOnTv:Ot.header},bodyText:{text:this.tvMode?Ot.body.textWithoutLink:Ot.body.text,placeholders:{loginLink:'class="font-body2-link membership-login-link"'}},primaryButton:ht?{...Ot.primaryButton}:this.tvMode?null:{...Ot.loginButton},secondaryButton:this.tvMode?{...Ot.loginButton}:{...Ot.secondaryButton},threeQuarterSheetData:{augmentedButtons:[{text:Ot.secondaryButton.text,id:"cancel"}],...et}}},{preferredDialogType:this.tvMode?R.Xm.ThreeQuarterSheet:void 0});let Ht=null;const ae=Ft.afterOpened().pipe((0,vt.zg)(Ne=>{if(this.tvMode)return Ft.secondaryButtonClick;if(!ht)return Ft.primaryButtonClick;{const ke=document.getElementsByClassName("membership-login-link");if(ke&&ke[0])return(0,T.R)(ke,"click")}return ie.E}),(0,o.q)(1));this.appConfig.featureEnablement.UASAutoEntitle?Ht=(0,Cn.S3)(ae,Ft.primaryButtonClick):(Ht=ae,Ft.primaryButtonClick.subscribe(()=>{this.telemetryUtilService.sendJoinTodayAlertDialogUiAction(An.V_.Join),this.ecomService.openJoinMembershipPage(r,v)},Ne=>{this.logger.error("join today dialog:",Ne)}));const Me=this.tvMode?Ft.augmentedButtonClick.pipe((0,En.h)(Ne=>"cancel"===Ne)):Ft.secondaryButtonClick;return(0,Cn.S3)(Me.pipe((0,Fe.h)(An.V_.Close)),Ft.afterClosed().pipe((0,Fe.h)(An.V_.Close)),Ht.pipe((0,Fe.h)(An.V_.Login))).pipe((0,Ve.U)(Ne=>(this.telemetryUtilService.sendJoinTodayAlertDialogUiAction(Ne),Ft.close(),Ne)))}openUnsupportedBrowserDialog(r,v){let et;this.openGFNUnsupportedDialog(!1,r,v).pipe((0,o.q)(1),(0,vt.zg)(ht=>(et=ht,(0,Cn.S3)(et.afterClosed().pipe((0,Fe.h)(An.uV.Cancel)),et.primaryButtonClick.pipe((0,Fe.h)(An.uV.Cancel))))),(0,gt.b)(ht=>{this.telemetryUtilService.sendPopUpDialogClosedEvent(k.ItH.Unsupported_Browser_Or_Platform_Game_Launch,k.XzU.Dialog_Closed),et.close()})).subscribe()}openUnsupportedSystemSoftBlockerDialog(r){let v;return this.openGFNUnsupportedDialog(!0,r).pipe((0,o.q)(1),(0,vt.zg)(et=>(v=et,(0,Cn.S3)(et.secondaryButtonClick.pipe((0,Fe.h)(An.e_.Cancel)),et.primaryButtonClick.pipe((0,Fe.h)(An.e_.Continue)),et.afterClosed().pipe((0,Fe.h)(An.e_.Cancel))))),(0,Ve.U)(et=>(this.telemetryUtilService.sendPopUpDialogClosedEvent(k.ItH.Unsupported_Browser_Or_Platform_Login,et===An.e_.Continue?k.XzU.Continue_Login:k.XzU.Dialog_Closed),v.close(),et)))}openGFNUnsupportedDialog(r,v,et){return this.unsupportedBrowserService.getDialogLink$(v).pipe((0,o.q)(1),(0,Ve.U)(ht=>{const Ot=this.tvMode?{text:Jo_body_unsupportedBrowserWithNativeApps,placeholders:{vanityUrl:ht.shortUrl}}:void 0;return this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:this.unsupportedBrowserService.getUnsupportedHeaderText(v)},link:ht,bodyText:Ot,primaryButton:r?{...sa_primaryButton}:{...Jo_primaryButton},secondaryButton:r?{...sa_secondaryButton}:void 0,threeQuarterSheetData:et}},{preferredDialogType:R.Xm.ThreeQuarterSheet})}),(0,gt.b)(ht=>{this.telemetryUtilService.sendPopUpDialogShownEvent(r?k.ItH.Unsupported_Browser_Or_Platform_Login:k.ItH.Unsupported_Browser_Or_Platform_Game_Launch)}))}openConnectionErrorDialog(){const r=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"common.genericLoadError"},bodyText:{text:Eo_body_text},primaryButton:{...Eo_primaryButton}}});r.primaryButtonClick.pipe((0,o.q)(1)).subscribe(()=>r.close())}openMobileDataWarningDialog(r){const v=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.mobileDataWarning.title"},bodyText:{text:Ui_body_text},primaryButton:{...Ui_primaryButton},secondaryButton:{text:"common.cancel"},threeQuarterSheetData:r}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(!0)),v.secondaryButtonClick.pipe((0,Fe.h)(!1))).pipe((0,gt.b)(()=>v.close()))}setDigitalStore(r,v,et){const ht=null==r?void 0:r.label;return ht!==si.rV?this.translateService.get(v,{digitalStore:ht}):this.translateService.get(et)}openMultiPlatformSelectionDialog(r,v,et){const ht=r.map(ae=>{const Me=ae.appStoreInfo.label;return Object.assign({value:Me===si.rV?ae.publisherName:Me},ae.appStoreInfo.smallImageUrl?{imageUrl:ae.appStoreInfo.smallImageUrl}:null)}),Ft={panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"common.beforeYouPlay"},bodyText:{...xo_body},primaryButton:{...xo_primaryButton},secondaryButton:{text:"common.cancel"},radioButtonOptions:ht}},Ht=this.genericDialog.open(Ft);return Ht.radioButtonClick.pipe((0,o.q)(1),(0,gt.b)(()=>{Ft.data.primaryButton.isDisabled=!1})).subscribe(),(0,Cn.S3)(Ht.primaryButtonClick.pipe((0,Fe.h)(!0)),Ht.secondaryButtonClick.pipe((0,Fe.h)(!1)),Ht.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,Ve.U)(ae=>{if(Ht.close(),ae){const Me=(ae=>{let Me;const Ne=si.vA.StoresList.find(ke=>ke.label===ae);return Me=r.find(Ne?ke=>ke.appStore===Ne.store:ke=>ke.publisherName===ae&&ke.appStoreInfo.label===si.rV),Me})(Ht.radioOptionSelected);return this.telemetryUtilService.sendClickEvent(k.lzt.PlatformSelection,Me.appStore,`${v}/${k.CGJ.ScreenPlatformSelectionDialog}`),Me}return null}))}openFencedStatusErrorDialog(r){this.logger.info("Show fenced error dialog for",r);const v=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:r===mn.zu.PATCHING?"fencedStatus.gamePatching":"fencedStatus.gameOffline"},bodyText:{text:r===mn.zu.PATCHING?jo_body_text:Mr_body_text},primaryButton:{text:r===mn.zu.PATCHING?jo_primaryButton_text:Mr_primaryButton_text}}});v.primaryButtonClick.pipe((0,o.q)(1)).subscribe(()=>v.close())}openGamepadRequiredDialog(r){return(0,Wn.aj)([this.redirectService.getRedirectUrl(yt.hE.GfnPcRecommendedGamepads),this.browseUxService.getUserPreference(oi.rL.skipGamepadWarningDialog,this.idmService.accountStatusChanged)]).pipe((0,vt.zg)(([v,et])=>{if(et)return(0,J.of)(!0);const ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.gamepadWarningAlert.title"},bodyText:{text:Vi_body_text,placeholders:this.tvMode?void 0:{gamePadURL:`class="font-body2-link" href="${v}"`}},checkbox:{text:this.tvMode?"layout.continueDontShowAgain":Vi_checkbox_text,initialState:Vi_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},primaryButton:{...Vi_primaryButton},secondaryButton:{text:"common.cancel"},link:{text:this.tvMode?"layout.gamepadWarningAlert.supportedGamepad":void 0,url:this.tvMode?v:void 0,shortUrl:yt.hD[yt.hE.GfnPcRecommendedGamepads]},threeQuarterSheetData:r}});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(!0)),ht.secondaryButtonClick.pipe((0,Fe.h)(!1)),ht.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,Ve.U)(Ot=>(ht.close(),Ot&&this.browseUxService.setUserPreference(oi.rL.skipGamepadWarningDialog,ht.checkboxState).pipe((0,o.q)(1)).subscribe(),Ot)))}))}openKeyboardMouseRequiredDialog(r){return this.browseUxService.getUserPreference(oi.rL.skipKeyboardMouseWarningDialog,this.idmService.accountStatusChanged).pipe((0,vt.zg)(et=>{if(et)return(0,J.of)(!0);const ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.keyboardMouseWarningAlert.title"},bodyText:{text:wi_body_text},checkbox:{text:this.tvMode?"layout.continueDontShowAgain":wi_checkbox_text,initialState:wi_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},primaryButton:{...wi_primaryButton},secondaryButton:{text:"common.quit"},threeQuarterSheetData:r}});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(!0)),ht.secondaryButtonClick.pipe((0,Fe.h)(!1)),ht.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,gt.b)(()=>ht.close()),(0,vt.zg)(Ot=>Ot?this.browseUxService.setUserPreference(oi.rL.skipKeyboardMouseWarningDialog,ht.checkboxState).pipe((0,Fe.h)(Ot)):(0,J.of)(Ot)))}))}openGameShortcutDialog(r,v,et,ht,Ot,Ft,Ht){const ae=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{image:{caption:"interface.gametitle",captionPlaceholder:{title:r},description:"gameShortcut.createShortcutGuidance",url:v,shortcutUrl:et,isDraggableUrl:!0,dragStartCallback:this.onGameShortcutDragStart.bind(this,Ot,Ft,Ht)},headerText:{text:"gameShortcut.createShortcutTitle"},primaryButton:{...Hn_primaryButton}}});(0,Cn.S3)(ae.primaryButtonClick.pipe((0,Fe.h)(!0)),ae.afterClosed().pipe((0,Fe.h)(!0)),ht).subscribe(()=>{ae.close()})}onGameShortcutDragStart(r,v,et){et&&this.telemetryUtilService.sendDragEvent(k.cjj.GameShortcutUrl,r,v)}openTimeCapLimitedPlaytimeDialog(r,v){const et=this.ecomService.canHardUpsell(),ht=(0,Wn.aj)([this.browseUxService.getUserPreference(oi.rL.skipTimeCapLimitedPlayTimeRemainingDialog,this.idmService.accountStatusChanged),this.ecomService.getUserMembership()]),Ot=this.ecomService.getRedirectUrlWithIdpId$(yt.hE.GfnPcLimitedFeaturesGamePlay).pipe((0,Ve.U)(Ft=>({headerText:{text:Xn_header},bodyText:{text:Xn_body_text,placeholders:this.tvMode?void 0:{limitedFeatureUrl:`class="font-body2-link" href="${Ft}"`}},checkbox:{text:this.tvMode?"timeCapTimeAlert.dontShowAgainButton":Xn_checkbox_text,initialState:Xn_checkbox_initialState,primaryActionInThreeQuarterSheet:!1},link:{text:this.tvMode?"ecommerce.limitedFeatures":void 0,url:this.tvMode?Ft:void 0,shortUrl:yt.hD[yt.hE.GfnPcLimitedFeaturesGamePlay],linkClickedCallback:this.limitedFeatureKBAClicked.bind(this,r)},primaryButton:et?{...Xn_primaryButton}:{...Xn_primaryViewPlaytimeButton},secondaryButton:{text:"common.playAnyway"}})));return ht.pipe((0,o.q)(1),(0,vt.zg)(([Ft,Ht])=>{var ae;if(!this.canShowTimeAlertDialog(Ft,null===(ae=Ht.subscription)||void 0===ae?void 0:ae.currentSpanEndDateTime,oi.rL.skipTimeCapLimitedPlayTimeRemainingDialog)&&v)return(0,J.of)(null);if(!v){const Me={headerText:{text:Xn_header},bodyText:{text:Xn_body_bodyUnplayable},primaryButton:et?{...Xn_primaryButton}:{...Xn_primaryViewPlaytimeButton},secondaryButton:{text:"common.notNow"}};return(0,J.of)(Me)}return Ot}),(0,o.q)(1),(0,vt.zg)(Ft=>{if(null===Ft)return(0,J.of)(!0);let Ht=k.XzU.Dialog_Closed;const ae=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:Ft});return(0,Cn.S3)(ae.primaryButtonClick.pipe((0,gt.b)(()=>{et?this.ecomService.openAddPlaytimePageAndDialog(k.CGJ.ScreenLimitedStateGameLaunchDialog,r):this.ecomService.openViewPlaytimePage(k.CGJ.ScreenLimitedStateGameLaunchDialog,r),Ht=k.XzU.Continue_Add_Playtime}),(0,Fe.h)(!1)),v?ae.secondaryButtonClick.pipe((0,gt.b)(()=>Ht=k.XzU.Continue_Play_Anyway),(0,Fe.h)(!0)):ae.secondaryButtonClick.pipe((0,Fe.h)(!1)),ae.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,o.q)(1),(0,gt.b)(()=>ae.close()),(0,vt.zg)(Me=>(this.telemetryUtilService.sendPopUpDialogClosedEvent(k.ItH.Limited_State_Game_Launch,Ht,0,0,k.wye.FALSE,ae.checkboxState?k.wye.TRUE:k.wye.FALSE),Me&&v?this.ecomService.getUserMembership().pipe((0,o.q)(1),(0,vt.zg)(Ne=>this.browseUxService.setUserPreference(oi.rL.skipTimeCapLimitedPlayTimeRemainingDialog,{value:ae.checkboxState,expirationDateTime:Ne.subscription.currentSpanEndDateTime}).pipe((0,Fe.h)(Me)))):(0,J.of)(Me))))}))}limitedFeatureKBAClicked(r){this.telemetryUtilService.sendClickEvent(k.lzt.LimitedFeaturesKBA,"",r,!1)}addPlayTimeClicked(r){this.ecomService.openAddPlaytimePageAndDialog(k.CGJ.ScreenLowStateGameLaunchDialog,r)}viewPlayTimeClicked(r){this.ecomService.openViewPlaytimePage(k.CGJ.ScreenLowStateGameLaunchDialog,r)}openTimeCapLowPlaytimeDialog(r){return(0,Wn.aj)([this.browseUxService.getUserPreference(oi.rL.skipTimeCapLowPlayTimeRemainingDialog,this.idmService.accountStatusChanged),this.ecomService.getUserMembership()]).pipe((0,o.q)(1),(0,vt.zg)(([v,et])=>{var ht;const Ot=this.ecomService.canHardUpsell();return this.canShowTimeAlertDialog(v,null===(ht=et.subscription)||void 0===ht?void 0:ht.currentSpanEndDateTime,oi.rL.skipTimeCapLowPlayTimeRemainingDialog)?(0,Wn.aj)([this.redirectService.getRedirectUrl(yt.hE.GfnPcViewPlaytime),this.ecomService.getUserMembership()]).pipe((0,o.q)(1),(0,vt.zg)(([Ft,Ht])=>{const ae={text:Ot?gi_body_text:gi_body_bodyEcomRestricted,placeholders:{remainingTime:(0,tn.Df)(Ht.subscription.remainingTimeInMinutes).time,managePlaytime:Ot||this.tvMode?void 0:`class="font-body2-link" href="${Ft}"`,addingMorePlaytime:!this.tvMode&&Ot?'class="font-body2-link add-playtime-link"':void 0}};let Me;this.tvMode&&(Me={text:Ot?"timeCapTimeAlert.timeCapLowPlayTimeAlert.addPlayTime":"ecommerce.viewPlaytime",url:void 0,shortUrl:void 0,linkClickedCallback:Ot?this.addPlayTimeClicked.bind(this,r):this.viewPlayTimeClicked.bind(this,r)});const Ne={headerText:{text:"timeCapTimeAlert.timeCapLowPlayTimeAlert.title"},bodyText:ae,checkbox:{text:this.tvMode?"timeCapTimeAlert.dontShowAgainButton":gi_checkbox_text,initialState:gi_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},link:Me,primaryButton:{...gi_primaryButton},secondaryButton:{text:"common.cancel"}},ke=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:Ne}),Ze=ke.afterOpened().pipe((0,vt.zg)(on=>{if(!Ot||this.tvMode)return Zi.C;{const sn=document.getElementsByClassName("add-playtime-link");if(sn&&sn[0])return(0,T.R)(sn,"click")}}),(0,o.q)(1),(0,gt.b)(()=>{this.ecomService.openAddPlaytimePageAndDialog(k.CGJ.ScreenLowStateGameLaunchDialog,r)}));return(0,Cn.S3)(ke.primaryButtonClick.pipe((0,Fe.h)(!0)),ke.secondaryButtonClick.pipe((0,Fe.h)(!1)),this.tvMode?ke.linkClick.pipe((0,Fe.h)(!1)):Ze.pipe((0,Fe.h)(!1)),ke.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,o.q)(1),(0,gt.b)(()=>ke.close()),(0,vt.zg)(on=>(this.telemetryUtilService.sendPopUpDialogClosedEvent(k.ItH.Low_State_Game_Launch,on?k.XzU.Continue_Play_Anyway:k.XzU.Dialog_Closed,0,0,k.wye.FALSE,ke.checkboxState?k.wye.TRUE:k.wye.FALSE),on?this.browseUxService.setUserPreference(oi.rL.skipTimeCapLowPlayTimeRemainingDialog,{value:ke.checkboxState,expirationDateTime:Ht.subscription.currentSpanEndDateTime}).pipe((0,Fe.h)(on)):(0,J.of)(on))))})):(0,J.of)(!0)}))}showTimeAlertDialog(r,v){return this.ecomService.getUserMembership().pipe((0,o.q)(1),(0,vt.zg)(et=>this.ecomService.isDayPassSubscription?this.openLowPlayTimeRemainingDialog(r,v):this.ecomService.isLimitedState?this.openTimeCapLimitedPlaytimeDialog(v,this.ecomService.isLimitedPlayableState):this.openTimeCapLowPlaytimeDialog(v)))}openMembershipPageWithDayPassCallback(r,v){this.ecomService.openMembershipPageAndDialog(()=>{this.ecomService.openDayPassCheckoutPage(k.CGJ.ScreenLowPlaytimeDayPassDialog,v)},k.CGJ.ScreenLowPlaytimeDayPassDialog,v,zn.l2.AddDayPassMembershipProgress)}openLowPlayTimeRemainingDialog(r,v){return(0,Wn.aj)([this.browseUxService.getUserPreference(oi.rL.skipDayPassLowPlayTimeRemainingDialog,this.idmService.accountStatusChanged),this.ecomService.getUserMembership()]).pipe((0,o.q)(1),(0,vt.zg)(([et,ht])=>this.canShowTimeAlertDialog(et,ht.subscription.expirationDateTime,oi.rL.skipDayPassLowPlayTimeRemainingDialog)?this.redirectService.getRedirectUrl(yt.hE.GfnAccountManagement).pipe((0,o.q)(1),(0,vt.zg)(Ot=>{var Ft,Ht;const ae=this.ecomService.canHardUpsell(),Me={text:ae?ui_body_text:this.tvMode?ui_body_bodyEcomRestrictedTV:ui_body_bodyEcomRestricted,placeholders:{skuShortName:null===(Ft=ht.product)||void 0===Ft?void 0:Ft.shortDescription,remainingTime:$o(null===(Ht=ht.subscription)||void 0===Ht?void 0:Ht.expirationDateTime).fromNow(!0),manageAccount:ae||this.tvMode?void 0:`class="font-body2-link manage-account-link" href="${Ot}"`,addDaysLink:!this.tvMode&&ae?'class="font-body2-link add-more-days-link"':void 0,linkClickedCallback:this.openMembershipPageWithDayPassCallback.bind(this,k.CGJ.ScreenLowPlaytimeDayPassDialog,v)}},Ne={secondaryButton:{text:ui_secondaryButton_text}};this.tvMode&&(Ne.secondaryButton.text=ui_augmentedButton_text,Ne.threeQuarterSheetData={augmentedButtons:[{text:ui_secondaryButton_text,id:ui_secondaryButton_id}]}),ae||(Ne.secondaryButton.text=this.tvMode?ui_augmentedButton_ecomRestricted:ui_secondaryButton_text);const ke=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.dayPassLowPlayTimeAlert.title"},bodyText:Me,checkbox:{text:this.tvMode?"common.playAnywayDontShowAgain":ui_checkbox_text,initialState:ui_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},primaryButton:{...ui_primaryButton},...Ne}}),Ze=ke.afterOpened().pipe((0,vt.zg)(sn=>{if(ae&&!this.tvMode){const un=document.getElementsByClassName("add-more-days-link");if(un&&un[0])return(0,T.R)(un,"click")}else{if(ae||this.tvMode)return this.tvMode?ke.secondaryButtonClick:ie.E;{const un=document.getElementsByClassName("manage-account-link");if(un&&un[0])return(0,T.R)(un,"click")}}}),(0,o.q)(1),(0,gt.b)(()=>{ae?this.openMembershipPageWithDayPassCallback(k.CGJ.ScreenLowPlaytimeDayPassDialog,v):this.ecomService.openAccountManagementPage(k.CGJ.ScreenLowPlaytimeDayPassDialog,v)})),on=this.tvMode?ke.augmentedButtonClick.pipe((0,En.h)(sn=>"cancel"===sn)):ke.secondaryButtonClick;return(0,Cn.S3)(ke.primaryButtonClick.pipe((0,Fe.h)(!0)),on.pipe((0,Fe.h)(!1)),Ze.pipe((0,Fe.h)(!1)),ke.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,gt.b)(()=>ke.close()),(0,vt.zg)(sn=>sn?this.browseUxService.setUserPreference(oi.rL.skipDayPassLowPlayTimeRemainingDialog,{value:ke.checkboxState,expirationDateTime:ht.subscription.expirationDateTime}).pipe((0,Fe.h)(sn)):(0,J.of)(sn)))})):(0,J.of)(!0)))}canShowTimeAlertDialog(r,v,et){return!r||(null==r||!r.value||(null==r?void 0:r.expirationDateTime)!==v)&&(this.removeTimeAlertDialogPreference(et),!0)}removeTimeAlertDialogPreference(r){return this.browseUxService.setUserPreference(r,null).pipe((0,o.q)(1)).subscribe()}openAccountLinkingExpirationDialog(r,v=!1,et=!1,ht=!1,Ot=!1){const Ft=r.expirationStatus;let Ht;Ft===jn.Expired?Ht="accountConnection.accountLinking.warningExpiredDialog":Ft===jn.ExpiresNow&&(Ht="accountConnection.accountLinking.warningSoonDialog");let Me=ht?"accountConnection.reconnect":"accountConnection.goToConnection";et&&(Me="accountConnection.goToConnection");const Ne=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"accountConnection.reconnectAccount"},translateValues:{arg:r.storeName},bodyText:{text:Ht},primaryButton:{text:Me,accentColor:!0},secondaryButton:{text:v?"common.cancel":"common.notNow"}}},{preferredDialogType:R.Xm.ThreeQuarterSheet,disableFocusRestore:Ot});return(0,Cn.S3)(Ne.primaryButtonClick.pipe((0,Fe.h)(ht?Pn.Reconnect:Pn.GoToConnection)),Ne.secondaryButtonClick.pipe((0,Fe.h)(v?Pn.Cancel:Pn.NotNow)),Ne.afterClosed().pipe((0,Fe.h)(null))).pipe((0,o.q)(1),(0,vt.zg)(ke=>null===ke?(0,J.of)(null):(Ne.close(),ke===Pn.Reconnect&&this.appConfig.featureEnablement.loginPopupBlockerWorkaround?(0,J.of)(ke):Ne.afterClosed().pipe((0,Fe.h)(ke)))))}openAccountLinkingConnectingDialog(r,v,et=!1){const ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:v?"accountConnection.accountLinking.reconnectingAccount":"accountConnection.accountLinking.connectionProgressTitle"},bodyText:{text:v?"accountConnection.accountLinking.reconnectInProgress":"accountConnection.accountLinking.connectionProgress"},primaryButton:{text:"common.cancel"}}},{preferredDialogType:R.Xm.ThreeQuarterSheet,disableFocusRestore:et});return(0,Cn.S3)(r,ht.primaryButtonClick.pipe((0,Fe.h)("")),ht.afterClosed().pipe((0,Fe.h)(null))).pipe((0,nn.K)(()=>(0,J.of)("")),(0,vt.zg)(Ot=>null===Ot?(0,J.of)(Ot):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ot)))))}openOffDeviceAccountLinkingDialog(r,v,et=!1){let ht;const Ot=v.pipe((0,vt.zg)(Ft=>{const Ht=this.appConfig.featureEnablement.preferBottomSheetForLogin,ae=Ht?{link:{url:Ft.verificationUriComplete,text:""}}:{image:{url:Ft.verificationUriComplete}},Me={preferredDialogType:Ht?R.Xm.BottomSheet:R.Xm.ThreeQuarterSheet,disableFocusRestore:et};return ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:(0,tn.j7)(Ft.verificationUri)},bodyText:{text:"loginBridgeState.deviceAuthLogin",placeholders:{authCode:`<div class="font-header3 white">${(0,tn.yY)(Ft.userCode)}</div>`}},footerText:{text:"layout.gameOwnershipPrompt.offDeviceHint"},...ae,primaryButton:{text:"common.cancel"}}},{...Me}),(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(!1)),ht.afterClosed().pipe((0,Fe.h)(null)))}));return(0,Cn.S3)(r,Ot).pipe((0,nn.K)(()=>(0,J.of)(!1)),(0,vt.zg)(Ft=>null===Ft?(0,J.of)(!1):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ft)))))}openAccountLinkingErrorDialog(r,v=!0){const et=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"accountConnection.accountLinking.connectionFailedTitle"},bodyText:{text:"accountConnection.accountLinking.connectionFailed",placeholders:{arg:r}},primaryButton:{text:"common.close"},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet,disableFocusRestore:v});return(0,Cn.S3)(et.primaryButtonClick.pipe((0,Fe.h)(!1)),et.afterClosed().pipe((0,Fe.h)(null))).pipe((0,o.q)(1),(0,vt.zg)(ht=>null===ht?(0,J.of)(ht):(et.close(),et.afterClosed().pipe((0,Fe.h)(ht)))))}openPlaytestLiveErrorDialog(){return this.dialog.open(Ss,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLivePermissionHigDialog(r){const v=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(Po,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:["dialog-backdrop","nv-overlay-panel"]}));return(0,Cn.S3)(v.componentInstance.primaryButtonClick.pipe((0,Fe.h)(!0)),v.componentInstance.secondaryButtonClick.pipe((0,Fe.h)(!1))).pipe((0,gt.b)(()=>v.close()),(0,Ve.U)(et=>et||!1))}openPlaytestLiveFeedbackHigDialog(r){return this.dialog.open(Ks,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLiveWebcamPreview(r){return this.dialog.open(Gs,{panelClass:"nv-hig",width:"560px",height:"540px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLiveMicrophonePreview(r){return this.dialog.open(_r,{panelClass:"nv-hig",width:"560px",height:"540px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPwaWallHelpDialog(){this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(Ps,{autoFocus:!0,hasBackdrop:!0,panelClass:["dialogPaddingRemove","nv-overlay-panel"]}))}showPlatformOverridePermissionDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"multiplatform.switchDialog.title"},bodyText:{text:"multiplatform.switchDialog.description",placeholders:{currentStore:v,newStore:et}},primaryButton:{text:"common.continue"},secondaryButton:{text:"common.cancel"}}});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(!0)),ht.secondaryButtonClick.pipe((0,Fe.h)(!1)),ht.afterClosed().pipe((0,Fe.h)(null))).pipe((0,o.q)(1),(0,gt.b)(Ot=>{ht.close(),null!==Ot&&this.telemetryUtilService.sendClickEvent(k.lzt.PlatformChangeConsent,et,`${r}/ContinueClicked=${Ot}`)}))}showExitAppDialog(){const r=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.exitAppPrompt.headerText"},primaryButton:{text:"layout.exitAppPrompt.primaryButton"},secondaryButton:{text:"common.cancelTitleCase"}}});return(0,Cn.S3)(r.primaryButtonClick.pipe((0,Fe.h)(!0)),r.secondaryButtonClick.pipe((0,Fe.h)(!1)),r.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,o.q)(1),(0,gt.b)(()=>r.close()))}showLoginFailedDialog(r){let v;return this.redirectService.getRedirectUrl(yt.hE.GfnServerStatus).pipe((0,Ve.U)(et=>[et,yt.hD[yt.hE.GfnServerStatus]]),(0,vt.zg)(([et,ht])=>(v=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{link:this.tvMode?{text:"loginWall.gfnServiceStatus",shortUrl:ht,url:et}:void 0,headerText:{text:"loginWall.loginFailed"},bodyText:{text:"loginWall.genericErrorWithStatusURL",placeholders:{serverStatusURL:this.tvMode?void 0:`class="font-body2-link" href="${et}"`}},primaryButton:r?{text:"common.retry",accentColor:!0}:null,secondaryButton:{text:"common.close"}}},{preferredDialogType:R.Xm.ThreeQuarterSheet}),(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(!0)),v.secondaryButtonClick.pipe((0,Fe.h)(!1)),v.afterClosed().pipe((0,Fe.h)(!1))))),(0,o.q)(1),(0,gt.b)(()=>v.close()))}showProviderSwitchDialog(r,v){const et=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"common.productName"},bodyText:{text:"loginWall.providerSwitchDialogBody",placeholders:{versionString:r,providerString:v}},primaryButton:{text:"settings.provider.switchProvider"},secondaryButton:{text:"common.close"}}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(et.primaryButtonClick.pipe((0,Fe.h)(!0)),et.secondaryButtonClick.pipe((0,Fe.h)(!1)),et.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,gt.b)(ht=>{et.close()}))}getPlatformSelectionPatchingStatusText(r){return r===mn.zu.PATCHING?{text:"fencedStatus.patchingStatus"}:r===mn.zu.SERVER_MAINTENANCE?{text:"fencedStatus.offlineStatus"}:void 0}getPlatformSelectionButtonLabel(r){return"Play"===r?"common.continue":"GetGame"===r?"multiplatform.dialog.getGameButton":"common.select"}getStoreLabel(r){return r.appStoreInfo.label===si.rV?r.publisherName:r.appStoreInfo.label}getFencedStatus(r){var v,et;return null!==(v=null==r||null===(et=r.gfn)||void 0===et?void 0:et.status)&&void 0!==v?v:mn.zu.UNAVAILABLE}shouldDisablePlatformSelectionButton(r,v,et){return"Play"===et&&(r!==mn.zu.AVAILABLE||!v)}shouldDisplayPlatformSelectionButton(r,v){return"GetGame"!==r||!(null==v||!v.storeUrl)}getSelectorCardSecondaryInfo(r,v){var et;let Ot;switch((0,Bn.j9)(r)){case Bn.mk.OwnedManual:case Bn.mk.OwnedPlatformSync:Ot="layout.owned";break;default:Ot=null}return{matIcon:(null===(et=v.selectedPlatformVariant)||void 0===et?void 0:et.id)===(null==r?void 0:r.id)?"check":null,text:Ot}}buildPlatformSelectionCardData(r){return r.variants.map(v=>{const et=this.getFencedStatus(v),ht={selectorCardIcon:{url:v.appStoreInfo.smallImageUrl,caption:this.getStoreLabel(v)},selectorCardButtons:r.buttons.filter(Ot=>this.shouldDisplayPlatformSelectionButton(Ot,v)).map(Ot=>({text:this.getPlatformSelectionButtonLabel(Ot),isDisabled:this.shouldDisablePlatformSelectionButton(et,r.isInputSupported,Ot),id:{storeId:v.id,buttonId:Ot}})),secondaryInfo:this.getSelectorCardSecondaryInfo(v,r)};return null!=r&&r.showPatchingText&&(ht.selectorCardStatusText=this.getPlatformSelectionPatchingStatusText(et)),ht})}storeSelectionDialog(r,v){const et={header:{text:r.gameName},backgroundImageUrl:r.heroImageURL,title:{text:"layout.evidenceMetadata.selectPlatfrom"},content:this.buildPlatformSelectionCardData(r)},ht=this.fullPageDialog.open(et,v),Ot=ht.componentInstance.buttonClick.pipe((0,En.h)(ae=>"Play"===ae.id.buttonId),(0,o.q)(1)),Ft=ht.componentInstance.buttonClick.pipe((0,En.h)(ae=>"Play"!==ae.id.buttonId&&"GetGame"!==ae.id.buttonId),(0,o.q)(1)),Ht=ht.componentInstance.buttonClick.pipe((0,En.h)(ae=>"GetGame"===ae.id.buttonId),(0,ri.w)(ae=>this.openPurchaseDialog({gameName:r.gameName,isInputSupported:r.isInputSupported,selectedPlatformVariant:r.variants.find(Me=>Me.id===ae.id.storeId),heroImageURL:r.heroImageURL}).pipe((0,En.h)(Me=>!!Me),(0,Ve.U)(()=>ae))));return(0,Cn.S3)(Ot,Ft,Ht,ht.afterClosed().pipe((0,Fe.h)(!1),(0,o.q)(1))).pipe((0,Ve.U)(ae=>{if(ht.close(),ae)return r.variants.find(Me=>Me.id===ae.id.storeId)}))}openStoreSelectorFullPageDialog(r,v){const et=["Play"];return r.showGetGame&&et.push("GetGame"),this.storeSelectionDialog({...r,buttons:et,showPatchingText:!0},v)}openAddToLibraryFullPageDialog(r,v){return this.storeSelectionDialog({...r,buttons:["AddToLibrary"]},v)}openGetGameFullPageDialog(r,v){if(r.selectedPlatformVariant){const et=r.selectedPlatformVariant;return this.openPurchaseDialog({gameName:r.gameName,isInputSupported:r.isInputSupported,selectedPlatformVariant:et,heroImageURL:r.heroImageURL},v).pipe((0,Ve.U)(ht=>ht&&et||null))}return this.storeSelectionDialog({...r,buttons:["GetGame"]},v)}openChangeGameStoreFullPageDialog(r,v){return this.storeSelectionDialog({...r,buttons:["ChangeGameStore"],showCurrentSelection:!0},v)}openAccountProfileDialog(){return this.redirectService.getRedirectUrl(yt.hE.GfnAccountManagementSSO).pipe((0,o.q)(1),(0,Ve.U)(v=>({headerText:{text:yt.hD[yt.hE.GfnAccountManagementSSO]},image:{url:v},bodyText:{text:"offDeviceLink.title"},primaryButton:{text:"offDeviceLink.button"},secondaryButton:{text:"toolbar.logout"}}))).pipe((0,vt.zg)(v=>{const et=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:v},{preferredDialogType:R.Xm.ThreeQuarterSheet}),ht=et.secondaryButtonClick.pipe((0,vt.zg)(()=>this.openLogoutConfirmationDialog()),(0,vt.zg)(Ot=>Ot?(0,J.of)(Oo.Logout):Zi.C),(0,l.R)(et.afterClosed()));return(0,Cn.S3)(et.primaryButtonClick.pipe((0,Fe.h)(Oo.Back)),et.afterClosed().pipe((0,Fe.h)(Oo.Back)),ht).pipe((0,o.q)(1),(0,gt.b)(()=>et.close()))}))}openLogoutConfirmationDialog(){const v=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"accountProfile.logoutConfirmationDialogTitle"},bodyText:{text:"accountProfile.logoutConfirmationDialogText"},primaryButton:{text:"offDeviceLink.button"},secondaryButton:{text:"accountProfile.logoutConfirmationDialogButtonText"}}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(!1)),v.afterClosed().pipe((0,Fe.h)(!1)),v.secondaryButtonClick.pipe((0,Fe.h)(!0))).pipe((0,gt.b)(()=>v.close()))}showInLineLinkDialog(r,v=!1){const et=r.gameInfo.storeUrl,ht=r.isAccountLinkingSsoRequired;let Ot={text:et?Mi_body_text:Mi_body_textWithoutURL,placeholders:{storeUrl:!this.tvMode&&et?`class="font-body2-link" href="${et}"`:void 0}};r.showOnboardingReconnect&&(Ot={text:"accountConnection.newFeature",placeholders:void 0});const Ft=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"accountConnection.connectAccount"},translateValues:{arg:r.gameInfo.appStoreLabel},bodyText:Ot,primaryButton:{...Mi_primaryButton},secondaryButton:ht?{text:"common.cancel"}:{text:"common.notNow"},checkbox:ht?void 0:{text:this.tvMode?"layout.inLineAccountLinkingPrompt.dontShowAgainButton":Mi_checkbox_text,initialState:Mi_checkbox_initialState,primaryActionInThreeQuarterSheet:!1},link:r.gameInfo.storeUrlClickedCallback&&this.tvMode?{text:Mi_tvLink_text,linkClickedCallback:r.gameInfo.storeUrlClickedCallback}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData,descriptionList:r.descriptionIconList}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(Ft.primaryButtonClick.pipe((0,Fe.h)(Pn.Connect)),Ft.secondaryButtonClick.pipe((0,Fe.h)(ht?Pn.Cancel:v?Pn.NotNow:Pn.ManuallyMarkAsOwned)),Ft.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(Ht=>{if(null===Ht)return(0,J.of)({dialogAction:Ht,checkBoxState:!1});const ae=Ft.checkboxState;return Ft.close(),Ht===Pn.Connect&&this.appConfig.featureEnablement.loginPopupBlockerWorkaround?(0,J.of)({dialogAction:Ht,checkBoxState:ae}):Ft.afterClosed().pipe((0,Fe.h)({dialogAction:Ht,checkBoxState:ae}))}))}openInlineSyncInProgressDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{disableBackToClose:!0,showSpinner:!0,headerText:{text:"layout.inLineSyncInProgress.header"},bodyText:{text:es_body_text,placeholders:{storeName:et}},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return r.pipe((0,vt.zg)(Ot=>Ot?v.pipe((0,vt.zg)(Ft=>(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ft))))):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(!1)))))}profileNotCreatedDialog(r,v){const et=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineSyncFailure.errorHeader"},translateValues:{storeName:r},bodyText:{text:yo_body_text,placeholders:{storeName:r,redirectUrl:this.tvMode?void 0:`class="font-body2-link" href="${v}"`}},primaryButton:{...yo_primaryButton},secondaryButton:{text:"common.notNow"},link:v?{text:this.tvMode?"layout.inLineSyncFailure.profileNotCreated.tvLink":void 0,placeholders:{storeName:r},url:this.tvMode?v:void 0}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(et.primaryButtonClick.pipe((0,Fe.h)(Pn.Resync)),et.secondaryButtonClick.pipe((0,Fe.h)(Pn.ManuallyMarkAsOwned)),et.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(ht=>null===ht?(0,J.of)(ht):(et.close(),et.afterClosed().pipe((0,Fe.h)(ht)))))}profileNotPublicIssueDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineSyncFailure.errorHeader"},translateValues:{storeName:r},bodyText:{text:bo_body_text,placeholders:{userName:et,storeName:r,redirectUrl:this.tvMode?void 0:`class="font-body2-link" href="${v}"`}},primaryButton:{...bo_primaryButton},secondaryButton:{text:"common.notNow"},link:v?{text:this.tvMode?"layout.inLineSyncFailure.notPublicIssue.tvLink":void 0,url:this.tvMode?v:void 0}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(Pn.Resync)),ht.secondaryButtonClick.pipe((0,Fe.h)(Pn.ManuallyMarkAsOwned)),ht.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(Ot=>null===Ot?(0,J.of)(Ot):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ot)))))}permissionFailureDialog(r){const v=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"accountConnection.reconnectAccount"},translateValues:{arg:r},bodyText:{text:Qo_body_text},primaryButton:{...Qo_primaryButton},secondaryButton:{text:"common.close"},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(Pn.GoToConnection)),v.secondaryButtonClick.pipe((0,Fe.h)(Pn.Cancel)),v.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(et=>null===et?(0,J.of)(et):(v.close(),v.afterClosed().pipe((0,Fe.h)(et)))))}syncFailureDialog(r){const v=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineSyncFailure.failedSync.header"},bodyText:{text:Yo_body_text,placeholders:{appStore:r}},primaryButton:{...Yo_primaryButton},secondaryButton:{text:"common.close"},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(Pn.Resync)),v.secondaryButtonClick.pipe((0,Fe.h)(Pn.Cancel)),v.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(et=>null===et?(0,J.of)(et):(v.close(),v.afterClosed().pipe((0,Fe.h)(et)))))}showLibrarySyncedDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineLibrarySynced.header"},translateValues:{storeApp:r},bodyText:{text:Cr_body_text,placeholders:{noOfGames:v,userName:et}},primaryButton:{...Cr_primaryButton},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(Pn.Done)),ht.afterClosed().pipe((0,Fe.h)(Pn.Done))).pipe((0,gt.b)(()=>ht.close()))}noGameSyncedDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineNoGameSynced.header"},bodyText:{text:Hi_body_text,placeholders:{storeName:r,userName:et,storeUrl:v.storeUrl&&!this.tvMode?`class="font-body2-link" href="${v.storeUrl}"`:void 0}},primaryButton:{...Hi_primaryButton},secondaryButton:{text:"common.notNow"},link:v.storeUrlClickedCallback&&this.tvMode?{text:Hi_tvLink_text,linkClickedCallback:v.storeUrlClickedCallback}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(Pn.Resync)),ht.secondaryButtonClick.pipe((0,Fe.h)(Pn.ManuallyMarkAsOwned)),ht.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(Ot=>null===Ot?(0,J.of)(Ot):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ot)))))}markGameAsManuallyOwned(r){const v=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.manuallyOwnPrompt.header"},bodyText:{text:r.appStoreLabel?r.storeUrl?Ii_body_text:Ii_body_textWithoutURL:r.storeUrl?Ii_genericBody_text:Ii_genericBody_textWithoutURL,placeholders:{appStore:r.appStoreLabel,storeUrl:r.storeUrl&&!this.tvMode?`class="font-body2-link" href="${r.storeUrl}"`:void 0}},primaryButton:{...Ii_primaryButton},secondaryButton:{text:"common.cancel"},link:r.storeUrlClickedCallback&&this.tvMode?{text:Ii_tvLink_text,linkClickedCallback:r.storeUrlClickedCallback}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(v.primaryButtonClick.pipe((0,Fe.h)(Pn.MarkAsOwned)),v.secondaryButtonClick.pipe((0,Fe.h)(Pn.Cancel)),v.afterClosed().pipe((0,Fe.h)(null))).pipe((0,gt.b)(()=>v.close()))}openInLineConnectSuccessDialog(r,v,et){const ht=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.inLineAccountConnected.header"},translateValues:{storeName:r},bodyText:{text:et?Zo_reconnectBody_text:Zo_connectBody_text,placeholders:{userName:v}},primaryButton:{...Zo_primaryButton},threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(ht.primaryButtonClick.pipe((0,Fe.h)(!0)),ht.afterClosed().pipe((0,Fe.h)(!1))).pipe((0,vt.zg)(Ot=>null===Ot?(0,J.of)(Ot):(ht.close(),ht.afterClosed().pipe((0,Fe.h)(Ot)))))}openResyncGameStore(r,v){const et=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.resyncGameStore.header"},translateValues:{appStore:r.appStoreLabel},bodyText:{text:Ji_body_text,placeholders:{userName:v,storeUrl:r.storeUrl&&!this.tvMode?`class="font-body2-link" href="${r.storeUrl}"`:void 0}},primaryButton:{...Ji_primaryButton},secondaryButton:{text:"common.notNow"},link:r.storeUrlClickedCallback&&this.tvMode?{text:Ji_tvLink_text,linkClickedCallback:r.storeUrlClickedCallback}:void 0,threeQuarterSheetData:this.threeQuarterSheetBackgroundData}},{preferredDialogType:R.Xm.ThreeQuarterSheet});return(0,Cn.S3)(et.primaryButtonClick.pipe((0,Fe.h)(Pn.Resync)),et.secondaryButtonClick.pipe((0,Fe.h)(Pn.ManuallyMarkAsOwned)),et.afterClosed().pipe((0,Fe.h)(null))).pipe((0,vt.zg)(ht=>null===ht?(0,J.of)(ht):(et.close(),et.afterClosed().pipe((0,Fe.h)(ht)))))}openPurchaseDialog(r,v){var et,ht;if(!r.selectedPlatformVariant.storeUrl)return(0,J.of)(void 0);const Ot=this.getPlatformSelectionPatchingStatusText(this.getFencedStatus(r.selectedPlatformVariant)),Ft=this.fullPageDialog.open({header:{text:r.gameName,translated:!0},title:{text:"pathToPurchase.title"},subtitle:{text:"pathToPurchase.subtitle"},backgroundImageUrl:r.heroImageURL,content:{choiceChipTitle:{text:this.getStoreLabel(r.selectedPlatformVariant),translated:!0},choiceChipIcon:{text:null!==(et=null===(ht=r.selectedPlatformVariant.appStoreInfo)||void 0===ht?void 0:ht.smallImageUrl)&&void 0!==et?et:""},choiceChipContent:[{stepTitle:{text:"pathToPurchase.step1"},stepDescription:{text:"pathToPurchase.scanQrCode"},stepImage:{text:"",url:r.selectedPlatformVariant.storeUrl}},{stepTitle:{text:"pathToPurchase.step2"},stepDescription:{text:"pathToPurchase.getDigitalVersion"},stepImage:{matIcon:"phone_illustration",text:""}},{stepTitle:{text:"pathToPurchase.step3"},stepDescription:{text:"pathToPurchase.backAndPlay"},stepImage:{matIcon:"tv_illustration",text:""}}],choiceChipButtons:[{text:"common.close",isDisabled:!!Ot,spinnerOverlay:!1,id:"close"}],choiceChipStatusText:{title:Ot}}},v);return(0,Cn.S3)(Ft.componentInstance.buttonClick,Ft.afterClosed().pipe((0,Fe.h)(void 0))).pipe((0,Ve.U)(Ht=>!!Ht&&(Ft.close(),!0)))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ge.VK),n.LFG(x.uw),n.LFG(Mo),n.LFG(f.sK),n.LFG(k.wU6),n.LFG(ni.OA),n.LFG(ii.No),n.LFG(yt.VH),n.LFG(R.TX),n.LFG(zn.BH),n.LFG(vi.rH),n.LFG(s.dF),n.LFG(R.IK),n.LFG(R.Hy))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();let is=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un,vn,Dn,_i,to,Io){var Fi,eo,wo;this.idmService=v,this.networkStatusService=et,this.nesUserInfoService=ht,this.telemetryUtilService=Ot,this.dialog=Ft,this.configuration=Ht,this.telemetryService=ae,this.ecommerceService=Me,this.gfnSdkService=Ne,this.router=ke,this.unsupportedBrowserService=Ze,this.dialogService=on,this.genericDialog=sn,this.pathService=un,this.idmTelemetryService=vn,this.focusManager=Dn,this.uasService=_i,this.starfleetConfig=to,this.systemInfoService=Io,this.cancelTimeoutExpired=!1,this.cancelTimer=null,this.loginListener=null,this.joinNowSubscription=null,this.logger=r.getLogger("gfn/shared/idm/idmLoginService"),this.tvMode=!(null==Ht||null===(Fi=Ht.featureEnablement)||void 0===Fi||!Fi.tvMode),this.useDeviceAuthLogin=!(null===(eo=this.starfleetConfig)||void 0===eo||!eo.useDeviceAuthLogin),this.hideSystemName=!(null==Ht||null===(wo=Ht.starfleet)||void 0===wo||!wo.hideSystemName)}initialize(){this.configuration.starfleet.sameTabLogin&&(this.idmTelemetryService.checkAndSendLoginStartEvent(),this.idmService.getAuthStatus().pipe((0,o.q)(1),(0,vt.zg)(r=>(this.logger.info("Received authStatus ",r),r.authReturnState===Mn.fH.LoginCompleted||r.authReturnState===Mn.fH.LoginFailed?null===r.error?this.idmTelemetryService.sendLoginSuccessUserSessionEvent():(this.displayLoginErrorMessages(r.error),this.idmTelemetryService.sendLoginFailureUserSessionEvent()):r.authReturnState===Mn.fH.LogoutCompleted&&null!==r.error&&this.displayLogoutErrorMessages(r),(0,J.of)(!0)))).subscribe()),this.checkAutoEntitleState()}checkAutoEntitleState(){this.configuration.featureEnablement.UASAutoEntitle&&this.configuration.uasConfig.sameTab&&this.configuration.uasConfig.redirectUrlIsRelative&&this.uasService.AutoEntitleState.pipe((0,En.h)(r=>r===yi.n.Failed||r===yi.n.LoggedOut),(0,o.q)(1)).subscribe(r=>this.displayLoginErrorMessages(r),r=>this.logger.error("error in getting Auto Entitle state"))}login(r,v=!1){return(0,Wn.aj)([this.unsupportedBrowserService.unsupportedBrowserState$,this.unsupportedBrowserService.shouldDisplayPWAGuidance$]).pipe((0,o.q)(1),(0,vt.zg)(([ht,Ot])=>s.ng.isNativeLikePlatform()||ht.unsupportedState===vi.DI.None?(0,J.of)(!0):ht.unsupportedState===vi.DI.PWARequired&&Ot?(this.pathService.navigate([cn.fF.PwaWall],{skipLocationChange:!1}),(0,J.of)(!1)):this.dialogService.openUnsupportedSystemSoftBlockerDialog(ht).pipe((0,Ve.U)(Ft=>(Ft===An.e_.Cancel&&this.logger.info("User cancelled the login"),Ft===An.e_.Continue))))).pipe((0,o.q)(1),(0,vt.zg)(ht=>ht?this.nesUserInfoService.providerInfo$.pipe((0,vt.zg)(Ot=>{var Ft;let Ht=null;return 1===(null==Ot||null===(Ft=Ot.loginPreferredProviders)||void 0===Ft?void 0:Ft.length)&&r!==k.CGJ.ScreenSwitchProvider&&Ot.gfnServiceEndpoints.forEach(ae=>{ae.loginProvider===Ot.loginPreferredProviders[0]&&(Ht=ae.idpId)}),this.handleStarfleetLogin(r,v,Ht)}),(0,nn.K)(Ot=>(this.logger.error("Failed to get idpId",Ot),this.handleStarfleetLogin(r,v,null)))):(0,J.of)(!1)))}setUpDialog(r){const v={panelClass:["login-bridge-state-dialog","dialogPaddingRemove","nv-overlay-panel"],disableClose:!0};return v.data={idpId:r},this.tvMode&&(v.maxWidth="100vw"),this.clearCancelTimer(),this.cancelTimer=setTimeout(()=>{this.idmService.cancelLogin(!0).subscribe(),this.cancelTimeoutExpired=!0,this.listenForErrorSubscription&&this.listenForErrorSubscription.unsubscribe()},this.configuration.starfleet.httpServerDuration),this.cancelTimeoutExpired=!1,v}clearCancelTimer(){this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=null}handleStarfleetLogin(r,v=!1,et){return(0,J.of)(null).pipe((0,vt.zg)(ht=>(0,Wn.aj)([(0,J.of)(et),this.gfnSdkService.getAuthType()])),(0,vt.zg)(([ht,Ot])=>{if(Ot===le.Gr.IDM||Ot===le.Gr.INVALID){if(this.idmTelemetryService.sendLoginStartEvent(ht,this.configuration.starfleet.sameTabLogin),this.configuration.starfleet.sameTabLogin){const Ft=this.pathService.getCurrentUrl();return this.idmService.login(!1,ht,void 0,void 0,Ft).pipe((0,nn.K)(Ht=>(this.logger.error("failed to login the user with error",Ht),(0,J.of)(Ht))))}{const Ft=this.setUpDialog(ht);return this.dialog.open(Ho,Ft).afterClosed().pipe((0,vt.zg)(Ht=>{switch(this.clearCancelTimer(),Ht){case Mn.L$.Success:return(0,J.of)(!0);case Mn.L$.Failure:case Mn.L$.CloseOnFailure:return(0,J.of)(!1);case Mn.L$.Cancel:return this.cancelTimeoutExpired||this.handleBridgeStateCancel(),(0,cn.MA)(this.router.url)?this.handleStarfleetLogin(r,v,ht):(0,J.of)(!1)}}))}}return Ot===le.Gr.IDM_FALLBACK?(this.loginListener=new Kr.c,this.bringUpJoinNowDialog(ht),this.loginListener):(this.logger.error("Attempted to open the login screen during a valid GaaS session"),(0,J.of)(!1))}))}resolveEcomUseCase(){return this.ecomUseCase?(0,J.of)({}):this.gfnSdkService.getAuthInfo().pipe((0,gt.b)(r=>{r.timeRemaining&&0===Number(r.timeRemaining)?this.ecomUseCase=zn.vq.GaaSFreeSampleAlreadyUsed:r.authToken?r.timeRemaining&&3601===Number(r.timeRemaining)?this.ecomUseCase=zn.vq.GaaSFree1HourExceeded:r.timeRemaining&&3602===Number(r.timeRemaining)&&(this.ecomUseCase=zn.vq.GaaSFreeUserCanUpgrade):this.ecomUseCase=zn.vq.GaaSUnsupportedFreeTitle,this.idmService.loginProvider&&(this.idmService.loginProvider=null)}))}bringUpJoinNowDialog(r){const[v,et]=(0,$r.u)(this.resolveEcomUseCase().pipe((0,vt.zg)(()=>this.ecommerceService.openJoinNowDialog(r,this.ecomUseCase,zn.l2.InitialState).afterClosed()),(0,Ci.d)(1)),ht=>!!ht&&ht[1]===zn.l2.ExitedToLogin);v.pipe((0,vt.zg)(()=>{this.joinNowSubscription&&this.joinNowSubscription.unsubscribe(),this.idmService.loginProvider&&(this.idmService.loginProvider=null);const ht=this.setUpDialog(r);return this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(Ho,ht)).afterClosed()})).subscribe(ht=>{switch(ht){case Mn.L$.Success:this.loginListener.next(ht);break;case Mn.L$.Failure:this.bringUpJoinNowDialog(r);break;case Mn.L$.Cancel:this.cancelTimeoutExpired||this.handleBridgeStateCancel(),this.gfnSdkService.isThisAGFNSDKSession()&&this.bringUpJoinNowDialog(r)}}),et.subscribe(([ht])=>{ht?this.loginListener.next(ht):this.bringUpJoinNowDialog(r)})}handleBridgeStateCancel(r=!1){this.listenForErrorSubscription=this.idmService.cancelLogin(r).pipe((0,Ve.U)(v=>{if(v){const et=new k.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:k.Vwu.LoginWithStarfleet,status:k.N3X.CancelledLoginCompleted,errorDetails:status.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(et)}})).subscribe(Vn.Z,v=>{this.logger.info("Error detected while listening for UserCancelled Error",v)})}displayLoginErrorMessages(r){let v,et;switch(this.logger.info("Auth error in login: ",r),r){case Mn.C4.ACCOUNT_LOCKED:v="starfleet.accountLockedErrorMessage",et="starfleet.accountLockedHeader";break;case Mn.C4.AGE_RESTRICTED:v="starfleet.ageReStrictiveErrorMessage",et="starfleet.ageReStrictiveHeader";break;case Mn.C4.ACCOUNT_INACTIVE:v="starfleet.accountInActiveErrorMessage",et="starfleet.accountInActiveHeader";break;default:v="starfleet.genericErrorMessage",et="common.loginUnsuccessful"}const ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:et},bodyText:{text:v},primaryButton:{text:"starfleet.loginPrimaryButton"},secondaryButton:{text:"common.cancel"}}});(0,Cn.S3)(ht.secondaryButtonClick.pipe((0,o.q)(1)),ht.primaryButtonClick.pipe((0,o.q)(1),(0,vt.zg)(Ot=>this.login(k.CGJ.ScreenAccountMenu)))).subscribe(Ot=>{ht.close()})}displayLogoutErrorMessages(r){let v,et;this.logger.info("logout error: ",r.error),r.error===Mn.C4.LOGOUT_NOT_SUPPORTED?(et={headerText:{text:"starfleet.logoutErrorheader"},bodyText:{text:"starfleet.logoutErrorMessageLogoutNotsupported"},primaryButton:{text:"common.continue"},secondaryButton:{text:"common.notNow"}},v=r.logoutNotSupportedRedirectUrl):et={headerText:{text:"starfleet.logoutErrorheader"},bodyText:{text:"starfleet.logoutErrorMessageGeneric"},primaryButton:{text:"starfleet.logoutPrimaryButtonGeneric"}};const ht=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:et});(0,Cn.S3)((0,Uo.s)(()=>r.error===Mn.C4.LOGOUT_NOT_SUPPORTED,(0,J.of)(1).pipe((0,vt.zg)(Ot=>ht.secondaryButtonClick.pipe((0,o.q)(1)))),Zi.C),ht.primaryButtonClick.pipe((0,o.q)(1),(0,Ve.U)(Ot=>{r.error===Mn.C4.LOGOUT_NOT_SUPPORTED&&(v?window.open(v,"_blank"):this.logger.error("redirectUrl is empty in LogOut Error scenario ",v,r.error))}))).subscribe(()=>ht.close())}getDeviceName$(){return this.useDeviceAuthLogin?this.systemInfoService.getSystemInfo([s.l7.OSName,s.l7.DeviceType,s.l7.SystemName]).pipe((0,o.q)(1),(0,Ve.U)(r=>{const v=(0,tn.Q2)(r.OSName),et=(0,tn._6)(r.DeviceType),ht=this.hideSystemName?void 0:r.SystemName;if(!v||!et)return void this.logger.info("OsName or DeviceType not found: ",v,et);const Ot=`${v} ${et}`;return this.logger.info("DeviceName created: ",Ot),ht?`${Ot} ${ht}`:Ot}),(0,nn.K)(r=>(this.logger.error("Error creating deviceName: ",r),(0,J.of)(void 0)))):(0,J.of)(void 0)}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ii.No),n.LFG(s._J),n.LFG($n.fI),n.LFG(k.wU6),n.LFG(x.uw),n.LFG(ge.VK),n.LFG(h.y0),n.LFG(zn.BH),n.LFG(le.s),n.LFG(Bt.F0),n.LFG(vi.rH),n.LFG(Or),n.LFG(R.TX),n.LFG(cn.un),n.LFG(ko.e),n.LFG(R.IK),n.LFG(mr.K),n.LFG(Mn.TR),n.LFG(s.Ob))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Qn=t(18288),os=t(17827),ha=t(30688),Zs=t(45078),di=function(nt){return nt.RegistrationFailed="RegistrationFailed",nt.RegistrationSuccess="RegistrationSuccess",nt.NotSupported="NotSupported",nt.Installed="Installed",nt.ActivationOngoing="ActivationOngoing",nt.Activated="Activated",nt.ActivationError="ActivationError",nt}(di||{});const ka=new Map([[di.RegistrationFailed,ce.N3X.ServiceWorkerRegistrationFailed],[di.RegistrationSuccess,ce.N3X.ServiceWorkerRegistrationSuccess],[di.NotSupported,ce.N3X.ServiceWorkerNotSupported],[di.Installed,ce.N3X.ServiceWorkerInstalled],[di.ActivationOngoing,ce.N3X.ServiceWorkerActivationOngoing],[di.Activated,ce.N3X.ServiceWorkerActivated],[di.ActivationError,ce.N3X.ServiceWorkerActivationError]]);let Va=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae){this.serviceWorkerService=r,this.appConfig=v,this.experienceControlService=ht,this.router=Ot,this.deeplinkHelperService=Ft,this.telemetryUtilService=Ht,this.telemetryService=ae,this.appStartTs=Date.now(),this.refreshing=!1,this.updateServiceWorkerSilently=!1,this.swUpdateCheckInterval=144e5,this.appLaunchWindow=1e4,this.lastUpdateCheckTimestamp=Date.now(),this.timeCheckInterval=6e4,this.serviceWorkerInstalledOnce=new Nn.t(1),this.swActivationTimedOut=new S.xQ,this.shouldReloadOnActivation=!0,this.telemetryEventProcessingComplete=new S.xQ,this.logger=et.getLogger("shared/service-worker-update.service"),this.appLaunchWindow=this.appConfig.selfUpdate.appLaunchWindow||this.appLaunchWindow,this.swUpdateCheckInterval=Math.max(this.appConfig.selfUpdate.swUpdateCheckInterval||this.swUpdateCheckInterval,3e4)}initialize(){this.serviceWorkerService.serviceWorkerSupported()?(this.serviceWorkerService.swUpdateReadyCached.subscribe(r=>{this.logger.info("Initialize: SW update event was cached")}),this.serviceWorkerService.swActivated.subscribe(r=>{this.logger.info("Initialize: SW activated"),this.serviceWorkerInstalledOnce.next(!0)}),this.serviceWorkerService.swIsActive()&&(this.logger.info("Initialize: SW already active"),this.serviceWorkerInstalledOnce.next(!0)),this.handleServiceWorkerActivated(),this.handleServiceWorkerInstalled(),this.autoUpdateOnAppLaunch(),this.periodicallyCheckForUpdates(),this.handleServiceWorkerActivationRequest()):this.logger.info("Initialize: Service worker not supported"),this.sendServiceWorkerLaunchTelemetry()}get swActivationTimedOutNotification(){return this.swActivationTimedOut.asObservable()}updateReady(){return this.serviceWorkerService.swUpdateReadyCached.pipe((0,gt.b)(r=>this.logger.info("swUpdateCache returned event => ",r)),(0,En.h)(r=>null!==r&&!this.isSwUpdateWithinAppLaunchWindow(r.ts)&&!r.firstInstallation),(0,vt.zg)(r=>this.getWaitingSWClientVersion()),(0,En.h)(r=>r&&r.data.clientVersionString!==this.appConfig.build.version),(0,gt.b)(r=>this.logger.info("GFN SW Update Ready (outside app launch window)",r)))}checkForUpdates(){return this.withinAppLaunchWindow()?(this.logger.info("GFN SW Update skip update check in App launch window"),(0,J.of)({updateAvailable:!1,error:null})):this.checkForUpdatesInternal()}checkForUpdatesInternal(r){return this.lastUpdateCheckTimestamp=Date.now(),this.serviceWorkerInstalledOnce.pipe((0,o.q)(1),(0,vt.zg)(v=>this.checkForCanaryUpdate(r)),(0,vt.zg)(v=>(0,Jn.D)(this.serviceWorkerService.checkForUpdates()).pipe((0,o.q)(1))))}getCookie(r){const v=r.length+1;return document.cookie.split(";").map(et=>et.trim()).filter(et=>et.substring(0,v)===`${r}=`).map(et=>decodeURIComponent(et.substring(v)))[0]||"A"}sendCanaryTelemetry(r="",v="",et=""){if("B"===r||"B"===et){const ht=new k.xcx({currentOriginCookieValue:r,gxtResponseValue:v,newOriginCookieValue:et});this.telemetryService.push(ht)}}checkForCanaryUpdate(r){if(r||(0,cn.MA)(this.router.url)||(0,cn.MA)(document.location.hash.substr(1)))return this.logger.info("in streamer path or skip checking Canary update",r),(0,J.of)(!0);this.logger.info("checking GXT Canary Targeting");const v=location.pathname.indexOf("index.html"),et=-1===v?location.pathname:location.pathname.substr(0,v),ht=this.getCookie("Request-Origin");let Ot="",Ft="";return this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.browserClientCanary,{domain:document.location.hostname,path:document.location.pathname},void 0,qn.Z4.GxTargetGetCloudVariable,qn.Qu.GxTargetGetBrowserClientCanary).pipe((0,Ve.U)(Ht=>(this.logger.info("browser client canary GXT: ",Ht.value.isCanaryEnabled),Ot=JSON.stringify(Ht),Ht.value.isCanaryEnabled?(document.cookie=`Request-Origin=B; path=${et}; max-age=31536000; samesite=strict`,Ft="B"):(document.cookie=`Request-Origin=A; path=${et}; max-age=31536000; samesite=strict`,Ft="A"),this.sendCanaryTelemetry(ht,Ot,Ft),!0)),(0,nn.K)(Ht=>(null===Ht.err&&"Empty cloud variable"===Ht.errorMessage?(Ot=JSON.stringify(Ht),this.logger.info("current path is not targeted, clearing cookie"),document.cookie=`Request-Origin=A; path=${et}; expires=${new Date(0).toUTCString()}`,Ft="A"):(this.logger.error("error in fetching Canary GXT, keeping data as it is",Ht),Ft=ht),this.sendCanaryTelemetry(ht,Ot,Ft),(0,J.of)(!0))))}activateServiceWorker(){return this.logger.info("GFN SW Activation requested"),this.serviceWorkerService.activateServiceWorker()}reloadTab(){this.refreshing||(this.logger.info("Reloading the Tab"),window.location.reload()),this.refreshing=!0}finalizeActivation(){this.serviceWorkerService.postMessageSw({type:Zs.rL.GetClientVersion,content:""}),this.serviceWorkerService.swAssociatedClientVersion.pipe((0,o.q)(1)).subscribe(r=>{this.logger.info("Client Version of Associated SW and client is",r,this.appConfig.build.version),r!==this.appConfig.build.version&&this.shouldReloadOnActivation?this.reloadTab():this.swActivationTimedOut.next(!1)})}isSwUpdateWithinAppLaunchWindow(r){return r-this.appStartTs<this.appLaunchWindow}withinAppLaunchWindow(){return Date.now()-this.appStartTs<this.appLaunchWindow}periodicallyCheckForUpdates(){s.ng.isBrowserPlatform()?this.updateIntervalSub?this.logger.info("GFN SW Periodic Check: Already initialized"):(this.logger.info(`GFN SW Periodic Check: Init - time check interval: ${this.timeCheckInterval}, update check interval: ${this.swUpdateCheckInterval}`),this.updateIntervalSub=(0,os.F)(this.timeCheckInterval).pipe((0,En.h)(r=>Date.now()-this.lastUpdateCheckTimestamp>=this.swUpdateCheckInterval),(0,vt.zg)(r=>this.checkForUpdates())).subscribe(r=>{this.logger.info("GFN SW Periodic Check: Result",r)},r=>this.logger.error("GFN SW Periodic Check: Error -",r.toString()))):this.logger.info("GFN SW Periodic Check: Skipping as not browser platform.")}clearUpdateCheckInterval(){var r;null===(r=this.updateIntervalSub)||void 0===r||r.unsubscribe(),this.updateIntervalSub=null}autoUpdateOnAppLaunch(){this.logger.info("GFN SW Auto Update: Init"),this.checkForUpdatesInternal(!s.ng.isBrowserPlatform()).pipe((0,En.h)(r=>r.updateAvailable&&this.withinAppLaunchWindow()&&this.deeplinkHelperService.allowApplicationReload()),(0,vt.zg)(r=>(this.logger.info("GFN SW Auto Update: Within launch window, requesting to activate."),this.activateServiceWorker()))).subscribe(r=>{this.logger.info("GFN SW Auto Update: Activation result",r)},r=>this.logger.error("GFN SW Auto Update: Request failed",r.toString()))}handleServiceWorkerActivatedInternal(r){this.logger.info("GFN SW Activated: New Service worker activated",r),null!=r&&r.firstInstallation||this.refreshing||s.ng.isCefPlatform()?(this.logger.info("GFN SW Activated: Will not reload."),this.updateServiceWorkerSilently=!1):this.updateServiceWorkerSilently?(this.logger.info("GFN SW Activated: Updated silently."),this.updateServiceWorkerSilently=!1,this.serviceWorkerService.clearSwUpdateCache()):(this.logger.info("GFN SW Activated: Reloading the page."),this.finalizeActivation())}handleServiceWorkerActivated(){this.logger.info("GFN SW Activated: Init"),this.serviceWorkerService.swActivated.pipe((0,vt.zg)(r=>(this.sendServiceWorkerStateTelemetry(di.Activated,!0),(0,J.of)(r).pipe((0,ha.j)(v=>this.telemetryEventProcessingComplete.asObservable()))))).subscribe(r=>{this.handleServiceWorkerActivatedInternal(r)},r=>this.logger.error("GFN SW Activated: Error -",r.toString()))}handleServiceWorkerInstalled(){this.serviceWorkerService.swUpdateReady.subscribe(r=>{this.sendServiceWorkerStateTelemetry(di.Installed,!0)})}sendServiceWorkerLaunchTelemetry(){(0,st.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).pipe((0,o.q)(1)).subscribe(r=>{if(this.serviceWorkerService.serviceWorkerSupported()){const v=this.serviceWorkerService.getSWRegistrationInfo();v&&this.sendServiceWorkerStateTelemetry(v.isSuccess?di.RegistrationSuccess:di.RegistrationFailed,!1,JSON.stringify(v.error))}else this.sendServiceWorkerStateTelemetry(di.NotSupported)})}sendServiceWorkerStateTelemetry(r,v=!1,et=""){const ht={immediateRequest:v};(r===di.Activated||r===di.ActivationOngoing)&&(ht.afterDone=()=>{this.telemetryEventProcessingComplete.next(!0)});const Ot=new k.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen()||k.CGJ.ScreenMallHome,userAction:k.Vwu.ServiceWorkerActivation,status:ka.get(r),errorDetails:et.substring(0,1024),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(Ot,void 0,ht)}getWaitingSWClientVersion(){return(0,Jn.D)(navigator.serviceWorker.getRegistration()).pipe((0,vt.zg)(r=>{const v=new MessageChannel;return null!=r&&r.waiting?(r.waiting.postMessage({type:Zs.rL.GetClientVersionWaitingSW},[v.port2]),v.port1.start(),(0,T.R)(v.port1,"message")):(0,J.of)(!1)}))}handleServiceWorkerActivationRequest(){this.logger.info("SWAR: Init"),this.serviceWorkerService.swActivationRequested.pipe((0,vt.zg)(r=>(0,os.F)(750).pipe((0,l.R)(this.serviceWorkerService.swActivated),(0,o.q)(1))),(0,vt.zg)(r=>this.getWaitingSWClientVersion()),(0,vt.zg)(r=>{this.shouldReloadOnActivation=!1,this.logger.info("SWAR: max time after activation requested, reloading ",r);let et,v="";return r&&r.data.clientVersionString!==this.appConfig.build.version?(et=this.telemetryEventProcessingComplete.asObservable(),v=r.data.clientVersionString):et=(0,J.of)(!1),this.sendServiceWorkerStateTelemetry(di.ActivationOngoing,!0,v),et})).subscribe(r=>{r?this.reloadTab():this.swActivationTimedOut.next(!1)},r=>{this.sendServiceWorkerStateTelemetry(di.ActivationError,!1,`SWAR: Error ${r}`),this.logger.error("SWAR: Error",r)})}isFirstInstallation(){return!this.serviceWorkerService.swIsActive()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(Zs.HR),n.LFG(ge.VK),n.LFG(s.ed),n.LFG(qn.Q6),n.LFG(Bt.F0),n.LFG(ls.g),n.LFG(k.wU6),n.LFG(h.y0))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var ma=t(97424),Wa=t(55035);let za=(()=>{var nt;class _t{constructor(r){this.logger=r.getLogger("gfn/shared/GameLaunchAnalyticsService"),this.resetGameLaunchMetadata(!1)}getGameLaunchMetadata(){return{...this.gameLaunchMetadata}}updateGameLaunchChangeMetadata(){this.logger.info(this.gameLaunchMetadata.launchTs?"Game change accepted - updating GameLaunchData":"No game launch info exists, adding GameChangeDialog info"),this.gameLaunchMetadata.isFromGameChangeDialog=!0}setGameLaunchMetadata(r,v,et,ht){this.gameLaunchMetadata={shortName:r,launchTs:v,epicAccountLinked:et,isMallRunning:ht}}resetGameLaunchMetadata(r){this.logger.info("Cleared game launch metadata"),this.gameLaunchMetadata={shortName:"",launchTs:0,epicAccountLinked:!1,isMallRunning:r}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})(),Qs=(()=>{var nt;class _t{constructor(r,v){this.router=r,this.pathService=v,this.backNavigationUrls=new Array,this.lastNavigationRoute=null,this.namedBackNavigationUrls=new Map}get lastNavigationUrl(){return this.lastNavigationRoute}get backNavigationRoute(){return this.lastNavigationRoute=this.backNavigationUrls.pop(),this.lastNavigationRoute}set backNavigationRoute(r){this.lastNavigationRoute=r,this.backNavigationUrls.push(r)}setNamedBackNavigationUrl(r,v){this.namedBackNavigationUrls.set(r,v)}getNamedBackNavigationUrl(r){return this.namedBackNavigationUrls.get(r)||""}clearState(){this.backNavigationUrls=new Array,this.lastNavigationRoute=null,this.namedBackNavigationUrls.clear()}navigateToPreviousRoute(r){const v=this.backNavigationRoute;r&&this.namedBackNavigationUrls.has(r)?this.pathService.navigateByUrl(this.getNamedBackNavigationUrl(r)):(0,C.isNil)(v)?this.pathService.navigateByUrl(cn.nn.Home):this.pathService.navigateByUrl(this.router.url===v?this.backNavigationRoute:v)}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(Bt.F0),n.LFG(cn.un))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Xi=function(nt){return nt.Search="Search",nt.Survey="Survey",nt}(Xi||{}),pa=t(17627),br=t(67293),je=t(46014),ki=function(nt){return nt.MallScreen="SCREEN_MALL",nt.SurveyScreen="SCREEN_SURVEY",nt.FeedbackScreen="SCREEN_FEEDBACK",nt.PostGameScreen="SCREEN_POSTGAME",nt}(ki||{});const Ka={header:"endSurvey.title",body:{text:"endSurvey.message"},bodySurvey:{text:"endSurvey.messageSurvey"},primaryButton:{text:"common.exit",accentColor:!1},secondaryButton:"common.cancel"};var rs=function(nt){return nt.Stage="STAGE",nt.Prod="PROD",nt}(rs||{}),fa=t(54795);let Ya=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un,vn,Dn,_i,to,Io,Fi,eo,wo,hs,no,Lr){this.idmService=r,this.systemInfoService=v,this.experienceControlWrapperService=et,this.telemetryService=ht,this.distributedTracingBootstrapService=Ft,this.router=Ht,this.browserSupportService=ae,this.telemetryUtilService=Me,this.customLocationService=Ne,this.pathService=ke,this.localeService=Ze,this.nesUserInfoService=on,this.gridService=sn,this.ecommerceService=un,this.appConfig=vn,this.experienceControlService=Dn,this.gfnSdkService=_i,this.applicationLifetimeService=to,this.libraryLoggingService=Io,this.browseUxService=Fi,this.bridgeService=eo,this.ipcService=wo,this.gfcHelperService=hs,this.distributedTracingUtilService=no,this.offDeviceLinkService=Lr,this.surveyUrlSubject=new Nn.t,this.participatedInSurvey=!1,this.surveyTimeout={},this.notificationTimers={},this.surveyActionDuration=0,this.surveyMinimized$=new S.xQ,this.logger=Ot.getLogger("SurveyService"),this.logger.info("Init SDK"),this.sdk=new je.SurveySdkService,this.surveySdkClientConfig={url:vn.surveyEndpoint.server,defaultRetries:vn.surveyEndpoint.defaultRetries,defaultTimeBetweenRetries:vn.surveyEndpoint.defaultTimeBetweenRetries,defaultTimeout:vn.surveyEndpoint.defaultTimeout,env:vn.surveyEndpoint.server.includes("stg")?rs.Stage:rs.Prod,clientId:vn.surveyEndpoint.clientId,clientVersion:(0,ge.sc)(vn),clientVariant:this.telemetryUtilService.getCommonClientVariant(vn.build.variant)},this.clientSurveyResults=new Map,this.surveyEventReferenceSubmittedMap=new Map,this.surveyEventReferenceDismissedMap=new Map,this.surveyEventReferenceErrorMap=new Map,this.surveyEventReferenceSubmissionErrorMap=new Map,this.surveyEventReferenceTimeoutMap=new Map,this.surveyEventReferenceCloseDialogMap=new Map,this.surveyEventReferenceLogListenerMap=new Map,this.surveyEventReferenceMinimizedMap=new Map,this.surveyEventReferenceDeferredMap=new Map,this.logger.info("surveySdkClientConfig: ",this.surveySdkClientConfig)}initialize(){this.applicationLifetimeService.addWorkOnShutdown(()=>(this.clientSurveyResults.forEach((r,v)=>{this.sendUserSurveyTelemetry(k._G.DismissAppExit,this.getSurveyHierarchy(v),v,r)}),(0,J.of)(void 0)))}handleClientSurveyResponse(r,v,et){var ht;if(r){this.logger.info("Got User Survey, data is: ",r),this.surveyActionDuration=Date.now();const Ot=r;this.clientSurveyResults.set(Ot.triggerType,Ot),this.distributedTracingUtilService.setSpanAttributes(v,{[je.SurveySdkSpanTagNames.SurveyId]:Ot.surveyId}),(Ot.triggerType===je.TriggerType.SurveyBanner||Ot.triggerType===je.TriggerType.UXTestBanner||Ot.triggerType===je.TriggerType.CommunicationBanner)&&this.surveyUrlSubject.next(Ot.surveyContainerUrl),this.subscribeToSurveyEvents(Ot)}else this.logger.info("Cannot get User Survey data");this.sendSurveyHttpSuccessTelemetry({url:null==r||null===(ht=r.config)||void 0===ht?void 0:ht.url,httpStatus:null==r?void 0:r.status,durationMs:et,xRequestId:null==r?void 0:r.xRequestId},k.f$p.GetSurvey,k.HGL.GetUsabilityStudy),this.distributedTracingUtilService.closeSpan(v)}handleUsabilityStudyError(r,v){return this.logger.error("Check for survey failed. Sending HTTPFailure telemetry: ",r),this.distributedTracingUtilService.setSpanAttribute(v,pn.NI.Error,!0),this.distributedTracingUtilService.closeSpan(v),this.sendSurveyFailureTelemetry(r,k.f$p.GetSurvey,k.HGL.GetUsabilityStudy),this.resetClientSurveyResult(),(0,J.of)(void 0)}getBannerNotificationTimer(){var r,v;const et=null===(r=this.notificationTimers)||void 0===r?void 0:r.SURVEY_BANNER,ht=null===(v=this.notificationTimers)||void 0===v?void 0:v.UXTEST_BANNER;return this.clientSurveyResults.get(je.TriggerType.SurveyBanner)?et:this.clientSurveyResults.get(je.TriggerType.UXTestBanner)?ht:3e5}checkUserAuthenticatedForSurveys(r){if(this.logger.info("check User Authenticated For Surveys"),!r.isAuthenticated){let v=ki.MallScreen;this.participatedInSurvey&&(v=ki.SurveyScreen,this.customLocationService.navigateToPreviousRoute(Xi.Survey));const et=this.getSurveyBannerInProgress();return et&&(et.triggerType!==je.TriggerType.CommunicationBanner?this.declineSurveys(k._G.DismissLogout,v,et).subscribe():this.resetClientSurveyResult(et)),!1}return!0}checkSurveyEnabledForTriggerType(r,v){if(r){const et=r.value;switch(v){case je.TriggerType.SurveyBanner:return et.enableBannerSurvey;case je.TriggerType.Feedback:return et.enableUserFeedback;case je.TriggerType.PostGame:return et.enablePostSessionSurvey;default:return!1}}return!1}checkForAvailableSurveyBanner(r,v="0",et="",ht=0){return this.idmService.accountStatusChanged.pipe((0,vt.zg)(Ot=>Ot.isAuthenticated?this.isSurveyBannerAvailableForTriggers(Ot,r).pipe((0,pa.P)(),(0,vt.zg)(Ft=>Ft?(this.logger.info("Survey feature enabled"),this.getAvailableSurveyBannerForTriggers(Ot,r,v,et,ht).pipe((0,nn.K)(()=>(0,J.of)(null)))):(this.logger.info("Survey feature is not enabled"),(0,J.of)(null)))):(this.logger.info("checkForAvailableSurveyBanner user logged out"),this.checkUserAuthenticatedForSurveys(Ot)?void 0:(0,J.of)(void 0))))}isSurveyBannerAvailableForTriggers(r,v){const et=[this.appConfig.gxTarget.experiences.survey];v.includes(je.TriggerType.UXTestBanner)&&et.push(this.appConfig.gxTarget.experiences.usabilityStudy),v.includes(je.TriggerType.CommunicationBanner)&&et.push(this.appConfig.gxTarget.experiences.communicationSurvey),this.availableFeatures=[];const ht=this.getSurveyFeaturesEnablement(r,et).pipe((0,o.q)(1),(0,Ve.U)(([...Ft])=>{this.availableFeatures=Ft;const Ht=Ft[0],ae=v.indexOf(je.TriggerType.UXTestBanner),Me=-1!==ae?Ft[ae]:null,Ne=v.indexOf(je.TriggerType.CommunicationBanner),ke=-1!==Ne?Ft[Ne]:null,Ze=this.checkSurveyEnabledForTriggerType(Ht,v[0]);return v.includes(je.TriggerType.UXTestBanner)||v.includes(je.TriggerType.CommunicationBanner)?!!(Ze||Me||ke):Ze}),(0,nn.K)(Ft=>(this.logger.error("Failed to get survey feature enablement"),(0,J.of)(void 0)))),Ot=(0,J.of)(v.includes(je.TriggerType.NotificationBanner));return(0,Wn.aj)([ht,Ot]).pipe((0,Ve.U)(([Ft,Ht])=>Ft||Ht))}getAvailableSurveyBannerForTriggers(r,v,et="0",ht="",Ot=0,Ft=!1){const Ht=ht||this.cachedStreamingSessionId;return(0,Wn.aj)([this.systemInfoService.getSystemInfo([s.l7.DeviceId]),this.distributedTracingBootstrapService.fetchCountryCode(),this.prepareClientParams(et,Ht,Ot,Ft),this.systemInfoService.getDeviceOSType()]).pipe((0,br.b)(([ae,Me,Ne,ke])=>{if(this.logger.info("ClientParams passed getAvailableSurveyBannerForTriggers: ",Ne,ae.DeviceId,Me),!this.checkUserAuthenticatedForSurveys(r)||(this.currentUser=r,!this.getDataForGetUserSurveyApi(v)))return(0,J.of)(void 0);this.sdk.initializeClientConfig(this.surveySdkClientConfig,{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.appConfig.otelTracerConfig.componentName,disable_clock_skew_correction:!0,access_token:this.appConfig.otelTracerConfig.accessToken}),this.initGlobalTagsForOpenTracing(ae.DeviceId,this.osInfo,Me,r.userId,r.idpId);const on=this.startGetSurveyClientSpan(!1),un=(this.distributedTracingUtilService.inject(on),this.getCommonParams(ke));this.logger.info("ClientParams passed to survey sdk: ",this.surveyClientParams,un);const vn=performance.now();return(0,Jn.D)(this.sdk.getUserSurvey(r.userId,r.idpId,ae.DeviceId,this.surveyTimeout,this.surveyClientParams,this.requestedTriggerTypes,this.surveyClientParams.locale,un.deviceOS,un.deviceType,un.deviceMake,un.deviceModel,un.deviceOSVersion,un.clientType,un.browserType)).pipe((0,gt.b)(Dn=>{const _i=performance.now();this.handleClientSurveyResponse(Dn,on,_i-vn)}),(0,Ve.U)(Dn=>s.ng.isBrowserPlatform()&&this.router.url===cn.nn.Surveys&&!Dn?void this.browserSupportService.goToPreviousPage():Dn),(0,nn.K)(Dn=>this.handleUsabilityStudyError(Dn,on)))}))}isSurveyFeatureAvailable(r){const v=[this.appConfig.gxTarget.experiences.survey];r.includes(je.TriggerType.UXTestBanner)&&v.push(this.appConfig.gxTarget.experiences.usabilityStudy),r.includes(je.TriggerType.CommunicationBanner)&&v.push(this.appConfig.gxTarget.experiences.communicationSurvey);let et=!1;return(0,st.$R)(this.idmService.accountStatusChanged,this.gfnSdkService.getAuthInfo()).pipe((0,gt.b)(([ht,Ot])=>{et=Ot.authType===le.Gr.JWT}),(0,En.h)(([ht,Ot])=>et||ht.isAuthenticated),(0,br.b)(([ht,Ot])=>{let Ft;return Ft=et?{userId:Ot.userId||"",idpId:Ot.idpId||""}:this.getUserInfoFromUser(ht),this.availableFeatures=[],this.getSurveyFeaturesEnablement(Ft,v)}),(0,Ve.U)(([...ht])=>{this.availableFeatures=ht;const Ot=ht[0],Ft=r.indexOf(je.TriggerType.UXTestBanner),Ht=-1!==Ft?ht[Ft]:null,ae=r.indexOf(je.TriggerType.CommunicationBanner),Me=-1!==ae?ht[ae]:null,Ne=this.checkSurveyEnabledForTriggerType(Ot,r[0]);return r.includes(je.TriggerType.UXTestBanner)||r.includes(je.TriggerType.CommunicationBanner)||r.includes(je.TriggerType.NotificationBanner)?!!(Ne||Ht||Me):Ne}),(0,nn.K)(ht=>(this.logger.error("Failed to get survey feature enablement"),(0,J.of)(void 0))))}getAvailableSurvey(r,v="0",et="",ht=0,Ot=!1){const Ft=et||this.cachedStreamingSessionId;return(0,Wn.aj)([this.idmService.accountStatusChanged,this.systemInfoService.getSystemInfo([s.l7.DeviceId]),this.distributedTracingBootstrapService.fetchCountryCode(),this.systemInfoService.getDeviceOSType(),this.prepareClientParams(v,Ft,ht,Ot)]).pipe((0,br.b)(([Ht,ae,Me,Ne])=>{if(!this.checkUserAuthenticatedForSurveys(Ht)||(this.currentUser=Ht,!this.getDataForGetUserSurveyApi(r)))return(0,J.of)(void 0);this.sdk.initializeClientConfig(this.surveySdkClientConfig,{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.appConfig.otelTracerConfig.componentName,disable_clock_skew_correction:!0,access_token:this.appConfig.otelTracerConfig.accessToken}),this.initGlobalTagsForOpenTracing(ae.DeviceId,this.osInfo,Me,Ht.userId,Ht.idpId);const Ze=this.startGetSurveyClientSpan(!1),sn=(this.distributedTracingUtilService.inject(Ze),this.getCommonParams(Ne));this.logger.info("ClientParams passed to survey sdk: ",this.surveyClientParams,sn);const un=performance.now();return(0,Jn.D)(this.sdk.getUserSurvey(Ht.userId,Ht.idpId,ae.DeviceId,this.surveyTimeout,this.surveyClientParams,this.requestedTriggerTypes,this.surveyClientParams.locale,sn.deviceOS,sn.deviceType,sn.deviceMake,sn.deviceModel,sn.deviceOSVersion,sn.clientType,sn.browserType)).pipe((0,gt.b)(vn=>{const Dn=performance.now();this.handleClientSurveyResponse(vn,Ze,Dn-un)}),(0,Ve.U)(vn=>s.ng.isBrowserPlatform()&&this.router.url===cn.nn.Surveys&&!vn?void this.browserSupportService.goToPreviousPage():vn),(0,nn.K)(vn=>this.handleUsabilityStudyError(vn,Ze)))}))}getDataForGetUserSurveyApi(r){this.requestedTriggerTypes=[],this.logger.info("getAvailableSurvey,  available Features: ",this.availableFeatures);const v=this.availableFeatures[0],et=r.indexOf(je.TriggerType.UXTestBanner),ht=-1!==et?this.availableFeatures[et]:null,Ot=r.indexOf(je.TriggerType.CommunicationBanner),Ft=-1!==Ot?this.availableFeatures[Ot]:null,Ht=r.includes(je.TriggerType.NotificationBanner),ae=v||ht;return ae||Ht?(this.surveySdkClientConfig.surveyContainerBaseUrl=ae.value.containerBaseUrl,v&&(this.surveyTimeout.SURVEY_BANNER=v.value.surveyTimeoutSec),ht&&(this.surveyTimeout.UXTEST_BANNER=ht.value.surveyTimeoutSec),v&&(this.notificationTimers.SURVEY_BANNER=v.value.notificationTimeoutMs),ht&&(this.notificationTimers.UXTEST_BANNER=ht.value.notificationTimeoutMs),ht&&r.includes(je.TriggerType.UXTestBanner)&&this.requestedTriggerTypes.push(je.TriggerType.UXTestBanner),Ft&&Ft.value.enableOCTSurvey&&r.includes(je.TriggerType.CommunicationBanner)&&this.requestedTriggerTypes.push(je.TriggerType.CommunicationBanner),v&&r.forEach(Me=>{Me!==je.TriggerType.UXTestBanner&&Me!==je.TriggerType.CommunicationBanner&&this.requestedTriggerTypes.push(Me)}),Ht&&this.requestedTriggerTypes.push(je.TriggerType.NotificationBanner),this.logger.info("RequestedTriggerTypes: ",this.requestedTriggerTypes),this.logger.info("Successfully preapared Data for GetUserSurvey Api"),!0):(this.logger.error("Failed to preapsre Data for GetUserSurvey Api"),!1)}prepareClientParams(r,v,et,ht){const Ot=ht?(0,J.of)({NetworkType:s.VV.Unknown}):this.systemInfoService.getSystemInfo([s.l7.Network]).pipe((0,Ve.U)(Ft=>Ft.Network));return(0,st.$R)(Ot,this.systemInfoService.getSystemInfo([s.l7.OSName,s.l7.OSVersion,s.l7.Platform,s.l7.DeviceType,s.l7.VendorName,s.l7.SystemName,s.l7.OSVersion,s.l7.BrowserName,s.l7.BrowserVersion]),this.localeService.localeChanged,this.nesUserInfoService.fetchUserInfoWithStreamingUrl(),this.gridService.getCachedZone(),this.ecommerceService.getUserMembership().pipe((0,En.h)(Ft=>Ft.membershipStatus!==zn.Tn.UnKnown&&Ft.membershipStatus!==zn.Tn.LoggedOut)),this.gfcHelperService.getAppInstanceId()).pipe((0,vt.zg)(([Ft,Ht,ae,Me,Ne,ke,Ze])=>(this.osInfo={OSName:Ht.OSName,OSVersion:Ht.OSVersion,Platform:Ht.Platform},this.systemInfo=Ht,this.surveyClientParams={gfnSessionId:v||"",application:"GFN",serverType:"GRID",userSubscriptionLevelSKU:ke.membershipStatus===zn.Tn.Entitled?ke.subscription.productSku:"",network:Ft&&Ft.NetworkType?Ft.NetworkType:s.VV.Unknown,locale:ae,affiliate:null!=Me&&Me.serviceEndpoint?Me.serviceEndpoint.loginProvider:"",datacenter:Ne.name||"",browser:Ht.BrowserName||"",browserVersion:Ht.BrowserVersion||"",cmsId:r,sessionDurationMin:et,osName:this.experienceControlService.getSupportedOSName(this.osInfo.OSName),selectedCmsId:this.browseUxService.selectedParentId||"",surveySessionId:s.ng.isBrowserPlatform()&&Ze||"",productName:this.telemetryUtilService.getProductName(),productVersion:(0,ge.sc)(this.appConfig)},(0,J.of)(this.surveyClientParams))))}unsubscribeFromLogListener(r){this.surveyEventReferenceLogListenerMap.get(r).unsubscribe()}getBannerSurveyTriggerType(){const r=this.getSurveyBannerInProgress();return r?r.triggerType:null}setStreamingSessionId(r){this.cachedStreamingSessionId=r}declineSurveys(r,v,et){if(this.logger.info("Decline User Surveys Async:",et),et&&!(0,C.isEmpty)(et)&&this.currentUser&&this.currentUser.isAuthenticated){this.logger.info("Declining the surveys for id: ",et.surveyId);const ht=this.startDismissSurveyClientSpan(et.surveyId),Ft=(this.distributedTracingUtilService.inject(ht),performance.now());return(0,Jn.D)(this.sdk.declineUserSurvey(this.currentUser.userId,et.surveyId,!1)).pipe((0,Ve.U)(Ht=>{var ae;const Me=performance.now();return this.distributedTracingUtilService.closeSpan(ht),this.sendUserSurveyTelemetry(r,v,et.triggerType,et),this.sendSurveyHttpSuccessTelemetry({url:null==Ht||null===(ae=Ht.config)||void 0===ae?void 0:ae.url,httpStatus:null==Ht?void 0:Ht.status,durationMs:Me-Ft,xRequestId:null==Ht?void 0:Ht.xRequestId},k.f$p.SendSurveyResponse,k.HGL.SendUsabilityStudyResponse),this.resetClientSurveyResult(et),!0}),(0,nn.K)(Ht=>(this.logger.error("Declining the survey failed sending HTTPFailure telemetry: ",Ht),this.distributedTracingUtilService.closeSpan(ht),this.sendSurveyFailureTelemetry(Ht,k.f$p.SendSurveyResponse,k.HGL.SendUsabilityStudyResponse),this.resetClientSurveyResult(et),(0,J.of)(!1))))}return this.logger.error("Something went wrong in declining the survey Removing the notification",et),this.resetClientSurveyResult(et),(0,J.of)(!1)}primarySurveyBannerAction(){const r=this.getSurveyBannerInProgress();let v;var et;(this.logger.info("onClickParticipate for id: ",r.surveyId),r.triggerType===je.TriggerType.NotificationBanner)?(v=k._G.LearnMoreClicked,this.offDeviceLinkService.open(r.notificationUrl)):(this.participatedInSurvey=!0,this.router.url!==cn.nn.Surveys&&(this.customLocationService.setNamedBackNavigationUrl(Xi.Survey,this.router.url),null!==(et=this.appConfig.featureEnablement)&&void 0!==et&&et.surveyInNative?this.bridgeService.executeCommand(dn.Gh.Common.Survey.Launch,{url:r.surveyContainerUrl,triggerType:r.triggerType,surveyId:r.surveyId}).subscribe(()=>{}):this.pathService.navigate([cn.nn.Surveys],{skipLocationChange:!0})),v=r.surveyVisited?k._G.ParticpatePostMinimize:k._G.Participate);this.sendUserSurveyTelemetry(v,ki.MallScreen,null==r?void 0:r.triggerType,r)}getSurveyUrl(){return this.surveyUrlSubject.asObservable()}isSurveyInProgress(){return this.participatedInSurvey}getSurveyBannerInProgress(){return this.clientSurveyResults.get(je.TriggerType.CommunicationBanner)||this.clientSurveyResults.get(je.TriggerType.UXTestBanner)||this.clientSurveyResults.get(je.TriggerType.SurveyBanner)||this.clientSurveyResults.get(je.TriggerType.NotificationBanner)}subscribeToSurveyEvents(r){const v=r.triggerType,et=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Minimized},()=>this.surveyEventListnerMinimized(v));this.surveyEventReferenceMinimizedMap.set(v,et);const ht=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Deferred},()=>this.surveyEventListnerDeferred(v));this.surveyEventReferenceDeferredMap.set(v,ht);const Ot=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Submitted},()=>this.surveyEventListenerSubmitted(v));this.surveyEventReferenceSubmittedMap.set(v,Ot);const Ft=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Dismissed},()=>this.surveyEventListenerDismissed(v));this.surveyEventReferenceDismissedMap.set(v,Ft);const Ht=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Errored},()=>this.surveyEventListenerErrored(v));this.surveyEventReferenceErrorMap.set(v,Ht);const ae=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.SubmissionErrored},()=>this.surveyEventListenerSubmissionErrored(v));this.surveyEventReferenceSubmissionErrorMap.set(v,ae);const Me=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Timeout},()=>this.surveyEventListenerTimeout(v));this.surveyEventReferenceTimeoutMap.set(v,Me);const Ne=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.CloseDialog},()=>this.surveyEventListenerCloseDialog(v));this.surveyEventReferenceCloseDialogMap.set(v,Ne),this.logger.info("Survey Event Reference Close Dialog Map:",this.surveyEventReferenceCloseDialogMap.size);const ke=(0,je.subscribeToIFrameEvents)({surveyId:r.surveyId,type:je.SurveyEventType.Log},Ze=>this.libraryLoggingService.sendLog(Ze));this.surveyEventReferenceLogListenerMap.set(v,ke)}getSurveyHierarchy(r){switch(r){case je.TriggerType.CommunicationBanner:return this.isSurveyInProgress()?ki.SurveyScreen:ki.MallScreen;case je.TriggerType.SurveyBanner:case je.TriggerType.UXTestBanner:return ki.SurveyScreen;case je.TriggerType.Feedback:return ki.FeedbackScreen;case je.TriggerType.PostGame:return ki.PostGameScreen;default:return ki.SurveyScreen}}surveyEventListnerMinimized(r){this.logger.info("Survey has minimized; triggerType: ",r),this.unsubscribeFromLogListener(r),this.surveyMinimize(r)}surveyEventListnerDeferred(r){this.logger.info("Survey has deferred; triggerType: ",r),this.sendUserSurveyTelemetry(k._G.Deferred,this.getSurveyHierarchy(r),r,this.clientSurveyResults.get(r)),r!==je.TriggerType.Feedback&&r!==je.TriggerType.PostGame&&this.customLocationService.navigateToPreviousRoute(Xi.Survey),this.surveyEventReferenceDeferredMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}triggerSurveyLogUpload(r){if(s.ng.isBrowserPlatform())this.gfcHelperService.updateEventDataParamIds({surveySessionId:r||""});else{const et={type:fn.oI.CollectClientLogs,content:JSON.stringify({name:fn.Mx.UserFeedBack,surveySessionId:r||""}),sender:this.telemetryUtilService.getClientType()===k.BhR.MallClient?fn.vS.GfnMall:fn.vS.GfnStreamer,recipient:fn.vS.GfnUpdater};this.logger.info("Sending IPC message for uploading survey logs:",et),this.ipcService.pushMessage(et).pipe((0,o.q)(1)).subscribe(ht=>this.logger.info("Survey logs upload triggered: ",ht),ht=>this.logger.error("Error triggering Survey logs upload: ",ht))}}surveyEventListenerSubmitted(r){var v;this.logger.info("Survey has been submitted; triggerType: ",r);const et=null===(v=this.clientSurveyResults.get(r))||void 0===v?void 0:v.surveySessionId;this.triggerSurveyLogUpload(et),this.sendUserSurveyTelemetry(k._G.Completed,this.getSurveyHierarchy(r),r,this.clientSurveyResults.get(r)),this.surveyEventReferenceSubmittedMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}surveyEventListenerDismissed(r){this.logger.info("Survey has been dismissed"),this.sendUserSurveyTelemetry(k._G.DismissManual,this.getSurveyHierarchy(r),r,this.clientSurveyResults.get(r)),this.surveyEventReferenceDismissedMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}surveyEventListenerTimeout(r){this.logger.info("Survey has been timed-out; triggerType: ",r),this.sendUserSurveyTelemetry(k._G.DismissTimeout,this.getSurveyHierarchy(r),r,this.clientSurveyResults.get(r)),(r===je.TriggerType.PostGame||r===je.TriggerType.Feedback)&&this.customLocationService.navigateToPreviousRoute(Xi.Survey),this.surveyEventReferenceTimeoutMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}surveyEventListenerCloseDialog(r){this.logger.info("User closed dialog from Survey; triggerType: ",r);const v=this.clientSurveyResults.get(r);this.resetClientSurveyResult(v),r!==je.TriggerType.Feedback&&r!==je.TriggerType.PostGame&&this.customLocationService.navigateToPreviousRoute(Xi.Survey),[je.TriggerType.Feedback,je.TriggerType.PostGame].includes(r)&&this.sendUserSurveyTelemetry(k._G.DismissManual,this.getSurveyHierarchy(r),r,v),this.surveyEventReferenceCloseDialogMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}surveyEventListenerErrored(r){this.logger.info("Survey has error");const v=this.clientSurveyResults.get(r);this.resetClientSurveyResult(v),this.surveyEventReferenceErrorMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}surveyEventListenerSubmissionErrored(r){this.logger.info("Survey has submission error");const v=this.clientSurveyResults.get(r);this.resetClientSurveyResult(v),this.surveyEventReferenceSubmissionErrorMap.get(r).unsubscribe(),this.unsubscribeFromLogListener(r)}sendUserSurveyTelemetry(r,v,et,ht){if(this.logger.info("Sending survey telemetry: ",r),ht){const Ot=new k.QqN({hierarchy:v,status:r,surveyId:ht.surveyId,durationMs:this.getUserActionDuration(r),surveyTrigger:k.pjt[et.toString()]});this.telemetryService.push(Ot,null,{immediateRequest:!0}),(r===k._G.Completed||r===k._G.DismissManual||r===k._G.DismissTimeout||r===k._G.Deferred||r===k._G.DismissManualPostMinimize)&&this.resetClientSurveyResult(ht)}}surveyMinimize(r){const v=this.clientSurveyResults.get(r);v.surveyVisited=!0,this.sendUserSurveyTelemetry(k._G.Minimized,this.getSurveyHierarchy(r),r,v),this.participatedInSurvey=!1,this.customLocationService.navigateToPreviousRoute(Xi.Survey),this.router.events.pipe((0,En.h)(et=>et instanceof Bt.m2),(0,pa.P)(),(0,gt.b)(()=>{this.surveyMinimized$.next(r)})).subscribe()}getMinimizedSurvey$(){return this.surveyMinimized$.asObservable().pipe((0,vt.zg)(r=>(0,J.of)(this.clientSurveyResults.get(r))))}getUserInfoFromUser(r){return{userId:(null==r?void 0:r.userId)||"",idpId:(null==r?void 0:r.idpId)||""}}getSurveyFeaturesEnablement(r,v){const et=[];return v.forEach((ht,Ot)=>{const Ft=this.experienceControlWrapperService.getCloudVariable(ht,{variant:this.appConfig.build.variant},void 0,qn.Z4.GxTargetGetCloudVariable,qn.Qu.GxTargetGetSurveyFeature,(0,J.of)(r)).pipe((0,nn.K)(Ht=>(this.logger.info("FeatureEnablement error: ",Ht),(0,J.of)(null))));et.push(Ft)}),(0,st.$R)(...et)}startGetSurveyClientSpan(r=!1){const v=this.distributedTracingUtilService.startSpan(pn.j1.ClientGetSurvey);return v&&this.distributedTracingUtilService.setSpanAttributes(v,{[je.SurveySdkSpanTagNames.ReadOnly]:r}),v}startDismissSurveyClientSpan(r){const v=this.distributedTracingUtilService.startSpan(pn.j1.ClientDismissSurvey);return v&&this.distributedTracingUtilService.setSpanAttributes(v,{[je.SurveySdkSpanTagNames.SurveyId]:r}),v}initGlobalTagsForOpenTracing(r,v,et,ht,Ot){const Ft={[pn.NI.ServiceVersion]:this.appConfig.build.version,[pn.NI.ServiceType]:pn.sk.Pc_A7,[pn.NI.SpanKind]:pn.$Q.Client,[pn.NI.AppName]:(0,cn.wI)(this.router.url)?cn.lW.Streamer:cn.lW.Mall,[pn.NI.DeviceId]:r,[pn.NI.ClientOs]:v.Platform,[pn.NI.ClientOsName]:v.OSName,[pn.NI.ClientOsVersion]:v.OSVersion,[pn.NI.CountryCode]:et,[je.SurveySdkSpanTagNames.ClientVariant]:this.surveySdkClientConfig.clientVariant,[je.SurveySdkSpanTagNames.ClientVersion]:this.getClientVersionRevision(this.surveySdkClientConfig.clientVersion),[je.SurveySdkSpanTagNames.Environment]:this.surveySdkClientConfig.env,[je.SurveySdkSpanTagNames.UserId]:ht,[je.SurveySdkSpanTagNames.IdpId]:Ot};this.sdk.updateGlobalTags(Ft)}getClientVersionRevision(r){return 4===r.split(".").length?r.substring(0,r.lastIndexOf(".")+1).concat("x"):r}resetClientSurveyResult(r){this.logger.info("Resetting client survey result"),this.participatedInSurvey=!1,r&&this.clientSurveyResults.delete(r.triggerType)}getUserActionDuration(r){return r===k._G.Notify?0:Date.now()-this.surveyActionDuration}sendSurveyHttpSuccessTelemetry(r,v,et){const ht=new k.wEN({sourceComponent:this.telemetryUtilService.getClientType(),originalService:k.v6v.GxTarget,serviceUseCase:v,serviceSubUseCase:et,url:r.url||"",httpStatus:r.httpStatus||200,durationMs:Math.round(r.durationMs)||0,destinationIp:"",responseData:"",xRequestId:r.xRequestId||"",retryCount:0,wasSWCacheBypassed:k.wye.UNDEFINED});this.telemetryService.push(ht)}sendSurveyFailureTelemetry(r,v,et){var ht,Ot;const Ft=new k.MjV({sourceComponent:this.telemetryUtilService.getClientType(),originalService:k.v6v.GxTarget,serviceUseCase:v,serviceSubUseCase:et,url:(null==r||null===(ht=r.config)||void 0===ht?void 0:ht.url)||"",networkErrorCode:String(r&&r.response?r.response.status:0),destinationIp:"",xRequestId:r&&r.xRequestId?r.xRequestId:"",retryCount:0,wasSWCacheBypassed:k.wye.UNDEFINED,networkErrorMessage:(null==r||null===(Ot=r.response)||void 0===Ot||null===(Ot=Ot.message)||void 0===Ot?void 0:Ot.substring(0,1024))||""});this.telemetryService.push(Ft)}getCommonParams(r){const v=s.ng.isBrowserPlatform();return{deviceOS:r,deviceType:this.systemInfo.DeviceType||h.wy.Undefined,deviceMake:this.systemInfo.VendorName||h.wy.Undefined,deviceModel:this.systemInfo.SystemName||h.wy.Undefined,deviceOSVersion:this.systemInfo.OSVersion,clientType:v?fa.CommonClientType.Browser:fa.CommonClientType.Native,browserType:this.systemInfo.BrowserName}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(ii.No),n.LFG(s.Ob),n.LFG(hi),n.LFG(h.y0),n.LFG(s.ed),n.LFG(po),n.LFG(Bt.F0),n.LFG(ts.OA),n.LFG(k.wU6),n.LFG(Qs),n.LFG(cn.un),n.LFG(s.OL),n.LFG($n.fI),n.LFG(ln.r),n.LFG(zn.BH),n.LFG(ge.VK),n.LFG(qn.Q6),n.LFG(le.s),n.LFG(_.Ll),n.LFG(s._V),n.LFG(Mo),n.LFG(s.dF),n.LFG(fn.uC),n.LFG(uo),n.LFG(pn.Dc),n.LFG(R.qA))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var yr=t(12878),Qa=t(55386),_a=t(89718),ja=t(50183),Er=t(90786),Ca=t(66587),Ja=t(19979);class Xa{constructor(_t,Et,r,v,et,ht,Ot,Ft=[],Ht,ae){this.type=_t,this.logger=Et,this.appConfig=r,this.telemetryService=v,this.settingsService=et,this.localeService=ht,this.translateService=Ot,this.enabledGamesList=Ft,this.digitalStoreMetadata=Ht,this.userAccountData=ae,this._isSyncScheduled=!1,this.inProgress=!1,this.syncInProgress=!1,this.inErrorState=!1,this.isResync=!1,this.errorText="",this.errorArg="",this.errorDialogUrl="",this.showReconnect=!1,this.reconnectReason=null,this.resyncReason=null,this.prevResyncReason=null,this.hideOnboardingReconnect=!1,this.inProgressDisconnect=!1,this.reconnectInProgress=!1,this.showSyncDeniedReconnect=!1,this.accountLinkedTime=null}get expirationTime(){var _t;let Et;if(null!==(_t=this.appConfig.accountLinking)&&void 0!==_t&&_t.expirationDate){var r;Et=new Date(null===(r=this.appConfig.accountLinking)||void 0===r?void 0:r.expirationDate),Number.isNaN(Et.getTime())&&(Et=null)}else{var v;const et=parseInt(null===(v=this.userAccountData)||void 0===v?void 0:v.accountLinkingData.expiresIn,10);Et=et&&-1!==et?this.getExpirationFromNow(1e3*et):null,(!Et||-1===parseInt(Et,10))&&(Et=null)}return Et}get isSyncScheduled(){return this._isSyncScheduled}set isSyncScheduled(_t){this._isSyncScheduled=_t}get loggedIn(){var _t;return!(null===(_t=this.storeData)||void 0===_t||!_t.store)}get fancyTimestamp(){return this.syncTime?$o(this.syncTime).fromNow():$o(new Date).fromNow()}get persona(){var _t;return(null===(_t=this.userAccountData.accountLinkingData)||void 0===_t?void 0:_t.userDisplayName)||this.translateService.instant("accountConnection.connected")}get name(){return this.digitalStoreInfo.accountLinkingMetadata.label}get appStoreName(){var _t;return null===(_t=this.digitalStoreInfo)||void 0===_t?void 0:_t.label}get platform(){return this.type.toUpperCase()}get numberOfSyncedGames(){var _t;return(null===(_t=this.userAccountData)||void 0===_t||null===(_t=_t.accountLinkingData)||void 0===_t||null===(_t=_t.accountSyncingData)||void 0===_t?void 0:_t.totalNumberOfSyncedGfnGames)||0}get expirations(){var _t,Et,r;return new Cs(null!==(_t=this.appConfig.accountLinking)&&void 0!==_t&&_t.expiringNow?1e3*this.appConfig.accountLinking.expiringNow:void 0,null!==(Et=this.appConfig.accountLinking)&&void 0!==Et&&Et.expiringToday?1e3*this.appConfig.accountLinking.expiringToday:void 0,null!==(r=this.appConfig.accountLinking)&&void 0!==r&&r.expiringSoon?1e3*this.appConfig.accountLinking.expiringSoon:void 0)}get syncDate(){var _t;return null===(_t=this.userAccountData)||void 0===_t||null===(_t=_t.accountLinkingData)||void 0===_t||null===(_t=_t.accountSyncingData)||void 0===_t?void 0:_t.syncDate}get syncTime(){return this.syncDate?new Date(this.syncDate):null}get userId(){var _t;return null===(_t=this.userAccountData)||void 0===_t||null===(_t=_t.accountLinkingData)||void 0===_t?void 0:_t.userIdentifier}updateLinkTime(){this.accountLinkedTime=Date.now()}getExpirationFromNow(_t){var Et;if("number"!=typeof _t||-1===_t)return null;const r=null!==(Et=this.accountLinkedTime)&&void 0!==Et?Et:Date.now();return new Date(r+_t)}get expires(){const _t=parseInt(this.userAccountData.accountLinkingData.expiresIn,10);return _t&&-1!==_t?this.getExpirationFromNow(1e3*_t):null}get gamesList(){return this.enabledGamesList}get digitalStoreInfo(){return this.digitalStoreMetadata}get storeData(){return this.userAccountData}get isAccountSyncingSupported(){return this.digitalStoreInfo.features.filter(_t=>_t.__typename===si.q6.AccountGamesSyncing).some(_t=>!0===_t.supported)}get isAccountLinkingSupported(){return this.digitalStoreInfo.features.filter(_t=>_t.__typename===si.q6.AccountLinkingSso).some(_t=>!0===_t.supported)}set userAccountInfo(_t){this.userAccountData=_t}set syncData(_t){this.userAccountData.accountLinkingData.accountSyncingData=_t}get isExpired(){return!(!this.isAccountLinkingSupported||null===this.expirationTime)&&(0===this.expirationTime.getTime()||this.expirationTime.getTime()<Date.now())}get isConnected(){var _t;return!(null===(_t=this.storeData)||void 0===_t||!_t.store)}get state(){var _t;return null===(_t=this.userAccountData)||void 0===_t||null===(_t=_t.accountLinkingData)||void 0===_t||null===(_t=_t.accountSyncingData)||void 0===_t?void 0:_t.syncState}set state(_t){this.userAccountData.accountLinkingData.accountSyncingData.syncState=_t}get isSynced(){return this.isConnected&&this.state&&this.isAccountSyncSupported}get showOnboardingReconnect(){return this.isConnected&&this.isAccountSyncSupported&&!this.state&&!this.hideOnboardingReconnect&&this.appConfig.accountLinking.newFeatureAddition.includes(this.type)}get isAccountLinkingSsoAvailable(){return this.isAccountLinkingSupported}get isAccountSyncSupported(){return this.isAccountSyncingSupported}get icon(){return this.digitalStoreInfo.smallImageUrl||""}get connectValueProp(){var _t;return(null===(_t=this.digitalStoreInfo.accountLinkingMetadata)||void 0===_t?void 0:_t.connectValueProposition)||""}get isAccountLinkingSsoRequired(){return!!this.digitalStoreInfo.accountLinkingMetadata.isRequired}get isAccountLinked(){return this.isAccountLinkingSsoAvailable&&this.isConnected}resetResyncReconnectReasons(){this.reconnectReason=null,this.prevResyncReason=null}updateProviderState(){if(this.inProgress=!1,this.inProgressDisconnect=!1,this.syncInProgress=!1,this.inErrorState=!1,this.showReconnect=!1,this.showSyncDeniedReconnect=!1,this.prevResyncReason=this.resyncReason,this.resyncReason=null,this.isAccountLinkingSsoAvailable&&(this.errorText="",this.errorArg="",this.inErrorState=!1,this.isAccountLinkingSupported)){const _t=this.getExpirationStatus();if(this.loggedIn&&_t!==jn.NotExpired)switch(this.logger.info("Updating provider state for expiry",_t),this.inErrorState=!0,this.showReconnect=!0,_t){case jn.Expired:this.errorText="accountConnection.accountLinking.warningExpired";break;case jn.ExpiresNow:case jn.ExpiresToday:this.errorText="accountConnection.accountLinking.warningToday";break;case jn.ExpiresSoon:this.errorText="accountConnection.accountLinking.warning",this.errorArg=$o(this.expirationTime).fromNow()}}this.isConnected&&this.isAccountSyncSupported&&this.state&&this.isSyncFailure()&&(this.logger.info(`Updating provider state for sync errors ${this.state} for ${this.type}`),this.errorText="accountConnection.accountSyncing.gameSyncFailed",this.errorArg="",this.inErrorState=!0,this.resyncReason=ji.syncFailed,"STEAM"===this.type&&(this.state===ti.SYNC_DENIED?(this.errorDialogUrl=this.settingsService.getLinksUrl(An.qB.STEAM_ACCOUNT_SETTINGS,this.localeService.getLocale()),this.resyncReason=ji.privateProfile,this.errorText="accountConnection.accountSyncing.warning",this.errorArg=`<a class="font-body2-link" href="${this.errorDialogUrl}">`):this.state===ti.PROFILE_NOT_CREATED&&(this.errorDialogUrl=`https://steamcommunity.com/profiles//${this.userId}`,this.errorText="accountConnection.accountSyncing.requirement",this.errorArg=`<a class="font-body2-link" href="${this.errorDialogUrl}">`,this.resyncReason=ji.profileNotCreated)),"UPLAY"===this.type&&this.state===ti.SYNC_DENIED&&(this.errorText="",this.showSyncDeniedReconnect=!0))}isSyncFailure(){return!this.state||this.state!==ti.SYNC_SUCCESS}getExpirationStatus(){return this.isExpired?jn.Expired:this.checkExpiration(this.expirations.now)?jn.ExpiresNow:this.checkExpiration(this.expirations.today)?jn.ExpiresToday:this.checkExpiration(this.expirations.soon)?jn.ExpiresSoon:jn.NotExpired}checkExpiration(_t){var Et;return!!this.isExpired||(null===(Et=this.expirationTime)||void 0===Et?void 0:Et.getTime())<Date.now()+_t}onConnectStart(){this.logger.trace(pe.y$.UserGesture,"Connecting to your accounts"),this.inProgress=!0,this.reconnectInProgress=!1,this.hideOnboardingReconnect=!0}onConnectEnd(){this.inProgress=!1}onReconnectStart(_t){this.logger.trace(pe.y$.UserGesture,"Reconnecting to your connected account"),this.reconnectReason=_t?Qi.onboardingReconnect:this.showSyncDeniedReconnect&&"UPLAY"===this.type?Qi.syncDenied:Qi.reconnect,this.inProgress=!0,this.reconnectInProgress=!0,this.hideOnboardingReconnect=!0}onReconnectEnd(){this.inProgress=!1,this.reconnectInProgress=!1}onSyncStart(){this.inProgress=!0,this.syncInProgress=!0}onSyncEnd(){this.inProgress=!1,this.syncInProgress=!1}onResyncStart(){this.isResync=!0,this.logger.trace(pe.y$.UserGesture,"Resyncing to your connected account"),this.syncInProgress=!0,this.inProgress=!0}onResyncEnd(){this.isResync=!1,this.inProgress=!1,this.syncInProgress=!1}onDisconnectStart(){this.logger.trace(pe.y$.UserGesture,"Disconnecting from your account"),this.inProgress=!0,this.inProgressDisconnect=!0}onDisconnectEnd(){this.inProgress=!1,this.inProgressDisconnect=!1,this.inErrorState=!1,this.showReconnect=!1}}let tl=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot){this.appConfig=v,this.endpointFactory=et,this.idmService=ht,this.distributedtracingUtilService=Ot,this.logger=r.getLogger("ALSService");const{defaultRetries:Ft,defaultTimeout:Ht,exponentialBackoffMaxDelay:ae,defaultTimeBetweenRetries:Me}=v.accountLinking;this.alsEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:Ft,timeout:Ht,exponentialBackoffMaxDelay:ae,timeBetweenRetries:Me}})}createHeader(r){return{[hn.n0.authorization]:`Bearer ${r.token}`}}createRequestOptions(r={},v={},et,ht,Ot=!1){return{headers:et?this.createHeader(et):{},params:v,body:r,reportRequestData:{reportSuccessTelemetry:"true",originalService:k.v6v.ALS,serviceUseCase:ht},includeFullResponse:Ot}}get redirectFinishedUrl(){return this.appConfig.accountLinking.redirectFinishedUrl}providerSync(r,v,et){const ht=this.createRequestOptions({},{},v,k.f$p.LibrarySync,!0),Ot=this.buildApiUrl("sync/").concat(r),Ft=this.alsEndpoint.post(Ot,ht);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ft,ht,pn.j1.AlsSync,et).pipe((0,Ve.U)(Ht=>(this.logger.info("Syncing result",Ht),202===(null==Ht?void 0:Ht.status))),(0,nn.K)(Ht=>(this.logger.error(`Error syncing ${r} account provider: `,Ht),(0,J.of)(!1))))}buildApiUrl(r){var v;return(null===(v=this.appConfig.accountLinking)||void 0===v?void 0:v.server)+"/v1/"+r}getLoginUrl(r,v,et,ht=!1){let Ot=this.appConfig.accountLinking.redirectUrl;return this.appConfig.accountLinking.redirectUrlIsRelative&&(Ot=window.location.origin+Ot),v&&v>0&&(Ot=Ot.replace("{portnumber}",v.toString())),this.idmService.getAuthToken(ht,et).pipe((0,vt.zg)(Ft=>{const Ht=this.createRequestOptions({},{platform:r,redirect_uri:Ot,client_id:this.appConfig.accountLinking.clientId},Ft,k.f$p.GetOAuthURL),ae=this.alsEndpoint.get(this.buildApiUrl("login_url"),Ht);return this.distributedtracingUtilService.handleHttpEndpointSpan(ae,Ht,pn.j1.AlsGetLoginUrl,et).pipe((0,Ve.U)(Me=>Me.login_url))}),(0,nn.K)(Ft=>this.idmService.handleAuthError(Ft,ht,this.getLoginUrl.bind(this),r,v,et)))}postLoginUrl(r,v,et=!1){return this.idmService.getAuthToken(et,v).pipe((0,vt.zg)(ht=>{const Ot=this.createRequestOptions({platform:r,client_id:this.appConfig.accountLinking.clientId},{},ht,k.f$p.GetOAuthURL),Ft=this.alsEndpoint.post(this.buildApiUrl("login_url"),Ot);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ft,Ot,pn.j1.AlsPostLoginUrl,v)}),(0,nn.K)(ht=>this.idmService.handleAuthError(ht,et,this.postLoginUrl.bind(this),r,v)))}postToken(r,v){const et=this.createRequestOptions({client_id:this.appConfig.accountLinking.clientId,device_code:r},{},void 0,k.f$p.Other),ht=this.alsEndpoint.post(this.buildApiUrl("token"),et);return this.distributedtracingUtilService.handleHttpEndpointSpan(ht,et,pn.j1.AlsPostToken,v)}disconnect(r,v,et,ht=!1){return this.idmService.getAuthToken(ht,et).pipe((0,vt.zg)(Ot=>{const Ft=this.createRequestOptions({},{},Ot,k.f$p.UnlinkAccount),Ht=this.alsEndpoint.delete(this.buildApiUrl(`linking/${v}`),Ft);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ht,Ft,pn.j1.AlsDeleteLinking,et)}),(0,Fe.h)(!0),(0,nn.K)(Ot=>this.idmService.handleAuthError(Ot,ht,this.disconnect.bind(this),r,v,et)),(0,nn.K)(Ot=>(this.logger.error(`error disconnecting from ${r} account provider: `,Ot),(0,J.of)(!0))))}postRequestToSync(r,v,et=!1){return this.idmService.getAuthToken(et,v).pipe((0,vt.zg)(ht=>this.providerSync(r,ht,v)),(0,nn.K)(ht=>(this.logger.error("Error while syncing",ht),this.idmService.handleAuthError(ht,et,this.postRequestToSync.bind(this),r,v))),(0,nn.K)(()=>(0,J.of)(!1)))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ge.VK),n.LFG(hn.V9),n.LFG(ii.No),n.LFG(pn.Dc))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Pa=t(59074);const Sa="timeout_";let ol=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un,vn,Dn,_i,to,Io){var Fi;this.bridgeService=v,this.appConfig=et,this.idmService=ht,this.telemetryService=Ot,this.localeService=Ft,this.settingsService=Ht,this.distributedtracingUtilService=ae,this.dialogService=Me,this.lcarsService=Ne,this.translateService=ke,this.refreshUiService=Ze,this.router=on,this.customLocationService=sn,this.guestModeHelperService=un,this.alsSdkService=vn,this.sharedStorageService=Dn,this.snackbar=_i,this.telemetryUtilService=to,this.dialog=Io,this.showBorderOnSettingsIntegration=!1,this.ctaVisibilityPreference=new Nn.t(1),this.providerOperationSub=new S.xQ,this.triggerLibraryRefreshSub=new S.xQ,this.removeOnboarding=new S.xQ,this.isBrowserClient=!1,this.initialized=!1,this.accountLinkingEnabled=!1,this.isInitalized=!1,this.checkIfGamesAutoSynced=!1,this.accountProviders=new Map,this.accountLinkingDataSubject=new Nn.t(1),this.pendingGamesListEnablement=null,this.launchCTA=new Nn.t(1),this.logger=r.getLogger("OwnershipSyncService"),this.needsWindowWorkaround=!(null==et||null===(Fi=et.featureEnablement)||void 0===Fi||!Fi.loginPopupBlockerWorkaround),this.isBrowserClient=s.ng.isBrowserPlatform(),this.linkedAccountChangedNotification$=this.getLinkChangeNotificationData().pipe((0,ja.B)())}get shouldShowCTADefault(){return!0}get waitForAccountLinkingData(){return this.accountLinkingDataSubject.asObservable()}get isAccountLinkingEnabled(){let r=!1;return this.accountProviders.forEach(v=>{v.isAccountLinkingSupported&&(r=!0)}),this.accountLinkingEnabled&&r}initialize(){this.initialized||(this.idmService.accountStatusChanged.subscribe(r=>{var v,et;this.logger.info("Account status changed, updating account linking data"),null===(v=this.accountProviders)||void 0===v||v.forEach(ht=>{ht.showOnboardingReconnect&&!r.isAuthenticated&&this.removeOnboarding.next({providerType:ht.type,state:!0})}),null===(et=this.pendingGamesListEnablement)||void 0===et||et.unsubscribe(),this.cancelPendingCTA(),r.isAuthenticated&&this.initializeAccountConnections().subscribe(()=>{this.initExpirationCheck(),this.initialized=!0},ht=>{this.logger.error("Error in initialization of ALS/Ownership service",ht)})}),this.readShowIntegrationTilePreference().pipe((0,o.q)(1)).subscribe(r=>this.ctaVisibilityPreference.next(r),Vn.Z))}notifyLibraryUpdated(){var r;null===(r=this.libraryUpdated$)||void 0===r||r.next()}startWaitingForLibraryUpdate(){var r;null===(r=this.libraryUpdated$)||void 0===r||r.complete(),this.libraryUpdated$=null,this.libraryUpdated$=new Nn.t(1)}getLinkChangeNotificationData(){return this.refreshUiService.linkedAccountRefresh$.pipe((0,Ve.U)(r=>(this.logger.info("Refresh ALS triggered",null==r?void 0:r.source),null==r?void 0:r.metadata)))}getSyncChangeNotificationData(){return this.refreshUiService.syncChangeRefresh$.pipe((0,Ve.U)(r=>(this.logger.info("Refresh sync change triggered",null==r?void 0:r.source),null==r?void 0:r.metadata)))}initializeAccountConnections(){return this.logger.info("Initializing account connections"),this.accountLinkingEnabled=!1,(0,Wn.aj)([this.lcarsService.getStaticAppData(),this.getUserAccountData()]).pipe((0,Ve.U)(([r,v])=>(this.processLcarsResponse(r.appStoreDefinitions,v),!0)),(0,nn.K)(r=>(this.logger.error("Failure querying data from LCARS: ",r),(0,J.of)(!1))))}getUserAccountData(){return(0,_a.T)(this.lcarsService.getLatestUserAccountInfo().pipe((0,o.q)(1)),this.lcarsService.onUserAccountInfoUpdated$).pipe((0,Ve.U)(v=>{const et=v.userAccount.storesData;return et.length?et:[]}),(0,nn.K)(v=>(this.logger.error("Error in fetching user account info:",v),(0,J.of)([]))))}sortFeaturesData(r){const v=[];return Object.values(si.q6).forEach(et=>{const ht=r.findIndex(Ot=>Ot.__typename===et);-1!==ht&&v.push(r[ht])}),v}processLcarsResponse(r,v){null!=r&&r.length&&(r.filter(et=>!_s.includes(et.store)).forEach(et=>{var ht;const Ot=et.store;et.features=this.sortFeaturesData(et.features),null===(ht=et.features)||void 0===ht||ht.forEach(Ft=>{const Ht=et.accountLinkingMetadata.supportedVariantIds||[];if(Object.values(si.q6).includes(Ft.__typename)&&Ft.supported){this.logger.info(`Processing LCARS data, digital store for ${et.store}:`,et);const ae=this.getStoreSpecificUserAccountData(et.store,v);this.logger.info(`StoresData for ${et.store}:`,ae),Ft.__typename===si.q6.AccountLinkingSso&&(this.accountLinkingEnabled=!0),this.accountProviders.has(Ot)?(this.logger.info("Existing provider, updating userAccount info",Ot),this.accountProviders.get(Ot).userAccountInfo=ae):(this.logger.info("Setting provider",Ot),this.accountProviders.set(Ot,new Xa(Ot,this.logger,this.appConfig,this.telemetryService,this.settingsService,this.localeService,this.translateService,Ht,et,ae)))}})}),this.updateAccountConnections(!1,Ei.InitialFetchDone),this.isInitalized||(this.logger.info("Register for account linking push notifications"),this.registerAccountLinkingServiceNotifications(),this.isInitalized=!0),this.accountLinkingDataSubject.next(!0),this.accountLinkingEnabled&&this.checkAccountExpiration())}getStoreSpecificUserAccountData(r,v){var et;return null!==(et=v.find(ht=>ht.store===r))&&void 0!==et?et:null}updateAccountConnections(r,v,et=!1,ht){ht?(ht.updateLinkTime(),this.logger.info(`Updating account info from lcars for ${ht.platform}`),ht.updateProviderState(),this.onProviderDataUpdate(ht.type,v,r,et)):this.accountProviders.forEach(Ot=>{Ot.updateLinkTime(),this.logger.info(`Updating account info from lcars for ${Ot.platform}`),Ot.updateProviderState(),this.onProviderDataUpdate(Ot.type,v,r,et)})}initExpirationCheck(){(0,os.F)(36e5).pipe((0,En.h)(()=>this.accountLinkingEnabled)).subscribe(()=>{this.checkAccountExpiration()})}checkAccountExpiration(){this.accountProviders.forEach(r=>{if(r.isAccountLinkingSsoAvailable&&r.isConnected){const v=r.getExpirationStatus();v!==jn.NotExpired&&(this.logger.info(`Account Linking expired state ${v} for ${r.type}`),r.updateProviderState(),this.providerOperationSub.next({provider:r.type,operation:Ei.Expiring}))}})}registerAccountLinkingServiceNotifications(){this.linkedAccountChangedNotification$.pipe((0,ri.w)(r=>this.updateLinkedAccount(r))).subscribe(),this.getSyncChangeNotificationData().pipe((0,gt.b)(r=>this.updateSyncAccount(r))).subscribe()}updateSyncAccount(r){if(null!=r&&r.platformSyncInfo){this.logger.info("Refresh sync data as per push notification");const v=this.accountProviders.get(r.platformSyncInfo.platformCode);v?(v.syncData={totalNumberOfSyncedGfnGames:r.platformSyncInfo.syncGameCount,syncState:r.platformSyncInfo.syncState||ti.UNKNOWN,syncDate:r.platformSyncInfo.syncDate},this.updateAccountConnections(!0,Ei.SyncingDone,v.isResync,v),v.onSyncEnd(),v.isSyncScheduled=!1):this.logger.error("Missing provider in notification data",r.platformSyncInfo.platformCode)}else this.logger.info("Refresh sync data for conditional triggers"),this.syncAccountLinking(!1).pipe((0,o.q)(1)).subscribe()}updateLinkedAccount(r){if(r){if(null==r||!r.accountLinkedInfo)return this.logger.error("Missing accountLinkedInfo field in notification",r),(0,J.of)(!1);const v=r.accountLinkedInfo.accountType;if(!v)return this.logger.error(`Unknown accountType ${r.accountLinkedInfo.accountType} in notification`),(0,J.of)(!1);const et=this.accountProviders.get(v);if(!et)return this.logger.error(`Unknown accountType ${r.accountLinkedInfo.accountType} in notification`),(0,J.of)(!1);if(et.isSyncScheduled)return this.logger.info("Ignoring push notification, as a sync is scheduled for the provider"),(0,J.of)(!1);const ht=r.accountLinkedInfo.linked;return ht||!ht&&et.loggedIn?(this.logger.info("Account syncing triggered due to push notification"),this.syncAccountLinking(!1,et).pipe((0,gt.b)(()=>this.checkAccountExpiration()),(0,o.q)(1))):(0,J.of)(!0)}return this.logger.info("Refresh ALS for conditional triggers"),this.syncAccountLinking(!1).pipe((0,gt.b)(()=>this.checkAccountExpiration()),(0,o.q)(1))}syncAccountLinking(r,v,et=!1){return this.logger.info(`Syncing Account Linking data for ${null==v?void 0:v.type}`),this.lcarsService.getLatestUserAccountInfo().pipe((0,Ve.U)(ht=>(this.logger.info(`User Account data for ${null==v?void 0:v.type}: `,ht),v?v.userAccountInfo=this.getStoreSpecificUserAccountData(v.digitalStoreInfo.store,ht.userAccount.storesData):this.accountProviders.forEach(Ot=>{Ot.userAccountInfo=this.getStoreSpecificUserAccountData(Ot.digitalStoreInfo.store,ht.userAccount.storesData)}),this.updateAccountConnections(r,Ei.SyncingDone,et,v),!0)),(0,nn.K)(ht=>(this.logger.error("Error syncing account linking providers: ",ht),(0,J.of)(!1))))}waitForAl(){return this.guestModeHelperService.isGuestMode?(0,J.of)(!0):this.accountLinkingDataSubject.asObservable()}isSyncingOrLinkingSupported(r,v){return this.waitForAl().pipe((0,o.q)(1),(0,Ve.U)(()=>{var et;this.logger.info(`Checking account linking/syncing availability for game ${v} on ${r}`),this.initialized||this.logger.warn("Attempting to check availability for game before initialization is complete..");const ht=null===(et=this.accountProviders)||void 0===et?void 0:et.get(r);return!(!ht||!ht.isAccountSyncSupported&&(!ht.isAccountLinkingSupported||ht.gamesList.length&&!ht.gamesList.includes(v)))}))}getValueProp(r){const v=this.accountProviders.get(r);return v?v.digitalStoreInfo.features.filter(ht=>ht.displayProposition).map(ht=>({matIcon:ht.supported?"check_circle":"cancel",text:ht.displayProposition})):null}getAccountLinkingStateForGame(r="",v){const et=v.toString();return this.waitForAl().pipe((0,o.q)(1),(0,Ve.U)(()=>{var ht;this.logger.info(`Checking account linking availability for game ${v} on ${r}`),this.initialized||this.logger.warn("Attempting to check against the list of account-linking availability for game before initialization is complete. Cloud variables may not have been loaded.");const Ot=this.accountProviders.get(r);if(!Ot||!Ot.isAccountLinkingSupported)return this.logger.info(`Account linking not available for ${r}`),{isEnabled:!1,isRequired:!1};const Ft=Ot;return null===(ht=Ft.gamesList)||void 0===ht||!ht.length||Ft.gamesList.includes(et)?(this.logger.info(`Account linking is available for ${r} and for the game, ${v}`),{isEnabled:!0,isRequired:!(null==Ft||!Ft.isAccountLinkingSsoRequired)}):(this.logger.info(`Account linking is not available for ${r} and for the game, ${v}`),{isEnabled:!1,isRequired:!1})}))}isAccountLinkEnabledForGame(r="",v){const et=v.toString();return this.waitForAl().pipe((0,o.q)(1),(0,Ve.U)(()=>{var ht;this.logger.info(`Checking account linking enablement for game ${v} on ${r}`),this.initialized||this.logger.warn("Attempting to check against the list of account-linking enabled games before initialization is complete. Cloud variables may not have been loaded.");const Ot=this.accountProviders.get(r);if(!Ot||!Ot.isAccountLinkingSupported)return this.logger.info(`Account linking not provided for ${r}`),!1;const Ft=Ot;return null===(ht=Ft.gamesList)||void 0===ht||!ht.length||Ft.gamesList.includes(et)?(this.logger.info("Account linking was enabled for the game, "+(Ft.isConnected&&!Ft.isExpired?"and account was linked and not expired":"but account was not linked or expired")),Ft.isConnected&&!Ft.isExpired):(this.logger.info(`Account linking is not available for ${r} and the game, ${et}`),!1)}))}isAccountLinked(r=""){if(this.isAccountLinkingAvailable(r)){const v=this.accountProviders.get(r);return(null==v?void 0:v.isConnected)&&!(null!=v&&v.isExpired)}return!1}isAccountSyncedOrLinkComplete(r){const v=this.accountProviders.get(r);return(null==v?void 0:v.isConnected)||(null==v?void 0:v.isSynced)}isAccountLinkingAvailable(r=""){const v=this.accountProviders.get(r);return!(!v||!v.isAccountLinkingSupported)}resync(r,v){if(!this.initialized)return(0,J.of)(!1);const et=this.accountProviders.get(r);return et?(et.onResyncStart(),this.sync(r,!0,!1,v)):(0,J.of)(!0)}connect(r,v,et=!1,ht=!1,Ot=!1,Ft,Ht=!1){const ae=this.accountProviders.get(r),Me=ae.name;return this.connectFlow(r,et,ht,Ft,Ht).pipe((0,vt.zg)(Ne=>Ne?(this.logger.info("Account linking succeed, showing toast message"),this.handleConnectLoginSuccess(ae,Me,v,et,Ot,Ft)):(this.logger.error("Account linking failed, showing error dialog"),this.dialogService.openAccountLinkingErrorDialog(Me,Ht))))}connectFlow(r,v=!1,et=!1,ht,Ot=!1){if(!this.initialized)return(0,J.of)(!1);const Ft=this.accountProviders.get(r);if(Ft){var Ht;const ae=this.distributedtracingUtilService.startSpan(pn.j1.AlsUserLogin,ht);return this.distributedtracingUtilService.setSpanAttribute(ae,pn.NI.AccountLinkingProvider,r),v?(Ft.onReconnectStart(et),this.removeOnboarding.next({providerType:r,state:!0})):Ft.onConnectStart(),(null!==(Ht=this.appConfig.featureEnablement)&&void 0!==Ht&&Ht.openLinksOffDevice?this.doLoginOffDevice(Ft,ae,Ot):this.doLogin(Ft,r,v,ae,Ot)).pipe((0,nn.K)(ke=>(this.logger.error("Error logging in: ",ke),(0,J.of)(!1))),(0,gt.b)(ke=>{ke?(this.logger.info("Account linking succeed"),this.distributedtracingUtilService.setSpanAttribute(ae,pn.NI.Error,!1)):(this.distributedtracingUtilService.setSpanAttribute(ae,pn.NI.Error,!0),this.logger.error("Account linking failed"),this.providerOperationSub.next({provider:r,operation:Ei.LinkingError}))}),(0,Er.x)(()=>{ae&&this.distributedtracingUtilService.closeSpan(ae),v?Ft.onReconnectEnd():Ft.onConnectEnd()}))}return(0,J.of)(!1)}handleConnectLoginSuccess(r,v,et,ht,Ot=!1,Ft){let Ht;return Ot&&r.isAccountSyncingSupported?this.syncInline(r,et,!1):(Ot?(this.logger.info("Opening inline connect success dialog"),Ht=this.dialogService.openInLineConnectSuccessDialog(v,r.persona,ht)):Ht=this.translateService.get(ht?"accountConnection.accountLinking.accountReconnected":"accountConnection.accountLinking.accountConnected",{arg:v}).pipe((0,gt.b)(Me=>{this.logger.info("Showing connection success toast"),this.snackbar.open(Me,"",{duration:5e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["nv-hig"]})})),Ht.pipe((0,Ve.U)(()=>r.isAccountSyncingSupported?(this.sync(r.type,!1,Ot,Ft).pipe((0,o.q)(1)).subscribe(Vn.Z,ae=>this.logger.error("Error occurred while syncing",ae)),!0):(r.updateProviderState(),this.logger.info("Connection successful, provider does not support syncing"),!0))))}disconnect(r,v=!1,et){if(!this.initialized)return(0,J.of)(!1);this.logger.info(`Disconnecting account "${r}"`);const ht=this.accountProviders.get(r);ht.showOnboardingReconnect&&this.removeOnboarding.next({providerType:r,state:!0}),ht.onDisconnectStart();const Ot=ht.isAccountSyncSupported;return Ot&&this.startWaitingForLibraryUpdate(),this.alsSdkService.disconnect(r,ht.platform,et).pipe((0,vt.zg)(()=>{var Ft,Ht,ae;if(!Ot||v)return this.logger.info("Not proceeding to wait for library change trigger"),(0,J.of)(null);const Me=null===(Ft=this.appConfig)||void 0===Ft||null===(Ft=Ft.accountLinking)||void 0===Ft?void 0:Ft.disconnectWaitInterval,Ne=null===(Ht=this.appConfig)||void 0===Ht||null===(Ht=Ht.accountLinking)||void 0===Ht?void 0:Ht.defaultDisconnectWaitInterval,ke=Me&&null!==(ae=Me[Sa+ht.type.toLowerCase()])&&void 0!==ae?ae:Ne;return this.handleLibraryRefreshOnSyncChange(ke,ht)}),(0,Ve.U)(()=>(this.handleDisconnectSuccess(r,!v),!0)),(0,nn.K)(()=>(ht.onDisconnectEnd(),this.logger.error("Disconnecting account error"),(0,J.of)(!1))))}handleLibraryRefreshOnSyncChange(r,v,et=!1,ht=null){const Ot=new Pi.X(!1),Ft=this.refreshUiService.libraryRefresh$.pipe((0,o.q)(1)).subscribe(Ht=>Ot.next(!0));return(0,Ti.H)(r).pipe((0,vt.zg)(()=>null!==ht?ht:(0,J.of)(null)),(0,vt.zg)(Ht=>null===Ht||Ht?(this.logger.info("Not refreshing userAccount"),(0,J.of)(null)):(this.logger.info("Refreshing user account stream after waiting"),this.syncAccountLinking(!0,v,et))),(0,vt.zg)(Ht=>(null!==Ht&&(v.onSyncEnd(),v.onResyncEnd(),v.isSyncScheduled=!1),Ot)),(0,vt.zg)(Ht=>Ot),(0,gt.b)(Ht=>{Ht?this.logger.info("Received library refresh notification after account disconnect, not triggering manual refresh"):(this.logger.info("Did not receive library refresh notification in time, triggering manual refresh"),this.triggerLibraryRefreshSub.next(!0))}),(0,vt.zg)(Ht=>this.libraryUpdated$?this.libraryUpdated$.asObservable().pipe((0,o.q)(1),(0,Fe.h)(Ht),(0,Ca.L)(this.appConfig.accountLinking.inlineSyncMaxWaitForLibraryUpdate,(0,J.of)(Ht))):(0,J.of)(Ht)),(0,Er.x)(()=>{null==Ft||Ft.unsubscribe(),null==Ot||Ot.complete()}))}reconnect(r,v,et,ht=!1){return this.needsWindowWorkaround&&(this.blankWindow=window.open("","_blank")),this.disconnect(r,!0,et).pipe((0,vt.zg)(Ot=>Ot?this.connect(r,null,!0,v,!1,et,ht):(0,J.of)(Ot)),(0,gt.b)(()=>{var Ot;null===(Ot=this.blankWindow)||void 0===Ot||Ot.close(),this.blankWindow=null}))}handleDisconnectSuccess(r,v=!0){const et=this.accountProviders.get(r);v&&this.sendOwnershipDisconnectTelemetry(r),et.userAccountInfo=null,this.providerOperationSub.next({provider:r,operation:Ei.Disconnected}),et.onDisconnectEnd()}accountSyncLibraryRefresh(r,v=!1){var et,ht,Ot;r.isSyncScheduled=!0;const Ft=new Pi.X(!1),Ht=this.refreshUiService.syncChangeRefresh$.pipe((0,o.q)(1)).subscribe(ke=>Ft.next(!0)),ae=null===(et=this.appConfig)||void 0===et||null===(et=et.accountLinking)||void 0===et?void 0:et.syncWaitInterval,Me=null===(ht=this.appConfig)||void 0===ht||null===(ht=ht.accountLinking)||void 0===ht?void 0:ht.defaultSyncWaitInterval,Ne=ae&&null!==(Ot=ae[Sa+r.type.toLowerCase()])&&void 0!==Ot?Ot:Me;return this.handleLibraryRefreshOnSyncChange(Ne,r,v,Ft).pipe((0,Ve.U)(ke=>!r.isSyncFailure()),(0,Er.x)(()=>{null==Ht||Ht.unsubscribe(),null==Ft||Ft.complete()}))}sync(r,v=!1,et=!1,ht){if(this.logger.info("Calling asynchronous sync for",r),!this.initialized)return(0,J.of)(!1);const Ot=this.accountProviders.get(r);if(!Ot)return(0,J.of)(!1);let Ft;Ot.onSyncStart(),Ot.isAccountSyncingSupported&&this.startWaitingForLibraryUpdate();const Ht=this.alsSdkService.postRequestToSync(r,ht),ae=this.accountSyncLibraryRefresh(Ot,v);return Ft=et?this.dialogService.openInlineSyncInProgressDialog(Ht,ae,Ot.name):Ht.pipe((0,vt.zg)(Me=>(this.logger.info("Sync result",Me),Me?ae:(Ot.state=ti.UNKNOWN,(0,J.of)(Me))))),Ft.pipe((0,gt.b)(Me=>{Me||(Ot.onSyncEnd(),Ot.onResyncEnd(),this.onProviderDataUpdate(Ot.type,Ei.SyncingError,!0,v))}))}onLibraryRefreshRequested(){return this.triggerLibraryRefreshSub.asObservable()}providerOperationUpdate(){return this.providerOperationSub.asObservable()}onboardingStatusChange(){return this.removeOnboarding.asObservable()}getEnabledAccountProviders(){return[...this.accountProviders.values()].sort((r,v)=>r.digitalStoreInfo.sortOrder-v.digitalStoreInfo.sortOrder)}getGameLaunchInfo(r){const v=this.accountProviders.get(r);if(!v)return null;const et=this.getValueProp(r);return{isAccountLinked:v.isAccountLinked,expirationStatus:v.getExpirationStatus(),isAccountLinkingSsoRequired:v.isAccountLinkingSsoRequired,providerType:r,storeName:v.name,isAccountLinkingSsoAvailable:v.isAccountLinkingSsoAvailable,descriptionIconList:et,showOnboardingReconnect:v.showOnboardingReconnect}}getNotificationInfo(r){const v=this.accountProviders.get(r);return v?{loggedIn:v.loggedIn,isAccountLinkingSsoAvailable:v.isAccountLinkingSsoAvailable,icon:v.icon,expirationStatus:v.getExpirationStatus(),showOnboardingReconnect:v.showOnboardingReconnect,storeName:v.name}:null}getAccountLinkingAnalyticsInfo(){const r=[];return this.accountProviders.forEach(v=>{r.push({isAccountSyncSupported:v.isAccountSyncSupported,isSynced:v.isSynced,isAccountLinkingSsoAvailable:v.isAccountLinkingSsoAvailable,isAccountLinked:v.isAccountLinked,providerType:v.type})}),r}parseLoginResult(r){if(null!=r&&r.platform)return this.logger.info(`Account Linking login successful for ${r.platform}.  Expires in ${r.expires_in}`),this.updateUserAccountPostLogin(r),r;if(r){var v;if(r.error)throw new Error(null!==(v=r.error_description)&&void 0!==v?v:r.error);const ht=new URL(r),Ot={display_name:ht.searchParams.get("display_name"),expires_in:ht.searchParams.get("expires_in"),platform:ht.searchParams.get("platform"),error:ht.searchParams.get("error"),error_description:ht.searchParams.get("error_description")};var et;if(Ot.error)throw new Error(null!==(et=Ot.error_description)&&void 0!==et?et:Ot.error);return this.logger.info(`Account Linking login successful for ${Ot.platform}.  Expires in ${Ot.expires_in}`),this.updateUserAccountPostLogin(Ot),Ot}return this.logger.info("Account Linking login response invalid."),{}}updateUserAccountPostLogin(r){const et=this.accountProviders.get(r.platform);et&&(et.userAccountInfo={store:r.platform,accountLinkingData:{expiresIn:r.expires_in,userDisplayName:r.display_name}},et.updateLinkTime())}get getCTAVisibilityPreference$(){return this.ctaVisibilityPreference.asObservable()}updateIntegrationTileVisibilityPreference(r){this.ctaVisibilityPreference.next(r),this.writeShowIntegrationTilePreference(r)}getCTACountInfo(){const{totalValidConnected:r,totalAvailableProviders:v}=this.getConnectedAccountInfo();return{connectedCount:r.length,availableCount:v.length}}getConnectedAccountInfo(){const r=Array.from(this.accountProviders.values());return{totalValidConnected:r.filter(et=>!et.isAccountLinkingSupported&&!et.isAccountSyncingSupported||(et.isAccountLinked&&!et.isExpired||et.isSynced)),totalAvailableProviders:r}}readShowIntegrationTilePreference(){return this.idmService.cachedUser.pipe((0,vt.zg)(r=>this.sharedStorageService.readBlock("ALSPreference_"+r.data.userId)),(0,Ve.U)(r=>null==(null==r?void 0:r.showIntegrationTile)?this.shouldShowCTADefault:r.showIntegrationTile),(0,nn.K)(r=>(0,J.of)(this.shouldShowCTADefault)))}writeShowIntegrationTilePreference(r){this.idmService.cachedUser.pipe((0,vt.zg)(v=>(0,lt.D)([(0,J.of)(v.data.userId),this.sharedStorageService.readBlock("ALSPreference_"+v.data.userId)])),(0,vt.zg)(([v,et])=>(et.showIntegrationTile=r,this.sharedStorageService.writeBlock("ALSPreference_"+v,et)))).subscribe(Vn.Z,Vn.Z)}shouldHighlightSettingsIntegration(){return this.showBorderOnSettingsIntegration}triggerHighlightOnSettingsIntegration(){this.showBorderOnSettingsIntegration=!0}markSettingsIntegrationRenderComplete(){this.showBorderOnSettingsIntegration=!1}onCancelCTA(){return this.launchCTA.asObservable()}cancelPendingCTA(){this.launchCTA.next(!0),this.launchCTA.complete(),this.launchCTA=new Nn.t(1)}openExpirationDialog(r,v=!1,et=!1,ht=!1){const Ot=this.getGameLaunchInfo(r);return this.logger.info("Game launch info:",Ot),this.dialogService.openAccountLinkingExpirationDialog({isAccountLinkingSsoRequired:Ot.isAccountLinkingSsoRequired,expirationStatus:Ot.expirationStatus,providerType:Ot.providerType,storeName:Ot.storeName},Ot.isAccountLinkingSsoRequired,v,et,ht)}openAccountLinkingDialog(r,v,et=!1,ht=!1,Ot=!1){const Ft=this.getGameLaunchInfo(r.appStore);this.logger.info("Game launch info:",Ft);let Ht=k.ItH.Account_Link_Required;const ae=Ft.isAccountLinked,Me=Ft.showOnboardingReconnect,Ne=Ft.expirationStatus,ke=Ne===jn.Expired||Ne===jn.ExpiresNow;if(ae&&ke)return Ht=jn.Expired?k.ItH.Account_Link_Expired:k.ItH.Account_Link_Expires_Soon,this.telemetryUtilService.sendPopUpDialogShownEvent(Ht),this.openExpirationDialog(r.appStore,!1,ht,Ot).pipe((0,vt.zg)(Ze=>{let on=!v;const sn=Ze===Pn.GoToConnection;return sn&&(on=!1,this.dialog.closeAll(),this.navigateToAccountsSection()),Ze===Pn.Reconnect?(this.telemetryUtilService.sendPopUpDialogClosedEvent(Ht,k.XzU.Proceed_Connect),this.proceedToConnect(r,!0,Me,et,Ot)):(this.telemetryUtilService.sendPopUpDialogClosedEvent(Ht,sn?k.XzU.Goto_Settings:k.XzU.Dialog_Closed),(0,J.of)({returnValue:on,dialogShown:!0}))}));if(!ae||ae&&!ke&&Me){const Ze=r.accountLinkingStoreLabel,on=Ze?Ze+"_":"";return this.idmService.cachedUser.pipe((0,vt.zg)(sn=>this.sharedStorageService.readBlock("accountInlineLinking_"+on+sn.data.userId)),(0,vt.zg)(sn=>{if(this.logger.info("Account linking data",sn),!sn.hideInlineAccountLinkingDialog||Ft.isAccountLinkingSsoRequired){const un={isAccountLinkingSsoRequired:Ft.isAccountLinkingSsoRequired,descriptionIconList:Ft.descriptionIconList,gameInfo:r,showOnboardingReconnect:Ft.showOnboardingReconnect};return this.telemetryUtilService.sendPopUpDialogShownEvent(Ht),this.dialogService.showInLineLinkDialog(un,!0).pipe((0,vt.zg)(vn=>vn.dialogAction===Pn.Connect?(this.telemetryUtilService.sendPopUpDialogClosedEvent(Ht,k.XzU.Proceed_Connect),this.proceedToConnect(r,!1,Me,et,Ot)):(this.telemetryUtilService.sendPopUpDialogClosedEvent(Ht,k.XzU.Dialog_Closed),vn.checkBoxState&&this.onInlineLinkDialogDismiss(on),(0,J.of)({returnValue:!v,dialogShown:!0}))))}return(0,J.of)({returnValue:!0,dialogShown:!1})}))}return(0,J.of)({returnValue:!0,dialogShown:!1})}proceedToConnect(r,v,et,ht,Ot){return this.connect(r.appStore,r,v,et,ht,void 0,Ot).pipe((0,vt.zg)(Ft=>(0,J.of)({returnValue:Ft,dialogShown:!0})))}onProviderDataUpdate(r,v,et,ht){this.providerOperationSub.next({provider:r,operation:v}),et&&this.sendOwnershipSyncTelemetry(ht,r)}doLogin(r,v,et,ht,Ot=!1){let Ft;return Ft=this.isBrowserClient?this.doLoginBrowser(r,ht):this.doLoginNative(r,ht),this.dialogService.openAccountLinkingConnectingDialog(Ft,et,Ot).pipe((0,vt.zg)(Ht=>Ht?(this.logger.info("Data received from AL service: ",Ht),this.onProviderDataUpdate(v,Ei.LinkingDone,!r.isAccountSyncSupported,!1),(0,J.of)(!0)):(0,J.of)(!1)))}doLoginOffDevice(r,v,et=!1){const ht=this.alsSdkService.postLoginUrl(r.platform,v).pipe((0,Ci.d)(1)),Ot=new Nn.t(1);let Ft;const Ht=ht.pipe((0,gt.b)(Me=>{Ft=this.linkedAccountChangedNotification$.pipe((0,En.h)(Ne=>!!Ne&&(Ne.accountLinkedInfo.accountType===r.type&&Ne.accountLinkedInfo.linked)),(0,o.q)(1)).subscribe(()=>Ot.next())}),(0,vt.zg)(Me=>{const Ne=Math.max(1,Math.floor(Me.expires_in/Me.interval)-1);return this.alsSdkService.postToken(Me.device_code,v).pipe((0,Ja.a)(ke=>ke.pipe((0,vt.zg)((Ze,on)=>{var sn;if(on+1>Ne)return this.logger.error("Off device login failed because number of retry has reached maximal value"),(0,Rn._)(Ze);const vn=Ze.rawResponse;return 400===Ze.status&&"authorization_pending"===(null==vn||null===(sn=vn.error)||void 0===sn?void 0:sn.error)?(0,Ti.H)(1e3*Me.interval):void 0}))))}),(0,vt.zg)(Me=>{var Ne,ke;const Ze=null!==(Ne=null===(ke=this.appConfig.accountLinking)||void 0===ke?void 0:ke.offDeviceNotificationTimeout)&&void 0!==Ne?Ne:3e4,on=(0,Ti.H)(Ze).pipe((0,vt.zg)(()=>this.syncAccountLinking(!0,r)));return(0,Cn.S3)(Ot.asObservable(),on).pipe((0,o.q)(1),(0,Fe.h)(!0))})),ae=ht.pipe((0,Ve.U)(Me=>({userCode:Me.user_code,verificationUri:Me.verification_uri,verificationUriComplete:Me.verification_uri_complete})));return this.dialogService.openOffDeviceAccountLinkingDialog(Ht,ae,et).pipe((0,gt.b)(Me=>{var Ne;null===(Ne=Ft)||void 0===Ne||Ne.unsubscribe(),null==Ot||Ot.complete()}))}doLoginBrowser(r,v){let et;this.blankWindow?(et=this.blankWindow,this.blankWindow=null):et=window.open("","_blank");const ht=this.alsSdkService.getLoginUrl(r.type.toUpperCase(),void 0,v).pipe((0,vt.zg)(Ft=>(et.location.href=Ft,(0,T.R)(window,"message"))),(0,En.h)(Ft=>this.validateMessageEvent(Ft)),(0,Ve.U)(Ft=>this.getOAuthLoginData(Ft)),(0,Ve.U)(Ft=>this.parseLoginResult(Ft)),(0,Ve.U)(Ft=>{const Ht=new URL(this.alsSdkService.redirectFinishedUrl);return Ht.searchParams.append("platform",r.platform),Ht.searchParams.append("ui_locales",this.localeService.getLocale()),Ft.display_name&&Ht.searchParams.append("display_name",Ft.display_name),et.location.href=Ht.href,Ft}),(0,nn.K)(Ft=>{this.logger.error("error retrieving login url ",Ft.message);const Ht=new URL(this.alsSdkService.redirectFinishedUrl);return Ht.searchParams.append("platform",r.platform),Ht.searchParams.append("ui_locales",this.localeService.getLocale()),Ht.searchParams.append("error","accountlink_fail"),et.location.href=Ht.href,(0,J.of)("")})),Ot=(0,os.F)(500).pipe((0,En.h)(()=>et.closed),(0,Fe.h)(""),(0,o.q)(1));return(0,Cn.S3)(Ot,ht)}doLoginNative(r,v){var et;let ht=null===(et=this.appConfig.starfleet)||void 0===et?void 0:et.portNumbers;0===ht.length&&(ht=[4444]);const Ot=new S.xQ,Ft=new S.xQ;return this.bridgeService.executeCommand(dn.Gh.Common.Httpserver.StartHttpServer,{ports:ht,redirectUrl:"",redirectParams:[]}).pipe((0,vt.zg)(Ht=>{if("httpRequest"===(null==Ht?void 0:Ht.callbackReason)){const ae=this.parseLoginResult(Ht.url),Me=[`ui_locales=${this.localeService.getLocale()}`,`platform=${r.platform}`];return ae.display_name&&Me.push(`display_name=${ae.display_name}`),this.bridgeService.executeCommand(dn.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:this.alsSdkService.redirectFinishedUrl,redirectParams:Me}).pipe((0,gt.b)(()=>{Ft.next(ae),Ft.complete()}))}return"httpRequestAborted"===(null==Ht?void 0:Ht.callbackReason)?(0,J.of)(!0).pipe((0,gt.b)(()=>{Ft.next(),Ft.complete()})):"serverCreated"===(null==Ht?void 0:Ht.callbackReason)?(this.logger.info("HTTP server port is: ",Ht.portNumber),Ot.next(Ht.portNumber),(0,J.of)(!0)):(0,Rn._)("Error in HTTP server response for account login")}),(0,nn.K)(Ht=>(this.logger.error("Error creating HTTP server for account login",Ht),this.bridgeService.executeCommand(dn.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:this.alsSdkService.redirectFinishedUrl,redirectParams:[`ui_locales=${this.localeService.getLocale()}`,`platform=${r.platform}`,"error=server_error"]}).pipe((0,gt.b)(()=>{Ot.error(Ht),Ft.error(Ht)})))),(0,Er.x)(()=>{Ft.complete(),Ot.complete()})).subscribe(),Ot.pipe((0,br.b)(Ht=>this.alsSdkService.getLoginUrl(r.type.toUpperCase(),Ht,v)),(0,br.b)(Ht=>(this.appConfig.accountLinking.useNativeAuthCommands?this.bridgeService.executeCommand(dn.Gh.Common.Nativeauth.initiateLogInALS,{url:Ht}).pipe((0,o.q)(1)).subscribe():window.open(Ht,"_blank"),Ft.asObservable())),(0,o.q)(1),(0,Ca.L)(3e5,(0,J.of)("")),(0,Er.x)(()=>{this.logger.info("Closing HTTP server"),this.bridgeService.executeCommand(dn.Gh.Common.Httpserver.StopHttpServer).subscribe()}))}validateMessageEvent(r){let v=r&&r.data;return v=v&&r.origin===window.location.origin,!!v}getOAuthLoginData(r){var v;const et=null===(v=r.data)||void 0===v?void 0:v.key;if(!et)return{};const ht=window.localStorage.getItem(et);window.localStorage.removeItem(et);try{return JSON.parse(ht).data}catch{return this.logger.error("malformed access code object",ht),null}}getGameSyncStatus(r){switch(r){case ti.UNKNOWN:return k.Mlh.Unknown;case ti.SYNC_SUCCESS:return k.Mlh.Sync_Success;case ti.PROFILE_NOT_CREATED:return k.Mlh.Profile_Not_Created;case ti.SYNC_DENIED:return k.Mlh.Sync_Denied;case ti.SYNC_FAILED:return k.Mlh.Sync_Failed;default:return k.Mlh.Unknown}}sendOwnershipSyncTelemetry(r,v){const et=this.accountProviders.get(v);let ht=et.isSynced?r?k.ZQU.Resync:k.ZQU.Sync:k.ZQU.AccountLinked;if(et.reconnectReason)switch(et.reconnectReason){case Qi.onboardingReconnect:ht=k.ZQU.ReconnectForOnboarding;break;case Qi.syncDenied:ht=k.ZQU.ReconnectAfterSyncDenied;break;case Qi.reconnect:ht=k.ZQU.Reconnect}else if(et.prevResyncReason)switch(et.prevResyncReason){case ji.profileNotCreated:ht=k.ZQU.ResyncAfterProfileCreate;break;case ji.privateProfile:ht=k.ZQU.ResyncAfterResolve;break;case ji.syncFailed:ht=k.ZQU.ResyncAfterSyncFailed}const Ot=new k.kr1({userAction:ht,state:et.isConnected?k.jzO.Connected:k.jzO.Disconnected,status:this.getGameSyncStatus(et.state),serviceProviderName:v||"",totalNumberOfGfnSupportedGames:et.numberOfSyncedGames,syncDate:et.syncDate||""});this.telemetryService.push(Ot),et.resetResyncReconnectReasons()}sendOwnershipDisconnectTelemetry(r){var v;const et=this.accountProviders.get(r),ht=(null===(v=this.accountProviders.get(r))||void 0===v?void 0:v.syncDate)||"",Ot=new k.kr1({userAction:k.ZQU.Disconnect,state:k.jzO.Disconnected,status:k.Mlh.Sync_Success,serviceProviderName:r||"",totalNumberOfGfnSupportedGames:0,syncDate:ht});this.telemetryService.push(Ot),et.resetResyncReconnectReasons()}navigateToAccountsSection(){this.triggerHighlightOnSettingsIntegration(),this.customLocationService.backNavigationRoute=this.router.url,this.cancelPendingCTA(),this.router.navigate([cn.nn.Settings],{skipLocationChange:!0,fragment:"settings_integrations"})}handleConnectFlow(r,v,et=!1){return this.connect(r.type,v,et,!1,!0).pipe((0,vt.zg)(ht=>ht?(0,J.of)(ht):(0,Rn._)("Account connection failed")))}handleInlineLinkingDialog(r,v){let et,ht=!1;return this.idmService.cachedUser.pipe((0,o.q)(1),(0,vt.zg)(Ot=>{const Ft=v.accountLinkingStoreLabel;return et=Ft?Ft+"_":"",this.sharedStorageService.readBlock("accountInlineLinking_"+et+Ot.data.userId)}),(0,vt.zg)(Ot=>{if(Ot.hideInlineAccountLinkingDialog)return(0,J.of)({dialogAction:Pn.ManuallyMarkAsOwned,checkBoxState:!1});ht=!0;const Ft={isAccountLinkingSsoRequired:r.isAccountLinkingSsoRequired,descriptionIconList:this.getValueProp(v.appStore),gameInfo:v,showOnboardingReconnect:r.showOnboardingReconnect};return this.dialogService.showInLineLinkDialog(Ft)}),(0,Ve.U)(Ot=>(ht&&Ot.checkBoxState&&Ot.dialogAction===Pn.ManuallyMarkAsOwned&&this.onInlineLinkDialogDismiss(et),Ot.dialogAction)))}onInlineLinkDialogDismiss(r){this.idmService.cachedUser.pipe((0,vt.zg)(v=>(0,lt.D)([(0,J.of)(v.data.userId),this.sharedStorageService.readBlock("accountInlineLinking_"+r+v.data.userId)])),(0,vt.zg)(([v,et])=>(et.hideInlineAccountLinkingDialog=!0,this.sharedStorageService.writeBlock("accountInlineLinking_"+r+v,et))),(0,o.q)(1)).subscribe()}checkForConnection(r){const v=this.accountProviders.get(r.appStore);let et=Bn.Fj.Manual;return this.isSyncingOrLinkingSupported(r.appStore,r.variant.id).pipe((0,o.q)(1),(0,vt.zg)(ht=>{if(!v)return this.dialogService.markGameAsManuallyOwned(r);if(!ht)return this.dialogService.markGameAsManuallyOwned(r);if(!this.isAccountSyncedOrLinkComplete(r.appStore))return this.handleInlineLinkingDialog(v,r);if(v.isSynced&&v.isSyncFailure())return this.handleSyncErrors(v);const Ot=v.getExpirationStatus();return Ot===jn.Expired||Ot===jn.ExpiresNow?this.openExpirationDialog(r.appStore,!0):v.isSynced?this.dialogService.openResyncGameStore(r,v.persona):this.dialogService.markGameAsManuallyOwned(r)}),(0,vt.zg)(ht=>{switch(ht){case Pn.Connect:et=Bn.Fj.StoreConnect;break;case Pn.Reconnect:et=Bn.Fj.StoreReconnect;break;case Pn.Resync:et=Bn.Fj.StoreResync;break;case Pn.Cancel:et=Bn.Fj.ManualPostCancellation}return this.handleDialogActions(ht,v,r)}),(0,Ve.U)(ht=>({checkIfGamesAutoSynced:this.checkIfGamesAutoSynced,markAsOwnedTrigger:et})))}handleDialogActions(r,v,et){switch(this.checkIfGamesAutoSynced=!1,r){case Pn.ManuallyMarkAsOwned:return this.handleManuallyMarkAsOwned(v,et);case Pn.MarkAsOwned:return(0,J.of)(!0);case Pn.Connect:return this.handleConnectFlow(v,et);case Pn.Reconnect:return this.handleConnectFlow(v,et,!0);case Pn.Resync:return this.syncInline(v,et,!0);case Pn.GoToConnection:return this.dialog.closeAll(),this.navigateToAccountsSection(),(0,Rn._)("Dialog dismissed , navigating to settings page");case Pn.Done:return this.checkIfGamesAutoSynced=!0,(0,J.of)(!0);case Pn.NotNow:return(0,J.of)(!0);default:return(0,Rn._)("DIALOG_DISMISSED")}}handleManuallyMarkAsOwned(r,v){return this.dialogService.markGameAsManuallyOwned(v).pipe((0,vt.zg)(et=>this.handleDialogActions(et,r,v)))}syncInline(r,v,et){return this.sync(r.type,et,!0).pipe((0,o.q)(1),(0,vt.zg)(ht=>ht?0!==r.numberOfSyncedGames?(this.logger.info(`${r.numberOfSyncedGames} Games synced after syncing account`),this.dialogService.showLibrarySyncedDialog(r.appStoreName,r.numberOfSyncedGames,r.persona)):(this.logger.info("0 Games synced after syncing account"),this.dialogService.noGameSyncedDialog(r.appStoreName,v,r.persona)):this.handleSyncErrors(r)),(0,vt.zg)(ht=>this.handleDialogActions(ht,r,v)))}handleSyncErrors(r){switch(r.state){case ti.PROFILE_NOT_CREATED:return this.dialogService.profileNotCreatedDialog(r.name,r.errorDialogUrl);case ti.SYNC_DENIED:return"STEAM"===r.type?this.dialogService.profileNotPublicIssueDialog(r.name,r.errorDialogUrl,r.persona):this.dialogService.permissionFailureDialog(r.name);default:return this.dialogService.syncFailureDialog(r.name)}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(s.dF),n.LFG(ge.VK),n.LFG(ii.No),n.LFG(h.y0),n.LFG(s.OL),n.LFG(Sn.gb),n.LFG(pn.Dc),n.LFG(Or),n.LFG(Bn.zc),n.LFG(f.sK),n.LFG(xr.eP),n.LFG(Bt.F0),n.LFG(Qs),n.LFG(te.h),n.LFG(tl),n.LFG(ni.OA),n.LFG(Pa.pl),n.LFG(k.wU6),n.LFG(x.uw))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var rl=t(59248),ss=t(93587),as=function(nt){return nt.denied="denied",nt}(as||{}),Xo=function(nt){return nt.clientAddedData="CLIENT_ADDED_DATA",nt.clientRemovedData="CLIENT_REMOVED_DATA",nt.clientDataResponse="CLIENT_DATA_RESPONSE",nt.serverDataRequest="SERVER_DATA_REQUEST",nt}(Xo||{});let sl=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae){this.cloudVarService=v,this.settingsService=et,this.bridgeService=ht,this.distributedTracingUtilService=Ot,this.telemetryUtilService=Ft,this.guestModeService=Ht,this.guestModeHelperService=ae,this.detectClipboardChange=new Pi.X(!1),this.desktopPasteTelemetry={clientClipboardRead:k.wye.UNDEFINED,clipboardDataSent:k.wye.UNDEFINED,clipboardDataLength:0,streamSessionId:"",streamSubSessionId:"",requestId:""},this.isGuestAppFlow=!1,this.logger=r.getLogger("ClipboardService"),this.isGuestAppFlow=this.guestModeHelperService.isGuestAppFlow()}setDefaultClipboardSetting(){(0,Uo.s)(()=>this.isGuestAppFlow,(0,Wn.aj)([this.guestModeService.isGuestFlowConfigFetched$,this.gxtClipboardPasteConfig()]),(0,Wn.aj)([(0,J.of)(null),this.gxtClipboardPasteConfig()])).pipe((0,o.q)(1),(0,vt.zg)(([r,v])=>{var et,ht,Ot;return this.isGuestAppFlow&&(this.guestModeConfig=this.guestModeHelperService.getGuestModeConfig()),this.logger.info("Guest mode config for Paste: ",null===(et=this.guestModeConfig)||void 0===et||null===(et=et.igoSettings)||void 0===et?void 0:et.pasteDefaultOn," and Gxt config: ",v),null!=v&&v.isEnabled&&null!=v&&v.maxPasteBuffer?(this.isPasteFeatureOn=null==v?void 0:v.isEnabled,void 0!==(null===(ht=this.guestModeConfig)||void 0===ht||null===(ht=ht.igoSettings)||void 0===ht?void 0:ht.pasteDefaultOn)&&(this.isPasteFeatureOn=this.isPasteFeatureOn&&(null===(Ot=this.guestModeConfig)||void 0===Ot||null===(Ot=Ot.igoSettings)||void 0===Ot?void 0:Ot.pasteDefaultOn)),this.settingsService.getSettingsData().pipe((0,o.q)(1))):(this.logger.info("Skip default setting as clipboard paste disabled"),(0,J.of)(null))})).subscribe(r=>{if(r&&!r.hasOwnProperty(Sn.Bq.ClipboardPaste)){var v;this.logger.info("Setting clipboard paste as enabled: ",this.isPasteFeatureOn," by default");const et={settingType:Sn.Bq.ClipboardPaste,selectedOption:null===(v=this.isPasteFeatureOn)||void 0===v||v};this.settingsService.storeChangedSettings(et)}})}init(){return this.detectClipboardChange||(this.detectClipboardChange=new Pi.X(!1)),this.detectClipboardChange.asObservable().pipe((0,vt.zg)(()=>this.clipboardFeatureConfig()),(0,vt.zg)(r=>null!==r?r.isEnabled&&r.maxPasteBuffer?this.readText().pipe((0,Ve.U)(v=>this.getTextContent(v,r.maxPasteBuffer)),(0,vt.zg)(v=>this.sendClientDataAvailable(!!v))):(this.logger.info("Clipboard paste feature not enabled due to user settings"),(0,J.of)(!1)):(this.logger.info("Clipboard paste feature not enabled"),this.detectClipboardChange.complete(),this.detectClipboardChange=null,ie.E)),(0,nn.K)(r=>(this.logger.error("Error while sending clipboard availability",r),(0,J.of)(!1))))}setStreamingIds(r,v){this.desktopPasteTelemetry.streamSessionId=r,this.desktopPasteTelemetry.streamSubSessionId=v}sendClientDataAvailable(r){var v;this.clipboardAvailableSpan=this.distributedTracingUtilService.startSpan(pn.j1.ClientClipboardAvailable);const et=[],ht=this.distributedTracingUtilService.inject(this.clipboardAvailableSpan);null===(v=Object.keys(ht))||void 0===v||v.forEach(ae=>{et.push({key:ae,value:ht[ae]})});const Ot={messageType:Qn.wM.paste,pasteData:{type:r?Xo.clientAddedData:Xo.clientRemovedData},tracingData:{traceId:this.clipboardAvailableSpan.spanContext().traceId,traceContext:et}},Ft=JSON.stringify(Ot);return this.logger.info("Sending clipboard data available type",Ot.pasteData.type),this.bridgeService.executeCommand(dn.Gh.Gfn.Streaming.SendClipboardUpdate,{clipboardInfo:Ft},!1).pipe((0,gt.b)(ae=>{this.distributedTracingUtilService.closeSpan(this.clipboardAvailableSpan),this.logger.info("Clipboard available data sent",ae)}),(0,nn.K)(()=>(this.logger.error("Bridge command for SendClipboardUpdate failed"),this.distributedTracingUtilService.closeSpan(this.clipboardAvailableSpan),(0,J.of)(!1))))}sendClipboardContentInternal(r,v,et){var ht,Ot;const Ft=v.spanContext().traceId,Ht=[],ae=this.distributedTracingUtilService.inject(v);null===(ht=Object.keys(ae))||void 0===ht||ht.forEach(Ze=>{Ht.push({key:Ze,value:ae[Ze]})});const Me={messageType:Qn.wM.paste,pasteData:{type:r?Xo.clientDataResponse:Xo.clientRemovedData},tracingData:{requestId:et,traceId:Ft,traceContext:Ht}};r&&(Me.pasteData.data=r);const ke={clipboardInfo:JSON.stringify(Me)};return this.logger.info("Sending clipboard data type",Me.pasteData.type),this.desktopPasteTelemetry.clipboardDataLength=null!==(Ot=null==r?void 0:r.length)&&void 0!==Ot?Ot:0,this.desktopPasteTelemetry.clipboardDataSent=this.desktopPasteTelemetry.clientClipboardRead===k.wye.FALSE?k.wye.UNDEFINED:r?k.wye.TRUE:k.wye.FALSE,this.desktopPasteTelemetry.requestId=et,this.bridgeService.executeCommand(dn.Gh.Gfn.Streaming.SendClipboardUpdate,ke,!1)}readText(){return navigator.clipboard?(0,Jn.D)(navigator.clipboard.readText()).pipe((0,nn.K)(r=>(this.logger.info(`Clipboard readText: ${r}`),(0,J.of)(null)))):(this.logger.warn("navigator.clipboard is undefined, readText() probably is being used in non secure context."),(0,J.of)(null))}sendClipboardData(r){var v;const et={};null==r||null===(v=r.traceContext)||void 0===v||v.forEach(Ot=>{et[Ot.key]=Ot.value});const ht=this.distributedTracingUtilService.startSpanUsingContext(pn.j1.ClientDesktopPaste,et);this.clipboardFeatureConfig().pipe((0,o.q)(1),(0,vt.zg)(Ot=>null!==Ot?(this.desktopPasteTelemetry.clientClipboardRead=Ot.maxPasteBuffer?k.wye.TRUE:k.wye.FALSE,Ot.isEnabled&&Ot.maxPasteBuffer?this.readText().pipe((0,Ve.U)(Ft=>this.getTextContent(Ft,Ot.maxPasteBuffer)),(0,vt.zg)(Ft=>this.sendClipboardContentInternal(Ft,ht,null==r?void 0:r.requestId))):(this.logger.info("Clipboard paste feature disabled due to user settings"),this.sendClipboardContentInternal(null,ht,null==r?void 0:r.requestId))):(this.logger.info("Clipboard paste feature disabled"),this.sendClipboardContentInternal(null,ht,null==r?void 0:r.requestId)))).subscribe(Ot=>{this.distributedTracingUtilService.closeSpan(ht),this.logger.info("Clipboard data sent",Ot),this.telemetryUtilService.sendClipboardPasteEvent(this.desktopPasteTelemetry)},Ot=>{this.distributedTracingUtilService.setSpanAttribute(ht,pn.NI.Error,!0),this.distributedTracingUtilService.closeSpan(ht),this.logger.error("Error sending custom Message")})}gxtClipboardPasteConfig(){return this.cloudVarService.getFeatureToggle(ss._P.CLIPBOARD_PASTE_FEATURE_CONFIG,{configCheckEnabled:!1})}willBeEnabledOnStreamStart(){return this.clipboardFeatureConfig().pipe((0,Ve.U)(r=>{var v;return null!==(v=null==r?void 0:r.isEnabled)&&void 0!==v&&v}),(0,o.q)(1))}clipboardFeatureConfig(){return this.gxtClipboardPasteConfig().pipe((0,o.q)(1),(0,vt.zg)(r=>null!=r&&r.isEnabled&&null!=r&&r.maxPasteBuffer?this.checkReadPermissions().pipe((0,vt.zg)(v=>{const et={isEnabled:!1,maxPasteBuffer:0};return v!==as.denied?this.settingsService.getSettingsData().pipe((0,Ve.U)(ht=>null!=ht&&ht.clipboardPaste?r:et)):(0,J.of)(et)})):(0,J.of)(null)))}checkReadPermissions(){const r={name:"clipboard-read"};try{return(0,Jn.D)(navigator.permissions.query(r)).pipe((0,Ve.U)(v=>v.state),(0,nn.K)(v=>(this.logger.error("Error reading clipboard permissions",v),(0,J.of)(as.denied))))}catch{return this.logger.error("Error while reading browser clipboard permissions"),(0,J.of)(as.denied)}}getTextContent(r,v){return new Blob([r]).size<=v?r:(this.logger.warn("Invalid text on clipboard"),null)}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ss.$l),n.LFG(Sn.gb),n.LFG(s.dF),n.LFG(pn.Dc),n.LFG(k.wU6),n.LFG(te.o),n.LFG(te.h))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var js=t(5042),al=t(84614);let ll=(()=>{var nt;class _t{get activated(){return!!this.bindCommandSubscriptions}set activated(r){r!==this.activated&&(r?this.start():this.stop())}constructor(r,v,et){this.gamepadService=v,this.ngZone=et,this.bindCommandSubscriptions=null,this.logger=r.getLogger("GamepadNavigationService")}start(){this.logger.info("Initializing gamepad navigation by synthesizing keyboard events"),this.bindCommandSubscriptions=new al.w,this.bindCommandSubscriptions.add(this.bindCommand("ArrowUp",this.gamepadService.upPressed$)),this.bindCommandSubscriptions.add(this.bindCommand("ArrowDown",this.gamepadService.downPressed$)),this.bindCommandSubscriptions.add(this.bindCommand("ArrowLeft",this.gamepadService.leftPressed$)),this.bindCommandSubscriptions.add(this.bindCommand("ArrowRight",this.gamepadService.rightPressed$)),this.bindCommandSubscriptions.add(this.bindCommand("Enter",this.gamepadService.onButtonPressed$(js.z8.A,{repeat:!0}),{synthesizeClick:!0})),this.bindCommandSubscriptions.add(this.bindCommand("Escape",this.gamepadService.onButtonPressed$(js.z8.B,{repeat:!0})))}stop(){this.logger.info("Stop synthesizing gamepad input as keyboard events"),this.bindCommandSubscriptions.unsubscribe(),this.bindCommandSubscriptions=null}bindCommand(r,v,et){const ht=!(null==et||!et.synthesizeClick);let Ft,Ot=!1;return this.ngZone.runOutsideAngular(()=>v.pipe((0,gt.b)(Ht=>{const ae=(0,pe.tE)(),Me=ae instanceof HTMLButtonElement||ae instanceof HTMLAnchorElement&&ae.hasAttribute("href");ht&&Ht&&Me&&(Ft=ae)}),(0,ri.w)(Ht=>Ht?(0,J.of)("keydown"):Ot?(0,J.of)("keyup"):Zi.C)).subscribe(Ht=>{const ae=(0,pe.tE)();(0,pe.a9)(ae,Ht,r),Ot="keydown"===Ht,ht&&"keyup"===Ht&&Ft===ae&&((0,pe.tr)(ae),Ft=void 0)}))}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(js.Se),n.LFG(n.R0b))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var ls=t(15476),xr=t(43444),cl=t(15391),qo=t(64794);let gl=(()=>{var nt;class _t{constructor(r,v,et,ht){this.streamingProfileService=v,this.ecommerceService=et,this.lcarsService=ht,this.logger=r.getLogger("gfn/shared/GameFeaturesService")}getGameFeatures(r,v){return(0,Wn.aj)([this.streamingProfileService.initializeGameFeatureProperties$(),this.ecommerceService.getUserMembership()]).pipe((0,Ve.U)(([et,ht])=>{this.gameFeatureProperties=et;const Ot=Qn.Ev;this.initializeFeatures(Ot);const Ft=[];return Ot.forEach(Ht=>{this.isFeatureSupportedOnGame(Bn.vp[Ht.featureKey],r)&&(Ht.supportedOnGame=!0,this.getFeaturebadgeDetails(Ht,ht),Ht.showInGameDetails&&Ft.push(Ht))}),v?null==Ft?void 0:Ft.filter(Ht=>Ht.showInLoadingScreen):Ft}))}isFeatureSupportedOnGame(r,v){return v.some(et=>this.lcarsService.isFeatureSupportedOnVariant(et,r))}getFeaturebadgeDetails(r,v){if(this.updateFeatureLabel(r),v.membershipStatus===zn.Tn.Entitled){const et=this.featureSupportedOnSystem(r.featureKey);r.supportedOnSubscription=this.ecommerceService.featureEntitled(r.featureKey),r.supportedOnSubscription?(this.logger.info("Feature supported on game and available in subscription, featureKey: ",r.featureKey),et?this.updateReadyFeatureDescriptionAndState(r):this.updateUnsupportedFeatureDescription(r),r.showInGameDetails=!0):(r.canUpsell=this.ecommerceService.featureUpsellAvailable(r.featureUpsellKey),r.canUpsell&&(this.logger.info("Feature supported on game and upsell in subscription, featureKey: ",r.featureKey),et?this.updateLockedFeatureDescription(r):this.updateUnsupportedFeatureDescription(r),r.showInGameDetails=!0))}else r.upsellToUnentitledUsers?(this.logger.info("Feature supported on game, display upsell for unentitled user: ",r.featureKey),this.updateUnentitledFeatureDescription(r),r.showInGameDetails=!0):this.logger.info("Feature supported on game, no upsell for unentitled user: ",r.featureKey)}updateUnentitledFeatureDescription(r){r.description="layout.evidenceMetadata.unknownUserFeatureText",r.icon="info"}featureSupportedOnSystem(r){var v;switch(r){case mn.xA.ENABLED_REFLEX:case mn.xA.RTX_ENABLED:return!0;case mn.xA.HDR_ENABLED:return null===(v=this.gameFeatureProperties)||void 0===v?void 0:v.hdrDecodeSupported}return!1}updateReadyFeatureDescriptionAndState(r){var v,et,ht,Ot,Ft,Ht,ae,Me,Ne;switch(r.featureKey){case mn.xA.RTX_ENABLED:r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0;break;case mn.xA.HDR_ENABLED:null!==(v=this.gameFeatureProperties)&&void 0!==v&&v.hdrRenderSupported?(null===(et=this.gameFeatureProperties)||void 0===et?void 0:et.streamingMode)===qo.M1.Custom&&null!==(ht=this.gameFeatureProperties)&&void 0!==ht&&ht.hdrToggledOff?(r.description="layout.evidenceMetadata.hdrFeatureSettingsTip",r.icon="info"):(null===(Ot=this.gameFeatureProperties)||void 0===Ot?void 0:Ot.streamingMode)===qo.M1.DataSaver||(null===(Ft=this.gameFeatureProperties)||void 0===Ft?void 0:Ft.streamingMode)===qo.M1.Competitive?(r.description="layout.evidenceMetadata.balancedStreamingModeTip",r.icon="info"):(r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0):(r.description="layout.evidenceMetadata.hdrFeatureDisplayTip",r.icon="info");break;case mn.xA.ENABLED_REFLEX:(null===(Ht=this.gameFeatureProperties)||void 0===Ht?void 0:Ht.streamingMode)===qo.M1.Custom&&null!==(ae=this.gameFeatureProperties)&&void 0!==ae&&ae.reflexToggledOff?(r.description="layout.evidenceMetadata.hdrFeatureSettingsTip",r.icon="info"):(null===(Me=this.gameFeatureProperties)||void 0===Me?void 0:Me.streamingMode)===qo.M1.DataSaver||(null===(Ne=this.gameFeatureProperties)||void 0===Ne?void 0:Ne.streamingMode)===qo.M1.Balanced?(r.description="layout.evidenceMetadata.reflexStreamingModeTip",r.icon="info"):(r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0)}}updateLockedFeatureDescription(r){switch(r.featureKey){case mn.xA.RTX_ENABLED:case mn.xA.ENABLED_REFLEX:r.description="layout.evidenceMetadata.freeUserFeatureText";break;case mn.xA.HDR_ENABLED:r.description="layout.evidenceMetadata.hdrFeatureUnsubscibedUserUpsell"}r.icon="lock",r.showInLoadingScreen=!0}updateUnsupportedFeatureDescription(r){var v;r.featureKey===mn.xA.HDR_ENABLED&&(r.description="layout.evidenceMetadata.systemUnsupportedTip",r.icon="info",r.systemSupported=!1,r.learnMoreUrl=null===(v=this.gameFeatureProperties)||void 0===v?void 0:v.hdrLearnMoreUrl)}updateFeatureLabel(r){switch(r.featureKey){case mn.xA.RTX_ENABLED:r.label="layout.evidenceMetadata.rtx";break;case mn.xA.HDR_ENABLED:r.label="settings.streamingProfiles.hdrStreaming";break;case mn.xA.ENABLED_REFLEX:r.label="settings.streamingProfiles.reflex"}}initializeFeatures(r){r.forEach(v=>{v.supportedOnGame=!1,v.supportedOnSubscription=!1,v.canUpsell=!1,v.showInLoadingScreen=!1,v.showInGameDetails=!1,v.upsellToUnentitledUsers=v.featureKey===mn.xA.RTX_ENABLED,v.systemSupported=!0,v.label="",v.icon="",v.description="",v.learnMoreUrl=""})}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(Sn.GK),n.LFG(zn.BH),n.LFG(Bn.zc))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Ma=t(45083),qi=function(nt){return nt[nt.AdStateUnknown=0]="AdStateUnknown",nt[nt.AdNotStarted=1]="AdNotStarted",nt[nt.AdStarted=2]="AdStarted",nt[nt.AdPaused=3]="AdPaused",nt[nt.AdResumed=4]="AdResumed",nt[nt.AdFinished=5]="AdFinished",nt[nt.AdCanceled=6]="AdCanceled",nt}(qi||{}),Oa=function(nt){return nt.mp4="mp4deinterlaced720p",nt.webm="webm",nt.hls="hlsadaptive",nt}(Oa||{}),ba=function(nt){return nt.Error="error",nt.Other="other",nt}(ba||{}),cs=function(nt){return nt.Autoplay="autoplay",nt.Preload="preload",nt.Flashstopped="flashstopped",nt}(cs||{}),Oi=function(nt){return nt.AdBlockerDetected="Ad blocker detected",nt.AdBlockerDisabled="Ad Blocker Dialog is disabled",nt.AutoplayBlocker="Autoplay blocker",nt.CssModified="Css modified",nt.VideoElementRemoved="Video element removed",nt.AutoplayRemoved="Autoplay attribute removed",nt.PreloadAdded="Preload attribute added",nt.FlashstoppedAdded="Flashstopped attribute added",nt.MediaPlayBlocked="Media play blocked",nt.ErrorLoadingUrl="Error loading url",nt.AdPlayTimeout="Ad play timeout",nt.AdVideoStuck="Ad video is stuck",nt.IsAdsRequiredUndefined="IsAdsRequired Flag is undefined",nt.Unknown="Unknown error",nt}(Oi||{}),Js=function(nt){return nt.NotAllowedError="NotAllowedError",nt.BlockedByUserAgent="The play method is not allowed by the user agent.",nt}(Js||{});const dl={status:k.Qrr.Unknown,watchedTimeInMs:null,pausedTimeInMs:null,errorInfo:Oi.Unknown},hl={status:k.Qrr.Unknown,watchedTimeInMs:null,pausedTimeInMs:null,errorInfo:Oi.IsAdsRequiredUndefined},ya={adId:null,adState:qi.AdStateUnknown,adUrl:null,adLengthInSeconds:null,adMediaFiles:null};let ul=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot){this.loggingService=r,this.idmService=v,this.bridgeService=et,this.mediaHelperService=ht,this.telemetryService=Ot,this.totalAdPausedDurationInMs=0,this.adStartedTs=0,this.adEndedTs=0,this.wasAdPausedAtLeastOnce=!1,this._currentStreamingProperties=null,this.sendAdErrorTelemetrySubject=new S.xQ,this.logger=this.loggingService.getLogger("OpportunityHelperService"),this.AdErrorTelemetrySubjectListener()}AdErrorTelemetrySubjectListener(){this.adErrorTelemetry$.pipe((0,Ma.x)()).subscribe(r=>{let v,et;this.logger.info("IsAdsRequired Flag is: ",r.isAdsRequired),v=r.partialAdTelemetryData,et=r.adData,v||(v={...dl}),et||(et={...ya}),this.sendTelemetry(v,et)})}get adErrorTelemetry$(){return this.sendAdErrorTelemetrySubject.asObservable()}set adErrorTelemetry(r){this.sendAdErrorTelemetrySubject.next(r)}get streamingProperties(){return this._currentStreamingProperties}set streamingProperties(r){this._currentStreamingProperties={...r}}updateAdState(r,v,et,ht=!1){return this.computeOpportunityPausedDuration(r,v,null==et?void 0:et.perfNowCts),r.pausedTimeInMs=Math.round(this.totalAdPausedDurationInMs),ht?(0,J.of)(null):(this.sendTelemetry({status:this.mapOpportunityStatus(r.adAction),watchedTimeInMs:null==r?void 0:r.watchedTimeInMs,pausedTimeInMs:null==r?void 0:r.pausedTimeInMs,errorInfo:null==et?void 0:et.errorInfo},v),this.bridgeService.executeCommand(dn.Gh.Gfn.Streaming.UpdateAdState,r))}processVideoEvents(r,v,et,ht,Ot=!1,Ft=!1){r||this.logger.error("Video Element is null or undefined: ",r),this.logger.info("Process video request: ",null==r?void 0:r.currentSrc,dn.Yk.Gfn.Streaming.AdAction[v.adAction],` , skipMediaPlay: ${Ot}, skipProcessing: ${Ft}`);let Ht=!1;Ot||v.adAction!==dn.Yk.Gfn.Streaming.AdAction.PAUSE?!Ot&&v.adAction===dn.Yk.Gfn.Streaming.AdAction.START||v.adAction===dn.Yk.Gfn.Streaming.AdAction.RESUME?(this.logger.info("Resume: Attempt playing media: ",dn.Yk.Gfn.Streaming.AdAction[v.adAction]),Ht=!0):Ot&&v.adAction===dn.Yk.Gfn.Streaming.AdAction.START&&this.logger.info("Skip playing the media for AdAction.START as the ad would be auto played already."):(this.mediaHelperService.pauseMedia(r),this.wasAdPausedAtLeastOnce=!0);const ae=Math.floor(Date.now()/1e3);return(Ht?this.mediaHelperService.playMedia(r,"video").pipe((0,o.q)(1)):(0,J.of)(null)).pipe((0,vt.zg)(Ne=>{var ke;return(0,st.$R)((0,J.of)(Ne),this.updateAdState({adId:v.adId,adAction:v.adAction,clientTimestamp:null!==(ke=null==v?void 0:v.clientTimestamp)&&void 0!==ke?ke:ae,watchedTimeInMs:null==v?void 0:v.watchedTimeInMs,cancelReason:null==v?void 0:v.cancelReason},et,ht,Ft))}),(0,Ve.U)(Ne=>(this.logger.info("Media play result: ",Ne[0]),this.logger.info(Ft?"Ad state update was skipped: ":"Ad state update sent for: ",dn.Yk.Gfn.Streaming.AdAction[v.adAction]),this.resetValues(v),Ne[0])),(0,nn.K)(Ne=>(this.logger.error("Error updating ad state: ",dn.Yk.Gfn.Streaming.AdAction[v.adAction],Ft," Error: ",Ne.toString()),this.resetValues(v),ie.E)))}setTelemetryHelperData(r){this.cmsId=r}isOpportunityViewingOver(r){return(null==r?void 0:r.adAction)===dn.Yk.Gfn.Streaming.AdAction.FINISH||(null==r?void 0:r.adAction)===dn.Yk.Gfn.Streaming.AdAction.CANCEL}computeOpportunityPausedDuration(r,v,et){if((null==r?void 0:r.adAction)===dn.Yk.Gfn.Streaming.AdAction.START)this.adStartedTs=et;else if(this.isOpportunityViewingOver(r)){if(this.wasAdPausedAtLeastOnce){this.adEndedTs=et;const ht=this.adEndedTs-this.adStartedTs,Ot=1e3*v.adLengthInSeconds;this.logger.info("Time taken to view ad in ms: ",ht,", total ad length in ms: ",Ot),ht>Ot?this.totalAdPausedDurationInMs=ht-Ot:this.logger.info("Ad is being terminated before completely watching it.")}this.logger.info("totalAdPausedDurationInMs: ",this.totalAdPausedDurationInMs)}}resetValues(r){this.isOpportunityViewingOver(r)&&(this.adStartedTs=this.adEndedTs=this.totalAdPausedDurationInMs=0,this.wasAdPausedAtLeastOnce=!1)}sendTelemetry(r,v){this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,Ve.U)(et=>{var ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un;const vn=new k.foq({cmsId:null!==(ht=this.cmsId)&&void 0!==ht?ht:"",url:null!==(Ot=v.adUrl)&&void 0!==Ot?Ot:"",receipt:null!==(Ft=v.adId)&&void 0!==Ft?Ft:"",status:null!==(Ht=r.status)&&void 0!==Ht?Ht:k.Qrr.Unknown,durationInSec:null!==(ae=v.adLengthInSeconds)&&void 0!==ae?ae:0,watchedTimeInMs:null!==(Me=r.watchedTimeInMs)&&void 0!==Me?Me:0,pausedTimeInMs:null!==(Ne=r.pausedTimeInMs)&&void 0!==Ne?Ne:0,errorInfo:null!==(ke=r.errorInfo)&&void 0!==ke?ke:"",currentScreenOrientation:window.matchMedia("(orientation: landscape)").matches?k.i5E.Landscape:k.i5E.Portrait,targetedAdsOptIn:void 0===(null==et?void 0:et.targetedAdsOptIn)?k.wye.UNDEFINED:!0===(null==et?void 0:et.targetedAdsOptIn)?k.wye.TRUE:k.wye.FALSE,sessionId:null!==(Ze=null===(on=this.streamingProperties)||void 0===on?void 0:on.sessionId)&&void 0!==Ze?Ze:"",subSessionId:null!==(sn=null===(un=this.streamingProperties)||void 0===un?void 0:un.subSessionId)&&void 0!==sn?sn:""});this.telemetryService.push(vn)})).subscribe()}mapOpportunityStatus(r){let v;switch(r){case dn.Yk.Gfn.Streaming.AdAction.START:v=k.Qrr.Started;break;case dn.Yk.Gfn.Streaming.AdAction.CANCEL:v=k.Qrr.Canceled;break;case dn.Yk.Gfn.Streaming.AdAction.PAUSE:v=k.Qrr.Paused;break;case dn.Yk.Gfn.Streaming.AdAction.RESUME:v=k.Qrr.Resumed;break;case dn.Yk.Gfn.Streaming.AdAction.FINISH:v=k.Qrr.Completed;break;default:v=k.Qrr.Unknown}return v}convertToAdState(r){let v;switch(r){case dn.Yk.Gfn.Streaming.AdAction.START:v=qi.AdStarted;break;case dn.Yk.Gfn.Streaming.AdAction.CANCEL:v=qi.AdCanceled;break;case dn.Yk.Gfn.Streaming.AdAction.PAUSE:v=qi.AdPaused;break;case dn.Yk.Gfn.Streaming.AdAction.RESUME:v=qi.AdResumed;break;case dn.Yk.Gfn.Streaming.AdAction.FINISH:v=qi.AdFinished;break;default:v=qi.AdStateUnknown}return v}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ii.No),n.LFG(s.dF),n.LFG(tn.AK),n.LFG(h.y0))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})(),ml=(()=>{var nt;class _t{constructor(r,v){var et;this.loggingService=r,this.appConfig=v,this.destroy$=new S.xQ,this.videoProgressSubject=new S.xQ,this.opportunityBlockerDetectedSubject=new S.xQ,this.isOpportunityBlocked=!1,this.logger=this.loggingService.getLogger("OpportunityBlockerDetectionService"),this.isOpportunityBlockerDialogEnabled=!(null===(et=this.appConfig)||void 0===et||null===(et=et.opportunity)||void 0===et||!et.opportunityBlockerDialogEnabled),this.logger.info(`Is Opportunity blocker dialog enabled: ${this.isOpportunityBlockerDialogEnabled}`)}isOpportunityBlockerDetected$(){return this.opportunityBlockerDetectedSubject.asObservable()}setIsOpportunityBlockerDetected(r,v){this.opportunityBlockerDetectedSubject.next({isAdBlockerDetected:r,featureEnabled:this.isOpportunityBlockerDialogEnabled,adBlockerInfo:v})}updateVideoProgressState(r){this.videoProgressSubject.next(r)}checkIfOpportunityElementAltered(r){Array.from(r).map(v=>{const et=JSON.stringify(v.target,function(ht,Ot){return Ot.id});'""'!==et&&this.logger.info("Modified element's ID: ",et),("preStreamVideo"===(null==et?void 0:et.slice(1,-1))||"preStreamContainer"===(null==et?void 0:et.slice(1,-1)))&&(this.checkForStyleChanges(et.slice(1,-1)),this.checkForAttributeModification(et.slice(1,-1))),v.removedNodes.length&&this.handleDeletedNodes(v)})}checkIfOpportunityElementRemoved(){this.videoProgress$().pipe((0,o.q)(1)).subscribe(()=>{const r=document.getElementById("preStreamVideo"),v=document.getElementById("preStreamContainer");(!r||!v)&&(this.logger.info("video div or video element is removed before progress"),this.setIsOpportunityBlockerDetected(!0,Oi.VideoElementRemoved))},r=>this.logger.error("Error while checking for opportunity element",r))}getErrorInfo(r){var v;return r.featureEnabled&&r.isAdBlockerDetected?null!==(v=r.adBlockerInfo)&&void 0!==v?v:Oi.AdBlockerDetected:Oi.AdBlockerDisabled}isAdBlocked(r){if(r){const v=Object.values(Js).includes(r.name),et=Object.values(Js).includes(r.message);return v&&et}return!1}checkForStyleChanges(r){var v;const et=document.getElementById(r),ht=null==et||null===(v=et.style)||void 0===v?void 0:v.display;("none"===ht||"none !important"===ht||"hidden"===ht)&&(this.logger.info("Opportunity style changed"),this.setIsOpportunityBlockerDetected(!0,Oi.CssModified))}checkForAttributeModification(r){if("preStreamVideo"===r&&!this.isOpportunityBlocked){const v=document.getElementById(r),et=null===v.getAttribute(cs.Autoplay),ht=null!==v.getAttribute(cs.Preload),Ot=null!==v.getAttribute(cs.Flashstopped);if(et||ht||Ot){this.isOpportunityBlocked=!0,this.logger.info(`Ad autoplay blocked: Autoplay attr modified=${et},\n                    Preload attr added=${ht}, Flashstopped attr added=${Ot}`);let Ft=Oi.AutoplayBlocker+" ";et?Ft+=Oi.AutoplayRemoved:ht?Ft+=Oi.PreloadAdded:Ot&&(Ft+=Oi.FlashstoppedAdded),this.setIsOpportunityBlockerDetected(!0,Ft)}else this.isOpportunityBlocked&&this.logger.info("Opportunity blocker already detected")}}handleDeletedNodes(r){this.logger.info("Some elements are removed: ",r.removedNodes),r.removedNodes.forEach(v=>{const et=JSON.stringify(v,function(ht,Ot){return Ot.id});this.logger.info("Removed element's ID: ",et),"preStreamVideo"===(null==et?void 0:et.slice(1,-1))&&this.setIsOpportunityBlockerDetected(!0,Oi.VideoElementRemoved)})}videoProgress$(){return this.videoProgressSubject.asObservable()}ngOnDestroy(){this.videoProgressSubject.complete(),this.opportunityBlockerDetectedSubject.complete(),this.destroy$.next(),this.destroy$.complete()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ge.VK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();const gs="fullscreen",Ea="apple-translucent-bar",vl=new Zn.b("2.0.56.999");let fl=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot){var Ft;this.meta=r,this.pwaService=et,this.updateService=ht,this.fullscreenSubject=new Pi.X(!1),this.fullscreenState$=this.fullscreenSubject.asObservable(),this._enableTranslucentStatusBar=!1,this.logger=v.getLogger("AppleScreenService"),this.bodyClassList=document.body.classList,this.isTranslucentStatusBar=this.checkTranslucentStatusBarApplied(),this._enableTranslucentStatusBar=!(null===(Ft=Ot.featureEnablement)||void 0===Ft||!Ft.enableAppleTranslucentStatusBar)&&this.isTranslucentStatusBar}get enableTranslucentStatusBar(){return this._enableTranslucentStatusBar}get fullscreen(){return this.fullscreenSubject.getValue()}set fullscreen(r){this.isTranslucentStatusBar&&(this.fullscreenSubject.next(r),r?this.bodyClassList.contains(gs)||this.bodyClassList.add(gs):this.bodyClassList.contains(gs)&&this.bodyClassList.remove(gs))}applyAppleTranslucentBarStyle(){this.bodyClassList.contains(Ea)||this.bodyClassList.add(Ea)}checkTranslucentStatusBarApplied(){const r=this.meta.getTag('name="apple-mobile-web-app-status-bar-style"');return"black-translucent"===(null==r?void 0:r.content)}isDeprecated(){return this.updateService.getInitialVersion().pipe((0,Ve.U)(r=>r.compareMajorVersion(vl)!==Zn.A.Lesser))}initialize(){if(this.pwaService.isInPWAMode()){if(!this.isTranslucentStatusBar)return void this.logger.warn("Translucent Status Bar is not enabled on this Apple device");this.isDeprecated().subscribe(r=>{r?this._enableTranslucentStatusBar=!1:this.applyAppleTranslucentBarStyle()})}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(qr.h_),n.LFG(s.ed),n.LFG(yr.nG),n.LFG(ci),n.LFG(ge.VK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var In=t(51858),_l=t(51063),Ir=function(nt){return nt.GameTile="TV_BANNER",nt.MaqueeTile="MARQUEE_HERO_IMAGE",nt.MaqueeGameLogo="GAME_LOGO",nt.MaqueeCascadeImage="assets.cascade.geforce.com/images/",nt}(Ir||{});const Cl=[Ir.GameTile,Ir.MaqueeCascadeImage,Ir.MaqueeTile,Ir.MaqueeGameLogo];var Un=function(nt){return nt.CommonJSInitStart="CommonJSInitStart",nt.CommonJSInitEnd="CommonJSInitEnd",nt.LayoutSpinnerStart="LayoutSpinnerStart",nt.LayoutSpinnerEnd="LayoutSpinnerEnd",nt.LayoutJSInitStart="LayoutJSInitStart",nt.LayoutJSInitEnd="LayoutJSInitEnd",nt.LayoutDataFetchStart="LayoutDataFetchStart",nt.LayoutDataFetchEnd="LayoutDataFetchEnd",nt.LayoutDataRenderStart="LayoutDataRenderStart",nt.LayoutDataRenderEnd="LayoutDataRenderEnd",nt.LoginWallCheckStart="LoginWallCheckStart",nt.LoginWallCheckEnd="LoginWallCheckEnd",nt.LoginWallDataFetchStart="LoginWallDataFetchStart",nt.LoginWallDataFetchEnd="LoginWallDataFetchEnd",nt.LoginWallRenderStart="LoginWallRenderStart",nt.LoginWallRenderEnd="LoginWallRenderEnd",nt}(Un||{}),Tn=function(nt){return nt.CEFLoad="CEFLoad",nt.TotalJSModuleLoad="TotalJSModuleLoad",nt.CommonJSModuleLoad="CommonJSModuleLoad",nt.LayoutJSModuleLoad="LayoutJSModuleLoad",nt.LayoutDataLoad="LayoutDataLoad",nt.LayoutSpinner="LayoutSpinner",nt.LayoutDataRendering="LayoutDataRendering",nt.CompleteLayout="CompleteLayout",nt.LoginWallCheck="LoginWallCheck",nt.LoginWallDataFetch="LoginWallDataFetch",nt.LoginWallRendering="LoginWallRendering",nt}(Tn||{});const xa=[{name:Tn.CommonJSModuleLoad,start:Un.CommonJSInitStart,end:Un.CommonJSInitEnd},{name:Tn.LoginWallCheck,start:Un.LoginWallCheckStart,end:Un.LoginWallCheckEnd},{name:Tn.LayoutJSModuleLoad,start:Un.LayoutJSInitStart,end:Un.LayoutJSInitEnd},{name:Tn.LayoutDataLoad,start:Un.LayoutDataFetchStart,end:Un.LayoutDataFetchEnd},{name:Tn.LayoutSpinner,start:Un.LayoutSpinnerStart,end:Un.LayoutSpinnerEnd},{name:Tn.LayoutDataRendering,start:Un.LayoutDataRenderStart,end:Un.LayoutDataRenderEnd}],Ia=[{name:Tn.CommonJSModuleLoad,start:Un.CommonJSInitStart,end:Un.CommonJSInitEnd},{name:Tn.LoginWallCheck,start:Un.LoginWallCheckStart,end:Un.LoginWallCheckEnd},{name:Tn.LoginWallDataFetch,start:Un.LoginWallDataFetchStart,end:Un.LoginWallDataFetchEnd},{name:Tn.LoginWallRendering,start:Un.LoginWallRenderStart,end:Un.LoginWallRenderEnd}];let Xs=(()=>{var nt;class _t{constructor(r,v,et){this.telemetryUtilService=v,this.bridgeService=et,this.imageLoadDuration=0,this.imageCount=0,this.imageTransferSize=0,this.usedJsHeapSize=0,this.resourceComputationDone=!1,this.imgTimingMap=new Map,this.logger=r.getLogger("AppLaunchPerformanceService"),this.isPerfTelemetryInitiatedOnce=!1,this.isLayoutLoadAbandoned=!1,this.layoutDurations=new Map,xa.forEach(ht=>{this.layoutDurations.set(ht.name,0)}),this.layoutDurations.set(Tn.CEFLoad,-1),this.loginWallDurations=new Map,Ia.forEach(ht=>{this.loginWallDurations.set(ht.name,0)})}fetchCEFStartupTime(){return this.bridgeService.executeCommand(dn.Gh.Common.Applicationinfo.GetApplicationTimeInfo,{type:dn.Yk.Common.Applicationinfo.ApplicationTimeType.Launch}).pipe((0,Ve.U)(r=>{const v=window.jsInitStartTs-r.startTime;return this.layoutDurations.set(Tn.CEFLoad,v),!0}),(0,nn.K)(r=>(0,J.of)(!1)))}onCommonJSLoadEnd(){performance.mark(Un.CommonJSInitEnd)}onLoginWallDataFetchStart(){performance.mark(Un.LoginWallDataFetchStart)}onLoginWallDataFetchEnd(){performance.mark(Un.LoginWallDataFetchEnd)}onLoginWallRenderStart(){performance.mark(Un.LoginWallRenderStart)}onLoginWallRenderEnd(){performance.mark(Un.LoginWallRenderEnd),this.computeLoginWallDuration()}onLoginWallCheckStart(){performance.mark(Un.LoginWallCheckStart)}onLoginWallCheckEnd(){performance.mark(Un.LoginWallCheckEnd)}onLayoutDataFetchStart(){this.isPerfTelemetryInitiatedOnce||performance.mark(Un.LayoutDataFetchStart)}onLayoutDataFetchEnd(){this.isPerfTelemetryInitiatedOnce||(performance.mark(Un.LayoutDataFetchEnd),performance.mark(Un.LayoutSpinnerEnd))}onLayoutComponentDataRenderingStart(){this.isPerfTelemetryInitiatedOnce||performance.mark(Un.LayoutDataRenderStart)}computeLoginWallDuration(){Ia.forEach(et=>{try{const ht=performance.measure(et.name,et.start,et.end);this.loginWallDurations.set(et.name,ht.duration)}catch{this.loginWallDurations.set(et.name,-1)}});let r="Stage wise durations for loginwall:\n";this.loginWallDurations.forEach((et,ht)=>{r+=`${ht}: ${et}\n`});const v=this.loginWallDurations.get(Tn.CommonJSModuleLoad)+this.loginWallDurations.get(Tn.LoginWallCheck)+this.loginWallDurations.get(Tn.LoginWallRendering);r=`${r}Total duration: ${v}`,this.logger.info(r)}computeLayoutDuration(){xa.forEach(ht=>{try{const Ot=performance.measure(ht.name,ht.start,ht.end);this.layoutDurations.set(ht.name,Ot.duration)}catch{this.layoutDurations.set(ht.name,-1)}});const r=this.layoutDurations.get(Tn.CommonJSModuleLoad)+this.layoutDurations.get(Tn.LayoutJSModuleLoad);this.layoutDurations.set(Tn.TotalJSModuleLoad,r);const v=this.layoutDurations.get(Tn.CommonJSModuleLoad)+this.layoutDurations.get(Tn.LayoutJSModuleLoad)+this.layoutDurations.get(Tn.LoginWallCheck)+this.layoutDurations.get(Tn.LayoutDataLoad)+this.layoutDurations.get(Tn.LayoutDataRendering);this.layoutDurations.set(Tn.CompleteLayout,v);let et="Stage wise durations for layout:\n";this.layoutDurations.forEach((ht,Ot)=>{et+=`${Ot}: ${ht}\n`}),this.logger.info(et)}onLayoutComponentDataRenderingEnd(){this.isPerfTelemetryInitiatedOnce||(performance.mark(Un.LayoutDataRenderEnd),(0,Uo.s)(s.ng.isCefPlatform,this.fetchCEFStartupTime(),(0,J.of)(!1)).pipe((0,o.q)(1)).subscribe(r=>{this.computeLayoutDuration(),this.computeResourceLoadMetrics(),this.isPerfTelemetryInitiatedOnce=!0}))}onLayoutComponentInit(){this.isPerfTelemetryInitiatedOnce||performance.mark(Un.LayoutSpinnerStart)}onLayoutLoadAbandoned(){this.isLayoutLoadAbandoned=!0}computeResourceLoadMetrics(){this.observer=new PerformanceObserver(r=>this.perfResourceElementObserverCallback(r)),this.observer.observe({entryTypes:[s.xv.Element,s.xv.Resource]}),setTimeout(()=>{this.observer&&this.observer.disconnect(),this.usedJsHeapSize=this.getUsedJsHeapSize(),this.resourceComputationDone=!0,this.imgTimingMap.clear(),this.sendLayoutPerformanceTelemetry()},1e4)}perfResourceElementObserverCallback(r){try{r.getEntries().forEach(v=>{if(v instanceof PerformanceResourceTiming&&v.initiatorType===s.IW.Image&&this.isResourceConsidered(v.name)){const et=this.imgTimingMap.get(v.name);if(et&&v.connectStart){const ht=et-v.connectStart;ht<0&&this.logger.error(`Negative duration for entry ${JSON.stringify(v.toJSON())}, with loadTime ${et}`),this.imageLoadDuration+=ht,this.imgTimingMap.delete(v.name),this.imageCount++}else this.imgTimingMap.set(v.name,v.connectStart);v.transferSize&&(this.imageTransferSize+=v.transferSize)}else if(v.entryType===s.xv.Element){const et=this.imgTimingMap.get(v.url);if(v.loadTime&&et){const ht=v.loadTime-et;ht<0&&this.logger.error(`Negative duration for entry ${JSON.stringify(v.toJSON())}, with startime ${et}`),this.imageLoadDuration+=ht,this.imgTimingMap.delete(v.url),this.imageCount++}else this.imgTimingMap.set(v.url,v.loadTime)}})}catch(v){this.logger.error("Error occured in perfResourceElementObserverCallback ",v),this.observer.disconnect(),this.observer=null,this.imageCount=-1,this.imageLoadDuration=-1,this.imageTransferSize=-1}}isResourceConsidered(r){return Cl.some(v=>r.includes(v))}getUsedJsHeapSize(){var r,v;return null!==(r=null===(v=performance)||void 0===v||null===(v=v.memory)||void 0===v?void 0:v.usedJSHeapSize)&&void 0!==r?r:-1}sendLayoutPerformanceTelemetry(){const r=window.geForceNowStartLocationHash;this.isLayoutLoadAbandoned||null!=r&&r.length&&!r.includes(cn.fF.DefaultRedirect)||!this.resourceComputationDone?this.logger.warn(`Abort sendLayoutPerformanceTelemetry, isLayoutLoadAbandoned: ${this.isLayoutLoadAbandoned}, startHash: ${r}`):(this.telemetryUtilService.sendPageLoadPerfEvent(k.PyH.Layout_L0,{viewDataLoadDuration:this.layoutDurations.get(Tn.LayoutDataLoad),sectionNames:[Tn.CEFLoad,Tn.TotalJSModuleLoad,Tn.LayoutSpinner,Tn.LayoutDataRendering,Tn.CompleteLayout],sectionDataLoadDurations:[0,0,0,0,0],sectionTotalLoadDurations:[this.layoutDurations.get(Tn.CEFLoad),this.layoutDurations.get(Tn.TotalJSModuleLoad),this.layoutDurations.get(Tn.LayoutSpinner),this.layoutDurations.get(Tn.LayoutDataRendering),this.layoutDurations.get(Tn.CompleteLayout)],imageLoadDuration:this.imageLoadDuration,imageCount:this.imageCount,imageTransferSize:this.imageTransferSize,usedJsHeapSize:this.usedJsHeapSize}),this.telemetryUtilService.sendNavigationPerfEvent())}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(k.wU6),n.LFG(s.dF))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var Sl=t(21356);let wa=(()=>{var nt;class _t{constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke,Ze,on,sn,un,vn,Dn,_i,to,Io,Fi){var eo;this.idmService=v,this.idmLoginService=et,this.pathService=ht,this.nesUserInfoService=Ot,this.lcarsService=Ft,this.deeplinkHelperService=Ht,this.imageFormatService=ae,this.redirectService=Me,this.browseUxService=Ne,this.appConfig=ke,this.genericDialog=Ze,this.unsupportedBrowserService=on,this.settingsService=sn,this.localeService=un,this.appLaunchPerformanceService=vn,this.translateService=Dn,this.idmTelemetryService=_i,this.loginInfoStoreService=to,this.snackbar=Io,this.oobeService=Fi,this.backToCloseResult=Mn.L$.Cancel,this.handleRoute=(wo,hs)=>{this.appLaunchPerformanceService.onLoginWallCheckStart();const no=hs.url,Lr=null==no?void 0:no.includes(cn.nn.LoginWall),Ua=null==no?void 0:no.includes(cn.nn.Deeplink),ta=wo.queryParamMap;return Ua&&this.deeplinkHelperService.setDeeplinkZoneOverride(ta,hs.url),(0,cn.sv)()?(this.appLaunchPerformanceService.onLoginWallCheckEnd(),(0,J.of)(!0)):this.isLoginWallEnabled().pipe((0,vt.zg)(Lo=>Lo?this.getURLAfterLoginCheck(Lr):(0,J.of)(Lr?cn.nn.Home:void 0)),(0,vt.zg)(Lo=>Ua?this.getURLAfterDeeplinkCheck(ta,Lo):(0,J.of)(Lo)),(0,vt.zg)(Lo=>Lo?(this.appLaunchPerformanceService.onLoginWallCheckEnd(),this.pathService.navigateByUrl(Lo,{state:{initialURL:no,queryParamMap:ta}})):(Lr||(this.loginWallFlowComplete$.next(!0),this.browseUxService.allowEarlyLayoutFetch()),this.appLaunchPerformanceService.onLoginWallCheckEnd(),(0,J.of)(!0))))},this.logger=r.getLogger("LoginWallService"),this.loginProviderInfo$=new Nn.t(1),this.unsupportedScenarioInfo$=new Nn.t(1),this.loginWallBackgroundData$=new Nn.t(1),this.loginWallStrings$=new Nn.t(1),this.clientVersionString$=new Nn.t(1),this.pwaInfo$=new Nn.t(1),this.loginStatus$=new S.xQ,this.loginWallFlowComplete$=new Nn.t(1),this.needsWindowWorkaround=!(null==ke||null===(eo=ke.featureEnablement)||void 0===eo||!eo.loginPopupBlockerWorkaround),this.enableFocusOnDefaultCTA$=new Nn.t(1),this.offDeviceDialogClosedStateSubject=new Pi.X(!0)}initializeNavigateOnLogoutSubscription(){this.idmService.accountStatusChanged.pipe((0,_l.T)(1),(0,En.h)(r=>!r.isAuthenticated)).subscribe(r=>this.pathService.navigateByUrl(cn.nn.LoginWall))}getSpecificProviderInfo(r){return this.nesUserInfoService.providerInfo$.pipe((0,o.q)(1),(0,Ve.U)(v=>{var et;const ht=null==v||null===(et=v.gfnServiceEndpoints)||void 0===et?void 0:et.find(Ft=>Ft.loginProvider===r);return{allowProviderSwitch:!0,idpId:null==ht?void 0:ht.idpId,defaultProvider:null==ht?void 0:ht.loginProviderDisplayName,countryCode:null==v?void 0:v.clientCountryCode}}))}fetchProviderInfo(){this.nesUserInfoService.loginPreferredProviders$.pipe((0,vt.zg)(r=>1!==(null==r?void 0:r.length)?(0,J.of)({allowProviderSwitch:!1}):this.getSpecificProviderInfo(r[0]))).subscribe(r=>{this.loginProviderInfo$.next(r)},r=>{this.logger.error("Error showing switch provider picker.",r),this.loginProviderInfo$.next({allowProviderSwitch:!1})})}isLoginWallEnabled(){return(0,J.of)(this.appConfig.featureEnablement.showLoginWall)}showGameNotFoundToastMessage(){this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,vt.zg)(r=>r.isAuthenticated?(0,J.of)(null):this.translateService.get("loginWall.gameNotAvailable"))).subscribe(r=>{if(r)return this.snackbar.open(r,"",{duration:In.DJ,horizontalPosition:"left",panelClass:["nv-hig"]})},Vn.Z)}getURLAfterDeeplinkCheck(r,v){return this.deeplinkHelperService.performHandlingCheck(r).pipe((0,vt.zg)(et=>{if(!et.canHandle)return this.logger.info("Cannot handle deeplink"),(0,J.of)(null);const ht=r.has(Qn.uE.CmsId);return this.lcarsService.getAppdata(r.get(ht?Qn.uE.CmsId:Qn.uE.GameId),{isCmsId:ht})}),(0,Ve.U)(et=>et&&et[0]?v:(this.showGameNotFoundToastMessage(),cn.nn.Home)),(0,nn.K)(et=>(this.logger.error("Error while fetching game metadata: ",et),(0,J.of)(cn.nn.Home))))}getURLAfterLoginCheck(r){return this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,Ve.U)(v=>v.isAuthenticated?r?cn.nn.Home:void 0:r?void 0:cn.nn.LoginWall))}getBackgroundContentParameters(r){var v;if(null===(v=this.returnLocationURL)||void 0===v?void 0:v.includes(cn.nn.Deeplink)){const ht=r.has(Qn.uE.CmsId);return{contentType:In.XS.Game,isCmsId:ht,contentId:r.get(ht?Qn.uE.CmsId:Qn.uE.GameId)}}return{contentType:In.XS.Catalog}}fetchUnsupportedScenarioInfo(){this.unsupportedBrowserService.unsupportedBrowserState$.pipe((0,vt.zg)(r=>(0,Wn.aj)([this.unsupportedBrowserService.getDialogLink$(r),(0,J.of)(this.unsupportedBrowserService.getUnsupportedHeaderText(r))])),(0,o.q)(1)).subscribe(([r,v])=>{this.unsupportedScenarioInfo$.next({text:v,link:r})})}fetchClientVersion(){this.browseUxService.getVersionString().pipe((0,o.q)(1)).subscribe(r=>{this.clientVersionString$.next(r)})}checkForOOBEClosed(){this.oobeService.oobeDialogClosedState.pipe((0,En.h)(r=>r)).subscribe(r=>this.enableFocusOnDefaultCTA$.next())}enableFocusOnDefaultCTA(){return this.enableFocusOnDefaultCTA$.asObservable()}fetchPWAInfo(){const r=this.localeService.localeChanged.pipe((0,Ve.U)(v=>this.settingsService.getLinksUrl(An.qB.GFN_PC_FAQ_IOS,v)));(0,Wn.aj)([this.unsupportedBrowserService.shouldDisplayPWAGuidance$,r]).pipe((0,o.q)(1)).subscribe(([v,et])=>{this.pwaInfo$.next({shouldShowPWAGuidance:v,faqUrl:et})})}isSameTabLoginEnabled(){return(0,J.of)(this.appConfig.starfleet.sameTabLogin)}getUnsupportedScenarioInfo(){return this.unsupportedScenarioInfo$.asObservable()}getServerErrorURLs(){return this.redirectService.getRedirectUrl(yt.hE.GfnServerStatus).pipe((0,Ve.U)(r=>[r,yt.hD[yt.hE.GfnServerStatus]]))}onLoginWallFlowCompleted$(){return this.isLoginWallEnabled().pipe((0,vt.zg)(r=>r?this.loginWallFlowComplete$.asObservable():(0,J.of)(!0)),(0,Ma.x)())}getPWAInfo(){return this.pwaInfo$.asObservable()}initiateContentFetch(r){this.appLaunchPerformanceService.onLoginWallDataFetchStart();const v=this.getBackgroundContentParameters(r);if(v.contentType===In.XS.Game){const et=this.lcarsService.getAppdata(v.contentId,{isCmsId:v.isCmsId}),ht=this.lcarsService.getLoginwallStrings();(0,Wn.aj)([et,ht]).pipe((0,o.q)(1)).subscribe(([Ot,Ft])=>{var Ht,ae,Me,Ne,ke;const Ze=null===(Ht=Ot[0])||void 0===Ht?void 0:Ht.images,on=null===(ae=Ot[0])||void 0===ae?void 0:ae.marqueeScrimPrimaryRGB,sn=[];Ot[0].variants.forEach(vn=>{const Dn=si.vA.getStoreInfoForAppstore(vn.appStore);sn.push({logo:null==Dn?void 0:Dn.smallImageUrl,label:(null==Dn?void 0:Dn.label)===si.rV?Ot[0].publisherName:Dn.label})});const un={backgroundImageUrl:null==Ze?void 0:Ze.HERO_IMAGE,gameTitle:Ot[0].title,logoImageUrl:null!=Ze&&Ze.GAME_LOGO?this.imageFormatService.formatImageServiceUrl(null==Ze?void 0:Ze.GAME_LOGO,{w:360}):"",appStoresInfo:sn,useDarkTheme:"black"===(0,tn.AB)(on),scrimColor:on?`${null!==(Me=on.r)&&void 0!==Me?Me:0}, ${null!==(Ne=on.g)&&void 0!==Ne?Ne:0}, ${null!==(ke=on.b)&&void 0!==ke?ke:0}`:"0, 0, 0"};this.appLaunchPerformanceService.onLoginWallDataFetchEnd(),this.loginWallBackgroundData$.next({data:un}),this.loginWallStrings$.next(Ft)},Ot=>{this.logger.error("Error while fetching login wall data for deeplink.",Ot),this.appLaunchPerformanceService.onLoginWallDataFetchEnd(),this.loginWallBackgroundData$.next(null)})}else this.lcarsService.getLoginWallData().pipe((0,o.q)(1)).subscribe(Ot=>{const Ht={imageUrls:Ot.backgroundData.data.imageUrls};this.appLaunchPerformanceService.onLoginWallDataFetchEnd(),this.loginWallBackgroundData$.next({data:Ht}),this.loginWallStrings$.next(Ot.strings)},Ot=>{this.logger.error("Error while fetching game catalog data.",Ot),this.appLaunchPerformanceService.onLoginWallDataFetchEnd(),this.loginWallBackgroundData$.next(null)})}cancelLogin(){this.idmService.cancelLogin(!1).subscribe(r=>{(0,C.isEmpty)(r)&&this.loginStatus$.next({loginProcessComplete:!0,state:In.zD.Unknown})})}initializeNavigationSubscription(){if(this.postLoginSubscription)return;const r=this.loginStatus$.pipe((0,En.h)(et=>et.state===In.zD.Success)),v=this.idmService.accountStatusChanged.pipe((0,En.h)(et=>et.isAuthenticated));this.postLoginSubscription=(0,Cn.S3)([r,v]).pipe((0,o.q)(1)).subscribe(et=>{this.pathService.navigateByUrl(this.returnLocationURL),this.postLoginSubscription=null},et=>{this.logger.error("Error in postLoginSubscription. ",et),this.postLoginSubscription=null})}getLoginStatus$(){return this.loginStatus$.asObservable()}attemptLogin(r=!1){var v;this.initializeNavigationSubscription();const et=this.appConfig.starfleet.sameTabLogin;this.needsWindowWorkaround&&!et&&(this.browserPopup=window.open("","_blank"));const ht=this.loginProviderInfo$.pipe((0,o.q)(1),(0,Ve.U)(Ft=>Ft.idpId)),Ot=null!==(v=this.appConfig)&&void 0!==v&&null!==(v=v.featureEnablement)&&void 0!==v&&null!==(v=v.logininfo)&&void 0!==v&&v.enabled?this.loginInfoStoreService.getSsoLoginInfo():(0,J.of)(null);(0,Wn.aj)([this.idmLoginService.getDeviceName$(),ht,Ot]).pipe((0,o.q)(1),(0,vt.zg)(([Ft,Ht,ae])=>{let Me;return this.idmTelemetryService.sendLoginStartEvent(Ht,et),this.idmService.gfnStoredLoginInfoApplicableForSso(Ht,this.appConfig.starfleet.jarvisIdpId,ae)&&(Me={silentLoginHelperInstance:null,ssoSharedPageData:{idp_id:null==ae?void 0:ae.idp_id,login_hint:null==ae?void 0:ae.login_hint}}),this.idmService.login(!1,r?null:Ht,this.browserPopup,Ft,document.baseURI+this.returnLocationURL,Me)}),(0,Ve.U)(Ft=>{this.logger.info("starfleet login state update",Ft);const Ht={loginProcessComplete:!1,state:In.zD.Unknown,errorMessage:"",retryAvailable:!0};switch(Ft){case Mn.fH.LoginRedirectCompleted:Ht.state=In.zD.RedirectCompleted;break;case Mn.fH.LoginAbortedByUser:Ht.loginProcessComplete=!0,Ht.state=In.zD.Aborted;break;case yi.n.LoggedIn:Ht.loginProcessComplete=!0,Ht.state=In.zD.Success,this.idmTelemetryService.sendLoginSuccessUserSessionEvent(),this.closeOffDeviceAuthDialog(Ht.state);break;case Mn.fH.LoginFailed:case yi.n.Failed:Ht.loginProcessComplete=!0,Ht.state=In.zD.Failure,this.idmTelemetryService.sendLoginFailureUserSessionEvent(),this.closeOffDeviceAuthDialog(Ht.state);break;case Mn.fH.LoginFailedNoRetry:case yi.n.LoggedOut:Ht.state=In.zD.Failure,Ht.retryAvailable=!1,Ht.loginProcessComplete=!0,this.idmTelemetryService.sendLoginFailureUserSessionEvent(),this.closeOffDeviceAuthDialog(Ht.state);break;case Mn.fH.LoginFailedToStart:Ht.state=In.zD.Failure,Ht.loginProcessComplete=!0,this.idmTelemetryService.sendCreateHTTPServerErrorEvent(),this.closeOffDeviceAuthDialog(Ht.state);break;case Mn.fH.LoginInProgressNeedDisplayCode:this.onNeedDisplayCode()}return this.loginStatus$.next(Ht),Ht})).subscribe()}onNeedDisplayCode(){const r=this.idmService.getDeviceDisplayCode().url,v=this.idmService.getDeviceDisplayCode().url_complete,et=this.idmService.getDeviceDisplayCode().user_code;let ht;if(et&&(ht=(0,tn.yY)(et)),!r||!v||!et)throw new Error(`Failed to launch login bridge dialog. deviceAuthUri: ${r}, deviceAuthUriComplete: ${v}, rawCode: ${et}`);{const Ot=this.appConfig.featureEnablement.preferBottomSheetForLogin?{link:{url:v,text:""}}:{image:{url:v}},Ft={panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:(0,tn.j7)(r)},primaryButton:{text:"common.cancelTitleCase"},bodyText:{text:"loginBridgeState.deviceAuthLogin",placeholders:{authCode:`<div class="font-header3 white">${ht}</div>`}},footerText:{text:"loginBridgeState.deviceAuthHint"},...Ot}};this.openOffDeviceLoginDialog(Ft)}}openOffDeviceLoginDialog(r){this.closeOffDeviceAuthDialog(),this.offDeviceAuthDialogRef=this.genericDialog.open(r,{preferredDialogType:this.appConfig.featureEnablement.preferBottomSheetForLogin?R.Xm.BottomSheet:R.Xm.ThreeQuarterSheet}),this.offDeviceAuthDialogRef.backToCloseResult=this.backToCloseResult,this.offDeviceDialogClosedStateSubject.next(!1),this.offDeviceAuthDialogRef.afterClosed().pipe((0,o.q)(1)).subscribe(et=>{this.offDeviceDialogClosedStateSubject.next(!0)}),this.offDeviceDialogSubscription=(0,Cn.S3)([this.offDeviceAuthDialogRef.primaryButtonClick,this.offDeviceAuthDialogRef.afterClosed()]).subscribe(()=>{this.cancelLogin(),this.closeOffDeviceAuthDialog()})}isOffDeviceDialogClosed(){return this.offDeviceDialogClosedStateSubject.asObservable()}closeOffDeviceAuthDialog(r){if(this.offDeviceAuthDialogRef){var v,et;const ht=null!=r?r:In.zD.Unknown;null===(v=this.offDeviceDialogSubscription)||void 0===v||v.unsubscribe(),this.offDeviceDialogSubscription=null,null===(et=this.offDeviceAuthDialogRef)||void 0===et||et.close(),this.offDeviceAuthDialogRef=void 0,this.loginStatus$.next({loginProcessComplete:!0,state:ht,errorMessage:"",retryAvailable:!0})}}get returnLocationURL(){var r;return null!==(r=this._returnLocationURL)&&void 0!==r?r:cn.nn.Home}updateReturnLocationURL(r){this._returnLocationURL=r?r===cn.nn.Base?cn.nn.Home:r:cn.nn.Home}getDefaultLoginProviderInfo(){return this.loginProviderInfo$.asObservable()}getLoginWallBackgroundContent(){return this.loginWallBackgroundData$.asObservable()}getLoginWallStrings(){return this.loginWallStrings$.asObservable()}getClientVersionString(){return this.clientVersionString$.asObservable()}getLearnMoreUrl(){return this.redirectService.getRedirectUrl(yt.hE.GfnPcInfo).pipe((0,o.q)(1),(0,Ve.U)(r=>({redirectURL:r,shortURL:yt.hD[yt.hE.GfnPcInfo]})))}getBackgroundInfo(r){return this.getBackgroundContentParameters(r).contentType===In.XS.Game?(0,J.of)({contentType:In.XS.Game,fallbackImageUrls:[""]}):(0,J.of)({contentType:In.XS.Catalog,fallbackImageUrls:[In.hs]})}initialize(){this.isLoginWallEnabled().pipe((0,o.q)(1),(0,En.h)(r=>r)).subscribe(r=>{this.initializeNavigateOnLogoutSubscription(),this.fetchProviderInfo(),this.fetchUnsupportedScenarioInfo(),this.fetchClientVersion(),this.fetchPWAInfo(),this.checkForOOBEClosed()})}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(s.ed),n.LFG(ii.No),n.LFG(is),n.LFG(cn.un),n.LFG($n.fI),n.LFG(Bn.zc),n.LFG(ls.g),n.LFG(s.CQ),n.LFG(yt.VH),n.LFG(Mo),n.LFG(ge.VK),n.LFG(R.TX),n.LFG(vi.rH),n.LFG(Sn.gb),n.LFG(s.OL),n.LFG(Xs),n.LFG(f.sK),n.LFG(ko.e),n.LFG(Sl.y),n.LFG(Pa.pl),n.LFG(Nt.H))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();const Ml=["gridContainer"],Ol=["getInButton"],bl=["leftPanel"],yl=["leftPanelContent"],El=["pwaPanelContent"];function xl(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",2)(1,"span",3),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div")(5,"a",4),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"div")(9,"button",5),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw();return n.KtG(v.onClickRetry())}),n._uU(10),n.ALo(11,"translate"),n.qZA()()()}if(2&nt){const Et=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,5,"common.genericLoadError")),n.xp6(3),n.Q6J("href",Et.serverStatusUrl,n.LSH)("shortUrl",Et.serverStatusShortUrl),n.xp6(1),n.hij(" ",n.lcZ(7,7,"common.viewServerStatus")," "),n.xp6(4),n.hij(" ",n.lcZ(11,9,"common.retry")," ")}}function Il(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(2);return n.KtG(et.onSettingsButtonClicked(v))}),n._UZ(1,"mat-icon",36),n.qZA()}if(2&nt){const Et=n.oxw(2);n.Q6J("disabled",Et.isSettingButtonDisabled)}}const La=function(nt){return{versionValue:nt}};function wl(nt,_t){if(1&nt&&(n.TgZ(0,"div",37),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"settings.about.version",n.VKq(4,La,Et.versionString))," ")}}function Ta(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(2);return n.KtG(et.onSettingsButtonClicked(v))}),n._UZ(1,"mat-icon",36),n.qZA()}if(2&nt){const Et=n.oxw(2);n.Q6J("disabled",Et.isSettingButtonDisabled)}}function Ll(nt,_t){if(1&nt&&(n.TgZ(0,"div",37),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"settings.about.version",n.VKq(4,La,Et.versionString))," ")}}function Tl(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",38)(1,"button",39),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(2);return n.KtG(et.slideToPwaPanel(v))}),n.TgZ(2,"div",40),n._UZ(3,"img",41),n.qZA()(),n.TgZ(4,"span",42),n._uU(5),n.ALo(6,"translate"),n.qZA()()}2&nt&&(n.xp6(3),n.Q6J("src","assets/img/rt_arrow.svg",n.LSH),n.xp6(2),n.Oqu(n.lcZ(6,2,"loginWall.pwaTitle")))}function Dl(nt,_t){if(1&nt&&(n.ynx(0),n.TgZ(1,"div",43),n._UZ(2,"div",44),n._uU(3),n.qZA(),n.BQk()),2&nt){const Et=_t.$implicit;n.xp6(3),n.hij(" ",Et," ")}}function Rl(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",48,49),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(3);return n.KtG(et.handleDefaultCTAClick(v))}),n._uU(2),n.ALo(3,"translate"),n.qZA()}2&nt&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"loginWall.getIn")," "))}function Al(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"button",54),n.NdJ("click",function(v){n.CHM(Et);const et=n.oxw(4);return n.KtG(et.cancelDefaultCTA(v))}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&nt&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"loginWall.cancelLogin")," "))}function Nl(nt,_t){if(1&nt&&(n.TgZ(0,"div",50)(1,"div",51),n._UZ(2,"mat-progress-spinner",52),n.qZA(),n.YNc(3,Al,3,3,"button",53),n.qZA()),2&nt){const Et=n.oxw(3);n.xp6(2),n.Q6J("diameter",20),n.xp6(1),n.Q6J("ngIf",Et.showCancelLogin)}}function Ul(nt,_t){if(1&nt&&(n.TgZ(0,"div",45),n.YNc(1,Rl,4,3,"button",46),n.YNc(2,Nl,4,2,"div",47),n.qZA()),2&nt){const Et=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!Et.defaultCTAInProgress),n.xp6(1),n.Q6J("ngIf",Et.defaultCTAInProgress)}}function kl(nt,_t){if(1&nt&&(n.TgZ(0,"a",29),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&nt){const Et=n.oxw(3);n.Q6J("href",Et.unsupportedLink.url,n.LSH)("shortUrl",Et.unsupportedLink.shortUrl),n.xp6(1),n.Oqu(n.lcZ(2,3,Et.unsupportedLink.text))}}function Da(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"a",58),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(3);return n.KtG(v.unsupportedLink.linkClickedCallback())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&nt){const Et=n.oxw(3);n.xp6(1),n.Oqu(n.lcZ(2,1,Et.unsupportedLink.text))}}function Fl(nt,_t){if(1&nt&&(n.TgZ(0,"div",55)(1,"span"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,kl,3,5,"a",56),n.YNc(5,Da,3,3,"a",57),n.qZA()),2&nt){const Et=n.oxw(2);n.xp6(2),n.hij("",n.lcZ(3,3,Et.unsupportedScenarioText)," "),n.xp6(2),n.Q6J("ngIf",!Et.unsupportedLink.linkClickedCallback),n.xp6(1),n.Q6J("ngIf",Et.unsupportedLink.linkClickedCallback)}}function Gl(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div")(1,"a",59),n.NdJ("click",function(){n.CHM(Et);const v=n.oxw(2);return n.KtG(v.onClickedOverrideToolPath())}),n._uU(2,"Override Tool "),n.qZA()()}}function Bl(nt,_t){if(1&nt&&(n.TgZ(0,"div",60)(1,"div",61,62)(3,"div",63),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"div",64)(7,"div",65),n._UZ(8,"mat-icon",66),n.qZA(),n.TgZ(9,"div")(10,"span",67),n._uU(11),n.ALo(12,"translate"),n.qZA(),n.TgZ(13,"span",37),n._uU(14),n.ALo(15,"translate"),n.qZA()()(),n._UZ(16,"mat-divider",68),n.TgZ(17,"div",64)(18,"div",65),n._UZ(19,"mat-icon",69),n.qZA(),n.TgZ(20,"div")(21,"span",67),n._uU(22),n.ALo(23,"translate"),n.qZA(),n._UZ(24,"span",70),n.ALo(25,"translate"),n.qZA()(),n._UZ(26,"mat-divider",68),n.TgZ(27,"div",64)(28,"div",65),n._UZ(29,"mat-icon",71),n.qZA(),n.TgZ(30,"div")(31,"span",67),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.TgZ(34,"span",37),n._uU(35),n.ALo(36,"translate"),n.qZA()()(),n._UZ(37,"mat-divider",68),n.TgZ(38,"div",72),n._UZ(39,"div",73),n.ALo(40,"trustAsHtml"),n.ALo(41,"translate"),n.qZA()()()),2&nt){const Et=n.oxw(2);n.xp6(4),n.Oqu(n.lcZ(5,8,"loginWall.pwaTitle")),n.xp6(7),n.hij("",n.lcZ(12,10,"iosPWA.instruction.step1"),"\xa0"),n.xp6(3),n.Oqu(n.lcZ(15,12,"loginWall.step1Text")),n.xp6(8),n.hij("",n.lcZ(23,14,"iosPWA.instruction.step2"),"\xa0"),n.xp6(2),n.Q6J("innerHtml",n.lcZ(25,16,"loginWall.step2Text"),n.oJD),n.xp6(8),n.hij("",n.lcZ(33,18,"iosPWA.instruction.step3"),"\xa0"),n.xp6(3),n.Oqu(n.lcZ(36,20,"iosPWA.instruction.step3Text")),n.xp6(4),n.Q6J("innerHTML",n.lcZ(40,22,n.xi3(41,24,"iosPWA.information",Et.pwaFAQUrlArgs)),n.oJD)}}function Hl(nt,_t){if(1&nt&&(n.ynx(0),n._UZ(1,"img",77),n.BQk()),2&nt){const Et=_t.$implicit;n.xp6(1),n.ekj("loaded",Et.loaded),n.s9C("src",Et.imageUrl,n.LSH)}}function Vl(nt,_t){if(1&nt&&(n.ynx(0),n.TgZ(1,"div",76),n.YNc(2,Hl,2,3,"ng-container",24),n.qZA(),n.BQk()),2&nt){const Et=_t.$implicit;n.xp6(2),n.Q6J("ngForOf",Et)}}function Wl(nt,_t){if(1&nt&&(n.TgZ(0,"div",74)(1,"div",75),n.YNc(2,Vl,3,1,"ng-container",24),n.qZA()()),2&nt){const Et=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",Et.imageGrid)}}function zl(nt,_t){if(1&nt&&n._UZ(0,"img",88),2&nt){const Et=n.oxw(3);n.s9C("src",Et.gameData.logoImageUrl,n.LSH)}}function Kl(nt,_t){if(1&nt&&(n.TgZ(0,"div",89),n._uU(1),n.qZA()),2&nt){const Et=n.oxw(3);n.xp6(1),n.Oqu(Et.gameData.gameTitle)}}function $l(nt,_t){if(1&nt&&n._UZ(0,"img",92),2&nt){const Et=n.oxw().$implicit;n.s9C("src",Et.logo,n.LSH)}}function Zl(nt,_t){if(1&nt&&(n.TgZ(0,"div",93),n._uU(1),n.qZA()),2&nt){const Et=n.oxw().$implicit;n.xp6(1),n.hij(" ",Et.label," ")}}function Yl(nt,_t){if(1&nt&&(n.ynx(0),n.YNc(1,$l,1,1,"img",90),n.YNc(2,Zl,2,1,"div",91),n.BQk()),2&nt){const Et=_t.$implicit;n.xp6(1),n.Q6J("ngIf",Et.logo),n.xp6(1),n.Q6J("ngIf",!Et.logo)}}function Ra(nt,_t){if(1&nt&&(n.TgZ(0,"div",78)(1,"div",79),n._UZ(2,"img",80)(3,"div",81),n.TgZ(4,"div",82),n.YNc(5,zl,1,1,"img",83),n.YNc(6,Kl,2,1,"div",84),n.TgZ(7,"span",85),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",86)(11,"div",87),n.YNc(12,Yl,3,2,"ng-container",24),n.qZA()()()()()),2&nt){const Et=n.oxw(2);n.Udp("--scrim-color",Et.gameData.scrimColor),n.xp6(1),n.ekj("game-data-loaded",Et.gameDataLoaded),n.xp6(1),n.s9C("src",Et.gameData.backgroundImageUrl,n.LSH),n.xp6(2),n.ekj("dark-background",Et.gameData.useDarkTheme),n.xp6(1),n.Q6J("ngIf",Et.gameData.logoImageUrl),n.xp6(1),n.Q6J("ngIf",!Et.gameData.logoImageUrl),n.xp6(2),n.Oqu(n.lcZ(9,11,"loginWall.availabeOn")),n.xp6(4),n.Q6J("ngForOf",Et.gameData.appStoresInfo)}}function Ql(nt,_t){if(1&nt){const Et=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"div",8),n._UZ(3,"mat-icon",9),n.qZA(),n.TgZ(4,"div",10),n.YNc(5,Il,2,1,"button",11),n.YNc(6,wl,3,6,"div",12),n.qZA()(),n.TgZ(7,"div",13),n.NdJ("transitionend",function(){n.CHM(Et);const v=n.oxw();return n.KtG(v.leftPanelContainerTransitioned())}),n._UZ(8,"div",14),n.TgZ(9,"div",8),n._UZ(10,"mat-icon",9),n.qZA(),n.TgZ(11,"div",10),n.YNc(12,Ta,2,1,"button",11),n.YNc(13,Ll,3,6,"div",12),n.qZA(),n.YNc(14,Tl,7,4,"div",15),n.TgZ(15,"div",16,17),n.NdJ("scroll",function(){n.CHM(Et);const v=n.oxw();return n.KtG(v.checkPanelContentInView())}),n.TgZ(17,"div",18)(18,"div",19,20)(20,"div",21)(21,"div",22),n._uU(22),n.qZA(),n.TgZ(23,"div",23),n.YNc(24,Dl,4,1,"ng-container",24),n.qZA()(),n.YNc(25,Ul,3,2,"div",25),n.YNc(26,Fl,6,5,"div",26),n.YNc(27,Gl,3,0,"div",27),n.TgZ(28,"div",28)(29,"a",29),n._uU(30),n.ALo(31,"translate"),n.qZA()()()(),n.YNc(32,Bl,42,27,"div",30),n.qZA()(),n._UZ(33,"div",31),n.TgZ(34,"div",32),n.YNc(35,Wl,3,1,"div",33),n.YNc(36,Ra,13,13,"div",34),n.qZA()()}if(2&nt){const Et=n.oxw();n.xp6(5),n.Q6J("ngIf",Et.showSettingsButton),n.xp6(1),n.Q6J("ngIf",Et.showVersionNumber),n.xp6(1),n.ekj("data-loaded",Et.dataLoaded)("pwa-guidance-shown",Et.isPwaGuidanceEnabled)("left-panel-content-active",Et.isLeftPanelContentInView)("pwa-panel-content-active",Et.isPwaPanelContentInView)("scrolling-view",!Et.isPwaPanelContentInView&&!Et.isLeftPanelContentInView),n.xp6(5),n.Q6J("ngIf",Et.showSettingsButton),n.xp6(1),n.Q6J("ngIf",Et.showVersionNumber),n.xp6(1),n.Q6J("ngIf",Et.isPwaGuidanceEnabled),n.xp6(8),n.Oqu(Et.title),n.xp6(2),n.Q6J("ngForOf",Et.contentStrings),n.xp6(1),n.Q6J("ngIf",Et.isGetInButtonEnabled),n.xp6(1),n.Q6J("ngIf",Et.isUnsupportedScenario),n.xp6(1),n.Q6J("ngIf",Et.enableOverrideToolLink),n.xp6(2),n.Q6J("href",Et.learnMoreUrl,n.LSH)("shortUrl",Et.learnMoreShortUrl),n.xp6(1),n.hij("",n.lcZ(31,29,"common.learnMore")," "),n.xp6(2),n.Q6J("ngIf",Et.isPwaGuidanceEnabled),n.xp6(2),n.ekj("left-panel-container-transitioned",Et.isLeftPanelContainerTransitioned),n.Q6J("ngSwitch",Et.backgroundContentType),n.xp6(1),n.Q6J("ngSwitchCase",Et.backgroundContentTypes.Catalog),n.xp6(1),n.Q6J("ngSwitchCase",Et.backgroundContentTypes.Game)}}let jl=(()=>{var nt;class _t{get defaultCTAInProgress(){return this._defaultCTAInProgress}set defaultCTAInProgress(r){this._defaultCTAInProgress=r,r||this.loginWallService.isOffDeviceDialogClosed().pipe((0,En.h)(v=>v),(0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(v=>{setTimeout(()=>{var et;this.focusManager.focusViaLastOrigin(null===(et=this.getInButton)||void 0===et?void 0:et.nativeElement)},0)}),r?this.updateCancelButton(!0,this.cancelButtonPreLoginDelay):this.updateCancelButton(!1)}updateCancelButton(r,v=0){clearTimeout(this.cancelButtonEnableTimer),r?v?this.cancelButtonEnableTimer=setTimeout(()=>{this._showCancelLogin=!0},v):this._showCancelLogin=!0:this._showCancelLogin=!1}get isPwaGuidanceEnabled(){return this._isPwaGuidanceEnabled}set isPwaGuidanceEnabled(r){this._isPwaGuidanceEnabled=r}get showSettingsButton(){return!this.isPwaGuidanceEnabled&&this._showSettingsButton}set showSettingsButton(r){this._showSettingsButton=r}get isSettingButtonDisabled(){return this.defaultCTAInProgress}get isUnsupportedScenario(){return!this.isPwaGuidanceEnabled&&this._isUnsupportedScenario}set isUnsupportedScenario(r){this._isUnsupportedScenario=r}get showVersionNumber(){return this.isPwaGuidanceEnabled||!this.showSettingsButton}get isGetInButtonEnabled(){return!this.isPwaGuidanceEnabled}get showCancelLogin(){return!this._isSameTabLoginEnabled&&this._showCancelLogin}constructor(r,v,et,ht,Ot,Ft,Ht,ae,Me,Ne,ke){var Ze,on,sn;this.loggingService=r,this.userActivationGuardService=v,this.loginWallService=et,this.dialogService=ht,this.router=Ot,this.backNavigationService=Ft,this.appLaunchPerformanceService=Ht,this.spatialNavigationService=ae,this.focusManager=Me,this.appConfig=Ne,this.browseUxService=ke,this.shouldEnableBackToExitApp=!1,this.destroy$=new S.xQ,this.imageGrid=[],this.gameData={useDarkTheme:!1,gameTitle:"",backgroundImageUrl:"",logoImageUrl:"",appStoresInfo:[],scrimColor:"0, 0, 0"},this.backgroundContentType=In.XS.Unknown,this.urlsAvailable=!1,this.backgroundContentTypes=In.XS,this.dataLoaded=!1,this.gameDataLoaded=!1,this.isLeftPanelContentInView=!0,this.isPwaPanelContentInView=!1,this.isLeftPanelContainerTransitioned=!1,this.leftPanelContainerTransitionDelay=2e3,this.enableOverrideToolLink=!1,this._isSameTabLoginEnabled=!1,this._isPwaGuidanceEnabled=!1,this._showSettingsButton=!1,this._isUnsupportedScenario=!1,this._showCancelLogin=!1,this.showError=!1,this.logger=this.loggingService.getLogger("LoginWallPageComponent"),this.shouldEnableBackToExitApp=!(null===(Ze=Ne.backNavigation)||void 0===Ze||!Ze.backToExitApp),this.appLaunchPerformanceService.onLoginWallRenderStart();const un=null===(on=this.router.getCurrentNavigation())||void 0===on||null===(on=on.extras)||void 0===on?void 0:on.state;this.initialURL=null==un?void 0:un.initialURL;const vn=(null==un||null===(sn=un.queryParamMap)||void 0===sn?void 0:sn.params)||{};this.initialQueryParams=new Map,Object.keys(vn).forEach(Dn=>{this.initialQueryParams.set(Dn,vn[Dn])}),this.loginWallService.updateReturnLocationURL(this.initialURL),this.loginWallService.initiateContentFetch(this.initialQueryParams),this.cancelButtonPreLoginDelay=this.appConfig.loginWallConfig.cancelButtonPreLoginDelay,this.cancelButtonPostLoginDelay=this.appConfig.loginWallConfig.cancelButtonPostLoginDelay,this.enableOverrideToolLink=this.browseUxService.enableOverrideToolLink}ngOnInit(){this.loginWallService.initializeNavigationSubscription(),this.getBackgroundInfo(),this.renderStrings(),this.getClientVersionString(),this.getLearnMoreUrl(),this.renderBackgroundContent(),this.manageProviderPicker(),this.onSettingsButtonClicked=this.userActivationGuardService.guard(R.Ku.Link,this.onSettingsButtonClicked.bind(this)),this.handleDefaultCTAClick=this.userActivationGuardService.guard(R.Ku.Link,this.handleDefaultCTAClick.bind(this)),this.getUnsupportedScenarioInfo(),this.getPWAInfo(),this.getServerErrorURLs(),this.shouldEnableBackToExitApp&&this.backNavigationService.enableBackToExitApp(),this.checkForSameTabLogin()}ngAfterViewInit(){this.handleDefaultFocus()}handleDefaultFocus(){this.loginWallService.enableFocusOnDefaultCTA().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{var v;this.previousSpatialNavigationActivation=this.spatialNavigationService.activated,this.spatialNavigationService.enabled&&!this.previousSpatialNavigationActivation&&(this.spatialNavigationService.activated=!0),this.focusManager.focusViaLastOrigin(null===(v=this.getInButton)||void 0===v?void 0:v.nativeElement)})}checkForSameTabLogin(){this.loginWallService.isSameTabLoginEnabled().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this._isSameTabLoginEnabled=r},r=>{this._isSameTabLoginEnabled=!1})}getServerErrorURLs(){this.loginWallService.getServerErrorURLs().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(([r,v])=>{this.serverStatusShortUrl=v,this.serverStatusUrl=r},Vn.Z)}getUnsupportedScenarioInfo(){this.loginWallService.getUnsupportedScenarioInfo().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this.unsupportedScenarioText=r.text,this.unsupportedLink=r.link,this.isUnsupportedScenario=!!this.unsupportedScenarioText})}getLearnMoreUrl(){this.loginWallService.getLearnMoreUrl().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this.learnMoreUrl=r.redirectURL,this.learnMoreShortUrl=r.shortURL})}getClientVersionString(){this.loginWallService.getClientVersionString().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this.versionString=r})}getPWAInfo(){this.loginWallService.getPWAInfo().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this.isPwaGuidanceEnabled=null==r?void 0:r.shouldShowPWAGuidance,this.pwaFAQUrlArgs={faqLink:`class="font-body2-link" href="${null==r?void 0:r.faqUrl}"`}})}getBackgroundInfo(){this.loginWallService.getBackgroundInfo(this.initialQueryParams).pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{this.backgroundFallbackImages=r.fallbackImageUrls,this.backgroundContentType=r.contentType},Vn.Z)}onSettingsButtonClicked(r){(0,Wn.aj)([this.loginWallService.getClientVersionString(),this.loginWallService.getDefaultLoginProviderInfo()]).pipe((0,o.q)(1),(0,l.R)(this.destroy$),(0,vt.zg)(([v,et])=>this.dialogService.showProviderSwitchDialog(v,`${et.defaultProvider} (${et.countryCode})`))).subscribe(v=>{v&&this.attemptLogin(!0)})}leftPanelContainerTransitioned(){this.isLeftPanelContainerTransitioned=!0}checkPanelContentInView(){this.isPwaGuidanceEnabled&&(this.isPwaPanelContentInView=this.isPanelInView(this.pwaPanelContent),this.isLeftPanelContentInView=this.isPanelInView(this.leftPanelContent),void 0===this.isPwaPanelContentInView&&(this.isPwaPanelContentInView=!1,this.isLeftPanelContentInView=!0))}isPanelInView(r){var v,et;if(null==r||!r.nativeElement)return;const ht=null===(v=r.nativeElement)||void 0===v?void 0:v.getBoundingClientRect(),Ft=(null==ht?void 0:ht.bottom)<=(null===(et=window)||void 0===et?void 0:et.innerHeight);return(null==ht?void 0:ht.top)>=0&&Ft}renderStrings(){this.loginWallService.getLoginWallStrings().pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(r=>{let v;this.title=r.title,v=this.backgroundContentType===In.XS.Game?In.cH:In.uM,this.contentStrings=Object.keys(r).filter(et=>et.startsWith(v)).map(et=>r[et]),this.dataLoaded=!0,setTimeout(()=>{this.isLeftPanelContainerTransitioned||this.leftPanelContainerTransitioned()},this.leftPanelContainerTransitionDelay)})}onClickRetry(){this.showError=!1,this.loginWallService.initiateContentFetch(this.initialQueryParams)}renderBackgroundContent(){this.backgroundContentType===In.XS.Catalog&&this.createGrid(),this.loginWallService.getLoginWallBackgroundContent().pipe((0,l.R)(this.destroy$)).subscribe(r=>{if(null!=r&&r.data)switch(this.backgroundContentType){case In.XS.Catalog:this.catalogData={...r.data},this.reorderImageList(),this.updateGrid();break;case In.XS.Game:this.gameData={...r.data},this.gameDataLoaded=!0,this.appLaunchPerformanceService.onLoginWallRenderEnd()}else this.showError=!0})}manageProviderPicker(){this.loginWallService.getDefaultLoginProviderInfo().pipe((0,l.R)(this.destroy$)).subscribe(r=>{this.showSettingsButton=r.allowProviderSwitch},r=>{this.logger.error("Error showing switch provider picker.",r)})}handleLoginFailure(r,v){this.dialogService.showLoginFailedDialog(v).pipe((0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(et=>{et&&this.attemptLogin(r)})}handleDefaultCTAClick(r){this.attemptLogin(!1)}attemptLogin(r){this.defaultCTAInProgress=!0,this.loginWallService.getLoginStatus$().pipe((0,gt.b)(v=>{v.state===In.zD.RedirectCompleted&&(this.updateCancelButton(!1),this.updateCancelButton(!0,this.cancelButtonPostLoginDelay))}),(0,En.h)(v=>v.loginProcessComplete),(0,o.q)(1),(0,l.R)(this.destroy$)).subscribe(v=>{this.defaultCTAInProgress=!1,v.state===In.zD.Failure&&setTimeout(()=>{this.handleLoginFailure(r,v.retryAvailable)},0)}),this.loginWallService.attemptLogin(r)}cancelDefaultCTA(r){this.loginWallService.cancelLogin()}slideToPwaPanel(r){const v=this.leftPanel.nativeElement;v.scrollTo({top:v.clientHeight,behavior:"smooth"})}createGrid(){for(let r=0;r<In.HV;r++){this.imageGrid[r]=[];for(let v=0;v<In.Wt;v++)this.imageGrid[r].push({imageUrl:this.backgroundFallbackImages[(r*In.HV+v)%this.backgroundFallbackImages.length],loaded:!1})}}updateImageSrc(r,v,et){this.imageGrid[r][v].imageUrl=et,this.imageGrid[r][v].loaded=!0}reorderImageList(){const r=[];this.catalogData.imageUrls.forEach((v,et)=>{const ht=In.zz.indexOf(et+1);-1!==ht&&(r[ht]=v)}),this.catalogData.imageUrls=r}updateGrid(){for(let r=0;r<In.HV;r++)for(let v=0;v<In.Wt;v++){const et=new Image,Ot=this.catalogData.imageUrls[r*In.HV+v];Ot&&(et.src=Ot,et.onload=this.updateImageSrc.bind(this,r,v,et.src))}this.appLaunchPerformanceService.onLoginWallRenderEnd()}onClickedOverrideToolPath(){this.browseUxService.openOverrideToolPage()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),clearTimeout(this.cancelButtonEnableTimer),this.spatialNavigationService.activated=this.previousSpatialNavigationActivation,this.shouldEnableBackToExitApp&&this.backNavigationService.disableBackToExitApp()}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.Y36(s.ed),n.Y36(R.wI),n.Y36(wa),n.Y36(Or),n.Y36(Bt.F0),n.Y36(R.SL),n.Y36(Xs),n.Y36(R.jr),n.Y36(R.IK),n.Y36(ge.VK),n.Y36(Mo))},nt.\u0275cmp=n.Xpm({type:nt,selectors:[["login-wall-page"]],viewQuery:function(r,v){if(1&r&&(n.Gf(Ml,5),n.Gf(Ol,5,n.SBq),n.Gf(bl,5),n.Gf(yl,5),n.Gf(El,5)),2&r){let et;n.iGM(et=n.CRH())&&(v.gridContainer=et.first),n.iGM(et=n.CRH())&&(v.getInButton=et.first),n.iGM(et=n.CRH())&&(v.leftPanel=et.first),n.iGM(et=n.CRH())&&(v.leftPanelContent=et.first),n.iGM(et=n.CRH())&&(v.pwaPanelContent=et.first)}},decls:2,vars:2,consts:[["fxFlexFill","","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxFlexFill","",4,"ngIf"],["fxFlexFill","","fxLayout","column","fxLayoutAlign","center center"],[1,"font-body1"],["target","_blank",1,"font-body2-link",3,"href","shortUrl"],["mat-raised-button","","mat-button","","color","accent","aria-label","Retry",1,"retry-button","font-button2",3,"click"],["fxLayout","column","fxFlexFill",""],[1,"small-screen"],[1,"nv-branding"],["svgIcon","gfnBranding"],[1,"settings-container"],["mat-icon-button","","data-focus-loss-exempt","","class","settings-button font-button2",3,"disabled","click",4,"ngIf"],["class","font-body2",4,"ngIf"],["fxFlex","",1,"left-panel-container",3,"transitionend"],["fxFill","",1,"left-panel-background"],["fxLayout","column","fxLayoutAlign","end center","class","pwa-setup-button-container",4,"ngIf"],["fxFill","","fxLayout","column",1,"left-panel",3,"scroll"],["leftPanel",""],["fxFill","","fxLayout","column","fxLayoutAlign","center",1,"left-panel-content"],["fxFlex","","fxLayout","column",1,"scrollable-content"],["leftPanelContent",""],[1,"marketing-content"],[1,"title"],[1,"content-strings-container"],[4,"ngFor","ngForOf"],["class","default-cta-container",4,"ngIf"],["class","unsupported-scenario-container",4,"ngIf"],[4,"ngIf"],[1,"learn-more"],["target","_blank","cdkMonitorElementFocus","",1,"font-body2-link",3,"href","shortUrl"],["fxLayout","column","fxLayoutAlign","center","class","pwa-panel-content","fxFill","",4,"ngIf"],[1,"scrim-overlay"],[1,"background-container",3,"ngSwitch"],["fxFill","","class","grid-container-background",4,"ngSwitchCase"],["fxFill","","class","game-image-container-background",3,"--scrim-color",4,"ngSwitchCase"],["mat-icon-button","","data-focus-loss-exempt","",1,"settings-button","font-button2",3,"disabled","click"],["svgIcon","settings"],[1,"font-body2"],["fxLayout","column","fxLayoutAlign","end center",1,"pwa-setup-button-container"],["mat-icon-button","","data-focus-loss-exempt","",1,"set-up-button",3,"click"],["fxLayout","column","fxLayoutAlign","center center"],[1,"set-up-button-img",3,"src"],[1,"font-body2","set-up-caption"],[1,"font-body2","content-string"],[1,"green-circle"],[1,"default-cta-container"],["class","get-in-button font-button2","mat-raised-button","","color","accent","id","getInButton",3,"click",4,"ngIf"],["class","cancel-login-container",4,"ngIf"],["mat-raised-button","","color","accent","id","getInButton",1,"get-in-button","font-button2",3,"click"],["getInButton",""],[1,"cancel-login-container"],[1,"spinner-container"],["mode","indeterminate",1,"mat-accent",3,"diameter"],["mat-button","","class","cancel-login-button mat-button font-button2",3,"click",4,"ngIf"],["mat-button","",1,"cancel-login-button","mat-button","font-button2",3,"click"],[1,"unsupported-scenario-container"],["target","_blank","class","font-body2-link","cdkMonitorElementFocus","",3,"href","shortUrl",4,"ngIf"],["class","font-body2-link","cdkMonitorElementFocus","",3,"click",4,"ngIf"],["cdkMonitorElementFocus","",1,"font-body2-link",3,"click"],["cdkMonitorElementFocus","","tabIndex","0",1,"font-body2-link",3,"click"],["fxLayout","column","fxLayoutAlign","center","fxFill","",1,"pwa-panel-content"],["fxLayout","column","fxLayoutAlign","center stretch",1,"scrollable-content"],["pwaPanelContent",""],[1,"font-header6","pwa-title"],["fxLayout","row","fxLayoutAlign","start stretch",1,"pwa-instruction-step"],["fxLayout","column","fxLayoutAlign","center",1,"pwa-steps-icon"],["svgIcon","ios_share"],[1,"font-sub2"],["fxFlex","none",1,"divider"],["svgIcon","add_square"],[1,"font-body2",3,"innerHtml"],["svgIcon","nvidia_logo_green"],["fxLayout","row","fxLayoutAlign","start center",1,"pwa-faq-info"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFill","",1,"grid-container-background"],[1,"grid-container"],[1,"grid-row"],[1,"grid-item","image-transition",3,"src"],["fxFill","",1,"game-image-container-background"],[1,"game-image-container"],[1,"game-image",3,"src"],[1,"game-data-container-scrim"],[1,"game-data-container"],["class","game-logo",3,"src",4,"ngIf"],["class","game-title",4,"ngIf"],[1,"font-body3-italic","available-on-text"],[1,"app-store-info"],["flexLayout","row","fxLayoutAlign","center center",1,"app-store-images"],[1,"game-logo",3,"src"],[1,"game-title"],["class","app-store-image",3,"src",4,"ngIf"],["class","app-store-label",4,"ngIf"],[1,"app-store-image",3,"src"],[1,"app-store-label"]],template:function(r,v){1&r&&(n.YNc(0,xl,12,11,"div",0),n.YNc(1,Ql,37,31,"div",1)),2&r&&(n.Q6J("ngIf",v.showError),n.xp6(1),n.Q6J("ngIf",!v.showError))},dependencies:[e.sg,e.O5,e.RF,e.n9,b.xw,b.Wh,b.s9,b.yH,y.eB,M.d,a.Ou,q.Hw,Vt.xZ,K.E,tt.p,ut.VP,F.kH,f.X$,U.W],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 24px) / 4);--rwd-sidebar-width: 0px}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 32px - 56px) / 8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - var(--rwd-sidebar-width) - 48px - 176px) / 12)}}[_ngcontent-%COMP%]:root{--hig-marquee-ratio: .3229;--hig-marquee-parent-container-width: 100vw;--hig-marquee-container-height: calc(var(--hig-marquee-ratio) * 100vw);--hig-marquee-corner-column: 56px;--hig-marquee-text-column: 14vw;--hig-marquee-padded-image-first-row: calc(var(--hig-marquee-ratio) * (100vw - var(--hig-marquee-corner-column) - var(--hig-marquee-text-column)));--hig-marquee-padded-image-second-row: calc(var(--hig-marquee-container-height) - var(--hig-marquee-padded-image-first-row))}[_nghost-%COMP%]{--background-base-height: max(100vh, 50vw);--panel-width: calc(calc(4 * var(--rwd-column-size) + 3 * var(--rwd-gutter-size)) + var(--rwd-container-side-spacing));--appbar_height: 56px;--branding_logo_width: 186px;--settings_icon_height: 24px;--settings_button_height: 48px;--left-panel-top-spacing: 24px;--left-panel-right-spacing: 40px;--left-panel-bottom-spacing: 24px;--left-panel-left-spacing: 24px;--left-panel-content-top-spacing: calc(calc(var(--left-panel-top-spacing) + var(--appbar_height)) + 8px);--left-panel-content-right-spacing: var(--left-panel-right-spacing);--left-panel-content-bottom-spacing: calc(var(--left-panel-bottom-spacing) + var(--settings_icon_height));--left-panel-content-left-spacing: calc( var(--left-panel-left-spacing) + var(--rwd-container-side-spacing) );--settings-container-left-spacing: var(--left-panel-content-left-spacing)}.pwa-guidance-shown[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.pwa-panel-content){--left-panel-content-bottom-spacing: calc(64px + var(--left-panel-bottom-spacing))}.pwa-panel-content[_ngcontent-%COMP%]{--left-panel-content-bottom-spacing: var(--left-panel-bottom-spacing)}.pwa-guidance-shown[_ngcontent-%COMP%]{--settings-container-left-spacing: calc( calc(var(--left-panel-content-left-spacing) + var(--left-panel-right-spacing)) + var(--branding_logo_width) )}.small-screen[_ngcontent-%COMP%]{display:none}.retry-button[_ngcontent-%COMP%]{margin:16px}.left-panel-container[_ngcontent-%COMP%]{z-index:1;position:absolute;height:100%;transform:translate3d(calc(var(--panel-width) * -1),0,0);transition:transform ease-in-out 1s;background-size:cover;width:var(--panel-width);box-sizing:border-box;display:none;background:linear-gradient(90deg,#000000 0%,rgba(0,0,0,.95) 28%,rgba(0,0,0,.85) 60%,rgba(0,0,0,.6) 100%);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-right:8px solid #76b900}.isLtr[_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{display:block}.isRtl[_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{display:block;transform:translate3d(var(--panel-width),0,0)}.left-panel-container.data-loaded[_ngcontent-%COMP%]{transform:translateZ(0)}.isRtl[_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{background:linear-gradient(270deg,#000000 0%,rgba(0,0,0,.95) 28%,rgba(0,0,0,.85) 60%,rgba(0,0,0,.6) 100%);border-right:none;border-left:8px solid #76b900}.isRtl[_nghost-%COMP%]   .left-panel-container.data-loaded[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container.data-loaded[_ngcontent-%COMP%]{transform:translateZ(0)}.left-panel-background[_ngcontent-%COMP%]{position:absolute;background-image:url(assets/hashed/LoginWallContentBackground.4f31f7e5ab664d7d.png);opacity:30%;background-size:cover;z-index:-2}.left-panel[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;overflow-y:auto;scrollbar-width:none;scroll-snap-type:y mandatory;z-index:-1}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.left-panel-content[_ngcontent-%COMP%], .pwa-panel-content[_ngcontent-%COMP%]{scroll-snap-align:start}.isLtr[_nghost-%COMP%]   .left-panel-content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .left-panel-content[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{padding:var(--left-panel-content-top-spacing) var(--left-panel-content-right-spacing) var(--left-panel-content-bottom-spacing) var(--left-panel-content-left-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .left-panel-content[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{--dummy: 0;padding:var(--left-panel-content-top-spacing) var(--left-panel-content-right-spacing) var(--left-panel-content-bottom-spacing) var(--left-panel-content-left-spacing)}.isRtl[_nghost-%COMP%]   .left-panel-content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-content[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{padding:var(--left-panel-content-top-spacing) var(--left-panel-content-left-spacing) var(--left-panel-content-bottom-spacing) var(--left-panel-content-right-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .left-panel-content[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{--dummy: 0;padding:var(--left-panel-content-top-spacing) var(--left-panel-content-left-spacing) var(--left-panel-content-bottom-spacing) var(--left-panel-content-right-spacing)}.scrollable-content[_ngcontent-%COMP%]{overflow-y:auto}.nv-branding[_ngcontent-%COMP%]{top:var(--left-panel-top-spacing);position:absolute;width:fit-content;height:fit-content}.isLtr[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{left:var(--left-panel-content-left-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;left:var(--left-panel-content-left-spacing)}.isRtl[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{right:var(--left-panel-content-left-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;right:var(--left-panel-content-left-spacing)}.nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:var(--branding_logo_width);height:var(--appbar_height);pointer-events:none}.settings-container[_ngcontent-%COMP%]{position:absolute;bottom:var(--left-panel-bottom-spacing);word-wrap:break-word}.isLtr[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{left:var(--settings-container-left-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy5: 0;left:var(--settings-container-left-spacing)}.isRtl[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{right:var(--settings-container-left-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy5: 0;right:var(--settings-container-left-spacing)}.isLtr[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{right:var(--left-panel-right-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;right:var(--left-panel-right-spacing)}.isRtl[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{left:var(--left-panel-right-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;left:var(--left-panel-right-spacing)}.pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{top:var(--left-panel-top-spacing);min-height:var(--appbar_height);max-height:var(--appbar_height);box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:flex-end}.isLtr[_nghost-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:right}html[dir=ltr][_ngcontent-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.isRtl[_nghost-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:left}html[dir=rtl][_ngcontent-%COMP%]   .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.pwa-guidance-shown[_ngcontent-%COMP%]   .settings-button[_ngcontent-%COMP%]{transform:translate(25%)}.settings-button[_ngcontent-%COMP%]{height:var(--settings_button_height);width:var(--settings_button_height);line-height:unset;transform:translate(-25%,25%)}.settings-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:var(--settings_icon_height);width:var(--settings_icon_height);background-size:contain}.pwa-setup-button-container[_ngcontent-%COMP%]{transition:opacity linear .2;position:absolute;width:100%;bottom:var(--left-panel-bottom-spacing);box-sizing:border-box}.isLtr[_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{padding-left:var(--left-panel-content-left-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:var(--left-panel-content-left-spacing)}.isRtl[_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{padding-right:var(--left-panel-content-left-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:var(--left-panel-content-left-spacing)}.isLtr[_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{padding-right:var(--left-panel-content-right-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:var(--left-panel-content-right-spacing)}.isRtl[_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{padding-left:var(--left-panel-content-right-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:var(--left-panel-content-right-spacing)}.set-up-button[_ngcontent-%COMP%]{max-height:40px;max-width:40px;margin-bottom:4px}.set-up-button-img[_ngcontent-%COMP%]{transform:rotate(90deg);border-radius:20px;background-color:#76b900;box-shadow:0 0 0 5px #76b9001a;height:30px;background-size:contain}.set-up-caption[_ngcontent-%COMP%]{text-transform:lowercase}.set-up-caption[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.left-panel-content[_ngcontent-%COMP%], .pwa-panel-content[_ngcontent-%COMP%], .pwa-setup-button-container[_ngcontent-%COMP%]{transition:opacity linear .2}.left-panel-content-active[_ngcontent-%COMP%]   .left-panel-content[_ngcontent-%COMP%]{opacity:1}.left-panel-content-active[_ngcontent-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{opacity:0}.left-panel-content-active[_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{opacity:1}.pwa-panel-content-active[_ngcontent-%COMP%]   .left-panel-content[_ngcontent-%COMP%]{opacity:0}.pwa-panel-content-active[_ngcontent-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{opacity:1}.pwa-panel-content-active[_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{pointer-events:none;display:none;opacity:0}.scrolling-view[_ngcontent-%COMP%]   .left-panel-content[_ngcontent-%COMP%], .scrolling-view[_ngcontent-%COMP%]   .pwa-panel-content[_ngcontent-%COMP%]{opacity:.5}.scrolling-view[_ngcontent-%COMP%]   .pwa-setup-button-container[_ngcontent-%COMP%]{pointer-events:none}.pwa-title[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:8px}.divider[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}.isLtr[_nghost-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .pwa-steps-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}.default-cta-container[_ngcontent-%COMP%]{margin-bottom:32px}.green-circle[_ngcontent-%COMP%]{height:8px;width:8px;background-color:#76b900;border-radius:50%;margin-top:4px}.isLtr[_nghost-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .green-circle[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .green-circle[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.cancel-login-container[_ngcontent-%COMP%]{display:flex;align-items:center}.spinner-container[_ngcontent-%COMP%]{min-height:36px;display:flex}.isLtr[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.spinner-container[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.unsupported-scenario-container[_ngcontent-%COMP%]{margin-bottom:16px}.marketing-content[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:32px}.marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:24px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700}.tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]{display:flex;flex-direction:row}.marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}.learn-more[_ngcontent-%COMP%], .pwa-faq-info[_ngcontent-%COMP%]{margin-bottom:auto}.background-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%}.grid-container-background[_ngcontent-%COMP%]{overflow:hidden;position:absolute;background:radial-gradient(75% 75% at 65% 25%,#494949 0%,#000000 100%)}.isRtl[_nghost-%COMP%]   .grid-container-background[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .grid-container-background[_ngcontent-%COMP%]{background:radial-gradient(75% 75% at 35% 25%,#494949 0%,#000000 100%)}.grid-container[_ngcontent-%COMP%]{height:calc(1.66 * var(--background-base-height));width:calc(2.5 * var(--background-base-height));box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;transform:translateY(-50%) rotate(345deg);position:absolute;top:50%}.isRtl[_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(15deg)}.isLtr[_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%]{right:calc(-.12 * var(--background-base-height))}html[dir=ltr][_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{--dummy6: 0;right:calc(-.12 * var(--background-base-height))}.isRtl[_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%]{left:calc(-.12 * var(--background-base-height))}html[dir=rtl][_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{--dummy6: 0;left:calc(-.12 * var(--background-base-height))}.grid-row[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between}.image-transition[_ngcontent-%COMP%]{height:calc(.22 * var(--background-base-height));transition:opacity .5s ease-in-out;opacity:.5}.grid-item[_ngcontent-%COMP%]{object-fit:contain;height:calc(.22 * var(--background-base-height))}.loaded[_ngcontent-%COMP%]{opacity:1}.grid-row[_ngcontent-%COMP%]{position:relative}.isLtr[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd), .isLtr   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd){right:calc(-.1 * var(--background-base-height))}html[dir=ltr][_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd){--dummy6: 0;right:calc(-.1 * var(--background-base-height))}.isRtl[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd), .isRtl   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd){left:calc(-.1 * var(--background-base-height))}html[dir=rtl][_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(odd){--dummy6: 0;left:calc(-.1 * var(--background-base-height))}.isLtr[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n), .isLtr   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n){right:calc(.1 * var(--background-base-height))}html[dir=ltr][_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n){--dummy6: 0;right:calc(.1 * var(--background-base-height))}.isRtl[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n), .isRtl   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n){left:calc(.1 * var(--background-base-height))}html[dir=rtl][_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]:nth-child(2n){--dummy6: 0;left:calc(.1 * var(--background-base-height))}.game-image-container-background[_ngcontent-%COMP%]{background:rgba(var(--scrim-color))}.game-image-container[_ngcontent-%COMP%]{display:none}.game-image-container.game-data-loaded[_ngcontent-%COMP%]{display:block}.game-image[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:cover;position:absolute;top:0;background-image:url(assets/hashed/DefaultGameArt-TVBanner.c0134135205b12b0.jpg);-webkit-mask-image:linear-gradient(to left,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%),linear-gradient(to bottom,#000000 0%,#000000 85%,rgba(255,0,0,0) 100%);mask-image:linear-gradient(to left,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%),linear-gradient(to bottom,#000000 0%,#000000 85%,rgba(255,0,0,0) 100%);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-composite:source-in,xor;mask-composite:intersect}.isLtr[_nghost-%COMP%]   .game-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-image[_ngcontent-%COMP%]{right:0}html[dir=ltr][_ngcontent-%COMP%]   .game-image[_ngcontent-%COMP%]{--dummy6: 0;right:0}.isRtl[_nghost-%COMP%]   .game-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-image[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .game-image[_ngcontent-%COMP%]{--dummy6: 0;left:0}.isRtl[_nghost-%COMP%]   .game-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-image[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%),linear-gradient(to bottom,#000000 0%,#000000 85%,rgba(255,0,0,0) 100%);mask-image:linear-gradient(to right,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%),linear-gradient(to bottom,#000000 0%,#000000 85%,rgba(255,0,0,0) 100%)}.game-data-container[_ngcontent-%COMP%]{position:absolute;width:calc(4 * var(--rwd-column-size) + 3 * var(--rwd-gutter-size));margin-bottom:24px;height:100%;min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center}.isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:var(--rwd-container-side-spacing)}html[dir=ltr][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:var(--rwd-container-side-spacing)}.isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:var(--rwd-container-side-spacing)}html[dir=rtl][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:var(--rwd-container-side-spacing)}.dark-background[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%], .dark-background[_ngcontent-%COMP%]   .available-on-text[_ngcontent-%COMP%], .dark-background[_ngcontent-%COMP%]   .app-store-label[_ngcontent-%COMP%]{color:#000000e6}.dark-background[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]{filter:invert(1)}.game-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700}.tv-view[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.app-store-label[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .app-store-label[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.isLtr[_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child), .isLtr   [_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child){margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child), .isRtl   [_nghost-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child){margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .app-store-label[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-left:24px}.game-logo[_ngcontent-%COMP%]{object-fit:contain;width:75%}.app-store-images[_ngcontent-%COMP%]{margin-bottom:var(--left-panel-bottom-spacing);min-height:24px}.app-store-image[_ngcontent-%COMP%]{width:24px}.isLtr[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-left:24px}.available-on-text[_ngcontent-%COMP%]{color:#ffffffe6;display:flex;justify-content:center;margin:8px}@media (max-width: 479px){[_nghost-%COMP%]{--branding_logo_width: 120px;--appbar_height: 36px;--panel-height: 360px;--background-base-height: max(calc(100vh - var(--panel-height)), 50vw);--panel-width: calc( calc(4 * var(--rwd-column-size) + 3 * var(--rwd-gutter-size)) + calc(2 * var(--rwd-container-side-spacing)) );--left-panel-top-spacing: 40px;--left-panel-right-spacing: 8px;--left-panel-bottom-spacing: 40px;--left-panel-left-spacing: 8px;--left-panel-content-top-spacing: 16px;--left-panel-content-right-spacing: calc( var(--left-panel-right-spacing) + var(--rwd-container-side-spacing) );--left-panel-content-bottom-spacing: calc(var(--left-panel-bottom-spacing) + var(--settings_icon_height));--left-panel-content-left-spacing: calc( var(--left-panel-left-spacing) + var(--rwd-container-side-spacing) );--settings-container-left-spacing: calc( calc(var(--left-panel-left-spacing) + var(--left-panel-right-spacing)) + var(--branding_logo_width) )}.small-screen[_ngcontent-%COMP%]{display:block;position:fixed;top:0;height:100%;width:100%;z-index:2;background-color:transparent}.isLtr[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]{--dummy5: 0;right:0}.small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{position:fixed;top:var(--left-panel-top-spacing);display:block}.isLtr[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{left:16px}html[dir=ltr][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;left:16px}.isRtl[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{right:16px}html[dir=rtl][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;right:16px}.small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{display:block;position:fixed;top:var(--left-panel-top-spacing);height:var(--appbar_height);display:flex;flex-direction:column;justify-content:center;align-items:flex-end}.isLtr[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{right:16px}html[dir=ltr][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;right:16px}.isRtl[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{left:16px}html[dir=rtl][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;left:16px}.isLtr[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:right}html[dir=ltr][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.isRtl[_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:left}html[dir=rtl][_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.small-screen[_ngcontent-%COMP%]   .settings-button[_ngcontent-%COMP%]{transform:translate(25%)}.nv-branding[_ngcontent-%COMP%], .settings-container[_ngcontent-%COMP%], .pwa-guidance-shown[_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{display:none}.scrim-overlay[_ngcontent-%COMP%]{position:absolute;top:0;height:var(--background-base-height);width:100%;background:linear-gradient(180deg,#191919 0%,rgba(25,25,25,.65) 64%,rgba(25,25,25,.56) 71%,rgba(25,25,25,.44) 78%,rgba(25,25,25,.18) 90%,rgba(25,25,25,0) 100%);z-index:1}.isLtr[_nghost-%COMP%]   .scrim-overlay[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .scrim-overlay[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .scrim-overlay[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .scrim-overlay[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .scrim-overlay[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .scrim-overlay[_ngcontent-%COMP%]{--dummy5: 0;right:0}.left-panel-container[_ngcontent-%COMP%]{transform:translate3d(0,calc(var(--panel-height)),0);transition:transform ease-in-out 1s;border-top:8px solid #76b900;border-right:none;position:fixed;z-index:2;height:var(--panel-height);top:auto;bottom:0;width:var(--panel-width);background:linear-gradient(360deg,#191919 0%,rgba(25,25,25,.6) 100%)}.isRtl[_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{transform:translate3d(0,calc(var(--panel-height)),0);border-left:none}.left-panel-container.data-loaded[_ngcontent-%COMP%]{transform:translateZ(0)}.isRtl[_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container[_ngcontent-%COMP%]{background:linear-gradient(360deg,#191919 0%,rgba(25,25,25,.6) 100%)}.isRtl[_nghost-%COMP%]   .left-panel-container.data-loaded[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .left-panel-container.data-loaded[_ngcontent-%COMP%]{transform:translateZ(0);transition:transform ease-in-out 1s}.game-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.marketing-content[_ngcontent-%COMP%]{margin-bottom:16px}.marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.default-cta-container[_ngcontent-%COMP%], .unsupported-scenario-container[_ngcontent-%COMP%]{margin-bottom:16px}.grid-container[_ngcontent-%COMP%]{opacity:0;transform:rotate(345deg);top:calc(-.33 * var(--background-base-height))}.left-panel-container-transitioned[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{opacity:1}.isRtl[_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%]{transform:rotate(15deg)}.game-image-container-background[_ngcontent-%COMP%]{background:radial-gradient(75% 75% at 65% 25%,#494949 0%,#000000 100%)}.isRtl[_nghost-%COMP%]   .game-image-container-background[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-image-container-background[_ngcontent-%COMP%]{background:radial-gradient(75% 75% at 35% 25%,#494949 0%,#000000 100%)}.game-image-container[_ngcontent-%COMP%]{height:calc(100% - env(safe-area-inset-top) - var(--panel-height));opacity:0}.left-panel-container-transitioned[_ngcontent-%COMP%]   .game-image-container[_ngcontent-%COMP%]{opacity:1}.game-image[_ngcontent-%COMP%]{width:100vw;height:calc(100% - env(safe-area-inset-top) - var(--panel-height));object-fit:cover;-webkit-mask-image:unset;mask-image:unset}.game-data-container[_ngcontent-%COMP%]{margin:0 var(--rwd-container-side-spacing);padding-top:68px;position:relative;bottom:0;box-sizing:border-box}.isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:unset}html[dir=ltr][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:unset}.isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:unset}html[dir=rtl][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:unset}.game-logo[_ngcontent-%COMP%]{width:45%}.app-store-images[_ngcontent-%COMP%], .available-on-text[_ngcontent-%COMP%]{margin-bottom:4px}.game-data-container-scrim[_ngcontent-%COMP%]{position:absolute;background-color:rgb(var(--scrim-color));opacity:.7;height:calc(100% - env(safe-area-inset-top) - var(--panel-height));min-width:100%}.game-data-container[_ngcontent-%COMP%]{z-index:1}}@media screen and (min-width: 480px) and (max-width: 719px) and (max-height: 480px),screen and (min-width: 720px) and (max-width: 959px) and (max-height: 480px){[_nghost-%COMP%]{--branding_logo_width: 120px;--appbar_height: 36px;--left-panel-top-spacing: 16px;--left-panel-right-spacing: 16px;--left-panel-bottom-spacing: 8px;--left-panel-content-top-spacing: calc(calc(var(--left-panel-top-spacing) + var(--appbar_height)) + 8px);--left-panel-content-bottom-spacing: var(--left-panel-bottom-spacing);--settings-container-left-spacing: calc(calc(var(--left-panel-content-left-spacing) + var(--left-panel-right-spacing)) + var(--branding_logo_width))}.settings-container[_ngcontent-%COMP%]{position:absolute;top:var(--left-panel-top-spacing);height:var(--appbar_height);box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-end;justify-content:center}.isLtr[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{right:16px}html[dir=ltr][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;right:16px}.isRtl[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{left:16px}html[dir=rtl][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy6: 0;left:16px}.isLtr[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:right}html[dir=ltr][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.isRtl[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{text-align:left}html[dir=rtl][_ngcontent-%COMP%]   .settings-container[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.game-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .game-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.settings-button[_ngcontent-%COMP%]{transform:translate(25%)}.marketing-content[_ngcontent-%COMP%]{margin-bottom:16px}.marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.default-cta-container[_ngcontent-%COMP%], .unsupported-scenario-container[_ngcontent-%COMP%]{margin-bottom:16px}.game-image[_ngcontent-%COMP%]{height:100%;-webkit-mask-image:linear-gradient(to left,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%);mask-image:linear-gradient(to left,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%)}.isRtl[_nghost-%COMP%]   .game-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-image[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%);mask-image:linear-gradient(to right,#000000 0%,#000000 70%,rgba(0,0,0,0) 100%)}.game-data-container[_ngcontent-%COMP%]{justify-content:center}.app-store-images[_ngcontent-%COMP%]{margin-bottom:0}.game-data-container-scrim[_ngcontent-%COMP%]{position:absolute;background-color:rgb(var(--scrim-color));opacity:.7;min-height:100%;min-width:100%}}@media (min-width: 480px) and (max-width: 719px){.marketing-content[_ngcontent-%COMP%]{margin-bottom:16px}.marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.default-cta-container[_ngcontent-%COMP%], .unsupported-scenario-container[_ngcontent-%COMP%]{margin-bottom:16px}.game-data-container[_ngcontent-%COMP%]{width:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}}@media (min-width: 960px) and (max-width: 1439px){[_nghost-%COMP%]{--panel-width: calc(calc(5 * var(--rwd-column-size) + 4 * var(--rwd-gutter-size)) + var(--rwd-container-side-spacing))}.left-panel-container.data-loaded[_ngcontent-%COMP%], .game-data-container[_ngcontent-%COMP%]{width:calc(5 * var(--rwd-column-size) + 4 * var(--rwd-gutter-size))}.isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:calc(1 * var(--rwd-column-size) + 0 * var(--rwd-gutter-size))}html[dir=ltr][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:calc(1 * var(--rwd-column-size) + 0 * var(--rwd-gutter-size))}.isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:calc(1 * var(--rwd-column-size) + 0 * var(--rwd-gutter-size))}html[dir=rtl][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:calc(1 * var(--rwd-column-size) + 0 * var(--rwd-gutter-size))}}@media (min-width: 1440px) and (max-width: 1919px){.isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=ltr][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}.isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=rtl][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}}@media (min-width: 1920px){[_nghost-%COMP%]{--panel-width: calc(calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size)) + var(--rwd-container-side-spacing))}.game-data-container[_ngcontent-%COMP%]{width:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}.isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}html[dir=ltr][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}.isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}html[dir=rtl][_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}}.tv-view   [_nghost-%COMP%], .tv-view   [_nghost-%COMP%]{--appbar_height: 90px;--branding_logo_width: 299px;--settings_icon_height: 48px;--settings_button_height: 96px;--panel-width: calc(calc(5 * var(--rwd-column-size) + 4 * var(--rwd-gutter-size)) + var(--rwd-container-side-spacing));--left-panel-top-spacing: 90px;--left-panel-right-spacing: 90px;--left-panel-bottom-spacing: 90px;--left-panel-left-spacing: 90px;--left-panel-content-left-spacing: var(--left-panel-left-spacing)}.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]{margin-bottom:48px}.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:48px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view   .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view.tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child), .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child), .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .content-string[_ngcontent-%COMP%]:not(:last-child){margin-bottom:24px}.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{height:12px;width:12px;margin-top:14px}.isLtr.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{margin-right:16px}.isRtl.tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .marketing-content[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{margin-left:16px}.tv-view[_nghost-%COMP%]   .default-cta-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .default-cta-container[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .default-cta-container[_ngcontent-%COMP%]{margin-bottom:48px}.tv-view[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{min-height:74px}.tv-view[_nghost-%COMP%]   .unsupported-scenario-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .unsupported-scenario-container[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .unsupported-scenario-container[_ngcontent-%COMP%]{margin-bottom:48px}.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{width:calc(3 * var(--rwd-column-size) + 2 * var(--rwd-gutter-size))}.isLtr.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}.isLtr.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:unset}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy5: 0;left:unset}.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:unset}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy5: 0;right:unset}.isLtr.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:unset}html[dir=ltr]   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=ltr]   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;right:unset}.isRtl.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:unset}html[dir=rtl]   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=rtl]   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy6: 0;left:unset}.isLtr.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isLtr[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isLtr   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr.isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isLtr   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=ltr]   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=ltr]   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy5: 0;left:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}.isRtl.isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}html[dir=rtl]   .isRtl.tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .game-data-container[_ngcontent-%COMP%], html[dir=rtl]   .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .game-data-container[_ngcontent-%COMP%]{--dummy5: 0;right:calc(2 * var(--rwd-column-size) + 1 * var(--rwd-gutter-size))}.tv-view[_nghost-%COMP%]   .app-store-images[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .app-store-images[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .app-store-images[_ngcontent-%COMP%]{min-height:48px}.tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]{width:48px}.isLtr.tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr.tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr   .tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr   .tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   .isLtr[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   .isLtr   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){margin-right:48px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-right:48px}.isRtl.tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl.tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl   .tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl   .tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   .isRtl[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   .isRtl   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){margin-left:48px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), .tv-view   [_nghost-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child), html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .app-store-image[_ngcontent-%COMP%]:not(:last-child){--dummy4: 0;margin-left:48px}.tv-view[_nghost-%COMP%]   .available-on-text[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .available-on-text[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .available-on-text[_ngcontent-%COMP%]{margin:16px}.grid-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{aspect-ratio:1.7777777778}"]}),_t})(),Jl=(()=>{var nt;class _t{get hideInvisibleElement(){return this._hideInvisibleElement}constructor(r){var v;this._hideInvisibleElement=!1,this._hideInvisibleElement=!(null==r||null===(v=r.memoryControl)||void 0===v||!v.hideInvisibleElement)}setVisibility(r,v,et){if(r)switch(v){case"display":r.style.display=et?"":"none";break;case"visibility":r.style.visibility=et?"":"hidden"}}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(ge.VK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var qs=t(18862),wr=function(nt){return nt.enableInitFocusOnNavigate="enableInitFocusOnNavigate",nt}(wr||{}),ds=function(nt){return nt.showSearchBarOnNavigateGamesGrid="showSearchBarOnNavigateGamesGrid",nt.initFocusOnSearchBar="initFocusOnSearchBar",nt}(ds||{});const Xl={[cn.nn.Home]:{[wr.enableInitFocusOnNavigate]:!0},[cn.nn.Settings]:{[wr.enableInitFocusOnNavigate]:!0},[cn.nn.GamesGrid]:{[wr.enableInitFocusOnNavigate]:!0,[ds.showSearchBarOnNavigateGamesGrid]:!0,[ds.initFocusOnSearchBar]:!0}};class Aa{static initiateFocusAfterRendered(_t,Et){var r,v,et;const ht=!(null==_t||null===(r=_t.featureEnablement)||void 0===r||!r.tvMode||null==_t||null===(v=_t.featureEnablement)||void 0===v||!v.new10ftUx);return null!==(et=this.getRoutingStateValueByKey(Et,wr.enableInitFocusOnNavigate))&&void 0!==et?et:ht}static getRoutingStateValueByKey(_t,Et){var r;const v=null===(r=_t.getCurrentNavigation())||void 0===r||null===(r=r.extras)||void 0===r?void 0:r.state;if(v&&Et in v)return v[Et]}}let ql=(()=>{var nt;class _t{constructor(){this.streamerConfig=new Pi.X(this.createStreamerConfigFromSearchParameters())}get activeConfig(){return(0,pe.IM)(this.streamerConfig.value)}set activeConfig(r){this.streamerConfig.next((0,pe.IM)(r))}get config$(){return this.streamerConfig.asObservable()}createStreamerConfigFromSearchParameters(){const r=window.location.hash;return(0,cn.A8)(r)}}return(nt=_t).\u0275fac=function(r){return new(r||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})(),tc=(()=>{var nt;class _t{constructor(r,v){var et;this.guestModeHelperService=r,this.oscEnabled=!(null===(et=v.featureEnablement)||void 0===et||!et.osc)}isOscEnabled(){var r,v;return this.guestModeHelperService.isGuestMode?this.oscEnabled&&(null===(r=this.guestModeHelperService.getGuestModeConfig())||void 0===r?void 0:r.isOSCEnabled)||(null===(v=this.guestModeHelperService.getForceTouchModeSettings())||void 0===v?void 0:v.useOsc):this.oscEnabled}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(te.h),n.LFG(ge.VK))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})();var tr=t(42586),ec=t(29688);let Na=(()=>{var nt;class _t{get blockerElement(){return this._blockerElement}set blockerElement(r){this._blockerElement=r}get isMonitoring(){return!!this.inputModalityChangedSub&&!!this.trackMouseMovePositionSub}constructor(r,v,et,ht,Ot){this.inputModalityService=r,this.spatialNavigationService=v,this.ngZone=et,this.lastMousePosition={x:0,y:0},this.renderer=Ot.createRenderer(document.body,null),this.logger=ht.getLogger("CursorBlockerSurvice")}monitor(){this.isMonitoring?this.logger.info("monitoring has already started. reuse the existing listeners."):(this.ngZone.runOutsideAngular(()=>{this.inputModalityChangedSub=this.inputModalityService.inputModalityChanged$.subscribe(r=>{const v=!this.currentInputModality;this.shouldEnableCusorBlocker(this.currentInputModality)!==this.shouldEnableCusorBlocker(r)&&(v||this.leaveInputMode(this.currentInputModality),this.enterInputMode(r),this.currentInputModality=r)}),this.trackMousePosition()}),this.logger.info("start monitoring."))}stopMonitoring(){this.lastMousePosition={x:0,y:0},this.currentInputModality=void 0,this.toggleCursorBlockerElement(!1),this.inputModalityChangedSub&&(this.inputModalityChangedSub.unsubscribe(),this.inputModalityChangedSub=void 0),this.trackMouseMovePositionSub&&(this.trackMouseMovePositionSub.unsubscribe(),this.trackMouseMovePositionSub=void 0),this.logger.info("stop monitoring.")}shouldEnableCusorBlocker(r){return r===tr.q.Keyboard||r===tr.q.Gamepad}enterInputMode(r){const v=this.shouldEnableCusorBlocker(r);this.toggleCursorBlockerElement(v),v||this.switchToMouseInput()}leaveInputMode(r){r===tr.q.Mouse&&this.leaveMouseInput(),(r===tr.q.Keyboard||r===tr.q.Gamepad)&&this.leaveGamePadAndKeyboard()}switchToMouseInput(){document.activeElement.blur()}leaveMouseInput(){var r,v,et,ht;const Ot=null!==(r=null===(v=this.lastMousePosition)||void 0===v?void 0:v.x)&&void 0!==r?r:0,Ft=null!==(et=null===(ht=this.lastMousePosition)||void 0===ht?void 0:ht.y)&&void 0!==et?et:0;this.spatialNavigationService.setStartingPointAt(Ot,Ft)}trackMousePosition(){this.ngZone.runOutsideAngular(()=>{const r=(0,T.R)(document,"mousemove",{capture:!0}),v=(0,T.R)(document,"mouseover",{capture:!0}),et=(0,T.R)(document,"wheel",{capture:!0});this.trackMouseMovePositionSub=(0,_a.T)(r,v,et).pipe((0,ec.e)(50),(0,En.h)(ht=>ht.clientX!==this.lastMousePosition.x||ht.clientY!==this.lastMousePosition.y)).subscribe(ht=>{this.lastMousePosition={x:ht.clientX,y:ht.clientY},this.blockerElement&&(this.blockerElement.style.top=`${this.lastMousePosition.y}px`,this.blockerElement.style.left=`${this.lastMousePosition.x}px`)})})}leaveGamePadAndKeyboard(){this.toggleCursorBlockerElement(!1)}toggleCursorBlockerElement(r){var v,et,ht,Ot,Ft;r?(this.blockerElement=this.createCursorBlocker(null!==(v=null===(et=this.lastMousePosition)||void 0===et?void 0:et.x)&&void 0!==v?v:0,null!==(ht=null===(Ot=this.lastMousePosition)||void 0===Ot?void 0:Ot.y)&&void 0!==ht?ht:0),this.renderer.appendChild(document.body,this.blockerElement)):(!(null===(Ft=this.blockerElement)||void 0===Ft)&&Ft.isConnected&&this.renderer.removeChild(document.body,this._blockerElement),this.blockerElement=null)}createCursorBlocker(r,v){const et=this.renderer.createElement("DIV");return et.style.height="1px",et.style.width="1px",et.style.position="fixed",et.style.top=`${v}px`,et.style.left=`${r}px`,et.style.zIndex="1000000",et.style.cursor="none",et}}return(nt=_t).\u0275fac=function(r){return new(r||nt)(n.LFG(tr.b),n.LFG(R.jr),n.LFG(n.R0b),n.LFG(s.ed),n.LFG(n.FYo))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_t})()},48477:(Dt,ct,t)=>{"use strict";t.d(ct,{c:()=>_,$:()=>s});var e=t(57536),i=t(78943),L=t(13963),f=t(21120),x=t(32484),S=t(49481),u=t(45976),g=t(9681),h=t(46939),O=t(47422),E=t(15746),w=t(87965),p=t(97394),V=t(32634),c=t(42241);const C=new Map([[15867909,c.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]]);var l=t(61699),o=t(31157);const n=i.Gh.Gfn.Streaming;let s=(()=>{var b;class I extends L.q9{constructor(a,y,M,P,K){super(),this.zone=a,this.libLoggingService=M,this.distributedTracing=P,this.androidHelperService=K,this.ragnarokCodesNotificationMap=new Map,this.streamingProfileGuid="",this.systemInfoGuid="",this.gridSession=void 0,this.configureStreamingSettingsParameters={},this.hdrStreaming=!1,this.logger=y.getLogger("crimson/android/streaming-plugin"),this.gridServerAnalyticsEvent=new x.xQ,this.streamingEventsSubject=new x.xQ,this.gridServer=new e.GridServer}get handlers(){return{module:n.Start.module,commands:{[n.Start.method]:this.start.bind(this),[n.Prepare.method]:this.prepare.bind(this),[n.SetAuthInfo.method]:this.setAuthInfo.bind(this),[n.SetAuthToken.method]:this.setAuthToken.bind(this),[n.Stop.method]:this.stop.bind(this),[n.GetActiveSessions.method]:this.getActiveSessions.bind(this),[n.GetSessionInfo.method]:this.getSessionInfo.bind(this),[n.Resume.method]:this.resume.bind(this),[n.PauseStreaming.method]:this.pauseStreaming.bind(this),[n.RegisterCallback.method]:this.registerCallback.bind(this),[n.ConfigureStreamingSettings.method]:this.ConfigureStreamingSettings.bind(this),[n.GetUnifiedAPIVersion.method]:this.GetUnifiedAPIVersion.bind(this),[n.PlatformGetMaxBitRateForArray.method]:this.platformGetMaxBitRateForArray.bind(this),[n.VsyncToggle.method]:this.isVsyncToggleSupported.bind(this),[n.RegisterGridServerAnalyticsCallback.method]:this.registerGridServerAnalyticsCallback.bind(this),[n.OpenOsr.method]:this.winOpenOsr.bind(this),[n.CloseOsr.method]:this.winCloseOsr.bind(this),[n.UpdateRemoteConfig.method]:this.notImplemented.bind(this),[n.OsrRegisterCustomKeyPress.method]:this.notImplemented.bind(this),[n.OsrUnregisterCustomKeyPress.method]:this.notImplemented.bind(this),[n.OsrRegisterKeyPressCallback.method]:this.notImplemented.bind(this),[n.OsrSetOverlayResolution.method]:this.notImplemented.bind(this),[n.GetStreamVolume.method]:this.notImplemented.bind(this),[n.SetStreamVolume.method]:this.notImplemented.bind(this),[n.ToggleUserInput.method]:this.notImplemented.bind(this),[n.SendUnicode.method]:this.notImplemented.bind(this),[n.SetVirtualKeyboardState.method]:this.notImplemented.bind(this),[n.Cancel.method]:this.notImplemented.bind(this),[n.SetVideoTransforms.method]:this.notImplemented.bind(this),[n.RegisterMicCallback.method]:this.notImplemented.bind(this),[n.GetMicState.method]:this.notImplemented.bind(this),[n.SetMicState.method]:this.notImplemented.bind(this),[n.OsrCheckKeyPressCombination.method]:this.notImplemented.bind(this),[n.SetKeyboardLayout.method]:this.notImplemented.bind(this),[n.UpdateEventInfoGuids.method]:this.updateEventInfoGuids.bind(this),[n.ToggleJoystickMouse.method]:this.notImplemented.bind(this),[n.UpdateEventDataElements.method]:this.notImplemented.bind(this),[n.SendClipboardUpdate.method]:this.notImplemented.bind(this),[n.SendKeyEvent.method]:this.notImplemented.bind(this),[n.CalculateDataUsage.method]:this.CalculateDataUsage.bind(this),[n.UpdateAdState.method]:this.UpdateAdState.bind(this)}}}buildRagnarokErrorMap(a,y){p.Y.forEach((M,P)=>this.ragnarokCodesNotificationMap.set(P,M)),C.forEach((M,P)=>this.ragnarokCodesNotificationMap.set(P,M))}onSessionStartResult(a){var y;if(this.logger.info("callback onSessionStartResult called with eventData, ",a),this.sessionStartCalled=!0,a.sessionId&&(null===(y=this.sessionIdSubject)||void 0===y||y.next(a.sessionId)),a.error){var M,P;null===(M=this.sessionIdSubject)||void 0===M||M.complete(),this.sessionIdSubject=null;const K=null===(P=a.error)||void 0===P?void 0:P.code;if(15867905===K||15867906===K)return}this.streamingEventsSubject.next(V.d.createSessionStartResult(a,this.ragnarokCodesNotificationMap,this.logger)),a.error||this.streamingEventsSubject.next(JSON.stringify({event:c.V4.STREAMING_BEGIN}))}onSessionFirstFrameResult(a){var y;this.logger.info("callback onSessionFirstFrameResult called with eventData, ",a),a.error&&(null===(y=this.sessionIdSubject)||void 0===y||y.complete(),this.sessionIdSubject=null),this.streamingEventsSubject.next(V.d.createSessionStartResult(a,this.ragnarokCodesNotificationMap,this.logger)),a.error||this.streamingEventsSubject.next(JSON.stringify({event:c.V4.STREAMING_FIRST_FRAME}))}onSessionStopResult(a){var y;this.logger.info("callback onSessionStopResult called with result, ",a),null===(y=this.sessionIdSubject)||void 0===y||y.complete(),this.sessionIdSubject=null,this.streamingEventsSubject.next(V.d.createSessionStopResult(a,this.ragnarokCodesNotificationMap))}onGetSessionResult(a){this.logger.info("callback onGetSessionResult called with result, ",a),this.streamingEventsSubject.next(V.d.createGetSessionResult(a,this.ragnarokCodesNotificationMap,this.logger))}onStreamStopped(a,y){this.logger.info("callback onStreamStopped called with eventData object, ",a);const M={event:c.V4.STREAMING_TERMINATED,extendedCode:0,postSessionConfiguration:y};M.reason=a.isResumable?c.Y6.NVB_SN_PAUSED_BY_USER:c.Y6.NVB_SN_STOPPED_BY_USER,M.isResumable=a.isResumable,this.streamingEventsSubject.next(JSON.stringify(M))}onGsActiveSessionsResult(a){this.logger.info("onGsActiveSessionsResult",a),this.logger.info("callback onGsActiveSessionsResult called from GridServer with result, ",a);const y={event:c.V4.ACTIVE_SESSIONS,result:{extendedError:[],requestId:1,result:0},sessions:V.d.mapActiveSessionInfoToSession(a.sessionList,this.logger)};a.error&&(y.result.result=this.ragnarokCodesNotificationMap.get(a.error.code)||a.error.code),this.streamingEventsSubject.next(JSON.stringify(y))}onGsProgressUpdate(a){var y;this.logger.info("onGsProgressUpdate",a),a.sessionId&&(null===(y=this.sessionIdSubject)||void 0===y||y.next(a.sessionId)),this.streamingEventsSubject.next(V.d.createProgressUpdateEvent(a))}onGsLogEvent(a){this.libLoggingService.sendLog({logLevel:a.logLevel,logStr:a.logstr,logTag:a.logtag,timeStamp:a.timeStamp})}onGsTelemetryEvent(a){this.logger.info("Dispatching GridServer telemetry event "+JSON.stringify(a)),this.gridServerAnalyticsEvent.next(JSON.stringify(a))}onNativeResponseStreamStopped(a,y,M){this.nativeStreamingInvoked=!1,this.onStreamStopped(a,M),this.logger.info("onNativeResponseStreamStopped: ",this.gridSession),this.logger.info("onNativeResponseStreamStopped: ",a),this.logger.info("onNativeResponseStreamStopped: ",y),void 0===this.gridSession?(this.logger.info("grid server cancelSessionSetup"),this.gridServer.cancelSessionSetup(),this.onSessionStopResult(y)):a.isResumable||(this.logger.info("sendDeleteRequest from onNativeResponseStreamStopped:",y.sessionId),this.distributedTracing.runWithinSpanContext(this.streamingSpanData,()=>{this.gridServer.sendDeleteRequest(y.sessionId).then(()=>{this.logger.info("Successfully sent session delete Request to server. ",y.sessionId);const P={sessionId:y.sessionId,subSessionId:y.subSessionId};this.gridSession=void 0,this.onSessionStopResult(P)},P=>{this.logger.info("sending session delete request failed.. ",y.sessionId),this.onSessionStopResult({sessionId:y.sessionId,subSessionId:y.subSessionId,error:P})})}))}onNativeResponseSystemInfo(a,y){var M;const P=new Map;let K;null===(M=y.clientHeaders)||void 0===M||M.forEach(ot=>{P.set(ot.headerName,ot.headerValue)}),this.buildRagnarokErrorMap("Android",a.OSVersion),K=L.ng.isTouchPlatform()?"Android-Generic-Touch":"Android-Generic-TV";const j={clientIdentification:"GFN-PC/"+e.CLIENT_VERSION,clientVersion:e.CLIENT_VERSION,clientAppVersion:y.clientAppVersion,deviceHashId:y.deviceId,serverAddress:y.address,clientPlatformName:K,clientType:"NATIVE",deviceOs:"ANDROID",deviceOsVer:a.OSVersion,deviceType:this.mapDeviceTypeFromSystemInfo(a.DeviceType),deviceMake:a.Make,deviceModel:a.Model,acceptLanguage:a.UserDefaultUILanguage,ecomEnabled:"true",clientStreamer:"NVIDIA-CLASSIC",clientId:"ec7e38d4-03af-4b58-b131-cfb0495903ab",authTokenCallback:ot=>this.zone.run(()=>this.generateAuthToken(ot)),clientHeaders:P};this.gridServer.uninitialize(),this.gridServer=new e.GridServer,this.gridSession=void 0,this.sessionIdSubject=new S.t(1),this.logger.info("grid server initialize"),this.gridServer.addListener("ActiveSessionsResult",this.onGsActiveSessionsResult.bind(this)),this.gridServer.addListener("SessionUpdate",this.onGsProgressUpdate.bind(this)),this.gridServer.updateTelemetryEventIds({systemInfoGuid:this.systemInfoGuid}),this.gridServer.addListener("TelemetryEvent",this.onGsTelemetryEvent.bind(this)),this.gridServer.addListener("Log",this.onGsLogEvent.bind(this)),this.gridServer.initialize(j),this.logger.info("Initialize GridServer complete"),this.initializeGridServerSubject.next({success:!0,code:200}),this.initializeGridServerSubject.complete()}generateAuthToken(a){return this.logger.info("callback generateAuthToken called from nvrtc"),this.streamingEventsSubject.next(JSON.stringify({event:c.V4.UPDATE_AUTH_TOKEN,spanData:a})),this.authTokenSubject=new x.xQ,this.authTokenSubject.toPromise()}startStream(a,y,M){this.logger.info("startStream:",a),M&&this.logger.info("resume case");const P=this.getNativeStreamingParams(a,M),K=this.makeFullBridgeCommand(i.Gh.Gfn.Streaming.LaunchNativeStreamer,P,"QUERY_IPC_EXTENSION_MESSAGE"!==i.Gh.Gfn.Streaming.LaunchNativeStreamer.legacyCommand);this.logger.info("startStream android command params:"+JSON.stringify(K)),this.destroyed||(this.androidHelperService.executeCommandNative(K,!0,!0).subscribe(j=>{const tt=JSON.parse(j.response),ot=this.getStream();if("com.nvidia.geforcenow.action.STREAMING_STARTED"===tt.event){const F={sessionId:tt.sessionId,subSessionId:tt.subSessionId,isResume:!1,streams:ot,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionStartResult(F)}else if("com.nvidia.geforcenow.action.STREAMING_FIRST_FRAME"===tt.event){const F={sessionId:tt.sessionId,subSessionId:tt.subSessionId,isResume:!1,streams:ot,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionFirstFrameResult(F)}else if("com.nvidia.geforcenow.action.STREAMING_RESUMED"===tt.event){const F={sessionId:tt.sessionId,subSessionId:tt.subSessionId,isResume:!0,streams:ot,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionStartResult(F)}else if("com.nvidia.geforcenow.action.STREAMING_PAUSED"===tt.event)this.onSessionStopResult({sessionId:tt.sessionId,subSessionId:tt.subSessionId});else if("com.nvidia.geforcenow.action.STREAMING_STOPPED"===tt.event){this.logger.info("session start called: ",this.sessionStartCalled);const F={sessionId:tt.sessionId,subSessionId:tt.subSessionId},U={sessionId:tt.sessionId,subSessionId:tt.subSessionId,error:{code:tt.errorCode},isResumable:tt.isResumable,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress()};this.onNativeResponseStreamStopped(U,F,tt.postSessionConfiguration)}},j=>{var tt,ot,F,U,z,Q,dt,X,m,Y;this.logger.info(" callback error. Send back error:");const D={sessionId:null!==(tt=null===(ot=this.gridServer)||void 0===ot?void 0:ot.getSessionId())&&void 0!==tt?tt:"",subSessionId:null!==(F=null===(U=this.gridServer)||void 0===U?void 0:U.getSubSessionId())&&void 0!==F?F:"",isResume:M,error:{code:3237089284,description:j.errorMessage},zoneName:null!==(z=null===(Q=this.gridServer)||void 0===Q?void 0:Q.getZoneName())&&void 0!==z?z:"",zoneAddress:null!==(dt=null===(X=this.gridServer)||void 0===X?void 0:X.getZoneAddress())&&void 0!==dt?dt:"",gpuType:null!==(m=null===(Y=this.gridServer)||void 0===Y?void 0:Y.getGpuType())&&void 0!==m?m:""};this.onSessionStartResult(D)},()=>{this.logger.info(" callback complete")}),this.nativeStreamingInvoked=!0)}getNativeStreamingParams(a,y){var M,P;const K=[],B=[];this.logger.info("media connection info length:",this.gridSession.mediaConnectionInfo.length),this.gridSession.mediaConnectionInfo.forEach(z=>{typeof z<"u"&&(this.logger.info("media connection info usage:",z),B.push(z),K.push({ip:z.ip,port:z.port,protocol:z.protocol,usage:z.usage,appLevelProtocol:z.appLevelProtocol,resourcePath:z.resourcePath}))}),this.logger.info("signal connection info usage:",this.gridSession.signalConnectionInfo);const j=this.gridSession.streamInfo[0],tt=j.width,ot=j.height,F=j.fps;return this.logger.info("Finalized streaming features:",this.gridSession.finalizedStreamingFeatures),this.logger.info("StreamInfo: ",j),{sessionType:y?"Resume":"Launch",cmsId:a.appId,appLaunchMode:a.appLaunchMode,maxLocalPlayers:this.extendedSessionStartParams.maxLocalPlayers,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),serverType:"GFN",accountLinked:this.extendedSessionStartParams.sessionStartParams.accountLinked,sessionId:this.gridSession.sessionId,subSessionId:this.gridSession.subSessionId,heroImage:this.extendedSessionStartParams.heroImage,gameDisplayOwnRating:this.extendedSessionStartParams.gameDisplayOwnRating,storeName:this.extendedSessionStartParams.storeName,appName:this.extendedSessionStartParams.appName,subscriptionLongDesc:this.extendedSessionStartParams.subscriptionLongDesc,providerName:this.extendedSessionStartParams.providerName,audioModeFormat:this.extendedSessionStartParams.sessionStartParams.requestedAudioFormat,serverLocation:this.extendedSessionStartParams.serverLocation,streamingProfile:{name:this.streamingProfile.name,description:this.streamingProfile.description,width:tt,height:ot,fps:F,maxBitrate:this.streamingProfile.maxBitrate,maxBitrateAuto:this.streamingProfile.maxBitrateAuto,dataUsage:this.streamingProfile.dataUsage,drc:this.streamingProfile.drc,vSync:this.streamingProfile.vSync,aspectRatio:this.streamingProfile.aspectRatio,maxPacketSize:this.streamingProfile.maxPacketSize,hdrStreaming:1===j.sdrHdrMode,l4sEnabled:null===(M=this.gridSession.finalizedStreamingFeatures)||void 0===M?void 0:M.enabledL4S,bitDepth:null===(P=this.gridSession.finalizedStreamingFeatures)||void 0===P?void 0:P.bitDepth},contentRating:this.extendedSessionStartParams.contentRating,eventInfoGuids:{systemInfoGuid:this.systemInfoGuid,streamingProfileGuid:this.streamingProfileGuid},signalConnectionInfo:{ip:this.gridSession.signalConnectionInfo.ip,port:this.gridSession.signalConnectionInfo.port,protocol:this.gridSession.signalConnectionInfo.protocol},mediaConnectionInfo:K,configInfo:this.configureStreamingSettingsParameters,hostName:this.extendedSessionStartParams.hostName,gpuName:this.findGpuName(this.extendedSessionStartParams.gpuNameMap,this.gridServer.getGpuType()),gpuType:this.gridServer.getGpuType()}}setupSession(a,y,M){this.logger.info("setupSession");const P=a?2:0;try{if(this.gridServer&&this.extendedSessionStartParams.sessionStartParams){this.logger.info("calling setupSession:"+this.gridServer),this.logger.info(this.gridServer),this.logger.info(this.gridServer.getSessionId()),this.logger.info(this.gridServer.getSubSessionId()),this.logger.info(this.extendedSessionStartParams.sessionStartParams),this.logger.info(this.gridSession);let X=M;void 0!==this.gridSession&&(X=this.gridSession.sessionId),this.logger.info("calling setupSession with:"+this.extendedSessionStartParams.sessionStartParams.streamingFeatures),this.sessionRequestInProgress=!0,this.distributedTracing.runWithinSpanContext(y,()=>{this.gridServer.putOrPostSession(this.extendedSessionStartParams.sessionStartParams,P,X).then(m=>(this.gridSession=m,this.logger.info("gridSession:",this.gridSession),"ready_for_connection"===m.state?(this.logger.info("Session is ready for connection "),new Promise((D,N)=>{D(m)})):this.gridServer?(this.logger.info("session is not ready for connection"),this.gridServer.getSession(m.sessionId,!0)):void 0)).then(m=>{this.sessionRequestInProgress=!1,this.gridSession=m,this.logger.info("ready to start streaming");const Y={sessionId:m.sessionId,subSessionId:m.subSessionId,queuePosition:0,eta:0,progressState:"StartingStreamer",isAdsRequired:!0,ads:[]};var D;Y.sessionId&&(null===(D=this.sessionIdSubject)||void 0===D||D.next(Y.sessionId)),this.streamingEventsSubject.next(V.d.createProgressUpdateEvent(Y)),this.startStream(this.extendedSessionStartParams.sessionStartParams,this.gridSession.sessionId,a)}).catch(m=>{this.sessionRequestInProgress=!1,this.logger.error("set up session error:",m),this.sessionIdSubject=void 0;let Y=!1;if(m.code){(15867905===m.code||15867906===m.code)&&(this.gridServer.getSessionId()&&(this.logger.info("sendDeleteRequest from session setup failure:",m.code),this.gridServer.sendDeleteRequest(this.gridServer.getSessionId()),this.gridSession=void 0),Y=!0),this.logger.error("session request failed:",m.code);const lt={sessionId:this.gridServer.getSessionId(),subSessionId:this.gridServer.getSubSessionId(),isResume:a,error:m,sessionList:m.sessionList,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};if(this.onSessionStartResult(lt),Y){const gt={sessionId:X,subSessionId:this.gridServer.getSubSessionId()};this.onSessionStopResult(gt)}}else{var D,N,Z,W,A,d,H,$,J,st;this.logger.error("Exception case for set up failure");const lt={sessionId:null!==(D=null===(N=this.gridServer)||void 0===N?void 0:N.getSessionId())&&void 0!==D?D:"",subSessionId:null!==(Z=null===(W=this.gridServer)||void 0===W?void 0:W.getSubSessionId())&&void 0!==Z?Z:"",isResume:a,error:{code:3237089284,description:"Quitting due to exception"},zoneName:null!==(A=null===(d=this.gridServer)||void 0===d?void 0:d.getZoneName())&&void 0!==A?A:"",zoneAddress:null!==(H=null===($=this.gridServer)||void 0===$?void 0:$.getZoneAddress())&&void 0!==H?H:"",gpuType:null!==(J=null===(st=this.gridServer)||void 0===st?void 0:st.getGpuType())&&void 0!==J?J:""};this.onSessionStartResult(lt)}})})}else this.logger.info("gridserver not initialized")}catch(X){var K,B,j,tt,ot,F,U,z,Q,dt;this.logger.info("gridserver setup exception:",X),this.sessionRequestInProgress=!1;const m={sessionId:null!==(K=null===(B=this.gridServer)||void 0===B?void 0:B.getSessionId())&&void 0!==K?K:"",subSessionId:null!==(j=null===(tt=this.gridServer)||void 0===tt?void 0:tt.getSubSessionId())&&void 0!==j?j:"",isResume:a,error:{code:3237089284,description:"Quitting due to exception"},zoneName:null!==(ot=null===(F=this.gridServer)||void 0===F?void 0:F.getZoneName())&&void 0!==ot?ot:"",zoneAddress:null!==(U=null===(z=this.gridServer)||void 0===z?void 0:z.getZoneAddress())&&void 0!==U?U:"",gpuType:null!==(Q=null===(dt=this.gridServer)||void 0===dt?void 0:dt.getGpuType())&&void 0!==Q?Q:""};this.onSessionStartResult(m)}}startInternal(a){this.logger.info("startInternalAfterInitialization Android plugin");const M=this.makeFullBridgeCommand(i.Gh.Gfn.Streaming.GetHighestSupportedAudioFormat,{audioFormat:a.payload.audioModeFormat},"QUERY_IPC_EXTENSION_MESSAGE"!==i.Gh.Gfn.Streaming.GetHighestSupportedAudioFormat.legacyCommand);return this.androidHelperService.executeCommandNative(M,!1,!0).pipe((0,h.q)(1),(0,O.U)(P=>{const K=JSON.parse(P.response);this.populateParams(a,K);const B=a.payload.session;return this.logger.info("startInternal Android plugin:",B),B?this.setupSession(!0,a.payload.spanData,B):(this.sessionIdSubject=new S.t(1),this.streamingSpanData=a.payload.spanData,this.setupSession(!1,a.payload.spanData),this.logger.info("session done")),{success:!0,code:200,data:"true"}}))}populateParams(a,y){var M,P,K,B,j;const ot=[];ot.push({widthInPixels:a.payload.streamingProfile.width,heightInPixels:a.payload.streamingProfile.height,framesPerSecond:a.payload.streamingProfile.fps,sdrHdrMode:this.hdrStreaming?1:0});const F=a.payload.metaData;F.surroundAudioInfo=String(y);let U=null===(M=a.payload)||void 0===M?void 0:M.appLaunchMode;(!U||U===f.xld.Default)&&(U=f.xld.GamepadFriendly);const z={enabledL4S:null===(P=a.payload.streamingProfile)||void 0===P?void 0:P.l4sEnabled,bitDepth:this.mapInputBitDepthToGridServerBitDepth(null===(K=a.payload.streamingProfile)||void 0===K?void 0:K.bitDepth)},Q={appId:a.payload.appId.toString(),monitorSettings:ot,appLaunchMode:V.d.mapStringToAppLaunchMode(U,this.logger),streamParams:[{width:a.payload.streamingProfile.width,height:a.payload.streamingProfile.height,fps:a.payload.streamingProfile.fps,maxBitrateKbps:a.payload.streamingProfile.maxBitrate,videoTagId:"remote-video",audioTagId:"remote-audio"}],metaData:F,allowKeyboardLayoutChange:a.payload.allowKeyboardLayoutChange,keyboardLayout:a.payload.keyboardLayout,clientLocale:a.payload.locale,accountLinked:a.payload.accountLinked,shortName:a.payload.gameShortName,networkSessionId:a.payload.networkSessionId,partnerCustomData:a.payload.partnerCustomData,enablePersistingInGameSettings:a.payload.persistingInGameSettings,requestedAudioFormat:y,userAge:null!==(B=null===(j=a.payload)||void 0===j?void 0:j.userAge)&&void 0!==B?B:0,streamingFeatures:z};this.streamingProfile=a.payload.streamingProfile,this.extendedSessionStartParams={sessionStartParams:Q,maxLocalPlayers:a.payload.maxLocalPlayers,appName:a.payload.appName,contentRating:a.payload.contentRating,heroImage:a.payload.heroImage,gameDisplayOwnRating:a.payload.gameDisplayOwnRating,storeName:a.payload.storeName,subscriptionLongDesc:a.payload.subscriptionLongDesc,providerName:a.payload.providerName,hostName:a.payload.zoneName,networkSessionId:a.payload.networkSessionId,serverLocation:a.payload.serverLocation,gpuNameMap:a.payload.gpuNameMap},this.logger.info("startInternal GFN streamer start:",Q)}start(a){return this.logger.info("start android plugin"),this.sessionStartCalled=!1,this.zone.runOutsideAngular(()=>this.startInternal(a))}prepareInternal(a){this.logger.info("prepareInternal android plugin"),this.initializeGridServerSubject=new u.c;const y=this.makeFullBridgeCommand(i.Gh.Common.Systeminfo.GetSystemInfo,void 0,"QUERY_IPC_EXTENSION_MESSAGE"!==i.Gh.Common.Systeminfo.GetSystemInfo.legacyCommand);var M;return this.destroyed||(this.logger.info("hdr is ",null===(M=a.payload.streamingProfile)||void 0===M?void 0:M.hdrStreaming),this.androidHelperService.executeCommandNative(y,!1,!0).pipe((0,h.q)(1)).subscribe(P=>{var K;this.hdrStreaming=null===(K=a.payload.streamingProfile)||void 0===K?void 0:K.hdrStreaming,this.onNativeResponseSystemInfo(JSON.parse(P.response),a.payload)},P=>(this.logger.error("Error in getSystemInfo",P),this.initializeGridServerSubject.error("Error retrieving System info"),this.initializeGridServerSubject.complete(),(0,g.of)("")))),this.initializeGridServerSubject}makeFullBridgeCommand(a,y,M){return{command:a.legacyCommand,system:a.system,module:a.module,method:a.method,payload:y,...M?y:null}}prepare(a){return this.logger.info("android plugin"),this.zone.runOutsideAngular(()=>this.prepareInternal(a))}setAuthInfo(a){return this.logger.info("setAuthInfo android plugin"),this.zone.runOutsideAngular(()=>{let y=0;switch(a.payload.tokenType){case f.qql.NVB_AUTH_JWT_GFN:y=1;break;case f.qql.NVB_AUTH_JWT:y=2}return this.logger.info("grid server setAuthInfo "),this.gridServer.setAuthInfo({type:y,token:a.payload.token}),this.logger.info("setAuthInfo done"),this.makeResult("false")})}setAuthToken(a){return this.authTokenSubject.next(a.payload.token),this.authTokenSubject.complete(),this.authTokenSubject=null,this.makeResult("true")}stopStream(a,y,M){this.logger.info("nativeStreamingInvoked:",this.nativeStreamingInvoked),this.logger.info("stopStream sessionId:",a),this.logger.info("stopStream grid server sessionId:",this.gridServer.getSessionId()),a&&(this.logger.info("stopStream sendDeleteRequest from stopStream"),this.distributedTracing.runWithinSpanContext(M,()=>{this.gridServer.sendDeleteRequest(a).then(()=>{this.logger.info("Successfully sent session elete Request to server. ",a);const P={sessionId:a,subSessionId:this.gridServer.getSubSessionId()};this.gridSession=void 0,this.onSessionStopResult(P)},P=>{this.logger.info("sending session delete request failed.. ",a);const K={sessionId:a,subSessionId:this.gridServer.getSessionId(),error:P};this.onSessionStopResult(K)})}))}stopInternal(a){const y=a.payload.session;return this.logger.info("stopInternal:",y),y||this.sessionIdSubject?this.sessionRequestInProgress?(this.logger.info("session setup in progress"),this.gridServer.cancelSessionSetup(),this.makeResult("true")):(y?(0,g.of)(y):this.sessionIdSubject.asObservable()).pipe((0,h.q)(1),(0,E.b)(P=>{const K=a.payload.reasonCode;this.logger.info("Stopping session ",P,K?`reason: 0x${K.toString(16)}`:""),this.logger.info("stopInternal stopStream"),this.stopStream(P,K,a.payload.spanData)}),(0,w.zg)(P=>this.makeResult("true"))):(this.logger.info("stopInternal error"),this.makeError(500,"No session to be stopped"))}stop(a){return this.logger.info("stop"),this.zone.runOutsideAngular(()=>this.stopInternal(a))}getActiveSessions(a){return this.zone.runOutsideAngular(()=>{this.logger.info("getActiveSessions"),this.distributedTracing.runWithinSpanContext(a.payload.spanData,()=>{this.gridServer.getAllActiveSessions()})}),this.makeResult("true")}getSessionInfo(a){return this.zone.runOutsideAngular(()=>{this.logger.info("getSessionInfo"),this.distributedTracing.runWithinSpanContext(a.payload.spanData,()=>{this.gridServer.getSession(a.payload.session,!1).then(y=>{this.logger.info("getSessionInfo success"),this.onGetSessionResult({sessionId:y.sessionId,subSessionId:y.subSessionId,appId:y.appId,state:y.state,status:y.state,appLaunchMode:y.appLaunchMode})}).catch(y=>{this.logger.info("getSessionInfo error");const M={sessionId:a.payload.session,subSessionId:this.gridServer.getSubSessionId(),error:y};this.onGetSessionResult(M)})})}),this.makeResult("true")}resumeInternal(a){this.logger.info("resumeInternal GFN streamer:"),this.extendedSessionStartParams.sessionStartParams.networkSessionId=a.payload.networkSessionId,this.streamingSpanData=a.payload.spanData,this.setupSession(!0,a.payload.spanData)}resume(a){return this.sessionStartCalled=!1,this.zone.runOutsideAngular(()=>{this.logger.info("resume"),this.resumeInternal(a)}),this.makeResult("true")}pauseStreamingInternal(a){return this.logger.info("pauseStreamingInternal"),this.makeResult("true")}pauseStreaming(a){return this.logger.info("pauseStreaming"),this.zone.runOutsideAngular(()=>this.pauseStreamingInternal(a))}registerCallback(a){return this.makePersistentResult(this.streamingEventsSubject.asObservable())}platformGetMaxBitRateForArray(a){const y=[];return a.payload.resolutions.forEach(P=>{const K=e.CalculateMaxBitrateKbps(P.width,P.height,P.frameRate);y.push({width:P.width,height:P.height,fps:P.frameRate,maxBandwidth:K})}),this.makeResult(JSON.stringify({resolutions:y}))}ConfigureStreamingSettings(a){return this.mergeConfigureStreamingSettings(a.payload),(0,e.ConfigureGridServerSettings)(this.configureStreamingSettingsParameters),this.makeResult("true")}mergeConfigureStreamingSettings(a){a.gxtOverrideData&&(this.configureStreamingSettingsParameters.gxtOverrideData=a.gxtOverrideData),null!=a.isInternalUser&&(this.configureStreamingSettingsParameters.isInternalUser=a.isInternalUser),a.overrideData&&(this.configureStreamingSettingsParameters.overrideData=a.overrideData)}GetUnifiedAPIVersion(a){return this.makeResult(e.CLIENT_VERSION)}updateEventInfoGuids(a){return this.streamingProfileGuid=a.payload.streamingProfileGuid,this.systemInfoGuid=a.payload.systemInfoGuid,this.makeResult("true")}getStream(){const a=[],y=[];return y.push({kind:"video",trackId:"njkl"}),a.push({streamId:"abcdef12345",tracks:y}),a}mapDeviceTypeFromSystemInfo(a){let y;return a===L.z7.Phone?y="PHONE":a===L.z7.Tablet?y="TABLET":a===L.z7.TV&&(y="TV"),y}isVsyncToggleSupported(){return this.makeResult("false")}registerGridServerAnalyticsCallback(a){return this.makePersistentResult(this.gridServerAnalyticsEvent.asObservable())}notImplemented(){return this.makeError(500,"Not implemented")}winCloseOsr(a){return this.makeResult("osrClose")}winOpenOsr(a){return this.makeResult("osrOpen")}CalculateDataUsage(a){let y=a.payload.bitRateKbps;0===y&&(y=e.CalculateMaxBitrateKbps(a.payload.width,a.payload.height,a.payload.frameRate));const M=e.CalculateDataUsage(a.payload.frameRate,y);return this.makeResult(JSON.stringify({dataUsage:M}))}UpdateAdState(a){var y;return this.logger.info("Sending updates to ad info:",a.payload),null===(y=this.gridServer)||void 0===y||y.updateAdState(a.payload),this.makeResult("true")}findGpuName(a,y){let M="";const P=null==a?void 0:a.findIndex(K=>K.gpuName===y);return P>=0&&(M=a[P].mappedGpuName),M}mapInputBitDepthToGridServerBitDepth(a){let y=0;return y=a===f.yQ7.value?1:0,y}}return(b=I).\u0275fac=function(a){return new(a||b)(l.LFG(l.R0b),l.LFG(L.ed),l.LFG(L._V),l.LFG(o.Dc),l.LFG(L.nr))},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})();var R=t(89857);let _=(()=>{var b;class I{constructor(a,y,M){this.bridgeService=y,this.telemetryService=M,this.logger=a.getLogger("gridServerAnalyticsEventHandlerService")}initiateAnalyticsEvents(){this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.RegisterGridServerAnalyticsCallback).subscribe(a=>{this.parseAndSendData(a)})}parseAndSendData(a){let y=R.KM.Behavioral;typeof a<"u"&&("functional"===a.gdprLevel?y=R.KM.Functional:"technical"===a.gdprLevel?y=R.KM.Technical:"behavioral"===a.gdprLevel&&(y=R.KM.Behavioral)),this.bridgeService.executeCommand(i.Gh.Common.Telemetry.SendGridServerAnalyticsEvent,a).subscribe()}}return(b=I).\u0275fac=function(a){return new(a||b)(l.LFG(L.ed),l.LFG(L.dF),l.LFG(R.y0))},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})()},40321:(Dt,ct,t)=>{"use strict";t.d(ct,{$:()=>tt});var e=t(32484),i=t(49481),L=t(9681),f=t(6776),x=t(30502),S=t(15746),u=t(87965),g=t(46939),h=t(36520),O=t(30688),E=t(47422),w=t(85046),p=t(57536),V=t(78943),c=t(13963),C=t(32392),l=t(42241);const o=new Map([[15867908,l.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP],[15867909,l.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]]),n=new Map([[15867908,l.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP],[15867909,l.Y6.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP]]),s=new Map([[15868718,l.Sj.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT]]),R=new Map([[3237093894,l.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED]]);var _=t(97394),b=t(21120);const I_create=ot=>new p.GridApp(ot);var q=t(32634),a=t(77869),y=t(61699),M=t(31157),P=t(64950),K=t(77550);const B=V.Gh.Gfn.Streaming,j=[{name:"DUALSHOCK4_GAMEPAD",device:1},{name:"DUALSENSE_GAMEPAD",device:2}];let tt=(()=>{var ot;class F extends c.nM{constructor(z,Q,dt,X,m,Y,D,N,Z,W){super(),this.zone=z,this.loggingService=Q,this.libLoggingService=dt,this.windowService=X,this.projectInterfaceService=m,this.distributedTracing=Y,this.platformInfoService=D,this.deeplinkHelperService=N,this.guestModeHelperService=Z,this.streamerErrorHelperService=W,this.gfnClientUI="GFN_CLIENT_UI",this.isInputEnabled=!0,this.ragnarokCodesNotificationMap=new Map,this.ragnarokExtenedCodesNotificationMap=new Map,this.isComboKeyHelperInitialized$=new e.xQ,this.streamingProfileGuid="",this.systemInfoGuid="",this.eventDataElements={},this.statsEnabled=!1,this.logger=Q.getLogger("crimson/browser/streaming-plugin"),this.streamingEvents=new e.xQ,this.streamingStats=new e.xQ,this.micEvents=new e.xQ}get handlers(){return{module:B.Start.module,commands:{[B.Start.method]:this.start.bind(this),[B.Prepare.method]:this.prepare.bind(this),[B.SetAuthInfo.method]:this.setAuthInfo.bind(this),[B.SetAuthToken.method]:this.setAuthToken.bind(this),[B.Stop.method]:this.stop.bind(this),[B.GetActiveSessions.method]:this.getActiveSessions.bind(this),[B.GetSessionInfo.method]:this.getSessionInfo.bind(this),[B.Cancel.method]:this.cancel.bind(this),[B.Resume.method]:this.resume.bind(this),[B.PauseStreaming.method]:this.pauseStreaming.bind(this),[B.UpdateRemoteConfig.method]:this.updateRemoteConfig.bind(this),[B.RegisterCallback.method]:this.registerCallback.bind(this),[B.OpenOsr.method]:this.winOpenOsr.bind(this),[B.CloseOsr.method]:this.winCloseOsr.bind(this),[B.OsrRegisterCustomKeyPress.method]:this.osrRegisterKeypress.bind(this),[B.OsrUnregisterCustomKeyPress.method]:this.osrUnregisterKeypress.bind(this),[B.OsrRegisterKeyPressCallback.method]:this.osrRegisterKeypressCallback.bind(this),[B.OsrSetOverlayResolution.method]:this.osrSetOverlayResolution.bind(this),[B.GetStreamVolume.method]:this.getStreamVolume.bind(this),[B.SetStreamVolume.method]:this.setStreamVolume.bind(this),[B.ToggleUserInput.method]:this.toggleUserInput.bind(this),[B.SendUnicode.method]:this.sendUnicode.bind(this),[B.SetVirtualKeyboardState.method]:this.setVirtualKeyboardState.bind(this),[B.SetVideoTransforms.method]:this.setVideoTransforms.bind(this),[B.RegisterMicCallback.method]:this.registerMicCallback.bind(this),[B.ShouldDefaultEnableMic.method]:this.shouldDefaultEnableMic.bind(this),[B.GetMicState.method]:this.getMicState.bind(this),[B.SetMicState.method]:this.setMicState.bind(this),[B.ConfigureStreamingSettings.method]:this.ConfigureStreamingSettings.bind(this),[B.GetUnifiedAPIVersion.method]:this.GetUnifiedAPIVersion.bind(this),[B.OsrCheckKeyPressCombination.method]:this.OsrCheckKeyPressCombination.bind(this),[B.SetKeyboardLayout.method]:this.SetKeyboardLayout.bind(this),[B.UpdateEventInfoGuids.method]:this.updateEventInfoGuids.bind(this),[B.ToggleJoystickMouse.method]:this.toggleJoystickMouse.bind(this),[B.UpdateEventDataElements.method]:this.updateEventDataElements.bind(this),[B.SendClipboardUpdate.method]:this.sendClipboardData.bind(this),[B.PlatformGetMaxBitRateForArray.method]:this.platformGetMaxBitRateForArray.bind(this),[B.SendKeyEvent.method]:this.SendKeyEvent.bind(this),[B.GetStreamStats.method]:this.getStreamStats.bind(this),[B.VsyncToggle.method]:this.isVsyncToggleSupported.bind(this),[B.SetStreamingMaxBitrate.method]:this.setStreamingMaxBiteRate.bind(this),[B.SetDrcDfcState.method]:this.setDrcDfcState.bind(this),[B.CalculateDataUsage.method]:this.CalculateDataUsage.bind(this),[B.ToggleISSOStats.method]:this.toggleISSOStats.bind(this),[B.UpdateAdState.method]:this.UpdateAdState.bind(this),[B.GetDeviceCapabilities.method]:this.GetDeviceCapabilities.bind(this),[B.IsPlatformSupportsUHD.method]:this.isUhdSupported.bind(this)}}}get virtualGamepadHandler(){var z;return null===(z=this.gridApp)||void 0===z?void 0:z.getVirtualGamepadHandler()}setMicRecordingEnabled(z){var Q;null===(Q=this.gridApp)||void 0===Q||Q.setMicRecordingEnabled(z)}SetKeyboardLayout(z){return this.zone.runOutsideAngular(()=>{this.gridApp.setKeyboardLayout(z.payload.kbLayout)}),this.makeResult("true")}selectPlatformSpecificMap(z){return z?n:o}toggleISSOStats(z){return this.logger.info("setISSOStatsEnabled called with ",z),this.statsEnabled!==z.payload.enableIsso?(z.payload.enableIsso?this.gridApp.addListener("StreamStatsUpdate",this.statsFunctionRef):this.gridApp.removeListener("StreamStatsUpdate",this.statsFunctionRef),this.statsEnabled=z.payload.enableIsso,this.logger.info("ISSO toggled ",this.statsEnabled)):this.logger.info("ISSO will not be toggled ",this.statsEnabled),this.makeResult("true")}buildRagnarokErrorMap(z,Q){const dt="iOS"===z||"iPadOS"===z,X=parseFloat(Q),m=dt&&X>=15&&X<15.1;_.Y.forEach((Y,D)=>this.ragnarokCodesNotificationMap.set(D,Y)),this.selectPlatformSpecificMap(dt).forEach((Y,D)=>this.ragnarokCodesNotificationMap.set(D,Y)),m&&R.forEach((Y,D)=>this.ragnarokCodesNotificationMap.set(D,Y)),this.streamerErrorHelperService.ragnarokErrorCodesMap=this.ragnarokCodesNotificationMap,s.forEach((Y,D)=>this.ragnarokExtenedCodesNotificationMap.set(D,Y))}initializeGridApp(){return this.platformInfoService.getPlatformInfo().pipe((0,S.b)(z=>{if(this.logger.info("PlatformInfo:",z),!this.gridApp){this.gridApp=I_create(z.details),this.gridApp.updateEventDataElements(this.eventDataElements),this.logger.info("EventDataElements sent to ragnarok after gridapp init:",this.eventDataElements),this.buildRagnarokErrorMap(z.details.os,z.details.osVer);const Q=(dt,X)=>{this.gridApp.addListener(dt,(...m)=>{this.zone.run(()=>{X.bind(this)(m[0])})})};this.projectInterfaceService.sendCustomMessage.subscribe(dt=>{this.sendCustomMessage(dt)}),Q("SessionStartResult",this.onSessionStartResult),Q("SessionStopResult",this.onSessionStopResult),Q("ActiveSessionsResult",this.onActiveSessionResult),Q("GetSessionResult",this.onGetSessionResult),Q("SessionUpdate",this.onSessionUpdate),Q("StreamStopped",this.onStreamStopped),Q("Log",this.onRagnarokLogEvent),Q("StreamingEvent",this.onStreamingEvent),Q("StreamingQuality",this.onStreamingQuality),Q("MicCapture",this.onMicStatusUpdate),Q("CustomMessage",this.onCustomMessage),Q("TextComposition",this.onTextComposition),this.statsFunctionRef=(...dt)=>{this.zone.run(()=>{this.onStreamStatsUpdate.bind(this)(dt[0])})},this.gridApp.addListener("StreamStatsUpdate",this.statsFunctionRef),this.statsEnabled=!0}}))}onStreamingQuality(z){this.streamingEvents.next(JSON.stringify({event:l.V4.STREAMING_QUALITY,streamQuality:z.qualityScore,bandwidthScore:z.bandwidthScore,networkLossScore:z.networkLossScore,latencyScore:z.latencyScore}))}onStreamingEvent(z){if(this.logger.info("callback onStreamingEvent called from nvrtc with eventData, ",z),z.streamingWarnings){const Q={event:l.V4.STREAMING_WARNINGS,time:z.streamingWarnings.secondsLeft};switch(z.streamingWarnings.code){case 1:Q.warning=l.Y6.NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT;break;case 2:Q.warning=l.Y6.NVB_SN_APPROACHING_IDLE_TIMEOUT;break;case 4:Q.warning=l.Y6.NVB_SN_CLEAR_IDLE_TIMEOUT;break;case 3:Q.warning=l.Y6.NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT}this.streamingEvents.next(JSON.stringify(Q))}}onRagnarokLogEvent(z){this.libLoggingService.sendLog({logLevel:z.logLevel,logStr:z.logstr,logTag:z.logtag,timeStamp:z.timeStamp})}mapAppLaunchModeToString(z){switch(z){case 0:return b.xld.Default;case 1:return b.xld.GamepadFriendly;case 2:return b.xld.TouchFriendly}return this.logger.error("mapAppLaunchModeToString Unknown AppLaunchMode value:"+z+" using Default"),b.xld.Default}mapStringToAppLaunchMode(z){switch(z){case b.xld.Default:return 0;case b.xld.GamepadFriendly:return 1;case b.xld.TouchFriendly:return 2}return this.logger.error("mapStringToAppLaunchMode Unknown AppLaunchMode value:"+z+" using Default"),0}mapActiveSessionInfoToSession(z){const Q=[];if(z)for(const dt of z){const X={sessionId:dt.sessionId,appId:dt.appId,appLaunchMode:this.mapAppLaunchModeToString(dt.appLaunchMode),clientId:void 0,deviceId:void 0,status:l.a1.NVB_SESSION_STATUS_UNKNOWN};switch(dt.state){case"initializing":X.status=l.a1.NVB_SESSION_INITIALIZING;break;case"ready_for_connection":X.status=l.a1.NVB_SESSION_READY_FOR_CONNECT;break;case"streaming":X.status=l.a1.NVB_SESSION_STREAMING;break;case"paused":X.status=l.a1.NVB_SESSION_PAUSED_UNINTENTIONAL;break;case"resuming":X.status=l.a1.NVB_SESSION_RESUMING;break;case"finished":X.status=l.a1.NVB_SESSION_FINISHED;break;default:X.status=l.a1.NVB_SESSION_STATUS_UNKNOWN}Q.push(X)}return Q}onSessionStartResult(z){var Q;if(this.logger.info("callback onSessionStartResult called from nvrtc with eventData, ",z),this.zoneName=z.zoneName,z.sessionId&&(null===(Q=this.sessionId)||void 0===Q||Q.next(z.sessionId)),z.error){var dt,X;null===(dt=this.sessionId)||void 0===dt||dt.complete(),this.sessionId=null;const m=null===(X=z.error)||void 0===X?void 0:X.code;if(15867905===m||15867906===m)return}this.streamingEvents.next(q.d.createSessionStartResult(z,this.streamerErrorHelperService.ragnarokErrorCodesMap,this.logger)),z.error||(this.streamingEvents.next(JSON.stringify({event:l.V4.STREAMING_BEGIN})),this.streamingEvents.next(JSON.stringify({event:l.V4.STREAMING_FIRST_FRAME})))}onSessionStopResult(z){var Q;this.logger.info("callback onSessionStopResult called from nvrtc with result, ",z),null===(Q=this.sessionId)||void 0===Q||Q.complete(),this.sessionId=null,this.streamingEvents.next(q.d.createSessionStopResult(z,this.streamerErrorHelperService.ragnarokErrorCodesMap))}onActiveSessionResult(z){this.logger.info("callback onActiveSessionResult called from nvrtc with result, ",z);const Q={event:l.V4.ACTIVE_SESSIONS,result:{extendedError:[],requestId:1,result:0},sessions:this.mapActiveSessionInfoToSession(z.sessionList)};z.error&&(Q.result.result=this.streamerErrorHelperService.ragnarokErrorCodesMap.get(z.error.code)||z.error.code),this.streamingEvents.next(JSON.stringify(Q))}onGetSessionResult(z){this.logger.info("callback onGetSessionResult called from nvrtc with result, ",z),this.streamingEvents.next(q.d.createGetSessionResult(z,this.streamerErrorHelperService.ragnarokErrorCodesMap,this.logger))}onSessionUpdate(z){var Q;this.logger.info("callback onSessionUpdate called from nvrtc with eventData, ",z),z.sessionId&&(null===(Q=this.sessionId)||void 0===Q||Q.next(z.sessionId)),this.streamingEvents.next(q.d.createProgressUpdateEvent(z))}onStreamStopped(z){var Q,dt;this.logger.info("callback onStreamStopped called from nvrtc with eventData object, ",z),null===(Q=this.sessionId)||void 0===Q||Q.complete(),this.sessionId=null;const X={event:l.V4.STREAMING_TERMINATED,extendedCode:null!==(dt=this.ragnarokExtenedCodesNotificationMap.get(z.error.code))&&void 0!==dt?dt:0};X.reason=this.streamerErrorHelperService.ragnarokErrorCodesMap.get(z.error.code)||z.error.code,X.isResumable=z.isResumable,this.streamingEvents.next(JSON.stringify(X))}onMicStatusUpdate(z){const Q={uiMicState:C.tn.PermissionPending,internalMicState:"RAGNAROK_"};switch(z.state){case 0:Q.internalMicState+="UNINITIALIZED",Q.uiMicState=C.tn.PermissionPending;break;case 1:Q.internalMicState+="PERMISSION_PENDING",Q.uiMicState=C.tn.PermissionPending;break;case 6:Q.internalMicState+="UNSUPPORTED",Q.uiMicState=C.tn.PermissionPending;break;case 7:Q.internalMicState+="ERROR",Q.uiMicState=C.tn.PermissionPending;break;case 2:Q.internalMicState+="PERMISSION_DENIED",Q.uiMicState=C.tn.PermissionDenied;break;case 3:Q.internalMicState+="STARTED",Q.uiMicState=C.tn.Unmuted;break;case 4:Q.internalMicState+="NO_SUITABLE_DEVICE",Q.uiMicState=C.tn.NoMicFound;break;case 5:Q.internalMicState+="STOPPED",Q.uiMicState=C.tn.Muted}this.logger.info("State event received:",z.state,"state sent to MicrophoneService:",Q),this.micEvents.next(JSON.stringify(Q))}onCustomMessage(z){const Q=z;this.processCustomMessage(Q),this.projectInterfaceService.onCustomMessage(Q)}processCustomMessage(z){if(z.messageRecipient===this.gfnClientUI)switch(z.messageType){case b.wMv.paste:case b.wMv.zoneMaintenance:case b.wMv.sessionLengthTimer:this.logger.info("Browser client message event: ",z),this.streamingEvents.next(JSON.stringify({event:l.V4.STREAMING_CLIENT_MESSAGE,message:JSON.parse(z.data)}))}}onTextComposition(z){this.streamingEvents.next(JSON.stringify({event:l.V4.TEXT_COMPOSITION,compositionText:z.compositionText,imeRecommendation:z.imeRecommendation}))}setStreamingMaxBiteRate(z){return this.zone.runOutsideAngular(()=>{try{this.gridApp.setStreamingMaxBitrate(z.payload.kbps,z.payload.streamIdx)}catch(Q){return this.logger.info("SetStreamingMaxBitrateParameters bridge command failed with error ",Q),this.makeError(500,Q)}return this.makeResult("true")})}setDrcDfcState(z){return this.zone.runOutsideAngular(()=>{try{this.gridApp.setDrcDfcState(z.payload.enabled,z.payload.streamIdx)}catch(Q){return this.logger.info("SetDrcDfcStateParameters bridge command failed with error ",Q),this.makeError(500,Q)}return this.makeResult("true")})}getStreamStats(z){return this.makePersistentResult(this.streamingStats.asObservable())}onStreamStatsUpdate(z){const Q=z.totalBandwidth*z.utilizedBandwidth*10,dt={streamStats:{frameRate:z.fps,avgGameFrameRate:Math.round(z.avgGameFps),droppedFrames:z.frameLoss,packetloss:z.packetLoss,roundTripDelayMs:z.rtd,bandwidthUtilization:Math.round(z.utilizedBandwidth),streamBitrate:Q,bandwidth:1e3*z.totalBandwidth,frameWidth:z.streamingResolution.width,frameHeight:z.streamingResolution.height,serverZone:this.zoneName,codec:z.codec,bitDepth:z.bitDepth}};this.streamingStats.next(dt)}generateAuthToken(z){return this.logger.info("callback generateAuthToken called from nvrtc"),this.streamingEvents.next(JSON.stringify({event:l.V4.UPDATE_AUTH_TOKEN,spanData:z})),this.authTokenSubject=new e.xQ,this.authTokenSubject.toPromise()}startInternal(z){var Q,dt;const X={appId:z.payload.appId.toString(),appLaunchMode:this.mapStringToAppLaunchMode(z.payload.appLaunchMode),streamParams:[{width:z.payload.streamingProfile.width,height:z.payload.streamingProfile.height,fps:z.payload.streamingProfile.fps,maxBitrateKbps:z.payload.streamingProfile.maxBitrate,videoTagId:"remote-video",audioTagId:"remote-audio",drc:z.payload.streamingProfile.drc}],metaData:{...z.payload.metaData,surroundAudioInfo:z.payload.audioModeFormat.toString()},allowKeyboardLayoutChange:z.payload.allowKeyboardLayoutChange,keyboardLayout:z.payload.keyboardLayout,clientLocale:z.payload.locale,accountLinked:z.payload.accountLinked,shortName:z.payload.gameShortName,networkSessionId:z.payload.networkSessionId,partnerCustomData:z.payload.partnerCustomData,enablePersistingInGameSettings:z.payload.persistingInGameSettings,userAge:null!==(Q=null===(dt=z.payload)||void 0===dt?void 0:dt.userAge)&&void 0!==Q?Q:0},m=z.payload.supportedControls;let Y=0;for(const D of m){const N=j.find(Z=>Z.name===D);N&&(Y|=N.device)}return Y&&(X.additionalInputDevices=Y),this.logger.info("Final streaming params:",X),this.sessionId=new i.t(1),this.distributedTracing.runWithinSpanContext(z.payload.spanData,()=>{const D=z.payload.session;D?(this.sessionId.next(D),this.gridApp.resumeSession(X,D)):this.gridApp.startSession(X)}),this.makeResult("true")}start(z){return this.zone.runOutsideAngular(()=>this.startInternal(z))}prepareInternal(z){return this.initializeGridApp().pipe((0,u.zg)(Q=>{var dt;const X=new Map;null===(dt=z.payload.clientHeaders)||void 0===dt||dt.forEach(D=>{X.set(D.headerName,D.headerValue)});const m={clientAppVersion:z.payload.clientAppVersion,deviceHashId:z.payload.deviceId,serverAddress:z.payload.address,authTokenCallback:D=>this.zone.run(()=>this.generateAuthToken(D)),textInputElement:document.getElementById("hiddentext"),clientHeaders:X};var Y;return this.deeplinkHelperService.windowedMode&&(m.windowedStreaming=!0,m.cursorType=null!==(Y=this.guestModeHelperService.getGuestModeConfig())&&void 0!==Y&&Y.isWindowedModeCursorTypeFree?2:1),this.gridApp.initialize(m)?this.makeResult("true"):this.makeError(500,"Grid application cannot be initialized")}))}prepare(z){return this.zone.runOutsideAngular(()=>this.prepareInternal(z))}setAuthInfo(z){return this.zone.runOutsideAngular(()=>{let Q=0;switch(z.payload.tokenType){case b.qql.NVB_AUTH_JWT_GFN:Q=1;break;case b.qql.NVB_AUTH_JWT:Q=2}return this.gridApp.setAuthInfo({type:Q,token:z.payload.token}),this.makeResult("true")})}setAuthToken(z){return this.authTokenSubject.next(z.payload.token),this.authTokenSubject.complete(),this.authTokenSubject=null,this.makeResult("true")}stopInternal(z){const Q=z.payload.session;return Q||this.sessionId?(Q?(0,L.of)(Q):this.sessionId.asObservable()).pipe((0,g.q)(1),(0,S.b)(X=>{const m=z.payload.reasonCode;this.logger.info("Stopping session ",X,m?`reason: 0x${m.toString(16)}`:""),this.distributedTracing.runWithinSpanContext(z.payload.spanData,()=>{this.gridApp.stopSession(X,m)})}),(0,u.zg)(X=>this.makeResult("true"))):this.makeError(500,"No session to be stopped")}stop(z){return this.zone.runOutsideAngular(()=>this.stopInternal(z))}getActiveSessions(z){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(z.payload.spanData,()=>{this.gridApp.getActiveSessions()})}),this.makeResult("true")}getSessionInfo(z){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(z.payload.spanData,()=>{this.gridApp.getSession(z.payload.session)})}),this.makeResult("true")}cancel(z){return this.makeResult("true")}resume(z){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(z.payload.spanData,()=>{this.gridApp.resume()})}),this.makeResult("true")}pauseStreamingInternal(){var z;return(null!==(z=this.sessionId)&&void 0!==z?z:(0,L.of)(void 0)).subscribe(dt=>{this.gridApp.pauseSession(dt)}),this.makeResult("true")}pauseStreaming(z){return this.zone.runOutsideAngular(()=>this.pauseStreamingInternal())}updateRemoteConfig(z){return this.makeResult("true")}registerCallback(z){return this.makePersistentResult(this.streamingEvents.asObservable())}winCloseOsr(z){return this.isInputEnabled&&(this.logger.info("InputToggle: Closing OSR"),this.zone.runOutsideAngular(()=>{var Q;null===(Q=this.gridApp)||void 0===Q||Q.toggleUserInput(!0),this.isInputEnabled=!1})),this.makeResult("osrClose")}winOpenOsr(z){return(this.isInputEnabled&&!z.payload.enableInput||!this.isInputEnabled&&z.payload.enableInput)&&(this.logger.info("InputToggle: Opening OSR with enableInput:",z.payload.enableInput),this.zone.runOutsideAngular(()=>{var Q;null===(Q=this.gridApp)||void 0===Q||Q.toggleUserInput(!z.payload.enableInput),this.isInputEnabled=!this.isInputEnabled})),this.makeResult("osrOpen")}osrRegisterKeypress(z){return this.makeResult("true")}osrUnregisterKeypress(z){return this.makeResult("true")}osrRegisterKeypressCallback(z){return this.comboKeyHelper||(this.comboKeyHelper=new c.n2(this.loggingService,z.payload.osType,!0),this.projectInterfaceService.isNonEnglishKeyboardLayout.subscribe(Q=>{this.comboKeyHelper.setNonEnglishKeyboardLayout(Q),this.isComboKeyHelperInitialized$.next(!0),this.isComboKeyHelperInitialized$.complete()})),this.zone.runOutsideAngular(()=>{this.projectInterfaceService.enableListener.pipe((0,h.w)(Q=>Q?this.windowService.getKeydownEvent():f.C),(0,O.j)(Q=>this.isComboKeyHelperInitialized$)).subscribe(Q=>{Q&&this.comboKeyHelper.processKeyDownEventForHotkeyInvocation(Q)})}),this.makePersistentResult(this.comboKeyHelper.shortcutData.pipe((0,O.j)(Q=>this.isComboKeyHelperInitialized$),(0,E.U)(Q=>this.projectInterfaceService.checkIfShortcutIsPresentCallback(Q)),(0,w.h)(Q=>Q.length>0),(0,E.U)(Q=>(Q=Q.map(dt=>dt in c.zl?c.zl[dt].toLowerCase():String.fromCharCode(dt).toLowerCase())).join("-"))))}osrSetOverlayResolution(z){return this.makeResult("true")}getStreamVolume(z){return this.makeResult("true")}setStreamVolume(z){return this.makeResult("true")}toggleUserInput(z){return this.logger.info("InputToggle: Toggling input:",z.payload.enable),this.zone.runOutsideAngular(()=>{this.gridApp.toggleUserInput(z.payload.enable)}),this.makeResult("true")}toggleJoystickMouse(z){return this.logger.info("Toggling RSMouse/LSMouse: ",z.payload.enable),this.zone.runOutsideAngular(()=>{var Q;null===(Q=this.gridApp)||void 0===Q||Q.toggleRsdmm(z.payload.enable)}),this.makeResult("true")}sendUnicode(z){return this.zone.runOutsideAngular(()=>{const Q=z.payload.unicodeInput,dt=Q instanceof Uint8Array?Q:new Uint8Array(Q);this.gridApp.sendTextInput(dt.buffer)}),this.makeResult("true")}setVirtualKeyboardState(z){return this.zone.runOutsideAngular(()=>{var Q;null===(Q=this.gridApp)||void 0===Q||Q.setVirtualKeyboardState(z.payload.visible)}),this.makeResult("true")}setVideoTransforms(z){return this.zone.runOutsideAngular(()=>{this.gridApp.setVideoTransforms(z.payload.offsetX,z.payload.offsetY,z.payload.zoomFactor)}),this.makeResult("true")}registerMicCallback(z){return this.makePersistentResult(this.micEvents.asObservable())}shouldDefaultEnableMic(z){return this.zone.runOutsideAngular(()=>this.makeResult(this.gridApp.shouldDefaultEnableMic()?"true":"false"))}getMicState(z){return this.zone.runOutsideAngular(()=>{this.gridApp.getMicState()}),this.makeResult("true")}setMicState(z){return this.zone.runOutsideAngular(()=>{this.gridApp.setMicRecordingEnabled(z.payload.enable)}),this.makeResult("true")}ConfigureStreamingSettings(z){return this.logger.info("Streaming settings config:",z.payload),this.zone.runOutsideAngular(()=>{p.ConfigureRagnarokSettings(z.payload)}),this.makeResult("true")}GetUnifiedAPIVersion(z){return this.makeResult(p.CLIENT_VERSION)}OsrCheckKeyPressCombination(){return this.makeResult("true")}sendCustomMessage(z){var Q;null===(Q=this.gridApp)||void 0===Q||Q.sendCustomMessage(z)}updateEventInfoGuids(z){var Q;return this.streamingProfileGuid=z.payload.streamingProfileGuid,this.systemInfoGuid=z.payload.systemInfoGuid,this.eventDataElements.telemetryEventIds={streamingProfileGuid:z.payload.streamingProfileGuid,systemInfoGuid:z.payload.systemInfoGuid},null===(Q=this.gridApp)||void 0===Q||Q.updateEventDataElements(this.eventDataElements),this.logger.info("EventInfoGuids sent to ragnarok with other event data elements"),this.makeResult("true")}updateEventDataElements(z){var Q,dt;return this.eventDataElements.commonData={...this.eventDataElements.commonData,...z.payload.commonData},this.eventDataElements.config=null!==(Q=z.payload.config)&&void 0!==Q?Q:this.eventDataElements.config,this.eventDataElements.telemetryEventIds={streamingProfileGuid:this.streamingProfileGuid,systemInfoGuid:this.systemInfoGuid},null===(dt=this.gridApp)||void 0===dt||dt.updateEventDataElements(this.eventDataElements),this.logger.info("EventDataElements sent to ragnarok"),this.makeResult("true")}sendClipboardData(z){return this.projectInterfaceService.postCustomMessage(z.payload.clipboardInfo,b.gOl.UIPlugin,b.wMv.paste),this.makeResult("true")}platformGetMaxBitRateForArray(z){const Q=[];return z.payload.resolutions.forEach(X=>{const m=p.CalculateMaxBitrateKbps(X.width,X.height,X.frameRate);Q.push({width:X.width,height:X.height,fps:X.frameRate,maxBandwidth:m})}),this.makeResult(JSON.stringify({resolutions:Q}))}SendKeyEvent(z){const Q=z.payload.keyEvent;var dt;return Q instanceof KeyboardEvent?(null===(dt=this.gridApp)||void 0===dt||dt.sendKeyEvent(Q),this.makeResult("true")):this.makeError(500,"event is not KeyboardEvent")}isVsyncToggleSupported(){return this.makeResult("false")}CalculateDataUsage(z){let Q=z.payload.bitRateKbps;0===Q&&(Q=p.CalculateMaxBitrateKbps(z.payload.width,z.payload.height,z.payload.frameRate));const dt=p.CalculateDataUsage(z.payload.frameRate,Q);return this.makeResult(JSON.stringify({dataUsage:dt}))}UpdateAdState(z){var Q;return this.logger.info("Sending updates to ad info:",z.payload),null===(Q=this.gridApp)||void 0===Q||Q.updateAdState(z.payload),this.makeResult("true")}GetDeviceCapabilities(z){var Q,dt;this.logger.verbose("Get device capabilities:",z.payload);const X=null!==(Q=null===(dt=z.payload)||void 0===dt?void 0:dt.supportedModes)&&void 0!==Q?Q:[];return this.zone.runOutsideAngular(()=>this.getDeviceCapabilitiesInternal(X).pipe((0,u.zg)(m=>this.makeResult(JSON.stringify(m)))))}getDeviceCapabilitiesInternal(z){return this.platformInfoService.getPlatformInfo().pipe((0,h.w)(Q=>(0,x.D)(p.GetDeviceCapabilities(Q.details,z))))}isUhdSupported(){return c.ng.isPWAModeOnSamsungTV()?this.makeResult(`${this.isUhdSupportedOnSamsungTV()}`):c.ng.isPWAModeOnLGTV()?this.makeResult(`${this.isHevcSupportedOnLGTV()}`):this.platformInfoService.getPlatformInfo().pipe((0,u.zg)(z=>this.makeResult(`${"iPadOS"===z.details.os&&"VISIONPRO"===z.details.deviceModel}`)))}isUhdSupportedOnSamsungTV(){if(this.logger.info("Checking UHD support on Tizen TV..."),!(0,a.gd)())return this.logger.info("This TV panel does not support UHD"),!1;const z=(0,a.bq)(),{year:Q,version:dt}=(0,a.L2)(z);if(!Q||!dt)return this.logger.error("Failed to parse TV server year and version from",z),!1;const X=+Q,m=+dt;return this.logger.info(`TV server year (${X}) version (${m})`),2021===X||X>=2023||2022===X&&m>=1008}isHevcSupportedOnLGTV(){return this.logger.info("Checking HEVC support on LG TV..."),!!window.lge_webrtc_hevc_support}}return(ot=F).\u0275fac=function(z){return new(z||ot)(y.LFG(y.R0b),y.LFG(c.ed),y.LFG(c._V),y.LFG(c.un),y.LFG(C.m3),y.LFG(M.Dc),y.LFG(P.tu),y.LFG(b.gIP),y.LFG(b.hTr),y.LFG(K.q))},ot.\u0275prov=y.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),F})()},97394:(Dt,ct,t)=>{"use strict";t.d(ct,{Y:()=>i});var e=t(42241);const i=new Map([[15868737,e.Y6.NVB_SN_ENTITLEMENT_TIMEOUT],[15868708,e.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT],[15867913,e.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT],[15868739,e.Y6.NVB_SN_TERMINATED_BY_OPERATOR],[15868704,e.Y6.NVB_SN_STOPPED_BY_USER],[15868741,e.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT],[15868743,e.Y6.NVB_SN_TERMINATED_BY_PM],[15868707,e.Y6.NVB_SN_TERMINATED_WINDOWED_MODE],[15868709,e.Y6.NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS],[15868710,e.Y6.NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS],[15868712,e.Y6.NVB_SN_TERMINATED_MINER_PROCESS_ACCESS],[15868711,e.Y6.NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS],[15868744,e.Y6.NVB_SN_TERMINATED_MULTIPLE_LOGIN],[15868714,e.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT],[3237089282,e.dq.NVB_R_NETWORK_ERROR],[3237089281,e.dq.NVB_R_NETWORK_ERROR],[3237093895,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093377,e.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED],[3237093643,e.dq.NVB_R_SESSION_LIMIT_REACHED],[3237093889,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093890,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093892,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093893,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093894,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093900,e.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093673,e.dq.NVB_R_APPLICATION_PATCHING],[3237093379,e.dq.NVB_R_INVALID_SERVER_RESPONSE],[3237093654,e.dq.NVB_R_SESSION_NOT_ACTIVE],[3237093668,e.dq.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL],[3237093670,e.dq.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT],[3237093650,e.dq.NVB_R_USER_IS_NOT_ENTITLED],[3237093632,e.dq.NVB_R_SERVER_ERROR],[3237093656,e.dq.NVB_R_SEVER_MAINTENANCE_MODE],[3237093657,e.dq.NVB_R_SERVER_OUT_OF_SERVICE],[3237093901,e.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093906,e.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093899,e.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093694,e.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED],[3237093688,e.dq.NVB_R_APP_MAINTENANCE_STATUS],[3237093678,e.dq.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT],[3237093642,e.dq.NVB_R_TOO_MANY_SERVER_REQUESTS],[3237093693,e.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED],[3237093695,e.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING],[3237093698,e.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION],[3237093674,e.dq.NVB_R_INVALID_APP_IDENTIFIER],[15868717,e.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER],[15868417,e.dq.NVB_R_NETWORK_ERROR],[15868418,e.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093703,e.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE],[3237093704,e.dq.NVB_R_ZONE_MAITENANCE_STATUS],[15868745,e.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE],[3237093707,e.dq.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION],[3237093711,e.dq.NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED],[3237093712,e.dq.NVB_R_USER_CANCELED_WATCHING_ADS],[15868752,e.Y6.SERVER_DISCONNECTED_MULTIPLE_TAB]])},32634:(Dt,ct,t)=>{"use strict";t.d(ct,{d:()=>L});var e=t(42241),i=t(21120);class L{static mapAppLaunchModeToString(x,S){switch(x){case 0:return i.xld.Default;case 1:return i.xld.GamepadFriendly;case 2:return i.xld.TouchFriendly}return S.error("mapAppLaunchModeToString Unknown AppLaunchMode value:"+x+" using Default"),i.xld.Default}static mapStringToAppLaunchMode(x,S){switch(x){case i.xld.Default:return 0;case i.xld.GamepadFriendly:return 1;case i.xld.TouchFriendly:return 2}return S.error("mapStringToAppLaunchMode Unknown AppLaunchMode value:"+x+" using Default"),0}static mapActiveSessionInfoToSession(x,S){const u=[];if(x)for(const g of x){const h={sessionId:g.sessionId,appId:g.appId,appLaunchMode:L.mapAppLaunchModeToString(g.appLaunchMode,S),clientId:void 0,deviceId:void 0,status:e.a1.NVB_SESSION_STATUS_UNKNOWN};switch(g.state){case"initializing":h.status=e.a1.NVB_SESSION_INITIALIZING;break;case"ready_for_connection":h.status=e.a1.NVB_SESSION_READY_FOR_CONNECT;break;case"streaming":h.status=e.a1.NVB_SESSION_STREAMING;break;case"paused":h.status=e.a1.NVB_SESSION_PAUSED_UNINTENTIONAL;break;case"resuming":h.status=e.a1.NVB_SESSION_RESUMING;break;case"finished":h.status=e.a1.NVB_SESSION_FINISHED;break;default:h.status=e.a1.NVB_SESSION_STATUS_UNKNOWN}u.push(h)}return u}static createSessionStartResult(x,S,u){const g={event:e.V4.SESSION_SETUP_SUCCESS,gpuType:x.gpuType};return x.sessionId&&(g.sessionId=x.sessionId,g.subSessionId=x.subSessionId,g.streams=x.streams),x.error&&(g.event=x.isResume?e.V4.SESSION_RESUME_FAILURE:e.V4.SESSION_SETUP_FAILURE,g.result={result:S.get(x.error.code)||x.error.code},g.sessions=L.mapActiveSessionInfoToSession(x.sessionList,u)),JSON.stringify(g)}static createSessionStopResult(x,S){const u={event:e.V4.STOP_RESULT};return x.sessionId&&(u.sessionId=x.sessionId,u.subSessionId=x.subSessionId),x.error&&(u.result={result:S.get(x.error.code)||x.error.code}),JSON.stringify(u)}static createGetSessionResult(x,S,u){const h={event:e.V4.GET_SESSION_INFO,result:{extendedError:[],requestId:1,result:0},sessions:L.mapActiveSessionInfoToSession([{sessionId:x.sessionId,appId:x.appId,appLaunchMode:x.appLaunchMode,state:x.state}],u)};return x.error&&(h.result.result=S.get(x.error.code)||x.error.code),JSON.stringify(h)}static createProgressUpdateEvent(x){var S;const u={event:e.V4.SESSION_SETUP_PROGRESS,eta:x.eta,queuePosition:x.queuePosition,isAdsRequired:x.isAdsRequired,ads:[],sessionId:x.sessionId,subSessionId:x.subSessionId};switch(x.progressState){case"Connecting":u.state=e.Py.NVB_SSS_CONNECTING;break;case"InQueue":u.state=e.Py.NVB_SSS_QUEUEPOSITION;break;case"Configuring":u.state=e.Py.NVB_SSS_CONFIGURING;break;case"StartingStreamer":u.state=e.Py.NVB_SSS_STARTINGSTREAMER;break;case"PreviousSessionCleanup":u.state=e.Py.NVB_SSS_PREVIOUS_SESSION_CLEANUP}return null===(S=x.ads)||void 0===S||S.forEach(g=>{u.ads.push(g)}),JSON.stringify(u)}}},43742:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>C});var e=t(32484),i=t(64555),L=t(9681),f=t(73992),x=t(328),S=t(46939),u=t(47422),g=t(78943),h=t(13963),O=t(21120),E=t(56490),w=t(64441),p=t(82973),V=t(61699),c=t(89857);let C=(()=>{var l;class o{constructor(s,R,_,b,I,q,a,y,M,P,K,B,j,tt,ot){this.telemetryService=R,this.streamerConfigService=_,this.streamingManagerService=b,this.networkConfigurationService=I,this.streamingProfileService=q,this.bridgeService=a,this.networkTestService=y,this.serverRoutingService=M,this.gameLaunchAnalyticsService=P,this.pathService=K,this.guestModeHelperService=B,this.ownershipSyncService=j,this.ecommerceService=tt,this.sharedSettingsService=ot,this.oobeShown=!1,this.gameLaunchStepList=[w.$D.UpdateCheck,w.$D.PreStreaming,w.$D.Authentication,w.$D.PlatformSelection,w.$D.AccountLinking,w.$D.Authorization,w.$D.NetworkTest,w.$D.Loading],this.overlappingDurations=[O.FRL.Lbr,O.FRL.SessionQueue],this.seatSetupDurations=[O.FRL.StreamerClientSetupDuration,O.FRL.StreamerConnectionDuration,O.FRL.SeatConfigDuration,O.FRL.StreamingStartDuration,O.FRL.SessionQueue],this.seatSetupOverlappingDurations=[O.FRL.StreamerConnectionDuration,O.FRL.SeatConfigDuration,O.FRL.SessionQueue],this.gameFeatureState=[{name:"",state:""}],this.seatSetupSequence$=new e.xQ,this.seatSetupSequenceCount=[],this.logger=s.getLogger("gameSessionAnalyticsService"),this.resetNetworkTestResult(),this.resetResumeType(),this.resetGameLaunchDurationsMatrix(),this.resetdialogInteractionDurations(),this.pathService.onExitingStreamer.subscribe(F=>{F&&this.cleanupGameLaunchMetrics()}),this.seatSetupEventSequence=[],this.recordAndLogSeatSetupSequence()}resetNetworkTestResult(){this.networkTestUIResult=O.DYb.Unknown}resetResumeType(){this.resumeType=O.NuE.None}getStreamingManagerCallbacks(s){return{callbackContext:this,onStateBegin:()=>{},onStateEnd:this.generateCallback(s).bind(this),onTerminalError:R=>this.onErrorState(s,R)}}initGameSessionAnalytics(){this.gameLaunchStepList.forEach(s=>{this.streamingManagerService.register(s,this.getStreamingManagerCallbacks(s))}),this.networkTestService.lbrState.subscribe(s=>{this.streamingManagerService.inActiveState()?s===O.eTr.Started?this.startGameLaunchDuration(O.FRL.Lbr):s===O.eTr.Finished&&this.stopGameLaunchDuration(O.FRL.Lbr):this.logger.info("Skipping LBR duation measrement since not triggered from Game Launch path")})}handleGeronimoLaunchResult(s,R=""){this.sendGameLaunchDurationEvent(s,R)}nextSeatSeatupEvent(s,R){this.seatSetupSequence$.next([s,R])}recordAndLogSeatSetupSequence(){this.seatSetupSequence$.subscribe(([s,R])=>{R?(this.logger.info("Seat setup sequence and count is ",this.seatSetupSequenceCount),this.seatSetupSequenceCount=[]):0!==this.seatSetupSequenceCount.length&&this.seatSetupSequenceCount.slice(-1)[0][0]!==s||0===this.seatSetupSequenceCount.length?this.seatSetupSequenceCount.push([s,1]):this.seatSetupSequenceCount[this.seatSetupSequenceCount.length-1][1]+=1})}handleGameLaunchFailure(s){this.sendGameLaunchDurationEvent(s)}updateGameLaunchDurations(s,R){this.updateSeatSetupEventSequence(R),this.stopGameLaunchDuration(s),R?(this.seatSetupOverlappingDurations.includes(R)&&this.gameLaunchDurations.get(R).duration&&(this.gameLaunchDurations.get(R).previousDurationCarry=this.gameLaunchDurations.get(R).duration),this.gameLaunchDurations.get(R).start=Date.now()):this.logger.info("Game launch durations measured upto session start: ",this.gameLaunchDurations)}moveGameLaunchDuration(s,R){this.gameLaunchDurations.get(s).start=this.gameLaunchDurations.get(R).start,this.gameLaunchDurations.get(s).duration=this.gameLaunchDurations.get(R).duration,this.gameLaunchDurations.get(R).start=0,this.gameLaunchDurations.get(R).duration=0}startGameLaunchDuration(s){s===O.FRL.StreamerClientSetupDuration&&(this.seatSetupEventSequence=[],this.updateSeatSetupEventSequence(O.FRL.StreamerClientSetupDuration)),this.gameLaunchDurations.get(s).start&&this.resetGameLaunchDuration(s),this.logger.info("starting game launch step duration",s),this.gameLaunchDurations.get(s).start=s===O.FRL.StreamerJsInit?window.jsInitStartTs:Date.now()}stopGameLaunchDuration(s){const R=this.gameLaunchDurations.get(s).start;this.logger.info("Current step: ",s," , Time stamp: ",R),this.gameLaunchDurations.get(s).duration=0!==R?Date.now()-R:0,this.seatSetupOverlappingDurations.includes(s)&&this.gameLaunchDurations.get(s).previousDurationCarry&&(this.gameLaunchDurations.get(s).duration+=this.gameLaunchDurations.get(s).previousDurationCarry,this.gameLaunchDurations.get(s).previousDurationCarry=0),this.logger.info("Game launch duration for ",s," is: ",this.gameLaunchDurations.get(s).duration)}resetGameLaunchDuration(s){this.logger.info("reset game launch duration for step: ",s),this.gameLaunchDurations.get(s).duration=0,this.gameLaunchDurations.get(s).start=0,this.gameLaunchDurations.get(s).previousDurationCarry=0}setIsOobeShown(s){this.oobeShown=s}setDialogInteractionDuration(s,R){this.dialogInteractionDurations.set(s,R)}setNetworkTestUIResult(s){this.networkTestUIResult=s}setAuthenticationStatus(s){this.authenticationStatus=s}setResumeType(s){this.resumeType=s}getVSyncMode(s){return s===O.OAB.ValueAdaptive.value?O.ef6.Adaptive:s===O.OAB.ValueOn.value?O.ef6.On:O.ef6.Off}sendStreamingProfileEvent(){(0,i.aj)([this.streamingProfileService.getStreamingProfile(),this.sharedSettingsService.persistInGameGraphicsEnabled()]).pipe((0,x.M)(this.streamingProfileService.getStreamingProfileGuid()),(0,S.q)(1)).subscribe(([[s,R],_])=>{var b;const I={profileName:s.name,resolutionHeight:s.height,resolutionWidth:s.width,aspectRatio:s.aspectRatio,framerate:s.fps,maxBitrate:s.maxBitrate,DRC:s.drc?O.wye.TRUE:O.wye.FALSE,vSyncSetting:this.getVSyncMode(s.vSync),streamingProfileGuid:_,hdrEnabled:s.hdrStreaming?O.wye.TRUE:O.wye.FALSE,reflexEnabled:s.reflex?O.wye.TRUE:O.wye.FALSE,cloudGsyncEnabled:s.cloudGsync?O.wye.TRUE:O.wye.FALSE,inGameGraphicsSetting:R?O.wye.TRUE:O.wye.FALSE,audioChannelCount:s.audioMode,l4sEnabled:s.l4sEnabled?O.wye.TRUE:O.wye.FALSE,bitDepth:null!==(b=null==s?void 0:s.bitDepth)&&void 0!==b?b:O.KcQ.value};this.telemetryService.push(new O.pDK(I))},s=>{this.logger.error("Failed to get streaming profile settings: ",s)})}resetGameLaunchDurationsMatrix(){this.seatSetupEventSequence=[],this.gameLaunchDurations=new Map;for(const s in O.FRL)this.gameLaunchDurations.hasOwnProperty(s)||this.gameLaunchDurations.set(O.FRL[s],{start:0,duration:0,previousDurationCarry:0})}resetdialogInteractionDurations(){this.dialogInteractionDurations=new Map;for(const s in E.z)this.dialogInteractionDurations.hasOwnProperty(s)||this.dialogInteractionDurations.set(E.z[s],0)}calculateLaunchDuration(){const s=this.gameLaunchAnalyticsService.getGameLaunchMetadata(),R=s.launchTs,_=this.gameLaunchDurations.get(O.FRL.StreamerJsInit).start;this.logger.info("initiallaunchts",R,"currentTs",Date.now());const b=this.streamerConfigService.activeConfig.launchSource;if(h.ng.isCefPlatform()){let I=0,q=0;return this.logger.info("Mall is running:",s.isMallRunning),s.isMallRunning?(this.isWarmLaunch=!0,q=0,I=b===O.zO5.GeForceNOW||s.isFromGameChangeDialog?0:_-R,this.updateGameLaunchStartupDurations({start:R,duration:q,previousDurationCarry:0}),(0,L.of)(I)):this.bridgeService.executeCommand(g.Gh.Common.Applicationinfo.GetApplicationTimeInfo,{type:g.Yk.Common.Applicationinfo.ApplicationTimeType.Launch}).pipe((0,u.U)(a=>(this.isWarmLaunch=a.isWarmLaunch||!1,this.logger.info("applaunchtimeinfo",a),s.isFromGameChangeDialog||(R>0&&R>a.startTime&&(q=R-a.startTime),I=_-a.startTime),this.updateGameLaunchStartupDurations({start:R,duration:q,previousDurationCarry:0},{start:a.startTime,duration:I,previousDurationCarry:0}),I)))}return 0!==R&&this.updateGameLaunchStartupDurations({start:R,duration:_-R,previousDurationCarry:0}),(0,L.of)(0)}updateGameLaunchStartupDurations(s,R){s&&(this.gameLaunchDurations.get(O.FRL.InitialLaunch).start=s.start,this.gameLaunchDurations.get(O.FRL.InitialLaunch).duration=s.duration),R&&(this.gameLaunchDurations.get(O.FRL.StreamerCefInit).start=R.start,this.gameLaunchDurations.get(O.FRL.StreamerCefInit).duration=R.duration)}onErrorState(s,R){if(s===R.errorSourceState)switch(R.errorSourceState){case w.$D.Authentication:this.logger.info(`Error ${R.errorData.errorCode} occured on state Authentication`),this.sendGameLaunchSourceInfoTelemetry();break;case w.$D.Authorization:{this.logger.info(`Error ${R.errorData.errorCode} occured on state Authorization`);const _={isResume:!1,status:R.errorData.errorCode===p.D8.NotEntitled?O.N3X.NesNotEntitled:O.N3X.NesAuthFailed,errorDetails:R.errorData.errorCode.toString()};this.sendGameLaunchDurationEvent(_);break}}}generateCallback(s){return()=>{this.onStateEndInternal(s)}}onStateEndInternal(s){switch(s){case w.$D.Init:this.startGameLaunchDuration(O.FRL.UpdateCheck);break;case w.$D.UpdateCheck:this.updateGameLaunchDurations(O.FRL.UpdateCheck,O.FRL.PreStreaming);break;case w.$D.PreStreaming:{this.stopGameLaunchDuration(O.FRL.PreStreaming);const R=Date.now();this.gameLaunchDurations.get(O.FRL.ManualLoginEntry).start=R,this.gameLaunchDurations.get(O.FRL.AutoLogin).start=R;break}case w.$D.Authentication:this.authenticationStatus!==E.y.AUTO_LOGIN?(this.resetGameLaunchDuration(O.FRL.AutoLogin),this.updateGameLaunchDurations(O.FRL.ManualLoginEntry,O.FRL.PlatformSelection)):(this.resetGameLaunchDuration(O.FRL.ManualLoginEntry),this.updateGameLaunchDurations(O.FRL.AutoLogin,O.FRL.PlatformSelection)),this.sendGameLaunchSourceInfoTelemetry();break;case w.$D.PlatformSelection:this.updateGameLaunchDurations(O.FRL.PlatformSelection,O.FRL.AccountLinking);break;case w.$D.AccountLinking:this.updateGameLaunchDurations(O.FRL.AccountLinking,O.FRL.NesAuthorization);break;case w.$D.Authorization:this.updateGameLaunchDurations(O.FRL.NesAuthorization,O.FRL.NetworkTest);break;case w.$D.NetworkTest:this.updateGameLaunchDurations(O.FRL.NetworkTest,O.FRL.StartSession),this.startGameLaunchDuration(O.FRL.StreamerClientSetupDuration);break;case w.$D.Loading:this.sendStreamingProfileEvent()}}updateSeatSetupEventSequence(s){this.seatSetupDurations.includes(s)&&this.seatSetupEventSequence.push(s)}getSeatSetupEventSequence(){return this.seatSetupEventSequence}resetSeatSetupEventSequence(s){s?(this.seatSetupEventSequence=[],this.resetGameLaunchDuration(O.FRL.StreamerClientSetupDuration),this.resetGameLaunchDuration(O.FRL.StreamerConnectionDuration),this.resetGameLaunchDuration(O.FRL.SeatConfigDuration),this.resetGameLaunchDuration(O.FRL.StreamingStartDuration)):this.seatSetupEventSequence.length>=1&&this.updateGameLaunchDurations(this.seatSetupEventSequence[this.seatSetupEventSequence.length-1],void 0)}setGameFeatureState(s){this.logger.info("Game feature updated",s),this.gameFeatureState=s}getAccountLinksData(){const s=this.ownershipSyncService.getAccountLinkingAnalyticsInfo(),R=[];for(const _ of s)_.isAccountSyncSupported?R.push(_.providerType+(_.isSynced?"_SYNCED":"_UNSYNCED")):_.isAccountLinkingSsoAvailable&&R.push(_.providerType+(_.isAccountLinked?"_LINKED":"_UNLINKED"));return R}sendGameLaunchSourceInfoTelemetry(){var s;const R=null!==(s=this.streamerConfigService.activeConfig.shortName)&&void 0!==s?s:"",_=this.streamerConfigService.activeConfig.launchSource,I=this.gameLaunchAnalyticsService.getGameLaunchMetadata().epicAccountLinked?O.wye.TRUE:O.wye.FALSE;this.logger.info("Game launch source for game: ",R," is :",_),(0,f.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).subscribe(q=>{this.logger.info("Sending Game launch event for game: ",R);const a=this.guestModeHelperService.isGuestMode?{useBeacon:!0}:null;this.telemetryService.push(new O.U4l({gameShortName:R,gameLaunchSource:_,epicAccountLinked:I,accountLinks:this.getAccountLinksData()}),null,a)})}getNetworkTestDuration(){const s=this.gameLaunchDurations.get(O.FRL.NetworkTest).duration,R=this.gameLaunchDurations.get(O.FRL.Lbr).duration;return s>0?s-R:0}getStartSessionDuration(){const s=this.gameLaunchDurations.get(O.FRL.StartSession).duration,R=this.gameLaunchDurations.get(O.FRL.SessionQueue).duration;return s>0?s-R:0}getTotalGameLaunchDuration(){let s=0;return this.gameLaunchDurations.forEach((R,_)=>{!this.overlappingDurations.includes(_)&&!this.seatSetupEventSequence.includes(_)&&(s+=R.duration)}),s-=this.getTotaldialogInteractionDuration(),s}getTotaldialogInteractionDuration(){let s=0;return this.dialogInteractionDurations.forEach(R=>{s+=R}),s}getGameLaunchTelemetryStatus(s){return s&&Object.values(O.N3X).includes(s.status)?s.status:O.N3X.Success}sendGameLaunchDurationEvent(s,R=""){var _;const b=null!==(_=this.streamerConfigService.activeConfig.shortName)&&void 0!==_?_:"",I=this.streamerConfigService.activeConfig.launchSource,q=this.gameLaunchAnalyticsService.getGameLaunchMetadata(),a=q.shortName;if(this.logger.info(`Sending game launch metrics for game: ${b}, game in `,`metadata: ${a}, and game was launched via ${I}.`),a&&a!==b&&I!==O.zO5.External&&I!==O.zO5.Deeplink)return this.logger.error(`Event not sent! Game launched: ${b}, is different from the game launch info in `,`memory: ${a}, and game was launched via mallclient.`),void this.cleanupGameLaunchMetrics();const y=this.calculateLaunchDuration(),M=this.networkConfigurationService.getNetworkOverride();(0,f.$R)(M,y).pipe((0,S.q)(1)).subscribe(([P,K])=>{var B;const j=O.FRL,tt=new O.Y_M({lbrDuration:this.gameLaunchDurations.get(j.Lbr).duration,initialLaunchDuration:this.gameLaunchDurations.get(j.InitialLaunch).duration,totalLaunchDuration:this.getTotalGameLaunchDuration(),platformSelectionDuration:this.gameLaunchDurations.get(j.PlatformSelection).duration-this.dialogInteractionDurations.get(E.z.PlatformSelection),accountLinkingDuration:this.gameLaunchDurations.get(j.AccountLinking).duration-this.dialogInteractionDurations.get(E.z.AccountLinking),nesAuthorizationDuration:this.gameLaunchDurations.get(j.NesAuthorization).duration,geronimoLaunchDuration:0,manualLoginEntryDuration:this.gameLaunchDurations.get(j.ManualLoginEntry).duration,lbrRun:this.serverRoutingService.isLbrRun?O.wye.TRUE:O.wye.FALSE,resumeType:this.resumeType,networkTestDuration:this.getNetworkTestDuration(),isResume:s&&!0===s.isResume?O.wye.TRUE:O.wye.FALSE,networkTestUiResult:this.networkTestUIResult,accountLinked:this.streamerConfigService.activeConfig.accountLinked?O.wye.TRUE:O.wye.FALSE,overrideActive:P?O.wye.TRUE:O.wye.FALSE,sessionCleanupDuration:this.gameLaunchDurations.get(j.SessionCleanup).duration,sessionQueueDuration:this.gameLaunchDurations.get(j.SessionQueue).duration,autoLoginDuration:this.gameLaunchDurations.get(j.AutoLogin).duration,streamerCefStartupDuration:this.gameLaunchDurations.get(j.StreamerCefInit).duration,networkTestRun:this.networkTestService.isNetworkTestRun?O.wye.TRUE:O.wye.FALSE,gameLaunchSource:I,oobeShown:this.oobeShown?O.wye.TRUE:O.wye.FALSE,isWarmLaunch:this.isWarmLaunch?O.wye.TRUE:O.wye.FALSE,streamerJsStartupDuration:this.gameLaunchDurations.get(j.StreamerJsInit).duration,sessionId:R||"",oobeCheckDuration:this.gameLaunchDurations.get(j.PreStreaming).duration,startSessionDuration:this.getStartSessionDuration(),overrideZone:null!==(B=null==P?void 0:P.address)&&void 0!==B?B:"",isFromGameChangeDialog:q.isFromGameChangeDialog?O.wye.TRUE:O.wye.FALSE,gameShortName:b,updateCheckDuration:this.gameLaunchDurations.get(j.UpdateCheck).duration,status:this.getGameLaunchTelemetryStatus(s),errorDetails:s?s.errorDetails:"",streamerClientSetupDuration:this.gameLaunchDurations.get(O.FRL.StreamerClientSetupDuration).duration,streamerConnectionDuration:this.gameLaunchDurations.get(O.FRL.StreamerConnectionDuration).duration,seatConfigDuration:this.gameLaunchDurations.get(O.FRL.SeatConfigDuration).duration,streamingStartDuration:this.gameLaunchDurations.get(O.FRL.StreamingStartDuration).duration,featuresState:this.gameFeatureState,accountLinks:this.getAccountLinksData(),remainingPlaytimeState:this.ecommerceService.isLimitedState?O.JkH.Limited:O.JkH.Full});this.logger.info("Printing seat setup event sequence ",this.seatSetupEventSequence),this.telemetryService.push(tt,null,this.guestModeHelperService.isGuestMode?{useBeacon:!0}:null),this.cleanupGameLaunchMetrics()})}cleanupGameLaunchMetrics(){this.serverRoutingService.resetLbrStatus(),this.networkTestService.resetNetworkTestStatus(),this.resetNetworkTestResult(),this.resetResumeType(),this.resetGameLaunchDurationsMatrix(),this.gameLaunchAnalyticsService.resetGameLaunchMetadata(!0),this.resetdialogInteractionDurations()}}return(l=o).\u0275fac=function(s){return new(s||l)(V.LFG(h.ed),V.LFG(c.y0),V.LFG(O.oX5),V.LFG(w.bF),V.LFG(O.XS0),V.LFG(O.GKb),V.LFG(h.dF),V.LFG(O.R2C),V.LFG(O.mw3),V.LFG(O.V89),V.LFG(O.unb),V.LFG(O.hTr),V.LFG(O.qMk),V.LFG(O.BHV),V.LFG(O.gbG))},l.\u0275prov=V.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},56490:(Dt,ct,t)=>{"use strict";t.d(ct,{y:()=>e,z:()=>i});var e=function(L){return L[L.AUTO_LOGIN=0]="AUTO_LOGIN",L[L.MANUAL_LOGIN=1]="MANUAL_LOGIN",L[L.EMAIL_VERIFICATION=2]="EMAIL_VERIFICATION",L}(e||{}),i=function(L){return L.PlatformSelection="platformSelection",L.AccountLinking="accountLinking",L}(i||{})},64603:(Dt,ct,t)=>{"use strict";t.d(ct,{r:()=>h});var e=t(31157),i=t(64441),L=t(47178),x=t(21120),S=t(61699),u=t(13963),g=t(89857);let h=(()=>{var O;class E{constructor(p,V,c,C,l){this.streamingManagerService=V,this.distributedTracingUtilService=c,this.networkConfigurationService=C,this.telemetryService=l,this.gameLaunchStepList=[i.$D.UpdateCheck,i.$D.PreStreaming,i.$D.Authentication,i.$D.PlatformSelection,i.$D.AccountLinking,i.$D.Authorization,i.$D.NetworkTest,i.$D.Loading],this.logger=p.getLogger("gameSessionDistributedTracingService"),this.streamerStateToSpanMap=new Map}getSpanName(p){switch(p){case i.$D.UpdateCheck:return e.j1.UpdateCheck;case i.$D.PreStreaming:return e.j1.PreStreaming;case i.$D.Authentication:return e.j1.StreamerAuthentication;case i.$D.PlatformSelection:return e.j1.PlatformSelection;case i.$D.AccountLinking:return e.j1.AccountLinking;case i.$D.Authorization:return e.j1.StreamerAuthorization;case i.$D.NetworkTest:return e.j1.StreamerNetworktest;case i.$D.Loading:return e.j1.SessionLoading;default:return p.name}}getStreamingManagerCallbacks(p){return{callbackContext:this,onStateBegin:this.generateBeginStateCallback(p).bind(this),onStateEnd:this.generateEndStateCallback(p).bind(this),onTerminalError:V=>this.onErrorState(p,V)}}generateBeginStateCallback(p){return()=>{this.logger.info("Generating Span for state:",p.name);const V=this.getSpanName(p),c=this.distributedTracingUtilService.startSpan(V,this.gameLaunchSpan);this.streamerStateToSpanMap.set(p,c)}}generateEndStateCallback(p){return()=>{const V=this.streamerStateToSpanMap.get(p);(0,L.isNil)(V)||(this.logger.info("Closing span for state:",p.name),p===i.$D.Authentication&&this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.LoginWindowShown,this.telemetryService.getScreen()!==x.CGJ.ScreenAutoLogin),this.distributedTracingUtilService.closeSpan(V))}}onErrorState(p,V){if(p===V.errorSourceState){(0,L.isNil)(this.gameLaunchSpan)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.Error,!0),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.FailurePoint,V.errorSourceState.name),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.ErrorType,V.errorData.errorType),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.ErrorCode,V.errorData.errorCode),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.HttpStatusCode,V.errorData.httpErrorCode));const c=this.streamerStateToSpanMap.get(p);(0,L.isNil)(c)||this.distributedTracingUtilService.setSpanAttribute(c,e.NI.Error,!0)}this.closeGameLaunchSpan()}subscribeToOverrideZone(){this.networkConfigurationService.getNetworkOverride().subscribe(p=>{(0,L.isNil)(this.gameLaunchSpan)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.RoutingOverrideUsed,!(0,L.isNil)(p)),(0,L.isNil)(p)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.OverrideZoneName,p.name),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.OverrideZoneAddress,p.address)))})}closeGameLaunchSpan(p){(0,L.isNil)(this.gameLaunchSpan)||((0,L.isNil)(p)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.IsSessionAutoResumed,p.isResume),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.ErrorDetails,p.errorDetails),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.Error,p.status!==x.N3X.Success)),this.distributedTracingUtilService.closeSpan(this.gameLaunchSpan))}initGameSessionDistributedTracing(){this.gameLaunchStepList.forEach(p=>{this.streamingManagerService.register(p,this.getStreamingManagerCallbacks(p))})}startGameLaunchSpan(p){this.gameLaunchSpan=this.distributedTracingUtilService.startSpan(e.j1.GameLaunch),this.subscribeToOverrideZone(),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.LaunchSource,p.launchSource),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.CmsId,p.cmsId),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.ShortName,p.shortName)}setAttributeOnGameLaunchSpan(p,V){(0,L.isNil)(this.gameLaunchSpan)||this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,p,V)}updateGeronimoLaunchInfo(p,V){(0,L.isNil)(this.gameLaunchSpan)||this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,e.NI.SessionId,V),this.closeGameLaunchSpan(p)}getCurrentActiveSpan(){return this.streamerStateToSpanMap.get(this.streamingManagerService.getCurrentState())}}return(O=E).\u0275fac=function(p){return new(p||O)(S.LFG(u.ed),S.LFG(i.bF),S.LFG(e.Dc),S.LFG(x.XS0),S.LFG(g.y0))},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},47007:(Dt,ct,t)=>{"use strict";t.d(ct,{$e:()=>e.$,BJ:()=>L.B,V$:()=>i.V,wu:()=>e.w});var e=t(74980),i=t(35424),L=t(19392)},19392:(Dt,ct,t)=>{"use strict";t.d(ct,{B:()=>x});var e=t(46939),i=t(61699);t(35424),t(13963);let x=(()=>{var S;class u{constructor(h,O,E,w,p){this.inputControl=E,this.logTag=w,this.osrBaseLogger=O.getLogger("OsrBaseComponent/"+w),this.osrHandler=h.createOsrHandler(w),this.hostClasses=["streamer-osr-component-flex"],p&&(this.hostClasses=this.hostClasses.concat(p)),this.hostClass=this.hostClasses.join(" ")}ngOnInit(){this.openOsr()}ngOnDestroy(){this.osrBaseLogger.info("ngOnDestroy closing and destroying osr handle"),this.osrHandler.closeAndDestroy().pipe((0,e.q)(1)).subscribe(h=>{this.osrBaseLogger.info("Closed osr, state after close: "+h)},h=>{this.osrBaseLogger.error("Received error when closing osr: ",h)})}setInputControl(h){this.osrBaseLogger.info("Setting input control after init to "+h),this.inputControl=h,this.openOsr()}openOsr(){this.osrBaseLogger.info("opening osr for",this.logTag,"with inputControl = "+this.inputControl),this.osrHandler.open(this.inputControl).pipe((0,e.q)(1)).subscribe(h=>{this.osrBaseLogger.info("Opened osr with state "+h)},h=>{this.osrBaseLogger.error("Received error when opening osr: ",h)})}}return(S=u).\u0275fac=function(h){i.$Z()},S.\u0275dir=i.lG2({type:S,hostVars:2,hostBindings:function(h,O){2&h&&i.Tol(O.hostClass)}}),u})()},35424:(Dt,ct,t)=>{"use strict";t.d(ct,{V:()=>E});var e=t(74980),i=t(17401),L=t(68740),f=t(91467),x=t(46939),S=t(87965),u=t(58175),g=t(61699),h=t(13963),O=t(21120);let E=(()=>{var w;class p{constructor(c,C,l,o){this.loggingService=c,this.bridgeService=C,this.spatialNavigationService=l,this.gamepadNavigationService=o,this.logger=c.getLogger("gfn/osr-handler-service")}createOsrHandler(c){return this.logger.info("Creating new OsrHandler instance"),new e.w(this.loggingService,this.bridgeService,c,this.spatialNavigationService,this.gamepadNavigationService)}attachOsrHandlerForModal(c,C){let l,o,n;if(c instanceof i.so)l="MatDialogRef",o=c.afterOpened(),n=c.afterClosed();else if(c instanceof L.oL)l="MatBottomSheetRef",o=c.afterOpened(),n=c.afterDismissed();else{if(!(c instanceof f.JP))throw new Error("not a supported type.");l="NvHigGenericDialogRef",o=c.afterOpened(),n=c.afterClosed()}if(!o||!n)throw new Error("Either afterOpen$ or afterClosed$ is not assigned.");return this.withOsrHandler(l,o,n,C),c}withOsrHandler(c,C,l,o){const n=this.createOsrHandler(c);return C.pipe((0,x.q)(1),(0,S.zg)(()=>n.open(o)),(0,S.zg)(()=>l.pipe((0,x.q)(1),(0,S.zg)(()=>n.closeAndDestroy()))),(0,u.K)(s=>(this.logger.info(`open osr failed. message: ${s.message}`),n.closeAndDestroy())),(0,x.q)(1)).subscribe(),n}}return(w=p).\u0275fac=function(c){return new(c||w)(g.LFG(h.ed),g.LFG(h.dF),g.LFG(f.jr),g.LFG(O.xQn))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},74980:(Dt,ct,t)=>{"use strict";t.d(ct,{$:()=>x,w:()=>g});var e=t(47422),i=t(47178),f=t(78943),x=function(h){return h[h.Closed=0]="Closed",h[h.Open=1]="Open",h[h.OpenWithInput=2]="OpenWithInput",h}(x||{});const u="OsrHandler has already been destroyed";let g=(()=>{class O{constructor(w,p,V,c,C){this.bridgeService=p,this.spatialNavigationService=c,this.gamepadNavigationService=C,this.desiredOsrState=x.Closed,this.logTag="",this.logger=w.getLogger("gfn/osr-handler"),this.destroyed=!1,this.logTag=V,O.registeredHandlers.push(this),this.logger.info("Created new OSR component",this.logTag)}static getStringListOfRegisteredHandlers(){let w="";return this.registeredHandlers.forEach(p=>w+=`\nState: ${p.desiredOsrState}, Parent: ${p.logTag}`),w}static clearHandlers(){this.registeredHandlers=[]}static getHighestRequestedState(){return 0===O.registeredHandlers.length?x.Closed:O.registeredHandlers.reduce((w,p)=>w.desiredOsrState>p.desiredOsrState?w:p).desiredOsrState}convertOsrReturnToOsrState(w,p){switch(w){case"osrOpen":return p?x.OpenWithInput:x.Open;case"osrClose":return x.Closed;default:return this.logger.error("Unknown osr return string: "+w+" returning closed"),x.Closed}}open(w=!1){if(this.destroyed)throw new Error(u);return this.desiredOsrState=w?x.OpenWithInput:x.Open,this.executeCommandForDesiredState(O.getHighestRequestedState())}close(){if(this.destroyed)throw new Error(u);return this.desiredOsrState=x.Closed,this.executeCommandForDesiredState(O.getHighestRequestedState())}closeAndDestroy(){if(this.destroyed)throw new Error(u);return this.desiredOsrState=x.Closed,this.destroyed=!0,O.registeredHandlers=(0,i.without)(O.registeredHandlers,this),this.executeCommandForDesiredState(O.getHighestRequestedState())}executeCommandForDesiredState(w){this.logger.info("List of all handlers, highest requested state:",w,O.getStringListOfRegisteredHandlers());let V,p=!1;switch(w){case x.OpenWithInput:p=!0,V=this.openOsrInternal(p);break;case x.Open:V=this.openOsrInternal(p);break;case x.Closed:V=this.closeOsrInternal();break;default:this.logger.error("Unknown desired osr state: "+w+" calling close"),V=this.closeOsrInternal()}return V.pipe((0,e.U)(c=>this.convertOsrReturnToOsrState(c,p)))}openOsrInternal(w){return this.spatialNavigationService.activated=w,this.gamepadNavigationService.activated=w,this.bridgeService.executeCommand(f.Gh.Gfn.Streaming.OpenOsr,{enableInput:w})}closeOsrInternal(){return this.spatialNavigationService.activated=!1,this.gamepadNavigationService.activated=!1,this.bridgeService.executeCommand(f.Gh.Gfn.Streaming.CloseOsr)}}return O.registeredHandlers=[],O})()},65519:(Dt,ct,t)=>{"use strict";t.d(ct,{m:()=>C});var e=t(70462),i=t(73992),L=t(9681),f=t(64555),x=t(13963),S=t(64441),u=t(85046),g=t(17627),h=t(46939),O=t(47422),E=t(42241),w=t(47178),V=t(61699),c=t(21120);let C=(()=>{var l;class o{get skipPostSessionTips(){return this._skipPostSessionTips}set skipPostSessionTips(s){this._skipPostSessionTips=s}constructor(s,R,_,b,I,q,a,y,M){this.streamingManagerService=R,this.systemInfo=_,this.networkConfigService=b,this.networkStatusService=I,this.guestModeHelperService=q,this.playtestLiveService=a,this.streamingService=y,this.udsHelperService=M,this.networkConditionsData=new e.X(null),this._skipPostSessionTips=!0,this.logger=s.getLogger("gfn/postSessionConnection")}get networkConditionsData$(){return this.networkConditionsData.asObservable()}initializeStreamingUi(){this.streamingManagerService.register(S.$D.PostSessionConnection,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.streamingService.streamingEvent$.pipe((0,u.h)(R=>R.event===E.V4.SESSION_SETUP_SUCCESS)).subscribe(R=>{var _,b,I,q,a,y,M;R.event===E.V4.SESSION_SETUP_SUCCESS&&(this.sessionStartTime=Date.now(),(null==R||null===(_=R.streamSettings)||void 0===_?void 0:_.length)>0&&(this.udsHelperService.streamingResolution={width:null!==(b=null===(I=R.streamSettings[0])||void 0===I||null===(I=I.videoSettings)||void 0===I||null===(I=I.resolution)||void 0===I?void 0:I.width)&&void 0!==b?b:0,height:null!==(q=null===(a=R.streamSettings[0])||void 0===a||null===(a=a.videoSettings)||void 0===a||null===(a=a.resolution)||void 0===a?void 0:a.height)&&void 0!==q?q:0,fps:null!==(y=null===(M=R.streamSettings[0])||void 0===M||null===(M=M.videoSettings)||void 0===M?void 0:M.frameRate)&&void 0!==y?y:0}),this.udsHelperService.streamingProperties=this.streamingService.streamingProperties)},R=>{this.logger.error("Error encountered during has PostSessionConnectionService streaming callback: ",R)})}closeDialog(){this.shownUiHandle&&(this.logger.info("closing post connection dialog"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null)}setNetworkConditions(){this.networkStatusService.isOnline?(0,i.$R)(this.systemInfo.getSystemInfo([x.l7.Network]),this.networkConfigService.getNetworkOverride()).pipe((0,g.P)()).subscribe(([s,R])=>{this.setNetworkConditionsInfo(!!s.Network&&"1"===s.Network.IsVPN,R,s.Network?s.Network.NetworkType:x.VV.Unknown,!1)},s=>{this.logger.error("failed to set post session network conditions while online. Error: ",s),this.setNetworkConditionsInfo(!1,null,x.VV.Unknown,!1)}):this.networkConfigService.getNetworkOverride().pipe((0,g.P)()).subscribe(s=>{this.setNetworkConditionsInfo(!1,s,x.VV.Unknown,!0)},s=>{this.logger.error("failed to set post session network conditions while offline. Error: ",s),this.setNetworkConditionsInfo(!1,null,x.VV.Unknown,!1)})}setNetworkConditionsInfo(s,R,_,b){const I={isVpn:s,zoneOverride:R,networkType:_,isOffline:b};this.logger.info("post session network conditions are: ",I),this.networkConditionsData.next(I)}onStateStarted(s){this.uiHandle=s.handle,this.logger.info("skipping post session tips: ",this.skipPostSessionTips),this.setNetworkConditions(),this.shouldShowUDSSuggestions().pipe((0,h.q)(1)).subscribe(R=>{var _;R&&!this.playtestLiveService.skipUds()?(this.uiHandle.restoreWindow(),this.uiHandleSub=this.uiHandle.show(["uds"]).subscribe(b=>{this.shownUiHandle=b})):(this.udsHelperService.udsSuggestionsShownInStream=!1,this.skipPostSessionTips||this.playtestLiveService.skipPostSessionTips()||this.guestModeHelperService.isGuestMode&&(null===(_=this.guestModeHelperService.getGuestModeConfig())||void 0===_||!_.isPostSessionTipsEnabled)?this.uiHandle.goToNext():(this.uiHandle.restoreWindow(),this.skipPostSessionTips=!0,this.uiHandleSub=this.uiHandle.show(["postSessionConnection"]).subscribe(b=>{this.shownUiHandle=b})))})}shouldShowUDSSuggestions(){var s;if(null!==(s=window)&&void 0!==s&&s.uds){const R=this.networkConditionsData$.pipe((0,u.h)(_=>!(0,w.isNil)(_)));return(0,f.aj)([this.udsHelperService.shouldShowSessionEndUDSDialog(this.getSessionDurationInSeconds()),R]).pipe((0,h.q)(1),(0,O.U)(([_,b])=>{var I,q,a,y,M;const P=this.udsHelperService.rawUDSDataFromGS,K={elapsedTimeInDays:this.udsHelperService.elapsedTimeInDays||0,sessionDurationInMins:this.udsHelperService.sessionDurationInMinsForUDS||0,streamedAppName:(null===(I=this.streamingService.streamingParams)||void 0===I?void 0:I.appName)||"",sessionStartTimeStamp:this.sessionStartTime,sessionEndTimeStamp:Date.now(),sessionId:null!==(q=null===(a=this.udsHelperService.streamingProperties)||void 0===a?void 0:a.sessionId)&&void 0!==q?q:"",subSessionId:null!==(y=null===(M=this.udsHelperService.streamingProperties)||void 0===M?void 0:M.subSessionId)&&void 0!==y?y:"",streamingResolution:this.udsHelperService.streamingResolution||null,nonDefaultScores:this.udsHelperService.areSAScoresNonDefault(P)||!1,isVPN:null==b?void 0:b.isVpn,zoneOverride:null==b?void 0:b.zoneOverride},B=this.udsHelperService.updateUDSData(P,K);return this.udsHelperService.emitUDSData(B),_}))}return this.logger.info("uds object on window not found"),(0,L.of)(!1)}resetNetworkConditionsInfo(){this.networkConditionsData.next(null)}getSessionDurationInSeconds(){const s=Date.now()-this.sessionStartTime,R=Math.floor(s/1e3);return this.logger.info("Streaming session duration in seconds: ",R),R}onStateEnd(){var s;this.uiHandle=null,this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null),this.resetNetworkConditionsInfo(),null!==(s=window)&&void 0!==s&&s.uds?this.udsHelperService.persistUDSData():this.logger.info("UDS feature not applicable, skiping data save")}}return(l=o).\u0275fac=function(s){return new(s||l)(V.LFG(x.ed),V.LFG(S.bF),V.LFG(x.Ob),V.LFG(c.XS0),V.LFG(x._J),V.LFG(c.hTr),V.LFG(c.Q0y),V.LFG(E.FW),V.LFG(c.wHL))},l.\u0275prov=V.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},99542:(Dt,ct,t)=>{"use strict";t.d(ct,{f:()=>h});var e=t(21120),i=t(47178),f=t(61699),x=t(28332),S=t(15665),u=t(13963);let h=(()=>{var O;class E{constructor(p,V,c,C,l){this.applicationLifetimeService=p,this.sharedStorageService=V,this.updateService=c,this.loggingService=C,this.streamerConfigService=l,this.logger=C.getLogger("StreamerRelaunchService")}startRelaunch(p){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.startRelaunch(p,!0)}ensureNewRelaunchStateMachine(){!(0,i.isNil)(this.currentStateMachine)&&this.currentStateMachine.isActive()&&this.currentStateMachine.cancelRelaunch(),this.currentStateMachine=new e.WM6(this.applicationLifetimeService,this.sharedStorageService,this.updateService,this.loggingService),this.currentStateMachine.setRelaunchShutdownHandler(this.relaunchShutdownHandler.bind(this))}relaunchShutdownHandler(){return this.currentStateMachine.appendRelaunchSharedData({cmsId:String(this.streamerConfigService.activeConfig.cmsId),releaseHighlight:!0})}}return(O=E).\u0275fac=function(p){return new(p||O)(f.LFG(x.Ll),f.LFG(S.OA),f.LFG(e.GMF),f.LFG(u.ed),f.LFG(e.oX5))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),E})()},32627:(Dt,ct,t)=>{"use strict";t.d(ct,{S:()=>x});var e=t(21120),i=t(61699),L=t(13963),f=t(64441);let x=(()=>{var S;class u{constructor(h,O,E){this.streamerConfigService=O,this.streamerManagerService=E,this.logger=h.getLogger("gfn/RelaunchGameService")}relaunchGame(){const h=(0,e.IGn)(this.streamerConfigService.activeConfig);this.logger.info("Same Game relaunch requested. Setting exit URL to",h),this.streamerManagerService.exitStreamer({exitUrl:h}).subscribe()}relaunchNewGame(h){const O=h.indexOf("#"),E=h.slice(O+1);this.logger.info("New Game relaunch requested. Setting exit URL to",E),this.streamerManagerService.exitStreamer({exitUrl:E}).subscribe()}}return(S=u).\u0275fac=function(h){return new(h||S)(i.LFG(L.ed),i.LFG(e.oX5),i.LFG(f.bF))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),u})()},77550:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>L});var e=t(61699),i=t(13963);let L=(()=>{var f;class x{constructor(u){this.ragnarokCodesNotificationMap=new Map,this.logger=u.getLogger("gfn/StreamerErrorHelperService")}get ragnarokErrorCodesMap(){return this.ragnarokCodesNotificationMap}set ragnarokErrorCodesMap(u){this.ragnarokCodesNotificationMap=u}getRagnarokErrorCode(u){var g,h;return this.logger.info("errorValue to search in ragnarokCodesNotificationMap: ",u),null!==(g=null===(h=[...this.ragnarokErrorCodesMap].find(([O,E])=>E===u))||void 0===h?void 0:h[0])&&void 0!==g?g:u}}return(f=x).\u0275fac=function(u){return new(u||f)(e.LFG(i.ed))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),x})()},82973:(Dt,ct,t)=>{"use strict";t.d(ct,{D8:()=>S,EP:()=>L,GR:()=>i,fD:()=>e,pY:()=>x,ym:()=>u});const e={width:470,height:618},i={width:560,height:166},L={width:560,height:146};var x=function(g){return g[g.InvalidParams=0]="InvalidParams",g[g.NetworkError=1]="NetworkError",g[g.ZeroCmsId=2]="ZeroCmsId",g[g.ScheduledMaintenance=3]="ScheduledMaintenance",g[g.UnsupportedPlatform=4]="UnsupportedPlatform",g[g.UnsupportedBrowser=5]="UnsupportedBrowser",g[g.PWARequired=6]="PWARequired",g[g.NativeAppOnly=7]="NativeAppOnly",g[g.GenericUnsupportedError=8]="GenericUnsupportedError",g[g.OpportunityAborted=9]="OpportunityAborted",g}(x||{}),S=function(g){return g[g.UnsupportedRegion=0]="UnsupportedRegion",g[g.NotAffiliateEntitled=1]="NotAffiliateEntitled",g[g.NotEntitled=2]="NotEntitled",g[g.Unknown=3]="Unknown",g}(S||{}),u=function(g){return g[g.MissingCmsId=0]="MissingCmsId",g[g.FailedToFetchAppStores=1]="FailedToFetchAppStores",g[g.PlatformSelectionCancelled=2]="PlatformSelectionCancelled",g[g.UnexpectedError=3]="UnexpectedError",g}(u||{})},25057:(Dt,ct,t)=>{"use strict";t.d(ct,{Ac:()=>x,Gj:()=>e,WR:()=>S,b_:()=>i,wO:()=>L});const e={width:789,height:250,resultHeight:549,widthError:480,heightError:168,heightErrorSmall:148,widthErrorNetworkTest:744,heightErrorNetworkTest:312},i=549,L="rating",x="input",S="paste"},37066:(Dt,ct,t)=>{"use strict";t.d(ct,{c:()=>L});var e=t(21120),i=t(42241);class L{constructor(x){this.appConfig=x}formatErrorCode(x){return(0,e.h6z)(x)}getErrorLink(x,S){let u,g;switch(S){case i.Sj.NVB_R_UDP_BUFFER_TOO_SMALL:u=e.hEi.UdpBufferTips,g="error.udpBufferTips";break;case i.Sj.NVB_R_FIREWALL_BLOCK:u=e.hEi.GfnPcNetHelpFirewall,g="error.checkFirewallSettingsTips";break;case i.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE1:case i.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE2:case i.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE3:case i.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR:u=e.hEi.GfnPcNetHelpWifi,g="common.troubleshootingTips";break;case i.dq.NVB_R_GFN_GAME_NOT_OWNED_BY_USER:u="",g="";break;case i.dq.NVB_R_VERSION_MISMATCH:u=e.hEi.GfnPcHelpUpdate,g="error.manualUpdateTips";break;case i.dq.NVB_R_SERVER_OUT_OF_SERVICE:case i.dq.NVB_R_SEVER_MAINTENANCE_MODE:case i.dq.NVB_R_INVALID_SERVER_RESPONSE:u=e.hEi.GfnServerStatus,g="common.viewServerStatus";break;case i.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING:case i.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND:u=e.hEi.GfnPcUnSupportedRegion,g="error.moreInformation";break;case i.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED:return{url:"https://nvidia.custhelp.com/app/answers/detail/a_id/5244/",text:"common.learnMore"};default:S>=i.dq.NVB_R_SERVER_ERROR_BEGIN&&S<=i.dq.NVB_R_SERVER_ERROR_MAX&&S!==i.Y6.SERVER_DISCONNECTED_MULTIPLE_TAB?(u=e.hEi.GfnServerStatus,g="common.viewServerStatus"):this.isVideoDecoderError(S)?(u=e.hEi.GfnPcHelpMissingDecoder,g="common.learnMore"):u=""}return 0===u.length?{url:"",text:""}:{url:this.appConfig.redirect.serverUrl+x+"&page="+u,text:g,shortUrl:e.hD7[u]}}isVideoDecoderError(x){return x>>>12===i.Sj.VIDEO_DECODER_ERROR_MASK||x===i.Sj.VIDEO_DECODER_CREATION_FAILED}}},6416:(Dt,ct,t)=>{"use strict";t.d(ct,{u:()=>u,C:()=>f});var e=t(42241),i=t(37066);const L={ExcludedFailedErrorCodes:[e.dq.NVB_R_TOO_MANY_SERVER_REQUESTS,e.dq.NVB_R_APPLICATION_PATCHING,e.dq.NVB_R_APP_MAINTENANCE_STATUS,e.dq.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND,e.dq.NVB_R_USER_IS_NOT_ENTITLED,e.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING,e.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND,e.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION,e.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND,e.dq.NVB_R_SESSION_NOT_ACTIVE,e.dq.NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED],ExcludedTerminationErrorCodes:[e.Sj.NVB_R_UDP_BUFFER_TOO_SMALL,e.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,e.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,e.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT,e.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT,e.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]};class f extends i.c{constructor(h){super(h),this.reasonToText=new Map([[e.Y6.NVB_SN_STOPPED_UNINTENTIONALLY,"error.sessionTerminated"],[e.Y6.NVB_SN_ENTITLEMENT_TIMEOUT,"error.entitlementTimeout"],[e.Y6.NVB_SN_STREAMER_NETWORK_ERROR,"error.streamerNetworkError"],[e.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT,"error.userIdleTimeout"],[e.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT,"error.sessionTimelimit"],[e.Y6.NVB_SN_TERMINATED_BY_OPERATOR,"error.maintenance"],[e.Y6.NVB_SN_TERMINATED_WINDOWED_MODE,"error.windowedMode"],[e.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,"error.systemWentToSleep"],[e.Y6.NVB_SN_TERMINATED_MULTIPLE_LOGIN,"error.multipleLogin"],[e.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,"error.playingOnAnotherStream"],[e.Y6.SERVER_DISCONNECTED_MULTIPLE_TAB,"error.playingOnAnotherStreamNoGameName"],[e.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER,"error.gameNotOwnedByUser"],[e.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP,"error.systemWentToSleep"],[e.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP,"error.systemSleepDuringSessionInit"],[e.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE,"error.scheduleMaintenanceText"]])}getErrorInfo(h,O,E,w,p,V){const c=this.getErrorText(E,w),C=this.getErrorCode(E,w),l=this.getTerminationErrorLink(h,E,w);return{errorCode:C,errorText:c,linkText:l.text,linkUrl:l.url,isErrorResumable:O,appName:p,appStore:V,shortUrl:l.shortUrl}}getErrorText(h,O){return h===e.Y6.NVB_SN_STREAMING_START_FAILED?O===e.Sj.NVB_R_UDP_BUFFER_TOO_SMALL?"error.increaseUdpBuffer":"error.failedToConnect":h===e.Y6.NVB_SN_PAUSED_BY_USER&&O===e.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR?"error.streamerNetworkError":O===e.Sj.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT?"error.protectedContent":this.reasonToText.has(h)?this.reasonToText.get(h):"error.sessionTerminated"}getErrorCode(h,O){return L.ExcludedTerminationErrorCodes.some(w=>w===h||w===O)?"":this.formatErrorCode(O||h)}getTerminationErrorLink(h,O,E){return this.getErrorLink(h,E||O)}}var x=t(47178),S=t(21120);class u extends i.c{constructor(h){super(h),this.reasonToText=new Map([[e.dq.NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER,"error.cloudDown"],[e.dq.NVB_R_GES_NOT_REACHABLE,"error.cloudDown"],[e.dq.NVB_R_SERVER_OUT_OF_SERVICE,"error.cloudDown"],[e.dq.NVB_R_SEVER_MAINTENANCE_MODE,"error.maintenance"],[e.dq.NVB_R_INSUFFICIENT_RESOURCES,"error.insufficientResources"],[e.dq.NVB_R_STREAMER_NETWORK_ERROR,"error.networkError"],[e.dq.NVB_R_STREAMER_CONNECT_FAILED,"error.networkError"],[e.dq.NVB_R_SESSION_NOT_ACTIVE,"error.userIdleTimeout"],[e.dq.NVB_R_NOT_SUPPORTED,"error.restartApp"],[e.dq.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL,"error.restartApp"],[e.dq.NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT,"error.restartApp"],[e.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED,"error.restartApp"],[e.dq.NVB_R_PREFERRED_CONTROLLER_NOT_FOUND,"error.restartApp"],[e.dq.NVB_R_VERSION_MISMATCH,"error.manualUpdateRequired"],[e.dq.NVB_R_OS_ERROR,"error.reinstallApp"],[e.dq.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT,"error.reinstallApp"],[e.dq.NVB_R_APP_TITLE_FENCED,"error.titleFenced"],[e.dq.NVB_R_APPLICATION_PATCHING,"error.titleFenced"],[e.dq.NVB_R_APP_MAINTENANCE_STATUS,"fencedStatus.offlineSupplementalTextShortMessage"],[e.dq.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND,"fencedStatus.offlineSupplementalTextShortMessage"],[e.dq.NVB_R_INVALID_APP_IDENTIFIER,"error.invalidId"],[e.dq.NVB_R_USER_IS_NOT_ENTITLED,"error.affiliateAccessError"],[e.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING,"error.gfnNotAvailableInRegion"],[e.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND,"error.gfnNotAvailableInRegion"],[e.dq.NVB_R_TOO_MANY_SERVER_REQUESTS,"error.tooManyRequests"],[e.dq.NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN,"error.multipleLogin"],[e.dq.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT,"error.playingOnAnotherStreamNoGameName"],[e.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED,"error.instanceTypeNotSupported"],[e.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND,"error.instanceTypeNotSupported"],[e.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED,"error.sessionQueueLengthExceeded"],[e.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND,"error.sessionQueueLengthExceeded"],[e.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION,"error.gameBinariesNotAvailableInRegion"],[e.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND,"error.gameBinariesNotAvailableInRegion"],[e.dq.NVB_R_SESSION_IN_QUEUE_ABANDONED,"error.gameLaunchTimeout"],[e.dq.NVB_R_ZONE_MAITENANCE_STATUS,"error.scheduleMaintenanceLoadingText"],[e.dq.NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND,"error.scheduleMaintenanceLoadingText"],[e.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE,"error.scheduleMaintenanceLoadingText"],[e.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND,"error.scheduleMaintenanceLoadingText"],[e.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED,"error.knowledgeSupportPageMessage"],[e.dq.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION,"error.instanceTypeNotSupported"],[e.dq.NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED,"error.awayForLong"],[e.dq.NVB_R_USER_CANCELED_WATCHING_ADS,"opportunity.blockerDescription"]]),this.reasonToHeader=new Map([[e.dq.NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED,"error.relaunchToPlay"],[e.dq.NVB_R_USER_CANCELED_WATCHING_ADS,"opportunity.blockerDetected"]])}getErrorInfo(h,O,E,w,p){E=(0,S.l$P)(E);const V=this.getErrorText(E),c=this.getErrorHeader(E),C=this.getErrorCode(E,w),l=this.getFailedErrorLink(h,E,w);return{errorCode:C,errorText:V,errorHeaderText:c,linkText:l.text,linkUrl:l.url,isErrorResumable:O,reasonCode:E,appName:p,shortUrl:l.shortUrl}}getErrorText(h){return h>=e.dq.NVB_R_NETWORK_ERROR&&h<=e.dq.NVB_R_UNEXPECTED_HTTPREDIRECT?"error.localNetworkError":this.reasonToText.has(h)?this.reasonToText.get(h):"error.sessionFailed"}getErrorHeader(h){return this.reasonToHeader.has(h)?this.reasonToHeader.get(h):""}getErrorCode(h,O){let E;return E=(0,x.isArray)(O)&&O.length>0?O[0]:h,L.ExcludedFailedErrorCodes.includes(E)?"":this.formatErrorCode(E)}getFailedErrorLink(h,O,E){let w;return w=(0,x.isArray)(E)&&E.length>0?E[0]:O,this.getErrorLink(h,w)}}},36242:(Dt,ct,t)=>{"use strict";t.d(ct,{o:()=>i,r:()=>e});var e=function(L){return L.HotKey="Hotkey",L.Igo="IGO",L.Osc="OSC",L}(e||{}),i=function(L){return L.Send="Send",L.ToggleTextVisibility="ToggleTextVisibility",L}(i||{})},26632:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>l});var e=t(47178),i=t(6416),L=t(82973),f=t(64441),x=t(64555),S=t(42241),u=t(37066);class g extends u.c{getErrorInfo(n,s,R){const _=this.getErrorText(R),b=this.formatErrorCode(R),I=this.getErrorLink(n,R);return{errorCode:b,errorText:_,linkText:I.text,linkUrl:I.url,isErrorResumable:s,shortUrl:I.shortUrl}}getErrorText(n){return this.isVideoDecoderError(n)?"error.minRequirement":"error.invalidParams"}}var h=t(21120),O=t(53576),E=t(36520),w=t(46939),p=t(61699),V=t(13963),c=t(77550);let l=(()=>{var o;class n{constructor(R,_,b,I,q,a,y,M,P,K,B,j){this.streamingManagerService=_,this.streamingService=b,this.localeService=I,this.ecomService=q,this.gfnSdkService=y,this.guestModeService=M,this.guestModeHelperService=P,this.unsupportedBrowserService=K,this.telemetryUtilService=B,this.streamerErrorHelperService=j,this.genericErrorPath=["streamerError","genericError"],this.nesErrorPath=["streamerError","nesAuthError"],this.ecomNesErrorPath=["streamerError","entitlementError"],this.sessionErrorPath=["streamerError","sessionError"],this.timeCapSessionErrorPath=["streamerError","timeCapSessionError"],this.nonUpgradableUser=!1,this.canUpgradeOnSessionLength=!1,this.userMembership={},this.unsupportedGfnErrorExists=!1,this.logger=R.getLogger("gfn/errorService"),this.geronimoTerminationErrors=new i.C(a),this.geronimoFailedErrors=new i.u(a),this.geronimoBridgeErrors=new g(a),this.routeDataGenerators=new Map,this.routeDataGenerators.set(f.fR.GenericError,this.generateGenericErrorData.bind(this)),this.routeDataGenerators.set(f.fR.NesAuthError,this.generateNesErrorData.bind(this)),this.routeDataGenerators.set(f.fR.GeronimoError,this.generateStreamerErrorData.bind(this)),this.routeDataGenerators.set(f.fR.PreStreamGeronimoError,this.generatePreStreamerErrorData.bind(this)),this.routeDataGenerators.set(f.fR.EntitlementError,this.generateEntitlementErrorData.bind(this)),this.localeService.localeChanged.subscribe(tt=>{this.locale=tt})}initializeStreamingUi(){this.checkUserEntitlement(),this.streamingManagerService.register(f.$D.Error,{callbackContext:this,onStateBegin:this.routeErrorState,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(f.$D.ResumableError,{callbackContext:this,onStateBegin:this.onErrorState,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(f.$D.TerminalError,{callbackContext:this,onStateBegin:this.onErrorState,onStateEnd:this.onStateEnd})}closeErrorDialog(R=!0,_){this.shownUiHandle&&(this.logger.info("closing error dialog"),this.shownUiHandle.hide(),this.shownUiHandle=null),this.uiHandle&&R&&(this.logger.info("Going to the done state."),this.sendDialogClosedTelemetry(),this.uiHandle.goToDone(_),this.uiHandle=null)}isErrorResumable(){return this.streamingService.isSessionResumable()}routeErrorState(R){this.isErrorResumable()?R.errorUIHandle.goToResumableError(R.data):R.errorUIHandle.goToTerminalError(R.data)}onErrorState(R){if(this.uiHandle=R.handle,this.guestModeHelperService.isGuestMode){var _,b,I,q;if((null===(_=R.data)||void 0===_||null===(_=_.errorData)||void 0===_?void 0:_.errorCode)===S.Sj.GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED||(null===(b=R.data)||void 0===b||null===(b=b.errorData)||void 0===b?void 0:b.errorCode)===S.dq.NVB_R_TOO_MANY_SERVER_REQUESTS)this.guestModeService.updateGuestModeExitUrl(h.et_.GFN_Error_SessionLimitReached);else if((null===(I=R.data)||void 0===I||null===(I=I.errorData)||void 0===I?void 0:I.errorCode)===S.Sj.GUEST_MODE_CAMAPAIGN_DISABLED)this.guestModeService.updateGuestModeExitUrl(h.et_.Campaign_Suspended);else if((null===(q=R.data)||void 0===q||null===(q=q.errorData)||void 0===q?void 0:q.errorCode)!==S.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT){var a;this.guestModeService.updateGuestModeExitUrl(h.et_.GFN_Error),null!==(a=R.data)&&void 0!==a&&null!==(a=a.errorData)&&void 0!==a&&a.errorCode&&!Object.values(L.pY).includes(R.data.errorData.errorCode)&&this.guestModeService.updateRedirectURLWithSubErrorCode(this.streamerErrorHelperService.getRagnarokErrorCode(R.data.errorData.errorCode))}return void this.closeErrorDialog()}const y=this.generateErrorData(R.data);this.logger.info("Final error route data:",y),this.uiHandleSub=this.uiHandle.show(y.path,y.data).subscribe(M=>{this.shownUiHandle=M,this.sendDialogOpenTelemetryOnError(R.data)})}sendDialogOpenTelemetryOnError(R){var _;switch(null==R||null===(_=R.errorData)||void 0===_?void 0:_.errorCode){case L.pY.UnsupportedBrowser:case L.pY.UnsupportedPlatform:case L.pY.PWARequired:case L.pY.NativeAppOnly:this.unsupportedGfnErrorExists=!0,this.telemetryUtilService.sendPopUpDialogShownEvent(h.ItH.Unsupported_Browser_Or_Platform_Game_Launch)}}sendDialogClosedTelemetry(){this.unsupportedGfnErrorExists&&this.telemetryUtilService.sendPopUpDialogClosedEvent(h.ItH.Unsupported_Browser_Or_Platform_Game_Launch,h.XzU.Dialog_Closed)}onStateEnd(){this.uiHandle=null,this.unsupportedGfnErrorExists=!1,this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null)}generateErrorData(R){if(!this.routeDataGenerators.has(R.errorData.errorType))throw new Error("Cannot generate error route data for error type: "+R.errorData.errorType);return this.routeDataGenerators.get(R.errorData.errorType)(R.errorData)}generateNesErrorData(R){return this.logger.info("Generating Nes error data from:",R),{path:this.nesErrorPath,size:L.fD,data:{errorCode:R.errorCode}}}generateEntitlementErrorData(R){return this.logger.info("Generating Ecom user membership status error data from:",R),{path:this.ecomNesErrorPath,size:L.fD,data:{useCase:h.vq_.Join}}}generateGenericErrorData(R){this.logger.info("Generating generic error data from:",R);const _={errorText:"error.invalidParams",isErrorResumable:!1},b=this.unsupportedBrowserService.unsupportedBrowserState$.pipe((0,E.w)(q=>this.unsupportedBrowserService.getDialogLink$(q,{anchorLink:!0})));switch(R.errorCode){case L.pY.NetworkError:_.errorText="error.networkError";break;case L.pY.ZeroCmsId:_.errorText="error.desktopShortcutInvalid";break;case L.pY.ScheduledMaintenance:_.errorText="error.scheduleMaintenanceLoadingText",_.reasonCode=S.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE;break;case L.pY.UnsupportedBrowser:case L.pY.PWARequired:case L.pY.NativeAppOnly:b.pipe((0,w.q)(1)).subscribe(q=>{_.errorText="layout.universalUnsupportedDialogText.unsupportedBrowserHeaderText",_.linkText=q.text,_.linkUrl=q.url,_.shortUrl=q.shortUrl});break;case L.pY.UnsupportedPlatform:b.pipe((0,w.q)(1)).subscribe(q=>{_.errorText="layout.universalUnsupportedDialogText.unsupportedPlatformHeaderText",_.linkText=q.text,_.linkUrl=q.url,_.shortUrl=q.shortUrl});break;case L.pY.GenericUnsupportedError:b.pipe((0,w.q)(1)).subscribe(q=>{_.errorText="layout.universalUnsupportedDialogText.unsupportedGenericHeaderText",_.linkText=q.text,_.linkUrl=q.url,_.shortUrl=q.shortUrl})}return{path:this.genericErrorPath,size:L.fD,data:_}}generatePreStreamerErrorData(R){let _;const b=this.isErrorResumable();return R instanceof f.yX&&(0,e.has)(R,"resultInfo.code")?_=this.geronimoBridgeErrors.getErrorInfo(this.locale,b,R.resultInfo.code):R instanceof f.yX&&(0,e.has)(R,"resultInfo.result")&&(0,e.has)(R,"resultInfo.extendedError")?(this.logger.info("Generating GeronimoPreStream error data from:",R,b),_=this.geronimoFailedErrors.getErrorInfo(this.locale,b,R.resultInfo.result,R.resultInfo.extendedError)):(this.logger.info("Unexpected Geronimo error data:",R,b),_={errorText:"error.sessionFailed",isErrorResumable:b}),{path:this.genericErrorPath,size:L.fD,data:_}}handleSessionLimitReached(R){return this.nonUpgradableUser?{path:this.sessionErrorPath,size:L.GR,data:R}:this.canUpgradeOnSessionLength?{path:this.ecomNesErrorPath,size:L.fD,data:{useCase:h.vq_.MaxSessionLengthExceeded}}:void 0}generateStreamerErrorData(R){let _;this.logger.info("Generating Geronimo error data from:",R);const b=R,I=this.isErrorResumable();let q=R.errorCode;if(b.errorEventInfo.event===S.V4.STREAMING_TERMINATED){var M,P,K,B;const U=null===(M=this.streamingService.streamingParams)||void 0===M?void 0:M.digitalStore;if(_=this.geronimoTerminationErrors.getErrorInfo(this.locale,I,q,b.errorEventInfo.extendedCode,null!==(P=null===(K=b.errorEventInfo)||void 0===K?void 0:K.latestStreamedAppName)&&void 0!==P?P:null===(B=this.streamingService.streamingParams)||void 0===B?void 0:B.appName,U),this.updateErrorTextForDefaultAppStore(U,_),this.logger.info("Game session limit reached: ",q," Show upsell dialog? ",this.canUpgradeOnSessionLength),q===S.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE)return this.logger.info("Stream terminated for scheduled maintenance of zone: ",q),_.reasonCode=q,{path:this.sessionErrorPath,size:L.EP,data:_};if(q===S.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT)return this.handleSessionLimitReached(_);q===S.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER&&(this.logger.info("Stream ended because user does not own the game: ",q),_.reasonCode=q)}else{if(this.userMembership.eComFeatureEnabled&&b.errorEventInfo.event===S.V4.SESSION_SETUP_FAILURE&&(b.errorCode===S.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND||b.errorCode===S.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED))return{path:this.ecomNesErrorPath,size:L.fD,data:{useCase:h.vq_.QueueLimitExceeded}};{var j,tt;const F=b.errorEventInfo;q=F.result.result,_=this.geronimoFailedErrors.getErrorInfo(this.locale,I,q,F.result.extendedError,null!==(j=null==F?void 0:F.latestStreamedAppName)&&void 0!==j?j:null===(tt=this.streamingService.streamingParams)||void 0===tt?void 0:tt.appName)}}return{path:this.genericErrorPath,size:L.fD,data:_}}updateErrorTextForDefaultAppStore(R,_){R===h.f1U&&"error.gameNotOwnedByUser"===_.errorText&&(_.errorText="error.gameNotOwnedByUserWithoutAppStore")}checkUserEntitlement(){(0,x.aj)([this.ecomService.getUserMembership(),this.gfnSdkService.getAuthType()]).subscribe(([R,_])=>{const{product:b,...I}=R;this.logger.info("Check user membership for showing upsell dialog: ",I),this.userMembership=R,this.canUpgradeOnSessionLength=R.eComFeatureEnabled&&R.membershipStatus===h.Tn6.Entitled&&this.ecomService.featureUpsellAvailable(h.$cB.HIGHER_SESSION_LENGTH),this.nonUpgradableUser=R.membershipStatus===h.Tn6.Entitled&&!this.ecomService.featureUpsellAvailable(h.$cB.HIGHER_SESSION_LENGTH),_===O.Gr.JWT&&(this.canUpgradeOnSessionLength=!0,this.nonUpgradableUser=!1)})}}return(o=n).\u0275fac=function(R){return new(R||o)(p.LFG(V.ed),p.LFG(f.bF),p.LFG(S.FW),p.LFG(V.OL),p.LFG(h.BHV),p.LFG(h.VKt),p.LFG(O.s),p.LFG(h.o15),p.LFG(h.hTr),p.LFG(h.rHN),p.LFG(h.wU6),p.LFG(c.q))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},92942:(Dt,ct,t)=>{"use strict";t.d(ct,{S:()=>c});var e=t(46014),L=t(13963),f=t(9681),x=t(85046),S=t(67293),u=t(87965),g=t(46939),h=t(42241),O=t(64441),E=t(61699),w=t(36480),p=t(21120),V=t(97881);let c=(()=>{var C;class l{constructor(n,s,R,_,b,I,q,a,y,M,P,K){this.streamingManagerService=s,this.sanitizer=R,this.streamerConfigService=_,this.streamingService=b,this.gfcHelperService=I,this.surveyService=q,this.feedbackService=a,this.playtestLiveService=y,this.guestModeHelperService=M,this.udsHelperService=P,this.appConfig=K,this.surveyURL=null,this.logger=n.getLogger("gfn/streamingFeedback"),this.logger.info("entered streamingFeedback"),this.sessionSetup$=this.streamingService.streamingEvent$.pipe((0,x.h)(B=>B.event===h.V4.SESSION_SETUP_SUCCESS)),this.sessionSetup$.subscribe(B=>{this.sessionStartTime=Date.now(),this.sessionId=this.streamingService.streamingProperties.sessionId},B=>{this.logger.error("Error encountered during has feedback check: ",B)})}initializeStreamingUi(){L.ng.isBrowserPlatform()&&this.gfcHelperService.getAppInstanceId().subscribe(s=>{this.appInstanceId=s}),this.streamingManagerService.register(O.$D.PostStreaming,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}finishFeedbackState(){this.shownUiHandle?(this.logger.info("Post-game feedback, finishFeedbackState - goToNext state"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):(this.logger.error("finishFeedbackUIState was called while UI was not shown."),this.uiHandle&&(this.logger.info("Try going to the next state."),this.uiHandle.goToNext()))}onStateStarted(n){var s,R;if(this.uiHandle=n.handle,null!==(s=this.appConfig.featureEnablement)&&void 0!==s&&s.surveyInNative)return this.uiHandle.goToNext(),void(this.uiHandle=null);this.playtestLiveService.skipFeedback()||this.guestModeHelperService.isGuestMode||this.udsHelperService.udsSuggestionsShownInStream||!this.guestModeHelperService.isGuestMode&&null!==(R=this.streamerConfigService.activeConfig)&&void 0!==R&&R.sdkClient?this.finishFeedbackState():this.uiHandleSub=this.uiHandle.show(["feedback"],{surveyURL:this.surveyURL}).subscribe(_=>{this.shownUiHandle=_},_=>this.logger.error("Error showing Feedback route: ",_))}onStateEnd(){this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null),this.uiHandle&&(this.uiHandle=null)}resizeWindowForFeedback(){this.uiHandle&&this.uiHandle.restoreWindow()}getSessionDuration(){const n=Date.now()-this.sessionStartTime,s=Math.floor(n/6e4);return this.logger.info("Streaming session duration in minutes: ",s),s}getPostGameSurveyUrl(){return this.isAdminHubSurvey=!1,this.surveyService.isSurveyFeatureAvailable([e.TriggerType.PostGame]).pipe((0,S.b)(n=>n?this.streamerConfigService.config$.pipe((0,u.zg)(s=>this.surveyService.getAvailableSurvey([e.TriggerType.PostGame],`${s.cmsId}`,this.sessionId,this.getSessionDuration())),(0,g.q)(1),(0,u.zg)(s=>{if(s){this.logger.info("AdminHub Post-game Survey is available");const R=this.sanitizer.bypassSecurityTrustResourceUrl(s.surveyContainerUrl);return this.isAdminHubSurvey=!0,this.logger.info("got surveySafeUrl: ",R),this.subscribeToSurveyEvents(s),(0,f.of)(R)}return this.logger.info("AdminHub PostGame Survey is not available, do not show feedback"),(0,f.of)(null)})):(this.logger.info("AdminHub PostGame Survey is not available due to disabled Feature Rollout"),(0,f.of)(null))))}hasAdminHubSurvey(){return this.isAdminHubSurvey}getUser(){return(0,f.of)(!0)}subscribeToSurveyEvents(n){this.surveyEventReferenceSubmitted=(0,e.subscribeToIFrameEvents)({surveyId:n.surveyId,type:e.SurveyEventType.Submitted},this.surveyEventListenerSubmitted.bind(this)),this.surveyEventReferenceDismissed=(0,e.subscribeToIFrameEvents)({surveyId:n.surveyId,type:e.SurveyEventType.Dismissed},this.surveyEventListenerDismissed.bind(this)),this.surveyEventReferenceCloseDialog=(0,e.subscribeToIFrameEvents)({surveyId:n.surveyId,type:e.SurveyEventType.CloseDialog},this.surveyEventListenerCloseDialog.bind(this))}surveyEventListenerSubmitted(){this.logger.info("PostGAME Submitted, closing window"),this.feedbackService.onSurveySent(),this.finishFeedbackState(),this.surveyEventReferenceSubmitted.unsubscribe()}surveyEventListenerDismissed(){this.logger.info("PostGAME Dismissed, closing window..."),this.finishFeedbackState(),this.surveyEventReferenceDismissed.unsubscribe()}surveyEventListenerCloseDialog(){this.logger.info("PostGAME closed, closing window..."),this.surveySendDismissTelemetry(),this.finishFeedbackState(),this.surveyEventReferenceCloseDialog.unsubscribe()}surveySendDismissTelemetry(){this.surveyService.surveyEventListenerCloseDialog(e.TriggerType.PostGame)}}return(C=l).\u0275fac=function(n){return new(n||C)(E.LFG(L.ed),E.LFG(O.bF),E.LFG(w.H7),E.LFG(p.oX5),E.LFG(h.FW),E.LFG(p.dgl),E.LFG(p.FR5),E.LFG(V.TB),E.LFG(p.Q0y),E.LFG(p.hTr),E.LFG(p.wHL),E.LFG(p.VKt))},C.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),l})()},48886:(Dt,ct,t)=>{"use strict";t.d(ct,{C:()=>C,p:()=>l});var e=t(73992),i=t(15746),L=t(17627),f=t(85046),x=t(87965),S=t(47178),u=t(78943),g=t(21120),h=t(91467),O=t(64441),E=t(13963),w=t(61699),p=t(87550),V=t(32627),c=t(36480);const C="gameChange";let l=(()=>{var o;class n{constructor(R,_,b,I,q,a,y,M,P,K,B,j){var tt;this.streamerManagerService=b,this.nativeEventService=I,this.bridgeService=q,this.imageFormatService=a,this.streamingService=y,this.relaunchGameService=M,this.streamerConfigService=P,this.titleService=K,this.gameLaunchAnalyticsService=B,this.lcarsService=j,this.isPreviousGameChangeDialogOpen=!1,this.isGameLaunchEventPresent=!1,this.tvMode=!1,this.logger=R.getLogger("gfn/game-change"),this.tvMode=!(null==_||null===(tt=_.featureEnablement)||void 0===tt||!tt.tvMode)}initiateStreamingUi(){this.streamerManagerService.register(O.$D.Streaming,{callbackContext:this,onStateBegin:this.onStreamingBegin,onStateEnd:this.onStreamingEnd},O.pH.Quit),this.registerGameLaunchEvents(),this.registerForegroundEvent()}completePendingGameChange(R){if(R){(0,S.isNil)(this.pendingNewUrlRoute)&&this.logger.error("Cannot complete pending game launch, dont have a pending new url route"),this.logger.info("Game change, Restart cmd args: ","--url-route="+this.pendingNewUrlRoute);const _=this.pendingNewUrlRoute;this.gameLaunchAnalyticsService.updateGameLaunchChangeMetadata(),this.hideGameChangeDialog(),this.streamingService.stopStreaming().pipe((0,i.b)(b=>{b&&(this.logger.info("Streaming stopped succesfully for game change"),this.titleService.setTitle(g.dCY),this.streamerManagerService.restoreWindow(),this.relaunchGameService.relaunchNewGame(_))})).subscribe()}else this.logger.info("hideGameChangeDialog"),this.gameLaunchAnalyticsService.resetGameLaunchMetadata(!0),this.hideGameChangeDialog()}registerForegroundEvent(){this.nativeEventService.get$(E.Nx.ForegroundEvent,E.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.isGameLaunchEventPresent||this.requestUserAttention(),this.isGameLaunchEventPresent=!1},R=>{this.logger.error("Received error for Foreground window event: ",R),this.isGameLaunchEventPresent=!1})}registerGameLaunchEvents(){this.nativeEventService.get$(E.Nx.RouteChange,E.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(R=>{this.isGameLaunchEventPresent=!0,this.checkToShowGameChangeDialog(R)},R=>{this.logger.error("Received error for game change window event: ",R)})}onStreamingBegin(R){this.isInStreamingState=!0,this.uiHandle=R.handle}checkToShowGameChangeDialog(R){try{const _=JSON.parse(R);if(this.logger.info("Received game change data: ",_),(0,S.isNil)(_)||(0,S.isNil)(_["current-route"])||(0,S.isNil)(_["new-route"]))return void this.logger.error("Invalid game change data given, ignoring");this.isInStreamingState?(this.logger.info("Game is already streaming. Handle game change dialog"),this.handleGameChange(_)):(this.logger.info("Game is not streaming, requesting focus"),this.requestUserAttention())}catch(_){this.logger.error(`Game change data failed JSON parsing. Error: ${_} | Game change string: ${R}`)}}onStreamingEnd(){this.isInStreamingState=!1,this.uiHandle&&(this.uiHandle=null),this.showSub&&this.showSub.unsubscribe()}handleGameChange(R){if(R["new-route"].startsWith("oauth/"))return void this.logger.info("Got oauth route message, ignoring");const _=this.streamerConfigService.activeConfig.cmsId;if((0,S.isNil)(_)||0===_)return void this.logger.error("Current cms id not found in url route, ignoring game change");const b=(0,g.X4o)(R["new-route"],this.logger);if(!(0,S.isNil)(b)&&0!==b)return _===b?(this.logger.info("Ignoring request to launch a second instance of the currently running game"),void this.requestUserAttention()):(this.pendingNewUrlRoute=R["new-route"],void(this.uiHandle?(this.shownUiHandle&&(this.isPreviousGameChangeDialogOpen=!0,this.completePendingGameChange(!1)),this.requestUserAttention(),this.showSub=this.showGameChangeDialog(_,b).subscribe(I=>{this.shownUiHandle=I},I=>{this.logger.error("Error when showing game change dialog: ",I)})):this.logger.error("Unknown error when showing game change dialog")));this.logger.error("New cms id not found in url route, ignoring game change")}requestUserAttention(){this.requestUserAttentionSub=this.bridgeService.executeCommand(u.Gh.Common.Windowcontrol.RequestUserAttention).pipe((0,L.P)()).subscribe()}showGameChangeDialog(R,_){return this.logger.info("ShowGameChangeDialog called"),(0,e.$R)(this.lcarsService.getMetadataByCmsId(R),this.lcarsService.getMetadataByCmsId(_)).pipe((0,f.h)(([b,I])=>!(0,S.isNil)(b)&&!(0,S.isNil)(I)),(0,x.zg)(([b,I])=>{const q=this.imageFormatService.formatImageServiceUrl(I.images.KEY_ART,{w:(0,h.av)(this.tvMode)});return this.uiHandle.show([C,{currentGameName:b.title,newGameName:I.title,newGameIcon:q}])}))}hideGameChangeDialog(){this.logger.info("Inside hideGameChangeDialog: ",this.shownUiHandle),this.shownUiHandle&&(this.shownUiHandle.hide(),this.shownUiHandle=null,this.showSub.unsubscribe(),this.showSub=null,this.isPreviousGameChangeDialogOpen||(this.pendingNewUrlRoute=null),this.isPreviousGameChangeDialogOpen=!1),this.requestUserAttentionSub&&(this.requestUserAttentionSub.unsubscribe(),this.requestUserAttentionSub=null)}}return(o=n).\u0275fac=function(R){return new(R||o)(w.LFG(E.ed),w.LFG(g.VKt),w.LFG(O.bF),w.LFG(E.o1),w.LFG(E.dF),w.LFG(E.CQ),w.LFG(p.F),w.LFG(V.S),w.LFG(g.oX5),w.LFG(c.Dx),w.LFG(g.V89),w.LFG(g.zcQ))},o.\u0275prov=w.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},42510:(Dt,ct,t)=>{"use strict";t.d(ct,{el:()=>i,u7:()=>L});var i=function(f){return f.EditBox="gfnEditBox",f.Unknown="unknown",f}(i||{}),L=function(f){return f.success="Success",f.missing="Missing event",f.invalidjson="Invalid JSON data",f.unknown="Unknown",f}(L||{})},62944:(Dt,ct,t)=>{"use strict";t.d(ct,{x:()=>O});var e=t(32484),i=t(85046),L=t(42241),f=t(42510),x=t(21120),S=t(61699),u=t(13963),g=t(89857),h=t(32392);let O=(()=>{var E;class w{GfnEventEditbox$(){return this.gfnEventEditboxSubject.asObservable()}constructor(V,c,C,l,o){this.injector=c,this.streamingService=C,this.telemetryService=l,this.projectInterfaceService=o,this.gfnEventEditboxSubject=new e.xQ,this.logger=V.getLogger("GfnEventsService"),this.gfnEditboxEventCounter=-1}initialize(){this.logger.info("GfnEvents service init"),this.streamingService.streamingEvent$.pipe((0,i.h)(V=>V.event===L.V4.STREAMING_BEGIN)).subscribe(()=>{this.cmsId=this.streamingService.streamingParams.appId,this.sessionId=this.streamingService.streamingProperties.sessionId,this.subSessionId=this.streamingService.streamingProperties.subSessionId}),this.streamingService.streamingEvent$.pipe((0,i.h)(V=>V.event===L.V4.STREAMING_TERMINATED||V.event===L.V4.STOP_RESULT)).subscribe(()=>{this.gfnEditboxEventCounter=-1}),this.projectInterfaceService.onCustomMessageReceived.subscribe(V=>{(null==V?void 0:V.messageRecipient)===x.gOl.Serenity&&this.parseGfnEvents(null==V?void 0:V.data)})}sendTelemetry(V,c){const C=new x.g7J({cmsId:this.cmsId.toString(),streamSessionId:this.sessionId,streamSubSessionId:this.subSessionId,eventType:this.getGfnEventType(V),statusDetails:c});this.telemetryService.push(C)}parseGfnEvents(V){this.logger.info("parseGfnEvents",V);try{const c=JSON.parse(V);if((null==c?void 0:c.event)===f.el.EditBox){const C=null==c?void 0:c.counter;C&&(-1===this.gfnEditboxEventCounter?this.gfnEditboxEventCounter=C:++this.gfnEditboxEventCounter!==C&&(this.logger.error("Counter mismatch counter: "+C+" gfnEditboxEventCounter: "+this.gfnEditboxEventCounter+" "+V),this.sendTelemetry(f.el.EditBox,f.u7.missing),this.gfnEditboxEventCounter=C));const l=null==c?void 0:c.args;if(l){const o=null==l?void 0:l.id;if(o){const n={id:o},s=null==l?void 0:l.Rect;s&&(n.left=s.left,n.top=s.top,n.right=s.right,n.bottom=s.bottom),this.gfnEventEditboxSubject.next(n)}}}}catch{this.logger.error("Invalid JSON",V),this.sendTelemetry(f.el.Unknown,f.u7.invalidjson)}}getGfnEventType(V){return V===f.el.EditBox?x.YyK.EditBox:x.YyK.EventNone}}return(E=w).\u0275fac=function(V){return new(V||E)(S.LFG(u.ed),S.LFG(S.zs3),S.LFG(L.FW),S.LFG(g.y0),S.LFG(h.m3))},E.\u0275prov=S.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})()},69096:(Dt,ct,t)=>{"use strict";t.d(ct,{h:()=>l});var e=t(21120),i=t(53576),L=t(64441),f=t(9681),x=t(47422),S=t(87965),u=t(82973),g=t(31157),h=t(56490),O=t(47178),w=t(61699),p=t(13963),V=t(64603),c=t(43742),C=t(42241);let l=(()=>{var o;class n{constructor(R,_,b,I,q,a,y,M,P,K){this.idmService=_,this.gfnSdkService=b,this.streamingManagerService=I,this.networkStatusService=q,this.streamerConfigService=a,this.gameSessionDistributedTracingService=y,this.gameSessionAnalyticsService=M,this.streamingService=P,this.distributedTracingUtilService=K,this.logger=R.getLogger("gfn/streamingJarvisAuth")}initializeStreamingUi(){this.streamingManagerService.register(L.$D.Authentication,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}get hasShownUiHandle(){return!(0,O.isNil)(this.shownUiHandle)}finishJarvisAuthState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishJarvisAuthState was called while UI was not shown.")}goToErrorCallback(R){var _;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(_=this.uiHandle)||void 0===_||_.goToError(R)}onStateStarted(R){this.uiHandle=R.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this));const _=this.gameSessionDistributedTracingService.getCurrentActiveSpan();this.networkStatusService.isOnline?this.gfnSdkService.getAuthInfo().subscribe(b=>{b.authType===i.Gr.JWT?(this.gameSessionAnalyticsService.setAuthenticationStatus(h.y.AUTO_LOGIN),this.logger.info("Using JWT auth flow, skipping the user auth check."),this.uiHandle.goToNext(),this.uiHandle=null):this.uiHandleSub=this.idmService.isUserTokenAvailable.pipe((0,x.U)(I=>I&&this.streamerConfigService.activeConfig.launchSource===e.zO5.GeForceNOW||this.gfnSdkService.isThisAGFNSDKSession()&&this.gfnSdkService.isAuthInfoValid(b)),(0,S.zg)(I=>(this.distributedTracingUtilService.setSpanAttribute(_,g.NI.SkippedAuthCheck,I),I?(0,f.of)(null):this.uiHandle.show(["login"])))).subscribe(I=>{this.shownUiHandle=I,(0,O.isNil)(I)&&(this.gameSessionAnalyticsService.setAuthenticationStatus(h.y.AUTO_LOGIN),this.logger.info("User is logged in and game is launched from mall. Hence, skipping the auth check"),this.uiHandle.goToNext(),this.uiHandle=null)})}):(this.uiHandle.goToError({errorType:L.fR.GenericError,errorCode:u.pY.NetworkError}),this.uiHandle=null)}onStateEnd(){this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&this.uiHandleSub.unsubscribe()}}return(o=n).\u0275fac=function(R){return new(R||o)(w.LFG(p.ed),w.LFG(e.No2),w.LFG(i.s),w.LFG(L.bF),w.LFG(p._J),w.LFG(e.oX5),w.LFG(V.r),w.LFG(c.h),w.LFG(C.FW),w.LFG(g.Dc))},o.\u0275prov=w.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},62149:(Dt,ct,t)=>{"use strict";t.d(ct,{wn:()=>W,q_:()=>e.q,Sc:()=>j.S,pp:()=>x.p,x9:()=>A.x,h$:()=>L.h,oG:()=>d.o,rW:()=>d.r,ri:()=>$,H9:()=>H.H,J$:()=>B,gI:()=>f.g,iO:()=>z.iO,nX:()=>U});var e=t(26632),L=(t(6416),t(69096)),f=t(71364),x=t(48886),S=t(32484),u=t(73992),g=t(9681),h=t(64555),O=t(5717),E=t(87965),w=t(99901),p=t(15746),V=t(17627),c=t(46939),C=t(47422),l=t(58175),o=t(36520),n=t(47178),s=t(64441),R=t(13963),_=t(21120),b=t(25057),I=t(31157),q=t(78943),a=t(61699),y=t(43742),M=t(64603),P=t(28332),K=t(87550);let B=(()=>{var J;class st{constructor(gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt,Vt,ut,re,Kt,jt){this.streamingManagerService=vt,this.gridService=k,this.networkTestService=pt,this.serverRoutingService=yt,this.networkConfigurationService=Xt,this.gameSessionAnalyticsService=It,this.gameSessionDistributedTracingService=Nt,this.applicationLifetimeService=le,this.streamingProfileService=te,this.appConfig=bt,this.guestModeHelperService=Vt,this.streamingService=ut,this.bridgeService=re,this.distributedUtilService=Kt,this.systemInfoService=jt,this.shutdownHandler=null,this.networkTestUIResult=_.DYb.Unknown,this.logger=gt.getLogger("gfn/streamingNetworkTest")}initializeStreamingUi(){this.networkTestService.initialize(),this.streamingManagerService.register(s.$D.NetworkTest,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(s.$D.NetworkTest,{callbackContext:this,onStateBegin:this.setUpQuitDialog,onStateEnd:this.cleanUpQuitDialog},s.pH.Quit),this.shutdownHandler=this.applicationLifetimeService.addWorkOnShutdown(()=>this.serverRoutingService.cleanupOnCancel().pipe((0,E.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,w.h)(void 0)))}setUpQuitDialog(gt){this.quitUIHandle=gt.handle,this.quitUIHandle.setExitGuard(()=>this.showQuitDialog())}cleanUpQuitDialog(){this.logger.info("NT is complete, unregistering quit handlers"),this.quitShownUIHandle&&(this.quitShownUIHandle=null,this.completePendingQuit(!0)),this.quitShowSubscription&&this.quitShowSubscription.unsubscribe(),this.requestUserAttentionSub&&this.requestUserAttentionSub.unsubscribe(),this.quitUIHandle=null}requestUserAttention(){this.requestUserAttentionSub&&this.requestUserAttentionSub.unsubscribe(),this.requestUserAttentionSub=this.bridgeService.executeCommand(q.Gh.Common.Windowcontrol.RequestUserAttention).subscribe()}showQuitDialog(){return this.quitSubject&&(this.logger.error("Previous quit subject is not cleaned up"),this.quitSubject.error("showQuitDialog is called again before clean up")),this.quitSubject=new S.xQ,this.requestUserAttention(),this.quitShowSubscription=this.quitUIHandle.show(["quitLoading"],{streamerState:s.$D.NetworkTest.name}).subscribe(gt=>{this.quitShownUIHandle&&this.quitShownUIHandle.hide(),this.quitShownUIHandle=gt,this.logger.info("Quit dialog is shown")},gt=>{this.logger.error("Received error while trying to show quit dialog: ",gt)},()=>{this.quitShowSubscription=null}),this.quitSubject.asObservable().pipe((0,p.b)(gt=>{gt&&this.logger.info("User has clicked on Quit."),this.hideQuitDialog()}))}hideQuitDialog(){this.quitShownUIHandle&&(this.quitShownUIHandle.hide(),this.quitShownUIHandle=null,this.quitShowSubscription.unsubscribe(),this.quitShowSubscription=null)}completePendingQuit(gt){this.quitSubject?(this.logger.info("Completing pending quit with: ",gt?"cancel":"quit"),this.quitSubject.next(!gt),this.quitSubject.complete(),this.quitSubject=null):this.logger.error("No pending quit to complete")}onStateEnd(){this.logger.info("Unsubscribing all the subscriptions before State End "),this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.networkOverridesSubscription&&this.networkOverridesSubscription.unsubscribe(),this.networkTestCallbacksSubscription&&this.networkTestCallbacksSubscription.unsubscribe()}goToErrorCallback(gt){var vt;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(vt=this.uiHandle)||void 0===vt||vt.goToError(gt)}onStateStarted(gt){this.uiHandle=gt.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),this.networkTestUIResult=_.DYb.Unknown,this.networkTestSpan=this.gameSessionDistributedTracingService.getCurrentActiveSpan(),this.networkTestService.setParentSpanForNetworkTest(this.networkTestSpan);const vt=this.networkConfigurationService.getNetworkOverride().pipe((0,E.zg)(k=>{(0,n.isNil)(k)||(this.logger.info("The user selected a zone manually and runNetworkTest is: ",k.runNetworkTest),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.NetworkOverridePresent,!0),b.Gj.resultHeight=b.b_);const pt=this.isNetworkTestRequired(k),yt=this.isLbrRequired(k),Xt=this.getUpdatedThresholdInfo();return(0,u.$R)(pt,yt,Xt)}),(0,E.zg)(([k,pt,yt])=>{if(k||pt)return this.networkTestCallbacks(),this.uiHandle.show(["networkTest"]);if(yt.hasNetworkAnalysisParameterUpdated){this.networkTestCallbacks();const Xt={networkTestResult:JSON.stringify(yt.updatedNetworkTestResult)};return this.uiHandle.show(["networkTest"],Xt)}return this.gameSessionAnalyticsService.setNetworkTestUIResult(_.DYb.Skipped),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.NetworkTestStatus,_.vg_.Skipped),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.NetworkTestStatus,_.vg_.Skipped),(0,g.of)({})}),(0,V.P)());this.networkOverridesSubscription=vt.subscribe(k=>{this.logger.info("shownUiHandle",k),(0,n.isEmpty)(k)?(this.logger.info("Skip Network Test and LBR"),this.uiHandle.goToNext()):this.shownUiHandle=k}),this.subscribeToZoneFromNetworkTestService()}getUpdatedThresholdInfo(){const gt={hasNetworkAnalysisParameterUpdated:!1};return R.ng.isBrowserPlatform()?(0,g.of)(gt):(0,h.aj)([this.networkTestService.getResolutionForThresholdComparision(),this.networkConfigurationService.getCurrentFingerprintInfo()]).pipe((0,c.q)(1),(0,E.zg)(([vt,k])=>{if(null==k||!k.networkTestReturn)return(0,g.of)(null);const pt=this.networkTestService.selectThresholdForResolution(k.networkTestReturn.testResult.thresholds,vt);return pt.profile.width!==k.lastShownThresholdProfile.width||pt.profile.height!==k.lastShownThresholdProfile.height||pt.profile.frameRate!==k.lastShownThresholdProfile.frameRate?(this.networkConfigurationService.updateNetworkTestThresholdProfile(pt.profile).subscribe(O.Z,O.Z),this.networkTestService.analyzeNetworkTestResults(k.networkTestReturn,pt,!1)):(0,g.of)(null)}),(0,C.U)(vt=>vt?{hasNetworkAnalysisParameterUpdated:!0,updatedNetworkTestResult:vt}:gt),(0,l.K)(vt=>(this.logger.error("Error while checking for updated threshold",vt),(0,g.of)(gt))))}subscribeToZoneFromNetworkTestService(){this.networkTestService.zoneName.subscribe(gt=>{this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.ZoneName,gt.name),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.ZoneAddress,gt.address),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.ZoneName,gt.name),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.ZoneAddress,gt.address)})}networkTestCallbacks(){this.networkTestCallbacksSubscription=this.networkTestService.networkTestMessages.subscribe(gt=>{var vt,k;switch(this.logger.info("Received network test message: ",gt,_.ASW[null==gt||null===(vt=gt.data)||void 0===vt?void 0:vt.networkTestStatus]),gt.message){case _.Irw.NetworkTestAutoRunDone:gt.data.networkTestStatus===_.ASW.Excellent?(this.networkTestUIResult===_.DYb.Unknown&&(this.networkTestUIResult=_.DYb.Passed),this.finishNetworkTestState(),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.NetworkTestStatus,_.vg_.Passed),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.NetworkTestStatus,_.vg_.Passed),this.networkTestCallbacksSubscription.unsubscribe()):this.networkTestUIResult=_.DYb.DialogShown,this.gameSessionAnalyticsService.setNetworkTestUIResult(this.networkTestUIResult);break;case _.Irw.NetworkTestClosed:this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.NetworkTestStatus,_.vg_.UserInputPrompted),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.NetworkTestStatus,_.vg_.UserInputPrompted),this.finishNetworkTestState();break;case _.Irw.NetworkTestClosedOnError:this.isWebRtcNetworkTestEnabled?this.finishNetworkTestState():this.closeStreamerWindow();break;case _.Irw.NetworkTestFailed:this.gameSessionAnalyticsService.handleGameLaunchFailure({status:gt.data.networkTestStatus,errorDetails:gt.data.errorDetails});break;case _.Irw.NetworkTestAutoRunTryAgain:break;case _.Irw.LBRAutoRunDone:let pt,yt;this.finishNetworkTestState(),null!==(k=gt.data)&&void 0!==k&&k.isLbrRun?(pt=_.vg_.LbrDone,yt=_.DYb.LbrDone):(pt=_.vg_.Skipped,yt=_.DYb.Skipped),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,I.NI.NetworkTestStatus,pt),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(I.NI.NetworkTestStatus,pt),this.networkTestCallbacksSubscription.unsubscribe(),this.gameSessionAnalyticsService.setNetworkTestUIResult(yt);break;default:this.logger.info("Network test message: default case"),this.finishNetworkTestState()}})}finishNetworkTestState(){this.networkTestService.setNetworkTestExpiryTime().subscribe(),this.shownUiHandle?(this.logger.info("Proceed to next state"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishNetworkTestState was called while UI was not shown."),this.shutdownHandler&&(this.shutdownHandler.remove(),this.shutdownHandler=null)}closeStreamerWindow(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.quitUIHandle.setExitGuard(()=>(0,g.of)(!0)),this.uiHandle.goToDone(),this.uiHandle=null):this.logger.error("closeStreamerWindow was called while UI was not shown.")}isWebrtcNetworkTestRequired(gt){return this.networkTestService.webrtcNetworkTestEnabled.pipe((0,o.w)(vt=>vt.showUI?this.networkTestService.isWebrtcNetworkTestRequired(gt):(0,g.of)(!1)))}isNetworkTestRequired(gt){var vt,k;if(null!==(vt=this.appConfig.featureEnablement)&&void 0!==vt&&vt.disablePreStreamNetworkTest||this.guestModeHelperService.isGuestMode&&(null===(k=this.guestModeHelperService.getGuestModeConfig())||void 0===k||!k.isNetworkTestEnabled))return(0,g.of)(!1);let pt;return R.ng.isBrowserPlatform()?pt=this.isWebrtcNetworkTestRequired(gt):(0,n.isNil)(gt)||!gt.runNetworkTest?pt=this.networkTestService.shouldNetworkTestRun().pipe((0,E.zg)(yt=>yt?(0,g.of)(!0):this.isMaxDisplayRequired().pipe((0,p.b)(Xt=>{Xt&&(this.logger.info("Max display is required, hence run network test"),this.networkTestService.setRetriggerPolicy(_.Yk9.MaxDisplayRequired))})))):(this.logger.info("Override zone has been set, hence run network test"),this.networkTestService.setRetriggerPolicy(_.Yk9.OverrideFlagSet),pt=(0,g.of)(gt.runNetworkTest)),pt.pipe((0,p.b)(yt=>{this.networkTestService.isNetworkTestRequired=yt,this.logger.info(`Network test will ${yt?"":"not "}be run.`)}))}isLbrRequired(gt){var vt;if(null!==(vt=this.appConfig.featureEnablement)&&void 0!==vt&&vt.disablePreStreamNetworkTest)return(0,g.of)(!1);let k;return k=(0,n.isNil)(gt)&&R.ng.isNativeLikePlatform()?this.gridService.zoneList$.pipe((0,l.K)(pt=>(this.logger.error("error to get zone list from server: ",pt),(0,g.of)({}))),(0,o.w)(pt=>this.serverRoutingService.shouldLbrRun(pt))):R.ng.isNativeLikePlatform()?this.networkConfigurationService.getCurrentCachedLatencies().pipe((0,C.U)(pt=>!!(0,n.isNil)(pt))):(0,g.of)(!1),k.pipe((0,p.b)(pt=>{this.serverRoutingService.isLbrRequired=pt,this.logger.info(`LBR will ${pt?"":"not "}be run.`)}))}isMaxDisplayRequired(){const gt=this.systemInfoService.getSystemInfo([R.l7.Network]).pipe((0,c.q)(1),(0,C.U)(yt=>yt.Network)),vt=this.networkConfigurationService.getCurrentFingerprintMaxDisplay(),k=this.streamingProfileService.getPrimaryDisplayResolution(),pt=this.streamingProfileService.getStreamingProfileName();return(0,h.aj)([gt,vt,k,pt]).pipe((0,c.q)(1),(0,E.zg)(([yt,Xt,It,Nt])=>{const le=Xt,te=It;return(0,n.isNil)(yt)||!this.appConfig.featureEnablement.dynamicStreamingResolution||Nt!==_.M1b.Balanced||yt.NetworkType===R.VV.WiFi2_4?(0,g.of)(!1):(0,n.isNil)(le)?(0,g.of)(!0):this.streamingProfileService.getAvailableResolutionList().pipe((0,C.U)(bt=>{let Vt=te.width/te.height,ut=!1;for(const Kt of bt)if(Vt===Kt.width/Kt.height){ut=!0;break}ut||(Vt=16/9);const re=Vt!==le.width/le.height;return re&&this.streamingProfileService.clearCachedStreamingProfile(),re}))}))}}return(J=st).\u0275fac=function(gt){return new(gt||J)(a.LFG(R.ed),a.LFG(s.bF),a.LFG(_.rIG),a.LFG(_.R2C),a.LFG(_.mw3),a.LFG(_.XS0),a.LFG(y.h),a.LFG(M.r),a.LFG(P.Ll),a.LFG(_.GKb),a.LFG(_.VKt),a.LFG(_.hTr),a.LFG(K.F),a.LFG(R.dF),a.LFG(I.Dc),a.LFG(R.Ob))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),st})();var j=t(92942),tt=t(69531),ot=t(99542),F=t(26575);let U=(()=>{var J;class st{constructor(gt,vt,k,pt,yt,Xt,It,Nt,le){this.streamingManagerService=vt,this.streamerRelaunchService=k,this.updateService=pt,this.streamerConfigService=yt,this.location=Xt,this.gfnSwUpdateService=It,this.streamingService=Nt,this.deeplinkHelperService=le,this.logger=gt.getLogger("gfn/streamingUpdateCheck")}initializeStreamingUi(){this.streamingManagerService.register(s.$D.UpdateCheck,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.currentStateSubscription&&(this.currentStateSubscription.unsubscribe(),this.currentStateSubscription=null),this.currentStateSubscription=this.streamingManagerService.getCurrentStateChanges().subscribe(vt=>{this.logger.info("streaming state change: ",vt),this.currentState=vt})}finishUpdateCheckState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishUpdateCheckState was called while UI was not shown.")}goToErrorCallback(gt){var vt;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(vt=this.uiHandle)||void 0===vt||vt.goToError(gt)}onStateStarted(gt){this.uiHandle=gt.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),R.ng.isBrowserPlatform()?this.handleBrowserUpdate():this.handleDesktopUpdate()}handleBrowserUpdate(){this.gfnSwUpdateService.isFirstInstallation()?(this.logger.info("First Installation, skipping update check"),this.uiHandle.goToNext()):this.browserUpdateCheckSubscription=this.gfnSwUpdateService.checkForUpdates().pipe((0,o.w)(gt=>gt.updateAvailable?(this.logger.info("Update was installed. Will request service worker to activate",gt),this.updateService.appendUpdateData({updateFromJS:!0,updateFromStreamer:!0,updateStartTimestamp:Date.now()})):(this.logger.info("No update available."),(0,g.of)(!1))),(0,E.zg)(gt=>{if(gt&&this.deeplinkHelperService.allowApplicationReload()){const vt=(0,_.IGn)(this.streamerConfigService.activeConfig);return this.location.replaceState(vt),this.gfnSwUpdateService.activateServiceWorker()}return(0,g.of)(!1)}),(0,E.zg)(gt=>gt?this.gfnSwUpdateService.swActivationTimedOutNotification:(0,g.of)(!1))).subscribe(gt=>{gt?this.logger.info("Activation requested. Will reload in a moment..."):(this.logger.info("Moving to next state."),this.uiHandle.goToNext())},gt=>{this.logger.error("Failed to check for update",gt),this.currentState===s.$D.UpdateCheck&&this.uiHandle.goToNext()})}handleDesktopUpdate(){const gt=(0,tt.P)(()=>(0,g.of)(this.uiHandle.goToNext()));this.updateService.getAvailableUpdate$().pipe((0,o.w)(vt=>vt?(this.logger.info("Update available, attempting update"),this.streamerRelaunchService.startRelaunch(!0)):(this.logger.info("No update available on startup."),gt))).subscribe(()=>this.logger.info("Finished update check"),vt=>{this.logger.error("Failed to check for pending update",vt),this.currentState===s.$D.UpdateCheck&&this.uiHandle.goToNext()})}onStateEnd(){this.logger.info("Unsubscribing all the subscriptions before State End"),this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&(this.uiHandleSub.unsubscribe(),this.uiHandleSub=null),this.browserUpdateCheckSubscription&&this.browserUpdateCheckSubscription.unsubscribe()}}return(J=st).\u0275fac=function(gt){return new(gt||J)(a.LFG(R.ed),a.LFG(s.bF),a.LFG(ot.f),a.LFG(_.GMF),a.LFG(_.oX5),a.LFG(F.Ye),a.LFG(_.m$M),a.LFG(K.F),a.LFG(_.gIP))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),st})();var z=t(17142),Q=t(70462),dt=t(45083),X=t(680),m=t(85046),Y=t(47927),D=t(42241),N=t(89857),Z=t(78061);let W=(()=>{var J;class st{get imeInputInProgress(){return this.imeOpened.value}get imeOpened$(){return this.imeOpened.asObservable()}get imeInputAction$(){return this.imeInputActionSubject.asObservable()}get imeInputTextVisible$(){return this.imeInputTextVisibleSubject.asObservable()}constructor(gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt){var Vt,ut;this.configuration=k,this.streamingService=pt,this.telemetryService=yt,this.streamerManagerService=Xt,this.bridgeService=It,this.experienceControl=Nt,this.keyboardLayoutService=le,this.networkStatusService=te,this.appConfig=bt,this.activeUiHandle=null,this.imeEnabled=!1,this.imeOpened=new Q.X(!1),this.imeInputActionSubject=new S.xQ,this.imeInputTextVisibleSubject=new S.xQ,this.logger=vt.getLogger("ClientImeLoaderService"),this.mobileMode=!(null===(Vt=this.appConfig)||void 0===Vt||null===(Vt=Vt.featureEnablement)||void 0===Vt||!Vt.mobileMode),this.tvMode=!(null===(ut=this.appConfig)||void 0===ut||null===(ut=ut.featureEnablement)||void 0===ut||!ut.tvMode),this.isImeConfigEnabled$=(0,g.of)(k.featureEnablement.clientIME).pipe((0,o.w)(re=>re&&this.mobileMode?gt.accountStatusChanged.pipe((0,o.w)(Kt=>this.queryGxTargetForBrowserClientIME(Kt)),(0,dt.x)()):(0,g.of)(re)),(0,X.d)(1)),this.isImeEnabled$=(0,h.aj)([this.isImeConfigEnabled$,this.networkStatusService.onlineStatusChanged]).pipe((0,o.w)(([re,Kt])=>(this.logger.info("Client IME support changes to",re?"supported":"unsupported"),Kt?this.mobileMode||this.tvMode?(0,g.of)(re):R.ng.isBrowserPlatform()?this.keyboardLayoutService.readCachedKeyboardLayout().pipe((0,o.w)(jt=>{var Wt;return this.logger.info("Keyboard layout cache read response: ",jt),jt&&Object.keys(jt).length>0?(0,g.of)(null==jt||null===(Wt=jt.params)||void 0===Wt?void 0:Wt.isOtherLayout):(0,g.of)(this.keyboardLayoutService.isOtherDefaultLayout)})):(0,h.aj)([this.keyboardLayoutService.getKeyboardLayoutsList(),this.keyboardLayoutService.onKBLayoutChange$,this.keyboardLayoutService.readCachedKeyboardLayout()]).pipe((0,o.w)(([jt,Wt,oe])=>{if((0,n.isNil)(oe)||(0,n.isEmpty)(oe)){const Pt=jt;this.logger.info("kbChanged: ",Wt);const Ut=Pt.find(Tt=>Tt.code===Wt);return(0,g.of)(void 0===Ut)}var Qt;return(0,g.of)(null===(Qt=oe.params)||void 0===Qt?void 0:Qt.isOtherLayout)})):(this.logger.info("Returning false. isOnline: ",Kt),(0,g.of)(!1)))),(0,l.K)(re=>(this.logger.error("Error detected while checking whether the clientIME feature is enabled",re),(0,g.of)(!1))))}queryGxTargetForBrowserClientIME(gt){var vt,k;const pt=(0,g.of)({userId:null!==(vt=null==gt?void 0:gt.userId)&&void 0!==vt?vt:"",idpId:null!==(k=null==gt?void 0:gt.idpId)&&void 0!==k?k:""});return this.experienceControl.getCloudVariable(this.configuration.gxTarget.experiences.isBrowserClientIMESupported,{},void 0,Y.Z4.GxTargetGetCloudVariable,Y.Qu.Other,pt).pipe((0,C.U)(yt=>yt.value.isBrowserClientIMESupported),(0,l.K)(yt=>(this.logger.info("Failed to resolve gx-target cloud variable:",yt),(0,g.of)(!1))))}initialize(){this.streamerManagerService.register(s.$D.Streaming,{callbackContext:this,onStateBegin:this.onStateBegin,onStateEnd:this.onStateEnd},s.pH.Primary),this.isImeEnabled$.subscribe(vt=>{this.logger.info("Cient IME",vt?"enabled":"disabled"),this.imeEnabled=vt}),this.streamingService.streamingEvent$.pipe((0,m.h)(vt=>vt.event===D.V4.SESSION_SETUP_SUCCESS)).subscribe(vt=>{this.sessionStartTime=Date.now()},vt=>{this.logger.error("Error encountered while getting session setup time: ",vt)})}onStateBegin(gt){this.activeUiHandle=gt.handle}onStateEnd(){this.activeUiHandle=null,this.imeOpened.next(!1)}initImeInputHandler(gt){var vt;this.imeEnabled?!1===this.imeInputInProgress&&(null===(vt=this.activeUiHandle)||void 0===vt||vt.show(["input"]).subscribe(k=>{this.imeOpened.next(!0),this.shownImeInputHandle=k,this.logger.info("IME window opened");const pt=new _.aGN({streamDuration:0,source:""});pt.parameters.source=gt,pt.parameters.streamDuration=Date.now()-this.sessionStartTime,this.telemetryService.push(pt)},k=>{this.logger.info("Failed to open IME window")})):this.logger.error("Client IME is disabled!")}closeImeInputHandler(){this.shownImeInputHandle.hide(),this.imeOpened.next(!1),this.logger.info("IME window closed")}sendUnicodeInput(gt){const k=(new TextEncoder).encode(gt);return this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.SendUnicode,{unicodeInput:k})}controlImeInput(gt){this.imeInputActionSubject.next(gt)}emitImeInputTextVisibility(gt){this.imeInputTextVisibleSubject.next(gt)}}return(J=st).\u0275fac=function(gt){return new(gt||J)(a.LFG(_.No2),a.LFG(R.ed),a.LFG(_.VKt),a.LFG(K.F),a.LFG(N.y0),a.LFG(s.bF),a.LFG(R.dF),a.LFG(Y.Q6),a.LFG(Z.G),a.LFG(R._J),a.LFG(_.VKt))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),st})();var A=t(62944),d=t(36242),H=t(3897);let $=(()=>{var J;class st{get isInStreamingPasteEnabled(){return this.isInStreamingPasteEnabled$}get pasteInputInProgress(){return this.inStreamPasteWindowOpened.value}get pasteWindowOpened$(){return this.inStreamPasteWindowOpened.asObservable()}constructor(gt,vt,k,pt,yt,Xt){var It;this.streamerManagerService=vt,this.bridgeService=k,this.settingsService=pt,this.guestModeHelperService=yt,this.appConfig=Xt,this.activeUiHandle=null,this.isPasteEnabled=!1,this.inStreamPasteWindowOpened=new Q.X(!1),this.logger=gt.getLogger("InstreamPasteService"),this.isClipboardConfigEnabled=!(null===(It=this.appConfig)||void 0===It||null===(It=It.client)||void 0===It||!It.needsDialogForInStreamPaste),this.guestModeHelperService.isGuestAppFlow()&&(this.guestModeConfig=this.guestModeHelperService.getGuestModeConfig()),this.isInStreamingPasteEnabled$=this.settingsService.getSettingsData().pipe((0,o.w)(Nt=>{var le;this.logger.info("Clipboard config value :",this.isClipboardConfigEnabled?"supported":"unsupported"),this.logger.info("Clipboard paste enablement from settings :",null!=Nt&&Nt.clipboardPaste?"enabled":"disabled");let te=this.isClipboardConfigEnabled;var bt;return void 0!==(null===(le=this.guestModeConfig)||void 0===le||null===(le=le.igoSettings)||void 0===le?void 0:le.pasteDefaultOn)&&(te=te&&(null===(bt=this.guestModeConfig)||void 0===bt||null===(bt=bt.igoSettings)||void 0===bt?void 0:bt.pasteDefaultOn)),(0,g.of)(te&&(null==Nt?void 0:Nt.clipboardPaste))}),(0,l.K)(Nt=>(this.logger.error("Failed to fetch paste config: ",Nt),(0,g.of)(!1))))}initialize(){this.streamerManagerService.register(s.$D.Streaming,{callbackContext:this,onStateBegin:this.onStateBegin,onStateEnd:this.onStateEnd},s.pH.Primary),this.isInStreamingPasteEnabled.subscribe(vt=>{this.logger.info("Clipboard Status on Safari Mac ",vt?"enabled":"disabled"),this.isPasteEnabled=vt})}onStateBegin(gt){this.activeUiHandle=gt.handle}onStateEnd(){this.activeUiHandle=null,this.inStreamPasteWindowOpened.next(!1)}initPasteInputHandler(){var gt;this.isPasteEnabled?!1===this.pasteInputInProgress&&(null===(gt=this.activeUiHandle)||void 0===gt||gt.show(["paste"]).subscribe(vt=>{this.inStreamPasteWindowOpened.next(!0),this.shownPasteInputHandle=vt,this.logger.info("Paste window opened")},vt=>{this.logger.info("Failed to open Paste window")})):this.logger.error("Feature is disabled!")}closeInStreamPasteHandler(){var gt;null===(gt=this.shownPasteInputHandle)||void 0===gt||gt.hide(),this.inStreamPasteWindowOpened.next(!1),this.logger.info("Paste window is closed")}sendUnicodeInput(gt){const k=(new TextEncoder).encode(gt);return this.bridgeService.executeCommand(q.Gh.Gfn.Streaming.SendUnicode,{unicodeInput:k})}}return(J=st).\u0275fac=function(gt){return new(gt||J)(a.LFG(R.ed),a.LFG(s.bF),a.LFG(R.dF),a.LFG(_.gbG),a.LFG(_.hTr),a.LFG(_.VKt))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),st})()},3897:(Dt,ct,t)=>{"use strict";t.d(ct,{H:()=>V});var e=t(38435),i=t(32484),L=t(87965),f=t(680),x=t(85046),S=t(47422),u=t(15746),g=t(13303),h=t(12695),O=t(42241),E=t(61699),w=t(13963),p=t(21120);let V=(()=>{var c;class C{get qualityInfo$(){return(0,e.H)(this.appConfig.networkIndicators.initializationDelay).pipe((0,L.zg)(()=>this.quality$),(0,f.d)(1))}constructor(o,n,s){this.streamingService=n,this.appConfig=s,this.quality$=new i.xQ,this.logger=o.getLogger("gfn/NetworkBarsUiService")}initializeStreamingUi(){this.logger.info("initializeStreamingUi");const o=this.streamingService.streamingEvent$.pipe((0,x.h)(n=>n.event===O.V4.STREAMING_QUALITY),(0,S.U)(n=>n));this.terminated$=this.streamingService.streamingEvent$.pipe((0,x.h)(n=>n.event===O.V4.STREAMING_TERMINATED),(0,S.U)(n=>n),(0,u.b)(n=>this.logger.info("got terminated event"))),this.onFrameLossWarning=this.streamingService.streamingEvent$.pipe((0,x.h)(n=>n.event===O.V4.STREAMING_FRAME_LOSS_WARNING),(0,u.b)(n=>this.logger.info("got onFrameLossWarning event",n))),this.onFrameLossCleared=this.streamingService.streamingEvent$.pipe((0,x.h)(n=>n.event===O.V4.STREAMING_FRAME_LOSS_CLEARED),(0,u.b)(n=>this.logger.info("got onFrameLossCleared event",n))),this.onStreamingFirstFrame=this.streamingService.streamingEvent$.pipe((0,x.h)(n=>n.event===O.V4.STREAMING_FIRST_FRAME),(0,u.b)(n=>this.logger.info("got onStreamingFirstFrame event",n))),o.pipe((0,g.R)(this.terminated$),(0,h.r)()).subscribe(n=>this.quality$.next(n),n=>this.logger.error("subscribe failed",n))}}return(c=C).\u0275fac=function(o){return new(o||c)(E.LFG(w.ed),E.LFG(O.FW),E.LFG(p.VKt))},c.\u0275prov=E.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),C})()},71364:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>E});var e=t(46939),i=t(15746),L=t(64441),f=t(13963),x=t(89857),S=t(21120),u=t(82973),g=t(61699),h=t(43742),O=t(87550);let E=(()=>{var w;class p{constructor(c,C,l,o,n,s,R,_){this.streamingManagerService=C,this.userConsentService=l,this.gameSessionAnalyticsService=o,this.streamerConfigService=n,this.streamingService=s,this.unsupportedBrowserService=R,this.configuration=_,this.logger=c.getLogger("gfn/streamingOobe")}initializeStreamingUi(){this.streamingManagerService.register(L.$D.PreStreaming,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}setDefaultConsents(){this.userConsentService.setDefaultConsentData(x.l3).subscribe()}finishOobeState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null,this.setDefaultConsents()):this.logger.error("finishOobeUIState was called while UI was not shown.")}goToErrorCallback(c){var C;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(C=this.uiHandle)||void 0===C||C.goToError(c)}onStateStarted(c){this.uiHandle=c.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),this.unsupportedBrowserService.unsupportedBrowserState$.pipe((0,e.q)(1),(0,i.b)(C=>{if(f.ng.isBrowserPlatform()&&C.unsupportedState!==S.DI4.None&&!this.configuration.featureEnablement.unsupportedPlatformGameplay){const l={errorType:L.fR.GenericError,errorCode:this.getErrorCode(C)};this.uiHandle.goToError(l),this.uiHandle=null}else this.streamerConfigService.activeConfig.launchSource===S.zO5.GeForceNOW?(this.logger.info("Skipping oobe stage"),this.uiHandle.goToNext(),this.uiHandle=null,this.setDefaultConsents()):this.uiHandleSub=this.uiHandle.show(["oobe"]).subscribe(l=>{this.shownUiHandle=l})})).subscribe()}getErrorCode(c){if(c.supportedState===S.cIz.None)switch(c.unsupportedState){case S.DI4.UnsupportedOS:return u.pY.UnsupportedPlatform;case S.DI4.UnsupportedBrowser:return u.pY.UnsupportedBrowser;case S.DI4.NativeAppOnly:return u.pY.NativeAppOnly;case S.DI4.UnsupportedStreaming:return u.pY.GenericUnsupportedError;case S.DI4.PWARequired:return u.pY.PWARequired;default:throw new Error("should not happen!")}else if(c.unsupportedState===S.DI4.None)throw new Error("To be Implemented")}onStateEnd(){this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&this.uiHandleSub.unsubscribe()}setAnonymousUser(c){this.anonymousUser=c}isAnonymousUser(){return this.anonymousUser}}return(w=p).\u0275fac=function(c){return new(c||w)(g.LFG(f.ed),g.LFG(L.bF),g.LFG(S.ZZY),g.LFG(h.h),g.LFG(S.oX5),g.LFG(O.F),g.LFG(S.rHN),g.LFG(S.VKt))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},17142:(Dt,ct,t)=>{"use strict";t.d(ct,{Tp:()=>w,iO:()=>V,rI:()=>p});var e=t(70462),i=t(85046),L=t(17627),f=t(90786),x=t(78943),S=t(64441),u=t(42241),g=t(61699),h=t(13963),O=t(21120),E=t(65519);const w="streamingReconnect";var p=function(c){return c[c.RECONNECTING=0]="RECONNECTING",c[c.STOP=1]="STOP",c}(p||{});let V=(()=>{var c;class C{constructor(o,n,s,R,_,b){this.streamerManagerService=n,this.bridgeService=s,this.streamingService=R,this.playtestLiveService=_,this.postSessionConnectionService=b,this.dialogStateSub=new e.X(p.RECONNECTING),this.logger=o.getLogger("gfn/streaming-reconnect")}get dialogState$(){return this.dialogStateSub.asObservable()}initiateStreamingUi(){this.streamerManagerService.register(S.$D.Streaming,{callbackContext:this,onStateBegin:this.onStreamingBegin,onStateEnd:this.onStreamingEnd},S.pH.Quit)}onStreamingBegin(o){this.uiHandle=o.handle,this.terminatedSub=this.streamingService.streamingEvent$.pipe((0,i.h)(n=>n.event===u.V4.STREAMING_TERMINATED)).subscribe(n=>{if(n.reason===u.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP||n.reason===u.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP){var s;const R=new S.tw(n);null===(s=this.uiHandle)||void 0===s||s.goToError(R)}else this.dialogStateSub.next(p.STOP)}),this.streamingConnectionSub=this.streamingService.connectivityEvent$.subscribe(n=>{this.onConnectionEvent(n)})}onConnectionEvent(o){switch(this.logger.info("received connectivity event: ",o),o.event){case u.qC.STREAMING_CONNECTION_LOST:this.onLoseConnection(),this.postSessionConnectionService.skipPostSessionTips=!1;break;case u.qC.STREAMING_CONNECTION_FOUND:this.onGainConnection(),this.postSessionConnectionService.skipPostSessionTips=!0}}onLoseConnection(){var o;this.playtestLiveService.skipReconnect()?(this.streamingService.terminateAutoResume(),null===(o=this.uiHandle)||void 0===o||o.goToNext()):this.shownUiHandle||(this.logger.info("Show lost connection dialog"),this.requestUserAttention(),this.showDialog())}onGainConnection(){this.shownUiHandle&&(this.logger.info("Exit lost connection dialog"),this.toggleDialog(!1))}showDialog(){this.uiHandle.show([w]).subscribe(o=>{this.shownUiHandle=o,this.dialogStateSub.next(p.RECONNECTING)})}onStreamingEnd(){var o,n;this.logger.info("on streaming reconnect service end"),null===(o=this.streamingConnectionSub)||void 0===o||o.unsubscribe(),null===(n=this.terminatedSub)||void 0===n||n.unsubscribe(),this.uiHandle=null,this.shownUiHandle=null}requestUserAttention(){this.bridgeService.executeCommand(x.Gh.Common.Windowcontrol.RequestUserAttention).pipe((0,L.P)()).subscribe()}toggleDialog(o){o?this.streamingService.isSessionResumable()?(this.logger.info("Session is resumable calling stop streaming"),this.streamingService.stopStreaming().pipe((0,f.x)(()=>{this.uiHandle&&this.uiHandle.goToNext()})).subscribe(n=>{this.logger.info("calling stopStreaming. result: ",n)})):(this.logger.info("Terminating auto resume."),this.streamingService.terminateAutoResume(),this.uiHandle&&this.uiHandle.goToNext()):o||this.shownUiHandle&&(this.shownUiHandle.hide(),this.shownUiHandle=null)}}return(c=C).\u0275fac=function(o){return new(o||c)(g.LFG(h.ed),g.LFG(S.bF),g.LFG(h.dF),g.LFG(u.FW),g.LFG(O.Q0y),g.LFG(E.m))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),C})()},64441:(Dt,ct,t)=>{"use strict";t.d(ct,{$D:()=>i.$D,bF:()=>e.b,fR:()=>i.fR,pH:()=>i.pH,q8:()=>i.q8,tw:()=>i.tw,yX:()=>i.yX,z$:()=>i.z$});var e=t(66220),i=t(67012)},66220:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>B});var e=t(9681),i=t(32484),L=t(70462),f=t(69531),x=t(64555),S=t(56293),u=t(87965),g=t(15746),h=t(47422),O=t(17627),E=t(90786),w=t(680),p=t(47178),V=t(13963),c=t(28332),C=t(78943),l=t(21120),o=t(67012);class n{constructor(tt){this.callbacks=tt,this.callbacks.onStateBegin=this.callbacks.onStateBegin.bind(this.callbacks.callbackContext),this.callbacks.onStateEnd&&(this.callbacks.onStateEnd=this.callbacks.onStateEnd.bind(this.callbacks.callbackContext)),this.callbacks.onResumableError&&(this.callbacks.onResumableError=this.callbacks.onResumableError.bind(this.callbacks.callbackContext)),this.callbacks.onTerminalError&&(this.callbacks.onTerminalError=this.callbacks.onTerminalError.bind(this.callbacks.callbackContext))}begin(tt){this.callbacks.onStateBegin(tt)}end(){this.callbacks.onStateEnd&&this.callbacks.onStateEnd()}resumableError(tt){this.callbacks.onResumableError&&this.callbacks.onResumableError(tt)}terminalError(tt){this.callbacks.onTerminalError&&this.callbacks.onTerminalError(tt)}}class s{constructor(tt,ot){this.parent=tt,this.id=ot,this.hidden=!1}hide(){if(this.hidden)throw new Error("Cannot hide UI that has already been hidden");this.hidden=!0,this.parent.hide(this.id)}}const _={path:[o.z$],id:0},b={x:0,y:0,w:0,h:0};var I=t(47007),q=t(82973),a=t(45078),y=t(61699),M=t(26575),P=t(32392);const K=()=>(0,e.of)(!0);let B=(()=>{var j;class tt{constructor(F,U,z,Q,dt,X,m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt){this.loggingService=U,this.bridgeService=z,this.pathService=Q,this.location=X,this.applicationLifetimeService=m,this.streamerConfigService=Y,this.gfcHelperService=D,this.gameShareUrlService=N,this.streamingProfileService=Z,this.ownershipSyncService=W,this.projectInterfaceService=A,this.redirectService=d,this.serviceWorkerService=H,this.gfnSwUpdateService=$,this.notificationUiService=J,this.deeplinkHelperService=st,this.guestModeHelperService=lt,this.ecommerceService=gt,this.restrictedStates=[o.$D.Init,o.$D.Done],this.pathSegments=[],this.exitStreamerNotify$=new i.xQ,this.logger=this.loggingService.getLogger("gfn/StreamerManagerService"),this.nextShowIdNumber=1,this.currentState=o.$D.Init,this.currentStateChange$=new L.X(this.currentState),this.stateRegistrations=new Map,this.currentViewStacks=new Map,this.stateMachineConnections=new Map,this.stateMachineConnections.set(o.$D.Init,o.$D.UpdateCheck),this.stateMachineConnections.set(o.$D.UpdateCheck,o.$D.PreStreaming),this.stateMachineConnections.set(o.$D.PreStreaming,o.$D.Authentication),this.stateMachineConnections.set(o.$D.Authentication,o.$D.PlatformSelection),this.stateMachineConnections.set(o.$D.PlatformSelection,o.$D.AccountLinking),this.stateMachineConnections.set(o.$D.AccountLinking,o.$D.Authorization),this.stateMachineConnections.set(o.$D.Authorization,o.$D.NetworkTest),this.stateMachineConnections.set(o.$D.NetworkTest,o.$D.Loading),this.stateMachineConnections.set(o.$D.Loading,o.$D.Streaming),this.stateMachineConnections.set(o.$D.Streaming,o.$D.PostSessionConnection),this.stateMachineConnections.set(o.$D.PostSessionConnection,o.$D.PostStreaming),this.stateMachineConnections.set(o.$D.PostStreaming,o.$D.Done),this.stateMachineConnections.set(o.$D.ResumableError,o.$D.Loading),this.lastWindowSize=null,this.defaultOsrHandler=dt.createOsrHandler("StreamerManagerService"),this.pathSegments=l.fFR.StreamerRoot.split("/"),this.projectInterfaceService.setExitStreamerCallBack(this.exitStreamer.bind(this))}register(F,U,z=o.pH.Primary){F.supportedRouterTags.includes(z)||this.logAndThrowError("Router tag "+z+" is not supported in state "+F.name),(0,p.includes)(this.restrictedStates,F)&&this.logAndThrowError("Cannot register handler for state "+F+" as it is a restricted state"),this.currentState===o.$D.Init?(this.stateRegistrations.has(F)||this.stateRegistrations.set(F,[]),this.stateRegistrations.get(F).push({callbacks:new n(U),handle:new tt.InternalUIHandleImpl(this,F,z,this.loggingService),tag:z})):this.logAndThrowError("Cannot register new UI handlers after the Streamer state machine has begun")}initiateStreamer(){this.inActiveState()&&this.logAndThrowError(`InitiateStreamer called in illegal state ${this.currentState.name}`),this.currentState===o.$D.Done&&(this.exitCurrentState(),this.enterState(o.$D.Init)),0!==this.streamerConfigService.activeConfig.cmsId||this.streamerConfigService.activeConfig.parentGameId?(this.currentStateChangeSubscription||(this.currentStateChangeSubscription=this.getCurrentStateChanges().pipe((0,u.zg)(F=>(this.logger.info("UpdateStreamerStatus with state",null==F?void 0:F.name),this.bridgeService.executeCommand(C.Gh.Gfn.Gfnsdkhost.UpdateStreamerStatus,{status:F.name})))).subscribe(()=>{},()=>{})),this.shutdownRequestedWorkHandle||(this.shutdownRequestedWorkHandle=this.applicationLifetimeService.addWorkOnShutdownRequested(()=>this.exitStreamer({skipsNavigation:!0}).pipe((0,g.b)(F=>{F&&(this.shutdownRequestedWorkHandle.remove(),this.shutdownRequestedWorkHandle=null)}),(0,h.U)(F=>!F)))),this.shutdownWorkHandle||(this.shutdownWorkHandle=this.applicationLifetimeService.addWorkOnShutdown(()=>(this.inDoneState()||this.goToDone({skipsNavigation:!0}),(0,e.of)(void 0)))),this.advanceState()):this.goToError({errorType:o.fR.GenericError,errorCode:q.pY.ZeroCmsId})}exitStreamer(F){return this.inDoneState()?(0,e.of)(!0):this.exitStreamer$?(this.logger.warn("An exit request is still in progress. New request will not be made."),this.exitStreamer$):(0,f.P)(()=>{const U=this.getCurrentState(),z=this.stateRegistrations.has(U)?this.stateRegistrations.get(U).map(Q=>Q.handle.exitGuard().pipe((0,O.P)())):[(0,e.of)(!0)];return this.exitStreamer$=(0,x.aj)(z).pipe((0,h.U)(Q=>!Q.includes(!1)),(0,g.b)(Q=>{Q&&this.goToDone(F)}),(0,E.x)(()=>{this.exitStreamer$=null}),(0,w.d)({refCount:!1,bufferSize:1})),this.exitStreamer$})}getCurrentState(){return this.currentState}getCurrentStateChanges(){return this.currentStateChange$.asObservable()}inErrorState(){return this.isErrorState(this.currentState)}inTerminalState(){return this.inDoneState()}inDoneState(){return this.currentState===o.$D.Done}inActiveState(){return this.currentState!==o.$D.Init&&this.currentState!==o.$D.Done}updateDefaultOsrState(F,U){if(null==U||F!==U){let z;switch(F){case I.$e.Open:z=this.defaultOsrHandler.open();break;case I.$e.OpenWithInput:z=this.defaultOsrHandler.open(!0);break;case I.$e.Closed:z=this.defaultOsrHandler.close();break;default:this.logger.error("Unrecognized osr state: ",F),z=this.defaultOsrHandler.close()}z.subscribe({next:Q=>{this.logger.info("Updated osr state to: "+Q)},error:Q=>{this.logger.error("Failed to update osr state: "+Q)}})}}exitCurrentState(){this.stateRegistrations.has(this.currentState)&&this.stateRegistrations.get(this.currentState).forEach(F=>{F.handle.disable(),F.callbacks.end()}),this.resetViewStacks()}enterState(F,U){return this.currentState=F,this.logger.info("Entering state: ",F),this.currentStateChange$.next(this.currentState),!(0,p.includes)(this.restrictedStates,F)&&this.stateRegistrations.has(F)?(this.stateRegistrations.get(F).forEach(z=>{const Q={handle:z.handle,data:U};z.handle.enable(),z.callbacks.begin(Q)}),!0):F===o.$D.Done&&(this.exit(U),!0)}exit(F){var U,z;null===(U=this.streamerConfigService.activeConfig)||void 0===U||!U.sdkClient||!V.ng.isCefPlatform()||this.guestModeHelperService.isGuestMode&&null!==(z=this.guestModeHelperService.getGuestModeConfig())&&void 0!==z&&z.disableCloseOnStreamExit?(this.streamingProfileService.clearCachedStreamingProfile(),this.notificationUiService.clearNotificationsQueue(),this.deeplinkHelperService.postStreamingCleanUp(),this.ecommerceService.registerIntervalTimer(),this.projectInterfaceService.notifyStreamerFlowExit(),V.ng.isCefPlatform()?this.bridgeService.executeCommand(C.Gh.Gfn.Streaming.Cleanup).pipe((0,E.x)(()=>this.handleExit(F))).subscribe():(this.gfnSwUpdateService.periodicallyCheckForUpdates(),this.handleExit(F))):this.applicationLifetimeService.shutdownApplication(c.ld.ApplicationRequestedExit)}handleExit(F){if(V.ng.isCefPlatform()&&this.restoreWindow(),V.ng.isBrowserPlatform()&&(this.gfcHelperService.terminateRemoteLogSession(),this.serviceWorkerService.postMessageSw({type:a.rL.GameExit})),null==F||!F.skipsNavigation)if(null!=(null==F?void 0:F.exitUrl)||null!=(null==F?void 0:F.exitCommandData))if(null!=F&&F.exitCommandData){var U;this.logger.info("Exit navigation by command:",F.exitCommandData),this.pathService.navigate(F.exitCommandData.commands,null!==(U=F.exitCommandData.options)&&void 0!==U?U:{skipLocationChange:!0})}else{var z;const dt=null!==(z=null==F?void 0:F.exitUrl)&&void 0!==z?z:l.fFR.Home;this.logger.info("Exiting to "+dt),this.pathService.navigateByUrl(dt,{skipLocationChange:!0})}else{this.updateAddressBar();const dt=this.gameShareUrlService.getExitUrl();dt.includes("http")?this.redirectService.redirectToExternalUrl(dt,{replace:!0}):this.pathService.navigateByUrl(dt,{skipLocationChange:!0})}}updateAddressBar(){this.logger.info(`UpdateAddressBar called. Current Streamer State: ${this.currentState.name}`),this.gameShareUrlService.setShareUrlInAddressBar()}enterErrorState(F,U){return this.isErrorState(F)||this.logAndThrowError("enterErrorState called with a non-error state: "+F.name),this.logger.info("Advancing to error state: ",F.name),this.currentState=F,this.currentStateChange$.next(this.currentState),!!this.stateRegistrations.has(F)&&(this.stateRegistrations.get(F).forEach(z=>{const Q={handle:z.handle,errorUIHandle:z.handle,data:U};z.handle.enable(),z.callbacks.begin(Q)}),!0)}advanceState(){if(this.inTerminalState())this.logger.info("Not advancing from terminal state: "+this.currentState.name);else if(this.stateMachineConnections.has(this.currentState)){const F=this.stateMachineConnections.get(this.currentState);this.updateDefaultOsrState(F.defaultOsrState,this.currentState.defaultOsrState),this.exitCurrentState(),this.logger.info("Advancing to state: "+this.stateMachineConnections.get(this.currentState).name),this.enterState(this.stateMachineConnections.get(this.currentState))||(this.logger.info("Skipping state with no registered handlers: "+this.currentState.name),this.advanceState())}else this.logAndThrowError("No state to advance to from state: "+this.currentState.name)}updateDisplays(){this.logger.info("UpdateDisplays called");const F={};this.currentViewStacks.forEach((z,Q)=>{if(z.length>0){const dt=z[z.length-1];F[Q]=dt.path.slice(),dt.data&&F[Q].push(dt.data)}});const U=this.pathService.navigate([...this.pathSegments,{outlets:F}],{skipLocationChange:!0});return U.then(()=>{if(this.streamerConfigService.activeConfig.launchSource===l.zO5.GeForceNOW&&V.ng.isBrowserPlatform()){if(this.inDoneState())return void this.location.replaceState(this.gameShareUrlService.getExitUrl());this.updateAddressBar()}}),U}show(F,U,z){this.logger.info(`Show called for routerTag: ${F}, path: ${U}`),this.currentViewStacks.has(F)||this.currentViewStacks.set(F,[_]);const Q=this.nextShowIdNumber++;return this.currentViewStacks.get(F).push({path:U,id:Q,data:z}),new S.y(dt=>{this.updateDisplays().then(()=>{dt.next(Q)}).catch(X=>{dt.error(X)})})}hide(F){this.logger.info(`Hide called with id:${F}`),0===F&&this.logAndThrowError("Cannot hide default UI element"),this.currentViewStacks.forEach((U,z)=>{U.forEach((Q,dt)=>{if(Q.id===F)return U.splice(dt,1),void this.updateDisplays()})})}goToDone(F){this.inDoneState()?this.logger.warn("Already in Done state, no transition to make"):(this.updateDefaultOsrState(o.$D.Done.defaultOsrState),this.exitCurrentState(),this.enterState(o.$D.Done,F))}goToError(F){(this.inTerminalState()||this.inErrorState())&&this.logAndThrowError("Cannot enter Error state from Error or terminal state: "+this.currentState.name);const U={errorSourceState:this.currentState,errorData:F};this.exitCurrentState(),this.enterErrorState(o.$D.Error,U)}goToResumableError(F){this.currentState!==o.$D.Error&&this.logAndThrowError("Invalid state to call goToResumableError from: "+this.currentState.name),this.stateRegistrations.forEach((U,z)=>{U.forEach(Q=>{Q.callbacks.resumableError(F)})}),this.exitCurrentState(),this.enterErrorState(o.$D.ResumableError,F)}goToTerminalError(F){this.currentState!==o.$D.Error&&this.logAndThrowError("Invalid state to call goToTerminalError from: "+this.currentState.name),this.stateRegistrations.forEach((U,z)=>{U.forEach(Q=>{Q.callbacks.terminalError(F)})}),this.exitCurrentState(),this.enterErrorState(o.$D.TerminalError,F)}restoreWindow(){this.lastWindowSize?(this.lastWindowSize=null,this.bridgeService.executeCommand(C.Gh.Common.Windowcontrol.RestoreFromFullScreen).subscribe(()=>{})):this.logger.info("Not restoring window as there was no change in size")}fullscreenWindow(){this.lastWindowSize={width:window.innerWidth,height:window.innerHeight},this.logger.info("Fullscreening window"),this.bridgeService.executeCommand(C.Gh.Common.Windowcontrol.Resize,b).subscribe(()=>{})}resetViewStacks(){this.logger.info("Resetting view stacks"),this.currentViewStacks.clear(),this.currentViewStacks.set(o.pH.Primary,[_]),this.currentViewStacks.set(o.pH.Quit,[_]),this.updateDisplays()}isErrorState(F){return F===o.$D.Error||F===o.$D.ResumableError||F===o.$D.TerminalError}logAndThrowError(F){throw this.logger.error(F),new Error(F)}}return(j=tt).InternalUIHandleImpl=class{constructor(ot,F,U,z){this.parent=ot,this.routerTag=U,this.exitGuard=K,this.enabled=!0,this.logger=z.getLogger(["gfn","StreamerManagerService","InternalUIHandle",F.name,U].join("/"))}disable(){this.enabled=!1,this.exitGuard=K}enable(){this.enabled=!0}goToError(ot){this.checkEnabled(),this.parent.goToError(ot)}goToNext(){this.checkEnabled(),this.parent.advanceState()}goToDone(ot){return this.checkEnabled(),this.parent.exitStreamer(ot).toPromise()}goToResumableError(ot){this.checkEnabled(),this.parent.goToResumableError(ot)}goToTerminalError(ot){this.checkEnabled(),this.parent.goToTerminalError(ot)}show(ot,F){return this.checkEnabled(),this.parent.show(this.routerTag,ot,F).pipe((0,h.U)(U=>new s(this,U)))}hide(ot){this.checkEnabled(),this.parent.hide(ot)}restoreWindow(){this.checkEnabled(),this.parent.restoreWindow()}fullscreenWindow(){this.checkEnabled(),this.parent.fullscreenWindow()}setExitGuard(ot){this.checkEnabled(),this.exitGuard=ot}checkEnabled(){if(!this.enabled){const ot="Cannot use a disabled UI handle, likely due to using the handle after the streamer state advanced";throw this.logger.error(ot),new Error(ot)}}},j.\u0275fac=function(F){return new(F||j)(y.LFG(l.VKt),y.LFG(V.ed),y.LFG(V.dF),y.LFG(l.unb),y.LFG(I.V$),y.LFG(M.Ye),y.LFG(c.Ll),y.LFG(l.oX5),y.LFG(l.dgl),y.LFG(l.tDF),y.LFG(l.GKb),y.LFG(l.qMk),y.LFG(P.m3),y.LFG(l.VHe),y.LFG(a.HR),y.LFG(l.m$M),y.LFG(l.PTF),y.LFG(l.gIP),y.LFG(l.hTr),y.LFG(l.BHV))},j.\u0275prov=y.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),tt})()},67012:(Dt,ct,t)=>{"use strict";t.d(ct,{$D:()=>p,fR:()=>S,h2:()=>E,pH:()=>x,q8:()=>g,tw:()=>h,yX:()=>O,z$:()=>u});var e=t(47007),i=t(79521),L=t(47178),x=function(V){return V.Primary="primary",V.Quit="quit",V.StreamingTimer="streamingTimer",V}(x||{}),S=function(V){return V[V.GenericError=0]="GenericError",V[V.NesAuthError=1]="NesAuthError",V[V.GeronimoError=2]="GeronimoError",V[V.PreStreamGeronimoError=3]="PreStreamGeronimoError",V[V.EntitlementError=4]="EntitlementError",V}(S||{});const u="empty";class g{constructor(c,C){this.errorType=c,this.errorCode=C}}class h extends g{constructor(c){super(S.GeronimoError,h.extractErrorCode(c)),this.errorEventInfo=c}static extractErrorCode(c){return c.event===i.V4.STREAMING_TERMINATED?c.reason:c.result.result}}class O extends g{constructor(c){const C=(0,L.has)(c,"code")?c.code:(0,L.has)(c,"result")?c.result:-1;super(S.PreStreamGeronimoError,C),this.resultInfo=c}}class E extends g{constructor(c){super(S.GenericError,c)}}var p,V;(V=p||(p={})).Init={name:"Init",supportedRouterTags:[],defaultOsrState:e.$e.Closed,enableBackNavigation:!1},V.UpdateCheck={name:"UpdateCheck",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.PreStreaming={name:"PreStreaming",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.OpenWithInput,enableBackNavigation:!1},V.Authentication={name:"Authentication",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.Authorization={name:"Authorization",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!0},V.PlatformSelection={name:"PlatformSelection",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!0},V.AccountLinking={name:"AccountLinking",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!0},V.NetworkTest={name:"NetworkTest",supportedRouterTags:[x.Primary,x.Quit],defaultOsrState:e.$e.Open,enableBackNavigation:!0},V.Loading={name:"Loading",supportedRouterTags:[x.Primary,x.Quit],defaultOsrState:e.$e.Open,enableBackNavigation:!0},V.PostSessionConnection={name:"PostSessionConnection",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.Streaming={name:"Streaming",supportedRouterTags:[x.Primary,x.StreamingTimer,x.Quit],defaultOsrState:e.$e.Closed,enableBackNavigation:!1},V.PostStreaming={name:"PostStreaming",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.Done={name:"Done",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.OpenWithInput,enableBackNavigation:!1},V.Error={name:"Error",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.ResumableError={name:"ResumableError",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1},V.TerminalError={name:"TerminalError",supportedRouterTags:[x.Primary],defaultOsrState:e.$e.Open,enableBackNavigation:!1}},79521:(Dt,ct,t)=>{"use strict";t.d(ct,{C3:()=>e,Py:()=>u,Sj:()=>i,V4:()=>x,Y6:()=>f,a1:()=>S,dq:()=>L,pi:()=>O,qC:()=>h,ue:()=>V});var e=function(c){return c[c.NVB_PROFILE_GAMING=0]="NVB_PROFILE_GAMING",c[c.NVB_PROFILE_PROFESSIONAL=1]="NVB_PROFILE_PROFESSIONAL",c[c.NVB_PROFILE_GAMING_720P_30FPS=2]="NVB_PROFILE_GAMING_720P_30FPS",c[c.NVB_PROFILE_GAMING_720P_60FPS=3]="NVB_PROFILE_GAMING_720P_60FPS",c[c.NVB_PROFILE_GAMING_1080P_30FPS=4]="NVB_PROFILE_GAMING_1080P_30FPS",c[c.NVB_PROFILE_GAMING_1080P_60FPS=5]="NVB_PROFILE_GAMING_1080P_60FPS",c[c.NVB_PROFILE_ROAMING_720P_30FPS=6]="NVB_PROFILE_ROAMING_720P_30FPS",c[c.NVB_PROFILE_ROAMING_720P_60FPS=7]="NVB_PROFILE_ROAMING_720P_60FPS",c}(e||{}),i=function(c){return c[c.NVB_R_UDP_BUFFER_TOO_SMALL=2148204566]="NVB_R_UDP_BUFFER_TOO_SMALL",c[c.NVB_R_FIREWALL_BLOCK=2148016156]="NVB_R_FIREWALL_BLOCK",c[c.NVB_R_WIFI_CONNECTIVITY_ISSUE1=2147745808]="NVB_R_WIFI_CONNECTIVITY_ISSUE1",c[c.NVB_R_WIFI_CONNECTIVITY_ISSUE2=2147745799]="NVB_R_WIFI_CONNECTIVITY_ISSUE2",c[c.NVB_R_WIFI_CONNECTIVITY_ISSUE3=2147745796]="NVB_R_WIFI_CONNECTIVITY_ISSUE3",c[c.VIDEO_DECODER_CREATION_FAILED=67174402]="VIDEO_DECODER_CREATION_FAILED",c[c.VIDEO_DECODER_ERROR_MASK=790289]="VIDEO_DECODER_ERROR_MASK",c[c.NVST_NETERR_CLIENT_DISCONNECT_UNINTENDED_NO_VIDEO_PACKETS_RECENTLY=2147745808]="NVST_NETERR_CLIENT_DISCONNECT_UNINTENDED_NO_VIDEO_PACKETS_RECENTLY",c[c.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT=2148438786]="NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT",c[c.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR=3237150722]="GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR",c[c.GFNPC_CLIENT_SESSION_IN_INITIALIZING_STATE=3237150723]="GFNPC_CLIENT_SESSION_IN_INITIALIZING_STATE",c[c.GFNPC_CLIENT_VIDEO_PLAY_FAIL=3237150724]="GFNPC_CLIENT_VIDEO_PLAY_FAIL",c[c.GFNPC_CLIENT_AUDIO_PLAY_FAIL=3237150725]="GFNPC_CLIENT_AUDIO_PLAY_FAIL",c[c.GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB=3237150726]="GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB",c[c.GFNPC_CLIENT_OPPORTUNITY_ABORTED=3237150727]="GFNPC_CLIENT_OPPORTUNITY_ABORTED",c[c.GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED=3237093682]="GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED",c[c.GUEST_MODE_CAMAPAIGN_DISABLED=3237093705]="GUEST_MODE_CAMAPAIGN_DISABLED",c}(i||{}),L=function(c){return c[c.NVB_R_UNKNOWN=-1]="NVB_R_UNKNOWN",c[c.NVB_R_SUCCESS=0]="NVB_R_SUCCESS",c[c.NVB_R_UNINITIALIZED=1]="NVB_R_UNINITIALIZED",c[c.NVB_R_CALLBACKS_NOT_REGISTERED=2]="NVB_R_CALLBACKS_NOT_REGISTERED",c[c.NVB_R_NOT_SUPPORTED=3]="NVB_R_NOT_SUPPORTED",c[c.NVB_R_VERSION_MISMATCH=4]="NVB_R_VERSION_MISMATCH",c[c.NVB_R_UPGRADE_RECOMMENDED=5]="NVB_R_UPGRADE_RECOMMENDED",c[c.NVB_R_OS_ERROR=6]="NVB_R_OS_ERROR",c[c.NVB_R_INVALID_PARAM=101]="NVB_R_INVALID_PARAM",c[c.NVB_R_INVALID_CLIENT_OBJECT=102]="NVB_R_INVALID_CLIENT_OBJECT",c[c.NVB_R_INVALID_SERVER_NAME=103]="NVB_R_INVALID_SERVER_NAME",c[c.NVB_R_INVALID_PORT_NUMBER=104]="NVB_R_INVALID_PORT_NUMBER",c[c.NVB_R_INVALID_VIDEO_DECODER=105]="NVB_R_INVALID_VIDEO_DECODER",c[c.NVB_R_INVALID_AUDIO_RENDERER=106]="NVB_R_INVALID_AUDIO_RENDERER",c[c.NVB_R_INVALID_AUTH_TYPE=107]="NVB_R_INVALID_AUTH_TYPE",c[c.NVB_R_INVALID_STREAM_SETTINGS=108]="NVB_R_INVALID_STREAM_SETTINGS",c[c.NVB_R_INVALID_CERTIFICATE=109]="NVB_R_INVALID_CERTIFICATE",c[c.NVB_R_INVALID_PRIVATE_KEY=110]="NVB_R_INVALID_PRIVATE_KEY",c[c.NVB_R_INVALID_CERTIFICATE_KEY_PAIR=111]="NVB_R_INVALID_CERTIFICATE_KEY_PAIR",c[c.NVB_R_REINITIALIZE_ERROR=112]="NVB_R_REINITIALIZE_ERROR",c[c.NVB_R_INVALID_PROFILE=113]="NVB_R_INVALID_PROFILE",c[c.NVB_R_INVALID_INPUT_DEVICE=114]="NVB_R_INVALID_INPUT_DEVICE",c[c.NVB_R_INVALID_STATS_OPTION=115]="NVB_R_INVALID_STATS_OPTION",c[c.NVB_R_INVALID_FEATURECONTROL_TYPE=116]="NVB_R_INVALID_FEATURECONTROL_TYPE",c[c.NVB_R_NETWORK_ERROR=151]="NVB_R_NETWORK_ERROR",c[c.NVB_R_SOCKET_ERROR=152]="NVB_R_SOCKET_ERROR",c[c.NVB_R_ADDRESS_RESOLVE_FAILED=153]="NVB_R_ADDRESS_RESOLVE_FAILED",c[c.NVB_R_CONNECT_FAILED=154]="NVB_R_CONNECT_FAILED",c[c.NVB_R_SSL_ERROR=155]="NVB_R_SSL_ERROR",c[c.NVB_R_CONNECTION_TIMEOUT=156]="NVB_R_CONNECTION_TIMEOUT",c[c.NVB_R_DATA_RECEIVE_TIMEOUT=157]="NVB_R_DATA_RECEIVE_TIMEOUT",c[c.NVB_R_PEER_NO_RESPONSE=158]="NVB_R_PEER_NO_RESPONSE",c[c.NVB_R_UNEXPECTED_HTTPREDIRECT=159]="NVB_R_UNEXPECTED_HTTPREDIRECT",c[c.NVB_R_NETWORK_CAPABLE=201]="NVB_R_NETWORK_CAPABLE",c[c.NVB_R_INSUFFICIENT_NETWORK_CAPABILITY=202]="NVB_R_INSUFFICIENT_NETWORK_CAPABILITY",c[c.NVB_R_MINIMUM_NETWORK_CAPABILITY=203]="NVB_R_MINIMUM_NETWORK_CAPABILITY",c[c.NVB_R_BLOCK_STREAM=204]="NVB_R_BLOCK_STREAM",c[c.NVB_R_AUTH_ERR_UNKNOWN=252]="NVB_R_AUTH_ERR_UNKNOWN",c[c.NVB_R_AUTH_ERR_DEFUNCT_TOKEN=253]="NVB_R_AUTH_ERR_DEFUNCT_TOKEN",c[c.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT=254]="NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT",c[c.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL=255]="NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL",c[c.NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER=256]="NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER",c[c.NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT=257]="NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT",c[c.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED=258]="NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED",c[c.NVB_R_SESSION_NOT_ACTIVE=301]="NVB_R_SESSION_NOT_ACTIVE",c[c.NVB_R_SESSION_LIMIT_REACHED=302]="NVB_R_SESSION_LIMIT_REACHED",c[c.NVB_R_INSUFFICIENT_RESOURCES=303]="NVB_R_INSUFFICIENT_RESOURCES",c[c.NVB_R_EULA_NOT_ACCEPTED=304]="NVB_R_EULA_NOT_ACCEPTED",c[c.NVB_R_APP_TITLE_FENCED=305]="NVB_R_APP_TITLE_FENCED",c[c.NVB_R_INVALID_APP_IDENTIFIER=306]="NVB_R_INVALID_APP_IDENTIFIER",c[c.NVB_R_PREFERRED_CONTROLLER_NOT_FOUND=307]="NVB_R_PREFERRED_CONTROLLER_NOT_FOUND",c[c.NVB_R_NO_ACTIVE_SESSION_FOUND=308]="NVB_R_NO_ACTIVE_SESSION_FOUND",c[c.NVB_R_SESSION_NOT_PAUSED=309]="NVB_R_SESSION_NOT_PAUSED",c[c.NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN=310]="NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN",c[c.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT=311]="NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT",c[c.NVB_R_STREAMER_UNINITIALIZED=341]="NVB_R_STREAMER_UNINITIALIZED",c[c.NVB_R_STREAMER_NETWORK_ERROR=342]="NVB_R_STREAMER_NETWORK_ERROR",c[c.NVB_R_STREAMER_CONNECT_FAILED=343]="NVB_R_STREAMER_CONNECT_FAILED",c[c.NVB_R_USER_IS_NOT_ENTITLED=351]="NVB_R_USER_IS_NOT_ENTITLED",c[c.NVB_R_GES_NOT_REACHABLE=352]="NVB_R_GES_NOT_REACHABLE",c[c.NVB_R_USER_NOT_REGISTERED_IN_GES=353]="NVB_R_USER_NOT_REGISTERED_IN_GES",c[c.NVB_R_NO_ENTITLEMENT_TIME_REMAINING=354]="NVB_R_NO_ENTITLEMENT_TIME_REMAINING",c[c.NVB_R_SERVER_ERROR=501]="NVB_R_SERVER_ERROR",c[c.NVB_R_SERVER_OUT_OF_SERVICE=502]="NVB_R_SERVER_OUT_OF_SERVICE",c[c.NVB_R_SEVER_MAINTENANCE_MODE=503]="NVB_R_SEVER_MAINTENANCE_MODE",c[c.NVB_R_INVALID_SERVER_RESPONSE=504]="NVB_R_INVALID_SERVER_RESPONSE",c[c.NVB_R_TOO_MANY_SERVER_REQUESTS=505]="NVB_R_TOO_MANY_SERVER_REQUESTS",c[c.NVB_R_APPLICATION_PATCHING=506]="NVB_R_APPLICATION_PATCHING",c[c.NVB_R_APP_MAINTENANCE_STATUS=3237290296]="NVB_R_APP_MAINTENANCE_STATUS",c[c.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND=-1057677e3]="NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND",c[c.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED=3237290301]="NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED",c[c.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED=3237290302]="NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED",c[c.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND=-1057676994]="NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND",c[c.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND=-1057676995]="NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND",c[c.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING=-1057676993]="NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING",c[c.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND=3237290303]="NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND",c[c.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION=3237290306]="NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION",c[c.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND=-1057676990]="NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND",c[c.NVB_R_SESSION_IN_QUEUE_ABANDONED=3237093701]="NVB_R_SESSION_IN_QUEUE_ABANDONED",c[c.NVB_R_SESSION_ICE_CONNECTION_FAILED=3237093894]="NVB_R_SESSION_ICE_CONNECTION_FAILED",c[c.NVB_R_SERVER_ERROR_BEGIN=61440]="NVB_R_SERVER_ERROR_BEGIN",c[c.NVB_R_SERVER_ERROR_MAX=553648127]="NVB_R_SERVER_ERROR_MAX",c[c.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE=3237290311]="NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE",c[c.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND=-1057676985]="NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND",c[c.NVB_R_ZONE_MAITENANCE_STATUS=3237290312]="NVB_R_ZONE_MAITENANCE_STATUS",c[c.NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND=-1057676984]="NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND",c[c.NVB_R_GFN_GAME_NOT_OWNED_BY_USER=15806465]="NVB_R_GFN_GAME_NOT_OWNED_BY_USER",c[c.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION=3237290315]="NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION",c[c.NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED=3237290319]="NVB_R_SESSION_WAITING_ADS_TIME_EXPIRED",c[c.NVB_R_USER_CANCELED_WATCHING_ADS=3237290320]="NVB_R_USER_CANCELED_WATCHING_ADS",c}(L||{}),f=function(c){return c[c.NVB_SN_STREAMING_PROPERTIES=0]="NVB_SN_STREAMING_PROPERTIES",c[c.NVB_SN_STREAMER_CONNECTED=1]="NVB_SN_STREAMER_CONNECTED",c[c.NVB_SN_STREAMING_QUALITY_CHANGED=2]="NVB_SN_STREAMING_QUALITY_CHANGED",c[c.NVB_SN_SERVER_INITIATED_PAUSE=3]="NVB_SN_SERVER_INITIATED_PAUSE",c[c.NVB_SN_SERVER_INITIATED_RESUME=4]="NVB_SN_SERVER_INITIATED_RESUME",c[c.NVB_SN_CONTROLLER_MAPPING_CHANGED=5]="NVB_SN_CONTROLLER_MAPPING_CHANGED",c[c.NVB_SN_APPROACHING_IDLE_TIMEOUT=11]="NVB_SN_APPROACHING_IDLE_TIMEOUT",c[c.NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT=12]="NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT",c[c.NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT=13]="NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT",c[c.NVB_SN_CLEAR_IDLE_TIMEOUT=14]="NVB_SN_CLEAR_IDLE_TIMEOUT",c[c.NVB_SN_WARNING_MAX=20]="NVB_SN_WARNING_MAX",c[c.NVB_SN_FRAME_STATISTICS=21]="NVB_SN_FRAME_STATISTICS",c[c.NVB_SN_SUMMARY_STATISTICS=22]="NVB_SN_SUMMARY_STATISTICS",c[c.NVB_SN_TERMINATION_BEGIN=50]="NVB_SN_TERMINATION_BEGIN",c[c.NVB_SN_STREAMING_START_FAILED=51]="NVB_SN_STREAMING_START_FAILED",c[c.NVB_SN_STOPPED_BY_USER=52]="NVB_SN_STOPPED_BY_USER",c[c.NVB_SN_STOPPED_UNINTENTIONALLY=53]="NVB_SN_STOPPED_UNINTENTIONALLY",c[c.NVB_SN_ENTITLEMENT_TIMEOUT=54]="NVB_SN_ENTITLEMENT_TIMEOUT",c[c.NVB_SN_STREAMER_NETWORK_ERROR=55]="NVB_SN_STREAMER_NETWORK_ERROR",c[c.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT=56]="NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT",c[c.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT=57]="NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT",c[c.NVB_SN_TERMINATED_BY_OPERATOR=58]="NVB_SN_TERMINATED_BY_OPERATOR",c[c.NVB_SN_PAUSED_BY_USER=59]="NVB_SN_PAUSED_BY_USER",c[c.NVB_SN_TERMINATED_BY_PM=60]="NVB_SN_TERMINATED_BY_PM",c[c.NVB_SN_TERMINATED_WINDOWED_MODE=61]="NVB_SN_TERMINATED_WINDOWED_MODE",c[c.NVB_SN_TERMINATED_GAME_EXITED=62]="NVB_SN_TERMINATED_GAME_EXITED",c[c.NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS=63]="NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS",c[c.NVB_SN_TERMINATED_MULTIPLE_LOGIN=64]="NVB_SN_TERMINATED_MULTIPLE_LOGIN",c[c.NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS=65]="NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS",c[c.NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS=66]="NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS",c[c.NVB_SN_TERMINATED_MINER_PROCESS_ACCESS=67]="NVB_SN_TERMINATED_MINER_PROCESS_ACCESS",c[c.NVB_SN_TERMINATED_FULL_TDR_OCCURRED=68]="NVB_SN_TERMINATED_FULL_TDR_OCCURRED",c[c.NVB_SN_TERMINATED_ANOTHER_CLIENT=69]="NVB_SN_TERMINATED_ANOTHER_CLIENT",c[c.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER=72]="NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER",c[c.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE=73]="NVB_SN_PM_TERMINATED_MAINTENANCE_MODE",c[c.NVB_SN_TERMINATION_MAX=200]="NVB_SN_TERMINATION_MAX",c[c.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP=301]="NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP",c[c.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP=302]="NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP",c[c.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP=303]="NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP",c[c.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP=304]="NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP",c[c.SERVER_DISCONNECTED_MULTIPLE_TAB=15868752]="SERVER_DISCONNECTED_MULTIPLE_TAB",c}(f||{}),x=function(c){return c.STREAMING_BEGIN="STREAMING_BEGIN",c.SESSION_SETUP_SUCCESS="SESSION_SETUP_SUCCESS",c.SESSION_SETUP_FAILURE="SESSION_SETUP_FAILURE",c.STREAMING_TERMINATED="STREAMING_TERMINATED",c.ACTIVE_SESSIONS="ACTIVE_SESSIONS",c.GET_SESSION_INFO="GET_SESSION_INFO",c.STOP_RESULT="STOP_RESULT",c.SESSION_RESUME_FAILURE="SESSION_RESUME_FAILURE",c.STREAMING_WARNINGS="STREAMING_WARNINGS",c.SESSION_SETUP_PROGRESS="SESSION_SETUP_PROGRESS",c.ANALYTICS_EVENT="ANALYTICS_EVENT",c.SUMMARY_STATS="SUMMARY_STATS",c.FRAME_STATS="FRAME_STATS",c.UPDATE_AUTH_TOKEN="UPDATE_AUTH_TOKEN",c.STREAMING_QUALITY="STREAMING_QUALITY",c.STREAMING_FIRST_FRAME="STREAMING_FIRST_FRAME",c.STREAMING_PROPERTY_UPDATE="STREAMING_PROPERTY_UPDATE",c.STREAMING_FRAME_LOSS_WARNING="STREAMING_FRAME_LOSS_WARNING",c.STREAMING_FRAME_LOSS_ERROR="STREAMING_FRAME_LOSS_ERROR",c.STREAMING_FRAME_LOSS_CLEARED="STREAMING_FRAME_LOSS_CLEARED",c.BROWSER_ANALYTICS_EVENT="BROWSER_ANALYTICS_EVENT",c.SERENITY_EVENT="SERENITY_EVENT",c.STREAMING_CLIENT_MESSAGE="STREAMING_CLIENT_MESSAGE",c.TEXT_COMPOSITION="TEXT_COMPOSITION",c}(x||{}),S=function(c){return c[c.NVB_SESSION_STATUS_UNKNOWN=-1]="NVB_SESSION_STATUS_UNKNOWN",c[c.NVB_SESSION_INITIALIZING=0]="NVB_SESSION_INITIALIZING",c[c.NVB_SESSION_READY_FOR_CONNECT=1]="NVB_SESSION_READY_FOR_CONNECT",c[c.NVB_SESSION_STREAMING=2]="NVB_SESSION_STREAMING",c[c.NVB_SESSION_WAITING_FOR_RECONNECT=3]="NVB_SESSION_WAITING_FOR_RECONNECT",c[c.NVB_SESSION_PAUSED_INTENTIONAL=4]="NVB_SESSION_PAUSED_INTENTIONAL",c[c.NVB_SESSION_PAUSED_UNINTENTIONAL=5]="NVB_SESSION_PAUSED_UNINTENTIONAL",c[c.NVB_SESSION_RESUMING=6]="NVB_SESSION_RESUMING",c[c.NVB_SESSION_FINISHED=7]="NVB_SESSION_FINISHED",c}(S||{}),u=function(c){return c[c.NVB_SSS_CONNECTING=0]="NVB_SSS_CONNECTING",c[c.NVB_SSS_QUEUEPOSITION=1]="NVB_SSS_QUEUEPOSITION",c[c.NVB_SSS_CONFIGURING=2]="NVB_SSS_CONFIGURING",c[c.NVB_SSS_STARTINGSTREAMER=3]="NVB_SSS_STARTINGSTREAMER",c[c.NVB_SSS_SEATREADY=4]="NVB_SSS_SEATREADY",c[c.NVB_SSS_PREVIOUS_SESSION_CLEANUP=5]="NVB_SSS_PREVIOUS_SESSION_CLEANUP",c}(u||{}),h=function(c){return c.STREAMING_CONNECTION_LOST="STREAMING_CONNECTION_LOST",c.STREAMING_CONNECTION_FOUND="STREAMING_CONNECTION_FOUND",c}(h||{}),O=function(c){return c[c.RESUMABLE=0]="RESUMABLE",c[c.NOT_RESUMABLE=1]="NOT_RESUMABLE",c[c.NO_AUTH_TOKEN=2]="NO_AUTH_TOKEN",c}(O||{}),V=function(c){return c[c.UNKNOWN=0]="UNKNOWN",c[c.RESOLUTION=1]="RESOLUTION",c[c.BIT_DEPTH=2]="BIT_DEPTH",c}(V||{})},555:(Dt,ct,t)=>{"use strict";t.d(ct,{L:()=>i});var e=t(79521);class i{constructor(){this.result=e.dq.NVB_R_SESSION_NOT_ACTIVE,this.extendedError=[]}}},42241:(Dt,ct,t)=>{"use strict";t.d(ct,{FW:()=>e.F,Py:()=>i.Py,Sj:()=>i.Sj,V4:()=>i.V4,Y6:()=>i.Y6,a1:()=>i.a1,dq:()=>i.dq,qC:()=>i.qC,ue:()=>i.ue});var e=t(87550),i=t(79521);t(555)},87550:(Dt,ct,t)=>{"use strict";t.d(ct,{F:()=>N});var e=t(13963),i=t(78943),L=t(50183),f=t(13303),x=t(87965),S=t(85046),u=t(47422),g=t(15746),h=t(45083),O=t(46939),E=t(58175),w=t(99901),p=t(17627),V=t(24727),c=t(65528),C=t(70462),l=t(32484),o=t(38435),n=t(9681),s=t(64555),R=t(73992),_=t(70506),b=t(5717),I=t(6776),q=t(89718),a=t(30502),y=t(33994),M=t(79521),P=t(47178),B=t(555),j=t(21120),tt=t(31157),ot=t(53576),F=t(64441),U=t(61699),z=t(15665),Q=t(43742),dt=t(64603),X=t(78061),m=t(32392),Y=t(45078);function D(Z,W){return Z.sessionId===W.sessionId||Z.subSessionId===W.subSessionId}let N=(()=>{var Z;class W{get streamingProperties(){return this.sharedStreamingProperties}get hasFirstFrameBeenReceived(){return this._hasFirstFrameBeenReceived}get isStreamingOn(){return this.isStreaming}get connectivityEvent$(){return this.connectivityEventSub.asObservable()}get startRequests$(){return this.startRequestsSub.asObservable()}get resumeType(){return this.isResume?this.isAutoResumedSession?j.NuE.AutoResume:j.NuE.DeviceTransition:j.NuE.None}get streamingEvent$(){return this._streamingEvent$}get dismissPushNotificationSnackbarSubject(){return this.dismissSnackbar}get dismissPushNotificationSnackbarObs$(){return this.dismissSnackbar.asObservable()}constructor(d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt,le,te,bt,Vt,ut,re,Kt,jt,Wt,oe,Qt,Pt,Ut,Tt,it){this.bridgeService=H,this.windowService=$,this.sharedStorageService=J,this.gameSessionAnalyticsService=st,this.gameSessionDistributedTracingService=lt,this.idmService=gt,this.gfnSdkService=vt,this.appConfig=k,this.discordService=pt,this.networkStatusService=yt,this.distributedTracingUtilService=Xt,this.networkConfigurationService=It,this.gfcHelperService=Nt,this.keyboardLayoutService=le,this.streamerConfigService=te,this.surveyService=bt,this.projectInterfaceService=Vt,this.serviceWorkerService=ut,this.networkStatus=re,this.streamingProfileService=Kt,this.systemInfoService=jt,this.deeplinkHelperService=Wt,this.clipboardService=oe,this.clientHeaderService=Qt,this.ratingService=Pt,this.browseUxService=Ut,this.udsHelperService=Tt,this.opportunityHelperService=it,this.$streamingCodecName=new C.X(null),this.connectivityEventSub=new l.xQ,this.startRequestsSub=new l.xQ,this.dismissSnackbar=new l.xQ,this.validResumeErrorCodes=[M.Y6.NVB_SN_STREAMER_NETWORK_ERROR,M.Y6.NVB_SN_STOPPED_UNINTENTIONALLY,M.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP,M.Y6.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP],this.validSleepErrorCodes=[M.Y6.NVB_SN_STREAMER_NETWORK_ERROR,M.Y6.NVB_SN_STOPPED_BY_USER],this.isVideoReceived=!1,this._hasFirstFrameBeenReceived=!1,this.isStreaming=!1,this.resumableSession=!1,this.waitForStop=!1,this.shuttingDownFromSleep=!1,this.sharedStreamingProperties={sessionId:null,subSessionId:null,streams:null},this.isResume=!1,this.autoResuming=!1,this.sessionStartAttempts=0,this.isAutoResumedSession=!1,this.terminatingAutoResume$=new l.xQ,this.cancelTimerSubject=new l.xQ,this.reconnectTimeout=(0,o.H)(this.appConfig.streamer.reconnectTimeout).pipe((0,L.B)(),(0,f.R)(this.cancelTimerSubject)),this.nvstNetworkErrorCodes=/^8004([A-F0-9]{4})/,this.isAuthTokenRefreshedOnce=!1,this.logger=d.getLogger("streamingService"),this.resetStreamingServiceFlags(),this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.initializeCallbackHandlers(),this.registerCallback$=this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.RegisterCallback),this._streamingEvent$=this.registerCallback$.pipe((0,x.zg)(Mt=>{const zt=this.callbackHandler.get(Mt.event);return zt?zt.call(this,Mt):(0,n.of)(Mt)}),(0,L.B)()),this.streamingEvent$.subscribe(()=>{},Mt=>this.logger.error("callback error",Mt),()=>this.logger.info("callback complete")),this.activeSessionsEvent$=this.streamingEvent$.pipe((0,S.h)(Mt=>Mt.event===M.V4.ACTIVE_SESSIONS),(0,u.U)(Mt=>Mt)),this.getSessionInfoEvent$=this.streamingEvent$.pipe((0,S.h)(Mt=>Mt.event===M.V4.GET_SESSION_INFO),(0,u.U)(Mt=>Mt)),this.stopEvent$=this.streamingEvent$.pipe((0,S.h)(Mt=>Mt.event===M.V4.STOP_RESULT),(0,g.b)(Mt=>{this.waitForStop=!1,this.updateSessionId(Mt.sessionId,Mt.subSessionId)})),this.sessionSetupProgressEvent$=this.streamingEvent$.pipe((0,S.h)(Mt=>Mt.event===M.V4.SESSION_SETUP_PROGRESS),(0,u.U)(Mt=>Mt)),this.sessionSetupProgressEvent$.pipe((0,h.x)(D)).subscribe(Mt=>this.updateSessionId(Mt.sessionId,Mt.subSessionId)),(0,s.aj)([this.streamingProfileService.getStreamingProfileGuid(),this.systemInfoService.getSystemInfoGuid()]).pipe((0,x.zg)(([Mt,zt])=>this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.UpdateEventInfoGuids,{streamingProfileGuid:Mt,systemInfoGuid:zt}))).subscribe(),this.initProjectInterfaceNotifications(),this.registerStreamingCodec()}getStreamingCodec(){return this.$streamingCodecName.asObservable()}registerStreamingCodec(){e.ng.isCefPlatform()&&(this.logger.info("Registering codec callback"),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.StreamingCodecNotification).subscribe(d=>{this.logger.info("Received Codec ",d),this.$streamingCodecName.next(d)}))}sessionTerminationListener(d){let H="";this.swListenerSubscription=(0,R.$R)(this.serviceWorkerService.swNotifyListener,this.sessionSetupProgressEvent$).pipe((0,O.q)(1),(0,x.zg)(([$,J])=>(this.logger.info("Msg received from SW to stop streaming: ",$),H=$.content,this.checkIfStopSessionCanBeInitiated(J.state)?(this.logger.info("Session is not initialized, we can safely stop it"),this.stopStreaming(!1,M.Sj.GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB)):_.E)),(0,x.zg)($=>{if(this.logger.info("Session is stopped:",$),$){const st=new F.tw({event:M.V4.STREAMING_TERMINATED,reason:M.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,latestStreamedAppName:H});d(st)}return _.E}),(0,E.K)($=>(this.logger.error("Some unexpected error occured: ",$),_.E))).subscribe()}checkIfStopSessionCanBeInitiated(d){return d===M.Py.NVB_SSS_CONNECTING||d===M.Py.NVB_SSS_PREVIOUS_SESSION_CLEANUP||d===M.Py.NVB_SSS_QUEUEPOSITION}unsubscribeSessionTerminationListener(){var d;null===(d=this.swListenerSubscription)||void 0===d||d.unsubscribe()}initProjectInterfaceNotifications(){this.streamingEvent$.subscribe(d=>{switch(d.event){case M.V4.SESSION_SETUP_SUCCESS:this.projectInterfaceService.notifyStreamingSessionSetupSuccess({event:d.event,sessionId:d.sessionId,subSessionId:d.subSessionId});break;case M.V4.STREAMING_BEGIN:this.projectInterfaceService.notifyStreamingBegin({event:d.event});break;case M.V4.STOP_RESULT:case M.V4.STREAMING_TERMINATED:case M.V4.SESSION_SETUP_FAILURE:const J={event:d.event,errorCode:d.reason,isResumable:this.isResumableNetworkErrorCode(d)};this.projectInterfaceService.notifyStreamingEnd(J),this.browseUxService.emitStreamingTerminated()}},b.Z)}updateKeyboardLayout(){return(0,s.aj)([this.systemInfoService.getDeviceOSType().pipe((0,O.q)(1)),this.keyboardLayoutService.readCachedKeyboardLayout()]).pipe((0,g.b)(([d,H])=>{this.logger.info("Keyboard layout cache read response for prepare:",H);let $=null==H?void 0:H.code;!$&&e.ng.isBrowserPlatform()&&($=this.keyboardLayoutService.getDefaultKBLayoutCode()),this.logger.info("Updating the keyboard layout data to be passed to the streamer:",$),this.keyboardLayoutCode=$,this.projectInterfaceService.setIsNonEnglishKeyboardLayout(this.keyboardLayoutService.isNonEnglishKeyboardLayout($,d))},d=>this.logger.info("Keyboard layout cache read error:",d)),(0,w.h)(null))}updateStreamingContentRating(){var d,H,$;let J;return J=null!==(d=this.streamingParams.contentRating)&&void 0!==d&&d.type&&null!==(H=this.streamingParams.contentRating)&&void 0!==H&&H.categoryKey&&null!==($=this.streamingParams.contentRating)&&void 0!==$&&$.contentDescriptorKeys?(0,R.$R)(this.ratingService.getCurrentRating(this.streamingParams.contentRating.type,this.streamingParams.contentRating.categoryKey).pipe((0,E.K)(st=>(0,n.of)(null))),this.ratingService.getContentDescriptors(this.streamingParams.contentRating.type,this.streamingParams.contentRating.contentDescriptorKeys).pipe((0,E.K)(st=>(0,n.of)([])))):(0,n.of)([null,[]]),J.pipe((0,O.q)(1),(0,g.b)(([st,lt])=>{let gt="";var vt,k,pt,yt,Xt,It,Nt,le;lt&&lt.length&&(gt=lt.join(", ")),this.startParamsContentRating=void 0,(0,P.isNil)(st)||(this.startParamsContentRating={displayIntervalMin:st.displayInterval,ratingClassText:st.rating.label,largeImageUrl:st.rating.largeImageUrl,smallImageUrl:st.rating.smallImageUrl,contentDescriptorText:gt,ratingSystem:null!==(vt=null===(k=this.streamingParams)||void 0===k||null===(k=k.contentRating)||void 0===k?void 0:k.type)&&void 0!==vt?vt:"",categoryKey:null!==(pt=null===(yt=this.streamingParams)||void 0===yt||null===(yt=yt.contentRating)||void 0===yt?void 0:yt.categoryKey)&&void 0!==pt?pt:"",contentDescriptorKeys:null!==(Xt=null===(It=this.streamingParams)||void 0===It||null===(It=It.contentRating)||void 0===It?void 0:It.contentDescriptorKeys)&&void 0!==Xt?Xt:[],interactiveElementKeys:null!==(Nt=null===(le=this.streamingParams)||void 0===le||null===(le=le.contentRating)||void 0===le?void 0:le.interactiveElementKeys)&&void 0!==Nt?Nt:[]})}),(0,u.U)(st=>{}))}initializeCallbackHandlers(){this.callbackHandler=new Map,this.callbackHandler.set(M.V4.SESSION_SETUP_SUCCESS,this.onSessionSetupSuccess),this.callbackHandler.set(M.V4.STREAMING_BEGIN,this.onStreamingBegin),this.callbackHandler.set(M.V4.SESSION_SETUP_FAILURE,this.onSetupFailure),this.callbackHandler.set(M.V4.STREAMING_TERMINATED,this.onStreamingTerminated),this.callbackHandler.set(M.V4.UPDATE_AUTH_TOKEN,this.onUpdateAuthToken),this.callbackHandler.set(M.V4.STREAMING_FIRST_FRAME,this.onStreamingFirstFrame),this.callbackHandler.set(M.V4.SESSION_RESUME_FAILURE,this.onSessionResumeFailure),this.callbackHandler.set(M.V4.SESSION_SETUP_PROGRESS,this.onSessionSetupProgress),this.callbackHandler.set(M.V4.STREAMING_FRAME_LOSS_WARNING,this.onFrameLossWarning),this.callbackHandler.set(M.V4.STREAMING_FRAME_LOSS_ERROR,this.onFrameLossError),this.callbackHandler.set(M.V4.STREAMING_FRAME_LOSS_CLEARED,this.onFrameLossCleared)}mapSleepErrorCode(d){return this.shuttingDownFromSleep&&(0,P.includes)(this.validSleepErrorCodes,d.reason)&&(this.logger.info("Valid error reason for sleep, replacing reason but leaving error code."),d.reason=M.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,this.shuttingDownFromSleep=!1),d}onUpdateAuthToken(d){this.logger.info("getDelegateToken");const H=this.distributedTracingUtilService.startSpanUsingContext("StreamerUpdateAuthToken",d.spanData);return this.idmService.getAuthToken(!1,H).pipe((0,E.K)($=>(this.logger.info("Catch delegateToken error"),(0,n.of)({token:""}))),(0,x.zg)($=>this.processDelegateToken($||null)),(0,u.U)($=>d))}processDelegateToken(d){this.logger.info("processDelegateToken");let H="";return null!==d&&(H=JSON.stringify({access_token:d.token})),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.SetAuthToken,{token:H})}onStreamingBegin(d){var H;return this.logger.info("onStreamingBegin"),this.discordService.updatePresence(this.streamingParams.appName),this.distributedTracingUtilService.closeSpan(this.streamingSpan),this.isStreaming=!0,this.sessionStartAttempts=0,null!==(H=this.appConfig)&&void 0!==H&&null!==(H=H.client)&&void 0!==H&&H.needsDialogForInStreamPaste||(this.clipboardInitSub=this.clipboardService.init().subscribe(),this.clipboardAvailableSub=this.windowService.getFocusEvent().subscribe(()=>{var $;null===($=this.clipboardService.detectClipboardChange)||void 0===$||$.next(!0)})),this.networkConfigurationService.cacheCurrentFingerprint().pipe((0,E.K)($=>(this.logger.error("Unable to cache current fingerprint: ",$),(0,n.of)(!1))),(0,x.zg)($=>this.autoResuming?(this.logger.info("auto resuming, suppress onStreamingBegin "),this.connectivityEventSub.next({event:M.qC.STREAMING_CONNECTION_FOUND}),this.cancelTimerSubject.next(!0),this.resetAutoResumingState(),this.sendStreamingBeginTelemetry(),I.C):(this.logger.info("not auto-resuming, stream starting"),this.gameSessionAnalyticsService.updateGameLaunchDurations(j.FRL.StartSession,void 0),this.gameSessionAnalyticsService.updateGameLaunchDurations(j.FRL.StreamingStartDuration,void 0),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0),this.sendStreamingBeginTelemetry(),(0,n.of)(d))))}sendStreamingBeginTelemetry(){this.logger.info("sending telemetry, onStreamingBegin");const d={status:j.N3X.Success,isResume:this.isResume,errorDetails:"0x00000000"};this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gameSessionAnalyticsService.handleGeronimoLaunchResult(d,this.sharedStreamingProperties.sessionId),this.gameSessionDistributedTracingService.updateGeronimoLaunchInfo(d,this.sharedStreamingProperties.sessionId)}onStreamingFirstFrame(d){return this.logger.info("onStreamingFirstFrame"),this.isVideoReceived=!0,this._hasFirstFrameBeenReceived=!0,(0,n.of)(d)}onSetupFailure(d){return this.logger.error("onSetupFailure",d),this.waitForStop=!1,this.updateSessionId(d.sessionId,d.subSessionId),!1===this.isAuthTokenRefreshedOnce&&d.result.result===M.dq.NVB_R_AUTH_ERR_UNKNOWN?(this.logger.info("Failed with NVB_R_AUTH_ERR_UNKNOWN starting with refreshed token"),this.isAuthTokenRefreshedOnce=!0,this.setAuthInfo(!0).pipe((0,x.zg)(()=>this.start()),(0,x.zg)(()=>I.C))):1===this.sessionStartAttempts&&d.result.result===M.dq.NVB_R_SESSION_LIMIT_REACHED?(this.logger.info("Attempted to launch a session resulted in session limit reached, stopping or resuming active session"),this.gameSessionAnalyticsService.moveGameLaunchDuration(j.FRL.SessionCleanup,j.FRL.StartSession),this.gameSessionAnalyticsService.resetSeatSetupEventSequence(!0),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0),this.sessionCleanup(d).pipe((0,O.q)(1),(0,g.b)(()=>{this.gameSessionAnalyticsService.updateGameLaunchDurations(j.FRL.SessionCleanup,j.FRL.StartSession),this.gameSessionAnalyticsService.startGameLaunchDuration(j.FRL.StreamerClientSetupDuration)}),(0,x.zg)(H=>H.error?this.forwardSetupFailure({event:M.V4.SESSION_SETUP_FAILURE,result:{requestId:0,result:H.result},sessionId:""}):this.start(H.sessionId).pipe((0,x.zg)(()=>I.C))))):this.forwardSetupFailure(d)}forwardSetupFailure(d){this.gameSessionAnalyticsService.updateGameLaunchDurations(j.FRL.StartSession,void 0),this.gameSessionAnalyticsService.resetSeatSetupEventSequence(!1),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0);const H=this.getErrorCode(d.result),$={status:"0x00000000"!==H?e.ng.isCefPlatform()?j.N3X.GeronimoLaunchError:j.N3X.RagnarokLaunchError:j.N3X.Success,isResume:this.isResume,errorDetails:H.toString()};return this.logger.info("received session error : ",$),this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gameSessionAnalyticsService.handleGeronimoLaunchResult($,d.sessionId),this.gameSessionDistributedTracingService.updateGeronimoLaunchInfo($,d.sessionId),this.sessionStartAttempts=0,(0,n.of)(d)}getErrorCode(d){let H;return H=(0,P.isArray)(d.extendedError)&&d.extendedError.length>0?d.extendedError[0]:d.result,(0,j.h6z)(H)}onSessionResumeFailure(d){return this.waitForStop=!1,this.autoResuming?this.hasSessionTimedOut?(this.logger.info("returning cached terminated event"),(0,n.of)(this.prevTerminatedInfo)):(this.logger.info("auto resume failed, retrying",d),this.resumeableTerminateWrapper(this.prevTerminatedInfo,!0)):(this.logger.error("onResumeFailure",d),this.sendResumeFailureTelemetryData({status:e.ng.isCefPlatform()?j.N3X.GeronimoLaunchError:j.N3X.RagnarokLaunchError,errorDetails:(0,P.propertyOf)(d)("result").toString()}),this.updateSessionId(d.sessionId,d.subSessionId),(0,n.of)(d))}resetAutoResumingState(){this.autoResuming=!1,this.prevTerminatedInfo=null}updateNetorkTestIndirectPolicy(d,H){return d?this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(d,H):(0,n.of)(!1)}getStreamerNetworkErrorInfo(d,H){const $=H.toString(16).toUpperCase();let J=[!1];return d===M.Y6.NVB_SN_STREAMER_NETWORK_ERROR&&this.nvstNetworkErrorCodes.test($)?J=[!0,j.VRd.StreamerNetworkError]:this.appConfig.featureEnablement.networkTestPolicy.isFrameLossTimeoutErrorEnabled&&d===M.Y6.NVB_SN_PAUSED_BY_USER&&H===M.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR&&(J=[!0,j.VRd.StreamerFrameLossTimeoutError]),this.logger.info(`Network test should${J[0]?"":" not"} be triggered from network error code: 0x${$}`),J}saveUDSDataFromGS(d){this.logger.info("UDS Data on session termination ",d),this.udsHelperService.rawUDSDataFromGS=d}onStreamingTerminated(d){var H,$,J;d=this.mapSleepErrorCode(d),this.logger.info("onStreamingTerminated",d),this.discordService.clearPresence(),this.isStreaming=!1,this.waitForStop=!1,null===(H=this.clipboardAvailableSub)||void 0===H||H.unsubscribe(),null===($=this.clipboardInitSub)||void 0===$||$.unsubscribe(),this.saveUDSDataFromGS(null===(J=d)||void 0===J?void 0:J.udsData);const[st,lt]=this.getStreamerNetworkErrorInfo(d.reason,d.extendedCode);return this.updateNetorkTestIndirectPolicy(st,lt).pipe((0,E.K)(gt=>(this.logger.error("Unable to update streamer network test policy: ",gt),(0,n.of)(!1))),(0,x.zg)(gt=>{var vt;return this.isVideoReceived&&this.isResumableNetworkErrorCode(d)?(this.resumableSession=!0,this.isVideoReceived=!1,this.logger.info("session is resumable, sending STREAMING_CONNECTION_LOST event"),this.connectivityEventSub.next({event:M.qC.STREAMING_CONNECTION_LOST}),null!==(vt=this.appConfig.featureEnablement)&&void 0!==vt&&vt.autoResumeDisabled?(0,n.of)(d):(this.reconnectTimeout.pipe((0,O.q)(1)).subscribe(()=>{this.hasSessionTimedOut=!0,this.logger.info("hasSessionTimedOut set to true")}),this.resumeableTerminateWrapper(d,!1))):(this.logger.info("clear state"),this.resumableSession=!1,this.clearSessionId(!this.isSessionResumable()),(0,n.of)(d))}))}isResumableNetworkErrorCode(d){return this.logger.info("isNetworkErrorCode? :",d),d.isResumable&&d.reason!==M.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP}resumeableTerminateWrapper(d,H){const $=this.terminatingAutoResume$.asObservable().pipe((0,w.h)(null)),J=this.resumableTerminate(d),st=H?(0,o.H)(this.appConfig.streamer.reconnectRefreshInterval).pipe((0,x.zg)(()=>J)):J;return(0,q.T)(st,$).pipe((0,p.P)(),(0,V.o)(()=>!1===this.isStreaming),(0,x.zg)(lt=>((0,P.isNil)(lt)?this.logger.info("Terminate Fired!"):this.logger.info("Auto resume failed!"),(0,n.of)(d))))}resumableTerminate(d){if(this.networkStatusService.isOnline)return this.attemptAutoResume(d);{const H=this.networkStatusService.onlineStatusChanged.pipe((0,S.h)($=>!0===$));return(0,q.T)(this.reconnectTimeout,H).pipe((0,p.P)(),(0,x.zg)($=>!0===$?this.attemptAutoResume(d):(this.logger.info("Network timed out!"),(0,n.of)(d))))}}attemptAutoResume(d){const H=this.startSessionsPollingSpan(tt.j1.GetSessionInfo);return this.getSessionInfo(this.sharedStreamingProperties.sessionId,H).pipe((0,x.zg)($=>this.getSessionInfoEvent$),(0,g.b)($=>{this.logger.info("getSessionInfo - sessionInfo",$),this.logger.info("update resumable state and clear"),this.distributedTracingUtilService.closeSpan(H),this.updateResumableSession($)}),(0,p.P)(),(0,x.zg)($=>this.resumableSession?(this.logger.info("auto resuming.... calling gfnResume"),this.autoResuming=!0,this.prevTerminatedInfo=d,this.autoResume().pipe((0,x.zg)(()=>(this.isAutoResumedSession=!0,this.logger.info("auto-resume invoked"),I.C)),(0,E.K)(J=>(this.logger.error("auto-resume failed",J),this.resetAutoResumingState(),this.clearSessionId(!this.isSessionResumable()),(0,n.of)(d))))):(this.logger.info("fire terminated",this.resumableSession,this.networkStatusService.isOnline),(0,n.of)(d))),(0,E.K)($=>(this.logger.info("attemptAutoResume error:",$),(0,n.of)(d))))}autoResume(){return this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.networkConfigurationService.networkSessionId$.pipe((0,O.q)(1),(0,x.zg)(d=>this.gfnResume(d).pipe((0,g.b)(H=>{this.waitForStop=H,this.startRequestsSub.next()}))))}clearSessionId(d=!1){this.sharedStreamingProperties.sessionId=null,this.sharedStreamingProperties.subSessionId=null,d&&(this.logger.info("clear old streaming sessionId from sharedstorage.json."),this.updateSessionId())}updateResumableSession(d){this.logger.info("updateResumableSession"),this.resumableSession=!0,this.getResumableState(d.result,d.sessions)===M.pi.NOT_RESUMABLE&&(this.resumableSession=!1),this.logger.info("updateResumableSession resumeable",this.resumableSession)}onSessionSetupSuccess(d){return this.sharedStreamingProperties.sessionId=d.sessionId,this.sharedStreamingProperties.subSessionId=d.subSessionId,this.updateSessionId(d.sessionId,d.subSessionId),this.sharedStreamingProperties.streams=d.streams,this.logger.info("streams: "+JSON.stringify(this.sharedStreamingProperties.streams)),this.surveyService.setStreamingSessionId(this.sharedStreamingProperties.sessionId),this.clipboardService.setStreamingIds(this.sharedStreamingProperties.sessionId,this.sharedStreamingProperties.subSessionId),this.autoResuming?(this.logger.info("auto resuming, suppress success"),I.C):(this.logger.info("streaming mode is",d.streamingMode),(0,n.of)(d))}onSessionSetupProgress(d){return this.autoResuming?I.C:(0,n.of)(d)}onFrameLossError(d){return this.logger.info("onFrameLossError"),this.pauseStreaming(M.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR).pipe((0,u.U)(H=>d),(0,E.K)(H=>(this.logger.error("pauseStreaming failed",H),(0,n.of)(d))))}onFrameLossWarning(d){return this.logger.info("onFrameLossWarning"),(0,n.of)(d)}onFrameLossCleared(d){return this.logger.info("onFrameLossCleared"),(0,n.of)(d)}updateSessionId(d,H){this.logger.info("Update session Id"),this.updateSessionIdsForSharedServices(d,H),this.sharedStorageService.writeBlock("streamingSessionId",{sessionId:d||null}).subscribe(b.Z,J=>{this.logger.error("Failed to update the session Id in shared storage. Error:",J)})}updateSessionIdsForSharedServices(d,H){d&&(this.gfcHelperService.updateEventDataParamIds({streamSessionId:d,streamSubSessionId:H}),this.opportunityHelperService.streamingProperties={sessionId:d,subSessionId:H})}gfnStart(d){return this.gameSessionAnalyticsService.updateGameLaunchDurations(j.FRL.StreamerClientSetupDuration,j.FRL.StreamerConnectionDuration),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.Start,d)}gfnPrepare(d){return this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.Prepare,d)}getActiveSessions(d){return this.logger.info("getActiveSessions"),this.setAuthInfo().pipe((0,x.zg)(()=>this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.GetActiveSessions,{spanData:(0,P.isNil)(d)?{}:this.distributedTracingUtilService.inject(d)})))}getSessionInfo(d,H){return this.logger.info("getSessionInfo"),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.GetSessionInfo,{session:d,spanData:H?this.distributedTracingUtilService.inject(H):{}})}start(d){const H=(0,P.pick)(this.streamingParams,["appId","appLaunchMode","frameStatsEnabled","summaryStatsEnabled","maxLocalPlayers","advancedLatencyOptimization","networkPacketCaptureEnabled","metaData","frameLossWarningTimeout","frameLossErrorTimeout","address","serverType","port","partnerCustomData","streamingProfile","locale","accountLinked","persistingInGameSettings","gameShortName","networkSessionId","audioModeFormat","supportedControls","heroImage","gameDisplayOwnRating","storeName","appName","subscriptionLongDesc","providerName","zoneName","userAge","serverLocation","gpuNameMap"]);this.keyboardLayoutCode&&(H.keyboardLayout=this.keyboardLayoutCode,H.allowKeyboardLayoutChange=!1),H.contentRating=this.startParamsContentRating,this.streamingSpan=this.distributedTracingUtilService.startSpan(tt.j1.StartStreaming,this.gameSessionDistributedTracingService.getCurrentActiveSpan()),H.metaData.ClientImeSupport=this.appConfig.featureEnablement.serverIME?"0":"1";const $=this.streamingProfileService.getCurrentPhysicalResolution();$&&(H.metaData.clientPhysicalResolution=JSON.stringify($)),H.session=d,(0,P.isNil)(d)||(this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType)),(0,P.isNil)(this.streamingSpan)||(H.spanData=this.distributedTracingUtilService.inject(this.streamingSpan));const{partnerCustomData:J,...st}=H;return this.logger.info("start",st),this.sessionStartAttempts+=1,this.gfnStart(H).pipe((0,g.b)(lt=>{this.waitForStop=lt,this.startRequestsSub.next()}))}setAuthInfo(d=!1){return this.gfnSdkService.getAuthInfo().pipe((0,x.zg)($=>$.authType===ot.Gr.JWT?(0,n.of)({tokenType:j.qql.NVB_AUTH_JWT,token:$.authToken}):this.idmService.getAuthToken(d,this.streamingSpan).pipe((0,u.U)(J=>({tokenType:j.qql.NVB_AUTH_JWT_GFN,token:J.token})))),(0,x.zg)($=>this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.SetAuthInfo,$)))}startSessionsPollingSpan(d){return this.distributedTracingUtilService.startSpan(d,this.gameSessionDistributedTracingService.getCurrentActiveSpan())}getSessionState(d){if(d){this.logger.info("Recovering active session from session result Info.");const H=d.sessions?d.sessions:[],$=this.getResumableState(d.result,H);return this.logger.info("resumable state",d,$),(0,n.of)({resultInfo:d.result,sessions:H,resumableState:$})}{this.logger.info("pollActiveSessions");const H=this.startSessionsPollingSpan(tt.j1.GetActiveSessions);return this.getActiveSessions(H).pipe((0,x.zg)($=>this.activeSessionsEvent$),(0,u.U)($=>{const J=this.getResumableState($.result,$.sessions);return this.logger.info("resumable state",$,J),{resultInfo:$.result,sessions:$.sessions,resumableState:J}}),(0,p.P)(),(0,g.b)(()=>this.distributedTracingUtilService.closeSpan(H)))}}setupSession(d){if(this.logger.info("setupSession",d),(0,P.isNil)(d))throw new Error("Invalid session state");const H=(0,P.get)(d,"resultInfo.result"),$={error:!this.isSuccess(H),result:H};if($.error)return this.logger.error("unexpected result code in sessions",$.result),(0,n.of)($);const J=d.sessions;let st=J.length;const lt=[];for(const vt of J)vt.appId===this.streamingParams.appId?vt.status!==M.a1.NVB_SESSION_INITIALIZING?(this.logger.info("resuming session",vt.sessionId),st--,$.sessionId=vt.sessionId,$.appLaunchMode=vt.appLaunchMode):(this.logger.info("found session in initializing state, stopping it"),lt.push(vt.sessionId)):lt.push(vt.sessionId);this.logger.info("stopEventsToWaitFor",st,$.sessionId);let gt=(0,n.of)($);if(st>0){const vt=(0,a.D)(lt).pipe((0,g.b)(k=>this.logger.info("Stopping session ",k)),(0,x.zg)(k=>this.stopStreamingInternal(k)),(0,E.K)(k=>(this.logger.error("Caught error while stopping stream ",k),(0,n.of)(null))));gt=this.stopEvent$.pipe((0,c.j)(st),(0,w.h)($)),vt.subscribe(k=>this.logger.info("Stopped session: ",k),k=>{this.logger.error("Failed to stop session: ",k),this.gameSessionAnalyticsService.handleGameLaunchFailure({status:j.N3X.HTTPError,errorDetails:k&&k.status?k.status.toString():""})},()=>this.logger.info("Finished stopping all sessions"))}return gt}sessionCleanup(d){return this.getSessionState(d).pipe((0,x.zg)(H=>this.setupSession(H)))}isSuccess(d){return d===M.dq.NVB_R_SUCCESS||d===M.dq.NVB_R_UPGRADE_RECOMMENDED||d===M.dq.NVB_R_NO_ACTIVE_SESSION_FOUND||d===M.dq.NVB_R_SESSION_LIMIT_REACHED}getResumableState(d,H){if(d.result===M.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED)return this.logger.info("getResumableState - token not updated"),M.pi.NO_AUTH_TOKEN;if(!this.isSuccess(d.result))return this.logger.info("getResumableState - failure",d.result),M.pi.NOT_RESUMABLE;for(const $ of H)if($.appId===this.streamingParams.appId&&this.isResumableSessionState($))return this.logger.info("getResumableState - found resumable state"),M.pi.RESUMABLE;return this.logger.info("getResumableState - no resumable sessions found"),M.pi.NOT_RESUMABLE}isResumableSessionState(d){return d.status===M.a1.NVB_SESSION_READY_FOR_CONNECT||d.status===M.a1.NVB_SESSION_PAUSED_INTENTIONAL||d.status===M.a1.NVB_SESSION_PAUSED_UNINTENTIONAL||d.status===M.a1.NVB_SESSION_STREAMING}stopStreamingInternal(d,H){return this.logger.info("calling stopstreaming internal"),this.setAuthInfo().pipe((0,x.zg)(()=>this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.Stop,{session:d,reasonCode:H})))}pauseStreamingInternal(d){return this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.PauseStreaming,{reasonCode:d})}gfnResume(d){return this.setAuthInfo().pipe((0,x.zg)(()=>this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.Resume,{networkSessionId:d})))}sendResumeFailureTelemetryData(d){this.gameSessionAnalyticsService.handleGameLaunchFailure({isResume:!0,status:d.status,errorDetails:d.errorDetails})}resetStreamingServiceFlags(){this.isVideoReceived=!1,this._hasFirstFrameBeenReceived=!1,this.isStreaming=!1,this.resumableSession=!1,this.waitForStop=!1,this.shuttingDownFromSleep=!1,this.sharedStreamingProperties={sessionId:null,subSessionId:null},this.isResume=!1,this.autoResuming=!1,this.sessionStartAttempts=0,this.isAutoResumedSession=!1,this.prevTerminatedInfo=null,this.hasSessionTimedOut=!1,this.isAuthTokenRefreshedOnce=!1}stopStreaming(d=!1,H){var $,J;if(null===($=this.clipboardAvailableSub)||void 0===$||$.unsubscribe(),null===(J=this.clipboardInitSub)||void 0===J||J.unsubscribe(),d&&(this.logger.info("System is sleeping, shutting down stream."),this.shuttingDownFromSleep=!0),this.logger.info("stop streaming called, waitForStop:",this.waitForStop," isStreaming:",this.isStreaming),!this.waitForStop&&!this.isStreaming&&!this.isSessionResumable())return this.clearSessionId(!0),(0,n.of)(!0);let st=this.streamingEvent$.pipe((0,S.h)(lt=>lt.event===M.V4.STREAMING_TERMINATED||lt.event===M.V4.STOP_RESULT));return this.networkStatus.isOnline||(this.logger.info("Stop Streaming when user is offline"),st=(0,n.of)({event:M.V4.STREAMING_TERMINATED})),(0,R.$R)(this.stopStreamingInternal(this.sharedStreamingProperties.sessionId,H),st).pipe((0,p.P)(),(0,u.U)(lt=>lt[0]),(0,E.K)(lt=>(this.logger.error("Caught error while stopping the streaming",lt),(0,n.of)(!1))))}pauseStreaming(d){return this.logger.info("pause streaming called, isStreaming:",this.isStreaming),this.pauseStreamingInternal(d)}getPrepareParameters(d){let H=M.C3.NVB_PROFILE_GAMING_1080P_60FPS;(this.windowService.window.screen.height<1080||this.windowService.window.screen.width<1920)&&(H=M.C3.NVB_PROFILE_GAMING_720P_60FPS);const $=(0,P.pick)(d,["address","serverType","port","deviceId","advancedLatencyOptimization","directInput","streamingProfile","appName","locale"]);return this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}).pipe((0,u.U)(J=>{const st=Object.entries(J).map(([gt,vt])=>({headerName:gt,headerValue:vt instanceof Array?vt[0]:vt}));return{...$,profile:H,cmsId:d.appId.toString(),shortName:d.gameShortName,clientAppVersion:this.appConfig.build.version,clientHeaders:st}}))}startStreaming(d){return this.streamingParams=d,this.hasSessionTimedOut&&(this.hasSessionTimedOut=!1,this.cancelTimerSubject.next(!0)),this.sessionStartAttempts=0,this.getPrepareParameters(d).pipe((0,g.b)(H=>this.logger.info("prepare params",H)),(0,x.zg)(H=>this.gfnPrepare(H)),(0,x.zg)(H=>this.setAuthInfo()),(0,x.zg)(H=>this.processPartnerData()),(0,x.zg)(H=>this.updateKeyboardLayout()),(0,x.zg)(H=>this.updateStreamingContentRating()),(0,x.zg)(H=>this.start()))}processPartnerData(){let d=!1;const H=this.deeplinkHelperService.getDeeplinkPartnerData();return H&&(this.logger.info("Found partner-data in play-game deeplink"),this.streamingParams.metaData.partnerData=H,d=!0),this.gfnSdkService.isThisAGFNSDKSession()?(0,s.aj)([this.gfnSdkService.getPartnerData(),this.gfnSdkService.getPartnerSecureData()]).pipe((0,u.U)(([$,J])=>($&&$.length>0?(this.streamingParams.metaData.partnerData=$,this.logger.info("partnerData passed from GFN SDK"),d=!0):this.logger.info("No partnerData passed from GFN SDK"),J&&J.length>0?(this.streamingParams.partnerCustomData=J,this.logger.info("partnerSecureData passed from GFN SDK"),d=!0):this.logger.info("No partnerSecureData passed from GFN SDK"),d))):(d||this.logger.info("No partnerData and partnerSecureData present"),(0,n.of)(d))}isSessionResumable(){return this.resumableSession}isResumed(){return this.isResume}terminateAutoResume(){this.terminatingAutoResume$.next()}resume(){return this.logger.info("resuming...."),(0,s.aj)([this.getSessionState(),this.networkConfigurationService.networkSessionId$.pipe((0,O.q)(1))]).pipe((0,x.zg)(([d,H])=>{if(this.resumableSession=d.resumableState===M.pi.RESUMABLE,this.resumableSession)return this.logger.info("resumable session found"),this.isAutoResumedSession=!1,this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gfnResume(H).pipe((0,g.b)($=>{this.waitForStop=$,this.startRequestsSub.next()}));{this.logger.error("no resumable sessions found");const $=new B.L;return this.sendResumeFailureTelemetryData({status:j.N3X.ClientError,errorDetails:$.result.toString()}),(0,y._)($)}}))}}return(Z=W).\u0275fac=function(d){return new(d||Z)(U.LFG(e.ed),U.LFG(e.dF),U.LFG(e.un),U.LFG(z.OA),U.LFG(Q.h),U.LFG(dt.r),U.LFG(j.No2),U.LFG(ot.s),U.LFG(j.VKt),U.LFG(j.hHP),U.LFG(e._J),U.LFG(tt.Dc),U.LFG(j.XS0),U.LFG(j.dgl),U.LFG(X.G),U.LFG(j.oX5),U.LFG(j.FR5),U.LFG(m.m3),U.LFG(Y.HR),U.LFG(e._J),U.LFG(j.GKb),U.LFG(e.Ob),U.LFG(j.gIP),U.LFG(j.YvH),U.LFG(j.x5h),U.LFG(j.V5e),U.LFG(j.OMY),U.LFG(j.wHL),U.LFG(j.kuH))},Z.\u0275prov=U.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})()},61674:(Dt,ct,t)=>{"use strict";t.d(ct,{DX:()=>j,Qr:()=>tt});var e=t(17401),i=t(61699),L=t(13963),f=t(26575),x=t(45356),S=t(47520),u=t(28849),g=t(78654),h=t(24565),O=t(33910),E=t(78173),w=t(15550),p=t(93170),V=t(81337),c=t(43559);function C(ot,F){if(1&ot&&i._UZ(0,"mat-progress-spinner",11),2&ot){const U=i.oxw(2);i.Q6J("diameter",48)("mode",U.data.progressMode)("value",U.value)}}const l=function(ot){return{spinnerContent:ot}};function o(ot,F){if(1&ot&&(i.TgZ(0,"div",8),i.YNc(1,C,1,3,"mat-progress-spinner",9),i._UZ(2,"span",10),i.ALo(3,"translate"),i.qZA()),2&ot){const U=i.oxw();i.Q6J("ngClass",i.VKq(6,l,U.data.spinner)),i.xp6(1),i.Q6J("ngIf",U.data.spinner),i.xp6(1),i.Q6J("innerHtml",i.xi3(3,3,U.data.query,U.data.queryParam),i.oJD)}}function n(ot,F){if(1&ot){const U=i.EpF();i.TgZ(0,"div",19)(1,"mat-checkbox",20),i.NdJ("ngModelChange",function(Q){i.CHM(U);const dt=i.oxw().$implicit;return i.KtG(dt.state=Q)})("change",function(){i.CHM(U);const Q=i.oxw().index,dt=i.oxw(2);return i.KtG(dt.onStateChanged(Q))}),i._uU(2),i.ALo(3,"translate"),i.qZA()()}if(2&ot){const U=i.oxw().$implicit;i.xp6(1),i.Q6J("ngModel",U.state),i.xp6(1),i.Oqu(i.lcZ(3,2,U.label))}}function s(ot,F){if(1&ot&&(i.TgZ(0,"div"),i.YNc(1,n,4,4,"div",18),i.qZA()),2&ot){const U=F.$implicit;i.xp6(1),i.Q6J("ngIf",U.label)}}function R(ot,F){if(1&ot){const U=i.EpF();i.TgZ(0,"div",12),i._UZ(1,"span",10),i.ALo(2,"translate"),i.TgZ(3,"div")(4,"div",13)(5,"mat-checkbox",14),i.NdJ("ngModelChange",function(Q){i.CHM(U);const dt=i.oxw();return i.KtG(dt.masterState=Q)})("change",function(){i.CHM(U);const Q=i.oxw();return i.KtG(Q.onStateChanged())}),i._uU(6),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"div",15),i.YNc(9,s,2,1,"div",16),i.qZA()(),i._UZ(10,"span",17),i.ALo(11,"translate"),i.qZA()}if(2&ot){const U=i.oxw();i.xp6(1),i.Q6J("innerHtml",i.xi3(2,6,U.data.query,U.data.queryParam),i.oJD),i.xp6(4),i.Q6J("ngModel",U.masterState)("indeterminate",U.checkIndeterminate()),i.xp6(1),i.Oqu(i.lcZ(7,9,U.data.state)),i.xp6(3),i.Q6J("ngForOf",U.data.subActions),i.xp6(1),i.Q6J("innerHtml",i.xi3(11,11,U.data.hint,U.data.hintParam),i.oJD)}}function _(ot,F){if(1&ot&&i._UZ(0,"mat-progress-bar",24),2&ot){const U=i.oxw(2);i.Q6J("mode",U.data.progressMode)("value",U.value)}}function b(ot,F){if(1&ot&&(i.TgZ(0,"div",25),i._uU(1),i.qZA()),2&ot){const U=i.oxw(2);i.xp6(1),i.hij("",U.value,"%")}}const I=function(){return{progressBarContent:!0}};function q(ot,F){if(1&ot&&(i.TgZ(0,"div",21),i._UZ(1,"span",10),i.ALo(2,"translate"),i.YNc(3,_,1,2,"mat-progress-bar",22),i.YNc(4,b,2,1,"div",23),i.qZA()),2&ot){const U=i.oxw();i.Q6J("ngClass",i.DdM(7,I)),i.xp6(1),i.Q6J("innerHtml",i.xi3(2,4,U.data.query,U.data.queryParam),i.oJD),i.xp6(2),i.Q6J("ngIf",U.data.progressBar),i.xp6(1),i.Q6J("ngIf",U.data.progressPercentage)}}const a=function(ot){return{background:ot}};function y(ot,F){if(1&ot&&(i.TgZ(0,"button",26),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ot){const U=i.oxw();i.Q6J("mat-dialog-close",U.getRetValue1())("ngStyle",i.VKq(5,a,U.data.action1Color)),i.xp6(1),i.hij(" ",i.lcZ(2,3,U.data.action1)," ")}}function M(ot,F){if(1&ot&&(i.TgZ(0,"button",27),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ot){const U=i.oxw();i.Q6J("mat-dialog-close",U.retVals.Action2),i.xp6(1),i.hij(" ",i.lcZ(2,2,U.data.action2)," ")}}function P(ot,F){if(1&ot&&(i.TgZ(0,"button",27),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ot){const U=i.oxw();i.Q6J("mat-dialog-close",U.retVals.Action3),i.xp6(1),i.hij(" ",i.lcZ(2,2,U.data.action3)," ")}}var j=function(ot){return ot.Action1="action1",ot.Action2="action2",ot.Action3="action3",ot.Action4="",ot}(j||{});let tt=(()=>{var ot;class F{constructor(z,Q){this.data=z,this.localeSerive=Q,this.masterState=!0,this.retVals=j,this.direction="ltr",this.value=0,z.spinner&&(z.progressBar=!1),void 0===z.progressMode&&(z.progressMode="indeterminate"),this.direction=this.localeSerive.isRTLLayoutEnabled?"rtl":"ltr"}set dialogData(z){this.data=z}get dialogData(){return this.data}onStateChanged(z){if(void 0===z)this.data.subActions.forEach(Q=>{Q.state=this.masterState});else{let Q=!0;this.data.subActions.forEach(dt=>{dt.state&&(Q=!1)}),this.masterState=!Q}}getRetValue1(){return this.masterState?this.retVals.Action1:this.retVals.Action4}checkIndeterminate(){if(0===this.data.subActions.length)return!1;let z=!1;return this.data.subActions.forEach(Q=>{Q.state!==this.masterState&&(z=!0)}),z}}return(ot=F).\u0275fac=function(z){return new(z||ot)(i.Y36(e.WI),i.Y36(L.OL))},ot.\u0275cmp=i.Xpm({type:ot,selectors:[["nv-hig-alert-dialog"]],inputs:{value:"value",dialogData:"dialogData"},decls:11,vars:11,consts:[[3,"dir"],["mat-dialog-title","",1,"font-header6"],["mat-dialog-content","","class","font-body2","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",3,"ngClass",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start left","fxLayoutGap","16px",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","8px",3,"ngClass",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close","ngStyle",4,"ngIf"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-content","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",1,"font-body2",3,"ngClass"],["color","accent","fxFlex","none",3,"diameter","mode","value",4,"ngIf"],["cdkMonitorSubtreeFocus","",3,"innerHtml"],["color","accent","fxFlex","none",3,"diameter","mode","value"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start left","fxLayoutGap","16px",1,"font-body2"],[1,"checkbox"],[1,"font-body2",3,"ngModel","indeterminate","ngModelChange","change"],[1,"subcheckboxsize"],[4,"ngFor","ngForOf"],[1,"hinttext",3,"innerHtml"],["class","subcheckbox",4,"ngIf"],[1,"subcheckbox"],[1,"font-body2",3,"ngModel","ngModelChange","change"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","8px",1,"font-body2",3,"ngClass"],["class","mat-accent",3,"mode","value",4,"ngIf"],["fxLayoutAlign","start start",4,"ngIf"],[1,"mat-accent",3,"mode","value"],["fxLayoutAlign","start start"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","ngStyle"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close"]],template:function(z,Q){1&z&&(i.TgZ(0,"div",0)(1,"span",1),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.YNc(4,o,4,8,"div",2),i.YNc(5,R,12,14,"div",3),i.YNc(6,q,5,8,"div",4),i.TgZ(7,"div",5),i.YNc(8,y,3,7,"button",6),i.YNc(9,M,3,4,"button",7),i.YNc(10,P,3,4,"button",7),i.qZA()()),2&z&&(i.s9C("dir",Q.direction),i.xp6(2),i.Oqu(i.lcZ(3,9,Q.data.title)),i.xp6(2),i.Q6J("ngIf",void 0===Q.data.progressBar&&void 0===Q.data.hint||Q.data.spinner),i.xp6(1),i.Q6J("ngIf",Q.data.hint),i.xp6(1),i.Q6J("ngIf",Q.data.progressBar),i.xp6(1),i.Q6J("align","end"),i.xp6(1),i.Q6J("ngIf",Q.data.action1),i.xp6(1),i.Q6J("ngIf",Q.data.action2),i.xp6(1),i.Q6J("ngIf",Q.data.action3))},dependencies:[f.mk,f.sg,f.O5,f.PC,x.xw,x.SQ,x.Wh,x.yH,S.oO,S.Zl,u.JJ,u.On,g.eB,h.Lv,O.Ou,E.pW,w.FC,e.ZT,e.uh,e.xY,e.H8,p.kH,V.xZ,c.X$],styles:[".spinnerContent[_ngcontent-%COMP%]{overflow:hidden!important}.progressBarContent[_ngcontent-%COMP%]{padding-top:16px}.checkbox[_ngcontent-%COMP%]{margin-bottom:0!important}.subcheckboxsize[_ngcontent-%COMP%]{max-height:240px;overflow-y:auto}.isLtr[_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.hinttext[_ngcontent-%COMP%]{padding-bottom:28px}"]}),F})()},32577:(Dt,ct,t)=>{"use strict";t.d(ct,{I:()=>g});var e=t(26575),i=t(32995),L=t(16850),f=t(13963),x=t(91467),S=t(61699);let g=(()=>{var h;class O{constructor(w){if(w)throw new Error("CoreModule already loaded; Import in root module only.")}}return(h=O).\u0275fac=function(w){return new(w||h)(S.LFG(h,12))},h.\u0275mod=S.oAB({type:h}),h.\u0275inj=S.cJS({imports:[e.ez,i.o9,L.Q,(0,f.zv)(),x.hp]}),O})()},36582:(Dt,ct,t)=>{"use strict";t.d(ct,{Ru3:()=>z.Ru,NXs:()=>Q.NX,WU6:()=>Q.WU,adt:()=>h,OhQ:()=>Ye.Oh,QMi:()=>a,SD3:()=>yn.S,xHZ:()=>Nt.xH,uPR:()=>Nt.uP,uvS:()=>ge,Mbz:()=>D.M,lm_:()=>W.l,ANe:()=>Q.AN,wn$:()=>Mt.wn,k63:()=>ce,h8g:()=>Q.R5,Uke:()=>Mt.Uk,Sck:()=>U.Sc,rji:()=>st,A2s:()=>U.A2,CSO:()=>Mt.CS,InJ:()=>Z.In,DCw:()=>Mt.DC,DXk:()=>ft.DX,IeD:()=>Q.Ie,ZBJ:()=>U.ZB,M94:()=>s.M,sWi:()=>C.sW,z9z:()=>C.z9,y1B:()=>C.y1,qpT:()=>_.q,OVt:()=>Lt.OV,TEL:()=>Lt.TE,udq:()=>Lt.ud,xdp:()=>Lt.xd,pWD:()=>Lt.pW,gs7:()=>l.g,QyH:()=>Ye.Qy,YQv:()=>Ye.YQ,i85:()=>Yn,WD3:()=>On,jOX:()=>Lt.jO,vlP:()=>Lt.vl,$jC:()=>Lt.$j,I5U:()=>Lt.I5,rQ6:()=>Nt.rQ,pJR:()=>Q.pJ,f5Y:()=>Xe.f,SXx:()=>Z.SX,DUK:()=>ze,Enb:()=>ee,pLq:()=>qt,HYm:()=>o,FCu:()=>Q.FC,vUp:()=>x.v,_RK:()=>z._R,nGc:()=>z.nG,ZJJ:()=>z.ZJ,KwD:()=>n.Kw,Fr4:()=>n.Fr,EcD:()=>n.Ec,BHi:()=>n.BH,dmT:()=>lt.d,nmt:()=>Lt.nm,aqq:()=>Lt.aq,pgi:()=>Q.pg,QEo:()=>Mt.QE,iIl:()=>Ie,T7D:()=>J,CND:()=>Zt,b5w:()=>dt.b,Vu:()=>We,dSX:()=>Nt.dS,G0Y:()=>Mt.G0,$uQ:()=>$e,wBk:()=>Q.wB,_6J:()=>we,_Cb:()=>n._C,Tjy:()=>Ae,PoW:()=>Q.Po,lar:()=>X.l,Spn:()=>Ln,IO3:()=>Ct,aMB:()=>Se,cz_:()=>te}),t(32577);var i=t(32484),L=t(70462),f=t(61699),x=t(99541);let h=(()=>{var rt;class he{constructor(G){this.oscDisplayService=G,this.actionClicked=new i.xQ,this.iconsChanged=new L.X([]),this.titleChanged=new L.X({title:"",params:{}}),this.navButtonChanged=new L.X(""),this.activeChanged=new L.X(!1),this.iconList=[],this.actionClicked$=this.actionClicked.asObservable(),this.icons$=this.iconsChanged.asObservable(),this.title$=this.titleChanged.asObservable(),this.navButton$=this.navButtonChanged.asObservable(),this.active$=this.activeChanged.asObservable()}reset(){this.titleChanged.next({title:"",params:{}}),this.iconsChanged.next([]),this.navButtonChanged.next(""),this.activeChanged.next(!1)}setTitle(G,at={}){this.titleChanged.next({title:G,params:at})}setNavButton(G){this.navButtonChanged.next(G)}setNavButtonArrow(){this.setNavButton("arrow_left")}setNavButtonClose(){this.setNavButton("close")}setActive(G){this.activeChanged.next(G)}addIcon(G){this.iconList.push(G),this.iconsChanged.next(this.iconList)}deleteIcon(G){const at=this.iconList.findIndex(St=>St.id===G);-1!==at&&(this.iconList.splice(at,1),this.iconsChanged.next(this.iconList))}setIcons(G){this.iconList=G.slice(),this.iconsChanged.next(this.iconList)}setAll(G){this.reset(),this.setTitle(G.title,G.params),this.setActive(G.active),this.setIcons(G.icons),G.navButton&&""!==G.navButton?this.setNavButton(G.navButton):G.navButtonArrow?this.setNavButtonArrow():G.navButtonClose&&this.setNavButtonClose()}clearIcons(){this.iconList=[],this.iconsChanged.next(this.iconList)}getIcons(){return this.iconList}clickIcon(G){"closeIgo"===G&&this.closeIgo(),this.actionClicked.next(G)}clickBack(){this.clickIcon("nav")}closeIgo(){this.oscDisplayService.closeOSC()}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(x.v))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var O=t(47422),E=t(87965),w=t(58175),p=t(9681),V=t(13963),c=t(78943),C=t(36643),l=t(67445);let o=(()=>{var rt;class he{constructor(G,at,St,wt,Yt){this.igoConfig=at,this.systemInfoService=St,this.bridgeService=wt,this.hotKeyHelper=Yt,this.logger=G.getLogger("OsService")}init(){return this.logger.info("Initialize"),"GFE"===this.igoConfig.branding?this.systemInfoService.getSystemInfo([V.l7.Platform]).pipe((0,O.U)(G=>(this.logger.info("Platform: ",G.Platform),this.isWindows=G.Platform===V.eJ.Windows,this.isOptimus=!1,!0)),(0,E.zg)(()=>this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetGPUInfo)),(0,O.U)(G=>(this.isOptimus="1"===G.IsOptimus,this.logger.info("IsOptimus: ",this.isOptimus),!0)),(0,w.K)(()=>(0,p.of)(!0))):this.systemInfoService.getSystemInfo([V.l7.Platform,V.l7.Network]).pipe((0,O.U)(G=>(this.logger.info("Platform: ",G.Platform),this.isWindows=G.Platform===V.eJ.Windows,this.isOptimus=!1,this.networkInfo=G.Network,this.logger.info("NetworkInfo: ",this.networkInfo),!0)))}getDirSeparator(){return"GFE"===this.igoConfig.branding||this.isWindows?"\\":"/"}getFileBaseSize(){return this.isWindows?1024:1e3}getQuitHotkey(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:C.sW.QuitGame}).pipe((0,O.U)(G=>G.keys),(0,O.U)(G=>this.hotKeyHelper.shortcutToString(G)))}getOSType(){return this.isWindows?V.eJ.Windows:V.eJ.Mac}getIsOptimus(){return this.isOptimus}getNetworkInfo(){return this.networkInfo}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(l.g),f.LFG(V.Ob),f.LFG(V.dF),f.LFG(V.d_))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var n=t(66129),s=t(56982),_=(t(56624),t(97251)),b=t(17827),I=t(15746),q=function(rt){return rt[rt.Empty=0]="Empty",rt[rt.Partial=1]="Partial",rt[rt.Full=2]="Full",rt}(q||{});let a=(()=>{var rt;class he{constructor(G,at,St){this.osService=at,this.bridgeService=St,this.videoPath="",this.directoryListOutdated=!0,this.directoryListUpdateCounts=!1,this.files=[],this.directoryList=[],this.directories=[],this.populatedFolder=[[],[],[],[],[]],this.folderData=[],this.fileData=[],this.mainCache=[],this.folderCache=[],this.cacheEntries=5,this.initialized=!1,this.ageCounter=0,this.dataIndex=0,this.freeInterval=3e5,this.minEntryAge=12e5,this.active=!1,this.logger=G.getLogger("CacheService")}resetCacheEntry(G){this.folderCache[G]={dirty:!0,crc:0,path:"",age:0,time:0,loaded:q.Empty}}init(){if(this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),!this.initialized){this.directoryListOutdated=!0,this.mainCache[0]={dirty:!0,crc:0,path:""};for(let G=0;G<this.cacheEntries;G++)this.resetCacheEntry(G);this.cacheTimerOn(),this.initialized=!0,this.logger.info("Initialize complete")}}reInit(){this.cacheTimerOff(),this.initialized=!1,this.init()}galleryActive(G){this.active=G}cacheTimerOn(){this.cacheTimer||(this.cacheTimer=(0,b.F)(this.freeInterval).subscribe(()=>{if(this.logger.info("cacheTimer called"),this.active)return;let G=2147483647,at=-1;const wt=(new Date).getTime();for(let Yt=0;Yt<this.cacheEntries;Yt++)0!==this.folderCache[Yt].age&&this.folderCache[Yt].age<G&&wt-this.folderCache[Yt].time>this.minEntryAge&&(at=Yt,G=this.folderCache[Yt].age);0!==G&&-1!==at&&(this.logger.info("resetting cache entry: "+at+" age was: "+G),this.folderData[at].directories.length=0,this.folderData[at].files.length=0,this.folderCache[at].loaded===q.Full&&(this.fileData[at].popFolder.length=0),this.resetCacheEntry(at)),this.checkCacheState()}))}cacheTimerOff(){this.logger.info("cacheTimerOff called"),this.cacheTimer&&(this.cacheTimer.unsubscribe(),this.cacheTimer=void 0)}checkCacheState(){let G=!0;this.folderCache.forEach(at=>{at.loaded!==q.Empty&&(G=!1)}),G&&this.cacheTimerOff()}setRecordingPaths(G){this.videoPath=G,this.reInit()}getCurrentPopFolder(){return this.populatedFolder[this.dataIndex]}resetCurrentPopFolder(){this.populatedFolder[this.dataIndex].length=0}useCacheData(G,at){let St=!1;if(G!==this.videoPath){const wt=this.folderCache.findIndex(Ee=>Ee.path===G);if(-1===wt)return!1;St=!this.folderCache[wt].dirty&&this.folderCache[wt].path===G;const Yt=St&&this.folderCache[wt].loaded!==q.Empty,se=St&&this.folderCache[wt].loaded===q.Full;this.dataIndex=wt;const Re=(new Date).getTime();return at?(Yt&&(this.logger.info("useCacheData, updating partial!"),this.files=this.folderData[wt].files,this.directories=this.folderData[wt].directories,this.counts=this.folderData[wt].counts,this.logger.info("useCacheData, updating partial - DONE!!"),this.folderCache[wt].time=Re),Yt):(se&&(this.logger.info("useCacheData, updating full!"),this.populatedFolder[wt]=this.fileData[wt].popFolder,this.counts=this.folderData[wt].counts,this.logger.info("useCacheData, updating full - DONE!!"),this.folderCache[wt].time=Re),se)}return St=!this.mainCache[0].dirty&&this.mainCache[0].path===G,St}setCacheNotDirty(G){if(G===this.videoPath)this.mainCache[0].dirty=!1;else{const at=this.folderCache.findIndex(St=>St.path===G);-1!==at&&(this.folderCache[at].dirty=!1)}}setCacheLoadedPartial(G){const at=this.folderCache.findIndex(St=>St.path===G);-1!==at&&(this.folderCache[at].loaded=q.Partial,this.folderData[at]={files:this.files,directories:this.directories,counts:this.counts})}setCacheLoaded(G){const at=this.folderCache.findIndex(St=>St.path===G);-1!==at&&(this.folderCache[at].loaded=q.Full,this.fileData[at]={popFolder:this.populatedFolder[at]})}setFileCounts(G,at){const St=this.folderCache.findIndex(wt=>wt.path===at);-1!==St?this.folderData[St].counts=G:this.logger.error("Could not find cache entry")}getVideoPathCRC(){return this.getGalleryFolderCRC(this.videoPath).pipe((0,O.U)(G=>{const at=this.mainCache[0].crc!==G.crc;return this.mainCache[0]={dirty:at,crc:G.crc,path:this.videoPath},at}),(0,w.K)(G=>(this.logger.info("getVideoPathCRC error: ",G),(0,p.of)(!0))))}getCachedDataCRC(G){void 0===G&&(this.logger.info("getCachedDataCRC: input undefined will use video path"),G=this.videoPath);let at=-1;if(G===this.videoPath)return this.getVideoPathCRC();if(at=this.folderCache.findIndex(St=>St.path===G),-1===at&&(at=this.folderCache.findIndex(St=>St.path===G)),-1===at){let St=2147483647;for(let wt=0;wt<this.cacheEntries;wt++)this.folderCache[wt].dirty&&this.folderCache[wt].age<St&&(at=wt,St=this.folderCache[wt].age)}if(-1===at){let St=2147483647;for(let wt=0;wt<this.cacheEntries;wt++)this.folderCache[wt].age<St&&(at=wt,St=this.folderCache[wt].age)}return at>=this.cacheEntries&&this.logger.error("folder cache has bad indexing!"),this.logger.info("Using index: "+at),this.getGalleryFolderCRC(G).pipe((0,E.zg)(St=>{const wt=this.folderCache[at].crc!==St.crc,se=wt||this.folderCache[at].loaded===q.Empty;this.ageCounter++;const Re=(new Date).getTime();return this.folderCache[at]={dirty:se,crc:St.crc,path:G,age:this.ageCounter,time:Re,loaded:wt?q.Empty:this.folderCache[at].loaded},this.cacheTimerOn(),(0,p.of)(!0)}),(0,w.K)(St=>(this.logger.info("getCachedDataCRC error: ",St),this.resetCacheEntry(at),(0,p.of)(!1))))}getGalleryFolderCRC(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFolderCRC,{directory:G})}getDirectoryListCRC(){return this.getVideoPathCRC().pipe((0,I.b)(G=>{this.directoryListOutdated=G}))}getNewDirectoryList(){return this.directoryListOutdated?(this.directoryList.length=0,this.directoryListUpdateCounts=!0,this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFolderListing,{directory:this.videoPath,shouldGetOnlyNv:!0,excludeDirectoryType:c.Yk.Common.Gallery.ExcludeDirectoryType.empty}).pipe((0,O.U)(at=>(this.setDirectoryList(at.directories),this.logger.info("New Directories: ",this.directoryList),this.directoryList)))):(this.logger.info("Current Directories: ",this.directoryList),this.directoryListUpdateCounts=!1,(0,p.of)(this.directoryList))}getDirectoryList(){return this.getDirectoryListCRC().pipe((0,E.zg)(()=>this.getNewDirectoryList()))}setDirectoryList(G){this.directoryList=G.slice(),this.directoryListOutdated=!1}updateDirectoryList(G){if(this.directoryList.length){let at=G.lastIndexOf(this.dirSeparator);const St=G.substr(0,at);at=St.lastIndexOf(this.dirSeparator)+1;const wt=St.substr(at);this.directoryList.find(Yt=>Yt===wt)||this.flushDirectoryList()}}flushDirectoryList(){this.directoryListOutdated=!0}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(o),f.LFG(V.dF))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var y=t(73992),M=t(56293),P=t(64555),K=t(30502),B=t(67293),j=t(17627),tt=t(85046),ot=t(99901),F=t(81171),U=t(89441),z=t(51815),Q=t(93738),dt=t(41495),X=t(15811),m=t(33960),Y=t(43559),D=t(57915),N=t(26575),Z=t(62827),W=t(41221),J=function(rt){return rt[rt.BackNav=0]="BackNav",rt[rt.ForwardNav=1]="ForwardNav",rt[rt.DeleteFile=2]="DeleteFile",rt}(J||{});let st=(()=>{var rt;class he{get fileDataChangeListener(){return this.currentFileData$.asObservable()}get currentFileData(){return this.currentFileData$.getValue()}set currentFileData(G){this.logger.info("Updating metadata"),this.currentFileData$.next(G)}get filesSelectedDataChangeListener(){return this.currentSelectedFilesData$.asObservable()}get currentSelectedFilesData(){return this.currentSelectedFilesData$.getValue()}set currentSelectedFilesData(G){this.currentSelectedFilesData$.next(G)}listenForTrackerEvents(){return this.trackerCallback$.asObservable()}listenForDelayedEvents(){return this.delayedCallback$.asObservable()}isHighlightCanceled(){return this.canceledCallback$.asObservable()}refreshEvent(){return this.refreshEvent$.asObservable()}recentEvent(){return this.recentEvent$.asObservable()}previewPaneEvent(){return this.previewPaneEvent$.asObservable()}lowDiskSpaceEvent(){const G=this.checkDiskSpace().subscribe(()=>{G.unsubscribe()});return this.lowDiskSpaceEvent$.asObservable()}lowDiskSpaceValue(){return this.lowDiskSpaceEvent$.getValue()}captureSaved(){return this.captureSaved$.asObservable()}get previewWindowCloseNotify(){return this.previewWindowCloseNotify$.asObservable()}closePreviewWindow(G){this.previewWindowCloseNotify$.next(G)}constructor(G,at,St,wt,Yt,se,fe,Re,Ee,Le,xe,an,Be,ln){this.bridgeService=at,this.osService=St,this.cacheService=wt,this.sdkService=Yt,this.notifierService=se,this.oscDisplayService=fe,this.telemetry=Re,this.telemetryIgo=Ee,this.translateService=Le,this.dialogHelper=xe,this.datePipe=an,this.gfnInfoService=Be,this.featureSupportService=ln,this.videoPath="",this.thumbWidth=128,this.thumbHeight=128,this.directories=[],this.workingFolder="",this.lastUserSelectedFolder="",this.previewCaller=void 0,this.mostLikelyResolution={width:1920,height:1080},this.currentFileData$=new L.X(null),this.currentSelectedFilesData$=new L.X([]),this.captureSaved$=new L.X(""),this.gameDetails={cmsId:"",drsName:"",drsProfileName:""},this.activeFilter=0,this.fileCounts=new U.uc,this.topLevelCounts=[],this.updatingTracker=!1,this.highlightSummaryIsOpen=!1,this.trackerCallback$=new i.xQ,this.delayedCallback$=new i.xQ,this.canceledCallback$=new i.xQ,this.refreshEvent$=new i.xQ,this.recentEvent$=new i.xQ,this.lowDiskSpaceEvent$=new L.X(!1),this.previewPaneEvent$=new i.xQ,this.previewWindowCloseNotify$=new i.xQ,this.isNvApp=!1,this.logger=G.getLogger("GalleryService"),this.isNvApp=this.featureSupportService.isNvApp()}init(){this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),this.bridgeService.executeCommand(c.Gh.Common.Gallery.GalleryNotifications).pipe((0,B.b)(G=>this.galleryEvent(G))).subscribe(),this.checkDiskSpace().pipe((0,j.P)()).subscribe(),this.gfnInfoService.streamingTerminated().pipe().subscribe(()=>{this.setLastUserSelectedFolder("")}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,tt.h)(G=>!(null==G||!G.appStarted))).subscribe(G=>{this.setLastUserSelectedFolder(""),this.gameDetails.cmsId=G.appStarted.cmsId.toString(),this.gameDetails.drsName=G.appStarted.DRSAppName,this.gameDetails.drsProfileName=G.appStarted.profileName}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,tt.h)(G=>!(null==G||!G.gameExited))).subscribe(G=>{this.onGameExit()}),this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetSettings).pipe((0,E.zg)(G=>(this.checkDiskLimits(G.settings.capacity),G.settings.path?this.initPathItems(G.settings.path).pipe((0,O.U)(at=>G)):(0,p.of)(G))),(0,I.b)(G=>{this.telemetry.updateGallerySettings(G)}),(0,E.zg)(G=>this.featureSupportService.isGFEMode()?this.bridgeService.executeCommand(c.Gh.Common.Gallery.MigrateHighlightsTracker):(0,p.of)(null))).subscribe()}hasAnyEntries(){if(this.topLevelCounts.length>0){let G=0;return this.topLevelCounts.forEach(at=>{G+=at.totalCount}),console.log("gallery entries: ",G),G>0}return!1}checkDiskLimits(G){this.logger.info("Disk Limits: ",G),G.enabled&&G.capacityPercent/100*G.totalDiskSpaceMB<=G.usageMB&&(this.logger.info("Gallery is full"),this.notifierService.show(z.ZJ.GalleryIsFull))}initPathItems(G){this.videoPath=G,this.cacheService.setRecordingPaths(this.videoPath);const at=this.videoPath.split(":")[0];return this.logger.info("Drive Letter: ",at),at.length&&this.getDriveSize(at),this.getFolders().pipe((0,I.b)(()=>{this.logger.info("Initialize complete")}))}pathChanged(){return this.logger.info("Re-initializing Gallery Service"),this.workingFolder="",this.setLastUserSelectedFolder(""),this.directories=[],this.topLevelCounts=[],this.cacheService.flushDirectoryList(),this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetSettings).pipe((0,E.zg)(at=>(this.checkDiskLimits(at.settings.capacity),this.initPathItems(at.settings.path))),(0,ot.h)(!0))}getDriveSize(G){this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetDriveInfo,{drive:G}).subscribe(St=>{this.currentDriveSize=St.totalSpaceMB,this.currentDriveFreeSpace=St.freeSpaceMB,this.logger.info("Drive info: ",St)})}buildPath(G){return""===G?this.videoPath:this.videoPath+this.dirSeparator+G}setWorkingFolder(G){const at=this.buildPath(G);return this.cacheService.getCachedDataCRC(at).pipe((0,E.zg)(St=>this.getUsableData(G)),(0,E.zg)(St=>(this.cacheService.useCacheData(at,!1),(0,p.of)(this.cacheService.files.length))))}getWorkingFolder(){return""!==this.workingFolder&&this.directories.length&&(this.directories.find(at=>at===this.workingFolder)||(this.workingFolder="")),""===this.workingFolder&&this.directories.length&&(this.workingFolder=this.directories[0]),this.workingFolder}setLastUserSelectedFolder(G){this.lastUserSelectedFolder=G}getLastUserSelectedFolder(){return this.lastUserSelectedFolder}getVideoFolder(){return this.videoPath}saveCurrentLocation(G){this.currentLocation=G}getCurrentLocation(){return this.currentLocation}setGalleryThumbSize(G){this.thumbWidth=G,this.thumbHeight=G}populateDirectoryStats(){if(this.directories.length>0&&this.cacheService.directoryListUpdateCounts){this.topLevelCounts=[];const G=[];return this.directories.forEach(at=>{G.push(this.getAppStats(at))}),(0,y.$R)(...G).pipe((0,O.U)(()=>this.directories))}return(0,p.of)(this.directories)}getFolders(){return this.cacheService.getDirectoryList().pipe((0,E.zg)(G=>(this.directories=G,this.populateDirectoryStats())))}showFolderContents(G){return""===G?""===this.workingFolder?this.workingFolder=G=this.directories[0]:G=this.workingFolder:this.workingFolder=G,this.logger.info("Working Folder: ",this.workingFolder),this.setWorkingFolder(G).pipe((0,O.U)(()=>this.cacheService.getCurrentPopFolder()))}getCurrentFolderCount(){return this.fileCounts}getUsableData(G){this.logger.info("GetUsableData Dir: ",G);const at=this.buildPath(G);if(this.cacheService.useCacheData(at,!0))return this.logger.info("GetUsableData - Using cached data"),this.fileCounts=this.cacheService.counts,this.telemetryIgo.setGalleryAccessCached(!0),this.telemetryIgo.setGalleryFolderCounts(this.cacheService.counts.images,this.cacheService.counts.total-this.cacheService.counts.images),(0,p.of)(!0);this.telemetryIgo.setGalleryAccessCached(!1);let St=[];return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetApplicationConfigs,{}).pipe((0,I.b)(wt=>{if(wt&&wt.apps.length){const Yt=wt.apps.find(se=>se.app.profileName===G||se.app.name===G);Yt&&(St=Yt.highlights.map(se=>({name:se.name,displayName:"",count:0,enabled:!0})),St.forEach(se=>{const fe=`highlightLabels.${se.name}`,Re=this.translateService.instant(fe);se.displayName=Re===fe?se.name:Re}))}}),(0,w.K)(()=>(0,p.of)(!1)),(0,E.zg)(()=>this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetAppUGC,{appName:G})),(0,O.U)(wt=>{this.cacheService.resetCurrentPopFolder();const Yt=[],se=this.cacheService.getCurrentPopFolder();let fe=0,Re=0,Ee=0,Le=0;return wt.ugc&&wt.ugc.forEach((xe,an)=>{Re+=xe.fileSubType===c.Yk.Common.Gallery.SubType.InstantReplay?1:0,fe+=xe.fileSubType===c.Yk.Common.Gallery.SubType.Manual?1:0,xe.fileType===c.Yk.Common.Gallery.FileType.video&&xe.fileSubType!==c.Yk.Common.Gallery.SubType.InstantReplay&&xe.fileSubType!==c.Yk.Common.Gallery.SubType.Manual&&xe.fileSubType!==c.Yk.Common.Gallery.SubType.Highlight&&(fe+=1),Ee+=xe.fileType===c.Yk.Common.Gallery.FileType.image?1:0,Le+=xe.fileSubType===c.Yk.Common.Gallery.SubType.Highlight?1:0;const Be=xe.path.lastIndexOf(this.dirSeparator),tn={name:xe.path.substr(Be+1),type:xe.fileType,subtype:xe.fileSubType,source:xe.fileSource,thumbnail:""};Yt.push(tn);const Kn={fullFilename:xe.path,file:tn,folder:G,index:an,duration:xe.duration,date:xe.date,fileSize:xe.fileSizeKB.toString(),audiotype:xe.audiotype,hlName:xe.highlightName,hlId:xe.id,hlGroup:xe.highlightGroupId,cancel:!1,data:null};se.push(Kn),St.some($n=>{if($n.name===xe.highlightName)return $n.count++,!0})}),this.cacheService.files=Yt,this.cacheService.setCacheLoadedPartial(at),this.logger.info("Files: "+wt.ugc.length+" Highlights : "+Le+" Recordings: "+fe+" IR: "+Re+" Images: "+Ee),this.fileCounts={total:wt.ugc.length,highlights:Le,videos:fe,instantReplays:Re,images:Ee,highlightBreakDown:St},this.telemetryIgo.setGalleryFolderCounts(Ee,wt.ugc.length-Ee),this.cacheService.setFileCounts(this.fileCounts,at),!0}))}getAppStats(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetAppStats,{appName:G}).pipe((0,O.U)(St=>{this.logger.info("App Stats: "+G+" SS: "+St.screenshots+" V: "+St.videos);const wt=this.topLevelCounts.findIndex(Yt=>Yt.folder===G);return wt>=0?this.topLevelCounts[wt].totalCount=St.screenshots+St.videos:this.topLevelCounts.push({folder:G,totalCount:St.screenshots+St.videos}),St}))}getMetaData(G,at=!0){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFileMetadata,{file:G,width:at?this.thumbWidth:void 0,height:at?this.thumbHeight:void 0})}getImageFileDimensions(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetImageFileDimensions,{file:G})}getFileData(G,at,St){const wt=this.cacheService.getCurrentPopFolder();return void 0===wt||wt.length<=at||G!==wt[0].folder||""===wt[at].file.name?(0,p.of)(void 0):this.getMetaData(wt[at].fullFilename,St).pipe((0,j.P)(),(0,O.U)(Yt=>{const se=this.cacheService.getCurrentPopFolder();if(void 0===se||se.length<=at||G!==se[0].folder)return;const fe=se[at],Re=se[at].file,Ee=void 0===Yt.audiotype?U.$K.Unknown:Yt.audiotype;return Re.type===U.A2.Video&&Re.subtype===U.dM.Normal&&Ee===c.Yk.Common.Gallery.AudioType.Separate&&(Re.subtype=U.dM.Mta),fe.audiotype=Ee,fe.duration=void 0===Yt.duration?"":Yt.duration,fe.memeTop=Yt.memeInfo?Yt.memeInfo.topBarText:"",fe.memeBottom=Yt.memeInfo?Yt.memeInfo.bottomBarText:"",fe.data=void 0===Yt.thumbnail?null:Yt.thumbnail,fe}),(0,w.K)(Yt=>(this.logger.error("GetMetaData failed: ",Yt),(0,p.of)(void 0))))}fillInFileData(G){return this.getFileData(G.folder,G.index,!0)}removeItem(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.RemoveGalleryItem,{file:G,forceDelete:!1}).pipe((0,E.zg)(St=>{const wt=G.lastIndexOf(this.dirSeparator),Yt=G.substr(wt+1,G.length-1);return this.logger.info("File deleted: ",Yt),this.cleanupLocalHighlightsListAfterDelete(G),(0,p.of)(!0)}),(0,w.K)(St=>(this.logger.info("File remove failed: ",St),this.notifierService.show(z.ZJ.FailedToRemove,"",""),(0,p.of)(!1))))}getThumbnailForFile(G,at=70,St=70){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetThumbnail,{file:G,width:at,height:St}).pipe((0,O.U)(Yt=>Yt.thumbnail))}eventCaptureSaved(G){const at=G.captureSaved.ugc.fileSource===c.Yk.Common.Gallery.Source.GFE_SDK&&G.captureSaved.ugc.fileSubType===c.Yk.Common.Gallery.SubType.Highlight,St=G.captureSaved.ugc.fileType===c.Yk.Common.Gallery.FileType.image,wt=G.captureSaved.ugc.fileSource===c.Yk.Common.Gallery.Source.GFE_Ansel;if(G.captureSaved.unannounced||this.getThumbnailForFile(G.captureSaved.ugc.path).subscribe(Re=>{if(at){const Ee=`highlightLabels.${G.captureSaved.ugc.highlightName}`;this.translateService.get(Ee).subscribe(Le=>{Le===Ee&&(Le=G.captureSaved.ugc.highlightName),this.notifierService.show(z.ZJ.HighlightsSaved,Le,"","",Re)})}else if(wt){let Ee="";switch(G.captureSaved.ugc.fileSubType){case c.Yk.Common.Gallery.SubType.Normal_Ansel:Ee="nvcamera.screenshot";break;case c.Yk.Common.Gallery.SubType.SuperResolution:case c.Yk.Common.Gallery.SubType.SuperResolution_Oversized:Ee="nvcamera.highResolutionPhoto";break;case c.Yk.Common.Gallery.SubType.SubType_360Mono:Ee="nvcamera.360PhotoSphere";break;case c.Yk.Common.Gallery.SubType.Stereo:Ee="nvcamera.screenshot3D";break;case c.Yk.Common.Gallery.SubType.SubType_360Stereo:Ee="nvcamera.360PhotoSphere3D"}this.notifierService.show(z.ZJ.HighlightsSaved,Ee,"","",Re)}else St?this.notifierService.show(z.ZJ.ScreenshotSaved,"","","",Re):"Manual"===G.captureSaved.ugc.fileSubType?this.notifierService.show(z.ZJ.RecordStopped,"","","",Re):"InstantReplay"===G.captureSaved.ugc.fileSubType&&this.notifierService.show(z.ZJ.InstantReplaySaved,"","","",Re)}),this.highlightSummaryIsOpen?void 0===this.highlightsSummaryData.highlights.find(Re=>Re.path===G.captureSaved.ugc.path)&&this.highlightsSummaryData.highlights.push({id:G.captureSaved.ugc.id,path:G.captureSaved.ugc.path,fileType:G.captureSaved.ugc.fileType,highlightdefinitionId:G.captureSaved.ugc.highlightDefinitionId,highlightName:G.captureSaved.ugc.highlightName,highlightGroupId:G.captureSaved.ugc.highlightGroupId,highlightTags:G.captureSaved.ugc.highlightTags,highlightSignificance:G.captureSaved.ugc.highlightSignificance}):this.cacheService.updateDirectoryList(G.captureSaved.ugc.path),at){var Yt,se,fe;const Re={id:G.captureSaved.ugc.id,groupId:G.captureSaved.ugc.highlightGroupId,filename:G.captureSaved.ugc.path,name:G.captureSaved.ugc.highlightName,cancel:!1};if(this.delayedCallback$.observers.length){const Ee=G.captureSaved.ugc.DRSProfileName,Le=0===this.directories.length,xe=!Le&&void 0===this.directories.find(ln=>ln===Ee),an=!Le&&!xe&&this.workingFolder!==Ee,Be=Le||xe||an;if(this.logger.info("Special cases: "+Le+" "+xe+" "+an),Be){const ln=this.workingFolder;this.showFolderContents(G.captureSaved.ugc.DRSProfileName).subscribe(()=>{this.saveDelayedHighlight(Re),this.workingFolder=ln})}else this.saveDelayedHighlight(Re)}this.telemetry.sendHighlightCapture({shortName:this.sdkService.sdkInstance.appShortName},this.sdkService.sdkInstance.sdkVersion,this.durationToSeconds(G.captureSaved.ugc.duration),G.captureSaved.ugc.highlightDefinitionId,"image"===G.captureSaved.ugc.fileType?Q.zc.image:Q.zc.video,Q.el.Success,{cmsId:null==G||null===(Yt=G.captureSaved)||void 0===Yt||null===(Yt=Yt.ugc)||void 0===Yt?void 0:Yt.cmsId.toString(),drsName:null==G||null===(se=G.captureSaved)||void 0===se||null===(se=se.ugc)||void 0===se?void 0:se.DRSName,drsProfileName:null==G||null===(fe=G.captureSaved)||void 0===fe||null===(fe=fe.ugc)||void 0===fe?void 0:fe.DRSProfileName})}return this.captureSaved$.observers.length&&this.captureSaved$.next(G.captureSaved.ugc.path),!at&&this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:G.captureSaved.ugc.DRSProfileName}),this.getFolders().pipe((0,I.b)(Re=>this.updateRecentList()),(0,O.U)(Re=>!0))}durationToSeconds(G){const at=G.lastIndexOf(":"),St=G.slice(at+1),wt=G.slice(0,at),Yt=wt.lastIndexOf(":"),se=wt.slice(Yt+1),fe=G.slice(0,Yt);return Number(St)+60*Number(se)+3600*Number(fe)}updateRecentList(){this.recentEvent$.observers.length&&this.recentEvent$.next()}updateAfterFileCreation(G){this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:G}),this.updateRecentList(),this.logger.info("Update Recent and Gallery complete")}getMissingItem(G){const at=G.filename;let St=at.lastIndexOf(this.dirSeparator);const wt=at.slice(St+1),Yt=at.slice(0,St);St=Yt.lastIndexOf(this.dirSeparator);const se=Yt.slice(St+1);if(this.workingFolder!==se)return(0,p.of)(void 0);const fe=this.cacheService.getCurrentPopFolder(),Re=fe.findIndex(Ee=>G.id===Ee.hlId);return-1===Re?(this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:se}),(0,p.of)(void 0)):(fe[Re].fullFilename=at,fe[Re].file.name=wt,this.getFileData(se,Re,!0))}getCurrentDropdownCount(G){return this.getAppStats(G).pipe((0,O.U)(at=>{const St=this.topLevelCounts.findIndex(wt=>wt.folder===G);return-1!==St?(this.topLevelCounts[St].totalCount=at.screenshots+at.videos,this.topLevelCounts[St].totalCount):0}))}saveDelayedHighlight(G){if(G.cancel)return this.logger.info("Canceling Highlight"),void this.canceledCallback$.next({hlEvent:U.ZB.HIGHLIGHT_COMPLETED,args:G});const at=this.getMissingItem(G).subscribe(St=>{St&&(this.delayedCallback$.next({hlEvent:U.ZB.HIGHLIGHT_COMPLETED,args:St}),at.unsubscribe())})}updateFolderSync(G,at){return new M.y(St=>{this.updateFolder(G,at).subscribe(()=>{St.next(),St.complete(),this.logger.info("Complete")})})}updateFolder(G,at){let St={};if(at===U.Sc.Highlights)St={userGalleryPath:G};else if(at===U.Sc.Temporary){const Yt=G.lastIndexOf(this.dirSeparator),se=G.length-1;Yt===se&&(G=G.slice(0,se)),St={tempFolderPath:G}}return this.bridgeService.executeCommand(c.Gh.Common.Gallery.SetSettings,{settings:St}).pipe((0,O.U)(()=>!0),(0,ot.h)(!0))}galleryEvent(G){if(G){if(G.captureSaved)return this.logger.info("Gallery event: CaptureSaved:",G),this.eventCaptureSaved(G);if(G.openSummary)this.logger.info("Gallery event: OpenSummary"),this.eventOpenSummary(G);else if(G.highlightCanceled)this.logger.info("Gallery event: HighlightCanceled"),this.eventHighlightCanceled(G);else if(G.ugcDeleted)this.logger.info("Gallery event: UgcDeleted"),this.eventUGCDeleted(G);else if(G.checkDiskSpace)this.logger.info("Gallery event: CheckDiskSpace"),this.lowDiskSpace(G);else if(void 0!==G.galleryIsFull)this.logger.info("Gallery event: GalleryIsFull"),!0===G.galleryIsFull&&this.notifierService.show(z.ZJ.GalleryIsFull);else if(G.highlightCaptureFailed)this.logger.info("Gallery event: HighlightCaptureFailed"),this.checkCaptureFailure(G);else if(G.galleryPathUpdateStatus){switch(G.galleryPathUpdateStatus.status){case c.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateInProgress:this.updatingTracker=!0;break;case c.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete:case c.Yk.Common.Gallery.GalleryPathUpdateStatus.CancelUpdateComplete:this.updatingTracker=!1}this.trackerCallback$.next({trackerEvent:G.galleryPathUpdateStatus.status})}else this.logger.info("Unknown or unhandled Event Type: ",G)}else this.logger.info("Event: undefined or null");return(0,p.of)(!1)}galleryTrackerChangePath(){return new M.y(G=>{this.pathChanged().subscribe(()=>{G.next(),G.complete(),this.logger.info("ChangePath Complete")})})}getRecentData(G,at){this.setGalleryThumbSize(G);const St=[];return St.length=0,this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetRecentUGC,{count:at}).pipe((0,E.zg)(se=>{if(!se||!se.recents||!se.recents.length)return this.logger.info("No recent items to view!"),(0,y.$R)((0,p.of)(!1));const fe=Math.min(at,se.recents.length);for(let Ee=0;Ee<fe;Ee++){const Le=se.recents[Ee].path;let xe=Le.lastIndexOf(this.dirSeparator);const an=Le.substr(xe+1,Le.length-1);let Be=Le.substr(0,xe);xe=Be.lastIndexOf(this.dirSeparator),Be=Be.substr(xe+1,Be.length-1);const tn={fullFilename:Le,file:{name:an,type:se.recents[Ee].fileType,subtype:se.recents[Ee].fileSubType,source:se.recents[Ee].fileSource,thumbnail:""},folder:Be,index:Ee,duration:se.recents[Ee].duration,date:se.recents[Ee].date,fileSize:se.recents[Ee].fileSizeKB.toString(),audiotype:se.recents[Ee].audiotype,hlName:se.recents[Ee].highlightName,hlId:se.recents[Ee].id,hlGroup:se.recents[Ee].highlightGroupId,cancel:!1,data:null};St.push(tn)}this.logger.info("Viewing "+St.length+" recent items");const Re=[];return St.forEach(Ee=>{Re.push(this.getRecentMetaData(Ee,G))}),(0,y.$R)(...Re)}),(0,O.U)(()=>(this.logger.info("Recent MetaData complete!"),St)))}setHighlightsSummaryOpen(G){this.highlightSummaryIsOpen=G}getRecentMetaData(G,at){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFileMetadata,{file:G.fullFilename,width:at,height:at}).pipe((0,O.U)(wt=>void 0===wt.fileType?(this.logger.info("metadata not available for file ",G.fullFilename),!1):("video"===wt.fileType&&void 0!==G.duration&&(G.duration=wt.duration),G.date=wt.date,G.fileSize=wt.fileSizeKB+"",G.audiotype=wt.audiotype,G.data=wt.thumbnail,!0)))}eventOpenSummary(G){const at=this.sdkService.sdkInstance.profileName;if(!at||0===at.length)return void this.logger.error("Missing game name");this.highlightSummaryIsOpen=!0,this.highlightsSummaryData={sdkVersion:this.sdkService.sdkInstance.sdkVersion,profileName:at,appShortName:this.sdkService.sdkInstance.appShortName,name:this.sdkService.sdkInstance.name,highlights:G.openSummary.ugc};const St={callbackData:JSON.stringify({openedFromSDK:!0})};this.telemetryIgo.beginStartupTimer(Q.bq.highlightsButton),this.oscDisplayService.openOSC("sidebar/gallery",St)}eventHighlightCanceled(G){this.canceledCallback$.observers.length&&this.saveDelayedHighlight({id:G.highlightCanceled.highlight.id,groupId:G.highlightCanceled.highlight.groupId,filename:"",name:"",cancel:!0}),this.telemetryIgo.sendHighlightCancelled({shortName:this.sdkService.sdkInstance.appShortName},this.sdkService.sdkInstance.name,this.sdkService.sdkInstance.sdkVersion)}eventUGCDeleted(G){const at=G.ugcDeleted.ugc,St=at.path;let wt=St.lastIndexOf(this.dirSeparator);const Yt=St.slice(0,wt);wt=Yt.lastIndexOf(this.dirSeparator);const se=Yt.slice(wt+1);this.getFolders().subscribe(()=>this.updateRecentList()),this.workingFolder===se&&(-1===this.cacheService.getCurrentPopFolder().findIndex(Ee=>at.id===Ee.hlId)||this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:se,filename:St}))}lowDiskSpace(G){this.lowDiskSpaceEvent$.next(G.checkDiskSpace.lowDiskSpace)}checkCaptureFailure(G){this.logger.info("checkCaptureFailure: ",G),(G.highlightCaptureFailed.errorCode===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_DISC_SPACE||G.highlightCaptureFailed.errorCode===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_BOUNDS||G.highlightCaptureFailed.errorCode===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_GALLERY_SPACE)&&(this.notifierService.show(z.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights"),this.isNvApp&&this.telemetry.sendHighlightCapture({shortName:this.sdkService.sdkInstance.appShortName},this.sdkService.sdkInstance.sdkVersion,null,null,null,G.highlightCaptureFailed.errorCode.toString()))}onGameExit(){this.gameDetails={cmsId:"",drsName:"",drsProfileName:""}}checkDiskSpace(){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.CheckDiskSpace,{}).pipe((0,O.U)(at=>(this.lowDiskSpace({checkDiskSpace:{lowDiskSpace:at.lowDiskSpace}}),at.lowDiskSpace)))}cleanupLocalHighlightsListAfterDelete(G){if(this.highlightsSummaryData&&this.highlightsSummaryData.highlights.length>0){const at=this.highlightsSummaryData.highlights.find(St=>St.path===G);if(at){this.logger.info("Highlight to delete: ",at);const St=this.highlightsSummaryData.highlights.indexOf(at);St>-1&&this.highlightsSummaryData.highlights.splice(St,1)}}}getHighlightsToUse(G){return G?(this.highlightSummaryIsOpen=!0,this.highlightsSummaryData):{sdkVersion:"",profileName:"",appShortName:"",name:"",highlights:void 0}}generateGalleryFilename(G,at,St=new Date){return`${this.videoPath}${this.dirSeparator}${G}${this.dirSeparator}${G} ${this.datePipe.transform(St,"yyyy.MM.dd - HH.mm.ss.SS")}.${at}`}previewPaneSendEvent(G){this.previewPaneEvent$.next(G)}setPreviewCaller(G){this.previewCaller=G}getPreviewCaller(){return this.previewCaller}showDeleteSnackbar(G){let at=!0;const St=G.length,wt=1===St?"confirmation.deletedTitle":"confirmation.deletedTitleMulti";return G.length<=0?(0,p.of)(!1):new M.y(fe=>{(0,P.aj)([this.translateService.get(wt,{arg:St}),this.translateService.get("confirmation.undo")]).pipe((0,E.zg)(([Re,Ee])=>{const Le=this.dialogHelper.openSnackBar(Re,Ee);return Le.onAction().subscribe(()=>{at=!1}),Le.afterDismissed()}),(0,E.zg)(()=>(0,K.D)(G)),(0,E.zg)(Re=>at?(this.telemetryIgo.sendGalleryFileRemoved(Re),this.removeItem(Re.fullFilename)):(0,p.of)(!1)),(0,F.Z)()).subscribe(Re=>{fe.next(Re),fe.complete()})})}getCurrentGameDetails(){return this.gameDetails}sendDiskSpaceChangedTelemetry(G){this.featureSupportService.isGFEMode()&&this.telemetry.sendIGOSettings(this.gameDetails,Q.IN,G?"true":"false")}sendDiskSpaceSliderChangedTelemetry(G){this.featureSupportService.isGFEMode()&&this.telemetry.sendIGOSettings(this.gameDetails,Q.Vu,G.toString())}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(V.dF),f.LFG(o),f.LFG(a),f.LFG(dt.b),f.LFG(z.nG),f.LFG(x.v),f.LFG(X.l),f.LFG(m.b),f.LFG(Y.sK),f.LFG(D.M),f.LFG(N.uU),f.LFG(Z.In),f.LFG(W.l))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var lt=t(77665),gt=t(62149),vt=t(23675),k=t(46939),pt=t(21120);let Xt=(()=>{var rt;class he{constructor(G,at,St,wt,Yt){var se;this.injector=at,this.hotkeyService=St,this.configuration=wt,this.hotkeyShareService=Yt,this.instreamPasteService=null,this.logger=G.getLogger("IGO CustomPasteService"),null!==(se=this.configuration)&&void 0!==se&&null!==(se=se.client)&&void 0!==se&&se.needsDialogForInStreamPaste&&(this.instreamPasteService=this.injector.get(gt.ri))}init(){this.logger.info("Initializing CustomPasteService"),this.hotkeyShareService.removeFromIgnoredHotkeysSet(C.sW.InStreamPaste),this.hotkeyService.listen(C.sW.InStreamPaste).pipe((0,vt.p)(333),(0,E.zg)(()=>this.instreamPasteService.isInStreamingPasteEnabled.pipe((0,k.q)(1)))).subscribe(G=>{this.logger.info("In Stream Paste Window opening triggered"),G?(this.logger.info("In Stream Paste feature is enabled, opening Clipboard window"),this.instreamPasteService.initPasteInputHandler()):this.logger.info("In Stream Paste feature is disabled")})}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(f.zs3),f.LFG(C.y1),f.LFG(pt.VKt),f.LFG(_.q))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var It=t(51612),Nt=t(60385);let te=(()=>{var rt;class he{constructor(G,at,St,wt,Yt){this.bridgeService=at,this.hotkeyService=St,this.oscDisplayService=wt,this.igoConfig=Yt,this.throttleMs=333,this.$webcamState=new L.X(!1),this.webcamInfo={present:!1,enabled:!1,visible:!1,preview:!1,queuePreview:!1,position:c.Yk.Share.Shareserver.OverlayPositionEnum.rightTop,size:c.Yk.Share.Shareserver.OverlaySizeEnum.small},this.logger=G.getLogger("WebcamService")}init(){if("GFE"===this.igoConfig.branding){this.hotkeyService.listen(C.sW.CameraToggle).pipe((0,vt.p)(this.throttleMs)).subscribe(()=>{this.toggleWebcam()}),this.initializeWebcam(),this.getWebcamOverlaySettings();let G=!1;this.oscDisplayService.getCurrentOpenState().subscribe(at=>{G&&this.getCurrentWebcamStates(at),G=!0})}}getCurrentWebcamStates(G){"open"===G&&!0===this.webcamInfo.preview?this.enableWebcamPreview(!1):"closed"===G&&(this.webcamInfo.preview=this.webcamInfo.queuePreview,this.enableWebcamPreview(this.webcamInfo.queuePreview))}initializeWebcam(){this.getWebcamPresent().subscribe(G=>{this.logger.info("Webcam present: ",G),this.webcamInfo.present=G,G&&(this.getWebcamEnable().subscribe(at=>{this.webcamInfo.enabled=at,this.$webcamState.next(this.webcamInfo.enabled),this.logger.info("Webcam Enabled: ",at)}),this.getWebcamShown().subscribe(at=>{this.webcamInfo.visible=at,this.logger.info("Webcam Shown: ",at)}),this.getWebcamPreviewState().subscribe(at=>{this.webcamInfo.preview=this.webcamInfo.queuePreview=at,this.logger.info("Webcam Preview: ",at)}))})}getWebcamState(){return this.$webcamState.asObservable()}getWebcamPresent(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetWebcamPresent).pipe((0,O.U)(G=>(this.logger.info("GetWebcamPresent returns: ",G),G.present),G=>(this.logger.info("GetWebcamPresent error: ",G),!1)))}getWebcamEnable(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetWebcamEnable).pipe((0,O.U)(G=>(this.logger.info("GetWebcamEnable returns: ",G),G.status),G=>(this.logger.info("GetWebcamEnable error: ",G),!1)))}enableWebcam(G){this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableWebcam,{status:G}).subscribe(St=>{this.logger.info("EnableWebcam returns: ",St),this.webcamInfo.enabled=G},St=>{this.logger.info("EnableWebcam error: ",St)})}getWebcamShown(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetWebcamShown).pipe((0,O.U)(G=>(this.logger.info("GetWebcamShown returns: ",G),G.shown),G=>(this.logger.info("GetWebcamShown error: ",G),!1)))}toggleWebcam(){this.bridgeService.executeCommand(c.Gh.Share.Shareserver.ToggleWebcam).subscribe(G=>{this.logger.info("ToggleWebcam returns: ",G),this.webcamInfo.enabled=!this.webcamInfo.enabled,this.$webcamState.next(this.webcamInfo.enabled)},G=>{this.logger.info("ToggleWebcam error: ",G)})}getWebcamPreviewState(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetWebcamPreviewState).pipe((0,O.U)(G=>(this.logger.info("GetWebcamPreviewState returns: ",G),G.enabled),G=>(this.logger.info("GetWebcamPreviewState error: ",G),!1)))}enableWebcamPreview(G){this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableWebcamPreview,{enable:G}).subscribe(St=>{this.logger.info("EnableWebcamPreview returns: ",St)},St=>{this.logger.info("EnableWebcamPreview error: ",St)})}queueWebcamPreview(G){this.webcamInfo.queuePreview=G}getWebcamOverlaySettings(){this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetIndicatorOverlaySettings,{id:c.Yk.Share.Shareserver.IndicatorEnum.webcam}).subscribe(at=>{this.logger.info("GetIndicatorOverlaySettings returns: ",at),this.webcamInfo.position=at.position,this.webcamInfo.size=at.size},at=>{this.logger.info("GetIndicatorOverlaySettings error: ",at)})}setWebcamOverlaySettings(G,at){this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetIndicatorOverlaySettings,{id:c.Yk.Share.Shareserver.IndicatorEnum.webcam,enable:this.webcamInfo.enabled,position:G,size:at}).subscribe(wt=>{this.logger.info("SetIndicatorOverlaySettings returns: ",wt),this.webcamInfo.position=G,this.webcamInfo.size=at},wt=>{this.logger.info("SetIndicatorOverlaySettings error: ",wt)})}getWebcamInfo(){return this.webcamInfo}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(V.dF),f.LFG(C.y1),f.LFG(x.v),f.LFG(l.g))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var bt=t(89718),Vt=t(33994),ut=t(92130),re=t(5717),Kt=t(36520),jt=t(50183),Wt=t(13303),oe=t(67410),Qt=t(37717),Pt=t(55617),Ut=t(90786),Tt=t(79313),it=t(47178),Mt=t(26867),zt=t(89857),ft=t(61674),ve=t(52109),Ce=t(40924),De=function(rt){return rt.anselEnabledResponse="anselEnabledResponse",rt.anselEnabledState="anselEnabledState",rt.procInfo="procInfo",rt.captureTypesList="captureTypesList",rt.sdkIntegration="sdkIntegration",rt.rollRange="rollRange",rt.fovRange="fovRange",rt.setRollFovResponse="setRollFovResponse",rt.screenResolution="screenResolution",rt.highResResolutions="highResResolutions",rt.panoramaResolutions="panoramaResolutions",rt.captureShotStarted="captureShotStarted",rt.captureShotProgress="captureShotProgress",rt.captureShotFinished="captureShotFinished",rt.captureShotProcessingFinished="captureShotProcessingFinished",rt.captureShotCancel="captureShotCancel",rt.features="features",rt.filtersList="filtersList",rt.resetFilter="resetFilter",rt.insertFilter="insertFilter",rt.removeFilter="removeFilter",rt.moveFilter="moveFilter",rt.filterStackInfo="filterStackInfo",rt.filterDetails="filterDetails",rt.setFilterAttribute="setFilterAttribute",rt.setFovResponse="setFovResponse",rt.setRollResponse="setRollResponse",rt.fovValue="fovValue",rt.resetEntireStack="resetEntireStack",rt.nvCameraReady="nvCameraReady",rt.anselStatusReport="anselStatusReport",rt.ngxAIUpResProgress="ngxAIUpResProgress",rt.ngxAIUpResCaptureDone="ngxAIUpResCaptureDone",rt.cancelPendingOperations="cancelPendingOperations",rt}(De||{}),ze=function(rt){return rt[rt.slider=1]="slider",rt[rt.boolean=2]="boolean",rt[rt.button=3]="button",rt[rt.list=4]="list",rt[rt.edit=5]="edit",rt[rt.label=6]="label",rt[rt.pulldown=7]="pulldown",rt[rt.radiobutton=9]="radiobutton",rt}(ze||{}),$e=function(rt){return rt.HotKey="HK",rt.Ui="UI",rt}($e||{}),Se=function(rt){return rt.Top="Top",rt.Bottom="Bottom",rt}(Se||{}),ce=function(rt){return rt.MoveUp="MoveUp",rt.MoveDown="MoveDown",rt.Add="Add",rt.Delete="Delete",rt.Clicked="Clicked",rt.ApplyStyle="ApplyStyle",rt.None="None",rt}(ce||{}),ge=function(rt){return rt.Keyboard="Keyboard",rt.Mouse="Mouse",rt.Gamepad="Gamepad",rt}(ge||{}),qt=function(rt){return rt.UpdateStyleFail="updateStyleFail",rt.ApplyStyleFail="applyStyleFail",rt.RemoveFilterSuccess="RemoveFilterSuccess",rt.CaptureFinished="CaptureFinished",rt.CaptureFailed="CaptureFailed",rt}(qt||{}),Ct=function(rt){return rt.SUCCESS="Success",rt.ERROR_RESTART="Error occured, please restart the game",rt.ERROR_SUPPORTED_GAME="Supported game required",rt.ERROR_SESSION_NOT_ALLOWED="Session not allowed",rt.ERROR_TIMEOUT="Timeout has occurred",rt.ERROR_SYSTEM_OFFLINE="System is offline",rt}(Ct||{});const Gt={GPUArchitecture:"0x00000160",ExGPUArchImplementation:[8,7],OSBuildNumber:17134};var Zt=function(rt){return rt[rt.KeyZ=0]="KeyZ",rt[rt.KeyX=1]="KeyX",rt[rt.KeyY=2]="KeyY",rt[rt.KeyW=3]="KeyW",rt[rt.KeyS=4]="KeyS",rt[rt.KeyA=5]="KeyA",rt[rt.KeyD=6]="KeyD",rt}(Zt||{});let ee=(()=>{var rt;class he{get pageLaunchStart(){return this._pageLaunchStart}set pageLaunchStart(G){this._pageLaunchStart=G}getFetchedSystemInfo(){return this.systemInfo}get pageLaunchMode(){return this._pageLaunchMode}set pageLaunchMode(G){this._pageLaunchMode=G}get currentGameInfo(){if(this.igoConfig.GFNCefClient){const G=this.gfnInfoService.getstreamerConfig();return this.currentGameStreamInfo={procId:void 0,cmsId:null==G?void 0:G.cmsId,drsName:void 0,drsProfileName:void 0,shortName:null==G?void 0:G.shortName,drsWhitelist:void 0},this.logger.info("Current Streaming Game:",this.currentGameStreamInfo),this.currentGameStreamInfo}return this.currentGFEGameInfo}passFilterStateToTelemetry(){var G,at,St;this.telemetryService.updateAnselFilterAppliedField((null===(G=this.ppeFiltersState)||void 0===G?void 0:G.deepDvc)||(null===(at=this.ppeFiltersState)||void 0===at?void 0:at.nis)||(null===(St=this.ppeFiltersState)||void 0===St?void 0:St.trueHdr)||this.isModsAppliedCurrently)}updatePpeState(G,at){switch(G){case Ce.A2:this.ppeFiltersState.deepDvc=at;break;case Ce.dQ:this.ppeFiltersState.nis=at;break;case Ce.y5:this.ppeFiltersState.trueHdr=at;break;default:return void this.logger.error("Incorrect filter ID passed")}this.passFilterStateToTelemetry()}constructor(G,at,St,wt,Yt,se,fe,Re,Ee,Le,xe,an,Be,ln,tn,Kn,$n,mn,fn){this.injector=G,this.igoConfig=at,this.loggingService=St,this.bridgeService=wt,this.hotkeyService=Yt,this.oscDisplayService=se,this.translateService=fe,this.shadowPlayService=Re,this.galleryService=Ee,this.localeService=Le,this.telemetryService=xe,this.telemetryIgoService=an,this.oscNotificationService=Be,this.dialogHelperService=ln,this.dbService=tn,this.networkStatusService=Kn,this.systemInfoService=$n,this.gfnInfoService=mn,this.featureSupportService=fn,this.gfnRTSPAccountedLatency=3e3,this.nvCameraStrictTimeout=250,this.nvCameraDefaultTimeout=2e3,this.nvCameraRelaxedTimeout=15e3,this.throttleDuration=500,this.nvCameraMenuOpenTimeout=3e3,this.dbStorageName="NvCamera",this.filterPresetsStorageKeyName="FilterPresets_v1",this.previewSupported=!0,this.freestylePreviewPrefix="Preview_",this.freestylePreviewExtension=".png",this.previewInProgress=!1,this.isNvCameraEnabled=!1,this.isGameFilterEnabled=!1,this.isPhotoModeEnabled=!1,this.isRedirectionEnable=!1,this.notifications$=new i.xQ,this.currentUIMode=void 0,this.currentProcessInfo=void 0,this.currentGameStreamInfo=void 0,this.currentGFEGameInfo=void 0,this.currentGameChromaInfo=void 0,this.currentFreestyleGameInfo=void 0,this.systemInfo=void 0,this.isDevServer=!1,this.filterPresetsData=void 0,this.isModsAppliedCurrently=!1,this.isAIUpresSupported=void 0,this.isNvCameraReady=!1,this.nvcameraOperationUnderProgress=!1,this.uiRunning=new L.X(!1),this.gameFilterStyleToggleHotkey=new L.X(""),this.cachedFeaturesAvailable=void 0,this.currentGameSlots=void 0,this.keyMatchCount=[0,0],this.invalidSequence=[!1,!1],this.sourceTrigger=$e.HotKey,this.snackBarRef=void 0,this.restartRequired=!1,this.statusOfCaptureEnhance=!0,this.isSystemOnline=!1,this.nvCameraTimedOut=!1,this.gameFilterDisable=new L.X(!0),this.photoModeDisable=new L.X(!0),this.previewPaths=[],this.panningUsed=!1,this.panningWithGC=!1,this.panningWithKB=!1,this.panningWithMouse=!1,this.usedController=!1,this.usedKeyboard=!1,this.usedMouse=!1,this.gridUsed=!1,this.menuLaunchTime=0,this.previousSlotApplied=-1,this.isAppStartedReceived=!1,this.gameFilterMenu=!1,this.slotsUsed=new Set,this.navigationInputDevice={KEYBOARD:!1,MOUSE:!1,GAMEPAD:!1},this.dialogRef=void 0,this.menuCloseInProgress$=new L.X(!1),this.gameDetails={cmsId:"",drsName:"",drsProfileName:""},this.isAIDVCEnabled=!1,this.isAIHDREnabled=!1,this.isNIS2Enabled=!1,this.ppeFiltersState={nis:!1,deepDvc:!1,trueHdr:!1},this.lastSlotChanged$=new i.xQ,this.modsAppliedOnGameLaunch$=new i.xQ,this.nvcameraGameStarted$=new i.xQ,this._pageLaunchStart=0,this._pageLaunchMode=ve.FE.UsingUI,this.alertDialogData={title:"nvcamera.GameFilter",query:"",queryParam:{arg:""},action1:void 0,action2:void 0,spinner:void 0,progressBar:void 0,progressPercentage:void 0},this.preResetSessionData={uiMode:void 0,modsApplied:!1,currentGameInfo:void 0},this.appConfig=null,this.streamerStateSubscription=void 0,this.featureResult={gameFilterSupport:!1,photoModeSupport:!1},this.chromaDBResult=void 0,this.globalToggleChangedFromIGO$=new i.xQ,this.isGameRestartRequestedfromCTA=!1,this.logger=this.loggingService.getLogger("NvCameraService"),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName),this.igoConfig.GFNCefClient||(this.lcarsService=this.injector.get(It.z))}init(){return this.logger.info("Initialize , feature support: ",this.igoConfig.NvCameraFeaturesEnabled),this.igoConfig.GFNCefClient&&(this.nvCameraStrictTimeout+=this.gfnRTSPAccountedLatency,this.nvCameraDefaultTimeout+=this.gfnRTSPAccountedLatency,this.nvCameraRelaxedTimeout+=this.gfnRTSPAccountedLatency,this.appConfig=this.injector.get(pt.VKt),this.appConfig||this.logger.info("ERROR:: Failed to obtain appConfig")),this.getSystemInfo().subscribe(G=>{this.logger.info("System Info: ",G)}),this.igoConfig.GFNCefClient&&this.updateStreamerState(),this.checkFeatureSupport().toPromise().then(G=>(this.logger.info("Photo Mode supported = ",this.isPhotoModeSupported()),this.logger.info("Game Filter supported = ",this.isGameFilterSupported()),this.logger.info("initialized"),!0),G=>(this.logger.error("failed to initialize, error: ",G.message),!1))}queryChromaDB(){return this.igoConfig.GFNCefClient?this.chromaDBResult?(this.logger.info("Skipping Chroma query, already populated:",this.chromaDBResult),(0,p.of)(this.chromaDBResult)):this.isChromaApproved():(this.chromaDBResult={photoModeSupport:this.isPhotoModeSupported(),gameFilterSupport:this.isGameFilterSupported()},(0,p.of)(this.chromaDBResult))}isChromaApproved(){var G,at;return this.isDevServer?(this.logger.info("Skipping launch checks, isDevServer: ",this.isDevServer),this.chromaDBResult={gameFilterSupport:!0,photoModeSupport:!0},(0,p.of)(this.chromaDBResult)):null!==(G=this.currentGameInfo)&&void 0!==G&&G.cmsId?this.gfnInfoService.getAppMetadataUsingCmsId(null===(at=this.currentGameInfo)||void 0===at?void 0:at.cmsId).pipe((0,O.U)(St=>(this.logger.info("isFreestyleSupported: ",St.nvidiaTech.FREESTYLE),this.logger.info("isAnselSupported: ",St.nvidiaTech.ANSEL),this.chromaDBResult={gameFilterSupport:St.nvidiaTech.FREESTYLE,photoModeSupport:St.nvidiaTech.ANSEL},this.chromaDBResult)),(0,w.K)(St=>(this.logger.error(`Unable to obtain game meta data ${St}`),this.chromaDBResult={gameFilterSupport:!0,photoModeSupport:!0},(0,p.of)(this.chromaDBResult)))):(this.logger.error("CmsId not available to query"),(0,p.of)(void 0))}isFeatureAvailable(){return"GFE"===this.igoConfig.branding?(0,p.of)({photoModeSupport:this.isPhotoModeSupported(),gameFilterSupport:this.isGameFilterSupported()}):(this.isSystemOnline=this.networkStatusService.isOnline,this.isSystemOnline?this.queryChromaDB().pipe((0,O.U)(G=>{if(this.featureResult=G,this.featureResult.gameFilterSupport||this.featureResult.photoModeSupport)if(!this.isNvCameraReady&&this.isAppStartedReceived)this.logger.info("Checking if nvcamera is ready"),this.checkNvCameraReady();else if(this.isNvCameraReady)this.setAnselFreestyleState();else{const at="NvCamera is not ready";this.featureResult.gameFilterSupport&&this.sendFeatureDisableErrorTelemetry(Q.AN.GameFilter,Q.$R.featureNotAvailable,at),this.featureResult.photoModeSupport&&this.sendFeatureDisableErrorTelemetry(Q.AN.PhotoMode,Q.$R.featureNotAvailable,at)}return this.featureResult}),(0,w.K)(G=>(this.logger.error("Unable to get chroma results, using defaults."+G),this.featureResult={gameFilterSupport:!0,photoModeSupport:!0},(0,p.of)(this.featureResult)))):void 0)}isGameFilterSupported(){return this.isNvCameraEnabled&&this.isGameFilterEnabled}isPhotoModeSupported(){return this.isNvCameraEnabled&&this.isPhotoModeEnabled}isPhotoModeLiteSupported(){return this.isNvCameraEnabled&&this.isPhotoModeEnabled&&!this.igoConfig.GFNCefClient}listenNotification(G){return this.notifications$.asObservable().pipe((0,tt.h)(at=>G.some(St=>!!at[St])))}captureNormalScreenshot(){this.shadowPlayService.captureScreenshot()}monitorHotKey(G,at,St=!1,wt=!0){const Yt=St?1:0,se=at,fe=at.length;if(0===fe)return!1;let Re=!1,Ee=G.key;switch(Ee=V.dD[Ee]?V.dD[Ee]:Ee.charCodeAt(0),wt){case!0:if(!this.invalidSequence[Yt]&&!this.keyMatchCount[Yt]&&se[fe-1]===Ee)for(let Le=0;Le<fe-1;Le++)18===se[Le]&&G.altKey&&this.keyMatchCount[Yt]++,17===se[Le]&&G.ctrlKey&&this.keyMatchCount[Yt]++,16===se[Le]&&G.shiftKey&&this.keyMatchCount[Yt]++;if(se[this.keyMatchCount[Yt]]===Ee){this.keyMatchCount[Yt]++,this.keyMatchCount[Yt]===fe&&(Re=!0,this.keyMatchCount[Yt]=0,this.invalidSequence[Yt]=!1);break}if(this.keyMatchCount[Yt]){let Le=!1;for(let xe=0;xe<this.keyMatchCount[Yt];xe++)Le=se[xe]===Ee;if(Le)break}this.invalidSequence[Yt]=!0,this.keyMatchCount[Yt]=0;break;default:this.keyMatchCount[Yt]=0}return Re}get gfStyleToggleHotkey$(){return this.gameFilterStyleToggleHotkey.asObservable()}getNListenForGameFilterHotkey(){const G=this.getHotkeyStringForActiveSlot().pipe((0,I.b)(St=>{this.gameFilterStyleToggleHotkey.next(St)})),at=[c.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle1,c.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle2,c.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle3].map(St=>this.hotkeyService.listen(St).pipe((0,Kt.w)(wt=>this.hotkeyService.getHotkeyString(wt)),(0,I.b)(wt=>{this.gameFilterStyleToggleHotkey.next(wt)})));return(0,bt.T)(...at,G)}launchPhotoModeMenu(G=$e.HotKey){this.pageLaunchStart=Date.now(),this.logger.info("launchPhotoModeMenu"),this.isPhotoModeSupported()?(this.nvcameraOperationUnderProgress&&this.logger.info("Nvcamera operation underway, cancel menu launch"),this.currentUIMode=Q.AN.PhotoMode,this.sourceTrigger=G,this.menuLaunchTime=Date.now(),this.tryLaunchMenu(c.Yk.Common.Nvcamera.FeaturesSupported.sdk).subscribe(()=>{this.logger.info("launchPhotoModeMenu successfull, AI Upres supported",this.isAIUpresSupported)},at=>{this.errorHandlingForLaunchMenu(c.Yk.Common.Nvcamera.FeaturesSupported.sdk,at.message),this.logger.error("launchPhotoModeMenu error: ",at.message)})):this.logger.info("Photo Mode not supported, should not be here")}launchGameFilterMenu(G=$e.HotKey){this.logger.info("launchGameFilterMenu"),this.pageLaunchStart=Date.now(),this.gameFilterMenu=!0,this.isGameFilterSupported()||this.featureSupportService.isPpeEnabled()?(this.nvcameraOperationUnderProgress&&this.logger.info("Nvcamera operation underway, cancel menu launch"),this.currentUIMode=Q.AN.GameFilter,this.sourceTrigger=G,this.menuLaunchTime=Date.now(),this.tryLaunchMenu(c.Yk.Common.Nvcamera.FeaturesSupported.mods).subscribe(()=>{this.logger.info("launchGameFilterMenu successful")},at=>{this.errorHandlingForLaunchMenu(c.Yk.Common.Nvcamera.FeaturesSupported.mods,at.message),this.logger.error("launchGameFilterMenu error: ",at.message)})):this.logger.info("Game Filter not supported, should not be here")}postMenuClose(G,at=!1){this.currentUIMode=void 0,this.isModsAppliedCurrently=at,this.passFilterStateToTelemetry(),this.telemetryService.setModsActiveStatus(at),this.currentGameInfo&&(this.telemetryService.sendAnselFreestyleSession(G,Date.now()-this.menuLaunchTime,this.navigationInputDevice.KEYBOARD,this.navigationInputDevice.MOUSE,this.navigationInputDevice.GAMEPAD,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName,this.panningUsed,this.panningWithKB,this.panningWithMouse),this.sendAnselFreestyleFiltersTelemetry(G))}closeMenu(G,at=!1){return(0,p.of)(G).pipe((0,E.zg)(St=>{if(St===Q.AN.GameFilter)return(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok);let wt;return this.currentUIMode=void 0,this.isModsAppliedCurrently?(wt=this.currentGameSlots.modsSlotsInfo.lastSlotIdx,at=!0,this.logger.info("reapplying mods after photo mode session")):wt=0,this.applySlot(wt,!0,Q.AN.GameFilter)}),(0,w.K)(St=>(this.logger.error("error while closing the menu: ",St),(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok))),(0,w.K)(St=>(this.logger.error("applySlot failed",St),(0,p.of)(St))),(0,E.zg)(()=>this.configureNvCameraSession(!1,!1,at,this.nvCameraDefaultTimeout)),(0,I.b)(()=>{this.postMenuClose(G,at)}),(0,w.K)(St=>{throw this.postMenuClose(G,at),St}))}getFilterList(){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetFilter,{enable:!1},De.filtersList,this.nvCameraRelaxedTimeout)}setFilter(G,at,St,wt){const Yt=this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetFilter,{enable:G,stackId:at,filterId:St},De.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,jt.B)());return this.igoConfig.GFNCefClient&&this.customizeAndShowAlert(wt,ce.Add),Yt}customizeAndShowAlert(G,at){if(this.dialogRef)this.logger.error("Something messed up, should not be here, current dialog is already up");else{let St,wt;if(wt=this.getCurrentModSlotName(),at===ce.MoveUp||at===ce.MoveDown||at===ce.Add||at===ce.Delete)this.currentUIMode===Q.AN.PhotoMode||this.currentUIMode===Q.AN.PhotoModeLight?(St="nvcamera.UpdatingFilters",wt=""):wt?St="commonLabels.Updating":(St="nvcamera.UpdatingStyle",wt=this.getCurrentSlotIndex());else{if(at!==ce.ApplyStyle)return;this.currentUIMode===Q.AN.PhotoMode||this.currentUIMode===Q.AN.PhotoModeLight?(St="nvcamera.ApplyingFilters",wt=""):wt?St="commonLabels.Applying":(St="nvcamera.ApplyingStyle",wt=this.getCurrentSlotIndex())}this.showAlert(void 0,St,wt,"confirmation.cancel",void 0,!0,!1,"indeterminate",G,{next:se=>{if(se===ft.DX.Action1){this.logger.info("User cancelled the ongoing filter operation : ",se);this.notifications$.next({cancelPendingOperations:{}}),this.closeAlert()}},error:se=>{this.logger.error("failed in showAlert",se),this.closeAlert()},complete:()=>{this.closeAlert()}})}}showAlert(G,at,St,wt,Yt,se,fe,Re,Ee,Le){this.dialogRef||(this.alertDialogData.title=G||(this.currentUIMode===Q.AN.PhotoMode?"nvcamera.PhotoMode":"nvcamera.GameFilter"),this.alertDialogData.query=at,this.alertDialogData.queryParam={arg:St},this.alertDialogData.action1=wt,this.alertDialogData.action2=Yt,this.alertDialogData.spinner=se,this.alertDialogData.progressBar=fe,this.alertDialogData.progressPercentage=fe&&"determinate"===Re,this.alertDialogData.progressMode=Re,this.dialogHelperService.openAlertDialog(this.alertDialogData).pipe((0,I.b)(xe=>this.dialogRef=xe),(0,E.zg)(xe=>xe.afterClosed()),(0,Wt.R)(Ee)).subscribe(Le))}closeAlert(){this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0)}showSnack(G,at){let St,wt;if(this.closeAlert(),wt=this.getCurrentModSlotName(),G===qt.UpdateStyleFail)wt?St="snacks.UnableToUpdate":(St="snacks.UnableToUpdateStyle",wt=this.getCurrentSlotIndex());else if(G===qt.ApplyStyleFail)wt?St="snacks.UnableToApply":(St="snacks.UnableToApplyStyle",wt=this.getCurrentSlotIndex());else if(G===qt.RemoveFilterSuccess)wt=at,St="1"===wt?"snacks.RemovedFilter":"snacks.RemovedFilters";else{if(G!==qt.CaptureFailed)return;St="nvcamera.UnableToPhotograph",wt=void 0}this.translateService.get(St,{arg:wt}).subscribe(Yt=>{this.snackBarRef=this.dialogHelperService.openSnackBar(Yt)})}setFilterAttribute(G,at,St,wt,Yt,se){return wt===ze.boolean&&(se.forEach((Re,Ee)=>{se[Ee]=!!Re}),Yt="bool"),this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetFilterAttribute,{filter:G,controlId:St,controlType:wt,stackId:at,dataType:Yt,values:se},De.setFilterAttribute,this.nvCameraDefaultTimeout).pipe((0,O.U)(Re=>{if(Re.setFilterAttribute.status)return Re.setFilterAttribute.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}setFilterWithAttributes(G){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetFilter,{enable:!0,stackId:G.stackIdx,filterId:G.id},De.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,E.zg)(at=>(0,K.D)(at.filterDetails.controls)),(0,B.b)(at=>this.setFilterAttribute(G.id,G.stackIdx,at.id,ze[at.controlType],at.dataType,[G.controls[at.id].currentValue])),(0,w.K)(at=>(this.logger.error("setFilterAttribute failed: ",at),(0,p.of)(at))),(0,oe.h)(1))}resetEntireStack(){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.ResetFilterStack,{},De.resetEntireStack,this.nvCameraRelaxedTimeout).pipe((0,O.U)(G=>{if(G.resetEntireStack.status)return G.resetEntireStack.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}removeFilter(G){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.RemoveFilter,{stackId:G},De.removeFilter,this.nvCameraRelaxedTimeout).pipe((0,O.U)(at=>{if(at.removeFilter.status)return at.removeFilter.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}resetFilterControls(G,at){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.ResetFilter,{resetAll:G,stackId:at},De.resetFilter,this.nvCameraRelaxedTimeout).pipe((0,O.U)(St=>{if(St.resetFilter.status)return St.resetFilter.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}setGridOfThirds(G){return this.gridUsed=G,this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.SetCameraGridOfThirds,{enableGoT:G})}getFreestyleWhitelisted(G){return this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.GetFreestyleWhitelisted,{profileName:G})}getCaptureTypes(){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetAnselCaptureTypes,{},De.captureTypesList,this.nvCameraRelaxedTimeout)}getCaptureResolutions(G){let at;return at=G===c.Yk.Common.Nvcamera.CaptureTypes.regular||G===c.Yk.Common.Nvcamera.CaptureTypes.stereoRegular?De.screenResolution:G===c.Yk.Common.Nvcamera.CaptureTypes.highRes?De.highResResolutions:De.panoramaResolutions,this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetCaptureResolutions,{captureType:G},at,this.nvCameraRelaxedTimeout)}getCameraRange(G,at){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetCameraRangeFovRoll,{getCameraRoll:G,getCameraFov:at},G?De.rollRange:De.fovRange,this.nvCameraRelaxedTimeout)}SetCameraControlFovRoll(G,at,St){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetCameraControlFovRoll,{setFovRollEnable:G,setRollValue:void 0!==at?Math.round(at):void 0,setFovValue:void 0!==St?Math.round(St):void 0},De.setRollFovResponse,this.nvCameraRelaxedTimeout)}GetCameraControlFov(G){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetCameraControlFov,{setFovRollEnable:G},De.fovValue,this.nvCameraRelaxedTimeout)}captureScreenshot(G,at){if(this.igoConfig.GFNCefClient)return this.shadowPlayService.captureCustomScreenshot("photoMode","placeholder.png",this.getActiveModsSlot(this.currentUIMode).id);this.telemetryIgoService.startAnselScreenshot();let St,wt,Yt=Object();return new M.y(se=>{let Re,Ee;G?(Re=[De.ngxAIUpResProgress,De.ngxAIUpResCaptureDone],Ee=c.Gh.Common.Nvcamera.StartNgxAIUpRes,St=null==at?void 0:at.upResScale.toString(),wt=(null==at?void 0:at.width.toString())+"x"+(null==at?void 0:at.height.toString()),Yt={upResScale:null==at?void 0:at.upResScale,screenshotResolution:(null==at?void 0:at.width.toString())+"x"+(null==at?void 0:at.height.toString())}):(Re=[De.captureShotStarted,De.captureShotFinished,De.captureShotProcessingFinished,De.captureShotProgress,De.anselStatusReport],Ee=c.Gh.Common.Nvcamera.CaptureScreenshot);const Le=this.listenNotification(Re).pipe((0,Qt.V)(9e5)).subscribe(xe=>{se.next(xe),xe.captureShotProcessingFinished&&!G?(Le.unsubscribe(),se.complete(),this.anselFreestyleCaptureTelemetry(ve.rS.ScreenshotCaptured)):xe.ngxAIUpResCaptureDone&&(Le.unsubscribe(),se.complete(),this.anselFreestyleCaptureTelemetry(ve.rS.ScreenshotCaptured,Yt))},xe=>{this.logger.info("listenerCaptureShotFinished timed out"),se.error(xe),this.anselFreestyleCaptureTelemetry(ve.rS.ScreenshotFailed),Le.unsubscribe()});this.bridgeService.executeCommand(Ee,at).subscribe(xe=>{this.logger.info(Ee,"command issued: ",xe)},xe=>{this.logger.info("nvcameraRequestWithWait",Ee," failed"),se.error(xe),Le.unsubscribe()})})}cancelCurrentCapture(){return this.igoConfig.GFNCefClient?(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok):(this.anselFreestyleCaptureTelemetry(ve.rS.ScreenshotCancelled),this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.CancelCapture,{},De.captureShotCancel,this.nvCameraRelaxedTimeout).pipe((0,O.U)(G=>{if(G.captureShotCancel.status)return G.captureShotCancel.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)})))}getLastSlotChangedUpdates(){return this.lastSlotChanged$.asObservable()}triggerPpeFilterSlotChange(G){this.lastSlotChanged$.next(G)}applySlot(G,at=!1,St=Q.AN.GameFilter,wt=!1){let Yt;return this.logger.info("applyslot index:",G),this.logger.info("applyslot feature:",St),Yt=St===Q.AN.GameFilter?this.currentGameSlots.modsSlotsInfo:this.currentGameSlots.anselSlotsInfo,(at=(at=at||0===G)||!this.isModsAppliedCurrently)||Yt.lastSlotIdx!==G?(2!==Yt.slots.length&&(Yt.lastSlotIdx=G),this.resetEntireStack().pipe((0,E.zg)(()=>{if(0===G)return(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok);const se=Yt.slots[G].filterStack.filters;return wt&&this.modsAppliedOnGameLaunch$.next(G),this.applyFilters(se,ce.ApplyStyle)}),(0,E.zg)(()=>(St===Q.AN.GameFilter&&(this.triggerPpeFilterSlotChange(G),this.previousSlotApplied>=0&&this.slotSwitchingTelemetry(this.previousSlotApplied,G),this.previousSlotApplied=G),(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok))))):(this.logger.info("slot is already applied, skipping"),(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok))}enableModsAndApplySlot(G,at=!1){return this.logger.info("enableModsAndApplySlot index = ",G),this.nvcameraOperationUnderProgress=!0,this.tryStartNvCameraSession(c.Yk.Common.Nvcamera.FeaturesSupported.mods).pipe((0,E.zg)(()=>this.applySlot(G,!0,Q.AN.GameFilter,at)),(0,Pt.g)(250),(0,E.zg)(()=>(this.isModsAppliedCurrently=!0,this.passFilterStateToTelemetry(),this.telemetryService.setModsActiveStatus(!0),this.configureNvCameraSession(!1,!1,!0,this.nvCameraDefaultTimeout))),(0,Ut.x)(()=>{this.nvcameraOperationUnderProgress=!1}))}applyFilters(G,at){if(G.length>0){const St=(0,K.D)(G).pipe((0,B.b)(wt=>this.setFilterAndAttributes(wt,wt.stackIdx)),(0,Wt.R)(this.listenNotification([De.cancelPendingOperations])),(0,w.K)(wt=>(this.logger.error("setFilterAndAttributes failed: ",wt),(0,p.of)(wt))),(0,oe.h)(1),(0,jt.B)());return this.igoConfig.GFNCefClient&&this.customizeAndShowAlert(St,at),St}return(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok)}checkPreviewEnabled(){return!(this.currentUIMode!==Q.AN.GameFilter||!this.previewSupported)||(this.logger.info("Freestyle previews not enabled."+this.currentUIMode),!1)}showPreviewImg(G,at,St,wt){if(!this.checkPreviewEnabled())return;if(void 0===G){const se=this.getActiveModsSlot(this.currentUIMode);if(void 0===se)return void this.logger.info("Active mod slot cannot be undefined");G=se.id}const Yt=this.slotsPreviewInfo[G];void 0===wt&&(wt=Yt.previewPath),this.galleryService.getThumbnailForFile(wt,at,St).subscribe(se=>{if(this.resetPreviewStatus(),void 0===se)return this.logger.info("Image thumbnail cannot be undefined."),void(Yt.previewAvailable=!1);this.logger.info("Freestyle preview available for slot: "+Yt.id),Yt.previewImgData=se,Yt.previewAvailable=!0},se=>{this.logger.info("Freestyle preview not available for slot: "+Yt.id),Yt.previewAvailable=!1,this.resetPreviewStatus()})}resetPreviewStatus(){this.previewInProgress&&(this.logger.info("Freestyle preview shot completed."),this.previewInProgress=!1)}setPreviewDetails(G,at,St){this.logger.info("Setting preview details"),this.checkPreviewEnabled()&&(this.slotsPreviewInfo||this.initializePreviewInfo(),this.shadowPlayService.getFreestylePreviewBasePath().subscribe(wt=>{const Yt=wt.previewBasePath;this.logger.info("Freestyle preview base folder"+Yt);for(const se of G)se.id&&(this.slotsPreviewInfo[se.id].previewPath=Yt+"\\"+this.freestylePreviewPrefix+se.id+this.freestylePreviewExtension,this.logger.info("Preview path for Slot: "+se.id+" is "+this.slotsPreviewInfo[se.id].previewPath),this.previewPaths.push(this.slotsPreviewInfo[se.id].previewPath));this.sendPreviewPathToGalleryPlugin()},wt=>{this.logger.info("Error occured in setting preview details :"+wt)}))}sendPreviewPathToGalleryPlugin(){this.bridgeService.executeCommand(c.Gh.Common.Gallery.PreviewPathInfo,{paths:this.previewPaths}).subscribe(()=>{this.previewPaths=[]})}updatePreview(G,at,St){let wt;if(!this.checkPreviewEnabled())return;this.currentGameSlots&&this.currentGameSlots.modsSlotsInfo&&(wt=this.getActiveModsSlot(this.currentUIMode));const Yt=wt?wt.id:St;0===Yt||this.previewInProgress||(this.previewInProgress=!0,this.triggerPreview(this.freestylePreviewPrefix+Yt+this.freestylePreviewExtension,Yt).subscribe(fe=>{this.showPreviewImg(Yt,G,at,fe.filePath)},fe=>{this.logger.info("Error in capturing screenshot for preview"),this.previewInProgress=!1}))}triggerPreview(G,at){return this.shadowPlayService.captureCustomScreenshot("freestyle",G,at)}getAvailableFeatureSet(){return this.cachedFeaturesAvailable?(0,p.of)(this.cachedFeaturesAvailable):this.queryFeatureSet(this.isNvCameraReady?this.nvCameraDefaultTimeout:this.nvCameraStrictTimeout)}queryFeatureSet(G){return this.cachedFeaturesAvailable=void 0,this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetFeatureSet,{},De.features,G).pipe((0,O.U)(at=>{var St,wt;const Yt=null!==(St=null==at||null===(wt=at.features)||void 0===wt?void 0:wt.featureSet)&&void 0!==St?St:[];return this.cachedFeaturesAvailable={[c.Yk.Common.Nvcamera.FeaturesSupported.sdk]:Yt.includes(c.Yk.Common.Nvcamera.FeaturesSupported.sdk),[c.Yk.Common.Nvcamera.FeaturesSupported.mods]:Yt.includes(c.Yk.Common.Nvcamera.FeaturesSupported.mods),[c.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]:Yt.includes(c.Yk.Common.Nvcamera.FeaturesSupported.allowOffline)},this.cachedFeaturesAvailable}),(0,w.K)(at=>(this.cachedFeaturesAvailable={[c.Yk.Common.Nvcamera.FeaturesSupported.sdk]:!1,[c.Yk.Common.Nvcamera.FeaturesSupported.mods]:!1,[c.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]:!1},(0,p.of)(this.cachedFeaturesAvailable))))}closeGameFilterMenu(G){this.menuCloseInProgress$.next(!0),this.closeMenu(Q.AN.GameFilter,G.isleaveFilters).subscribe(at=>{this.changeUIRunning(!1),this.igoConfig.GFNCefClient||this.setDynamicHotkey(!0,[C.sW.OpenFreestyle]),this.logger.info("GameFilter menu closed successfully: ",at)},at=>{this.changeUIRunning(!1),this.igoConfig.GFNCefClient||this.setDynamicHotkey(!0,[C.sW.OpenFreestyle]),this.logger.error("error while closing GameFilter menu: ",at)})}closePhotoModeMenu(G){this.menuCloseInProgress$.next(!0),(G.isAnselLite?(0,p.of)(null):this.setGridOfThirds(!1)).pipe((0,E.zg)(()=>G.isShowError||this.restartRequired?(this.changeUIRunning(!1),(0,p.of)(!0)):this.closeMenu(Q.AN.PhotoMode,!1))).subscribe(at=>{this.changeUIRunning(!1),this.igoConfig.GFNCefClient||this.setDynamicHotkey(!0,[C.sW.OpenAnsel,C.sW.Screenshot]),this.logger.info("Photo mode menu closed successfully: ",at)},at=>{this.changeUIRunning(!1),this.igoConfig.GFNCefClient||this.setDynamicHotkey(!0,[C.sW.OpenAnsel,C.sW.Screenshot]),this.logger.error("error while closing Photo mode menu: ",at)})}configureNvCameraSession(G,at,St,wt){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetAnselEnable,{sessionEnable:G,pauseOnEnable:at,leaveFiltersOn:St},De.anselEnabledResponse,wt).pipe((0,I.b)(()=>{G||this.saveFilterPresetsData()}),(0,O.U)(Yt=>{if(Yt.anselEnabledResponse.capture)return Yt.anselEnabledResponse.capture;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}getCurrentGameChromaInfo(){return this.currentGameChromaInfo}getNvCameraSessionState(){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetAnselEnabledStatus,{},De.anselEnabledState,this.nvCameraRelaxedTimeout).pipe((0,O.U)(G=>{if(void 0!==G.anselEnabledState.status)return G.anselEnabledState.status;throw new Error(c.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}getProcessInfo(){return this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.GetProcessInfo,{},De.procInfo,this.nvCameraRelaxedTimeout).pipe((0,O.U)(G=>G),(0,w.K)(G=>(this.logger.error("GetProcessInfo failed:",G),(0,p.of)(void 0))))}getNvCameraSettings(){return this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.GetNvCameraConfig)}checkFeatureSupport(){return this.isPhotoModeEnabled=this.igoConfig.PhotoModeEnabled,this.isGameFilterEnabled=this.igoConfig.GameFilterEnabled,this.isNvCameraEnabled="DISABLED"!==this.igoConfig.NvCameraFeaturesEnabled&&(this.isPhotoModeEnabled||this.isGameFilterEnabled),this.getGlobalToggle().pipe((0,E.zg)(G=>{if(this.igoConfig.GFNCefClient)return(0,p.of)(!0);const at=G&&this.isNvCameraEnabled;return this.configureNvcameraSettings(at,at)}),(0,E.zg)(G=>(this.logger.info("configureNvcameraSettings response: ",G),this.registerNotifications(),this.setHotkeyForSlotToggle(this.isGameFilterSupported()))),(0,E.zg)(()=>void 0!==this.isAIUpresSupported?(0,p.of)(this.isAIUpresSupported):this.getAiUpresSupported()),(0,O.U)(G=>(this.isAIUpresSupported=G,this.logger.info("AIUpres supported",this.isAIUpresSupported),!0)),(0,w.K)(G=>{throw this.logger.error("checkFeatureSupport failed: ",G),G}))}configureNvcameraSettings(G,at){return this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.SetNvCameraConfig,{ipcEnable:G,freestyleEnable:at}).pipe((0,O.U)(St=>(this.logger.info("ConfigureNvcameraSettings returned: ",St),!0)),(0,w.K)(St=>(this.logger.info("ConfigureNvcameraSettings returned: ",St),(0,p.of)(!1))))}changeUIRunning(G){this.uiRunning.next(G),G||this.menuCloseInProgress$.next(!1)}checkAndLaunchPhotoModeMenu(){this.pageLaunchMode=ve.FE.UsingHotkey,this.igoConfig.GFNCefClient&&this.currentUIMode!==Q.AN.PhotoMode?this.isSystemOnline&&this.queryChromaDB().subscribe(G=>{G.photoModeSupport&&this.togglePhotoModeUI()}):this.togglePhotoModeUI()}waitForMenuToClose(G){this.menuCloseInProgress$.pipe((0,Qt.V)(this.nvCameraMenuOpenTimeout),(0,Tt.sE)(at=>!1===at),(0,k.q)(1)).subscribe(at=>{this.logger.info("Previous menu closed "),G===Q.AN.PhotoMode?this.launchPhotoModeMenu():G===Q.AN.GameFilter&&this.launchGameFilterMenu()},at=>{this.logger.error("Previous session did not close in time: ",at)})}togglePhotoModeUI(){if(this.logger.info("UI running status PhotoModeUI",this.uiRunning.getValue(),this.menuCloseInProgress$.getValue()),this.uiRunning.getValue())if(this.menuCloseInProgress$.getValue())this.waitForMenuToClose(Q.AN.PhotoMode);else{if(this.currentUIMode===Q.AN.GameFilter){const G=this.uiRunning.subscribe(at=>{at||(this.launchPhotoModeMenu(),G.unsubscribe())})}this.oscDisplayService.closeOSC()}else this.launchPhotoModeMenu()}toggleGameFilterUI(){if(this.logger.info("UI running status GameFilterUI",this.uiRunning.getValue()),this.pageLaunchMode=ve.FE.UsingHotkey,this.uiRunning.getValue())if(this.menuCloseInProgress$.getValue())this.waitForMenuToClose(Q.AN.GameFilter);else{if(this.currentUIMode===(Q.AN.PhotoMode||Q.AN.PhotoModeLight)){const G=this.uiRunning.subscribe(at=>{at||(this.launchGameFilterMenu(),G.unsubscribe())})}this.oscDisplayService.closeOSC()}else this.launchGameFilterMenu()}registerHotkey(G,at){this.hotkeyService.listen(G).pipe((0,vt.p)(this.throttleDuration)).subscribe(()=>{at()})}registerNotifications(){this.isNvCameraEnabled&&(this.isPhotoModeSupported()&&this.registerHotkey(C.sW.OpenAnsel,this.checkAndLaunchPhotoModeMenu.bind(this)),this.isGameFilterSupported()&&(this.registerHotkey(C.sW.FreeStyleToggleStyle1,this.applyOrToggleStyleAt.bind(this,1)),this.registerHotkey(C.sW.FreeStyleToggleStyle2,this.applyOrToggleStyleAt.bind(this,2)),this.registerHotkey(C.sW.FreeStyleToggleStyle3,this.applyOrToggleStyleAt.bind(this,3)),this.igoConfig.GFNCefClient||this.registerHotkey(C.sW.OpenFreestyle,this.toggleGameFilterUI.bind(this))),this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.NvCameraResponseNotification).subscribe(G=>{this.handleNotifications(G)}),this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.NvCameraFilterResponseNotification).subscribe(G=>{this.handleNotifications(G)}),this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.NgxAIUpResNotifications).subscribe(G=>{this.handleNotifications(G)}),this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.NvCameraUIControlNotificationData).subscribe(G=>{this.handleNotifications(G)}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,tt.h)(G=>!!G.gameExited||!!G.disableHDR)).subscribe(G=>{G.gameExited?this.onGameExit(G.gameExited):this.anselSnapWhenHDRScreenshotError()}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,tt.h)(G=>!(null==G||!G.appStarted))).subscribe(G=>{this.isAppStartedReceived=!0,this.logger.info("App Start Data: ",G),G&&(this.currentGFEGameInfo={procId:G.appStarted.pid,cmsId:G.appStarted.cmsId,drsName:G.appStarted.DRSAppName,drsProfileName:G.appStarted.profileName,shortName:G.appStarted.shortName,drsWhitelist:!1}),this.gameDetails.cmsId=this.currentGameInfo.cmsId.toString(),this.gameDetails.drsName=this.currentGameInfo.drsName,this.gameDetails.drsProfileName=this.currentGameInfo.drsProfileName}),this.listenNotification([De.nvCameraReady]).pipe((0,Pt.g)(this.nvCameraDefaultTimeout)).subscribe(G=>{this.onNvCameraReady(G)}),this.igoConfig.GFNCefClient||this.shadowPlayService.getNvCameraToggleStateUpdates().pipe((0,E.zg)(G=>this.configureNvcameraSettings(G&&this.isNvCameraEnabled))).subscribe(),this.getCmsData().subscribe())}anselSnapWhenHDRScreenshotError(){this.isNvCameraReady?(this.uiRunning.getValue()?(0,p.of)(!0):this.tryStartNvCameraSession(c.Yk.Common.Nvcamera.FeaturesSupported.mods)).pipe((0,B.b)(at=>at?this.captureScreenshot(!1,void 0):(0,p.of)(at)),(0,w.K)(at=>(this.logger.info("NvCamera session declined for anselSnapWhenHDRScreenshotError",at),this.oscNotificationService.show(z.ZJ.HDRErrorScreenshot),(0,Vt._)(at)))).subscribe():this.oscNotificationService.show(z.ZJ.HDRErrorScreenshot)}applyOrToggleStyleAt(G){if(this.logger.info("Hotkey toggle style no ",G),this.nvcameraOperationUnderProgress)return void this.logger.info("Filter operations under progress, ignoring hotkey");if(this.uiRunning.getValue())return void this.logger.info("UI is up, ignoring hotkey");let at,St=!1;this.isModsAppliedCurrently&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx===G?(at=this.enableModsAndApplySlot(0),this.previousStyleApplied=""):(at=this.checkSlotsForCurrentGame().pipe((0,E.zg)(wt=>this.enableModsAndApplySlot(G))),St=!0),at.subscribe(wt=>{this.logger.info("Status of applyOrToggleStyleAt = ",wt),St&&this.sendAnselFreestyleFiltersTelemetry(Q.AN.GameFilter)},wt=>{this.logger.info("Error in applyOrToggleStyleAt. Error = ",wt),St&&(this.nvCameraTimedOut=!0,this.sendAnselFreestyleErrorTelemetry(Q.NX.anselFreeStyle,Q.AN.GameFilter),this.anselFreestyleErrorTelemetry(Q.NX.anselFreeStyle,Q.AN.GameFilter,"Nvcamera timed out"))})}getHotkeyNum(G){return this.hotkeyService.getHotkeyNum(G)}getHotkeyStringForSlot(G){switch(G){case 1:return this.hotkeyService.getHotkeyString(C.sW.FreeStyleToggleStyle1);case 2:return this.hotkeyService.getHotkeyString(C.sW.FreeStyleToggleStyle2);case 3:return this.hotkeyService.getHotkeyString(C.sW.FreeStyleToggleStyle3);default:return(0,p.of)(void 0)}}handleNotifications(G){this.logger.info("NvCamera Notification: ",G),this.notifications$.next(G)}saveFilterPresetsData(G=null){(G=G||this.filterPresetsData)&&this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(G)).subscribe(()=>{this.logger.info("Filter presets data storage updated")},at=>{this.logger.error("Error while updating filter presets data storage: ",at)})}loadFilterPresetsData(){return this.filterPresetsData?(0,p.of)(!0):(this.filterPresetsData=new Mt.gm,this.dBStore.getItem(this.filterPresetsStorageKeyName).pipe((0,O.U)(G=>(G?this.filterPresetsData.deserialize(JSON.parse(G))?this.logger.info("Filter presets data loaded from the storage"):(this.logger.error("Failed to parse stored filter presets data, stored data: ",JSON.stringify(G)),this.filterPresetsData=new Mt.gm):this.logger.info("Filter presets data not found in the storage"),!0)),(0,w.K)(G=>(this.logger.error("Could not load filter presets data from the storage: ",JSON.stringify(G)),(0,p.of)(!0)))))}loadSlotsForCurrentGame(){return this.loadFilterPresetsData().pipe((0,I.b)(()=>{let G="";G=this.isDevServer?"devserver":this.igoConfig.GFNCefClient?this.currentGameInfo.cmsId.toString():this.currentProcessInfo.procPath,this.filterPresetsData.filterPresets[G]?this.logger.info("Saved filter presets loaded for the game"):(this.logger.info("No saved filter presets found for the game"),this.filterPresetsData.filterPresets[G]=new Mt.G0,this.igoConfig.GFNCefClient||(this.filterPresetsData.filterPresets[G].modsSlotsInfo.lastSlotIdx=1)),this.currentGameSlots=this.filterPresetsData.filterPresets[G]}))}getHotkeyStringForActiveSlot(){return this.isNvCameraReady?this.checkSlotsForCurrentGame().pipe((0,E.zg)(at=>this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0?this.getHotkeyStringForSlot(this.currentGameSlots.modsSlotsInfo.lastSlotIdx):(0,p.of)(void 0))):(0,p.of)("None")}checkSlotsForCurrentGame(){return this.currentGameSlots?(0,p.of)(!0):this.getProcessInfo().pipe((0,tt.h)(G=>!!G),(0,E.zg)(G=>(this.currentProcessInfo=G[De.procInfo],this.loadSlotsForCurrentGame())))}initializePreviewInfo(){if(!this.slotsPreviewInfo){this.slotsPreviewInfo=[];for(let G=0;G<=Mt.fN;G++)this.slotsPreviewInfo.push(new Mt.$e(G))}}deletePreviews(){if(this.slotsPreviewInfo)for(let G=0;G<=Mt.fN;G++)this.slotsPreviewInfo[G].previewPath&&this.bridgeService.executeCommand(c.Gh.Common.Gallery.DeletePreview,{previewFilepath:this.slotsPreviewInfo[G].previewPath}).subscribe()}tryLaunchMenu(G){this.nvcameraOperationUnderProgress=!0;let at=!1;return this.tryStartNvCameraSession(G).pipe((0,E.zg)(St=>(at=St,this.checkSlotsForCurrentGame())),(0,O.U)(()=>(this.logger.info("Launching UI Menu"),this.restartRequired=!1,G===c.Yk.Common.Nvcamera.FeaturesSupported.mods?at?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!1,errorType:Ct.SUCCESS,nvCameraSessionExists:!0}):(this.currentUIMode=Q.AN.GameFilter,this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!0,errorType:Ct.ERROR_SUPPORTED_GAME,nvCameraSessionExists:!1})):G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{UIMode:this.currentUIMode,isAIUpresEnabled:this.isAIUpresSupported,showError:!1,errorType:Ct.SUCCESS}),!0)),(0,Ut.x)(()=>{this.nvcameraOperationUnderProgress=!1}))}setNvcameraCmsInfo(){this.currentFreestyleGameInfo&&this.currentFreestyleGameInfo.cmsId&&this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.SetCMSInfo,{cmsId:this.currentFreestyleGameInfo.cmsId.toString(),shortName:this.currentFreestyleGameInfo.shortName}).subscribe()}getGPUInfo(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetGPUInfo)}getGenericInfo(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetGenericInfo)}getSystemInfo(){return this.systemInfo?(0,p.of)(this.systemInfo):(this.systemInfo={cpuName:"",gpuName:"",systemType:"",isOptimus:!1,osVersion:"",ddVersion:""},this.igoConfig.GFNCefClient?(0,p.of)(this.systemInfo):(0,ut.D)([this.systemInfoService.getSystemInfo([V.l7.CPUName,V.l7.GPU,V.l7.OSVersion]),this.getGPUInfo(),this.getGenericInfo()]).pipe((0,O.U)(([G,at,St])=>{var wt,Yt,se,fe;this.systemInfo.cpuName=G.CPUName;const Re=null!==(wt=null===(Yt=G.GPU)||void 0===Yt||null===(Yt=Yt.GPUData)||void 0===Yt?void 0:Yt.length)&&void 0!==wt?wt:0;let Ee=0;for(;Ee<Re-1;Ee++){var Le;this.systemInfo.gpuName+=(null===(Le=G.GPU)||void 0===Le||null===(Le=Le.GPUData[Ee])||void 0===Le?void 0:Le.LongGPUName)+", "}return this.systemInfo.gpuName+=null!==(se=null===(fe=G.GPU)||void 0===fe||null===(fe=fe.GPUData[Ee])||void 0===fe?void 0:fe.LongGPUName)&&void 0!==se?se:"",this.systemInfo.osVersion=G.OSVersion,this.systemInfo.isOptimus="1"===at.IsOptimus,this.systemInfo.systemType=St.MoboType,this.systemInfo.ddVersion=St.DriverVersion,this.systemInfo}),(0,w.K)(G=>(this.logger.error("Error while fetching system info ",G),(0,p.of)(this.systemInfo)))))}getGlobalToggle(){return this.shadowPlayService.getNvCameraToggleState()}setGlobalToggle(G){return this.logger.info("setGlobalToggle:",G),this.globalToggleChangedFromIGO$.next(G),(0,ut.D)([this.shadowPlayService.setNvCameraToggleState(G),this.configureNvcameraSettings(G,G)]).pipe((0,O.U)(()=>(this.logger.info("setGlobalToggle successfull"),!0)))}listenToNvCameraGlobalToggleChanges(){return this.globalToggleChangedFromIGO$.asObservable()}getIsGameRestartRequestedfromCTA(){return this.isGameRestartRequestedfromCTA}setIsGameRestartRequestedfromCTA(G){this.isGameRestartRequestedfromCTA=G}isFreestyleSupportedGame(){var G;return null===(G=this.currentGameInfo)||void 0===G?void 0:G.drsWhitelist}checkIfCurrentGameIsAllowlisted(){var G,at;return this.igoConfig.GFNCefClient?null===(G=this.chromaDBResult)||void 0===G?void 0:G.gameFilterSupport:null===(at=this.currentGameChromaInfo)||void 0===at||null===(at=at.nvidiaTech)||void 0===at?void 0:at.FREESTYLE}checkFeatureLaunch(G){let at=Ct.SUCCESS;var St;switch(this.isSystemOnline=this.networkStatusService.isOnline,this.currentGameInfo&&(this.igoConfig.GFNCefClient||(null===(St=this.currentFreestyleGameInfo)||void 0===St?void 0:St.procId)===this.currentGameInfo.procId)&&(this.currentFreestyleGameInfo=this.currentGameInfo),G){case Q.AN.PhotoModeLight:case Q.AN.GameFilter:if(this.isSystemOnline)return this.queryChromaDB().pipe((0,O.U)(()=>(this.currentFreestyleGameInfo&&void 0!==this.currentFreestyleGameInfo.cmsId&&this.checkIfCurrentGameIsAllowlisted()?(this.logger.info("Game whitelisted in ChromaDB"),at=Ct.SUCCESS):(this.logger.info("Game blacklisted in ChromaDB: ",this.currentFreestyleGameInfo),at=Ct.ERROR_SUPPORTED_GAME),at)),(0,w.K)(Yt=>{var se;return at=this.igoConfig.GFNCefClient?Ct.ERROR_SYSTEM_OFFLINE:null!==(se=this.cachedFeaturesAvailable)&&void 0!==se&&se[c.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]?Ct.SUCCESS:Ct.ERROR_SUPPORTED_GAME,(0,p.of)(at)}));var wt;at=this.igoConfig.GFNCefClient?Ct.ERROR_SYSTEM_OFFLINE:null!==(wt=this.cachedFeaturesAvailable)&&void 0!==wt&&wt[c.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]?Ct.SUCCESS:Ct.ERROR_SUPPORTED_GAME;break;case Q.AN.PhotoMode:break;default:this.logger.error("Unknown feature: "+G)}return(0,p.of)(at)}nvcameraRequestWithWait(G,at,St,wt){return new M.y(Yt=>{this.logger.info("command: ",G.method),this.logger.info("params: ",at);const se=this.listenNotification([St]).pipe((0,Qt.V)(wt)).subscribe(fe=>{Yt.next(fe),se.unsubscribe(),Yt.complete()},fe=>{this.logger.error("nvcameraRequestWithWait ",G.method," timed out"),Yt.error(fe)});this.bridgeService.executeCommand(G,at).subscribe(fe=>{this.logger.info(G.method,"command issued: ",fe)},fe=>{this.logger.error("nvcameraRequestWithWait",G.method," failed"),Yt.error(fe),se.unsubscribe()})})}enableNvCameraSession(){return this.configureNvCameraSession(!0,this.currentUIMode===Q.AN.PhotoMode,!1,this.nvCameraDefaultTimeout).pipe((0,O.U)(at=>{const St=[c.Yk.Common.Nvcamera.AnselStatusEnum.ok,c.Yk.Common.Nvcamera.AnselStatusEnum.alreadyEnabled];if(St.push(this.currentUIMode===Q.AN.PhotoMode?c.Yk.Common.Nvcamera.AnselStatusEnum.okAnsel:c.Yk.Common.Nvcamera.AnselStatusEnum.okModsOnly),St.includes(at))return!0;throw new Error(Ct.ERROR_SESSION_NOT_ALLOWED)}))}tryStartNvCameraSession(G){return this.igoConfig.GFNCefClient?this.enableNvCameraSession():this.getAvailableFeatureSet().pipe((0,O.U)(at=>{if(null!=at&&at[G])return G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk?Q.AN.PhotoMode:Q.AN.GameFilter;if(G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk&&null!=at&&at[c.Yk.Common.Nvcamera.FeaturesSupported.mods]&&this.isPhotoModeLiteSupported())return this.currentUIMode=Q.AN.PhotoModeLight,Q.AN.PhotoModeLight;throw new Error(Ct.ERROR_SUPPORTED_GAME)}),(0,E.zg)(at=>this.checkFeatureLaunch(at)),(0,I.b)(at=>{if(at!==Ct.SUCCESS)throw new Error(at)}),(0,E.zg)(()=>this.enableNvCameraSession()))}gameStartedNotify(){return this.nvcameraGameStarted$.asObservable()}modsSlotappliedComplete(){return this.modsAppliedOnGameLaunch$.asObservable()}ensureChromaDataIsAvailableForGame(){var G;return this.logger.info("ensureChromaDataIsAvailableForGame"),null===(G=this.lcarsService)||void 0===G?void 0:G.getCurrentAppChromaInfo().pipe((0,tt.h)(at=>!!at&&void 0!==at.pid&&at.pid===this.currentFreestyleGameInfo.procId&&!this.isPreviousSessionRunning()),(0,O.U)(at=>{var St;return this.currentGameChromaInfo=at,null!==(St=this.currentGameChromaInfo)&&void 0!==St&&null!==(St=St.nvidiaTech)&&void 0!==St&&St.FREESTYLE||(this.nvcameraGameStarted$.next(!0),this.modsAppliedOnGameLaunch$.next(0)),this.logger.info("Chroma info fetched successfully for the current nvcamera game ",at),!0}),(0,k.q)(1),(0,Qt.V)(3e4))}onNvCameraReady(G){this.statusOfCaptureEnhance&&(G.nvCameraReady.deviceCreationCounter>0&&(this.logger.info("nvcamera ready notification received"),this.isNvCameraReady=!0,this.gameFilterDisable.next(!1),this.photoModeDisable.next(!1),this.queryFeatureSet(this.nvCameraRelaxedTimeout).subscribe()),this.getProcessInfo().pipe((0,tt.h)(at=>!!at),(0,E.zg)(at=>(this.currentProcessInfo=at[De.procInfo],this.currentFreestyleGameInfo={procId:at[De.procInfo].procId,cmsId:void 0,drsName:void 0,drsProfileName:void 0,shortName:void 0,drsWhitelist:!1},this.igoConfig.GFNCefClient?(0,p.of)(!1):this.ensureChromaDataIsAvailableForGame())),(0,tt.h)(at=>at),(0,E.zg)(()=>this.loadSlotsForCurrentGame()),(0,E.zg)(()=>{const at=this.currentGameSlots.modsSlotsInfo.lastSlotIdx;return at>0?(this.nvcameraGameStarted$.next(!0),this.enableModsAndApplySlot(at,!0).pipe((0,O.U)(St=>(this.logger.info("slot",at,"filters applied automatically"),this.sendAnselFreestyleFiltersTelemetry(Q.AN.GameFilter,!0),St)))):(0,p.of)(c.Yk.Common.Nvcamera.AnselStatusEnum.ok)}),(0,E.zg)(at=>this.getHotkeyStringForActiveSlot().pipe((0,O.U)(St=>(this.gameFilterStyleToggleHotkey.next(St),at))))).subscribe(re.Z,at=>{this.logger.error("failed to apply slot automatically: ",at.message)}))}resetState(G=null){if(this.logger.info("resetState"),this.igoConfig.GFNCefClient)this.preResetSessionData.currentGameInfo=this.currentGameInfo,this.preResetSessionData.uiMode=this.currentUIMode,this.preResetSessionData.modsApplied=this.isModsAppliedCurrently;else{const at=null==G?void 0:G.exitAppPID;if(this.logger.info("currentProcessInfo:",this.currentProcessInfo),this.currentProcessInfo&&this.currentProcessInfo.procId!==at&&-1!==at)return void this.logger.info("gameExit ignored for Pid:",at);this.currentProcessInfo&&this.currentProcessInfo.procId===at&&(this.currentFreestyleGameInfo=void 0,this.currentGameChromaInfo=void 0)}this.cachedFeaturesAvailable=void 0,this.currentGameSlots=void 0,this.currentUIMode=void 0,this.isModsAppliedCurrently=!1,this.passFilterStateToTelemetry(),this.gameFilterDisable.next(!0),this.photoModeDisable.next(!0),this.isNvCameraReady=!1,this.currentProcessInfo=void 0,this.telemetryService.setModsActiveStatus(!1),this.saveFilterPresetsData(),this.restartRequired=!1,this.currentGFEGameInfo=void 0,this.currentGameStreamInfo=void 0,this.previewInProgress=!1,this.deletePreviews(),this.slotsPreviewInfo=void 0,this.chromaDBResult=void 0,this.isAppStartedReceived=!1,this.isGameRestartRequestedfromCTA=!1,this.isAIDVCEnabled=!1,this.isAIHDREnabled=!1,this.isNIS2Enabled=!1}onGameExit(G){if(!this.igoConfig.GFNCefClient)return this.resetState(G)}sanitize(G){return Math.floor(G*Mt.Rr)/Mt.Rr}fillSingleSliderControl(G,at,St,wt){wt.id=at.id,wt.dataType=at.dataType,wt.dimension=St,wt.measureUnit=at.measureUnit||"",wt.minValue=Math.round(at.minValue[St]*Mt.wh)/Mt.wh,wt.maxValue=Math.round(at.maxValue[St]*Mt.wh)/Mt.wh,wt.stepSize=Math.round(at.stepSize[St]*Mt.wh)/Mt.wh,wt.currentValue=Math.round(at.currentValue[St]*Mt.wh)/Mt.wh,wt.uiMinValue=at.uiMinValueV1?at.uiMinValueV1[St]:at.uiMinValue,wt.uiMaxValue=at.uiMaxValueV1?at.uiMaxValueV1[St]:at.uiMaxValue,wt.uiStepSize=this.sanitize(at.uiStepSize[St]),0===wt.uiStepSize&&(wt.uiStepSize=Math.abs(wt.uiMaxValue-wt.uiMinValue)/100),wt.uiMinValue!==wt.uiMaxValue?(wt.currentUIValue=Math.round(this.normalizeSliderValue(at.currentValue[St]*Mt.wh/Mt.wh,wt.minValue,wt.maxValue,wt.uiMinValue,wt.uiMaxValue)*Mt.Rr)/Mt.Rr,wt.defaultValue=Math.round(this.normalizeSliderValue(at.defaultValue[St]*Mt.wh/Mt.wh,wt.minValue,wt.maxValue,wt.uiMinValue,wt.uiMaxValue)*Mt.Rr)/Mt.Rr):(wt.currentUIValue=wt.uiMaxValue,wt.defaultValue=wt.uiMaxValue),"int"===at.dataType&&(wt.stepSize=wt.uiStepSize=1)}fillSingleEditControl(G,at,St,wt){wt.id=at.id,wt.dataType=at.dataType,wt.dimension=St,wt.currentValue=at.currentValue[St],wt.minValue=at.minValue[St],wt.maxValue=at.maxValue[St]}createFilterControls(G,at){var St;G&&G.filterDetails&&(at.controls=[],null===(St=G.filterDetails.controls)||void 0===St||St.forEach((wt,Yt,se)=>{const fe={};fe.controlType=wt.controlType,fe.displayName=wt.displayName,fe.currentValueArray=[];const Re=(wt.defaultValue||wt.currentValue||[wt.defaultId]).length;if("slider"===wt.controlType){if(1===Re)this.fillSingleSliderControl(at,wt,0,fe),fe.currentValueArray[0]=fe.currentValue;else if(Re>1){fe.controlType="multislider",fe.subControls=[],fe.id=wt.id,fe.dataType=wt.dataType;for(let Ee=0;Ee<Re;Ee++){const Le={};Le.displayName=wt.uiDisplayNameV1?wt.uiDisplayNameV1[Ee]:"",this.fillSingleSliderControl(at,wt,Ee,Le),fe.currentValueArray[Ee]=Le.currentValue,fe.subControls.push(Le)}}}else if("boolean"===wt.controlType)fe.id=wt.id,fe.controlType=wt.controlType,fe.dataType="bool",fe.dimension=0,fe.currentValue=!!wt.currentValue[0],fe.currentValueArray[0]=fe.currentValue;else if("pulldown"===wt.controlType||"radiobutton"===wt.controlType)fe.id=wt.id,fe.dimension=0,fe.dataType="int",fe.pullDownOrRadioButtonItems=wt.uiDisplayNameV1,fe.currentValueArray[0]=wt.currentId;else{if("edit"!==wt.controlType)return void this.logger.error("unknown filter control type:",wt.controlType);if(1===Re)this.fillSingleEditControl(at,wt,0,fe),fe.currentValueArray[0]=fe.currentValue;else if(Re>1){fe.controlType="multiedit",fe.id=wt.id,fe.dataType=wt.dataType,fe.subControls=[];for(let Ee=0;Ee<Re;Ee++){const Le={};Le.displayName=wt.uiDisplayNameV1?wt.uiDisplayNameV1[Ee]:"",this.fillSingleEditControl(at,wt,Ee,Le),fe.currentValueArray[Ee]=Le.currentValue,fe.subControls.push(Le)}}}at.controls.push(fe)}))}togglePanning(){this.enableAnselRedirection(!this.isRedirectionEnable)}gfnMouseEvent(G,at,St,wt){return this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.MouseEventToNvcamera,{eventName:G,button:at,coordinateX:St,coordinateY:wt}).subscribe()}gfnKBEvent(G,at,St,wt){return this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.KeyboardEventToNvcamera,{eventName:G,keyCode:at,code:St,shiftKey:wt}).subscribe()}enableAnselRedirection(G,at,St){if(at=c.Yk.Common.Nvcamera.Hid.mouse,this.isRedirectionEnable===G)return;let wt;this.isRedirectionEnable=G,this.isInDesktopMode().pipe((0,E.zg)(Yt=>{if(Yt){if(this.currentUIMode!==Q.AN.PhotoMode)return(0,p.of)(!1);wt=c.Yk.Common.Nvcamera.Mode.windowedSDK}else if(this.currentUIMode===Q.AN.PhotoMode)wt=c.Yk.Common.Nvcamera.Mode.fullscreenSDK;else{if(this.currentUIMode!==Q.AN.PhotoModeLight)return(0,p.of)(!1);wt=c.Yk.Common.Nvcamera.Mode.fullscreenNoSDK}return this.igoConfig.GFNCefClient?(0,p.of)(!1):this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.SetAnselRedirection,{enable:G,mode:wt,hid:at})})).subscribe(Yt=>{this.logger.info("EnableAnselRedirection status: ",Yt)},Yt=>{this.logger.error("EnableAnselRedirection error: ",Yt)})}getRedirectionState(){return this.isRedirectionEnable}isInDesktopMode(){return this.oscDisplayService.getCurrentDesktopMode().pipe((0,j.P)(),(0,O.U)(G=>(this.logger.info("Current display mode is ",G),"desktop"===G)))}setLanguageAndGetFilterList(){return this.localeService.localeChanged.pipe((0,j.P)(),(0,E.zg)(G=>(this.logger.info("locale changed to:",G),this.bridgeService.executeCommand(c.Gh.Common.Nvcamera.SetLanguage,{langId:G}))),(0,E.zg)(()=>this.getFilterList()))}getCurrentUIMode(){return this.currentUIMode}setCurrentModSlotName(G){this.currentGameSlots.modsSlotsInfo.slots[this.currentGameSlots.modsSlotsInfo.lastSlotIdx].slotName=G}getCurrentModSlotName(){if(this.isAnyGameFilterSlotSelected()){const G=this.currentGameSlots.modsSlotsInfo.slots[this.currentGameSlots.modsSlotsInfo.lastSlotIdx].slotName;return G&&""!==G.trim()?G:void 0}}getCurrentSlotIndex(){return this.isAnyGameFilterSlotSelected()?this.currentGameSlots.modsSlotsInfo.lastSlotIdx.toString():""}getActiveModsSlot(G){let at;return at=G===Q.AN.GameFilter?this.currentGameSlots.modsSlotsInfo:this.currentGameSlots.anselSlotsInfo,at.slots[at.lastSlotIdx]}isAnyGameFilterSlotSelected(){return!!this.statusOfCaptureEnhance&&this.currentGameSlots&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0}isAnyGameFilterSlotSelectedNvApp(){return this.currentGameSlots&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0}isPreviousSessionRunning(){return this.currentFreestyleGameInfo&&this.currentFreestyleGameInfo.cmsId}getCmsData(){let G=!1;return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterAppNotifications,{}).pipe((0,E.zg)(at=>(this.logger.info("app notification:",at),!at.appStarted||(G=!0,this.isAppStartedReceived=!0,this.currentGameInfo&&this.currentGameInfo.drsWhitelist)?(0,p.of)(void 0):this.isPreviousSessionRunning()?(this.logger.info("not updating current app data"),(0,p.of)(void 0)):(this.logger.info("updating current app data"),at&&(this.currentGFEGameInfo={procId:at.appStarted.pid,cmsId:at.appStarted.cmsId,chromaAppId:at.appStarted.ChromaAppId,drsName:at.appStarted.DRSAppName,drsProfileName:at.appStarted.profileName,shortName:at.appStarted.shortName,drsWhitelist:!1}),this.igoConfig.GFNCefClient?(0,p.of)({}):this.getFreestyleWhitelisted(at.appStarted.DRSAppName)))),(0,I.b)(at=>{this.logger.info("getFreestyleWhitelisted",at),this.currentGameInfo.drsWhitelist=!!at&&at.freestyleWhitelisted,G&&!this.currentGameInfo.drsWhitelist&&(this.nvcameraGameStarted$.next(!0),this.modsAppliedOnGameLaunch$.next(0))}),(0,w.K)(at=>(G=!1,this.logger.error("getFreestyleWhitelisted failed"+JSON.stringify(at)),(0,p.of)())))}setAnselFreestyleState(){this.gameFilterDisable.value&&this.gameFilterDisable.next(!1),this.photoModeDisable.value&&this.photoModeDisable.next(!1)}checkNvCameraReady(){this.queryFeatureSet(this.nvCameraRelaxedTimeout).pipe((0,I.b)(G=>{G&&(G[c.Yk.Common.Nvcamera.FeaturesSupported.mods]||G[c.Yk.Common.Nvcamera.FeaturesSupported.sdk])&&(this.isNvCameraReady=!0,this.logger.info("Setting NvCamera ready"),this.setAnselFreestyleState())})).subscribe()}setNavigationInputDevice(G=[],at=[]){if(G.length===at.length)for(let St=0;St<G.length;St++)switch(G[St]){case ge.Keyboard:this.navigationInputDevice.KEYBOARD=!!at[St];break;case ge.Mouse:this.navigationInputDevice.MOUSE=!!at[St];break;case ge.Gamepad:this.navigationInputDevice.GAMEPAD=!!at[St]}}sendAnselFreestyleFiltersTelemetry(G,at=!1){let St="",wt="",Yt="",se="",fe=0;G===Q.AN.GameFilter&&(this.currentGameSlots.modsSlotsInfo.slots.forEach(Re=>{const Ee=Re.filterStack.filters.length;let Le="";if(Ee){this.slotsUsed.add(fe);for(let xe=0;xe<Ee;xe++)Le+=xe<Ee-1?Re.filterStack.filters[xe].name+", ":Re.filterStack.filters[xe].name}else this.slotsUsed.delete(fe);switch(fe){case 1:St=Le;break;case 2:wt=Le;break;case 3:Yt=Le}if(fe===this.currentGameSlots.modsSlotsInfo.lastSlotIdx&&(se=Le,this.previousStyleApplied!==se))for(let xe=0;xe<Ee;xe++)this.telemetryService.sendAnselFreestyleFilters(Re.filterStack.filters[xe].name,G,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName);fe++}),""!==se&&this.previousStyleApplied!==se&&this.telemetryService.sendFreestyleSlotTelemetry(St,wt,Yt,se,this.currentGameSlots.modsSlotsInfo.lastSlotIdx,this.slotsUsed.size,at,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName)),this.previousStyleApplied=se}sendAnselScreenshotTelemetry(G,at){var St,wt;let Yt="",se=0,fe=this.currentGameInfo;fe||(fe=this.preResetSessionData.currentGameInfo),G===Q.WU.completed&&this.currentGameSlots.anselSlotsInfo.slots.forEach(Re=>{const Ee=Re.filterStack.filters.length;let Le="";if(Ee)for(let tn=0;tn<Ee;tn++){var xe,an,Be,ln;this.telemetryService.sendAnselFreestyleFilters(Re.filterStack.filters[tn].name,Q.AN.PhotoMode,null===(xe=fe)||void 0===xe?void 0:xe.cmsId.toString(),null===(an=fe)||void 0===an?void 0:an.shortName,null===(Be=fe)||void 0===Be?void 0:Be.drsName,null===(ln=fe)||void 0===ln?void 0:ln.drsProfileName),Le+=tn<Ee-1?Re.filterStack.filters[tn].name+", ":Re.filterStack.filters[tn].name}1===se&&(Yt=Le),se++}),this.telemetryService.sendAnselScreenshotTelemetry(G,null===(St=fe)||void 0===St?void 0:St.cmsId,null===(wt=fe)||void 0===wt?void 0:wt.shortName,at.screenshotType,at.screenshotResolution,this.panningUsed,at.mode,at.totalMs,at.gridUsed,at.roll,at.fov,Yt,at.errorType,at.errorString)}sendAnselFreestyleErrorTelemetry(G,at,St){this.getSystemInfo().subscribe(wt=>{let Yt=Q.Wg.unsupportedGame,se=this.currentGameInfo;St?(Yt=Q.Wg.streamerError,se||(se=this.preResetSessionData.currentGameInfo)):se&&!this.checkIfCurrentGameIsAllowlisted()?Yt=Q.Wg.gameBlacklisted:this.nvCameraTimedOut&&(Yt=Q.Wg.nvCameraTimedOut,this.nvCameraTimedOut=!1),se&&this.telemetryService.sendAnselFreestyleErrorTelemetry(G,at,se.cmsId.toString(),se.shortName,se.drsName,se.drsProfileName,wt.cpuName,wt.gpuName,wt.osVersion,wt.isOptimus,wt.systemType,wt.ddVersion,Yt,St)})}errorHandlingForLaunchMenu(G,at){at!==Ct.ERROR_SUPPORTED_GAME&&(this.currentUIMode=void 0),this.igoConfig.GFNCefClient?G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk?(at===Ct.ERROR_SESSION_NOT_ALLOWED?this.oscNotificationService.show(z.ZJ.PhotoModeNotAllowed):this.photoModeDisable.next(!0),this.sendFeatureDisableErrorTelemetry(Q.AN.PhotoMode,Q.$R.nvCameraSessionConfigurationFailed,JSON.stringify(at))):G===c.Yk.Common.Nvcamera.FeaturesSupported.mods&&(this.gameFilterDisable.next(!0),this.sendFeatureDisableErrorTelemetry(Q.AN.GameFilter,Q.$R.nvCameraSessionConfigurationFailed,JSON.stringify(at))):at!==Ct.ERROR_SESSION_NOT_ALLOWED||G!==c.Yk.Common.Nvcamera.FeaturesSupported.sdk?at===Ct.ERROR_RESTART?(this.restartRequired=!0,G===c.Yk.Common.Nvcamera.FeaturesSupported.mods?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!1,errorType:Ct.ERROR_RESTART}):G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{showError:!1,errorType:Ct.ERROR_RESTART})):G===c.Yk.Common.Nvcamera.FeaturesSupported.mods?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!0,errorType:at}):G===c.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{UIMode:this.currentUIMode,isAIUpresEnabled:!1,showError:!0,errorType:at}):this.oscNotificationService.show(this.igoConfig.GFNCefClient?z.ZJ.PhotoModeNotAllowed:z.ZJ.PhotoModeNotAllowedNvApp)}onCaptureEnhanceToggle(){this.statusOfCaptureEnhance&&this.isNvCameraReady?this.applySlot(this.currentGameSlots.modsSlotsInfo.lastSlotIdx,!0).subscribe(G=>{this.logger.info("applySlot success")},G=>{this.logger.error("applySlot failed:",G)}):!this.statusOfCaptureEnhance&&this.isNvCameraReady&&this.resetEntireStack().subscribe(G=>{this.logger.info("resetEntireStack success")},G=>{this.logger.error("resetEntireStack failed:",G)}),this.setHotkeyForSlotToggle(this.statusOfCaptureEnhance&&this.isGameFilterSupported()).subscribe()}setHotkeyForSlotToggle(G){return this.igoConfig.GFNCefClient?(0,p.of)(!1):this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetHotkeyDynamicEnable,{enable:G,keys:[C.sW.FreeStyleToggleStyle1,C.sW.FreeStyleToggleStyle2,C.sW.FreeStyleToggleStyle3]}).pipe((0,O.U)(at=>(this.logger.info("SetHotkeyDynamicEnable returned: ",at),!0)),(0,w.K)(at=>(this.logger.error("SetHotkeyDynamicEnable failed: ",at),(0,p.of)(!1))))}setDynamicHotkey(G,at){this.igoConfig.GFNCefClient||this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetHotkeyDynamicEnable,{enable:G,keys:at}).subscribe(St=>{this.logger.info("SetHotkeyDynamicEnable returned: ",St)},St=>{this.logger.error("SetHotkeyDynamicEnable failed: ",St)})}formatDataForUnifiedIPC(G,at){if(!G||!G.controls||!Array.isArray(G.controls)||0===G.controls.length)return this.logger.error("Fields missing (Filter / Controls). Abort formatting..."),null;const St={filterId:void 0,stackIdx:void 0,controls:[void 0]},wt={slider:1,multislider:1,boolean:2,edit:5,multiedit:5,pulldown:7};return St.filterId=G.id,St.stackIdx=at,St.controls=[],G.controls.forEach(function(Yt){St.controls.push({id:Yt.id,type:wt[Yt.controlType],values:Yt.currentValueArray,dataType:Yt.dataType})}),St}setFilterAndAttributes(G,at){this.logger.info("service.setFilterAndAttributes(). Try to formatDataForUnifiedIPC().");const St=this.formatDataForUnifiedIPC(G,at);return St?(this.logger.info("SetFilterAndAttributes request: ",St),this.nvcameraRequestWithWait(c.Gh.Common.Nvcamera.SetFilterAndAttributes,{filterId:St.filterId,stackIdx:St.stackIdx,controls:St.controls},De.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,O.U)(wt=>wt.filterDetails.filter.status?wt.filterDetails.filter.status:c.Yk.Common.Nvcamera.AnselStatusEnum.failed),(0,oe.h)(1))):(this.logger.error("Fallback to old API (setFilterType)."),this.setFilterWithAttributes(G))}normalizeSliderValue(G,at,St,wt,Yt){return(G-at)/(St-at)*(Yt-wt)+wt}startNvCameraSession(){return this.currentUIMode=Q.AN.GameFilter,this.tryStartNvCameraSession(c.Yk.Common.Nvcamera.FeaturesSupported.mods)}getAiUpresSupported(){return this.igoConfig.GFNCefClient?(0,p.of)(!1):this.systemInfoService.getSystemInfo([V.l7.OSVersion]).pipe((0,O.U)(G=>{const at=G.OSVersion.split(".");return Gt.OSBuildNumber<=parseInt(at[at.length-1],10)}),(0,E.zg)(G=>G?this.getGPUInfo():(0,p.of)(void 0)),(0,O.U)(G=>{if(G){const at=(0,it.find)(G.GPU,{IsPrimary:"1"})||G.GPU[0],St=at.GPUArchitecture,wt=void 0!==at.GPUArchImplementation?parseInt(at.GPUArchImplementation,16):void 0,Yt=parseInt(Gt.GPUArchitecture,16)<=parseInt(St,10),se=Yt&&wt&&!Gt.ExGPUArchImplementation.includes(wt);return!(!Yt||!se)}return!1}),(0,w.K)(G=>(this.logger.error("Error in checking AIUpresSupport: ",G),(0,p.of)(!1))))}updateStreamerState(){this.streamerStateSubscription&&(this.streamerStateSubscription.unsubscribe(),this.streamerStateSubscription=void 0),this.streamerStateSubscription=this.oscDisplayService.streamerState$.subscribe(G=>{if(G){if(this.logger.info("streaming state change: ",G.name),["Error","TerminalError","ResumableError"].indexOf(G.name)>=0&&(this.isModsAppliedCurrently||this.preResetSessionData.modsApplied||this.currentUIMode)){const St="State: "+G.name+", modsActive: "+(this.isModsAppliedCurrently||this.preResetSessionData.modsApplied)+", UI mode: "+(this.currentUIMode?this.currentUIMode:this.preResetSessionData.uiMode||"Other");this.logger.info("StreamerError errorString = ",St),this.sendAnselFreestyleErrorTelemetry(Q.NX.anselFreestyleGeneralFailure,this.currentUIMode||Q.AN.GameFilter,St)}"Done"===G.name&&this.resetState()}})}sendFunctionalityErrorTelemetry(G){this.sendAnselFreestyleErrorTelemetry(Q.NX.anselFreestyleGeneralFailure,this.currentUIMode||Q.AN.GameFilter,G)}sendFeatureDisableErrorTelemetry(G,at,St){var wt,Yt;let se=this.currentGameInfo;se||(se=this.preResetSessionData.currentGameInfo),this.telemetryService.sendAnselFreestyleFeatureDisableTelemetry(null===(wt=se)||void 0===wt?void 0:wt.cmsId.toString(),null===(Yt=se)||void 0===Yt?void 0:Yt.shortName.toString(),G||Q.AN.GameFilter,at,St||"Unknown Error")}transformGFEFilterData(G){this.logger.info("transformGFEFilterData");const at=[];return G?(G.forEach((St,wt)=>{var Yt;const se={filterDetails:{filter:{status:c.Yk.Common.Nvcamera.AnselStatusEnum.ok,stackIdx:wt,id:St.id,filterDisplayName:St.title},controls:[]}};function fe(Le,xe,an){var Be,ln,tn,Kn,$n,mn;xe.minValue.push(null===(Be=Le.range)||void 0===Be?void 0:Be.min),xe.maxValue.push(null===(ln=Le.range)||void 0===ln?void 0:ln.max),xe.defaultValue.push(Le.default),xe.currentValue.push(Le.value),"int"===xe.dataType&&(Le.step=1),xe.stepSize.push(Le.step),xe.uiMinValueV1.push(null===(tn=Le.uiRange)||void 0===tn?void 0:tn.min[an]),xe.uiMaxValueV1.push(null===(Kn=Le.uiRange)||void 0===Kn?void 0:Kn.max[an]),xe.uiMinValue=null===($n=Le.uiRange)||void 0===$n?void 0:$n.min[0],xe.uiMaxValue=null===(mn=Le.uiRange)||void 0===mn?void 0:mn.min[0],0===Le.step&&(Le.step=((xe.uiMaxValueV1?xe.uiMaxValueV1[an]:xe.uiMaxValue)-(xe.uiMinValueV1?xe.uiMinValueV1[an]:xe.uiMinValue))/100,xe.uiStepSize.push(Le.step))}function Re(Le,xe,an){xe.minValue.push(Le.min),xe.maxValue.push(Le.max),xe.defaultValue.push(Le.value),xe.currentValue.push(Le.value)}null===(Yt=St.controls)||void 0===Yt||Yt.forEach(Le=>{var xe,an;const Be={};switch(Be.id=Le.id,Be.displayName=Le.title,Le.type){case"sidebar-slider":Be.controlType="slider",Be.dataType=Le.dataType,Be.uiDisplayNameV1=[""],Be.minValue=[],Be.maxValue=[],Be.defaultValue=[],Be.currentValue=[],Be.stepSize=[],Be.uiStepSize=[],Be.uiMinValueV1=[],Be.uiMaxValueV1=[],Be.uiMinValue=[],Be.uiMaxValue=[],Be.uiDisplayNameV1=[""],fe(Le,Be,0),Be.uiDisplayNameV1=[""];break;case"sidebar-multislider":Be.controlType="slider",Be.dataType=Le.dataType,Be.minValue=[],Be.maxValue=[],Be.defaultValue=[],Be.currentValue=[],Be.stepSize=[],Be.uiStepSize=[],Be.uiMinValueV1=[],Be.uiMaxValueV1=[],Be.uiMinValue=[],Be.uiMaxValue=[],Be.uiDisplayNameV1=[""],null===(xe=Le.subcontrols)||void 0===xe||xe.forEach((ln,tn)=>{Be.uiDisplayNameV1.push(ln.title),fe(ln,Be,tn)});break;case"sidebar-boolean":Be.controlType="boolean",Be.dataType="bool",Be.currentValue=Le.value;break;case"sidebar-list":Be.controlType="pulldown",Be.defaultId=Le.title,Be.currentId=Le.title,Be.uiDisplayNameV1=[],Le.items.forEach(ln=>{Be.uiDisplayNameV1.push(ln.title)});break;case"sidebar-edit":Be.controlType="edit",Be.dataType=Le.dataType,Be.uiDisplayNameV1=[""],Be.minValue=[],Be.maxValue=[],Be.defaultValue=[],Be.currentValue=[],Re(Le,Be);break;case"sidebar-multiedit":Be.controlType="edit",Be.dataType=Le.dataType,Be.minValue=[],Be.maxValue=[],Be.defaultValue=[],Be.currentValue=[],Be.uiDisplayNameV1=[""],null===(an=Le.subcontrols)||void 0===an||an.forEach((ln,tn)=>{Be.uiDisplayNameV1.push(ln.title),Re(ln,Be)})}se.filterDetails.controls.push(Be)});const Ee=new Mt.wn(St.id,St.title,!1,wt);this.createFilterControls(se,Ee),at.push(Ee)}),at):(this.logger.info("Invalid filter stack data from gfe backup"),at)}loadGFEMigrationData(G){try{const at=new Mt.gm,St=G.ModsSlotStorage,wt=G.ModsDataStorage,Yt=3;return St&&wt?(this.logger.info("Porting GFE backup data"),Object.keys(St).forEach(fe=>{var Re;let Ee;for(at.filterPresets[fe]=new Mt.G0,Ee=0;Ee<Yt;Ee++){var Le,xe;const an=null===(Le=wt[fe])||void 0===Le?void 0:Le.lastSlot;at.filterPresets[fe].modsSlotsInfo.lastSlotIdx=an>=0?an:0,at.filterPresets[fe].modsSlotsInfo.slots[Ee+1].filterStack.filters=this.transformGFEFilterData(null===(xe=St[fe][Ee])||void 0===xe?void 0:xe.activeFilterStack)}at.filterPresets[fe].anselSlotsInfo.lastSlotIdx=1,at.filterPresets[fe].anselSlotsInfo.slots[1].filterStack.filters=this.transformGFEFilterData(null===(Re=St[fe][Ee])||void 0===Re?void 0:Re.activeFilterStack)}),this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(at)).pipe((0,I.b)(fe=>this.logger.info("Filter presets migrated from GFE")))):(this.logger.info("No filter presets found in gfe backup"),(0,p.of)(null))}catch{return this.logger.error("Error while migrating filter presets from GFE"),(0,p.of)(null)}}slotSwitchingTelemetry(G,at){let St="",wt="";if(this.logger.info("oldSlotID "+G+" newSlotID "+at),G===at)return;this.isAIDVCEnabled&&(wt=Ce.Fz.RTX_DVC),this.isAIHDREnabled&&(wt=wt?Ce.Fz.RTX_HDR+","+wt:Ce.Fz.RTX_HDR),this.isNIS2Enabled&&wt&&(wt=Ce.Fz.NIS2+","+wt),this.currentGameSlots.modsSlotsInfo.slots[G].filterStack.filters.forEach(se=>{St=St?se.name+","+St:se.name}),(this.isAIDVCEnabled||this.isAIHDREnabled||this.isNIS2Enabled)&&(St=wt+","+St);let Yt="";this.currentGameSlots.modsSlotsInfo.slots[at].filterStack.filters.forEach(se=>{Yt=Yt?Yt+","+se.name:se.name}),(this.isAIDVCEnabled||this.isAIHDREnabled||this.isNIS2Enabled)&&(Yt=wt+","+Yt),this.telemetryService.sendProcessingFilter(this.gameDetails,this.systemInfo.ddVersion,ve.Gz.FiltersSlotChanged,G,St,at,Yt,"",!0)}setAIDVCEnabled(G){this.isAIDVCEnabled=G}setAIHDREnabled(G){this.isAIHDREnabled=G}setNIS2Enabled(G){this.isNIS2Enabled=G}filterAddedTelemetry(G){this.telemetryService.sendProcessingFilter(this.gameDetails,this.systemInfo.ddVersion,ve.Gz.FiltersAdded,0,G,0,"","",!0)}filterAppliedTelemetry(G,at=!1){var St,wt,Yt,se;let fe="";this.isAIDVCEnabled&&(fe=Ce.Fz.RTX_DVC+","),this.isAIHDREnabled&&(fe=fe+Ce.Fz.RTX_HDR+","),this.isNIS2Enabled&&(fe=fe+Ce.Fz.NIS2+",");let Re="";(this.isAIDVCEnabled||this.isAIHDREnabled||this.isNIS2Enabled)&&(this.currentUIMode===Q.AN.GameFilter||at)&&(Re=fe?fe.slice(0,-1):"");const Ee=G||(null===(St=this.currentGameSlots)||void 0===St||null===(St=St.anselSlotsInfo)||void 0===St?void 0:St.lastSlotIdx),Le=this.currentUIMode===Q.AN.GameFilter||at?null===(wt=this.currentGameSlots)||void 0===wt||null===(wt=wt.modsSlotsInfo)||void 0===wt?void 0:wt.slots[G]:null===(Yt=this.currentGameSlots)||void 0===Yt||null===(Yt=Yt.anselSlotsInfo)||void 0===Yt?void 0:Yt.slots[null===(se=this.currentGameSlots)||void 0===se||null===(se=se.anselSlotsInfo)||void 0===se?void 0:se.lastSlotIdx];Le||at?(Le&&Le.filterStack.filters.forEach(xe=>{Re=Re?Re+","+xe.name:xe.name}),Re?(this.logger.info("filters applied, sending telemetry"),this.telemetryService.sendProcessingFilter(this.gameDetails,this.systemInfo.ddVersion,ve.Gz.FiltersApplied,Ee,Re,0,"","",!0)):this.logger.info("No filters applied, skipping telemetry")):this.logger.info("slotsInfo missing")}anselFreestyleCaptureTelemetry(G,at){let St="";const wt=this.currentUIMode===Q.AN.PhotoMode?ve.Oj.Ansel:ve.Oj.AnselLite;this.currentGameSlots.anselSlotsInfo.slots[this.currentGameSlots.anselSlotsInfo.lastSlotIdx].filterStack.filters.forEach(se=>{St=St?St+","+se.name:se.name}),this.isInDesktopMode().subscribe(se=>{this.telemetryIgoService.sendAnselFreestyleCaptureEvent(this.gameDetails,"",this.systemInfo.ddVersion,this.systemInfo.gpuName,G,wt,se?Q.ti.windowed:Q.ti.fullscreen,at?at.screenshotResolution:"",at?at.upResScale:0,St,this.gridUsed,this.panningUsed)})}getScreenshotHotkey(){return this.hotkeyService.getHotkeyString(C.sW.Screenshot)}processingControlSettingsTelemetry(G){if(!this.igoConfig.GFNCefClient){var at,St,wt,Yt;G||null===(at=this.currentGameSlots)||void 0===at||(at=at.anselSlotsInfo);const fe=this.currentUIMode===Q.AN.GameFilter?null===(St=this.currentGameSlots)||void 0===St||null===(St=St.modsSlotsInfo)||void 0===St?void 0:St.slots[G]:null===(wt=this.currentGameSlots)||void 0===wt||null===(wt=wt.anselSlotsInfo)||void 0===wt?void 0:wt.slots[null===(Yt=this.currentGameSlots)||void 0===Yt||null===(Yt=Yt.anselSlotsInfo)||void 0===Yt?void 0:Yt.lastSlotIdx];if(!fe)return;this.isInDesktopMode().subscribe(Re=>{const Ee=Re?Q.ti.windowed:Q.ti.fullscreen;fe.filterStack.filters.forEach(Le=>{Le.controls.forEach(xe=>{const an=xe.currentUIValue?xe.currentUIValue.toString():xe.currentValue.toString();this.sendSingleControlSettingsTelemetry(Le.name,xe.displayName,an,Ee)})})})}}sendSingleControlSettingsTelemetry(G,at,St,wt){this.telemetryService.sendProcessingControlSettings(this.gameDetails,G,at,St,wt)}anselFreestyleErrorTelemetry(G,at,St){if(!this.igoConfig.GFNCefClient){let wt=Q.Wg.unsupportedGame;this.gameDetails&&!this.checkIfCurrentGameIsAllowlisted()?wt=Q.Wg.gameBlacklisted:this.nvCameraTimedOut&&(wt=Q.Wg.nvCameraTimedOut),this.telemetryService.sendAnselFreestyleError(this.gameDetails,G,wt,St,zt.wy.Undefined,ve.Oj[this.currentUIMode],this.sourceTrigger===$e.Ui,this.systemInfo.gpuName,this.systemInfo.ddVersion,this.systemInfo.isOptimus,this.systemInfo.systemType)}}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(f.zs3),f.LFG(l.g),f.LFG(V.ed),f.LFG(V.dF),f.LFG(C.y1),f.LFG(x.v),f.LFG(Y.sK),f.LFG(Nt.dS),f.LFG(st),f.LFG(V.OL),f.LFG(X.l),f.LFG(m.b),f.LFG(z.nG),f.LFG(D.M),f.LFG(V.MC),f.LFG(V._J),f.LFG(V.Ob),f.LFG(Z.In),f.LFG(W.l))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var _e=t(30285);let Ie=(()=>{var rt;class he{constructor(G,at,St,wt,Yt,se,fe,Re,Ee){this.loggingService=G,this.bridgeService=at,this.endpointFactory=St,this.featureSupportService=wt,this.nvCameraService=Yt,this.dbService=se,this.telemetry=fe,this.translateService=Re,this.oscDisplayService=Ee,this.cmsDenyListDataUrl="https://static.nvidiagrid.net/titles/nvidiatech",this.cmsRequestOptions={includeRequestId:!0},this.systemInfo=void 0,this.nisStateInfo=void 0,this.currentGameInfo=void 0,this.DeepDVCDenylistedCmsidArray=[],this.isSystemOnline=!1,this.vibranceDefaultValue=0,this.sharpenDefaultValue=0,this.deepDvcStateAtGameLaunch=[],this.deepDvcStateAtAppLaunch=void 0,this.trueHdrStateAtGameLaunch=[],this.trueHdrStateAtAppLaunch=void 0,this.nis2StateAtGameLaunch=[],this.nis2StateAtAppLaunch=void 0,this.ppeFilterSlotData=void 0,this.currentGameSlotIndex=1,this.hardConstraintSupportFailure=0,this.softConstraintSupportFailure=0,this.isAppStartedReceived=!1,this.isPpeFeaturesEnabled=!1,this.isPpeSupportedGame=!1,this.isPpeFiltersVisible=!1,this.dbStorageName="PpeFilters",this.filterPresetsStorageKeyName="PpeFilterPresets",this.staticFilterListStrings=[],this.disabledDueToGlobalToggle=!1,this.instantEnableSupported=!1,this.deepDvcInitialized$=new i.xQ,this.nisInitialized$=new i.xQ,this.trueHdrInitialized$=new i.xQ,this.ppeGameStartedNotify$=new i.xQ,this.gameLaunchTelemetry=!1,this.logger=this.loggingService.getLogger("PpeService"),this.isAIDVCSupported=!1,this.isAIHDRSupported=!1,this.isNIS2Supported=!1,this.isAIDVCEnabled=!1,this.isAIHDREnabled=!1,this.isNIS2Enabled=!1,this.isAIDVCAddSuccess=!1,this.isAIHDRAddSuccess=!1,this.isPpeFeaturesEnabled=this.featureSupportService.isPpeEnabled(),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName)}init(){this.isPpeFeaturesEnabled=this.featureSupportService.isPpeEnabled(),this.isPpeFeaturesEnabled&&(this.logger.info(" Ppe Service Init"),this.resetGameInfo(),this.registerNotifications(),this.sendGameLaunchAutoAppliedTelemetry(),this.getDeepDVCSystemSupport().pipe((0,O.U)(G=>{this.logger.info("aidvcSupport values : ",G),this.isAIDVCSupported=0===G.errorCode}),(0,w.K)(G=>(this.logger.error("aidvcSupport Error ",G),this.isAIDVCSupported=!1,(0,p.of)(G)))).subscribe(),this.getGlobalRTXHDRSupport().pipe((0,O.U)(G=>{this.logger.info("globalRTXhdrSupport values : ",G),this.isAIHDRSupported=G.globalSupport,this.hardConstraintSupportFailure=this.isAIHDRSupported?0:1}),(0,w.K)(G=>(this.logger.error("rtxHdrSupport Error : ",G),this.isAIHDRSupported=!1,this.hardConstraintSupportFailure=1,(0,p.of)(G)))).subscribe(),this.getNIS2SystemSupport().pipe((0,O.U)(G=>{this.logger.info("nis2Support values : ",G),this.isNIS2Supported=G.supported}),(0,w.K)(G=>(this.logger.error("nis2Support Error ",G),this.isNIS2Supported=!1,(0,p.of)(G)))).subscribe())}changeDeepDvcFilterSettings(G){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.SetAIDVCState,G)}changeTrueHdrFilterSettings(G){return this.oscDisplayService.setRtxHdrStatus(G.enabled),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.SetAIHDRState,G)}changeNis2FilterSettings(G){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.SetNIS2Sharpen,G)}disableAIDVC(G){const at={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!1,saturation:this.deepDvcParametersValue.saturation,intensity:this.deepDvcParametersValue.intensity,saveEnabled:!!G,saveIntensity:!0,saveSaturation:!0,applyEffectInRealTime:!0,isUseGlobal:!1};return this.deepDvcParametersValue&&G&&(this.deepDvcParametersValue.enabled=!1),this.logger.info("PPE filter DeepDVC is being disabled ",at),this.changeDeepDvcFilterSettings(at).pipe((0,I.b)(()=>this.nvCameraService.updatePpeState(Ce.A2,!1)))}disableAIHDR(G){var at;const St={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!1,peakBrightness:this.trueHdrParametersValue.peakBrightness,middleGrey:this.trueHdrParametersValue.middleGrey,contrast:this.trueHdrParametersValue.contrast,saturation:this.trueHdrParametersValue.saturation,saveEnabled:!!G,savePeakBrightness:!0,saveMiddleGrey:!0,saveContrast:!0,saveSaturation:!0,applyEffectInRealTime:this.isAIHDRSupported&&(null===(at=this.trueHdrStateAtAppLaunch)||void 0===at?void 0:at.enabled),isUseGlobal:!1};return this.trueHdrParametersValue&&G&&(this.trueHdrParametersValue.enabled=!1),this.logger.info("PPE filter TrueHDR is being disabled ",St),this.changeTrueHdrFilterSettings(St).pipe((0,I.b)(()=>this.nvCameraService.updatePpeState(Ce.y5,!1)))}saveAIDVCState(){return this.getDeepDVCStateInfo().pipe((0,E.zg)(G=>{if(this.deepDvcParametersValue){const at=this.deepDvcParametersValue.enabled!==G.enabled,St=this.deepDvcParametersValue.intensity!==G.intensity,wt=this.deepDvcParametersValue.saturation!==G.saturation;if(at||St||wt){const se={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:this.deepDvcParametersValue.enabled,intensity:this.deepDvcParametersValue.intensity,saturation:this.deepDvcParametersValue.saturation,saveEnabled:at,saveIntensity:St,saveSaturation:wt,applyEffectInRealTime:!1,isUseGlobal:!1};return this.logger.info("DeepDVC Drs is being updated ",se,this.deepDvcParametersValue),this.changeDeepDvcFilterSettings(se)}}return(0,p.of)(null)})).subscribe(()=>{this.nvCameraService.isInDesktopMode().subscribe(G=>{const at=G?Q.ti.windowed:Q.ti.fullscreen;this.deepDvcParametersValue&&(this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_DVC,Ce.rA.filterDetails.controls[0].displayName,this.deepDvcParametersValue.intensity.toString(),at),this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_DVC,Ce.rA.filterDetails.controls[1].displayName,this.deepDvcParametersValue.saturation.toString(),at))})})}saveAIHDRState(){return this.getTrueHDRStateInfo().pipe((0,E.zg)(G=>{if(this.trueHdrParametersValue){const at=this.trueHdrParametersValue.enabled!==G.enabled,St=this.trueHdrParametersValue.peakBrightness!==G.peakBrightness,wt=this.trueHdrParametersValue.middleGrey!==G.middleGrey,Yt=this.trueHdrParametersValue.contrast!==G.contrast,se=this.trueHdrParametersValue.saturation!==G.saturation;if(at||St||wt||Yt||se){const Re={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:this.trueHdrParametersValue.enabled,peakBrightness:this.trueHdrParametersValue.peakBrightness,middleGrey:this.trueHdrParametersValue.middleGrey,contrast:this.trueHdrParametersValue.contrast,saturation:this.trueHdrParametersValue.saturation,saveEnabled:at,savePeakBrightness:St,saveMiddleGrey:wt,saveContrast:Yt,saveSaturation:se,applyEffectInRealTime:!1,isUseGlobal:!1};return this.logger.info("TrueHDR Drs is being updated ",Re,this.trueHdrParametersValue),this.changeTrueHdrFilterSettings(Re)}}return(0,p.of)(null)})).subscribe(()=>{this.nvCameraService.isInDesktopMode().subscribe(G=>{const at=G?Q.ti.windowed:Q.ti.fullscreen;this.trueHdrParametersValue&&(this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_HDR,Ce.QT.filterDetails.controls[0].displayName,this.trueHdrParametersValue.peakBrightness.toString(),at),this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_HDR,Ce.QT.filterDetails.controls[1].displayName,this.trueHdrParametersValue.middleGrey.toString(),at),this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_HDR,Ce.QT.filterDetails.controls[2].displayName,this.trueHdrParametersValue.contrast.toString(),at),this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.RTX_HDR,Ce.QT.filterDetails.controls[3].displayName,this.trueHdrParametersValue.saturation.toString(),at))})})}saveNIS2State(){return this.getNIS2StateInfo().pipe((0,E.zg)(G=>{if(this.nis2ParametersValue){const St=this.nis2ParametersValue.sharpen!==G.sharpen;if(St){const wt={processId:this.currentGameInfo.procId,sharpen:this.nis2ParametersValue.sharpen,saveToDRS:St};return this.logger.info("NIS2 Drs is being updated ",wt,this.nis2ParametersValue),this.changeNis2FilterSettings(wt)}}return(0,p.of)(null)})).subscribe(()=>{this.nis2ParametersValue&&this.nvCameraService.isInDesktopMode().subscribe(G=>{const at=G?Q.ti.windowed:Q.ti.fullscreen;this.nvCameraService.sendSingleControlSettingsTelemetry(Ce.Fz.NIS2,Ce.Rj.filterDetails.controls[0].displayName,this.nis2ParametersValue.sharpen.toString(),at)})})}restoreAIDVC(G){const at={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:G.enabled,saturation:G.saturation,intensity:G.intensity,saveEnabled:!1,saveIntensity:!1,saveSaturation:!1,applyEffectInRealTime:!0,isUseGlobal:!1};return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:G.enabled,intensity:G.intensity,saturation:G.saturation},this.logger.info("Restoring AIDVC state ",at),this.changeDeepDvcFilterSettings(at)}restoreAIHDR(G){const at={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:G.enabled,peakBrightness:G.peakBrightness,middleGrey:G.middleGrey,contrast:G.contrast,saturation:G.saturation,saveEnabled:!1,savePeakBrightness:!1,saveMiddleGrey:!1,saveContrast:!1,saveSaturation:!1,applyEffectInRealTime:!0,isUseGlobal:!1};return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:G.enabled,peakBrightness:G.peakBrightness,middleGrey:G.middleGrey,contrast:G.contrast,saturation:G.saturation},this.logger.info("Restoring AIHDR state ",at),this.changeTrueHdrFilterSettings(at)}restoreNIS2(G){const at={processId:this.currentGameInfo.procId,sharpen:G.sharpen,saveToDRS:!1};return this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:G.enabled,sharpen:G.sharpen},this.logger.info("Restoring NIS2 state ",at),this.changeNis2FilterSettings(at)}sendGameLaunchAutoAppliedTelemetry(){(0,bt.T)(this.nvCameraService.gameStartedNotify(),this.ppeGameStartedNotify$).pipe((0,tt.h)(G=>!this.gameLaunchTelemetry),(0,B.b)(G=>(this.gameLaunchTelemetry=!0,(0,y.$R)(this.deepDvcInitialized$.asObservable(),this.nisInitialized$.asObservable(),this.trueHdrInitialized$.asObservable(),this.nvCameraService.modsSlotappliedComplete()))),(0,O.U)(([G,at,St,wt])=>(null!==wt&&this.nvCameraService.filterAppliedTelemetry(wt,!0),this.gameLaunchTelemetry=!1,null))).subscribe()}restorePPEFilters(G=!1){this.disabledDueToGlobalToggle||this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]<=0||(G&&this.ppeGameStartedNotify$.next(!0),this.getDenyListData(!1).pipe((0,k.q)(1),(0,E.zg)(at=>this.DeepDVCDenylistedCmsidArray.includes(this.currentGameInfo.cmsId)?(this.logger.info("Game is blacklisted for AI DVC"),(0,p.of)({errorCode:Ce.ib.FEATURE_SUPPORT_ERROR_ERROR})):this.getDeepDVCSystemSupport()),(0,E.zg)(at=>(this.logger.info("getDeepDVCSystemSupport ",at),this.instantEnableSupported=at.instantEnableSupported,at.errorCode===Ce.ib.FEATURE_SUPPORT_ERROR_OK?(this.isAIDVCSupported=!0,this.isPpeFiltersVisible=this.isPpeFiltersVisible||this.isAIDVCSupported,(0,p.of)(!0)):(this.isAIDVCSupported=!1,this.isPpeFiltersVisible=this.isPpeFiltersVisible||this.isAIDVCSupported,this.deepDvcInitialized$.next(!1),(0,p.of)(!1)))),(0,tt.h)(at=>!!at),(0,E.zg)(at=>(this.logger.info("getDeepDVCSystemSupport response",at),this.getDeepDVCStateInfo())),(0,E.zg)(at=>{if(this.isAIDVCEnabled=at.enabled,this.nvCameraService.setAIDVCEnabled(this.isAIDVCEnabled),this.deepDvcInitialized$.next(at.enabled),this.deepDvcStateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:at.enabled,saturation:at.saturation,intensity:at.intensity},this.logger.info("AIDVC values at app launch ",this.deepDvcStateAtAppLaunch),this.isAIDVCEnabled){let St=-1;return this.deepDvcStateAtGameLaunch&&(St=this.deepDvcStateAtGameLaunch.findIndex(wt=>wt.cmsId===this.currentGameInfo.cmsId)),-1!==St?this.deepDvcStateAtGameLaunch[St]=this.deepDvcStateAtAppLaunch:this.deepDvcStateAtGameLaunch.push(this.deepDvcStateAtAppLaunch),this.restoreAIDVC(at)}return(0,p.of)(!1)}),(0,w.K)(at=>(this.deepDvcInitialized$.next(!1),this.nvCameraService.updatePpeState(Ce.A2,!1),this.logger.info("Restore AIDVC Filter error : ",at),(0,p.of)(!1)))).subscribe(at=>{this.nvCameraService.updatePpeState(Ce.A2,!!at),this.logger.info("Restore AIDVC Filter response",at)}),this.getRTXHDRSupportperDisplay().pipe((0,E.zg)(at=>(this.logger.info("getRTXHDRSupportperDisplay : ",at),this.isAIHDRSupported=at.isSupported,this.getErrorCodeList(at.errorCode),this.isPpeFiltersVisible=this.isAIHDRSupported?this.isPpeFiltersVisible||this.isAIHDRSupported:this.isPpeFiltersVisible||!this.hardConstraintSupportFailure,this.maxPeakBrightness=at.maxPeakBrightness,this.minPeakBrightness=at.minPeakBrightness,(0,p.of)(at.isSupported))),(0,E.zg)(at=>(this.logger.info("getRTXHDRSupportperDisplay response",at),this.getTrueHDRStateInfo())),(0,E.zg)(at=>{if(this.isAIHDREnabled=at.enabled,this.nvCameraService.setAIHDREnabled(this.isAIHDREnabled),this.trueHdrInitialized$.next(!0),this.trueHdrStateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:at.enabled,peakBrightness:at.peakBrightness,middleGrey:at.middleGrey,contrast:at.contrast,saturation:at.saturation},this.logger.info("AIHDR values at app launch ",this.trueHdrStateAtAppLaunch),at.supported&&this.isAIHDREnabled){let St=-1;return this.trueHdrStateAtGameLaunch&&(St=this.trueHdrStateAtGameLaunch.findIndex(wt=>wt.cmsId===this.currentGameInfo.cmsId)),-1!==St?this.trueHdrStateAtGameLaunch[St]=this.trueHdrStateAtAppLaunch:this.trueHdrStateAtGameLaunch.push(this.trueHdrStateAtAppLaunch),this.restoreAIHDR(at)}return(0,p.of)(!1)}),(0,w.K)(at=>(this.trueHdrInitialized$.next(!1),this.logger.info("Restore AIHDR Filter error : ",at),this.nvCameraService.updatePpeState(Ce.y5,!1),(0,p.of)(!1)))).subscribe(at=>{this.nvCameraService.updatePpeState(Ce.y5,!!at),this.logger.info("Restore AIHDR Filter response",at)}),this.getNIS2SystemSupport().pipe((0,E.zg)(at=>(this.logger.info("getNIS2SystemSupport ",at),this.isNIS2Supported=at.supported,at.supported||this.nisInitialized$.next(!1),(0,p.of)(!!at.supported))),(0,tt.h)(at=>!!at),(0,E.zg)(at=>(this.logger.info("getNIS2SystemSupport response",at),this.getNIS2StateInfo())),(0,E.zg)(at=>{if(this.isNIS2Enabled=at.enabled,this.isPpeFiltersVisible=this.isPpeFiltersVisible||this.isNIS2Enabled,this.nvCameraService.setNIS2Enabled(this.isNIS2Enabled),this.nisInitialized$.next(!0),this.nis2StateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:at.sharpen},this.logger.info("NIS2 values at app launch ",this.nis2StateAtAppLaunch),this.isNIS2Enabled){let St=-1;return this.nis2StateAtGameLaunch&&(St=this.nis2StateAtGameLaunch.findIndex(wt=>wt.cmsId===this.currentGameInfo.cmsId)),-1!==St?this.nis2StateAtGameLaunch[St]=this.nis2StateAtAppLaunch:this.nis2StateAtGameLaunch.push(this.nis2StateAtAppLaunch),this.restoreNIS2(at)}return(0,p.of)(!1)}),(0,w.K)(at=>(this.nisInitialized$.next(!1),this.logger.info("Restore NIS2 Filter error : ",at),this.nvCameraService.updatePpeState(Ce.dQ,!1),(0,p.of)(!1)))).subscribe(at=>{this.nvCameraService.updatePpeState(Ce.dQ,!!at),this.logger.info("Restore NIS2 Filter response",at)}))}registerNotifications(){this.getCmsData().subscribe(),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,tt.h)(G=>!(null==G||!G.gameExited))).subscribe(G=>{this.onGameAppExit(G)}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,tt.h)(G=>!(null==G||!G.appStarted)),(0,E.zg)(G=>(this.logger.info(" App Start Data: ",G),this.nvCameraService.isPreviousSessionRunning()?this.logger.info("APP updte skipped since previous NvCamera session running"):(this.isAppStartedReceived=!0,this.isPpeSupportedGame=!0,G&&(this.currentGameInfo={procId:G.appStarted.pid,cmsId:G.appStarted.cmsId,drsName:G.appStarted.DRSAppName,drsProfileName:G.appStarted.profileName,shortName:G.appStarted.shortName,drsWhitelist:!1})),this.nvCameraService.getGlobalToggle())),(0,E.zg)(G=>(this.disabledDueToGlobalToggle=!G||this.nvCameraService.getIsGameRestartRequestedfromCTA(),this.loadPpeSlotsForCurrentGame()))).subscribe(()=>{this.disabledDueToGlobalToggle?this.logger.info("Restore PPE filter skipped"):(this.logger.info("Checking Restore PPE filter"),this.restorePPEFilters(!0))}),this.nvCameraService.getLastSlotChangedUpdates().subscribe(G=>this.onSlotChanged(G))}getCmsData(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterAppNotifications,{}).pipe((0,E.zg)(G=>(this.logger.info("app notification:",G),G.appStarted?this.nvCameraService.isPreviousSessionRunning()?(this.logger.info("Preious session running in NvCamera"),(0,p.of)(void 0)):(this.isAppStartedReceived=!0,this.isPpeSupportedGame=!0,this.logger.info("updating current app data"),G&&(this.currentGameInfo={procId:G.appStarted.pid,cmsId:G.appStarted.cmsId,drsName:G.appStarted.DRSAppName,drsProfileName:G.appStarted.profileName,shortName:G.appStarted.shortName,drsWhitelist:!1}),this.logger.info(" getCmsData currentGameInfo : ",this.currentGameInfo),(0,p.of)({})):(0,p.of)(void 0))),(0,E.zg)(G=>(G&&(this.currentGameInfo.drsWhitelist=G.freestyleWhitelisted),this.getDenyListData(!1))),(0,E.zg)(G=>(this.logger.info("game App Started ",G),this.getDenyListData(!1))),(0,w.K)(G=>(this.logger.error("Unable to fetch cms denylist data: "+G),(0,p.of)(this.DeepDVCDenylistedCmsidArray))))}updateNIS2State(G){this.nisStateInfo.enabled=G.enabled,this.nisStateInfo.sharpen=G.sharpen,this.setSharpness(G.sharpen,!1)}onGameAppExit(G){this.logger.info(" GameApp exit ProcessID:",G.exitAppPID),this.isAppStartedReceived=!1,this.isPpeSupportedGame=!1,this.isPpeFiltersVisible=!1,this.instantEnableSupported=!1;const at=this.deepDvcStateAtGameLaunch.findIndex(Yt=>Yt.cmsId===this.currentGameInfo.cmsId);this.deepDvcStateAtGameLaunch.splice(at,1);const St=this.trueHdrStateAtGameLaunch.findIndex(Yt=>Yt.cmsId===this.currentGameInfo.cmsId);this.trueHdrStateAtGameLaunch.splice(St,1);const wt=this.trueHdrStateAtGameLaunch.findIndex(Yt=>Yt.cmsId===this.currentGameInfo.cmsId);this.nis2StateAtGameLaunch.splice(wt,1),this.savePpeFilterPresetsData(),this.resetGameInfo(),this.ResetGraphicsSettingValues()}getDenyListData(G){return 0!==this.DeepDVCDenylistedCmsidArray.length?(0,p.of)(this.DeepDVCDenylistedCmsidArray):this.queryDenylistData(G)}queryDenylistData(G){return this.endpoint||(this.endpoint=this.createEndpoint(G)),this.endpoint.get(this.cmsDenyListDataUrl,this.cmsRequestOptions).pipe((0,O.U)(St=>(St&&St.data&&(this.DeepDVCDenylistedCmsidArray=[],St.data.forEach(wt=>{!1===wt.isDeepDVCAllowed&&this.DeepDVCDenylistedCmsidArray.push(wt.cms_appId)})),this.DeepDVCDenylistedCmsidArray)),(0,w.K)(St=>(this.logger.error("Unable to obtain game meta data.",St),(0,p.of)(this.DeepDVCDenylistedCmsidArray))))}createEndpoint(G){return this.endpointFactory.createEndpoint({config:{timeout:3e3,timeBetweenRetries:3e4,maxRetries:G?1:3}})}getDeepDVCSystemSupport(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIDVCSupport)}getGlobalRTXHDRSupport(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIHDRSupport_V2)}getRTXHDRSupportperDisplay(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIHDRDisplayInfoForProcess,{processId:this.currentGameInfo.procId})}getNIS2SystemSupport(){return this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetNIS2State,{processId:0,cmsId:0})}runTimeChangeControlValue(G){const at=G.controls;if(at&&G.id===Ce.A2&&(this.isAIDVCEnabled||this.instantEnableSupported)){const St={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!0,saturation:at[1].currentUIValue,intensity:at[0].currentUIValue,saveEnabled:!1,saveIntensity:!1,saveSaturation:!1,applyEffectInRealTime:!0,isUseGlobal:!1};return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:St.enabled,intensity:St.intensity,saturation:St.saturation},this.logger.info("DeepDVC filter values updated and are being applied ",St),this.changeDeepDvcFilterSettings(St)}if(at&&G.id===Ce.A2&&!this.isAIDVCEnabled)return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:!0,intensity:at[0].currentUIValue,saturation:at[1].currentUIValue},this.logger.info("DeepDVC filter values updated and are being saved ",this.deepDvcParametersValue),(0,p.of)(!0);if(at&&G.id===Ce.y5){let St,wt,Yt,se;if(this.maxPeakBrightness<=this.minPeakBrightness?(St=this.maxPeakBrightness,wt=at[0].currentUIValue,Yt=at[1].currentUIValue,se=at[2].currentUIValue):(St=at[0].currentUIValue,wt=at[1].currentUIValue,Yt=at[2].currentUIValue,se=at[3].currentUIValue),this.isAIHDREnabled){const fe={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!0,peakBrightness:St,middleGrey:wt,contrast:Yt,saturation:se,saveEnabled:!this.isAIHDRSupported,savePeakBrightness:!1,saveMiddleGrey:!1,saveContrast:!1,saveSaturation:!1,applyEffectInRealTime:this.isAIHDRSupported&&this.trueHdrStateAtAppLaunch.enabled,isUseGlobal:!1};return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:fe.enabled,peakBrightness:fe.peakBrightness,middleGrey:fe.middleGrey,contrast:fe.contrast,saturation:fe.saturation},this.logger.info("TrueHDR filter values updated and are being applied ",fe),this.changeTrueHdrFilterSettings(fe)}return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:!0,peakBrightness:St,middleGrey:wt,contrast:Yt,saturation:se},this.logger.info("TrueHDR filter values updated and are being saved ",this.trueHdrParametersValue),(0,p.of)(!0)}if(at&&G.id===Ce.dQ&&this.isNIS2Enabled){const St={processId:this.currentGameInfo.procId,sharpen:at[0].currentUIValue,saveToDRS:!1};return this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:St.sharpen},this.logger.info("NIS2 filter values updated and are being applied ",St),this.changeNis2FilterSettings(St)}return at&&G.id===Ce.dQ&&!this.isNIS2Enabled?(this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:at[0].currentUIValue},this.logger.info("NIS2 filter values updated and are being saved ",this.nis2ParametersValue),(0,p.of)(!0)):void 0}getDeepDVCStateInfo(){return this.logger.info(" : getDeepDVCStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIDVCState,{cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId})}getAIDVCRealTimeStateInfo(){return this.logger.info(" : getAIDVCRealTimeStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetRealtimeAIDVCState,{processId:this.currentGameInfo.procId})}getTrueHDRStateInfo(){return this.logger.info(" : getTrueHDRStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIHDRState,{cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId})}getTrueHDRRealTimeStateInfo(){return this.logger.info(" : getTrueHDRRealTimeStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetAIHDRRealTimeState,{processId:this.currentGameInfo.procId})}getNIS2StateInfo(){return this.logger.info(" : getNIS2StateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetNIS2State,{cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId})}savePpeFilterPresetsData(){this.ppeFilterSlotData&&this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(this.ppeFilterSlotData)).subscribe(()=>{this.logger.info("Filter presets data storage updated")},G=>{this.logger.error("Error while updating filter presets data storage: ",G)})}loadPpeFilterPresetsData(){return this.ppeFilterSlotData?(0,p.of)(!0):(this.ppeFilterSlotData=new Ce.Kj,this.dBStore.getItem(this.filterPresetsStorageKeyName).pipe((0,O.U)(G=>{if(G)try{this.ppeFilterSlotData=JSON.parse(G),this.logger.info("Ppe Filter slots data found in the storage")}catch(at){this.logger.error("Failed to parse stored Ppe Filter slots data exception : ",at)}else this.logger.info("Ppe Filter slots data not found in the storage");return!0}),(0,w.K)(G=>(this.logger.error("Could not load filter presets data from the storage: ",JSON.stringify(G)),(0,p.of)(!0)))))}loadPpeSlotsForCurrentGame(){return this.loadPpeFilterPresetsData().pipe((0,I.b)(()=>{let G=-1;G=this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName],-1===G||void 0===G?(this.logger.info("No saved Ppe filter presets found for the game"),this.currentGameSlotIndex=1):(this.logger.info("Saved Ppe filter presets loaded for the game",G),this.currentGameSlotIndex=G)}))}updatePpeFilterSlotIndex(G){this.currentGameSlotIndex=G,this.ppeFilterSlotData&&(this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]=G)}isAnyPpeFilterSlotSelected(){var G;return(null===(G=this.ppeFilterSlotData)||void 0===G||null===(G=G.ppeFilterSlot)||void 0===G?void 0:G[this.currentGameInfo.drsProfileName])>0}getCurrentPpeSlotIndex(){return this.isAnyPpeFilterSlotSelected()?this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName].toString():""}getCurrentPpeSlotNumber(){return this.isAnyPpeFilterSlotSelected()?this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]:null}getAiDvcErrorCodeList(G,at){let St=0,wt=0;const Yt=G?c.Yk.Share.Graphicssetting.AidvcUnSupportedErrors:c.Yk.Share.Graphicssetting.AidvcRealTimeErrors,se=Object.keys(Yt).filter(fe=>isNaN(Number(fe))).map((fe,Re)=>{if(St=G&&Object.values(Ce.Vk).includes(fe)?1:0,wt=at&1<<Yt[fe],wt)return this.isAIDVCSupported=!St,this.constructErrorItem(Yt[fe],!!St,!!wt)});return this.logger.info("AiDvc ErrorList : "+JSON.stringify(se)),se}getErrorCodeList(G){this.logger.info(" : Support ErrorCodes : ",G),this.hardConstraintSupportFailure=0,this.softConstraintSupportFailure=1;let at=0,St=0;const wt=Object.keys(c.Yk.Share.Graphicssetting.AihdrUnSupportedErrors).filter(Yt=>isNaN(Number(Yt))).map((Yt,se)=>{if(at=Object.values(Ce.Vk).includes(Yt)?1:0,St=G&1<<c.Yk.Share.Graphicssetting.AihdrUnSupportedErrors[Yt],at&&St&&(this.hardConstraintSupportFailure=at&&St),St)return this.isAIHDRSupported=!1,this.constructErrorItem(c.Yk.Share.Graphicssetting.AihdrUnSupportedErrors[Yt],!!at,!!St)});return G&&!this.hardConstraintSupportFailure&&(this.softConstraintSupportFailure=1),this.logger.info("ErrorList : "+JSON.stringify(wt)),wt}constructErrorItem(G,at,St){return{errorId:G,hardConstraint:at,valueSet:St}}setSharpness(G,at){return(0,p.of)(!1)}setVibrance(G,at){return(0,p.of)(!1)}reapplyDesktopSharpness(){this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.GetNIS2State,{cmsId:0,processId:0}).pipe((0,E.zg)(G=>(this.logger.info("NIS2 Desktop/Global info",G),this.bridgeService.executeCommand(c.Gh.Share.Graphicssetting.SetNIS2Sharpen,{processId:0,sharpen:G.sharpen,saveToDRS:!1}))),(0,w.K)(G=>(this.logger.error("on NIS2 reapplyDesktopSharpness Error ",G),(0,p.of)([]))))}getAllStaticFilterList(){return this.staticFilterListStrings=[],this.featureSupportService.isPpeEnabled()&&(this.isAIDVCSupported&&(this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.AiDigitalVibrance"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]}),this.isPpeFiltersVisible=this.isAppStartedReceived),(this.isAIHDRSupported||!this.isAIHDRSupported&&!this.hardConstraintSupportFailure)&&(this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.TrueHDRTitle"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]}),this.isPpeFiltersVisible=this.isAppStartedReceived),this.isNIS2Supported&&(this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.NIS"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]}),this.isPpeFiltersVisible=this.isAppStartedReceived)),Mt.xu.forEach(G=>{this.staticFilterListStrings.push({id:"1",name:this.translateService.instant("nvcamera."+G),isVisible:!0,isPPEFilter:!1,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]})}),this.staticFilterListStrings}ResetGraphicsSettingValues(){this.reapplyDesktopSharpness(),this.isAIDVCAddSuccess=!1,this.isAIHDRAddSuccess=!1}resetGameInfo(){this.currentGameInfo={procId:0,cmsId:0,drsName:"",drsProfileName:"",shortName:"",drsWhitelist:!1},this.nvCameraService.updatePpeState(Ce.dQ,!1),this.nvCameraService.updatePpeState(Ce.y5,!1),this.nvCameraService.updatePpeState(Ce.A2,!1)}initializeNISInfo(){this.nisStateInfo={supported:!1,enabled:!1,cmsId:0,selectedResolutionIndex:0,resolutions:[],sharpen:0}}initializeAIDVCInfo(){this.deepDvcParametersValue={cmsId:0,enabled:!1,intensity:0,saturation:0}}initializeAIHDRInfo(){this.trueHdrParametersValue={cmsId:0,enabled:!1,peakBrightness:0,middleGrey:0,contrast:0,saturation:0}}checkFreestyleWhitelisted(){return this.nvCameraService.getFreestyleWhitelisted(this.currentGameInfo.drsName).pipe((0,O.U)(G=>(this.currentGameInfo.drsWhitelist=G.freestyleWhitelisted,G.freestyleWhitelisted)),(0,w.K)(G=>(this.logger.info("getFreestyleWhitelisted error : ",G),this.currentGameInfo.drsWhitelist=!1,G)))}isFreestyleSupportedGame(){var G;return null===(G=this.currentGameInfo)||void 0===G?void 0:G.drsWhitelist}onSlotChanged(G){if(this.logger.info("onSlotChanged"),this.isPpeFeaturesEnabled&&this.isPpeSupportedGame)if(this.updatePpeFilterSlotIndex(G),0===G){var at,St;null!==(at=this.deepDvcParametersValue)&&void 0!==at&&at.enabled&&this.getDenyListData(!1).pipe((0,k.q)(1),(0,E.zg)(se=>this.DeepDVCDenylistedCmsidArray.includes(this.currentGameInfo.cmsId)?(this.logger.info("Game is black listed for AI DVC. AI DVC disable not required"),(0,p.of)(!1)):(this.logger.info("Disabling AI DVC"),this.disableAIDVC(G)))).subscribe(),null!==(St=this.trueHdrParametersValue)&&void 0!==St&&St.enabled&&this.disableAIHDR(G).subscribe()}else{var wt,Yt;null!==(wt=this.deepDvcParametersValue)&&void 0!==wt&&wt.enabled&&this.getDenyListData(!1).pipe((0,k.q)(1),(0,E.zg)(se=>this.DeepDVCDenylistedCmsidArray.includes(this.currentGameInfo.cmsId)?(this.logger.info("Game is black listed for AI DVC. AI DVC will not be restored"),(0,p.of)(!1)):(this.logger.info("Restoring AI DVC"),this.restoreAIDVC(this.deepDvcParametersValue)))).subscribe(),null!==(Yt=this.trueHdrParametersValue)&&void 0!==Yt&&Yt.enabled&&this.restoreAIHDR(this.trueHdrParametersValue).subscribe()}}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(V.dF),f.LFG(_e.V9),f.LFG(W.l),f.LFG(ee),f.LFG(V.MC),f.LFG(X.l),f.LFG(Y.sK),f.LFG(x.v))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})(),On=(()=>{var rt;class he{constructor(G,at,St,wt,Yt){this.loggingService=G,this.osService=at,this.bridgeService=St,this.galleryService=Yt,this.uploadDataList=[],this.memeQueue=[],this.DefaultMemeMaxLength=80,this.upperMemeMaxed=this.DefaultMemeMaxLength,this.lowerMemeMaxed=this.DefaultMemeMaxLength,this.saveBitmap=!0,this.idTracker=0,this.dirSeparator="",this.logger=this.loggingService.getLogger("MemeService"),this.renderer=wt.createRenderer(null,null)}init(){this.logger.info("Initializing Meme Service"),this.dirSeparator=this.osService.getDirSeparator(),this.galleryService.captureSaved().subscribe(G=>{if(this.memeQueue.length>0){const at=this.memeQueue.find(St=>St.source===G);at&&(this.saveMemeStrings(at).subscribe(),this.memeQueue=this.memeQueue.filter(St=>St.source!==G))}})}createMeme(G){this.memeParams=G,this.memeCanvasData="",this.logger.info("Meme params: ",G),0!==G.width&&setTimeout(()=>{if(this.memeCanvasData=this.createMemeCanvasForGIFTranscoder(this.memeParams.width,this.memeParams.height),this.saveBitmap){const St=this.writeEncryptedBmp(this.memeCanvasData).subscribe(()=>{St.unsubscribe()})}const at=this.setupTranscode(!1).subscribe(St=>{St&&this.logger.info("Transcode Meme/GIF complete!",G),at.unsubscribe()})})}createGIF(G){this.gifParams=G,this.logger.info("GIF params: ",G),setTimeout(()=>{const at=this.setupTranscode(!0).subscribe(St=>{St&&this.logger.info("Transcode GIF complete!",G),at.unsubscribe()})})}setupTranscode(G){const wt={file:G?this.gifParams.file:this.memeParams.file,targetPath:"",maxFileSizeMB:G?void 0:200,quality:"medium",newHeight:720,newFps:"high",newDuration:G?this.gifParams.duration:this.memeParams.duration,userData:this.idTracker,memeImage:G?"":this.memeCanvasData};return this.getTemporaryFolderPath().pipe((0,E.zg)(Yt=>(this.idTracker++,Yt[Yt.length-1]===this.dirSeparator&&(Yt=Yt.slice(0,-1)),wt.targetPath=Yt,this.saveUploadData(this.idTracker,wt))),(0,E.zg)(()=>this.gifTranscode(wt)))}saveUploadData(G,at){return this.getMemeStrings(at.file).pipe((0,O.U)(St=>(this.uploadData={id:G,folder:at.targetPath,fileSize:0,type:"video",subtype:"",videoUploadTitle:"",privacy:"",destination:"",fileSource:"",highlightDefinitionId:"",conversionStartTime:"",DRSName:"",DRSProfileName:"",fullFilename:at.file,fileName:"",containsMeme:""===at.memeImage?"No":"Yes",topMemeLength:St.top.length,bottomMemeLength:St.bottom.length},-1===this.findUploadDataInList(this.uploadData.id)&&(this.uploadDataList.push(this.uploadData),this.logger.info("Stored UploadData: ",this.uploadData)),!0)))}findUploadDataInList(G){let at=-1;return this.uploadDataList.forEach(function(St,wt){St.id===G&&(at=wt)}),at}getFilename(G){return/.*[\\/](.*)/.exec(G)[1]}getTemporaryFolderPath(){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetSettings).pipe((0,O.U)(G=>G.settings.tempFolderPath))}createMemeCanvasForGIFTranscoder(G,at){this.logger.info("Begin creating Bitmap at: "+G+"x"+at);const St=G,wt=at,Yt=this.renderer.createElement("canvas");Yt.width=St,Yt.height=wt;const se=Yt.getContext("2d");se.fillStyle="rgba(0,0,0,0)",se.fillRect(0,0,St,wt);const fe=this.memeParams.topFontSize*(St/this.memeParams.clientWidth),Re=this.memeParams.bottomFontSize*(St/this.memeParams.clientWidth),Ee=this.memeParams.strokeColor||"black",Le=this.memeParams.fillColor||"white";let xe=fe.toFixed(0);se.font=xe+"px NVIDIA",this.logger.info("Video Font top: ",se.font);let an=this.calculateFontWidth(fe,this.memeParams.topString),Be=Math.floor(St/2-an/2),ln=parseInt(xe,10);this.logger.info("Top string at x: "+Be+" y: "+ln),se.strokeStyle=Ee,se.lineWidth=this.getLineWidth(xe),se.strokeText(this.memeParams.topString,Be,ln,an),se.fillStyle=Le,se.fillText(this.memeParams.topString,Be,ln,an),xe=Re.toFixed(0),se.font=xe+"px NVIDIA",this.logger.info("Video Font bottom: ",se.font),an=this.calculateFontWidth(Re,this.memeParams.bottomString);const tn=.025*wt;Be=Math.floor(St/2-an/2),ln=Math.floor(wt-tn),this.logger.info("Bottom string at x: "+Be+" y: "+ln),se.strokeStyle=Ee,se.lineWidth=this.getLineWidth(xe),se.strokeText(this.memeParams.bottomString,Be,ln,an),se.fillStyle=Le,se.fillText(this.memeParams.bottomString,Be,ln,an),this.logger.info("Canvas created");const Kn=this.CanvasToBMPToDataURL(Yt);return this.logger.info("BMP Image created"),Kn}calculateFontWidth(G,at){const wt=this.renderer.createElement("canvas").getContext("2d");return wt.font=G+"px NVIDIA",wt.measureText(at).width}getLineWidth(G){const at=parseInt(G,10),St=Math.round((at+20)/20);return Math.min(St,5)}toArrayBuffer(G){const at=G.width,St=G.height,wt=4*at,Yt=G.getContext("2d").getImageData(0,0,at,St),se=new Uint32Array(Yt.data.buffer),fe=4*Math.floor((32*at+31)/32),Ee=56+fe*St,Le=new ArrayBuffer(Ee),xe=new DataView(Le);let mn,fn,Be=0,ln=0,tn=0,Kn=0,$n=0;for(Rn(19778),nn(Ee),Be+=4,nn(54),nn(40),nn(at),nn(St),Rn(1),Rn(32),Be+=24,tn=St-1;tn>=0;){for(Kn=54+tn*fe,ln=0;ln<wt;)fn=se[$n++],mn=fn>>>24,xe.setUint32(Kn+ln,fn<<8|mn),ln+=4;tn--}return Le;function Rn(qn){xe.setUint16(Be,qn,!0),Be+=2}function nn(qn){xe.setUint32(Be,qn,!0),Be+=4}}CanvasToBMPToDataURL(G){const at=new Uint8Array(this.toArrayBuffer(G)),St=at.length;let wt="",Yt=0;for(;Yt<St;)wt+=String.fromCharCode(at[Yt++]);return btoa(wt)}saveMemeStrings(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.AddMeme,{file:G.source,memeInfo:{topBarText:G.top,bottomBarText:G.bottom}}).pipe((0,O.U)(St=>(this.logger.info("AddMeme complete: ",St),!0),St=>(this.logger.error("AddMeme failed: ",St),!1)),(0,w.K)(St=>(this.logger.info("AddMeme error: ",St),(0,p.of)(!1))))}getMemeStrings(G){const at={top:"",bottom:"",source:G,color:""};return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFileMetadata,{file:G}).pipe((0,O.U)(St=>(at.top=St.memeInfo.topBarText,at.bottom=St.memeInfo.bottomBarText,at)),(0,w.K)(St=>(this.logger.info("Get Meme Strings from metaData error: ",St),(0,p.of)(at))))}clearMemeStrings(G){this.logger.info("Source to clear: ",G),this.saveMemeStrings({top:"",bottom:"",source:G,color:""}).subscribe()}queueToUpdateMeme(G,at,St){const wt={top:"",bottom:"",source:G,color:""};(""!==at||""!==St)&&(wt.top=at,wt.bottom=St),this.memeQueue.push(wt)}writeEncryptedBmp(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.WriteEncryptedBitmap,{bitmapImage:G}).pipe((0,O.U)(St=>(this.logger.info("WriteEncryptedBmp complete: ",St),!0),St=>(this.logger.error("WriteEncryptedBmp failed: ",St),!1)),(0,w.K)(St=>(this.logger.info("WriteEncryptedBitmap error: ",St),(0,p.of)(!1))))}gifTranscode(G){const at={file:G.file,targetPath:G.targetPath,maxFileSizeMB:G.maxFileSizeMB,quality:G.quality,newHeight:G.newHeight,newFps:G.newFps,newDuration:G.newDuration,userData:G.userData.toString(),memeImage:G.memeImage};return this.logger.info("Final Transcode parameters: ",at),this.bridgeService.executeCommand(c.Gh.Common.Gallery.TranscodeMediaFile,at).pipe((0,O.U)(St=>{this.logger.info("gifTranscode complete: ",St);const wt=parseInt(St.userData,10),Yt=this.findUploadDataInList(wt);return this.logger.info("UserData: ",this.uploadDataList[Yt]),St.newFile},St=>{this.logger.info("gifTranscode failed: ",St)}),(0,w.K)(St=>(this.logger.info("gifTranscode error: ",St),(0,p.of)(void 0))))}setUpperMemeMaxed(G){this.upperMemeMaxed=G}setLowerMemeMaxed(G){this.lowerMemeMaxed=G}isUpperMemeMaxed(){return this.upperMemeMaxed}isLowerMemeMaxed(){return this.lowerMemeMaxed}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(o),f.LFG(V.dF),f.LFG(f.FYo),f.LFG(st))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})(),Ln=(()=>{var rt;class he{constructor(G,at){this.loggingService=G,this.bridgeService=at,this.logger=this.loggingService.getLogger("TrimService")}init(){this.logger.info("Initializing Trim Service")}trim(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.Trim,G).pipe((0,O.U)(at=>(this.logger.info("Trim complete: ",at),!0),at=>(this.logger.info("Trim failed: ",at),!0)),(0,w.K)(at=>(this.logger.info("Trim error: ",at),(0,p.of)(!1))))}moveFile(G,at){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.MoveFile,{source:G,destination:at})}copyFile(G,at){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.CopyFile,{source:G,destination:at})}deleteFile(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.RemoveGalleryItem,{file:G})}overwriteOriginal(G,at){return this.logger.info("Overwriting original!"),this.deleteFile(at).pipe((0,E.zg)(()=>(this.logger.info("Original deleted!"),this.moveFile(G,at))))}getMetaData(G){return this.bridgeService.executeCommand(c.Gh.Common.Gallery.GetFileMetadata,{file:G})}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(V.dF))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var yn=t(43219),Pe=t(42241),Ue=function(rt){return rt.Normal="normal-color",rt.Bright="bright-color",rt.Warning="warning-color",rt.Error="error-color",rt}(Ue||{}),Ae=function(rt){return rt[rt.Off=0]="Off",rt[rt.Standard=1]="Standard",rt[rt.Compact=2]="Compact",rt}(Ae||{});let we=(()=>{var rt;class he{constructor(G,at,St,wt,Yt,se,fe,Re){this.injector=G,this.igoConfig=at,this.loggingService=St,this.hotkeyService=wt,this.osdService=Yt,this.bridgeService=se,this.systemInfoService=fe,this.featureSupportService=Re,this.throttleDuration=500,this.statsWindowPosition=n.Fr.rightTop,this.statsWindowSize=n._C.standard,this.statsRunning=!1,this.mrPosition=n.Fr.none,this.irPosition=n.Fr.none,this.hlPosition=n.Fr.none,this.micPosition=n.Fr.none,this.mrState=!1,this.irState=!1,this.hlState=!1,this.micState=!1,this.statistics$=new i.xQ,this.statsHotkey$=new i.xQ,this.totalDroppedFrames=0,this.previousPacketLoss=0,this.networkData={roundTripDelay:0,streamingFps:0,gameEngineFps:0,frameLoss:"0",totalFrameLoss:"0",packetLoss:"0",totalPacketLoss:"0",totalAvailableBandwidth:0,bandwidthUsed:0,bandwidthPrecentage:0,networkName:"",connectionType:"",isVpnOn:!1,resolution:"",resolutionLabel:"",serverLoc:"",hdrStreamingStatus:"",streamingCodec:"",bitDepth:void 0},this.colorDataEnabled=!0,this.colorData={roundTripDelay:Ue.Bright,streamingFps1:Ue.Bright,streamingFps2:Ue.Normal,gameEngineFps:Ue.Bright,packetLoss1:Ue.Bright,packetLoss2:Ue.Normal,packetLossTotal:Ue.Normal,frameLoss:Ue.Normal,frameLossTotal:Ue.Normal,totalAvailableBandwidth:Ue.Normal,connectionType:Ue.Normal,vpnIndicator:Ue.Normal,resolution:Ue.Normal,serverLoc:Ue.Normal},this.statsStateSubject=new L.X(Ae.Off),this.statsEvent={state:Ae.Off,position:this.statsWindowPosition,size:this.statsWindowSize,data:this.networkData,colors:this.colorData},this.zone="",this.zoneDefault="",this.hdrSupportedForCurrentGame=!1,this.streamingStatsSubject=new i.xQ,this.statsStopListening=new i.xQ,this.stopPerf=new i.xQ,this.totalBlockedTime=0,this.hdrStreamingStatus="","GFN"===this.igoConfig.branding&&(this.gridService=this.injector.get(pt.rIG),this.gfnInfoService=this.injector.get(Z.In),this.streamingService=this.injector.get(Pe.FW),this.translateService=this.injector.get(Y.sK),this.logger=this.loggingService.getLogger("StatisticsService"))}init(){this.logger.info("Initializing Statistics Service"),this.hotkeyService.listen(C.sW.StatisticsToggle).subscribe(()=>{this.logger.info("Hotkey for Statistics toggle pressed.");const G=this.statsStateSubject.getValue();let at;at=this.featureSupportService.isISSOCompactMode()?G===Ae.Off?Ae.Compact:Ae.Off:G===Ae.Compact?Ae.Off:G+1,this.statsStateSubject.next(at),this.toggleStatistics(),this.statsHotkey$.next(at)}),this.streamingService.streamingEvent$.pipe((0,tt.h)(G=>G.event===Pe.V4.STREAMING_TERMINATED||G.event===Pe.V4.STOP_RESULT)).subscribe(()=>{this.killStats()}),this.gfnInfoService.getHDRSupportInfo().subscribe(G=>{this.hdrSupportedForCurrentGame=G,this.logger.info("HDR support for current game: ",this.hdrSupportedForCurrentGame)}),this.featureSupportService.isIssoPerfOptimizationEnabled()?(this.logger.info("Optimization enabled to improve perf on switching ISSO off"),this.statsStateSubject.asObservable().pipe((0,E.zg)(G=>(this.logger.info("Toggling ISSO ",G),this.bridgeService.executeCommand(c.Gh.Gfn.Streaming.ToggleISSOStats,{enableIsso:G!==Ae.Off})))).subscribe(G=>{this.logger.info("ToggleISSOStats success ",G)},G=>this.logger.error("ToggleISSOStats failed ",G.toString())),this.streamingStatsObservable=this.streamingStatsSubject.asObservable()):(this.logger.info("Optimization for ISSO disabled"),this.streamingStatsObservable=this.bridgeService.executeCommand(c.Gh.Gfn.Streaming.GetStreamStats,{}))}getStatsDetails(){this.featureSupportService.isIssoPerfOptimizationEnabled||this.logger.info("Optimization for ISSO disabled, so skipping"),this.bridgeService.executeCommand(c.Gh.Gfn.Streaming.GetStreamStats,{}).pipe((0,Wt.R)(this.statsStopListening),(0,I.b)(G=>{this.streamingStatsSubject.next(G)})).subscribe()}toggleStatistics(){this.statsWindowPosition=this.osdService.getPosition(n.Kw.Statistics),this.statsWindowSize=this.osdService.getStatsSize(),this.logger.info("Stat Position: "+this.statsWindowPosition+" Size: "+this.statsWindowSize),this.statsRunning?(this.statsRunning=this.statsStateSubject.getValue()!==Ae.Off,this.sendUICurrentData()):(this.sendUICurrentData(),this.updateStatsData(),this.getStatsDetails())}updateStatsData(){if(this.statsStateSubject.getValue()!==Ae.Off){const St=!this.statsRunning;this.statsRunning=!0;const wt=[];var G,at;St&&(this.zone=this.zoneDefault="",wt.push(null===(G=this.gridService)||void 0===G?void 0:G.defaultZone$.pipe((0,I.b)(Yt=>{Yt&&(this.zoneDefault=Yt.name)}))),wt.push(null===(at=this.gridService)||void 0===at?void 0:at.detectedLocalZone$.pipe((0,I.b)(Yt=>{Yt&&(this.zone=Yt.name)})))),wt.push(this.systemInfoService.getSystemInfo([V.l7.Network]).pipe((0,I.b)(Yt=>{this.networkInfo=Yt.Network}))),wt.push(this.streamingStatsObservable.pipe((0,I.b)(Yt=>{this.streamingStats=Yt}))),wt.push((0,p.of)(this.gfnInfoService.getHDRStreamingStatus()).pipe((0,I.b)(Yt=>{this.hdrStreamingStatus=Yt?"commonLabels.Active":this.gfnInfoService.getIsHDrFeatureAvailable()&&this.hdrSupportedForCurrentGame?"commonLabels.Inactive":""}))),(0,y.$R)(...wt).pipe((0,k.q)(1)).subscribe(()=>{this.updateUIData(),this.getStatsData()},Yt=>{this.logger.error("UpdateStats Error: ",Yt.toString()),St&&(this.statsRunning=!1),this.getStatsData()})}else this.statsStopListening.next(!0)}getStatsData(){setTimeout(()=>{this.updateStatsData()},1e3)}sendUICurrentData(){this.statsEvent={state:this.statsStateSubject.getValue(),position:this.statsWindowPosition,size:this.statsWindowSize,data:this.networkData,colors:this.colorData},this.statistics$.next(this.statsEvent)}updateUIData(){var G,at,St,wt,Yt,se,fe,Re;const Ee=this.streamingStats,Le=Ee.streamStats.frameWidth,xe=Ee.streamStats.frameHeight,an=this.gfnInfoService.getFormattedAspectRatio(Le,xe),Be=this.translateService.instant("settings.gameplay.ResView",{resWidth:Le,resHeight:xe,aspectRatio:an}),ln=this.gfnInfoService.getResolutionLabel(Ee.streamStats.frameWidth,Ee.streamStats.frameHeight);this.totalDroppedFrames+=Ee.streamStats.droppedFrames;const tn=Ee.streamStats.packetloss-this.previousPacketLoss;this.previousPacketLoss=Ee.streamStats.packetloss;const Kn=Ee.streamStats.bandwidth||0,mn=Ee.streamStats.bandwidthUtilization,fn=Math.round((Ee.streamStats.streamBitrate||0)/1e3),Rn=Math.round(Kn/1e3);let nn=null===(G=Ee.streamStats.serverZone)||void 0===G?void 0:G.toUpperCase().replace(/-/g,"\u2011");nn=void 0===nn||""===nn?"--":nn;const qn=""===this.zone?this.zoneDefault:this.zone,hi=void 0!==(null===(at=this.networkInfo)||void 0===at?void 0:at.NetworkName)&&""!==(null===(St=this.networkInfo)||void 0===St?void 0:St.NetworkName),Sn=void 0!==(null===(wt=this.networkInfo)||void 0===wt?void 0:wt.NetworkType)&&""!==(null===(Yt=this.networkInfo)||void 0===Yt?void 0:Yt.NetworkType);let An,li="";var Nn,Vn;if(V.ng.isNativeLikePlatform()?(li="",An=this.gfnInfoService.getColorBitDepth()):(li=null===(Nn=Ee.streamStats)||void 0===Nn?void 0:Nn.codec,An=null===(Vn=Ee.streamStats)||void 0===Vn?void 0:Vn.bitDepth),this.networkData={roundTripDelay:Ee.streamStats.roundTripDelayMs||0,streamingFps:Ee.streamStats.frameRate||0,gameEngineFps:Ee.streamStats.avgGameFrameRate||0,frameLoss:Ee.streamStats.droppedFrames.toString(),totalFrameLoss:this.totalDroppedFrames.toString(),packetLoss:tn.toString(),totalPacketLoss:Ee.streamStats.packetloss.toString(),totalAvailableBandwidth:Rn,bandwidthUsed:fn,bandwidthPrecentage:mn,networkName:hi?null===(se=this.networkInfo)||void 0===se?void 0:se.NetworkName:"--",connectionType:Sn?null===(fe=this.networkInfo)||void 0===fe?void 0:fe.NetworkType:"--",isVpnOn:"1"===(null===(Re=this.networkInfo)||void 0===Re?void 0:Re.IsVPN),resolution:Be,resolutionLabel:ln,serverLoc:qn+" ("+nn+")",hdrStreamingStatus:this.hdrStreamingStatus,streamingCodec:li,bitDepth:An},this.colorDataEnabled){var Ci,Ve;const ri=this.networkData.roundTripDelay<=40?Ue.Bright:this.networkData.roundTripDelay<=80?Ue.Warning:Ue.Error;let En=Ue.Normal;null!==(Ci=this.networkData.connectionType)&&void 0!==Ci&&Ci.includes("2.4")&&(En=Ue.Warning),this.colorData={roundTripDelay:ri,streamingFps1:Ue.Bright,streamingFps2:Ue.Normal,gameEngineFps:Ue.Bright,packetLoss1:0===tn?Ue.Bright:Ue.Error,packetLoss2:0===tn?Ue.Normal:Ue.Error,packetLossTotal:0===Ee.streamStats.packetloss?Ue.Normal:Ue.Error,frameLoss:0===Ee.streamStats.droppedFrames?Ue.Normal:Ue.Error,frameLossTotal:0===this.totalDroppedFrames?Ue.Normal:Ue.Error,totalAvailableBandwidth:Ue.Normal,connectionType:En,vpnIndicator:"1"===(null===(Ve=this.networkInfo)||void 0===Ve?void 0:Ve.IsVPN)?Ue.Warning:Ue.Normal,resolution:Ue.Normal,serverLoc:Ue.Normal}}this.sendUICurrentData()}getStatisticsEvents(){return this.statistics$.asObservable()}statisticsLayoutChanged(){this.toggleStatistics()}statisticsStateChanged(G){this.statsStateSubject.next(G),this.toggleStatistics()}statisticsHotkeyPressed(){return this.statsHotkey$.asObservable()}getStatsState(){return this.statsStateSubject.getValue()}killStats(){this.totalDroppedFrames=0,this.previousPacketLoss=0,this.statsRunning=!1,this.statsStateSubject.next(Ae.Off),this.sendUICurrentData()}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(f.zs3),f.LFG(l.g),f.LFG(V.ed),f.LFG(C.y1),f.LFG(n.Ec),f.LFG(V.dF),f.LFG(V.Ob),f.LFG(W.l))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})(),We=(()=>{var rt;class he{constructor(G,at,St,wt,Yt,se,fe,Re,Ee,Le,xe,an,Be,ln,tn,Kn,$n,mn,fn,Rn,nn,qn,hi){this.loggingService=G,this.osService=at,this.hotkey=St,this.oscDisplay=wt,this.cacheService=Yt,this.oscNotification=se,this.galleryService=fe,this.sdkGalleryService=Re,this.shadowPlayService=Ee,this.webcamService=Le,this.igoConfig=xe,this.nvcamera=an,this.ppeService=Be,this.osdService=ln,this.telemetryHelperService=tn,this.gfnInfo=Kn,this.memeService=$n,this.oscDisplayService=mn,this.trimService=fn,this.clientInputService=Rn,this.featureSupportService=nn,this.statisticsService=qn,this.injector=hi,this.logger=this.loggingService.getLogger("IGO ServiceLoader"),this.isInitialised=!1}init(){return this.featureSupportService.init().pipe((0,O.U)(G=>(this.logger.info("Feature Support Data: ",G),!(!this.isInitialised&&(this.featureSupportService.isGFEMode()&&(this.lcarsService=this.injector.get(It.z),this.perfMonService=this.injector.get(lt.d)),null==G||!G.igo||(null!=G&&G.initData?(this.isInitialised=!0,this.initSelectiveServices(G)):(this.isInitialised=!0,this.initAllServices(),this.igoConfig.RecordingFeaturesDisabled=!0,setTimeout(()=>this.oscDisplayService.openOSC(),1e3)),0))))))}initAllServices(){var G,at;this.initBaseServices(),this.shadowPlayService.init(),this.webcamService.init(),this.nvcamera.init(),this.ppeService.init(),this.clientInputService.init(),this.featureSupportService.isGFEMode()?(null===(G=this.perfMonService)||void 0===G||G.init(),null===(at=this.lcarsService)||void 0===at||at.init()):this.statisticsService.init()}initSelectiveServices(G){var at,St,wt;G.hotkey&&this.hotkey.init(),G.oscDisplay&&this.oscDisplay.init(),G.os&&this.osService.init().subscribe(()=>{G.oscNotification&&this.oscNotification.init(),G.cache&&this.cacheService.init(),G.gallery&&this.galleryService.init(),G.sdkGallery&&this.sdkGalleryService.init(),G.meme&&this.memeService.init(),G.trim&&this.trimService.init(),G.telemetryHelper&&this.telemetryHelperService.init()}),G.gfnInfo&&this.gfnInfo.init(),G.osd&&this.osdService.init(),G.shadowPlay&&this.shadowPlayService.init(),G.webcam&&this.webcamService.init(),G.nvcamera&&this.nvcamera.init(),G.ppe&&this.ppeService.init(),G.clientInput&&this.clientInputService.init(),G.statistics&&this.statisticsService.init(),G.inStreamPaste&&(this.customPasteService=this.injector.get(Xt),null===(at=this.customPasteService)||void 0===at||at.init()),this.featureSupportService.isGFEMode()&&(null===(St=this.lcarsService)||void 0===St||St.init(),G.perfMon&&(null===(wt=this.perfMonService)||void 0===wt||wt.init()))}initBaseServices(){this.hotkey.init(),this.oscDisplay.init(),this.osService.init().subscribe(()=>{this.oscNotification.init(),this.cacheService.init(),this.galleryService.init(),this.sdkGalleryService.init(),this.memeService.init(),this.trimService.init(),this.telemetryHelperService.init()}),this.gfnInfo.init(),this.osdService.init()}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(o),f.LFG(C.y1),f.LFG(x.v),f.LFG(a),f.LFG(z.nG),f.LFG(st),f.LFG(dt.b),f.LFG(Nt.dS),f.LFG(te),f.LFG(l.g),f.LFG(ee),f.LFG(Ie),f.LFG(n.Ec),f.LFG(X.l),f.LFG(Z.In),f.LFG(On),f.LFG(x.v),f.LFG(Ln),f.LFG(yn.S),f.LFG(W.l),f.LFG(we),f.LFG(f.zs3))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();var Xe=t(65702),Gn=t(30554);let Yn=(()=>{var rt;class he{constructor(G,at){this.loggingService=G,this.bridgeService=at,this.logger=this.loggingService.getLogger("KeyboardService")}onKeyDown(G,at){switch(G.key){case"ArrowDown":at===Se.Bottom?(G.stopPropagation(),G.preventDefault()):(this.bridgeService.executeCommand(c.Gh.Share.Osc.GenerateKeyboardMessage,{keycode:Gn.Mf,keymodifier:0}).subscribe(St=>{this.logger.info("ArrowDown pressed"+St)}),G.stopPropagation());break;case"ArrowUp":at===Se.Top?(G.stopPropagation(),G.preventDefault()):(this.bridgeService.executeCommand(c.Gh.Share.Osc.GenerateKeyboardMessage,{keycode:Gn.Mf,keymodifier:Gn.JU}).subscribe(St=>{this.logger.info("ArrowUp pressed"+St)}),G.stopPropagation())}}}return(rt=he).\u0275fac=function(G){return new(G||rt)(f.LFG(V.ed),f.LFG(V.dF))},rt.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),he})();t(43523);var Ye=t(19682),Lt=(t(50452),t(9783));t(14180)},89441:(Dt,ct,t)=>{"use strict";t.d(ct,{$K:()=>f,A2:()=>i,Sc:()=>L,ZB:()=>p,dM:()=>x,uc:()=>h});var e=t(78943),i=function(n){return n.Video="video",n.Image="image",n.Other="other",n}(i||{}),L=function(n){return n.Temporary="temporary",n.Highlights="highlights",n}(L||{}),f=e.Yk.Common.Gallery.AudioType,x=function(n){return n.Normal="Normal",n.SuperResolution="SuperResolution",n.SuperResolutionOversized="SuperResolution_Oversized",n.Mono360="360Mono",n.Stereo="Stereo",n.Stereo360="360Stereo",n.Exr="Exr",n.Live="Live",n.Offline="Offline",n.Highlights="Highlight",n.Mta="MTA",n.NormalAnsel="Normal_Ansel",n.Gif="AnimatedGif",n.InstantReplay="InstantReplay",n.Manual="Manual",n.Screenshot="Screenshot",n}(x||{});class h{constructor(){this.total=0,this.highlights=0,this.videos=0,this.instantReplays=0,this.images=0,this.highlightBreakDown=[]}}var p=function(n){return n.HIGHLIGHT_COMPLETED="highlightCompleted",n.MOVE_STARTED="moveStarted",n.MOVE_INPROGRESS="moveInProgress",n.MOVE_DONE="moveDone",n}(p||{})},67445:(Dt,ct,t)=>{"use strict";t.d(ct,{g:()=>e});class e{}},50452:(Dt,ct,t)=>{"use strict";t.d(ct,{P:()=>i,d:()=>e});const e={igo:!0,shadowPlay:!0,webcam:!1,nvcamera:!0,ppe:!0,graphics:!0,clientInput:!1,hotkey:!0,oscDisplay:!0,os:!0,oscNotification:!0,cache:!0,gallery:!0,sdkGallery:!0,telemetryHelper:!0,meme:!1,trim:!1,gfnInfo:!1,osd:!0,gfnMicrophone:!1,statistics:!1,gamepadOrientedMode:!1,virtualKeyboard:!1,controlUGC:!1,connectionStatus:!1,isKBMGameSupported:!0,inputControlHints:!1,nvKeyboardSupported:!1,clientIME:!1,useGamepadLSControl:!1,shortcutControls:!1,title:!0,feedback:!0,links:!0,gameplay:!0,virtualKeyboardOnMobile:!0,perfMon:!0,reflexAnalyzer:!0,inStreamPaste:!1},i={initData:{},...e}},26867:(Dt,ct,t)=>{"use strict";t.d(ct,{$e:()=>c,CS:()=>O,DC:()=>h,G0:()=>l,QE:()=>E,Rr:()=>S,Uk:()=>p,fN:()=>f,gm:()=>o,wh:()=>x,wn:()=>w,xu:()=>n});var e=t(47178);const f=3,x=100,S=100,h=!0,O="nvcamera.GameFilter",E="nvcamera.PhotoMode";class w{constructor(R,_,b,I,q=[],a=!1,y=!1,M=[],P=!1){this.id=R,this.name=_,this.isSelected=b,this.stackIdx=I,this.controls=q,this.isPPEFilter=a,this.isExpanded=y,this.errorCodes=M,this.isVisible=P}}class p{constructor(){this.filters=[],this.selectedFilterCount=0,this.upButtonDisabled=!0,this.downButtonDisabled=!0}moveSelectionUp(){const R=this.filters.length,_=new Set;for(let b=R-2;b>=0;b--)this.filters[b].isSelected&&!this.filters[b+1].isSelected&&(this.swapFilters(b,b+1),_.add(b),_.add(b+1));return _}moveSelectionDown(){const R=this.filters.length,_=new Set;for(let b=1;b<R;b++)this.filters[b].isSelected&&!this.filters[b-1].isSelected&&(this.swapFilters(b,b-1),_.add(b),_.add(b-1));return _}deleteSelection(){const R=this.getIndicesOfSelection();return(0,e.remove)(this.filters,function(_){return _.isSelected}),this.selectedFilterCount=this.selectedFilterCount-R.length,R.reverse()}filterClicked(R,_){R.isSelected!==_&&(_?this.selectedFilterCount++:this.selectedFilterCount--),R.isSelected=_}getIndicesOfSelection(){const R=[];return this.filters.forEach((_,b,I)=>{_.isSelected&&R.push(b)}),R}getSelectedFilters(){return this.filters.filter(R=>R.isSelected)}swapFilters(R,_){if(R<0||R>=this.filters.length||_<0||_>=this.filters.length)return;const b=this.filters[R];this.filters[R]=this.filters[_],this.filters[_]=b,this.filters[R].stackIdx=R,this.filters[_].stackIdx=_}deserialize(R){if(!R.filters)return!1;const _=this;return _.selectedFilterCount=R.selectedFilterCount,_.upButtonDisabled=R.upButtonDisabled,_.downButtonDisabled=R.downButtonDisabled,R.filters.forEach((b,I)=>{const q=new w(b.id,b.name,b.isSelected,b.stackIdx,b.controls);_.filters[I]=q}),!0}}class V{constructor(R,_){this.filterStack=new p,this.id=R,this.altText=_,this.slotName=void 0}deserialize(R){if(!R.filterStack)return!1;const _=this;return _.id=R.id,_.altText=R.altText,_.slotName=R.slotName,_.slotHotkey=R.slotHotkey,_.filterStack.deserialize(R.filterStack)}}class c{constructor(R){this.previewAvailable=!1,this.id=R}}class C{createEmptySlots(R){const _=[];for(let b=0;b<R;b++){const I=0===b?"settings.None":b.toString();_.push(new V(b,I))}return _}constructor(R){this.lastSlotIdx=0,this.slots=this.createEmptySlots(R),2===R&&(this.lastSlotIdx=1)}deserialize(R){const _=this;if(!R.slots||R.slots.length!==_.slots.length)return!1;let b;return _.lastSlotIdx=R.lastSlotIdx,_.slots.every((I,q)=>(b=I.deserialize(R.slots[q]),b)),b}}class l{constructor(){this.anselSlotsInfo=new C(2),this.modsSlotsInfo=new C(f+1)}deserialize(R){return!(!R.anselSlotsInfo||!R.modsSlotsInfo)&&(this.anselSlotsInfo.deserialize(R.anselSlotsInfo)&&this.modsSlotsInfo.deserialize(R.modsSlotsInfo))}}class o{constructor(){this.filterPresets={}}deserialize(R){if(!R.filterPresets)return!1;const _=this;let b;return Object.keys(R.filterPresets).every(I=>(_.filterPresets[I]=new l,b=_.filterPresets[I].deserialize(R.filterPresets[I]),b)),b}}const n=["Auto Depth of Field","Black & White","Brightness/Contrast","Color","Colorblind","Depth of Field","Details","Letterbox","Night mode","Old film","Painterly","Sharpen","Sharpen+","SpecialFX","Splitscreen","Tilt-shift","Vignette","Watercolor"]},19682:(Dt,ct,t)=>{"use strict";t.d(ct,{Oh:()=>i,Qy:()=>f,YQ:()=>e});var e=function(x){return x.off="off",x.on="on",x.recording="recording",x}(e||{}),i=function(x){return x.active="Active",x.stopped="Stopped",x.paused="Paused",x}(i||{}),f=function(x){return x.low="Low",x.medium="Medium",x.high="High",x.ultra="Ultra",x.custom="Custom",x}(f||{})},43219:(Dt,ct,t)=>{"use strict";t.d(ct,{S:()=>w});var e=t(62149),i=t(9681),L=t(32484),f=t(85046),x=t(23675),S=t(87965),u=t(46939),g=t(36643),h=t(61699),O=t(13963),E=t(67445);let w=(()=>{var p;class V{get inputControlUIOpened$(){return this.inputUISubject.asObservable().pipe((0,f.h)(C=>!0===C))}get inputControlUIClosed$(){return this.inputUISubject.asObservable().pipe((0,f.h)(C=>!1===C))}get systemKeyboardState$(){return this.systemVirtualKeyboardService.keyboardVisible$}get imeOpened$(){var C,l;return null!==(C=null===(l=this.clientImeLoaderService)||void 0===l?void 0:l.imeOpened$)&&void 0!==C?C:(0,i.of)(!1)}get isImeEnabled$(){var C,l;return null!==(C=null===(l=this.clientImeLoaderService)||void 0===l?void 0:l.isImeEnabled$)&&void 0!==C?C:(0,i.of)(!1)}get imeInputInProgress(){var C,l;return null!==(C=null===(l=this.clientImeLoaderService)||void 0===l?void 0:l.imeInputInProgress)&&void 0!==C&&C}get imeInputTextVisible$(){var C,l;return null!==(C=null===(l=this.clientImeLoaderService)||void 0===l?void 0:l.imeInputTextVisible$)&&void 0!==C?C:(0,i.of)(!1)}constructor(C,l,o,n,s){this.igoConfig=l,this.injector=o,this.hotkeyService=n,this.systemVirtualKeyboardService=s,this.inputUISubject=new L.xQ,this.clientImeLoaderService=null,this.throttleMs=333,this.logger=C.getLogger("IGO ClientInputService"),this.igoConfig.GFNCefClient&&(this.clientImeLoaderService=this.injector.get(e.wn))}init(){this.logger.info("Initializing ClientInputService"),this.igoConfig.GFNCefClient&&this.hotkeyService.listen(g.sW.NativeKeyboardInputDialog).pipe((0,x.p)(this.throttleMs),(0,S.zg)(()=>this.clientImeLoaderService.isImeEnabled$.pipe((0,u.q)(1)))).subscribe(C=>{this.clientImeLoaderService.imeInputInProgress?this.clientImeLoaderService.closeImeInputHandler():(this.logger.info("ClientIME window opening triggered"),C?(this.logger.info("ClientIME feature is enabled, opening IME window"),this.clientImeLoaderService.initImeInputHandler(e.rW.HotKey)):this.logger.info("ClientIME feature is disabled"))})}toggleInputUI(C){this.inputUISubject.next(C)}initImeInput(C){var l;null===(l=this.clientImeLoaderService)||void 0===l||l.initImeInputHandler(C)}controlImeInput(C){var l;null===(l=this.clientImeLoaderService)||void 0===l||l.controlImeInput(C)}closeImeInput(){var C;null===(C=this.clientImeLoaderService)||void 0===C||C.closeImeInputHandler()}}return(p=V).\u0275fac=function(C){return new(C||p)(h.LFG(O.ed),h.LFG(E.g),h.LFG(h.zs3),h.LFG(g.y1),h.LFG(O.sp))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},57915:(Dt,ct,t)=>{"use strict";t.d(ct,{M:()=>E});var e=t(85046),i=t(46939),L=t(87965),f=t(47422),x=t(61674),S=t(61699),u=t(99541),g=t(17401),h=t(59074),O=t(91467);let E=(()=>{var w;class p{constructor(c,C,l,o){this.oscDisplayService=c,this.dialog=C,this.snackbar=l,this.focusManager=o}openAlertDialog(c,C=!0,l=!0){const o={panelClass:["nv-hig","nv-igo","nv-overlay-panel"],disableClose:C,autoFocus:!1,data:c};return this.oscDisplayService.getCanShowUI().pipe((0,e.h)(n=>n),(0,i.q)(1),(0,L.zg)(()=>this.oscDisplayService.getCurrentOpenState()),(0,i.q)(1),(0,f.U)(n=>{const s="open"!==n;s&&this.oscDisplayService.openOSC("");const R=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(x.Qr,o));return R.afterClosed().subscribe(_=>{l&&(_=!0),s&&_&&this.oscDisplayService.closeOSC()}),R}))}closeAll(){this.dialog.closeAll()}openSnackBar(c,C="",l=5e3){return this.snackbar.open(c,C,{duration:l,horizontalPosition:"left",panelClass:["nv-hig","nv-igo"]})}closeSnackBar(){this.snackbar.dismiss()}}return(w=p).\u0275fac=function(c){return new(c||w)(S.LFG(u.v),S.LFG(g.uw),S.LFG(h.pl),S.LFG(O.IK))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),p})()},41221:(Dt,ct,t)=>{"use strict";t.d(ct,{l:()=>o});var e=t(26575),i=t(9681),L=t(46939),f=t(87965),x=t(99901),S=t(58175),u=t(47422),g=t(78943),h=t(13963),O=t(21120),E=t(50452),w=t(66129),p=t(61699),V=t(67445),c=t(32311),C=t(52290),l=t(32392);let o=(()=>{var n;class s{constructor(_,b,I,q,a,y,M,P){var K,B,j,tt,ot;this.injector=b,this.bridgeService=I,this.igoConfig=q,this.systemInfoService=a,this.browserSupportService=y,this.projectInterfaceService=P,this.useAlternateHotkeyForIGO=!1,this.isGuestAppFlow=!1,this.logger=_.getLogger("igo/FeatureSupportService"),this.isBrowserPlatform=h.ng.isBrowserPlatform(),"GFE"===this.igoConfig.branding&&this.applyNvAPPModeClassOnBody(),this.isCaptureSupported=!0,"GFN"===this.igoConfig.branding&&(this.guestModeHelperService=this.injector.get(O.hTr),this.appConfig=this.injector.get(O.VKt),this.tvMode=!(null===(K=this.appConfig)||void 0===K||null===(K=K.featureEnablement)||void 0===K||!K.tvMode),this.isMobileMode=!(null===(B=this.appConfig)||void 0===B||null===(B=B.featureEnablement)||void 0===B||!B.mobileMode),this.isVirtualKbEnabled=!!this.appConfig.featureEnablement.virtualKeyboard,this.inputHintsEnabled=!!this.appConfig.featureEnablement.inputControlHints,this.nvKeyboardSupported=M.enabled,this.clientImeEnabled=!!this.appConfig.featureEnablement.clientIME,this.useGamepadLSControl=!!this.appConfig.featureEnablement.useGamepadLSControl,this.useAlternateHotkeyForIGO=!!this.appConfig.featureEnablement.useAlternateHotkeyForIGO,this.isGuestAppFlow=this.guestModeHelperService.isGuestAppFlow(),this.isVirtualControllerEnabled=!(null===(j=this.appConfig.featureEnablement)||void 0===j||!j.virtualController),this.blurInputOnSoftKeyboardDismissal=!(null===(tt=this.appConfig)||void 0===tt||null===(tt=tt.featureEnablement)||void 0===tt||!tt.blurInputOnSoftKeyboardDismissal),this.displayOnscreenKeyboardUsage=!(null===(ot=this.appConfig)||void 0===ot||null===(ot=ot.igo)||void 0===ot||!ot.displayOnscreenKeyboardUsage)),this.initFeatureControl()}setIgoFeatureSupportData(_){return{igo:!0,shadowPlay:this.isShadowPlayEnabled(),webcam:this.isWebcamEnabled(),nvcamera:this.isNvcameraEnabled(),ppe:this.isPpeEnabled(),graphics:this.isGraphicsEnabled(),clientInput:!0,hotkey:!0,oscDisplay:!0,os:!0,oscNotification:!0,cache:!0,gallery:this.isGalleryEnabled(),sdkGallery:this.isSdkGalleryEnabled(),telemetryHelper:!0,meme:this.isMemeEnabled(),trim:this.isTrimEnabled(),gfnInfo:!0,osd:!0,gfnMicrophone:this.evaluateGfnMicEnablement(_),statistics:this.isStatisticsEnabled(),gamepadOrientedMode:this.isGamepadOrientedMode(),virtualKeyboard:this.isVirtualKeyboardEnabled(),controlUGC:this.isControlUGCEnabled(),connectionStatus:this.isConnectionStatusEnabled(),isKBMGameSupported:this.isKeyboardMouseGamesAllowed(),inputControlHints:this.isInputControlHintsEnabled(),nvKeyboardSupported:this.isNvKeyboardSupported(),clientIME:this.isClientImeEnabled(),useGamepadLSControl:this.isGamepadLSControlUsed(),shortcutControls:this.areShortcutsOveridden(),title:this.showTitle(),feedback:this.showFeedbackSetting(),links:this.showLinks(),gameplay:this.isGameplaySupported(),virtualKeyboardOnMobile:this.isVirtualKeyboardOnMobileSupported(),perfMon:this.isPerfOverlayEnabled(),reflexAnalyzer:this.isReflexAnalyzerEnabled(),inStreamPaste:this.needsDialogForInStreamPaste()}}initFeatureControl(){this.featureControl$="GFN"===this.igoConfig.branding&&this.igoConfig.IGOFeatureEnabled?this.systemInfoService.getSystemInfo([h.l7.DeviceType]).pipe((0,L.q)(1),(0,f.zg)(_=>(this.cachedDeviceType=_.DeviceType,this.isGuestAppFlow&&(this.guestModeConfig=this.guestModeHelperService.getGuestModeConfig()),(0,i.of)(this.setIgoFeatureSupportData(_.DeviceType))))):(0,i.of)(E.d)}evaluateGfnMicEnablement(_){var b,I;return _!==h.z7.TV&&!this.isGfnMobileMode()&&(null===(b=null===(I=this.guestModeConfig)||void 0===I||null===(I=I.igoSettings)||void 0===I?void 0:I.isMicFeatureEnabled)||void 0===b||b)}init(){let _;return this.featureControl$.pipe((0,f.zg)(b=>(_=b,this.injector.get(e.V_,Promise.resolve(null)))),(0,f.zg)(b=>this.bridgeService.executeCommand(g.Gh.Share.Shareserver.GetInitData)),(0,f.zg)(b=>(b&&(this.isCaptureSupported=b.captureSupported),_.igo?(this.igoSupportData={initData:b,..._},(0,i.of)(this.igoSupportData)):(this.logger.info("Disabling IGO due to feature toggle"),this.igoSupportData=E.P,this.bridgeService.executeCommand(g.Gh.Share.Shareserver.SetCaptureSupported,{supported:!1}).pipe((0,x.h)(this.igoSupportData))))),(0,S.K)(b=>(this.logger.info("Error occured while fetching GetInitDataReturn : ",b),(0,i.of)(this.igoSupportData))))}isShadowPlayEnabled(){return!this.isBrowserPlatform&&this.isCaptureSupported}isIgoWithoutBrowserPlatform(){return!this.isBrowserPlatform}isWebcamEnabled(){return!this.isGFEMode()&&!this.isBrowserPlatform}isNvcameraEnabled(){return!this.isBrowserPlatform}isPpeEnabled(){return"GFN"!==this.igoConfig.branding}isGraphicsEnabled(){return!1}isGalleryEnabled(){return!this.isBrowserPlatform&&this.isCaptureSupported}isSdkGalleryEnabled(){return!this.isBrowserPlatform}isMemeEnabled(){return!this.isBrowserPlatform}isTrimEnabled(){return!this.isBrowserPlatform}isMicrophoneEnabled(){return"GFN"!==this.igoConfig.branding}isIssoPerfOptimizationEnabled(){var _;return"GFN"===this.igoConfig.branding&&!(null===(_=this.appConfig)||void 0===_||null===(_=_.igo)||void 0===_||null===(_=_.isso)||void 0===_||!_.perfOptimizationEnabled)}showPerfLogging(){return"GFN"!==this.igoConfig.branding}isNvApp(){return"GFN"!==this.igoConfig.branding}isGfnMicrophoneEnabled(){return"GFN"===this.igoConfig.branding?this.systemInfoService.getSystemInfo([h.l7.DeviceType]).pipe((0,L.q)(1),(0,u.U)(_=>this.evaluateGfnMicEnablement(_.DeviceType))):(0,i.of)(!1)}isStatisticsEnabled(){return!("GFE"===this.igoConfig.branding||this.isGuestAppFlow&&(null===(_=this.guestModeConfig)||void 0===_||null===(_=_.igoSettings)||void 0===_||!_.isInGameStatisticsEnabled));var _}isGamepadOrientedMode(){var _;return(null===(_=this.appConfig)||void 0===_||null===(_=_.igo)||void 0===_?void 0:_.enableGamepadMode)&&"GFN"===this.igoConfig.branding}isISSOCompactMode(){var _;return(null===(_=this.appConfig)||void 0===_||null===(_=_.igo)||void 0===_||null===(_=_.isso)||void 0===_?void 0:_.compactOnly)&&"GFN"===this.igoConfig.branding}issoLayoutPref(){var _;return(null===(_=this.appConfig)||void 0===_||null===(_=_.igo)||void 0===_||null===(_=_.isso)||void 0===_?void 0:_.layoutPreference)||O.w7s.Default}applyNvAPPModeClassOnBody(){document?document.getElementsByTagName("body")[0].classList.add("nvapp-igo-view"):this.logger.error("Can not add the class, document is undefined")}isTVMode(){return this.tvMode&&"GFN"===this.igoConfig.branding}isVirtualKeyboardEnabled(){return this.isVirtualKbEnabled&&"GFN"===this.igoConfig.branding}isSystemEnabled(){return this.systemInfoService.getDeviceOSType().pipe((0,L.q)(1),(0,u.U)(_=>{const b=_===h.wi.Windows,q=_===h.wi.MacOS;return this.isBrowserPlatform?b||_===h.wi.ChromeOS||q||_===h.wi.XBox:b||q}))}isControlUGCEnabled(){return!this.isBrowserPlatform&&"GFN"===this.igoConfig.branding}isConnectionStatusEnabled(){return"GFN"===this.igoConfig.branding}isKeyboardMouseGamesAllowed(){var _;return"GFN"!==this.igoConfig.branding||(null===(_=this.appConfig)||void 0===_||null===(_=_.client)||void 0===_?void 0:_.supportsKeyboardMouseGames)}isInputControlHintsEnabled(){return this.inputHintsEnabled&&"GFN"===this.igoConfig.branding}isGfnBrowserDevMode(){return"GFN"===this.igoConfig.branding&&this.isBrowserPlatform&&this.browserSupportService.isStagingOrDevDomain()}isNvKeyboardSupported(){return this.nvKeyboardSupported&&"GFN"===this.igoConfig.branding}isClientImeEnabled(){return this.clientImeEnabled&&"GFN"===this.igoConfig.branding}isGamepadLSControlUsed(){return this.useGamepadLSControl&&"GFN"===this.igoConfig.branding}usesAlternateHotkeyForIGO(){return this.useAlternateHotkeyForIGO&&"GFN"===this.igoConfig.branding}isGfnMobileMode(){return this.isMobileMode&&"GFN"===this.igoConfig.branding}areShortcutsOveridden(){var _;return!!this.isGuestAppFlow&&!(null===(_=this.guestModeConfig)||void 0===_||null===(_=_.igoSettings)||void 0===_||!_.shortcutControls)}getHotkeyShortcutsOverrides(){var _;return null===(_=this.guestModeConfig)||void 0===_||null===(_=_.igoSettings)||void 0===_?void 0:_.shortcutControls}showTitle(){return!this.isGuestAppFlow}showFeedbackSetting(){return!this.isGuestAppFlow}showLinks(){return!this.isGuestAppFlow}isGameplaySupported(){return!this.isGuestAppFlow}showTimeLeftMessage(){return!this.isGuestAppFlow}getOverriddenMicPosition(){var _,b,I;return!1===(null===(_=this.guestModeConfig)||void 0===_||null===(_=_.igoSettings)||void 0===_?void 0:_.isMicFeatureEnabled)?w.Fr.none:null!==(b=null===(I=this.guestModeConfig)||void 0===I||null===(I=I.igoSettings)||void 0===I?void 0:I.micIconPosition)&&void 0!==b?b:null}getOverriddenNetworkStatusIconPosition(){var _,b;return null!==(_=null===(b=this.guestModeConfig)||void 0===b||null===(b=b.igoSettings)||void 0===b?void 0:b.networkStatusIndicatorPosition)&&void 0!==_?_:null}getOverriddenStatisticsPosition(){var _,b;return null!==(_=null===(b=this.guestModeConfig)||void 0===b||null===(b=b.igoSettings)||void 0===b?void 0:b.statisticsPosition)&&void 0!==_?_:null}getIgoOverrideSettings(){var _;return this.isGuestAppFlow?null===(_=this.guestModeConfig)||void 0===_?void 0:_.igoSettings:null}getForceTouchModeSettings(){return this.projectInterfaceService.getForceTouchMode()}isVirtualControllerSupported(){let _;var b,I;return this.isGuestAppFlowWrapper()?(_=!1,_=this.isVirtualControllerEnabled&&(null!==(b=null===(I=this.guestModeConfig)||void 0===I||null===(I=I.igoSettings)||void 0===I?void 0:I.virtualGamepad)&&void 0!==b?b:_)):_=this.isVirtualControllerEnabled,_}isVirtualKeyboardOnMobileSupported(){let _=!0;var b,I;return this.isGuestAppFlowWrapper()&&(_=null!==(b=null===(I=this.guestModeConfig)||void 0===I||null===(I=I.igoSettings)||void 0===I?void 0:I.virtualKeyboard)&&void 0!==b?b:_),_}hideExitFullScreenOption(){var _;return this.isGuestAppFlowWrapper()||(null===(_=this.appConfig)||void 0===_||null===(_=_.igo)||void 0===_?void 0:_.hideExitFullScreenOption)}isGuestAppFlowWrapper(){var _;return null===(_=this.guestModeHelperService)||void 0===_?void 0:_.isGuestAppFlow()}isGFEMode(){return"GFN"!==this.igoConfig.branding}isRunTimeMaxBitRateConfigSupported(){return h.ng.isNativeLikePlatform()||this.isBrowserPlatform&&!this.isMobileMode}isRunTimeVSYNCConfigSupported(){return!h.ng.isBrowserPlatform()}isRunTimeAdjustPoorNetworkToggleSupported(){return h.ng.isNativeLikePlatform()||this.isBrowserPlatform&&!this.isMobileMode}isPerfOverlayEnabled(){return this.isGFEMode()}isRectOptimizationEnabled(){return!0}isReflexAnalyzerEnabled(){return this.isPerfOverlayEnabled()}needsDialogForInStreamPaste(){var _;return"GFN"===this.igoConfig.branding&&!(null===(_=this.appConfig)||void 0===_||null===(_=_.client)||void 0===_||!_.needsDialogForInStreamPaste)}shouldBlurInputOnSoftKeyboardDismissal(){return this.blurInputOnSoftKeyboardDismissal}showOnscreenKeyboardUsageNotification(){return this.displayOnscreenKeyboardUsage}}return(n=s).\u0275fac=function(_){return new(_||n)(p.LFG(h.ed),p.LFG(p.zs3),p.LFG(h.dF),p.LFG(V.g),p.LFG(h.Ob),p.LFG(c.OA),p.LFG(C.Ow),p.LFG(l.m3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()},62827:(Dt,ct,t)=>{"use strict";t.d(ct,{In:()=>z,Kk:()=>F,SX:()=>U});var e=t(85046),i=t(47422),L=t(46939),f=t(23675),x=t(328),S=t(87965),u=t(15746),g=t(58175),h=t(13963),O=t(78943),E=t(32392),w=t(97881),p=t(42241),V=t(62149),c=t(21120),C=t(70462),l=t(32484),o=t(9681),n=t(64555),s=t(38435),R=t(46014),b=t(32311),I=t(36643),q=t(47927),a=t(51815),y=t(61699),M=t(67445),P=t(41221),K=t(99541),B=t(97251),j=t(43219),tt=t(43559),ot=function(Q){return Q[Q.MIN_COMPACT_ICON_DURATION=1e3]="MIN_COMPACT_ICON_DURATION",Q[Q.MIN_EXPANDED_NETWORK_MESSAGE_DURATION=6e3]="MIN_EXPANDED_NETWORK_MESSAGE_DURATION",Q}(ot||{}),F=function(Q){return Q[Q.RECORD_SPECIAL_CASE_NONE=0]="RECORD_SPECIAL_CASE_NONE",Q[Q.RECORD_SPECIAL_CASE_4K=1]="RECORD_SPECIAL_CASE_4K",Q[Q.RECORD_SPECIAL_CASE_PLAYTEST=2]="RECORD_SPECIAL_CASE_PLAYTEST",Q}(F||{}),U=function(Q){return Q[Q.NORMAL=0]="NORMAL",Q[Q.WARNING=1]="WARNING",Q[Q.ALERT=2]="ALERT",Q}(U||{});let z=(()=>{var Q;class dt{constructor(m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt,k){this.injector=m,this.igoConfig=Y,this.featureSupportService=D,this.browserSupportService=N,this.oscDisplayService=Z,this.projectInterfaceService=W,this.loggingService=A,this.bridgeService=d,this.hotkeyService=H,this.hotkeyShareService=$,this.microphoneService=J,this.notifierService=st,this.clientInputService=lt,this.dbService=gt,this.systemInfoService=vt,this.translateService=k,this.streamingEndTime=-1,this.appTitle="",this.appInstanceId="",this.currentGameProfileName="",this.gfnEnabled=!1,this.imeEnabled=!1,this.throttleMs=333,this.isGfnMicEnabled=!1,this.hdrStreamingStatus=!1,this.$disableRecordSpecialCase=new C.X(F.RECORD_SPECIAL_CASE_NONE),this.$gpuFriendlyName=new C.X(""),this.$streamingTerminated=new l.xQ,this.$networkState=new C.X(U.NORMAL),this.subscriptions=[],this.networkStatusInit=!1,this.globalStore=null,this.igoNotifications="IgoNotifications",this.netWorkNotificationEnabled=!1,this.getGameHdrSupportInfo=new l.xQ,this.micIconStatus=new C.X(!1),this.logger=this.loggingService.getLogger("GfnInfoService"),this.globalStore=this.dbService.getGlobalStore(this.igoNotifications)}init(){this.logger.info("GfnInfo service init"),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled&&(this.streamerConfigService=this.injector.get(c.oX5),this.streamerHelperService=this.injector.get(c.CG5),this.streamingProfileService=this.injector.get(c.GKb),this.playtestLiveService=this.injector.get(c.Q0y),this.cloudVariableHelperService=this.injector.get(c.$lO),this.ecommerceService||(this.ecommerceService=this.injector.get(c.BHV)),this.streamingService||(this.streamingService=this.injector.get(p.FW),this.logger.info("StreamingService not injected init")),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>m.event===p.V4.SESSION_SETUP_SUCCESS)).subscribe(m=>{this.onSessionSetupSuccess(m),this.onGetGpuName(m),this.onGetGameName()}),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>m.event===p.V4.STREAMING_CLIENT_MESSAGE)).subscribe(m=>{this.processStreamingClientMessage(m)}),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>m.event===p.V4.STREAMING_BEGIN)).subscribe(()=>{this.appTitle=this.streamingService.streamingParams.appName,this.streamingEndTime=-1,this.getHDRGameSupportInfo()}),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>m.event===p.V4.STREAMING_BEGIN||m.event===p.V4.STOP_RESULT||m.event===p.V4.STREAMING_TERMINATED),(0,i.U)(m=>(this.logger.info("Microphone Icon Status update ",m.event),m.event===p.V4.STREAMING_BEGIN?this.micIconStatus.next(!0):(m.event===p.V4.STOP_RESULT||m.event===p.V4.STREAMING_TERMINATED)&&this.micIconStatus.next(!1),!0))).subscribe(),this.feedbackService=this.injector.get(w.TB),this.surveyService=this.injector.get(c.FR5),this.nesUserInfoService=this.injector.get(c.fIQ),this.gfcHelperService=this.injector.get(c.dgl),this.lcarsService=this.injector.get(c.zcQ),this.appConfig||(this.appConfig=this.injector.get(c.VKt)),h.ng.isBrowserPlatform()&&this.gfcHelperService.getAppInstanceId().subscribe(m=>{this.appInstanceId=m}),this.featureSupportService.isGfnMicrophoneEnabled().pipe((0,L.q)(1)).subscribe(m=>{this.isGfnMicEnabled=m,m?(this.hotkeyService.startListeningToHotkey(I.sW.MicToggle).pipe((0,L.q)(1)).subscribe(),this.hotkeyService.listen(I.sW.MicToggle).pipe((0,f.p)(this.throttleMs),(0,x.M)(this.microphoneService.currentMicState$)).subscribe(([Y,D])=>{D!==E.tn.PermissionPending&&D!==E.tn.PermissionDenied&&this.microphoneService.toggleMicrophone()}),this.streamingService.streamingEvent$.pipe((0,e.h)(Y=>Y.event===p.V4.STREAMING_BEGIN)).subscribe(()=>{this.microphoneService.start(this.streamingService.streamingProperties.sessionId,this.streamingService.streamingProperties.subSessionId)})):!m&&!this.featureSupportService.isShadowPlayEnabled()&&this.hotkeyService.stopListeningToHotkey(I.sW.MicToggle)}),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>m.event===p.V4.STREAMING_TERMINATED||m.event===p.V4.STOP_RESULT)).subscribe(()=>{this.isGfnMicEnabled&&this.microphoneService.stop(),this.$gpuFriendlyName.next(""),this.$streamingTerminated.next(!0),this.$networkState.next(U.NORMAL),this.networkNotificationSubscription&&(this.networkNotificationSubscription.unsubscribe(),this.networkNotificationSubscription=void 0)}),this.idmService=this.injector.get(c.No2),this.idmService.accountStatusChanged.subscribe(m=>{this.feedbackService.onAccountStatusChanged({userId:m.userId,externalUserId:m.externalId,idpId:m.idpId,isAuthenticated:m.isAuthenticated})}),this.gfnEnabled=!0,this.projectInterfaceService.triggerQuitStreaming.subscribe(m=>{m&&this.quitStreaming()}),this.clientInputService.isImeEnabled$.subscribe(m=>{this.logger.info("Checking ClientIME enablement value ",m),this.imeEnabled=m,this.imeEnabled?(this.hotkeyShareService.removeFromIgnoredHotkeysSet(I.sW.NativeKeyboardInputDialog),this.hotkeyService.startListeningToHotkey(I.sW.NativeKeyboardInputDialog).subscribe()):this.hotkeyService.stopListeningToHotkey(I.sW.NativeKeyboardInputDialog)},m=>{this.logger.info("Error getting ClientIME enablement value, defaulting to false",m),this.hotkeyService.stopListeningToHotkey(I.sW.NativeKeyboardInputDialog),this.imeEnabled=!1}),this.releaseHighlights=this.injector.get(c.NS5),this.networkConfigurationService=this.injector.get(c.XS0),this.networkBarsUiService=this.injector.get(V.H9),this.settingsService=this.injector.get(c.gbG),this.networkConfigurationService.getNetworkOverride().subscribe(m=>{null!=m&&(this.currentServer1={server:m.name})}),this.networkConfigurationService.getCurrentCachedZone().subscribe(m=>{null!=m&&(this.currentServer2={server:m.name})}),h.ng.isBrowserPlatform()||this.registerHDRStreamingStatusNotification(),this.streamingService.streamingEvent$.pipe((0,e.h)(m=>{var Y;return(null===(Y=m.event===p.V4.STREAMING_PROPERTY_UPDATE&&m)||void 0===Y?void 0:Y.updateType)===p.ue.BIT_DEPTH})).subscribe(m=>{this.colorBitDepth=null==m?void 0:m.bitDepth,this.logger.info("Received color bit depth ",this.colorBitDepth)}),this.projectInterfaceService.exitStreamerFlowNotify.subscribe(m=>{this.logger.info("Streamer exit notification received"),this.colorBitDepth=void 0})),"GFN"===this.igoConfig.branding&&(this.experienceControlService=this.injector.get(q.Q6),this.experienceControlService.batchCvsFetchedStatus$.pipe((0,L.q)(1),(0,S.zg)(m=>m?this.isIgssEnabledInConfig():(0,o.of)(!0))).subscribe(),this.checkIfOscEnabled())}checkIfOscEnabled(){this.streamerHelperService.isOscEnabled()?(this.logger.info("Open IGO hotkey blocked for OSC enabled clients on GDN"),this.hotkeyService.updateBlockedHotkeysList(I.sW.OpenIGO,!0)):this.logger.info("OSC is disabled, so Open IGO hotkey will not be blocked")}getstreamerConfig(){return this.streamerConfigService.activeConfig}updateSessionLengthTime(m){var Y;const D=null==m||null===(Y=m.message)||void 0===Y?void 0:Y.timerData;D&&D.beforeEventMS?this.streamingEndTime=Date.now()+D.beforeEventMS:this.logger.error("Missing timerData params:",JSON.stringify(D))}processStreamingClientMessage(m){var Y;(null==m||null===(Y=m.message)||void 0===Y?void 0:Y.messageType)===c.wMv.sessionLengthTimer&&this.updateSessionLengthTime(m)}getStreamingEndTime(){return this.streamingEndTime}getStreamingTitle(){return this.appTitle}quitGfnStreaming(){this.gfnEnabled&&(this.oscDisplayService.closeOSC(b.Y.QuitGath),this.quitStreaming())}quitStreaming(){this.projectInterfaceService.exitStreamerCallBack().pipe((0,L.q)(1)).subscribe(()=>this.oscDisplayService.gfnQuitting())}exitFullScreen(){this.browserSupportService.exitFullscreen()}sendFeeback(m){if(this.feedbackService.setUpToastContainer(m),!this.gfnEnabled)return;const Y=()=>this.streamerConfigService.config$.pipe((0,S.zg)(Z=>this.surveyService.getAvailableSurvey([R.TriggerType.Feedback],`${Z.cmsId}`,this.streamingService.streamingProperties.sessionId))),D=()=>this.surveyService.isSurveyFeatureAvailable([R.TriggerType.Feedback]),N=()=>this.surveyService.surveyEventListenerCloseDialog(R.TriggerType.Feedback);this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,S.zg)(Z=>this.feedbackService.initializeFeedback(Z.serviceEndpoint.loginProvider,Y,D,this.appInstanceId)),(0,e.h)(Z=>Z),(0,L.q)(1)).subscribe(()=>{this.feedbackService.onOpenFeedbackDialog(N)})}getAppMetadataUsingCmsId(m){return this.lcarsService.getMetadataByCmsId(m)}getAppMetaDataUsingParentId(m){return this.lcarsService.getAppdata(m).pipe((0,i.U)(Y=>Y[0]))}getRecordSpecialCase(){return this.$disableRecordSpecialCase.asObservable()}onSessionSetupSuccess(m){if(this.logger.info("OnSessionSetupSuccess EventInfo: ",m),this.hasWarningBeenShown=this.hasAlertBeenShown=this.ignoreQScore=!1,this.getNetworkNotificationStateFromMall(),this.networkStatusInit||(this.networkStatusInit=!0,this.networkStatus()),!this.featureSupportService.isControlUGCEnabled()||!this.igoConfig.ControlUGCEnabled)return void this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE);const Y=m.streamSettings[0].videoSettings.resolution.width,D=m.streamSettings[0].videoSettings.resolution.height,N=m.streamSettings[0].videoSettings.frameRate,Z=4953600,W=Y*D;this.logger.info("videoSettings.resolution.width : ",Y),this.logger.info("videoSettings.resolution.height: ",D),this.playtestLiveService.disableClientRecord()?(this.logger.info("SpecialCase: PLAYTEST"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_PLAYTEST)):W>=Z&&N>=120||N>=240?(this.logger.info("Streaming at 4K like resolution with fps >= 120"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K)):W>=Z?(this.logger.info("Streaming at 4K, check if transcode to 1440p is supported for record"),this.bridgeService.executeCommand(O.Gh.Share.Shareserver.GetIf4KRecordingFallbackAvailable).subscribe(A=>{this.logger.info("GetIf4KRecordingFallbackAvailable result:",A),A?(this.logger.info("SpecialCase: NONE"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE)):(this.logger.info("SpecialCase: 4K"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K))},A=>{this.logger.error("GetIf4KRecordingFallbackAvailable error:",A),this.logger.info("SpecialCase: 4K"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K)})):(this.logger.info("SpecialCase: NONE"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE))}getGpuName(){return this.$gpuFriendlyName.asObservable()}getCodec(){return this.streamingService||(this.streamingService=this.injector.get(p.FW),this.logger.info("StreamingService not injected getCodec")),this.streamingService.getStreamingCodec()}onGetGpuName(m){this.$gpuFriendlyName.next(m.gpuType)}streamingTerminated(){return this.$streamingTerminated.asObservable()}onGetGameName(){const m=this.bridgeService.executeCommand(O.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,e.h)(Y=>!(null==Y||!Y.appStarted))).subscribe(Y=>{this.currentGameProfileName=Y.appStarted.profileName,m.unsubscribe()})}showReleaseHighlight(m){this.releaseHighlights.onShowReleaseHighlight(!1,m,"0")}getCurrentServer(){const m=null==this.currentServer1;return m&&null==this.currentServer2?{server:"Auto"}:m?this.currentServer2:this.currentServer1}networkStatus(){const m=(0,n.aj)([this.networkBarsUiService.qualityInfo$,this.systemInfoService.getSystemInfo([h.l7.DeviceType]).pipe((0,L.q)(1))]).pipe((0,e.h)(()=>!this.ignoreQScore),(0,u.b)(()=>{this.ignoreQScore=!0})).subscribe(([Y,D])=>{let N=!1;if(this.netWorkNotificationEnabled)if(this.isQosUnderThreshold(Y.streamQuality))if(Y.streamQuality>this.appConfig.networkIndicators.alertThreshold){const Z=!(this.hasWarningBeenShown||this.hasAlertBeenShown),W="notification.network.spottyConnection";this.hasWarningBeenShown=!0,Z?(N=!1,this.notifierService.show(a.ZJ.NetworkSpottyConnection,W)):(N=!0,this.$networkState.next(U.WARNING))}else{if(this.hasAlertBeenShown)N=!0,this.$networkState.next(U.ALERT);else{N=!1;const W=D.DeviceType===h.z7.Phone?a.Ru.Message1:this.featureSupportService.isGuestAppFlowWrapper()?a.Ru.Message2:a.Ru.None;this.notifierService.show(a.ZJ.NetworkBadConnection,"","","","",{useAlternativeMessage:W})}this.hasAlertBeenShown=!0}else this.$networkState.next(U.NORMAL);else N=!1;this.delayTimer(N)});this.subscriptions.push(m)}getHDRSupportInfo(){return this.getGameHdrSupportInfo.asObservable()}getTimerSubString(){return this.ecommerceService.getUserMembership().pipe((0,g.K)(m=>(this.logger.error("User Membership fetch failed ",m),(0,o.of)(null))),(0,i.U)(m=>{var Y,D,N,Z,W;const A=null===(Y=this.appConfig)||void 0===Y||null===(Y=Y.productV2)||void 0===Y?void 0:Y.timeCapSKUEnabled,d=null==m||null===(D=m.product)||void 0===D?void 0:D.shortDescription,H=(null==m||null===(N=m.subscription)||void 0===N?void 0:N.subType)===c.LQU.TIME_CAPPED;return A&&H?(null==m||null===(Z=m.subscription)||void 0===Z||null===(Z=Z.currentSubscriptionState)||void 0===Z?void 0:Z.state)===c.jcr.LIMITED&&(null==m||null===(W=m.subscription)||void 0===W||null===(W=W.currentSubscriptionState)||void 0===W?void 0:W.isGamePlayAllowed)?(this.logger.info("User in limited playable state"),d?this.translateService.instant("mainMenu.GfnLimitedStateWarningShortDescr",{arg:d}):this.translateService.instant("mainMenu.GfnLimitedStateWarning")):(this.logger.info("User not in limited playable state"),null!=d?d:null):(this.logger.info("Time Capped SKU feature NOT enabled ",A,H),null!=d?d:null)}))}getHDRGameSupportInfo(){const m=this.getstreamerConfig().cmsId;let Y;Y=m?this.getAppMetadataUsingCmsId(m):this.getAppMetaDataUsingParentId(this.streamerConfigService.activeConfig.parentGameId),Y.pipe((0,i.U)(D=>{const Z=D.variants.some(W=>this.lcarsService.isFeatureSupportedOnVariant(W,c.vpN[c.xAh.HDR_ENABLED]));this.getGameHdrSupportInfo.next(Z)})).subscribe()}getIsHDrFeatureAvailable(){return this.ecommerceService.isFeatureAvailableToUser(c.xAh.HDR_ENABLED,c.$cB.SUPPORT_HDR)}getResolutionLabel(m,Y){return this.streamingProfileService.getResolutionLabel(m,Y)}getHDRStreamingStatus(){return this.hdrStreamingStatus}isPlatformSupportsHDRDecode(){return this.streamingProfileService.IsPlatformSupportsHDRDecode}getFormattedAspectRatio(m,Y){return this.streamingProfileService.calculateAspectRatio(m,Y)}getNetworkNotificationStateFromMall(){var m;this.networkNotificationSubscription=null===(m=this.settingsService)||void 0===m?void 0:m.networkWarningsEnabled$.subscribe(Y=>{this.netWorkNotificationEnabled=Y,this.globalStore.setItem("noteConnectionStatus",Y).pipe((0,L.q)(1)).subscribe(()=>{this.logger.info("Network Notification enabled: ",Y)},D=>{this.logger.error(`Unable to set noteConnectionStatus in store ${this.igoNotifications}`,D)})})}getNetworkWarningsEnabledState(){var m,Y;return null!==(m=null===(Y=this.settingsService)||void 0===Y?void 0:Y.networkWarningsEnabled$)&&void 0!==m?m:(0,o.of)(!1)}getNetworkState(){return this.$networkState.asObservable()}delayTimer(m){const D=(0,s.H)(m?ot.MIN_COMPACT_ICON_DURATION:ot.MIN_EXPANDED_NETWORK_MESSAGE_DURATION).subscribe(()=>{this.ignoreQScore=!1});this.subscriptions.push(D)}isQosUnderThreshold(m){return m<=this.appConfig.networkIndicators.warningThreshold}getColorBitDepth(){return this.colorBitDepth}registerHDRStreamingStatusNotification(){this.bridgeService.executeCommand(O.Gh.Gfn.Streaming.RegisterHDRStreamingStatusNotification).subscribe(m=>{this.hdrStreamingStatus=m,this.logger.info("registerHDRStreamingStatusNotification: HDR streaming status: ",m)},m=>{this.logger.error("registerHDRStreamingStatusNotification error:",m)})}isIgssEnabledInConfig(){return h.ng.isNativeLikePlatform()?(0,o.of)(!0):this.cloudVariableHelperService.getFeatureToggle(c._P4.ENABLE_BROWSER_IGSS).pipe((0,L.q)(1))}showMicIcon(){return this.micIconStatus.asObservable()}checkIfBitDepthAvailable(){var m,Y;return this.ecommerceService||(this.ecommerceService=this.injector.get(c.BHV)),this.appConfig||(this.appConfig=this.injector.get(c.VKt)),!(null===(m=this.appConfig)||void 0===m||null===(m=m.productV2)||void 0===m||!m.bitDepthFeatureEnabled)&&(null===(Y=this.ecommerceService)||void 0===Y?void 0:Y.isFeatureAvailableToUser(c.xAh.BIT_DEPTH,c.$cB.HIGHER_BIT_DEPTH))}}return(Q=dt).\u0275fac=function(m){return new(m||Q)(y.LFG(y.zs3),y.LFG(M.g),y.LFG(P.l),y.LFG(b.OA),y.LFG(K.v),y.LFG(E.m3),y.LFG(h.ed),y.LFG(h.dF),y.LFG(I.y1),y.LFG(B.q),y.LFG(E.pJ),y.LFG(a.nG),y.LFG(j.S),y.LFG(h.MC),y.LFG(h.Ob),y.LFG(tt.sK))},Q.\u0275prov=y.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),dt})()},56982:(Dt,ct,t)=>{"use strict";t.d(ct,{M:()=>x});var e=t(13963),i=t(55622),L=t(61699),f=t(21120);let x=(()=>{var S;class u{constructor(h){this.guestModeHelperService=h}get(h,O){const E=h===e.wi.MacOS?i.u3:i.vq;if(this.guestModeHelperService.isGuestAppFlow()){const w=h===e.wi.MacOS?i.kf:i.wl;null==w||w.forEach((p,V)=>{void 0!==E.get(V)&&E.set(V,p)}),h===e.wi.MacOS&&O===e.Aq.SAFARI&&(null==i.aw||i.aw.forEach((p,V)=>{void 0!==E.get(V)&&E.set(V,p)}))}return E}}return(S=u).\u0275fac=function(h){return new(h||S)(L.LFG(f.hTr))},S.\u0275prov=L.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),u})()},56624:(Dt,ct,t)=>{"use strict";t.d(ct,{i:()=>C});var e=t(47178),L=t(32484),f=t(9681),x=t(47422),S=t(87965),u=t(30688),g=t(55622),h=t(36643),O=t(63415),E=t(61699),w=t(13963),p=t(32392),V=t(97251),c=t(56982);let C=(()=>{var l;class o{constructor(s,R,_,b,I){this.dbCacheService=s,this.projectInterfaceService=R,this.hotkeyShareService=b,this.hotkeyDefaultMappingService=I,this.isHotKeyMappingInitialized$=new L.xQ,this.areHotkeysOverridden=!1,this.logger=_.getLogger("HotkeyMonitoringService"),this.inMemoryHotkeyMapping=new Map,this.igoShortcutsDb=this.dbCacheService.getOrCreateCachedGlobalItem(g.Vi,g.Sk.Shortcuts)}initHotkeyMapping(s,R,_){this.defaultHotkeyMapping=this.hotkeyDefaultMappingService.get(R,_),this.areHotkeysOverridden=!!s&&0!==(null==s?void 0:s.size),this.logger.info("Init hotkey mapping"),this.projectInterfaceService.setShortcutCheckCallBacks(this.checkIfShortcutIsPresent.bind(this)),0===this.inMemoryHotkeyMapping.size&&this.initializeHotkeyMemory(s),this.isHotKeyMappingInitialized$.next(!0),this.isHotKeyMappingInitialized$.complete()}initializeHotkeyMemory(s){this.igoShortcutsDb.sync_().pipe((0,x.U)(R=>{if(!this.cacheExists())return this.resetToDefault();{let _=0;if(this.logger.info("igoDb Cache exists"),this.defaultHotkeyMapping.forEach((b,I)=>{void 0!==this.igoShortcutsDb[I]?this.inMemoryHotkeyMapping.set(I,this.igoShortcutsDb[I]):this.updateCacheAndMemory(I,b),_++}),_===this.defaultHotkeyMapping.size)return this.logger.info("All hotkeys written in memory/db."),(0,f.of)(!0)}})).subscribe(R=>{this.areHotkeysOverridden&&this.initMemoryWithOverriddenHotkeys(s)})}initMemoryWithOverriddenHotkeys(s){this.logger.info("Overrides found, only write in memory."),this.overriddenHotkeysList=new Map(s),s.forEach((R,_)=>{(0,O.m)(R,this.defaultHotkeyMapping.get(_))||void 0===this.igoShortcutsDb[_]||(0,O.m)(R,this.igoShortcutsDb[_])?(0,O.m)(R,this.defaultHotkeyMapping.get(_))||this.inMemoryHotkeyMapping.set(_,R):(0,O.m)(this.defaultHotkeyMapping.get(_),this.igoShortcutsDb[_])?this.inMemoryHotkeyMapping.set(_,R):this.inMemoryHotkeyMapping.set(_,this.igoShortcutsDb[_])}),this.logger.info("Write in memory completed")}cacheExists(){return void 0!==this.igoShortcutsDb[h.sW.OpenIGO]}updateHotkeyMapping(s,R){this.inMemoryHotkeyMapping.set(s,R)}checkIfShortcutIsPresent(s){let R=null;const _=s.slice().sort();return this.defaultHotkeyMapping.forEach((b,I)=>{const q=b.slice().sort();if(!this.hotkeyShareService.isHotkeyInIgnoredSet(I))if(this.inMemoryHotkeyMapping.has(I)&&void 0!==this.inMemoryHotkeyMapping.get(I)){const a=this.inMemoryHotkeyMapping.get(I).slice().sort();(0,e.isEqual)(a,_)&&(R=s)}else this.updateCacheAndMemory(I,q),(0,e.isEqual)(q,_)&&(R=s)}),R||[]}updateCacheAndMemory(s,R){this.igoShortcutsDb.sync_().pipe((0,S.zg)(()=>(this.igoShortcutsDb[s]=R,this.inMemoryHotkeyMapping.set(s,R),this.igoShortcutsDb.persist_()))).subscribe()}resetToDefault(){return this.resetToDefaultObs$()}resetToDefaultObs$(){return this.igoShortcutsDb.sync_().pipe((0,u.j)(s=>this.isHotKeyMappingInitialized$),(0,S.zg)(()=>(this.logger.info("Resetting to defaults"),this.defaultHotkeyMapping.forEach((s,R)=>{this.areHotkeysOverridden?(this.igoShortcutsDb[R]=this.overriddenHotkeysList.get(R),this.inMemoryHotkeyMapping.set(R,this.overriddenHotkeysList.get(R))):(this.igoShortcutsDb[R]=s,this.inMemoryHotkeyMapping.set(R,s))}),this.igoShortcutsDb.persist_())))}}return(l=o).\u0275fac=function(s){return new(s||l)(E.LFG(w.LA),E.LFG(p.m3),E.LFG(w.ed),E.LFG(V.q),E.LFG(c.M))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},36643:(Dt,ct,t)=>{"use strict";t.d(ct,{sW:()=>I,z9:()=>q,y1:()=>a});var e=t(32484),i=t(92130),L=t(9681),f=t(85046),x=t(47422),S=t(87965),u=t(58175),g=t(46939),h=t(99901),O=t(15746),E=t(13963),w=t(78943),p=t(47178);class V{constructor(M){this.osrName=M}}const C={CMD:new V("cmd"),N0:new V("0"),ALT:new V("alt"),TAB:new V("tab"),CTRL:new V("ctrl")};var l=t(5717),o=t(61699);let n=(()=>{var y;class M{constructor(K,B,j){this.bridgeService=B,this.systemInfoService=j,this.keyPressCallback$=new e.xQ,this.keyBindings=new Map,this.platformUniqueKeys=new Map,this.logger=K.getLogger("gfn/KeybindingService"),this.setPlatformUniqueKeys(),this.init()}registerKeyBinding(K,B){if(0===K.length)throw Error("Key combination cannot have length 0");for(const tt of K)if(this.platformUniqueKeys.has(tt)&&!this.platformUniqueKeys.get(tt).includes(B))throw Error(`Key ${tt.osrName} is not supported by current platform`);const j=this.generateKeyBindingName(K);if(this.keyBindings.has(j))throw Error("Key combination already exists in keyBindings");return this.keyBindings.set(j,K),this.osrRegisterCustomKeyPress(j,j).subscribe(l.Z,tt=>{this.logger.error(`Failed to register ${j} with error`,tt)}),new M.KeyBindImpl(j,this,this.keyPressCallback$.pipe((0,f.h)(tt=>tt===j)))}unregisterKeyBinding(K){if(!this.keyBindings.has(K))throw Error(`Key binding ${K} does not exist and cannot be unregisterd.`);this.keyBindings.delete(K),this.osrUnregisterCustomKeyPress(K).subscribe(l.Z,B=>{this.logger.error(`Failed to unregister ${K} with error`,B)})}generateKeyBindingName(K){return(0,p.map)(K,"osrName").join("-")}init(){this.registerKeybindingCallback()}setPlatformUniqueKeys(){this.platformUniqueKeys.set(C.CMD,[E.wi.MacOS])}registerKeybindingCallback(){this.logger.info("osrRegisterKeyPressCallback"),this.systemInfoService.getDeviceOSType().pipe((0,S.zg)(K=>this.bridgeService.executeCommand(w.Gh.Gfn.Streaming.OsrRegisterKeyPressCallback,{osType:K}))).subscribe(K=>{if(null!==K){const B=K.toString();this.checkIfKeyBindingIsPresent(B)?this.logger.info("Keybinding is present ",B):this.logger.error("Unhandled custom keypress event type: ",B)}else this.logger.error("null custom keypress event: ",K)},K=>{this.logger.error("osrRegisterKeyPressCallback callback failure",K)})}checkIfKeyBindingIsPresent(K){var B;let j=!1;const tt=K.split("-").slice().sort(),ot=Array.from(null===(B=this.keyBindings)||void 0===B?void 0:B.keys());return null==ot||ot.forEach(F=>{const U=null==F?void 0:F.split("-").slice().sort();(0,p.isEqual)(tt,U)&&(j=!0,this.keyPressCallback$.next(F),this.logger.info("keyPressCallback$ is updated with ",F))}),j}osrRegisterCustomKeyPress(K,B){return this.logger.info("osrRegisterCustomKeyPress",K,B),this.bridgeService.executeCommand(w.Gh.Gfn.Streaming.OsrRegisterCustomKeyPress,{name:K,keyCombination:B})}osrUnregisterCustomKeyPress(K){return this.logger.info("osrUnregisterCustomKeyPress",K),this.bridgeService.executeCommand(w.Gh.Gfn.Streaming.OsrUnregisterCustomKeyPress,{keyCombination:K})}}return(y=M).KeyBindImpl=class{constructor(P,K,B){this.keyBindingName=P,this.parent=K,this.keyPressed$=new e.xQ,B.subscribe(this.keyPressed$)}get onKeyPressed$(){return this.keyPressed$.asObservable()}unregister(){this.parent.unregisterKeyBinding(this.keyBindingName),this.keyPressed$.complete()}},y.\u0275fac=function(K){return new(K||y)(o.LFG(E.ed),o.LFG(E.dF),o.LFG(E.Ob))},y.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),M})();var s=t(64441),R=t(67445),_=t(97251),b=t(56982),I=w.Yk.Share.Shareserver.HotkeyEnum,q=function(y){return y.Valid="Valid",y.Invalid="Invalid",y.InUse="InUse",y.Error="Error",y}(q||{});let a=(()=>{var y;class M{listen(K){return this.hkCallback$.pipe((0,f.h)(B=>B===K))}listenPTT(){return this.hkPTTCallback$.asObservable()}constructor(K,B,j,tt,ot,F,U,z){this.loggingService=K,this.bridgeService=B,this.igoConfig=j,this.injector=tt,this.hotkeyShareService=ot,this.hotKeyHelper=F,this.systemInfoService=U,this.hotkeyDefaultMappingService=z,this.hkCallback$=new e.xQ,this.hkPTTCallback$=new e.xQ,this.hotkeyList={},this.gfnHotkeyMappings={},this.keybindingService=null,this.streamerManagerService=null,this.blockHotkeys=!1,this.blockedHotkeysMap=new Map,this.logger=this.loggingService.getLogger("HotkeyService")}init(){this.logger.info("Hotkey service init"),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled&&(this.keybindingService=this.injector.get(n),this.streamerManagerService=this.injector.get(s.bF)),this.getAllHotkeys(),this.bridgeService.executeCommand(w.Gh.Share.Shareserver.RegisterHotkeyNotifications).subscribe(K=>this.hotkeyEvent(K))}updateBlockedHotkeysList(K,B){B?this.blockedHotkeysMap.set(K,!0):!B&&this.blockedHotkeysMap.has(K)?this.blockedHotkeysMap.delete(K):this.logger.error("Incorrect combination of hotkey and update",K,B)}hotkeyEvent(K){null===K||(this.logger.info("Hotkey: ",K),this.blockHotkeys||void 0===K.hotkey)||("PTT"===K.hotkey?this.hkPTTCallback$.next("Down"===K.state):this.hkCallback$.next(K.hotkey))}getAllHotkeys(){const K=Object.keys(I).map(j=>I[j]),B=[];K.forEach(j=>{const tt=I[j];B.push(this.getHotkeyNum(tt).pipe((0,x.U)(ot=>(this.logger.info(`Hot key mapping for ${tt} :`,ot),this.hotkeyList[tt]=ot,!0))))}),(0,i.D)(B).subscribe(()=>{K.forEach(j=>{const tt=I[j];this.keybindingService&&this.hotkeyList[tt]&&this.hotkeyList[tt].length>0&&this.registerGfnHotkey(tt,this.hotkeyList[tt])})})}getHotkeyNum(K){return this.hotkeyList[K]?(0,L.of)(this.hotkeyList[K]):this.bridgeService.executeCommand(w.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:K}).pipe((0,x.U)(B=>B.keys))}getHotkeyString(K){return this.hotkeyList[K]?(0,L.of)(this.hotKeyHelper.shortcutToString(this.hotkeyList[K])):this.getHotkeyNum(K).pipe((0,x.U)(B=>this.hotKeyHelper.shortcutToString(B)))}setHotkeyString(K,B){return this.checkIfValidGfnHotkey(B).pipe((0,S.zg)(j=>j?this.bridgeService.executeCommand(w.Gh.Share.Shareserver.SetHotkeyShortcut,{hotkey:K,keys:B}):(0,L.of)({_return_internal:w.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg})),(0,x.U)(j=>j._return_internal===w.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok?(this.keybindingService&&(this.gfnHotkeyMappings[K]&&(this.gfnHotkeyMappings[K].unregister(),this.gfnHotkeyMappings[K]=void 0),(1!==B.length||0!==B[0])&&this.registerGfnHotkey(K,B)),this.hotkeyList[K]=B,q.Valid):j._return_internal===w.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg?q.Invalid:j._return_internal===w.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_HotkeyInUse?q.InUse:(this.logger.info("SetHotkeyShortcut Unhandled result: ",j._return_internal),q.Error)),(0,u.K)(j=>(this.logger.info("SetHotkeyShortcut failed: ",j),(0,L.of)(q.Error))))}checkForDup(K,B){let j=!1;const tt=K.slice().sort();return B.forEach(ot=>{if(this.hotkeyList[ot].length){const F=this.hotkeyList[ot].slice().sort();(0,p.isEqual)(tt,F)&&(j=!0)}}),j}checkIdenticalEntry(K,B){if(!K||!this.hotkeyList[B])return!1;const j=K.slice().sort(),tt=this.hotkeyList[B].slice().sort();return(0,p.isEqual)(j,tt)}checkIfModifierKey(K){let B=!1;return E.Du.forEach(j=>{j===K&&(B=!0)}),B}checkIfWinKey(K){return 91===K||92===K}checkIfValidGfnHotkey(K){if(!this.keybindingService||!K||0===K.length||1===K.length&&0===K[0])return(0,L.of)(!0);const tt=K.map(ot=>this.hotKeyHelper.processKey(ot).toLowerCase()).map(ot=>new V(ot)).map(ot=>ot.osrName).join("-");return this.bridgeService.executeCommand(w.Gh.Gfn.Streaming.OsrCheckKeyPressCombination,{keyCombination:tt}).pipe((0,u.K)(ot=>(this.logger.info("Check KeyPress Combo err: ",ot),(0,L.of)(!0))))}registerGfnHotkey(K,B){if(this.hotkeyShareService.isHotkeyInIgnoredSet(K))return void this.logger.info("Skip register gfn hotkey",K);const tt=B.map(ot=>this.hotKeyHelper.processKey(ot).toLowerCase()).map(ot=>new V(ot));this.gfnHotkeyMappings[K]&&this.gfnHotkeyMappings[K].unregister(),(1!==B.length||0!==B[0])&&this.systemInfoService.getDeviceOSType().pipe((0,g.q)(1)).subscribe(ot=>{this.gfnHotkeyMappings[K]=this.keybindingService.registerKeyBinding(tt,ot),this.gfnHotkeyMappings[K]&&this.gfnHotkeyMappings[K].onKeyPressed$.subscribe(()=>{this.logger.info("key pressed: ",K),this.blockHotkeys||this.streamerManagerService.getCurrentState()!==s.$D.Streaming||this.blockedHotkeysMap.has(K)?this.logger.info("Hotkey ignored ",K,this.blockHotkeys,this.streamerManagerService.getCurrentState()):this.hkCallback$.next(K)})})}blockAllHotkeys(K){return this.blockHotkeys=K,this.bridgeService.executeCommand(w.Gh.Share.Shareserver.SetHotkeyMonitoring,{enable:!K}).pipe((0,x.U)(B=>(this.logger.info("setHotkeyMonitoring returned: ",B),!0)),(0,u.K)(B=>(this.logger.error("setHotkeyMonitoring failed: ",B),(0,L.of)(!1))))}stopListeningToHotkey(K){this.hotkeyList[K]&&this.hotkeyList[K].length<=0||(this.keybindingService&&this.gfnHotkeyMappings[K]&&(this.gfnHotkeyMappings[K].unregister(),this.gfnHotkeyMappings[K]=void 0),this.logger.info("Stop listening to hotkey",K),this.hotkeyShareService.addToIgnoredHotkeysSet(K))}startListeningToHotkey(K){if(void 0===this.hotkeyList[K]||this.hotkeyList[K].length<=0)return(0,L.of)(!0);const B=this.hotkeyShareService.isHotkeyInIgnoredSet(K);return this.logger.info("Start listening to hotkey",K,B),B&&this.hotkeyShareService.removeFromIgnoredHotkeysSet(K),this.keybindingService?this.resolveInnerConflicts(K):(0,L.of)(!0)}resolveInnerConflicts(K){const B=[];return this.systemInfoService.getDeviceOSType().pipe((0,g.q)(1),(0,x.U)(j=>{this.removeMappings(K,B,j),B&&B.length>0&&B.forEach(tt=>{this.setHotkeyString(tt,this.hotkeyDefaultMappingService.get(j).get(tt)).subscribe(ot=>{ot===q.Valid?this.logger.info("Resolve Conflicts result is: ",ot):this.logger.error("Some Error occurred while resolving conflicts")})}),this.registerGfnHotkey(K,this.hotkeyList[K])}),(0,h.h)(!0))}removeMappings(K,B,j){const tt=this.findDuplicate(K,B,j);void 0!==tt&&(this.gfnHotkeyMappings[tt]&&(this.gfnHotkeyMappings[tt].unregister(),this.gfnHotkeyMappings[tt]=void 0),B.push(tt),this.removeMappings(tt,B,j))}findDuplicate(K,B,j){let tt;return Object.keys(I).map(F=>I[F]).forEach(F=>{var U;const z=I[F];if(z!==K&&(null===(U=this.hotkeyList[z])||void 0===U?void 0:U.length)>0)if(0===B.length)this.checkIdenticalEntry(this.hotkeyList[z],K)&&(tt=z);else{const Q=this.hotkeyDefaultMappingService.get(j).get(K);tt=Q&&this.checkIdenticalEntry(Q,z)?z:void 0}}),this.logger.info("duplicate hotkey found: ",tt),tt}resetToDefaults(){return this.logger.info("resetToDefaults"),this.bridgeService.executeCommand(w.Gh.Share.Shareserver.ResetHotkeysToDefault).pipe((0,u.K)(()=>(0,L.of)(!0)),(0,O.b)(()=>{this.hotkeyList={},this.keybindingService&&Object.keys(I).map(B=>I[B]).forEach(B=>{this.gfnHotkeyMappings[B]&&(this.gfnHotkeyMappings[B].unregister(),this.gfnHotkeyMappings[B]=void 0)}),this.getAllHotkeys()}),(0,h.h)(!0))}}return(y=M).\u0275fac=function(K){return new(K||y)(o.LFG(E.ed),o.LFG(E.dF),o.LFG(R.g),o.LFG(o.zs3),o.LFG(_.q),o.LFG(E.d_),o.LFG(E.Ob),o.LFG(b.M))},y.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),M})()},97251:(Dt,ct,t)=>{"use strict";t.d(ct,{q:()=>x});var e=t(78943),i=t(61699),L=t(13963),f=e.Yk.Share.Shareserver.HotkeyEnum;let x=(()=>{var S;class u{constructor(h){this.ignoredHotkeysSet=new Set([f.DVRSave,f.InStreamPaste]),this.logger=h.getLogger("HotkeyShareService")}addToIgnoredHotkeysSet(h){this.ignoredHotkeysSet.add(h),this.logger.info("Added hotkey to ignore set:",h)}removeFromIgnoredHotkeysSet(h){this.ignoredHotkeysSet.delete(h),this.logger.info("Removed hotkey from ignore set:",h)}isHotkeyInIgnoredSet(h){return this.ignoredHotkeysSet.has(h)}}return(S=u).\u0275fac=function(h){return new(h||S)(i.LFG(L.ed))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),u})()},14180:(Dt,ct,t)=>{"use strict";t.d(ct,{I:()=>g});var e=t(32484),i=t(9681),L=t(78943),f=t(15746),x=t(58175),S=t(61699),u=t(13963);let g=(()=>{var h;class O{constructor(w,p){this.loggingService=w,this.bridgeService=p,this.localConfigChangedNotification=new e.xQ,this.generateExceptionFlag=!1,this.logger=this.loggingService.getLogger("IgoPiplLocaleConfigService"),this.registerForlocaleChangeNotification()}getLocaleOverride(){return this.bridgeService.executeCommand(L.Gh.Common.Nvlocalizedconfig.GetLocalizationData)}setServerURL(w){this.serverURL=w}generateException(){this.generateExceptionFlag=!0}getGenerateExceptionFlag(){return this.generateExceptionFlag}getServerURL(){return this.serverURL}localConfigChangeNotification(){return this.localConfigChangedNotification.asObservable()}registerForlocaleChangeNotification(){this.bridgeService.executeCommand(L.Gh.Common.Nvlocalizedconfig.LocalizationDataChangeNotification).pipe((0,f.b)(w=>{var p,V;this.logger.info("Received Localization Data Change Notification: ",w),(null==w||null===(p=w.jsEvents)||void 0===p?void 0:p.server)!==this.getServerURL()?this.localConfigChangedNotification.next(w):this.logger.info("Telemetry URL unchanged ",null==w||null===(V=w.jsEvents)||void 0===V?void 0:V.server)}),(0,x.K)(w=>(this.logger.error("Failed to get overrides",w),(0,i.of)(!1)))).subscribe()}}return(h=O).\u0275fac=function(w){return new(w||h)(S.LFG(u.ed),S.LFG(u.dF))},h.\u0275prov=S.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),O})()},51612:(Dt,ct,t)=>{"use strict";t.d(ct,{z:()=>o});var e=t(70462),i=t(9681),L=t(5717),f=t(85046),x=t(87965),S=t(15746),u=t(328),g=t(47422),h=t(58175),O=t(47178),w=t(77869),p=t(78943),V=t(43523),c=t(61699),C=t(13963),l=t(30285);let o=(()=>{var n;class s{constructor(_,b,I,q){this.loggingService=_,this.endpointFactory=b,this.bridgeService=I,this.localeService=q,this.currentGameChromaInfo$=new e.X({}),this.logger=this.loggingService.getLogger("LcarsService")}populateIgoAppConfig(_){this.logger.info("AppConfig populated"),this.igoAppConfig=_}init(){this.registerAppNotifications()}getCurrentAppChromaInfo(){return this.currentGameChromaInfo$.asObservable()}registerAppNotifications(){this.listenToAppStartedNotification(),this.listenToAppExitNotification(),this.listenToLocalChangedEvent()}listenToAppStartedNotification(){let _;this.bridgeService.executeCommand(p.Gh.Share.Shareserver.RegisterAppNotifications,{}).pipe((0,f.h)(b=>!(null==b||!b.appStarted)),(0,x.zg)(b=>{const I=b.appStarted.ChromaAppId;if(_=b,!I)return(0,i.of)(null);if("None"===I){const q={};return q.id=I,q.nvidiaTech={FREESTYLE:!0},q.title="",(0,i.of)(q)}return this.getAppAssetsByAppId(I)}),(0,S.b)(b=>{if(null==b||!b.nvidiaTech)return void this.logger.error("erroneous LCARS response:",b);const I={};I.cmsId=_.appStarted.cmsId,I.pid=_.appStarted.pid,I.id=b.id,I.title=b.title,I.nvidiaTech=b.nvidiaTech,this.logger.info("App chroma info fetched for ",I.title),this.currentGameChromaInfo$.next(I)})).subscribe(L.Z,b=>{this.logger.error("error to register for app started notification:",b)})}listenToAppExitNotification(){this.bridgeService.executeCommand(p.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,f.h)(_=>!!_.gameExited),(0,u.M)(this.currentGameChromaInfo$.asObservable()),(0,S.b)(([_,b])=>{_.gameExited.exitAppPID===(null==b?void 0:b.pid)&&this.currentGameChromaInfo$.next({})})).subscribe(L.Z,_=>{this.logger.error("error to register for app exit notification:",_)})}listenToLocalChangedEvent(){this.localeService.localeChanged.pipe((0,S.b)(_=>{this.currentLocale=_})).subscribe(L.Z,_=>{this.logger.error("failed to apply slot automatically: ",_.message)})}fetchAppsAndGamesAssets(_,b){const I=Object.assign({requestType:b},{query:_}),q={headers:this.createHeader(),params:I};return this.queryDataEndpoint=this.endpointFactory.createEndpoint({config:{timeout:this.igoAppConfig.lcarsConfig.defaultTimeout,timeBetweenRetries:this.igoAppConfig.lcarsConfig.defaultTimeBetweenRetries,maxRetries:this.igoAppConfig.lcarsConfig.defaultRetries}}),this.queryDataEndpoint.get((0,w.D5)([this.igoAppConfig.lcarsConfig.serverUrlCDN]),q).pipe((0,g.U)(M=>{var P;const K=null==M||null===(P=M.data)||void 0===P?void 0:P.apps.items;return(0,O.isEmpty)(K)?[]:K}))}getAppAssetsByAppId(_){const b=this.getAppAssetsQueryOptions(this.currentLocale,_),I=(0,V.O)(b);return this.fetchAppsAndGamesAssets(I,V.W.AppMetaData).pipe((0,g.U)(q=>q[0]),(0,h.K)(q=>(this.logger.error("Error while chroma app metadata query",q),(0,i.of)(null))))}getAppAssetsQueryOptions(_,b){return{language:_,appIds:this.forMatStringsArray(Array.isArray(b)?b:[b])}}forMatStringsArray(_){return _.map(b=>JSON.stringify(b)).join(",")}createHeader(){return{"NV-Client-ID":this.igoAppConfig.lcarsConfig.clientId,"NV-Client-Version":this.igoAppConfig.build.version,"Content-Type":"application/graphql"}}}return(n=s).\u0275fac=function(_){return new(_||n)(c.LFG(C.ed),c.LFG(l.V9),c.LFG(C.dF),c.LFG(C.OL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()},43523:(Dt,ct,t)=>{"use strict";t.d(ct,{O:()=>i,W:()=>e});var e=function(L){return L.AppMetaData="appMetaData",L}(e||{});const i=L=>`{\n    apps(\n      language: "${L.language}",\n      appIds:[${L.appIds}]) {\n          items {\n              id\n              title\n              nvidiaTech {\n                ANSEL\n                FREESTYLE\n                HDR\n                HIGHLIGHTS\n                NGX\n                REFLEX\n                REFLEXFLASHINDICATOR\n                REFLEXFIAUTO\n                REFLEXSTATS\n              }\n          }\n  }}`},65702:(Dt,ct,t)=>{"use strict";t.d(ct,{f:()=>u});var e=t(32484),i=t(61699),L=t(13963),f=t(15811),x=t(33960),S=t(27947);let u=(()=>{var g;class h{escapeEvent(){return this.escapeCallback$.asObservable()}centerPaneClosedEvent(){return this.centerPaneCallback$.asObservable()}constructor(E,w,p,V){this.telemetryHelperService=w,this.telemetryIgoService=p,this.router=V,this.disableEscape=!1,this.escapeCallback$=new e.xQ,this.centerPaneCallback$=new e.xQ,this.centerPaneOpened=!1,this.logger=E.getLogger("NavigationService")}navigate(E,w,p){this.disableEscape=!1;const V=Date.now();return p?this.router.navigate(E,w).then(c=>(this.telemetryIgoService.trackNavigation(V,p),c)):this.router.navigate(E,w)}goToNextNavState(){this.disableEscape||(this.centerPaneOpened?this.centerPaneCallback$.next():this.escapeCallback$.next(),this.centerPaneOpened=!1),this.disableEscape=!1}openCenterPane(E){this.centerPaneOpened&&!E&&this.centerPaneCallback$.next(),this.centerPaneOpened=E}disableEscapeEvent(E){this.disableEscape=E}disableCenterPaneCallback(){this.centerPaneOpened=!1}}return(g=h).\u0275fac=function(E){return new(E||g)(i.LFG(L.ed),i.LFG(f.l),i.LFG(x.b),i.LFG(S.F0))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),h})()},99541:(Dt,ct,t)=>{"use strict";t.d(ct,{v:()=>U});var e=t(27947),i=t(70462),L=t(49481),f=t(32484),x=t(9681),S=t(64555),u=t(6776),g=t(89718),h=t(99901),O=t(87965),E=t(85046),w=t(46939),p=t(58175),V=t(36520),c=t(15746),C=t(51063),l=t(13963),o=t(78943),n=t(28332),s=t(5042),R=t(36643),_=t(51815),b=t(93738),I=t(47007),q=t(64441),a=t(32311),y=t(61699),M=t(41221),P=t(67445),K=t(33960),B=t(65702),j=t(17401),tt=t(59074),ot=t(32392),F=t(43219);let U=(()=>{var z;class Q{getCurrentOpenStateImmediate(){return this.currentOpenState$.value}getCurrentOpenState(){return this.currentOpenState$.asObservable()}getCurrentDesktopModeImmediate(){return"desktop"===this.currentDesktopMode$.value}getCurrentDesktopMode(){return this.currentDesktopMode$.asObservable()}getLastActiveWindow(){return this.lastActiveWindow}getCanShowUI(){return this.showUI$.asObservable()}getIsUIAllowed(){return this.showUI$.value}getHideSidebar(){return this.hideSidebar}getSidebarVisibilityChange$(){return this.sideBarVisible$.asObservable()}setHideSidebar(X){this.hideSidebar=X,this.sideBarVisible$.next(!X)}setOutsideClickState(X){this.clickOutsideSidebarState=X}getOutsideClickState(){return this.clickOutsideSidebarState}getRtxHdrStatus$(){return this.rtxHdrState$.asObservable()}getRtxHdrEnable(){return!this.inDesktopMode&&this.rtxHdrState$.value}setRtxHdrStatus(X){this.rtxHdrState$.next(X)}getNativeHdrStatus$(){return this.nativeHdrState$.asObservable()}getNativeHdrEnable(){return this.nativeHdrState$.value}isDisplayStateCheckComplete(){return this.hdrStateCheckStatus$.asObservable()}constructor(X,m,Y,D,N,Z,W,A,d,H,$,J,st,lt,gt,vt){this.featureSupportService=X,this.hotkeyService=m,this.notifierService=Y,this.loggingService=D,this.bridgeService=N,this.injector=Z,this.ngZone=W,this.igoConfig=A,this.telemetryIgo=d,this.navigationService=H,this.dialog=$,this.snackBar=J,this.browserSupportService=st,this.projectInterfaceService=lt,this.gamepadService=gt,this.clientInputService=vt,this.transitioning=!1,this.openNoInput=0,this.openWithInput=!1,this.needToOpen=!1,this.paintingAllowed=!0,this.lastActiveWindow=null,this.inDesktopMode=null,this.inFakeFSMode=null,this.inGamepadOrientedMode=null,this.isGfnBrowserDevMode=null,this.isGfnMobileMode=null,this.appInFocus=null,this.needTransitionWorkaround=!1,this.pathSegments=[],this.startingState="sidebar/main-menu",this.startingStateName=b.wB.mainMenu,this.osrHandler=null,this.applicationLifetime=null,this.quitShownHandle=null,this.useAlternateHotkeyForIGO=!1,this.currentOpenState$=new i.X("closed"),this.currentDesktopMode$=new i.X("desktop"),this.currentDisplayMode$=new i.X({}),this.showUI$=new i.X(!0),this.gfnStreamerService=null,this.storeDelayedState=void 0,this.osdDisplayRect=[],this.notificationDisplayRect=[],this.hideSidebar=!1,this.sideBarVisible$=new L.t(1),this.rtxHdrState$=new i.X(!1),this.nativeHdrState$=new i.X(!1),this.hdrStateCheckStatus$=new i.X(!1),this.visibileNotificationCount=0,this.notificationVisible$=new f.xQ,this.forceOSDDisplayRectUpdate$=new f.xQ,this.clickOutsideSidebarState=!0,this.streamerState$=new i.X(void 0),this.logger=this.loggingService.getLogger("OscDisplayService"),this.inGamepadOrientedMode=X.isGamepadOrientedMode(),this.isGfnBrowserDevMode=X.isGfnBrowserDevMode(),this.isGfnMobileMode=X.isGfnMobileMode(),A.Path&&(this.pathSegments=A.Path.split("/"))}doOpenWindow(X,m=!1){return l.ng.isBrowserPlatform()&&X&&this.browserSupportService.setExitPath(a.Y.IGO),null!==this.osrHandler?this.osrHandler.open(X).pipe((0,h.h)(null)):(!X&&m?setTimeout(()=>{this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()},1e3):X?this.unsetDisplayRects().subscribe():this.setDisplayRects().subscribe(),this.bridgeService.executeCommand(o.Gh.Share.Osc.OpenWindow,{enableInput:X}))}doCloseWindow(X){l.ng.isBrowserPlatform()&&this.browserSupportService.resetExitPath(),null===this.osrHandler?(this.unsetDisplayRects().subscribe(),this.hdrStateCheckStatus$.next(!1),this.bridgeService.executeCommand(o.Gh.Share.Osc.CloseWindow).subscribe()):this.osrHandler.close().subscribe()}setDisplayRects(){return this.featureSupportService.isRectOptimizationEnabled()&&"GFE"===this.igoConfig.branding?(this.logger.info("setDisplayRects, visibileNotificationCount:",this.visibileNotificationCount),(0,x.of)(this.visibileNotificationCount).pipe((0,O.zg)(X=>X>0?this.notificationVisible$.asObservable():(0,x.of)(!1)),(0,E.h)(X=>!X),(0,w.q)(1),(0,O.zg)(()=>{if(this.openWithInput)return this.logger.info("skipping setDisplayRects, interactive IGO up"),(0,x.of)("true");const X=this.osdDisplayRect;return this.logger.info("setDisplayRects:",X),this.bridgeService.executeCommand(o.Gh.Share.Osc.SetDisplayRects,{displayRects:X})}),(0,p.K)(()=>(0,x.of)("Error setting display rects")))):(0,x.of)("")}unsetDisplayRects(){return this.featureSupportService.isRectOptimizationEnabled()&&"GFE"===this.igoConfig.branding?(this.logger.info("unsetDisplayRects"),this.bridgeService.executeCommand(o.Gh.Share.Osc.SetDisplayRects,{displayRects:[]}).pipe((0,p.K)(()=>(0,x.of)("Error setting display rects")))):(0,x.of)("")}init(){if(this.logger.info("initialized osc display"),this.router=this.injector.get(e.F0),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled){const Y=this.injector.get(I.V$);Y&&(this.osrHandler=Y.createOsrHandler("OscDisplayService")),this.applicationLifetime=this.injector.get(n.Ll),this.applicationLifetime&&(this.quitShownHandle=this.applicationLifetime.addWorkOnShutdownRequested(this.gfnQuitting.bind(this))),this.showUI$.next(!1),this.gfnStreamerService=this.injector.get(q.bF),this.gfnStreamerService.getCurrentStateChanges().subscribe(D=>{this.logger.info("streaming state change: ",D),this.streamerState$.next(D),D===q.$D.Streaming?this.gfnStreamingEnter():this.gfnStreamingExit()}),this.projectInterfaceService.triggerCloseIGO.subscribe(D=>{D&&this.closeOSC(a.Y.QuitGath)}),this.clientInputService.inputControlUIOpened$.subscribe(()=>{this.closeOSC()}),this.clientInputService.imeOpened$.subscribe(D=>{D&&this.closeOSC()})}this.router.events.subscribe(Y=>{Y instanceof e.OD?this.preNavigate(Y.url):Y instanceof e.m2&&this.postNavigate()}),this.useAlternateHotkeyForIGO=this.featureSupportService.usesAlternateHotkeyForIGO(),this.bridgeService.executeCommand(o.Gh.Share.Shareserver.RegisterWindowStateChangeNotifications).subscribe(Y=>this.windowEvent(Y));const X=(0,S.aj)([this.projectInterfaceService.enableListener,this.getCanShowUI()]).pipe((0,V.w)(([Y,D])=>Y&&D?this.useAlternateHotkeyForIGO?this.gamepadService.onButtonComboPressed$([s.z8.DpadUp,s.z8.LeftBumper]).pipe((0,E.h)(N=>N),(0,c.b)(N=>this.logger.info("IGO hotkey combination buttons pressed."))):this.getCurrentOpenState().pipe((0,V.w)(N=>{const Z=this.gamepadService.onButtonPressed$(s.z8.Start).pipe((0,E.h)(W=>!1===W));return"closed"===N?this.gamepadService.onButtonLongPressed$(s.z8.Start):Z.pipe((0,C.T)(1))})):u.C)),m=this.inGamepadOrientedMode?(0,g.T)(this.hotkeyService.listen(R.sW.OpenIGO),X):this.hotkeyService.listen(R.sW.OpenIGO);this.isGfnMobileMode||m.subscribe(()=>this.toggleOSCFromHotkey()),this.igoConfig.GFNCefClient||(this.bridgeService.executeCommand(o.Gh.Share.Osc.RegisterCloseCommand).subscribe(()=>{this.closeOSC()}),this.bridgeService.executeCommand(o.Gh.Share.Osc.RegisterResizeEvent).subscribe(()=>{this.handleOSCResize()}))}preNavigate(X){"/"!==X&&(this.bridgeService.executeCommand(o.Gh.Share.Osc.SetPainting,{enablePainting:!1}).subscribe(),this.paintingAllowed=!1),this.needToOpen&&(this.needToOpen=!1,this.doOpenWindow(!0).subscribe(m=>{m&&"noWindow"!==m&&(this.lastActiveWindow=m),this.notifyOverlayState(!0),this.telemetryIgo.sendStartupTelemetry()}))}postNavigate(){this.needTransitionWorkaround?(this.needTransitionWorkaround=!1,this.router.navigate([...this.pathSegments,{outlets:{igo:[this.startingState]}}]),this.logger.info("Going to starting state now")):(this.paintingAllowed||(this.bridgeService.executeCommand(o.Gh.Share.Osc.SetPainting,{enablePainting:!0}).subscribe(),this.paintingAllowed=!0),this.transitioning=!1)}windowEvent(X){if(null!=X)if(this.logger.info("Window event: ",X),"dismiss"===X.windowMsg)this.closeOSC();else if("fullscreenTransition"===X.windowMsg)null!==this.inDesktopMode&&(this.openNoInput||this.openWithInput)&&this.getFSMode().subscribe(D=>{if(this.logger.info("new display state: ",D),this.logger.info("current display state: ",this.currentDisplayMode),!D)return;const N=!D.fullscreen;let Z=!1;!N&&this.currentDisplayMode&&(D.width!==this.currentDisplayMode.width||D.height!==this.currentDisplayMode.height)&&(Z=!0),this.currentDisplayMode=D,(N!==this.inDesktopMode||!N&&D.borderlessMode!==this.inFakeFSMode||Z)&&(this.inDesktopMode=N,this.inFakeFSMode=D.borderlessMode,this.currentDisplayMode$.next(this.currentDisplayMode),this.triggerForcedDisplayRectUpdate(),this.transitionDisplayFullscreen(),this.logger.info("closing OSC because of state change"))});else if("overlayToggle"===X.windowMsg)this.toggleOSCFromHotkey();else if("showHotkeyMessage"===X.windowMsg){var m,Y;const D="GFE"===this.igoConfig.branding?"product.NVIDIA":"product.GFN",N="GFE"===this.igoConfig.branding?_.ZJ.OpenShareNvApp:_.ZJ.OpenShare;this.inGamepadOrientedMode&&!this.useAlternateHotkeyForIGO?this.notifierService.show(N,D,"","","",{useAlternativeMessage:_.Ru.Message1}):this.inGamepadOrientedMode&&this.useAlternateHotkeyForIGO?this.notifierService.show(N,"notification.HotkeyForXbox",D):!this.featureSupportService.isGuestAppFlowWrapper()||this.featureSupportService.isGfnMobileMode()||null!==(m=this.featureSupportService.getForceTouchModeSettings())&&void 0!==m&&m.useOsc?!this.isGfnMobileMode&&(null===(Y=this.featureSupportService.getForceTouchModeSettings())||void 0===Y||!Y.useOsc)&&this.hotkeyService.getHotkeyString(o.Yk.Share.Shareserver.HotkeyEnum.OpenIGO).subscribe(Z=>{Z&&Z.length&&this.notifierService.show(N,Z,D)}):(0,S.aj)([this.hotkeyService.getHotkeyString(o.Yk.Share.Shareserver.HotkeyEnum.OpenIGO),this.featureSupportService.isGfnMicrophoneEnabled()]).pipe((0,w.q)(1)).subscribe(([Z,W])=>{Z&&Z.length&&this.notifierService.show(N,Z,"","","",{useAlternativeMessage:W?_.Ru.Message2:_.Ru.Message3,useAlternativeIcon:!0})})}}gfnStreamingEnter(){this.showUI$.next(!0),this.bridgeService.executeCommand(o.Gh.Gfn.Streaming.OsrSetOverlayResolution,{width:1920,height:1080}).subscribe(),this.storeDelayedState&&this.storeDelayedState.state&&this.storeDelayedState.state.length>0&&setTimeout(()=>{this.openOSC(this.storeDelayedState.state,this.storeDelayedState.stateParams),this.storeDelayedState=void 0},500)}gfnStreamingExit(){this.getIsUIAllowed()&&(this.showUI$.next(!1),this.closeAll(),this.bridgeService.executeCommand(o.Gh.Gfn.Streaming.OsrSetOverlayResolution,{width:0,height:0}).subscribe())}gfnQuitting(){return this.openWithInput&&this.closeOSC(),(0,x.of)(!1)}getFSMode(){return this.bridgeService.executeCommand(o.Gh.Share.Osc.FullscreenState)}getAppInFocus(){return this.appInFocus}requestAppInFocus(){return this.bridgeService.executeCommand(o.Gh.Share.Shareserver.GetCaptureProcessInfo,{appType:o.Yk.Share.Shareserver.AppType.in_focus}).pipe((0,O.zg)(X=>(this.logger.info("requestAppInFocus: success ",X),this.appInFocus=X,(0,x.of)(!0))),(0,p.K)(X=>(this.logger.info("requestAppInFocus: error ",X),(0,x.of)(!0))))}closeAll(){for(this.openWithInput&&this.closeOSC();this.openNoInput>0;)this.closeNonInteractiveOSC();this.doCloseWindow()}openOSC(X=null,m={}){this.transitioning||(this.clientInputService.imeInputInProgress&&setTimeout(()=>{this.clientInputService.closeImeInput()}),this.clientInputService.toggleInputUI(!1),this.requestAppInFocus().subscribe(()=>{this.openSelectedOSC(X,m)}))}openSelectedOSC(X=null,m={}){if(this.showUI$.value)return!X&&""!==X&&(X=this.startingState),this.router.url===this.startingState&&(this.needTransitionWorkaround=!0,X=null,this.logger.info("Need transition workaround")),this.openWithInput||(this.transitioning=!0,this.openWithInput=!0,this.needToOpen=!0,this.currentOpenState$.next("open")),this.checkDisplayState(),X&&""!==X?void this.navigationService.navigate([...this.pathSegments,{outlets:{igo:[...X.split("/"),m]}}],{skipLocationChange:!0},this.startingStateName):(this.preNavigate("/"),void this.postNavigate());this.storeDelayedState={state:X,stateParams:m}}navigateToNull(){return this.navigationService.navigate([...this.pathSegments,{outlets:{igo:null}}],{skipLocationChange:!0},b.wB.none)}closeOSC(X){!this.openWithInput||this.transitioning||(this.dialog.closeAll(),this.snackBar.dismiss(),this.appInFocus=null,this.openWithInput=!1,this.navigateToNull().then(m=>{m||(this.logger.info("navigation failed, retrying"),setTimeout(()=>{this.navigateToNull()},100))},m=>{this.logger.info("navigation rejected: ",m),setTimeout(()=>{this.navigateToNull()},100)}),this.currentOpenState$.next("closed"),this.notifyOverlayState(!1),this.openNoInput>0?(this.logger.info("Open OSC without input"),this.doOpenWindow(!1,!0).subscribe(),setTimeout(()=>{this.setDisplayRects().subscribe()})):(this.logger.info("Close OSC"),this.doOpenWindow(!1,!0).subscribe(),setTimeout(()=>{0===this.openNoInput&&!this.openWithInput&&this.doCloseWindow(X)},1e3)))}openNonInteractiveOSC(){if(this.logger.info("openNonInteractiveOSC"),!this.showUI$.value)return;this.checkDisplayState();const X=0===this.openNoInput;this.openNoInput+=1,X?this.openWithInput||(this.logger.info("Open OSC without input"),this.doOpenWindow(!1).subscribe()):this.logger.info("Non-interactive overlay already up")}closeNonInteractiveOSC(){0!==this.openNoInput&&(this.openNoInput-=1,this.openNoInput<0&&(this.openNoInput=0),setTimeout(()=>{0===this.openNoInput&&!this.openWithInput&&(this.logger.info("Close OSC"),this.doCloseWindow(a.Y.OscNotification))},5e3))}convertRect(X){return X.map(m=>({x:Math.round(m.x),y:Math.round(m.y),width:Math.round(m.width),height:Math.round(m.height)}))}setOSDDisplayRectangles(X){this.osdDisplayRect=this.convertRect(X),this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()}setNotificationDisplayRectangles(X){this.notificationDisplayRect=this.convertRect(X),this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()}transitionDisplayFullscreen(){if(!(this.openNoInput<=0)||this.openWithInput){if(this.openWithInput){if(!(this.dialog.openDialogs.length>0))return this.logger.info("Interactive ui is up during FS transition, closing it"),void this.closeOSC();this.logger.info("Dialog open during FS transition")}this.doCloseWindow(),setTimeout(()=>{this.logger.info("Reopening OSC after state change"),this.doOpenWindow(this.openWithInput).subscribe(()=>{this.inDesktopMode&&this.ngZone.run(()=>{this.logger.info("Refreshing ui on switching to DT mode")})}),this.currentDesktopMode$.next(this.inDesktopMode?"desktop":"fullscreen")},1e3)}}setNotificationStart(){this.visibileNotificationCount++,this.notificationVisible$.next(!0),this.unsetDisplayRects().subscribe()}setNotificationStop(){this.visibileNotificationCount--,this.visibileNotificationCount<0&&(this.logger.error("Something is wrong, visibileNotificationCount < 0"),this.visibileNotificationCount=0),0===this.visibileNotificationCount&&this.notificationVisible$.next(!1),this.setDisplayRects().subscribe()}registerForcedDisplayRectUpdate(){return this.forceOSDDisplayRectUpdate$.asObservable()}triggerForcedDisplayRectUpdate(){this.forceOSDDisplayRectUpdate$.next(!0)}getCurrentDisplayMode(){return this.currentDisplayMode$.asObservable()}checkDisplayState(){this.getFSMode().subscribe(X=>{var m,Y;if(!X)return;this.logger.info("display state:",X);const N=this.inDesktopMode!==!X.fullscreen||X.width!==(null===(m=this.currentDisplayMode)||void 0===m?void 0:m.width)||X.height!==(null===(Y=this.currentDisplayMode)||void 0===Y?void 0:Y.height);this.currentDisplayMode=X,this.inDesktopMode=!X.fullscreen,this.inDesktopMode&&(X.hdrMode=!1),N&&this.currentDisplayMode$.next(this.currentDisplayMode),this.nativeHdrState$.next(X.hdrMode)},X=>{this.logger.info("Could not query fs state: ",X),this.inDesktopMode=!0,this.hdrStateCheckStatus$.next(!0)},()=>{this.currentDesktopMode$.next(this.inDesktopMode?"desktop":"fullscreen"),this.hdrStateCheckStatus$.next(!0)})}notifyOverlayState(X){}toggleOSCFromHotkey(){this.transitioning||(this.openWithInput?this.closeOSC():(this.telemetryIgo.beginStartupTimer(b.bq.openHotkey),this.openOSC()))}handleOSCResize(){this.logger.info("handleOSCResize"),this.triggerForcedDisplayRectUpdate()}}return(z=Q).\u0275fac=function(X){return new(X||z)(y.LFG(M.l),y.LFG(R.y1),y.LFG(_.nG),y.LFG(l.ed),y.LFG(l.dF),y.LFG(y.zs3),y.LFG(y.R0b),y.LFG(P.g),y.LFG(K.b),y.LFG(B.f),y.LFG(j.uw),y.LFG(tt.pl),y.LFG(a.OA),y.LFG(ot.m3),y.LFG(s.Se),y.LFG(F.S))},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),Q})()},51815:(Dt,ct,t)=>{"use strict";t.d(ct,{Ru:()=>O,ZJ:()=>g,_R:()=>h,nG:()=>w});var e=t(32484),i=t(9681),L=t(92130),f=t(58175),x=t(15746),S=t(61699),u=t(13963),g=function(p){return p[p.Empty=0]="Empty",p[p.OpenShare=1]="OpenShare",p[p.OpenShareNvApp=2]="OpenShareNvApp",p[p.InstantReplayStarted=3]="InstantReplayStarted",p[p.InstantReplayStopped=4]="InstantReplayStopped",p[p.InstantReplaySaving=5]="InstantReplaySaving",p[p.InstantReplaySaved=6]="InstantReplaySaved",p[p.RecordStarted=7]="RecordStarted",p[p.RecordSaving=8]="RecordSaving",p[p.RecordStopped=9]="RecordStopped",p[p.ScreenshotSaved=10]="ScreenshotSaved",p[p.PhotographicScreenshotSavedToGallery=11]="PhotographicScreenshotSavedToGallery",p[p.WarningFullscreenGameRequired=12]="WarningFullscreenGameRequired",p[p.WarningRecordingStopToCustomize=13]="WarningRecordingStopToCustomize",p[p.WarningHighlightsStopToCustomize=14]="WarningHighlightsStopToCustomize",p[p.WarningRecordingStopToUseFeature=15]="WarningRecordingStopToUseFeature",p[p.WarningInstantReplayStopToUseFeature=16]="WarningInstantReplayStopToUseFeature",p[p.WarningSupportedGameRequired=17]="WarningSupportedGameRequired",p[p.WarningNvidiaGpuRequired=18]="WarningNvidiaGpuRequired",p[p.HighlightsSaved=19]="HighlightsSaved",p[p.FailedToRemove=20]="FailedToRemove",p[p.GalleryIsFull=21]="GalleryIsFull",p[p.DiskSpaceIsLow=22]="DiskSpaceIsLow",p[p.NoSpaceCaptureNotSaved=23]="NoSpaceCaptureNotSaved",p[p.NoSpaceCaptureNotStarted=24]="NoSpaceCaptureNotStarted",p[p.ErrorRestartGame=25]="ErrorRestartGame",p[p.PhotoModeNotAllowedNvApp=26]="PhotoModeNotAllowedNvApp",p[p.PhotoModeNotAllowed=27]="PhotoModeNotAllowed",p[p.CustomOverlaySlotEmpty=28]="CustomOverlaySlotEmpty",p[p.ManualRecordRunning=29]="ManualRecordRunning",p[p.ConnectingToGfnBroadcast=30]="ConnectingToGfnBroadcast",p[p.ConnectedToGfnBroadcast=31]="ConnectedToGfnBroadcast",p[p.FailedToConnectGfnBroadcast=32]="FailedToConnectGfnBroadcast",p[p.DisconnectedFromGfnBroadcast=33]="DisconnectedFromGfnBroadcast",p[p.NetworkSpottyConnection=34]="NetworkSpottyConnection",p[p.NetworkBadConnection=35]="NetworkBadConnection",p[p.OnscreenKeyboardUsage=36]="OnscreenKeyboardUsage",p[p.HDRErrorRecord=37]="HDRErrorRecord",p[p.HDRErrorScreenshot=38]="HDRErrorScreenshot",p[p.HDRErrorHighlight=39]="HDRErrorHighlight",p[p.PerfMonLogging=40]="PerfMonLogging",p[p.PerfMonRectAlignmentWarning=41]="PerfMonRectAlignmentWarning",p[p.PerfMonRfiWarning=42]="PerfMonRfiWarning",p}(g||{}),h=function(p){return p[p.Empty=0]="Empty",p[p.OpenOverlay=1]="OpenOverlay",p[p.ConnectionStatus=2]="ConnectionStatus",p[p.SaveIRToGallery=3]="SaveIRToGallery",p[p.SaveMRToGallery=4]="SaveMRToGallery",p[p.SaveSSToGallery=5]="SaveSSToGallery",p[p.SaveHLToGallery=6]="SaveHLToGallery",p[p.IROnOff=7]="IROnOff",p[p.MROn=8]="MROn",p[p.RecordHDRError=9]="RecordHDRError",p[p.HighlightHDRError=10]="HighlightHDRError",p[p.ScreenshotHDRError=11]="ScreenshotHDRError",p}(h||{}),O=function(p){return p[p.None=0]="None",p[p.Message1=1]="Message1",p[p.Message2=2]="Message2",p[p.Message3=3]="Message3",p}(O||{});const E={useAlternativeMessage:O.None,useAlternativeIcon:!1,useAlternativeIconClass:""};let w=(()=>{var p;class V{constructor(C,l){this.loggingService=C,this.dbService=l,this.notification$=new e.xQ,this.globalStore=null,this.igoNotifications="IgoNotifications",this.globalToggleStore="GlobalToggle",this.globalState=!0,this.initialState=!0,this.controls=[{saveStr:"noteOverlay",control:h.OpenOverlay,enable:this.initialState,controlledNotifiers:[g.OpenShare,g.OpenShareNvApp]},{saveStr:"noteSaveIR",control:h.SaveIRToGallery,enable:this.initialState,controlledNotifiers:[g.InstantReplaySaving,g.InstantReplaySaved]},{saveStr:"noteSaveMR",control:h.SaveMRToGallery,enable:this.initialState,controlledNotifiers:[g.RecordSaving,g.RecordStopped]},{saveStr:"noteSaveSS",control:h.SaveSSToGallery,enable:this.initialState,controlledNotifiers:[g.ScreenshotSaved,g.PhotographicScreenshotSavedToGallery]},{saveStr:"noteSaveHL",control:h.SaveHLToGallery,enable:this.initialState,controlledNotifiers:[g.HighlightsSaved]},{saveStr:"noteOnOffIR",control:h.IROnOff,enable:this.initialState,controlledNotifiers:[g.InstantReplayStarted,g.InstantReplayStopped]},{saveStr:"noteOnMR",control:h.MROn,enable:this.initialState,controlledNotifiers:[g.RecordStarted]},{saveStr:"noteConnectionStatus",control:h.ConnectionStatus,enable:this.initialState,controlledNotifiers:[g.NetworkSpottyConnection,g.NetworkBadConnection]},{saveStr:"noteHDRErrorScreenshot",control:h.ScreenshotHDRError,enable:this.initialState,controlledNotifiers:[g.HDRErrorScreenshot]},{saveStr:"noteHDRErrorHighlight",control:h.HighlightHDRError,enable:this.initialState,controlledNotifiers:[g.HDRErrorHighlight]},{saveStr:"noteHDRErrorRecord",control:h.RecordHDRError,enable:this.initialState,controlledNotifiers:[g.HDRErrorRecord]}],this.logger=this.loggingService.getLogger("OscNotificationService"),this.globalStore=this.dbService.getGlobalStore(this.igoNotifications)}getOscEvents(){return this.notification$.asObservable()}showInternal(C,l,o="",n="",s="",R="",_=E){this.isNotificationBlocked(C)||this.notification$.next({selection:C,arg1:o,arg2:n,flip:l,thumb:R,alternateNotificationData:_})}show(C,l="",o="",n="",s="",R=E){this.showInternal(C,!1,l,o,n,s,R)}flipTo(C,l="",o="",n="",s="",R=E){this.showInternal(C,!0,l,o,n,s,R)}init(){const C=this.globalStore.getItem(this.globalToggleStore).subscribe(l=>{void 0!==l&&(this.globalState=l)},l=>{this.logger.error("Failed to read global notification state",l)},()=>{C.unsubscribe()});this.controls.forEach(l=>{const o=this.globalStore.getItem(l.saveStr).subscribe(n=>{l.enable=void 0===n?this.initialState:n},n=>{this.logger.error("Failed to read Notification Control in database: ",n)},()=>{o.unsubscribe()})})}getNotificationControls(){return this.controls}setNotificationControl(C,l){const o=this.controls.find(s=>s.control===C);o&&(o.enable=l);const n=this.globalStore.setItem(o.saveStr,o.enable).subscribe(()=>{n.unsubscribe(),this.logger.info("Notification Control Stored: "+o.saveStr+" Value: "+o.enable)})}isNotificationBlocked(C){let l=!1;return this.controls.forEach(o=>{o.controlledNotifiers.forEach(n=>{n===C&&(l=!o.enable||!this.globalState)})}),l}getGlobalToggle(){return this.globalState}setGlobalToggle(C){this.globalState=C;const l=this.globalStore.setItem(this.globalToggleStore,this.globalState).subscribe({complete:()=>{l.unsubscribe()}})}loadGFEMigrationData(C){const l=C["notification-settings"];if(!l)return this.logger.info("No valid notification data found in GFE backup"),(0,i.of)(null);this.logger.info("Porting GFE backup data");const o={noteOverlay:"openShare",noteSaveIR:"savedIR",noteSaveMR:"savedMR",noteSaveSS:"savedSS",noteSaveHL:"savedHL",noteOnOffIR:"IROnOff",noteOnMR:"MRStarted",noteHDRErrorScreenshot:"screenshotHDRError",noteHDRErrorHighlight:"hlHDRError",noteHDRErrorRecord:"recordHDRError"};let n=!0;const s=[];return Object.keys(o).forEach(R=>{const _=l[o[R]];void 0!==_&&s.push(this.globalStore.setItem(R,_).pipe((0,f.K)(b=>(this.logger.error("GFE migrations indexDb update failed",b),(0,i.of)(null))))),_&&(n=!1)}),n&&s.push(this.globalStore.setItem(this.globalToggleStore,!1).pipe((0,f.K)(R=>(this.logger.error("GFE migrations indexDb update failed",R),(0,i.of)(null))))),(0,L.D)(s).pipe((0,x.b)(R=>this.logger.info("Notification data migrated from GFE")))}}return(p=V).\u0275fac=function(C){return new(C||p)(S.LFG(u.ed),S.LFG(u.MC))},p.\u0275prov=S.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},66129:(Dt,ct,t)=>{"use strict";t.d(ct,{BH:()=>c,Ec:()=>l,Fr:()=>V,Kw:()=>p,_C:()=>C});var e=t(32484),i=t(73992),L=t(9681),f=t(92130),x=t(15746),S=t(99901),u=t(58175),g=t(77665),h=t(61699),O=t(13963),E=t(67445),w=t(41221),p=function(o){return o.Recording="Recording",o.IR="IR",o.Highlights="Highlights",o.Broadcast="Broadcast",o.Mic="Mic",o.ViewerCount="ViewerCount",o.Comments="Comments",o.Webcam="Webcam",o.WebcamSize="WebcamSize",o.GfnMic="GfnMic",o.PerfLogging="PerfLogging",o.Statistics="Statistics",o.StatsSize="StatsSize",o.Network="Network",o.Performance="Performance",o}(p||{}),V=function(o){return o.rightTop="rightTop",o.rightCenter="rightCenter",o.rightBottom="rightBottom",o.centerBottom="centerBottom",o.leftBottom="leftBottom",o.leftCenter="leftCenter",o.leftTop="leftTop",o.centerTop="centerTop",o.none="none",o}(V||{}),c=function(o){return o.small="small",o.medium="medium",o.large="large",o}(c||{}),C=function(o){return o.compact="compact",o.standard="standard",o}(C||{});let l=(()=>{var o;class n{constructor(R,_,b,I,q,a){this.injector=R,this.dbService=_,this.igoConfig=b,this.featureSupportService=I,this.loggingService=q,this.localeService=a,this.osdChanged$=new e.xQ,this.globalStore=null,this.dbStoreName="IgoIndicatorSettings",this.overlaySettings={Recording:V.rightTop,IR:V.rightTop,Highlights:V.rightTop,Mic:V.rightTop,Broadcast:V.rightTop,ViewerCount:V.rightTop,Comments:V.rightTop,GfnMic:V.rightTop,Statistics:V.none,StatsSize:C.compact,Network:V.none,Performance:V.rightTop,PerfLogging:V.rightTop},this.logger=this.loggingService.getLogger("OsdService"),"GFN"===this.igoConfig.branding?this.overlaySettings.Statistics=this.localeService.isRTLLayoutEnabled?V.leftTop:V.rightTop:(this.perfMonService=this.injector.get(g.d),this.overlaySettings.Recording=V.rightBottom,this.overlaySettings.IR=V.rightBottom,this.overlaySettings.Mic=V.rightBottom,this.overlaySettings.Highlights=V.rightBottom,this.overlaySettings.PerfLogging=V.rightBottom),this.featureSupportService.isConnectionStatusEnabled()&&this.featureSupportService.isGfnMobileMode()&&(this.overlaySettings.Network=V.rightTop),this.globalStore=this.dbService.getGlobalStore(this.dbStoreName)}init(){var R;const _=[];Object.keys(this.overlaySettings).forEach(b=>{this.getAndSetOverriddenPositionSetting(b);const I=this.globalStore.getItem(b).pipe((0,x.b)(q=>{const a=V[q],y=C[q];void 0!==a?this.overlaySettings[b]=a:void 0!==y&&(this.overlaySettings[b]=y)}));_.push(I)}),(0,i.$R)(..._).subscribe(()=>{var b;null===(b=this.perfMonService)||void 0===b||b.setPerfOverlayQuadrant(this.overlaySettings[p.Performance]),this.triggerChange(null)}),null===(R=this.perfMonService)||void 0===R||R.listenVisibilityChanges().subscribe(b=>{this.logger.info("listenVisibilityChanges:",b),this.overlaySettings.Performance===V.none&&b&&(this.overlaySettings.Performance=V.rightTop,this.saveOverlaySettings().subscribe()),this.triggerChange(p.Performance)})}saveOverlaySettings(R=!1){const _=[];return Object.keys(this.overlaySettings).forEach(b=>{const I=this.globalStore.setItem(b,this.overlaySettings[b]);_.push(I)}),(0,i.$R)(..._).pipe((0,x.b)(()=>{R||this.triggerChange(null)}),(0,S.h)(!0))}getPosition(R){return this.overlaySettings[R]}setPosition(R,_){this.overlaySettings[R]=_,R===p.Performance&&this.perfMonService.setPerfOverlayQuadrant(_)}getStatsSize(){return this.overlaySettings[p.StatsSize]}setStatsSize(R){this.overlaySettings[p.StatsSize]=R}getOsdIndicatorSize(R){return this.overlaySettings[R]}setOsdIndicatorSize(R,_){this.overlaySettings[R]=_}listenChanges(){return this.osdChanged$.asObservable()}triggerChange(R){this.osdChanged$.next(R)}indexDbUpdateGfeMigration(R,_){return this.globalStore.setItem(R,_).pipe((0,u.K)(b=>(this.logger.error("GFE migrations indexDb update failed",b),(0,L.of)(null))))}loadGFEMigrationData(R){var _,b;const I=R["osd-storage"];if(!I)return this.logger.info("No valid data found in GFE backup"),(0,L.of)(null);this.logger.info("Porting GFE backup data");const q={RightTop:V.rightTop,RightBottom:V.rightBottom,LeftBottom:V.leftBottom,LeftTop:V.leftTop},a=[];if(null!==(_=I.Status)&&void 0!==_&&_.enabled){const y=I.Status.position;q[y]&&(a.push(this.indexDbUpdateGfeMigration(p.Recording,q[y])),a.push(this.indexDbUpdateGfeMigration(p.IR,q[y])),a.push(this.indexDbUpdateGfeMigration(p.Mic,q[y])),a.push(this.indexDbUpdateGfeMigration(p.Highlights,q[y])))}if(null!==(b=I.Performance)&&void 0!==b&&b.enabled){const y=I.Performance.position;q[y]&&a.push(this.indexDbUpdateGfeMigration(p.Performance,q[y]))}return(0,f.D)(a).pipe((0,x.b)(y=>this.logger.info("OSD settings migrated from GFE")))}getAndSetOverriddenPositionSetting(R){let _=null;var b;if(R===p.GfnMic)_=null!==(b=this.featureSupportService.getOverriddenMicPosition())&&void 0!==b?b:null;else if(R===p.Network){var I;_=null!==(I=this.featureSupportService.getOverriddenNetworkStatusIconPosition())&&void 0!==I?I:null}else if(R===p.Statistics){var q;_=null!==(q=this.featureSupportService.getOverriddenStatisticsPosition())&&void 0!==q?q:null}_&&(this.overlaySettings[R]=_)}}return(o=n).\u0275fac=function(R){return new(R||o)(h.LFG(h.zs3),h.LFG(O.MC),h.LFG(E.g),h.LFG(w.l),h.LFG(O.ed),h.LFG(O.OL))},o.\u0275prov=h.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})()},9783:(Dt,ct,t)=>{"use strict";t.d(ct,{$j:()=>g,Dq:()=>L,G$:()=>C,I5:()=>E,OV:()=>R,TC:()=>e,TE:()=>l,U0:()=>_,V3:()=>c,aq:()=>V,cr:()=>i,gs:()=>h,jO:()=>u,nm:()=>w,oc:()=>f,pW:()=>s,ud:()=>o,vE:()=>O,vl:()=>S,xd:()=>n,y6:()=>p});const e=500,i=20,L=5e3,f=3e4;var S=function(b){return b[b.FPS=0]="FPS",b[b.GPU=1]="GPU",b[b.CPU=2]="CPU",b[b.Latency=3]="Latency",b}(S||{});const u=[{id:S.FPS,name:"settings.gameplay.FPS",shortName:"settings.gameplay.FPS"},{id:S.GPU,name:"perfmon.GPUName",shortName:"perfmon.GPU"},{id:S.CPU,name:"perfmon.CPUName",shortName:"perfmon.CPU"},{id:S.Latency,name:"perfmon.latency",shortName:"perfmon.latencyShortName"}];var g=function(b){return b[b.FPS=0]="FPS",b[b.Basic=1]="Basic",b[b.Advanced=2]="Advanced",b[b.Latency=3]="Latency",b[b.Custom=4]="Custom",b}(g||{}),h=function(b){return b[b.FPS=0]="FPS",b[b.Basic=1]="Basic",b[b.Advanced=2]="Advanced",b[b.Custom=3]="Custom",b}(h||{});const O=g.Basic,E=[{id:g.FPS,name:"settings.gameplay.FPS",metrics:["fps"]},{id:g.Basic,name:"perfmon.basic",metrics:["fps","gpuUtil","cpuUtil","avgPCLatency"]},{id:g.Advanced,name:"perfmon.advanced",metrics:["fps","fps1pc","fpsMax","fpsMin","frameTime","gpuUtil","gpuTemp","gpuClock","gpuVoltage","gpuPower","gpuFanSpeed","vramClock","cpuUtil","cpuTemp","cpuClock","renderLatency","avgPCLatency"]},{id:g.Latency,name:"perfmon.latency",metrics:["fps","renderLatency","avgPCLatency","reflexMonitorPosition","mouseLatency","avgMouseLatency","pcDisplayLatency","avgPcDisplayLatency","systemLatency","avgSystemLatency"]},{id:g.Custom,name:"settings.gameplay.Custom",metrics:["fps","fps1pc","fpsMax","fpsMin","frameTime","gpuUtil","gpuTemp","gpuClock","gpuVoltage","gpuPower","gpuFanSpeed","vramClock","cpuUtil","cpuTemp","cpuClock","renderLatency","avgPCLatency","reflexMonitorPosition","mouseLatency","avgMouseLatency","pcDisplayLatency","avgPcDisplayLatency","systemLatency","avgSystemLatency"]}];var w=function(b){return b[b.Linear=0]="Linear",b[b.Double=1]="Double",b[b.Stacked=2]="Stacked",b}(w||{});const p=w.Linear;var V=function(b){return b[b.Standard=0]="Standard",b[b.Enhanced=1]="Enhanced",b}(V||{});const c=V.Standard;var C=function(b){return b.FPS="FPS",b.Basic="Basic",b.Advanced="Advanced",b.Latency="Latency",b}(C||{});const l=60,o=35,n=40,s=35,R=30;function _(){return[{metricId:"fps",name:"perfmon.framRate",shortName:"settings.gameplay.FPS",category:S.FPS,visible:!1,value:void 0,unit:void 0,defaultValue:"perfmon.notApplicable"},{metricId:"fps1pc",name:"perfmon.fps1pc",shortName:"perfmon.fps1pc",category:S.FPS,visible:!1,value:void 0,unit:"perfmon.fps1pcUnit",defaultValue:"perfmon.notApplicable"},{metricId:"fpsMax",name:"perfmon.fpsMax",shortName:"perfmon.fpsMaxShort",category:S.FPS,visible:!1,value:void 0,unit:"perfmon.fpsMaxUnit"},{metricId:"fpsMin",name:"perfmon.fpsMin",shortName:"perfmon.fpsMinShort",category:S.FPS,visible:!1,value:void 0,unit:"perfmon.fpsMinUnit"},{metricId:"frameTime",name:"perfmon.frameTime",shortName:"perfmon.frameTimeShort",category:S.FPS,visible:!1,value:void 0,unit:"perfmon.milliseconds"},{metricId:"gpuUtil",name:"perfmon.gpuUtil",shortName:"perfmon.gpuUtilShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.percentage"},{metricId:"gpuTemp",name:"perfmon.gpuTemp",shortName:"perfmon.gpuTempShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.degreeCelcius"},{metricId:"gpuClock",name:"perfmon.gpuClock",shortName:"perfmon.gpuClockShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"gpuVoltage",name:"perfmon.gpuVoltage",shortName:"perfmon.gpuVoltageShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.volt"},{metricId:"gpuPower",name:"perfmon.gpuPower",shortName:"perfmon.gpuPowerShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.watt"},{metricId:"gpuFanSpeed",name:"perfmon.gpuFanSpeed",shortName:"perfmon.gpuFanSpeedShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.rpm"},{metricId:"vramClock",name:"perfmon.vramClock",shortName:"perfmon.vramClockShort",category:S.GPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"cpuUtil",name:"perfmon.cpuUtil",shortName:"perfmon.cpuUtilShort",category:S.CPU,visible:!1,value:void 0,unit:"perfmon.percentage"},{metricId:"cpuTemp",name:"perfmon.cpuTemp",shortName:"perfmon.cpuTempShort",category:S.CPU,visible:!1,value:void 0,unit:"perfmon.degreeCelcius"},{metricId:"cpuClock",name:"perfmon.cpuClock",shortName:"perfmon.cpuClockShort",category:S.CPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"renderLatency",name:"perfmon.renderLatency",shortName:"perfmon.renderLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgPCLatency",name:"perfmon.avgPCLatency",shortName:"perfmon.avgPCLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"reflexMonitorPosition",name:"perfmon.reflexMonitorPosition",shortName:"perfmon.reflexMonitorPositionShort",category:S.Latency,visible:!1,value:void 0,unit:"",defaultValue:"perfmon.notApplicable"},{metricId:"mouseLatency",name:"perfmon.mouseLatency",shortName:"perfmon.mouseLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgMouseLatency",name:"perfmon.avgMouseLatency",shortName:"perfmon.avgMouseLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"pcDisplayLatency",name:"perfmon.pcDisplayLatency",shortName:"perfmon.pcDisplayLatencyShort",category:S.Latency,visible:!1,value:void 0,useCachedValue:!0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgPcDisplayLatency",name:"perfmon.avgPcDisplayLatency",shortName:"perfmon.avgPcDisplayLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"systemLatency",name:"perfmon.systemLatency",shortName:"perfmon.systemLatencyShort",category:S.Latency,visible:!1,value:void 0,useCachedValue:!0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgSystemLatency",name:"perfmon.avgSystemLatency",shortName:"perfmon.avgSystemLatencyShort",category:S.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"}]}},77665:(Dt,ct,t)=>{"use strict";t.d(ct,{d:()=>q});var e=t(32484),i=t(70462),L=t(9681),f=t(47422),x=t(15746),S=t(87965),u=t(58175),g=t(85046),h=t(23675),O=t(78943),E=t(99541),w=t(9783),p=t(36643),V=t(60385),c=t(93738),C=t(52109),l=t(66129),o=t(51815),n=t(61699),s=t(43559),R=t(13963),_=t(41221),b=t(33960),I=t(51612);let q=(()=>{var a;class y{constructor(P,K,B,j,tt,ot,F,U,z,Q){this.injector=P,this.translateService=K,this.loggingService=B,this.dbService=j,this.bridgeService=tt,this.hotkeyService=ot,this.featureSupportService=F,this.oscNotificationService=U,this.telemetryIgoService=z,this.lcarsService=Q,this.PerfMonStorageKeyName="PerfMonPersistedData",this.throttleDuration=500,this.gpuData=[],this.perfData=[],this.perfOverlayVisibilityChanged$=new e.xQ,this.perfOverlayCoordinatesChanged$=new e.xQ,this.perfLoggingIndicator$=new i.X(!1),this.fpsMetricVisible=!1,this.isPerfTrackingActive=!1,this.perfStatsSubscriberCount=0,this.stopPerfTrackingTimer=void 0,this.isPerfMenuLaunched=!1,this.legacyRFISupportedCMSIDs=[],this.latestRFISupportedCMSIDs=[],this.ReflexStatsSupportedCMSIDs=[],this.ReflexIntegratedCMSIDs=[],this.islatestRFISupported=!1,this.islegacyRFISupported=!1,this.isReflexStatsSupported=!1,this.cachedReflexStatsSupported=!1,this.isReflexIntegrated=!1,this.runningRFISupportedGamePID=void 0,this.currentDisplayMode={},this.currentGameInfo=void 0,this.isAppStartedReceived=!1,this.gameDetails={cmsId:"",drsName:"",drsProfileName:""},this.logger=this.loggingService.getLogger("PerfMonService"),this.dBStore=this.dbService.getGlobalStore("PerfMon")}init(){this.logger.info("Initialize"),this.oscDisplayService=this.injector.get(E.v),this.shadowPlayService=this.injector.get(V.dS),this.getIsRLASupported().subscribe(P=>{this.isRLAEnabled=P}),this.registerPerfStatsNotifications(),this.setHotkeys(!0),this.registerHotkeyNotifications(),this.registerAppNotifications(),this.registerDisplayNotifications(),this.initStatsAndLoadData()}listenVisibilityChanges(){return this.perfOverlayVisibilityChanged$.asObservable()}getPerfLoggingStatus(){return this.perfLoggingIndicator$.asObservable()}getPerfOverlayVisiblity(){var P;return null===(P=this.perfmonData)||void 0===P?void 0:P.isPerfOverlayVisible}getFpsMetricVisible(){return this.perfmonData.activeMetricSetId!==w.$j.FPS||this.fpsMetricVisible}setPerfOverlayVisiblity(P){this.logger.info("setPerfOverlayVisiblity: ",P),(this.islegacyRFISupported||this.islatestRFISupported)&&this.isRLAEnabled&&!this.flashIndicatorStatus&&this.setFlashIndicatorVisibility(P),this.togglePerfOverlay(P,!1)}getIsRLASupported(){return this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.GetRLAMonitorSupport).pipe((0,f.U)(P=>(this.logger.info("RLA Monitor Status: ",P.supported),P.supported)))}getIsPerfOverlayEnabled(){return this.isPerfOverlayEnabled}setIsPerfOverlayEnabled(P){this.logger.info("setIsPerfOverlayEnabled: ",P),this.isPerfOverlayEnabled!==P&&(this.isPerfOverlayEnabled=P,this.setPerfOverlayVisiblity(P))}getCustomActiveMetricSetId(P){let K=w.gs.FPS;return P===w.$j.FPS?K=w.gs.FPS:P===w.vE?K=w.gs.Basic:P===w.$j.Advanced?K=w.gs.Advanced:(P===w.$j.Latency||P===w.$j.Custom)&&(K=w.gs.Custom),K}getMetricSet(){return void 0===this.perfmonData.activeMetricSetId?w.vE:this.perfmonData.activeMetricSetId}setMetricSet(P){this.logger.info("setMetricSet:",P),this.perfmonData.activeMetricSetId=P,this.togglePerfOverlay(!0,!1)}getActiveLayout(){var P;return void 0===(null===(P=this.perfmonData)||void 0===P?void 0:P.activeLayout)?w.y6:this.perfmonData.activeLayout}setActiveLayout(P){this.perfmonData.activeLayout=P,this.logger.info("setActiveLayout:",this.perfmonData.activeLayout),this.togglePerfOverlay(!0,!1),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.Bj,C.p0[w.nm[this.perfmonData.activeLayout]])}getVisibilityMode(){var P;return void 0===(null===(P=this.perfmonData)||void 0===P?void 0:P.perfOverlayVisibilityMode)?w.V3:this.perfmonData.perfOverlayVisibilityMode}setVisibilityMode(P){this.logger.info("setVisibilityMode:",P),this.perfmonData.perfOverlayVisibilityMode=P,this.togglePerfOverlay(!0,!1),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.xE,C.vI[w.aq[this.perfmonData.perfOverlayVisibilityMode]])}getPerfData(P){return this.perfData[P]}launchPerformanceMenu(){this.logger.info("launchPerformanceMenu"),this.oscDisplayService.openOSC("sidebar/performance/performance-menu")}getIsValidGameRunning(){return this.isValidGameRunning}isPerformanceAvailable(){return this.featureSupportService.isPerfOverlayEnabled()}getLoggingState(){var P;return this.logger.info("getLoggingState:",this.perfmonData.isLogging),null===(P=this.perfmonData)||void 0===P?void 0:P.isLogging}toggleLogging(P,K=!0){this.logger.info("toggleLogging"),this.perfmonData.isLogging=void 0===P?!this.perfmonData.isLogging:P,this.perfmonData.isLogging?(this.startPerfTracking(),this.telemetryIgoService.startStatsLoggingSession(K?C.FE.UsingHotkey:C.FE.UsingUI)):(this.stopPerfTracking(),this.telemetryIgoService.sendStatsLoggingSession(this.gameDetails)),this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.LoggingToggle,{path:this.perfmonData.logPath,enable:this.perfmonData.isLogging}).subscribe(j=>{this.logger.info("toggleLogging:",j)},j=>{this.logger.info("toggleLogging:",j)}),this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible),this.perfLoggingIndicator$.next(this.perfmonData.isLogging),this.perfmonData.isLogging&&this.oscNotificationService.show(o.ZJ.PerfMonLogging),this.savePersistedData()}getPerfOverlayAbsolutePosition(P=null){if(this.logger.info("getPerfOverlayAbsolutePosition"),this.perfmonData){if(!this.perfmonData.perfOverlayAbsolutePosition){if(!P)return this.perfmonData.perfOverlayAbsolutePosition;this.updatePerformancePositionCoordinates(P)}return this.perfmonData.perfOverlayAbsolutePosition}}setPerfOverlayAbsolutePosition(P,K=!1){this.logger.info("setPerfOverlayAbsolutePosition",P),this.perfmonData.perfOverlayAbsolutePosition=P,K||this.perfOverlayCoordinatesChanged$.next(P),this.savePersistedData(),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.CC,P.x.toString()),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.kG,P.y.toString())}listenPerfOverlayCoordinateChanges(){return this.perfOverlayCoordinatesChanged$.asObservable()}setPerfOverlayQuadrant(P){this.logger.info("setPerfOverlayQuadrant",P),this.perfOverlayQuadrant=P}checkPerformancePositionCoordinates(){this.perfmonData.perfOverlayAbsolutePosition||(this.perfmonData.perfOverlayAbsolutePosition={x:void 0,y:void 0},this.updatePerformancePositionCoordinates(this.perfOverlayQuadrant))}updatePerformancePositionCoordinates(P,K=null){if(this.logger.info("updatePerformancePositionCoordinates",P),this.perfmonData&&(K=K||this.perfmonData.perfOverlayAbsolutePosition))switch(P){case l.Fr.rightTop:K.x=100,K.y=0;break;case l.Fr.rightCenter:K.x=100,K.y=50;break;case l.Fr.rightBottom:K.x=100,K.y=100;break;case l.Fr.centerBottom:K.x=50,K.y=100;break;case l.Fr.leftBottom:K.x=0,K.y=100;break;case l.Fr.leftCenter:K.x=0,K.y=50;break;case l.Fr.leftTop:K.x=0,K.y=0;break;case l.Fr.centerTop:K.x=50,K.y=0;break;default:K.x=void 0,K.y=void 0}}startPerfTracking(){this.logger.info("startPerfTracking:",this.perfStatsSubscriberCount,this.isPerfTrackingActive),this.clearPerfTrackingStopTimer(),this.perfStatsSubscriberCount++,this.isPerfTrackingActive||this.enablePerfTracking(!0)}stopPerfTracking(){if(this.logger.info("stopPerfTracking:",this.perfStatsSubscriberCount,this.isPerfTrackingActive),this.isPerfTrackingActive||this.logger.error("something went wrong, isPerfTrackingActive:",this.isPerfTrackingActive),this.perfStatsSubscriberCount--,this.perfStatsSubscriberCount<0)this.logger.error("something went wrong, perfSubscriberCount:",this.perfStatsSubscriberCount),this.perfStatsSubscriberCount=0;else if(this.perfStatsSubscriberCount>0)return;0===this.perfStatsSubscriberCount&&(void 0!==this.stopPerfTrackingTimer&&(this.logger.error("something went wrong, stopPerfTracking timer already running"),this.clearPerfTrackingStopTimer()),this.stopPerfTrackingTimer=setTimeout(()=>{this.enablePerfTracking(!1)},w.oc))}updateDefaultLoggingPath(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.GetDefaultLoggingPath).subscribe(P=>{this.logger.info("GetDefaultLoggingPath:",P),this.perfmonData.logPath=P.path.logpath},P=>{this.logger.error("GetDefaultLoggingPath error:",P)})}getLoggingPath(){return this.perfmonData.logPath}setLoggingPath(P){this.perfmonData.logPath=P,this.savePersistedData()}updateMetricVisibility(P){void 0===P.value&&P.defaultValue?(P.value=this.translateService.instant(P.defaultValue),P.visible=this.perfmonData.activeMetricSetId!==w.$j.FPS,P.isUnitHidden=!0):(P.visible=void 0!==P.value,P.isUnitHidden=void 0===P.value||P.defaultValue&&P.value===this.translateService.instant(P.defaultValue))}updateCustomMetricSet(){this.perfmonData.customMetrics.length=0,this.perfData[0]&&this.perfData[0].forEach(P=>{P.isCustomSelected&&this.perfmonData.customMetrics.push(P.metricId)}),this.savePersistedData()}checkSystemLatency(){return!!this.perfData[0]&&!!this.perfData[0].find(K=>"systemLatency"===K.metricId).isCustomSelected}loadGFEMigrationData(P){const K=P.overclockings;if(!K)return this.logger.info("No valid data found in GFE backup"),(0,L.of)(null);this.logger.info("Porting GFE backup data");const B={isPerfOverlayVisible:!!K.isPerfOverlayVisible,activeMetricSetId:w.vE,activeLayout:w.y6,perfOverlayVisibilityMode:w.V3,perfOverlayAbsolutePosition:null,isLogging:!1,logPath:K.loggingPath||"",customMetrics:[...w.I5.find(tt=>tt.id===w.vE).metrics],rectAlignmentStatus:!0,flashIndicatorStatus:!1,avgSampleSize:20},j=P["osd-storage"];if(null!=j&&j.Performance.view)switch(null==j?void 0:j.Performance.view){case w.G$.FPS:B.activeMetricSetId=w.$j.FPS;break;case w.G$.Basic:B.activeMetricSetId=w.$j.Basic;break;case w.G$.Advanced:B.activeMetricSetId=w.$j.Advanced;break;case w.G$.Latency:B.activeMetricSetId=w.$j.Latency}return this.dBStore.setItem(this.PerfMonStorageKeyName,B).pipe((0,x.b)(tt=>this.logger.info("Statistics overlay settings migrated from GFE")))}getIsRLAEnabled(){return this.isRLAEnabled}isReflexAnalyzerAvailable(){return this.featureSupportService.isReflexAnalyzerEnabled()}isRLASupportedDriver(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.CheckRLASupportedDriver).subscribe(P=>{this.logger.info("getSupportedDD response:",P),this.isRLAsupportedDD=P.supported},P=>{this.logger.error("error in getSupportedDD:",P),this.isRLAsupportedDD=!1})}getIsRLASupportedDD(){return this.isRLAsupportedDD}updateRectAlignStatus(P){this.perfmonData.rectAlignmentStatus=P,this.savePersistedData(),this.logger.info("Storing current rectangle alignment status to local storage - "+this.perfmonData.rectAlignmentStatus),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.vB,P.toString())}getRectAlignStatus(){return void 0===this.perfmonData.rectAlignmentStatus&&(this.perfmonData.rectAlignmentStatus=!0),this.perfmonData.rectAlignmentStatus}setRectAlignStatusOnInit(){return this.perfmonData.rectAlignmentStatus}setFlashIndicatorVisibility(P){this.reflexFlashIndicatorVisibility=P,this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.ShowFlashIndicator,{isVisible:this.reflexFlashIndicatorVisibility}).subscribe(K=>{this.logger.info("setFlashIndicatorVisibility response:",K)},K=>{this.logger.error("error in setFlashIndicatorVisibility:",K)})}getFlashIndicatorStatus(){return this.flashIndicatorStatus=this.perfmonData.flashIndicatorStatus,this.flashIndicatorStatus}setFlashIndicatorSize(P){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.SetFlashIndicatorSize,{size:P}).subscribe(K=>{this.logger.info("SetFlashIndicatorSize response:",K)},K=>{this.logger.error("error in setFlashIndicatorSize:",K)})}updateFlashIndicatorStatus(P){this.perfmonData.flashIndicatorStatus=P,this.flashIndicatorStatus=P,this.savePersistedData(),this.logger.info("Storing current Flash Indicator status to local storage - "+this.perfmonData.flashIndicatorStatus),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.Mu,P.toString())}getCustAvgSampleSize(){return this.perfmonData.avgSampleSize?this.perfmonData.avgSampleSize:w.cr}updateCustAvgSampleSize(P){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.SetMetricSampleSize,{sampleSize:P}).subscribe(K=>{this.logger.info("updateCustAvgSampleSize response:",K),this.perfmonData.avgSampleSize=P,this.savePersistedData()},K=>{this.logger.error("error in setCustAvgOnInit:",K)}),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.KF,P.toString())}setCustAvgOnInit(){const P=this.getCustAvgSampleSize();this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.SetMetricSampleSize,{sampleSize:P}).subscribe(K=>{this.logger.info("setCustAvgOnInit response:",K)},K=>{this.logger.error("error in setCustAvgOnInit:",K)})}resetAverages(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.ResetAverageMetrics).subscribe(P=>{this.logger.info("resetAverages response:",P)},P=>{this.logger.error("error in resetAverages:",P)}),this.telemetryIgoService.sendIGOSettings(this.gameDetails,c.EB,(!0).toString())}alignMonitoringRect(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.AlignLatencyMonitoringRectangle).subscribe(P=>{this.logger.info("alignMonitoringRect response:",P)},P=>{this.logger.error("error in alignMonitoringRect:",P)})}getCurrentDisplayMode(){return this.currentDisplayMode}setPerfMenuLaunched(P){this.isPerfMenuLaunched=P,!P&&!this.perfmonData.isPerfOverlayVisible&&this.clearCachedMetricValues()}clearCachedMetricValues(){this.getPerfData(0).forEach(P=>{P.useCachedValue&&(P.cachedValue=void 0)})}clearPerfTrackingStopTimer(){this.stopPerfTrackingTimer&&(clearTimeout(this.stopPerfTrackingTimer),this.stopPerfTrackingTimer=void 0)}enablePerfTracking(P){this.logger.info("enablePerfTracking:",P),this.isPerfTrackingActive=P,this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.EnablePerfStatsNotification,{intervalMS:w.TC,isEnable:P}).subscribe(B=>{this.logger.info("enablePerfTracking result:",B)},B=>{this.logger.error("enablePerfTracking error:",B),this.isPerfTrackingActive=!1})}loadCustomMetricSet(){this.perfData[0]&&this.perfmonData.customMetrics.forEach(P=>{this.perfData[0].find(K=>K.metricId===P).isCustomSelected=!0})}savePersistedData(P=null){this.dBStore.setItem(this.PerfMonStorageKeyName,P=P||this.perfmonData).subscribe(K=>{this.logger.info("Perstisted data saved successfully ",K)},K=>{this.logger.error("Error while saving the persisted data ",K)})}checkLastLaunchedApp(){return this.shadowPlayService.getLastLaunchedApp().pipe((0,S.zg)(P=>(this.logger.info("getLastAppInfo: ",P),P&&P.pid?this.setProcessID(P.pid):(0,L.of)(!0))),(0,u.K)(P=>(this.logger.error("checkLastLaunchedApp failed:",P),(0,L.of)(!1))))}initStatsAndLoadData(){this.initPerfStats().pipe((0,S.zg)(()=>this.loadPerfMonData()),(0,S.zg)(()=>this.checkLastLaunchedApp()),(0,f.U)(()=>(this.perfmonData.isPerfOverlayVisible&&(this.perfmonData.isPerfOverlayVisible=!1,this.togglePerfOverlay(!0,!1)),setTimeout(()=>{this.perfmonData.perfOverlayAbsolutePosition&&this.perfOverlayCoordinatesChanged$.next(this.perfmonData.perfOverlayAbsolutePosition)},250),this.isReflexAnalyzerAvailable&&(this.setCustAvgOnInit(),this.isRLASupportedDriver(),this.getFlashIndicatorStatus()&&this.setFlashIndicatorSize(!0)),!0))).subscribe()}getDefaultPerfMonData(){return this.perfmonData={isPerfOverlayVisible:!1,activeMetricSetId:w.vE,activeLayout:w.y6,perfOverlayVisibilityMode:w.V3,perfOverlayAbsolutePosition:null,isLogging:!1,logPath:"",customMetrics:[...w.I5.find(P=>P.id===w.vE).metrics],rectAlignmentStatus:!0,flashIndicatorStatus:!1,avgSampleSize:20},this.updateDefaultLoggingPath(),this.perfmonData}loadPerfMonData(){return this.dBStore.getItem(this.PerfMonStorageKeyName).pipe((0,f.U)(P=>P?(this.logger.info("Loaded perfmon data from the storage"),this.perfmonData=P,this.perfmonData.isLogging=!1,!0):(this.logger.info("No perfmon data found in storage"),this.perfmonData=this.getDefaultPerfMonData(),!1)),(0,u.K)(P=>(this.logger.error("Could not load perfmon data from the storage: ",JSON.stringify(P)),this.perfmonData=this.getDefaultPerfMonData(),(0,L.of)(!1))),(0,x.b)(()=>{this.loadCustomMetricSet()}))}registerAppNotifications(){this.bridgeService.executeCommand(O.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,g.h)(P=>!(null==P||!P.appStarted))).subscribe(P=>{this.onGameStart(P)}),this.bridgeService.executeCommand(O.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,g.h)(P=>!(null==P||!P.gameExited))).subscribe(P=>{this.onGameExit()}),this.bridgeService.executeCommand(O.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,g.h)(P=>!(null==P||!P.appStarted))).subscribe(P=>{this.logger.info(" App Start Data: ",P),this.isAppStartedReceived=!0,P&&(this.currentGameInfo={procId:P.appStarted.pid,cmsId:P.appStarted.cmsId,drsName:P.appStarted.DRSAppName,drsProfileName:P.appStarted.profileName,shortName:P.appStarted.shortName,drsWhitelist:!1}),this.gameDetails.cmsId=this.currentGameInfo.cmsId.toString(),this.gameDetails.drsName=this.currentGameInfo.drsName,this.gameDetails.drsProfileName=this.currentGameInfo.drsProfileName}),this.getRFIDataForLaunchedGame().subscribe()}setProcessID(P){return this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.SetProcessId,{processId:P}).pipe((0,x.b)(K=>{this.isValidGameRunning=!0}))}onGameStart(P){this.getPerfOverlayVisiblity()&&this.telemetryIgoService.sendStatsOverlaySession(this.gameDetails,C.l2[w.$j[this.perfmonData.activeMetricSetId]],this.perfmonData.perfOverlayAbsolutePosition.x,this.perfmonData.perfOverlayAbsolutePosition.y,C.vI[w.aq[this.perfmonData.perfOverlayVisibilityMode]],C.p0[w.nm[this.perfmonData.activeLayout]],!0),this.setProcessID(P.appStarted.pid).subscribe(),void 0===this.perfmonData.rectAlignmentStatus&&(this.perfmonData.rectAlignmentStatus=!0),this.perfmonData.rectAlignmentStatus&&this.isRLAsupportedDD&&this.isRLAEnabled&&(this.isPerfTrackingActive?this.alignMonitoringRect():(this.startPerfTracking(),setTimeout(()=>{this.alignMonitoringRect(),!this.perfmonData.isPerfOverlayVisible&&!this.perfmonData.isLogging&&this.stopPerfTracking()},w.Dq)))}onGameExit(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.SetProcessId,{processId:0}).subscribe(P=>{this.isValidGameRunning=!1,this.isAppStartedReceived=!1}),this.gameDetails={cmsId:"",drsName:"",drsProfileName:""},this.clearCachedMetricValues()}registerPerfStatsNotifications(){this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.RegisterPerfStatsNotifications).subscribe(P=>{this.updatePerfStats(P)},P=>{this.logger.error("error:",P)})}registerDisplayNotifications(){this.logger.info("registerDisplayNotifications"),this.oscDisplayService.getCurrentDesktopMode().pipe((0,x.b)(()=>{this.perfmonData&&(this.logger.info("registerDisplayNotifications, isPerfOverlayVisible:",this.perfmonData.isPerfOverlayVisible),this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible))})).subscribe(),this.oscDisplayService.getCurrentDisplayMode().pipe((0,x.b)(P=>{this.currentDisplayMode=P})).subscribe()}setHotkeys(P){this.bridgeService.executeCommand(O.Gh.Share.Shareserver.SetHotkeyDynamicEnable,{enable:P,keys:[p.sW.PMOCOverlay,p.sW.PMOCLoggingToggle,p.sW.PMOCOverlayCycle,p.sW.PMOCOverlayVisibility,p.sW.PMOCResetAverageMetrics]}).subscribe(K=>{this.logger.info("result:",K)},K=>{this.logger.error("error:",K)})}registerHotkey(P,K){this.hotkeyService.listen(P).pipe((0,h.p)(this.throttleDuration)).subscribe(()=>{K()})}registerHotkeyNotifications(){this.registerHotkey(p.sW.PMOCOverlay,this.togglePerfOverlay.bind(this)),this.registerHotkey(p.sW.PMOCLoggingToggle,this.toggleLogging.bind(this)),this.registerHotkey(p.sW.PMOCOverlayCycle,this.cyclePerfOverlayMetrics.bind(this)),this.registerHotkey(p.sW.PMOCOverlayVisibility,this.toggleEnhancedMode.bind(this)),this.registerHotkey(p.sW.PMOCResetAverageMetrics,this.resetAverages.bind(this))}togglePerfOverlay(P,K=!0){this.checkPerformancePositionCoordinates();const B=this.perfmonData.isPerfOverlayVisible;this.logger.info("togglePerfOverlay, oldState:",B,"forceOperation:",P),this.perfmonData.isPerfOverlayVisible=void 0!==P?P:!this.perfmonData.isPerfOverlayVisible,this.perfmonData.isPerfOverlayVisible?(this.isPerfOverlayEnabled=!0,B||this.startPerfTracking()):this.stopPerfTracking(),this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible);const j=this.checkSystemLatency(),tt=[w.$j.Latency];j&&tt.push(w.$j.Custom),(this.islegacyRFISupported||this.islatestRFISupported)&&this.isRLAEnabled&&!this.flashIndicatorStatus&&(this.perfmonData.isPerfOverlayVisible&&tt.includes(this.perfmonData.activeMetricSetId)?this.setFlashIndicatorVisibility(!0):this.setFlashIndicatorVisibility(!1)),this.savePersistedData(),!this.perfmonData.isPerfOverlayVisible&&!this.isPerfMenuLaunched&&this.clearCachedMetricValues(),B!==this.perfmonData.isPerfOverlayVisible&&(this.perfmonData.isPerfOverlayVisible?this.telemetryIgoService.startStatsOverlaySession(K?C.FE.UsingHotkey:C.FE.UsingUI):this.telemetryIgoService.sendStatsOverlaySession(this.gameDetails,C.l2[w.$j[this.perfmonData.activeMetricSetId]],this.perfmonData.perfOverlayAbsolutePosition.x,this.perfmonData.perfOverlayAbsolutePosition.y,C.vI[w.aq[this.perfmonData.perfOverlayVisibilityMode]],C.p0[w.nm[this.perfmonData.activeLayout]],!1))}cyclePerfOverlayMetrics(){if(!this.perfmonData.isPerfOverlayVisible)return;this.logger.info("cyclePerfOverlay, current metricSet:",this.perfmonData.activeMetricSetId,this.isRLAEnabled);let P=0;P=this.isRLAEnabled?(this.perfmonData.activeMetricSetId+1)%5:this.perfmonData.activeMetricSetId===w.$j.Advanced?(this.perfmonData.activeMetricSetId+2)%5:(this.perfmonData.activeMetricSetId+1)%5,this.oscDisplayService.unsetDisplayRects().subscribe(),this.setMetricSet(P)}toggleEnhancedMode(){this.perfmonData.isPerfOverlayVisible&&(this.logger.info("toggleEnhancedMode, current mode:",this.perfmonData.perfOverlayVisibilityMode),this.oscDisplayService.unsetDisplayRects().subscribe(),this.setVisibilityMode((this.perfmonData.perfOverlayVisibilityMode+1)%2))}initPerfStats(){return this.bridgeService.executeCommand(O.Gh.Share.Nvperfmon.GetGpuInfo).pipe((0,f.U)(P=>(this.gpuData=P.gpus,this.logger.info("GPUData",this.gpuData),this.gpuData.forEach((K,B)=>{this.perfData[B]=(0,w.U0)()}),!0)),(0,u.K)(P=>(this.logger.error("error:",P),(0,L.of)(!1))))}round(P,K){return Math.round(P*(K=Math.pow(10,K)))/K}fillPerfMetrics(P,K){const B=this.perfData[K],j=P.gpusPerfStats.find(ot=>ot.gpuIndex===K);let tt=0;B.forEach(ot=>{let F;if(j&&ot.category===w.vl.GPU){if(F=j[ot.metricId],"gpuFanSpeed"===ot.metricId&&F&&F.length>0){let U=0;for(let z=0;z<F.length;z++)U+=parseInt(F[z].fanSpeed,10);F=Math.trunc(U/F.length)}}else F=P[ot.metricId];"reflexMonitorPosition"!==ot.metricId&&(F>0&&ot.category===w.vl.FPS?F=Math.round(F):F>0&&(ot.category===w.vl.Latency||"renderLatency"===ot.metricId)?F=this.round(F,1).toFixed(1):F>0&&"gpuVoltage"===ot.metricId?F=this.round(F,3).toFixed(3):void 0!==F&&(F=this.round(F,1))),ot.value=F,ot.useCachedValue&&(void 0!==ot.value?ot.cachedValue=ot.value:ot.value=ot.cachedValue),this.updateMetricVisibility(ot),ot.visible&&(tt+=1)}),tt!==this.visibleMetricCount&&(this.logger.info("visibile metric count changed"),this.visibleMetricCount=tt,this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible))}checkFPSViewVisibility(P){this.perfmonData.activeMetricSetId===w.$j.FPS&&(void 0===P||this.fpsMetricVisible?void 0===P&&this.fpsMetricVisible&&(this.fpsMetricVisible=!1,this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible)):(this.fpsMetricVisible=!0,this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible)))}updatePerfStats(P){P&&P.gpusPerfStats&&P.gpusPerfStats.length>0?(P.gSyncLamp&&(Object.keys(P.gSyncLamp).forEach(K=>{if("lamEnabled"===K)P.gSyncLamp[K]!==this.isLAMSupported&&(this.logger.info("Lam metrics support recieved"),this.logger.info("stats:",P),this.isLAMSupported=P.gSyncLamp[K]);else if("reflexMonitorPosition"===K){const B=P.gSyncLamp[K];P[K]="("+B.topleftx+", "+B.toplefty+")"}else if(K.toLowerCase().includes("mouselatency")){const B=P.gSyncLamp[K].latency;P[K]=B&&B>0?B/1e3:void 0}else{const B=P.gSyncLamp[K];P[K]=B&&B>0?B/1e3:void 0}}),delete P.gSyncLamp),this.gpuData.forEach(K=>{this.fillPerfMetrics(P,K.index),this.checkFPSViewVisibility(P.fps)})):this.logger.error("No GPU stats present, ignore this FvSDK sample:",P)}getRFIDataForLaunchedGame(){return this.lcarsService.getCurrentAppChromaInfo().pipe((0,f.U)(P=>{this.islatestRFISupported=P.nvidiaTech.REFLEXFLASHINDICATOR,this.islegacyRFISupported=P.nvidiaTech.REFLEXFIAUTO,this.isReflexIntegrated=P.nvidiaTech.REFLEX,(this.islatestRFISupported||this.islegacyRFISupported)&&(this.runningRFISupportedGamePID=this.currentGameInfo.procId);const K=this.checkSystemLatency(),B=[w.$j.Latency];K&&B.push(w.$j.Custom),this.islatestRFISupported||this.islegacyRFISupported?this.perfmonData.flashIndicatorStatus?this.setFlashIndicatorSize(this.perfmonData.flashIndicatorStatus):this.setFlashIndicatorVisibility(this.perfmonData.isPerfOverlayVisible&&B.includes(this.perfmonData.activeMetricSetId)):this.setFlashIndicatorVisibility(!1),this.perfmonData.isPerfOverlayVisible&&this.isRLAEnabled&&this.isValidGameRunning&&(this.islegacyRFISupported?(this.logger.info("Toggle legacy RFI from in-game settings"),this.oscNotificationService.show(o.ZJ.PerfMonRfiWarning)):this.islegacyRFISupported||this.islatestRFISupported||(this.logger.info("RFI not supported"),this.oscNotificationService.show(o.ZJ.PerfMonRectAlignmentWarning)))}),(0,u.K)(P=>(this.logger.error("Unable to obtain game meta data.",P),(0,L.of)())))}}return(a=y).\u0275fac=function(P){return new(P||a)(n.LFG(n.zs3),n.LFG(s.sK),n.LFG(R.ed),n.LFG(R.MC),n.LFG(R.dF),n.LFG(p.y1),n.LFG(_.l),n.LFG(o.nG),n.LFG(b.b),n.LFG(I.z))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()},40924:(Dt,ct,t)=>{"use strict";t.d(ct,{A2:()=>E,C2:()=>u,Fz:()=>n,Kj:()=>o,Nx:()=>h,QT:()=>C,Rj:()=>l,Vk:()=>L,Yi:()=>x,dQ:()=>w,ib:()=>i,rA:()=>c,vZ:()=>V,y5:()=>p});var e=t(78943),i=function(s){return s[s.FEATURE_SUPPORT_ERROR_OK=0]="FEATURE_SUPPORT_ERROR_OK",s[s.FEATURE_SUPPORT_ERROR_ERROR=1]="FEATURE_SUPPORT_ERROR_ERROR",s[s.FEATURE_SUPPORT_ERROR_MINIMUM_DRIVER_VERSION_NOT_MET=2]="FEATURE_SUPPORT_ERROR_MINIMUM_DRIVER_VERSION_NOT_MET",s[s.FEATURE_SUPPORT_ERROR_OS_HDR_DISABLED=3]="FEATURE_SUPPORT_ERROR_OS_HDR_DISABLED",s}(i||{}),L=function(s){return s[s.GPU_INCOMPATIBLE=0]="GPU_INCOMPATIBLE",s[s.CLIENT_VIRTUALIZATION_ENABLED=1]="CLIENT_VIRTUALIZATION_ENABLED",s[s.OS_INCOMPATIBLE=2]="OS_INCOMPATIBLE",s[s.MSHYBRID_ENABLED=8]="MSHYBRID_ENABLED",s[s.DISPLAY_INCOMPATIBLE=10]="DISPLAY_INCOMPATIBLE",s[s.NO_DISPLAY_CONNECTED=11]="NO_DISPLAY_CONNECTED",s[s.GAME_DENYLISTED=21]="GAME_DENYLISTED",s}(L||{}),f=function(s){return s[s.MULTI_MON_DETECTED=3]="MULTI_MON_DETECTED",s[s.HDR_DISABLED=4]="HDR_DISABLED",s[s.SOC_FEATURE_ENABLED=5]="SOC_FEATURE_ENABLED",s[s.SLI_ENABLED=6]="SLI_ENABLED",s[s.SURROUND_ENABLED=7]="SURROUND_ENABLED",s[s.MSHYBRID_ENABLED_DDS_IGPU=9]="MSHYBRID_ENABLED_DDS_IGPU",s[s.USE_ALTERNATE_DISPLAY=12]="USE_ALTERNATE_DISPLAY",s[s.MINIMUM_DRIVER_VERSION_NOT_MET=20]="MINIMUM_DRIVER_VERSION_NOT_MET",s}(f||{});const x={[f.MULTI_MON_DETECTED]:"nvcamera.PpeError.multiMonitor",[f.MINIMUM_DRIVER_VERSION_NOT_MET]:"nvcamera.PpeError.minDriver",[f.HDR_DISABLED]:"nvcamera.PpeError.osAndAutoHdrAndGameHdr",[f.SLI_ENABLED]:"nvcamera.PpeError.sli",[f.SURROUND_ENABLED]:"nvcamera.PpeError.surround",[f.SOC_FEATURE_ENABLED]:"nvcamera.PpeError.socFeatures",[f.USE_ALTERNATE_DISPLAY]:"nvcamera.PpeError.alternateDisplay",[f.MSHYBRID_ENABLED_DDS_IGPU]:"nvcamera.PpeError.msHybridDDS"};var S=function(s){return s[s.INGAMEHDR_AUTOHDR_ENABLED=0]="INGAMEHDR_AUTOHDR_ENABLED",s}(S||{});const u={[S.INGAMEHDR_AUTOHDR_ENABLED]:"nvcamera.PpeError.AutoHdrAndGameHdr"};var g=function(s){return s[s.DRS_REGKEY_NOT_SET=0]="DRS_REGKEY_NOT_SET",s[s.UNSUPPORTED_PRESENTATION_MODE=1]="UNSUPPORTED_PRESENTATION_MODE",s[s.GAME_HDR_ENABLED=2]="GAME_HDR_ENABLED",s[s.OS_HDR_DISABLED=3]="OS_HDR_DISABLED",s[s.SOC_FEATURES_ENABLED=4]="SOC_FEATURES_ENABLED",s[s.MISTMATCHED_DISPLAY=5]="MISTMATCHED_DISPLAY",s[s.API_NOT_SUPPORTED=6]="API_NOT_SUPPORTED",s}(g||{});const h={[g.DRS_REGKEY_NOT_SET]:"nvcamera.PpeError.featureDisabled",[g.UNSUPPORTED_PRESENTATION_MODE]:"nvcamera.PpeError.iFlip",[g.GAME_HDR_ENABLED]:"nvcamera.PpeError.osAndAutoHdrAndGameHdr",[g.OS_HDR_DISABLED]:"nvcamera.PpeError.osAndAutoHdrAndGameHdr",[g.SOC_FEATURES_ENABLED]:"nvcamera.PpeError.socFeatures",[g.MISTMATCHED_DISPLAY]:"nvcamera.PpeError.mismatchedDisplay",[g.API_NOT_SUPPORTED]:"nvcamera.PpeError.unsupportedApi"},E="sqhfx7",w="nXEC17",p="ydzplY",V="ydznXE",c={filterDetails:{filter:{status:e.Yk.Common.Nvcamera.AnselStatusEnum.ok},controls:[{id:0,displayName:"Intensity (%)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.uint,minValue:[0],maxValue:[100],defaultValue:[50],currentValue:[50],stepSize:[1],uiStepSize:[1],uiMinValueV1:[0],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:0,uiMaxValue:100},{id:0,displayName:"Saturation Boost (%)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.uint,minValue:[0],maxValue:[100],defaultValue:[25],currentValue:[25],stepSize:[1],uiStepSize:[1],uiMinValueV1:[0],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:0,uiMaxValue:100}]}},C={filterDetails:{filter:{status:e.Yk.Common.Nvcamera.AnselStatusEnum.ok},controls:[{id:0,displayName:"Peak brightness (nits)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.uint,minValue:[0],maxValue:[100],defaultValue:[1],currentValue:[1],stepSize:[1],uiStepSize:[1],uiMinValueV1:[0],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:0,uiMaxValue:100},{id:0,displayName:"Middle greys (nits)",controlType:"slider",measureUnit:"nits",dataType:e.Yk.Common.Nvcamera.DataType.uint,minValue:[0],maxValue:[100],defaultValue:[50],currentValue:[50],stepSize:[1],uiStepSize:[1],uiMinValueV1:[0],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:0,uiMaxValue:100},{id:0,displayName:"Contrast (%)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.int,minValue:[-100],maxValue:[100],defaultValue:[0],currentValue:[0],stepSize:[1],uiStepSize:[1],uiMinValueV1:[-100],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:-100,uiMaxValue:100},{id:0,displayName:"Saturation (%)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.int,minValue:[-100],maxValue:[100],defaultValue:[0],currentValue:[0],stepSize:[1],uiStepSize:[1],uiMinValueV1:[-100],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:-100,uiMaxValue:100}]}},l={filterDetails:{filter:{status:e.Yk.Common.Nvcamera.AnselStatusEnum.ok},controls:[{id:0,displayName:"Sharpen (%)",controlType:"slider",measureUnit:"%",dataType:e.Yk.Common.Nvcamera.DataType.uint,minValue:[0],maxValue:[100],defaultValue:[50],currentValue:[50],stepSize:[1],uiStepSize:[1],uiMinValueV1:[0],uiMaxValueV1:[100],uiDisplayNameV1:[""],uiMinValue:0,uiMaxValue:100}]}};class o{constructor(){this.ppeFilterSlot={}}}var n=function(s){return s.RTX_DVC="RTX Dynamic Vibrance",s.RTX_HDR="RTX HDR",s.NIS2="Sharpen (Image Scaling)",s}(n||{})},41495:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>q});var e=t(70462),i=t(73992),L=t(9681),f=t(5717),x=t(15746),S=t(87965),u=t(47422),g=t(58175),h=t(78943),O=t(51815),E=t(93738),w=t(61674),p=t(21120),V=t(62827),c=t(61699),C=t(13963),l=t(43559),o=t(67445),n=t(15811),s=t(33960),R=t(57915),_=t(30285),b=t(36643);let q=(()=>{var a;class y{get streamerConfig(){return this.streamerConfigService.activeConfig}isHighlightsActive(){return this.highlightsActive$.asObservable()}overrideHighlightSettings(){return this.overrideHighlightUI}cachedAHLGameShortName(){return this.cachedShortName}constructor(P,K,B,j,tt,ot,F,U,z,Q,dt,X){this.injector=P,this.bridgeService=B,this.translateService=j,this.igoConfig=tt,this.oscNotificationService=ot,this.telemetry=F,this.telemetryIgo=U,this.dialogHelper=z,this.endpointFactory=Q,this.hotkeyService=dt,this.gfnInfoService=X,this.disableRecordSpecialCase=V.Kk.RECORD_SPECIAL_CASE_4K,this.appShortName="",this.scopes=[],this.highlightsActive=!1,this.overrideHighlightUI=!1,this.sdkHighlightSupported=!1,this.cachedShortName="",this.sdkInstance={appShortName:"",profileName:"",name:"",sdkVersion:""},this.highlightsActive$=new e.X(!1),this.gameSpecificHlData=[],this.subActions=[],this.isNvApp=!1,this.logger=K.getLogger("SdkHighlightsService"),this.isNvApp="GFE"===this.igoConfig.branding}init(){this.logger.info("Initialize"),this.gfnInfoService.getRecordSpecialCase().subscribe(P=>{this.logger.info("disableRecordSpecialCase mode: ",P),this.disableRecordSpecialCase=P}),this.bridgeService.executeCommand(h.Gh.Share.Shareserver.RegisterSDKNotifications).subscribe(P=>this.highlightsEvent(P)),this.bridgeService.executeCommand(h.Gh.Share.Shareserver.GetHighlightsActive).subscribe(P=>{P&&this.highlightsActive$.next(!this.disableRecordSpecialCase&&P.active)})}getPermissionsData(P){const K=[];K.push(this.bridgeService.executeCommand(h.Gh.Share.Shareserver.GetApplicationConfigs,{}).pipe((0,x.b)(B=>{if(this.gameSpecificHlData.length=0,B){const j=B.apps.findIndex(tt=>tt.app.profileName===P);-1!==j&&(this.gameSpecificHlData=B.apps[j].highlights,this.gameSpecificHlData.forEach(tt=>tt.userEnabled=!0))}}))),K.push(this.hotkeyService.blockAllHotkeys(!0).pipe((0,x.b)(()=>{this.logger.info("Hotkeys disabled")}))),setTimeout(()=>{(0,i.$R)(...K).subscribe(()=>{this.askToSetPermissions(P)})},2e3)}askToSetPermissions(P){this.logger.info("permissions request");let K="GFE"===this.igoConfig.branding?"product.NVAPP":"product.GFN";K=this.translateService.instant(K);let B="GFE"===this.igoConfig.branding?"confirmation.HighlightsTitle":K;B=this.translateService.instant(B);const j="GFE"===this.igoConfig.branding?"confirmation.HighlightsPermissionsNvApp":"confirmation.HighlightsPermissions",tt="GFE"===this.igoConfig.branding?"confirmation.HighlightsHintNvApp":"confirmation.HighlightsHint";this.subActions.length=0,this.gameSpecificHlData.length>0&&this.gameSpecificHlData.forEach(F=>{const U=`highlightLabels.${F.name}`;let z=this.translateService.instant(U);z===U&&(z=F.name),this.subActions.push({label:z,state:F.userEnabled})}),this.dialogHelper.openAlertDialog({title:B,query:j,queryParam:{arg:P},state:"confirmation.HighlightsMainCheckbox",hint:tt,hintParam:{arg:K},action1:"confirmation.LetsGo",action1Color:"#76b900",subActions:this.subActions}).pipe((0,S.zg)(F=>F.afterClosed())).subscribe(F=>{F===w.DX.Action1?this.allowHighlights():this.disallowHighlights(),this.hotkeyService.blockAllHotkeys(!1).subscribe()})}highlightsEvent(P){this.logger.info("Event: ",P),P?P.requestPermissions?this.eventRequestPermissions(P):P.createInstance?this.eventCreateInstance(P):P.destroyInstance?this.eventDestroyInstance(P):P.updatePermissions?(this.sdkInstance.appShortName=P.updatePermissions.app.appShortName,this.sdkInstance.profileName=P.updatePermissions.app.profileName,this.sdkInstance.name=P.updatePermissions.app.name):P.actionStatus?this.eventActionStatus(P):P.openGroup||P.closeGroup||(P.highlightSessionStatus?(this.highlightsActive=P.highlightSessionStatus.enable,this.highlightsActive$.next(P.highlightSessionStatus.enable)):P.manualRecordRunning?"GFE"===this.igoConfig.branding&&this.oscNotificationService.show(O.ZJ.ManualRecordRunning,P.manualRecordRunning.manualRecordGameName,P.manualRecordRunning.gameName):this.logger.info("Unknown or unhandled Event Type: ",P)):this.logger.info("Event: undefined or null")}eventRequestPermissions(P){this.appShortName=P.requestPermissions.app.appShortName,this.scopes=P.requestPermissions.scopes,this.getPermissionsData(P.requestPermissions.app.profileName)}eventCreateInstance(P){this.sdkInstance.appShortName=P.createInstance.app.appShortName,this.sdkInstance.profileName=P.createInstance.app.profileName,this.sdkInstance.name=P.createInstance.app.name,this.sdkInstance.sdkVersion=P.createInstance.sdkVersion}sendHighlightFailureTelemetry(P){var K,B;!this.isNvApp||null==P||null===(K=P.actionStatus)||void 0===K||null===(K=K.app)||void 0===K||!K.name||null==P||null===(B=P.actionStatus)||void 0===B||!B.status||this.telemetry.sendHighlightCapture({shortName:P.actionStatus.app.name},null,null,null,null,P.actionStatus.status)}eventActionStatus(P){const K=P.actionStatus;"HighlightsSaveVideo"!==P.actionStatus.action&&"HighlightsSaveScreenshot"!==P.actionStatus.action||"NVGSDK_ERR_CAP_LIMIT_REACHED"!==P.actionStatus.status?"HighlightsSaveVideo"!==P.actionStatus.action&&"HighlightsSaveScreenshot"!==P.actionStatus.action||"NVGSDK_ERR_DISK_LIMIT_REACHED"!==P.actionStatus.status?"NVGSDK_SUCCESS"!==P.actionStatus.status&&(void 0===P.actionStatus.status?P.actionStatus.status="NVGSDK_ERR_NOT_SET":this.sendHighlightFailureTelemetry(P),this.logger.info("Event not handled: ",P)):(this.logger.info("Capture failed due to disk space limit"),this.oscNotificationService.show(O.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights")):(this.logger.info("Capture failed due to cap space limit"),this.oscNotificationService.show(O.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights")),this.telemetryIgo.recordSDKCallResult(K.action,K.status,K.statusInternalCode,{shortName:K.app.appShortName},K.sdkVersion?K.sdkVersion:""),K.action===E.og.connect&&!this.isNvApp&&this.getStateOfCurrentGame(P.actionStatus.app).subscribe(B=>{B.permissionParams.permissions.length>0&&this.telemetry.sendHighlightsGameSetting({},B.state,B.state?E.pg.alreadyOn:E.pg.alreadyOff)})}eventDestroyInstance(P){this.sdkInstance.appShortName="",this.sdkInstance.profileName="",this.sdkInstance.name="",this.sdkInstance.sdkVersion=""}fillPermissions(P){const K={app:{},permissions:[]};return K.app.appShortName=this.appShortName,this.scopes.forEach((B,j)=>{K.permissions[j]={scope:B,permission:P}}),K}setPermissions(P){const K=this.fillPermissions(P);return this.bridgeService.executeCommand(h.Gh.Share.Shareserver.SetSDKPermissions,K).pipe((0,u.U)(B=>(this.logger.info("SetSDKPermissions "+(P===h.Yk.Share.Shareserver.SdkPermissions.granted?"granted":"denied")+" for: ",this.appShortName),this.gameSpecificHlData.length>0&&this.updateHighlightsSettings(),!0)),(0,g.K)(B=>(this.logger.info("SetSDKPermissions failed: ",B),(0,L.of)(!1))))}updateHighlightsSettings(){const K={app:{appShortName:this.sdkInstance.appShortName,profileName:this.sdkInstance.profileName,name:this.sdkInstance.name},highlightDefinitions:this.gameSpecificHlData};K.highlightDefinitions.forEach(B=>{const j=`highlightLabels.${B.name}`;let tt=this.translateService.instant(j);tt===j&&(tt=B.name),B.userEnabled=this.subActions.find(ot=>ot.label===tt).state}),this.bridgeService.executeCommand(h.Gh.Share.Shareserver.SetHighlightsConfig,K).subscribe(()=>{})}allowHighlights(){this.setPermissions(h.Yk.Share.Shareserver.SdkPermissions.granted).subscribe(),this.telemetry.sendHighlightsGameSetting({shortName:this.sdkInstance.appShortName},!0,E.pg.initial,null,E.Ie.gameToggle,this.sdkInstance.profileName)}disallowHighlights(){this.setPermissions(h.Yk.Share.Shareserver.SdkPermissions.denied).subscribe(),this.telemetry.sendHighlightsGameSetting({shortName:this.sdkInstance.appShortName},!1,E.pg.initial,null,E.Ie.gameToggle,this.sdkInstance.profileName)}getStateOfCurrentGame(P){return this.bridgeService.executeCommand(h.Gh.Share.Shareserver.GetSDKPermissions,{app:P}).pipe((0,u.U)(j=>{let tt=!1;for(let F=0;F<j.permissions.length;F++)tt=j.permissions[F].permission===h.Yk.Share.Shareserver.SdkPermissions.granted||tt,this.logger.info(j.permissions[F].scope+" permissions for: "+P.profileName+" are: "+j.permissions[F].permission);return{permissionParams:{app:P,permissions:j.permissions},state:tt}}))}setStateOfCurrentGame(P){for(let B=0;B<P.permissionParams.permissions.length;B++)P.permissionParams.permissions[B].permission=P.state?h.Yk.Share.Shareserver.SdkPermissions.granted:h.Yk.Share.Shareserver.SdkPermissions.denied;return this.bridgeService.executeCommand(h.Gh.Share.Shareserver.SetSDKPermissions,P.permissionParams).pipe((0,u.U)(()=>{this.logger.info("Permissions for: "+P.permissionParams.app.profileName+" changed to: "+P.permissionParams.permissions[0].permission)}))}IsSDKHighlightSupportedGame(P){return this.lcarsService.getMetadataByCmsId(P).pipe((0,u.U)(K=>{if(K){var B,j;if(this.logger.info("isHighlightsSupported: ",null===(B=K.nvidiaTech)||void 0===B?void 0:B.HIGHLIGHTS),null!==(j=K.nvidiaTech)&&void 0!==j&&j.HIGHLIGHTS)return this.sdkHighlightSupported=!0,void(this.overrideHighlightUI=!1);this.sdkHighlightSupported=!1}else this.logger.info("isHighlightsSupported value not found for the game")})).subscribe(f.Z,K=>{this.sdkHighlightSupported=!1,this.overrideHighlightUI=!1,this.logger.error("Unable to obtain game meta data.",K)})}createEndpoint(){return this.endpointFactory.createEndpoint({config:{timeout:1e4,timeBetweenRetries:3e4,maxRetries:2}})}toggleAutohighlight(P){!0===this.igoConfig.GFNCefClient&&(this.streamerConfigService=this.injector.get(p.oX5),this.lcarsService=this.injector.get(p.zcQ),this.IsSDKHighlightSupportedGame(this.streamerConfig.cmsId),this.enableAutohighlight(P))}enableAutohighlight(P){const K={toggle:P};P||this.sdkHighlightSupported?(this.overrideHighlightUI=!1,this.cachedShortName=""):(this.overrideHighlightUI=!0,this.cachedShortName=this.streamerConfig.shortName,this.logger.info("AHL disabled on a supported game: ",this.cachedShortName)),this.sdkHighlightSupported?this.logger.info("AHL not supported for ",this.streamerConfig.shortName):this.bridgeService.executeCommand(h.Gh.Share.Shareserver.ToggleAutoHighlight,K).pipe((0,u.U)(B=>(this.logger.info("ToggleAutoHighlight returns: ",B),B)),(0,g.K)(B=>(this.logger.info("ToggleAutoHighlight error: ",B),(0,L.of)(!1)))).subscribe()}toggleSdkHighlights(P){!0===this.igoConfig.GFNCefClient&&this.bridgeService.executeCommand(h.Gh.Share.Shareserver.DisableRecordSpecialCase,{specialCase:P?V.Kk.RECORD_SPECIAL_CASE_NONE:V.Kk.RECORD_SPECIAL_CASE_4K}).pipe((0,u.U)(B=>(this.logger.info("DisableRecordSpecialCase returns: ",B),B)),(0,g.K)(B=>(this.logger.info("DisableRecordSpecialCase error: ",B),(0,L.of)(!1)))).subscribe()}}return(a=y).\u0275fac=function(P){return new(P||a)(c.LFG(c.zs3),c.LFG(C.ed),c.LFG(C.dF),c.LFG(l.sK),c.LFG(o.g),c.LFG(O.nG),c.LFG(n.l),c.LFG(s.b),c.LFG(R.M),c.LFG(_.V9),c.LFG(b.y1),c.LFG(V.In))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()},60385:(Dt,ct,t)=>{"use strict";t.d(ct,{dS:()=>N,rQ:()=>U,uP:()=>D,xH:()=>dt});var e=t(70462),i=t(32484),L=t(92130),f=t(9681),x=t(64555),S=t(56293),u=t(73992),g=t(85046),h=t(46939),O=t(23675),E=t(87965),w=t(47422),p=t(58175),V=t(15746),c=t(78943),C=t(47178),o=t(51815),n=t(36643),s=t(93738),R=t(19682),_=t(26867),b=t(61674),I=t(62827),q=t(32392),a=t(89857),y=t(61699),M=t(13963),P=t(99541),K=t(15811),B=t(57915),j=t(67445),tt=t(41495),ot=t(41221),F=t(33960),U=c.Yk.Share.Shareserver.MicModeEnum,z=c.Yk.Share.Shareserver.Resolution,Q=c.Yk.Share.Shareserver.Quality,dt=c.Yk.Share.Shareserver.Codec,Y=c.Yk.Share.Shareserver.DeviceTypeEnum,D=c.Yk.Share.Shareserver.DeviceStateTypeEnum;let N=(()=>{var Z;class W{constructor(d,H,$,J,st,lt,gt,vt,k,pt,yt,Xt,It,Nt){this.bridgeService=H,this.oscNotificationService=$,this.hotkeyService=J,this.oscDisplayService=st,this.telemetry=lt,this.dialogHelper=gt,this.igoConfig=vt,this.gfnInfoService=k,this.sdkHighlightService=pt,this.microphoneService=yt,this.featureSupportService=Xt,this.telemetryIgoService=It,this.dbService=Nt,this.ShadowplayStorageKeyName="ShadowplayPersistedData",this.disableRecordSpecialCase=I.Kk.RECORD_SPECIAL_CASE_4K,this.$mrState=new e.X(!1),this.$irState=new e.X(R.YQ.off),this.$micState=new e.X(U.off),this.$hlBadState=new e.X(!1),this.$micDeviceState=new i.xQ,this.$camDeviceState=new i.xQ,this.$micPttHotkey=new e.X(!1),this.$freestyleAnselState=new i.xQ,this.$videoSpecsInitState=new e.X(!1),this._mrStartTime=null,this.isDTCaptureSupported=!1,this.notebookCoProc=!1,this.captureState=null,this.isGfnMicrophoneEnabled=!1,this.maxIRTime=15,this.throttleMs=333,this.microphoneSpecs=[],this.currentMicIndex=-1,this.isNvApp=!1,this.isAV1RecSupported=!1,this.captureScreenshot=void 0,this.enableInstantReplay=void 0,this.disableInstantReplay=void 0,this.saveIR=void 0,this.startManualRecord=void 0,this.stopAndSaveManualRecord=void 0,this.logger=d.getLogger("ShadowPlayService"),this.dBStore=this.dbService.getGlobalStore("Shadowplay"),this.isNvApp=this.featureSupportService.isNvApp()}throttled(d){return(0,C.throttle)(d,1e3,{trailing:!1})}init(){this.captureScreenshot=this.throttled(this._captureScreenshot),this.enableInstantReplay=this.throttled(this._enableInstantReplay),this.disableInstantReplay=this.throttled(this._disableInstantReplay),this.saveIR=this.throttled(this._saveIR),this.startManualRecord=this.throttled(this._startManualRecord),this.stopAndSaveManualRecord=this.throttled(this._stopAndSaveManualRecord),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterCaptureStateChangeNotifications).pipe((0,g.h)(H=>H.captureMode!==c.Yk.Share.Shareserver.CaptureModeEnum.gameCast)).subscribe(H=>this.handleCaptureEvent(H)),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.RegisterGeneralNotifications).subscribe(H=>this.handleGeneralNotification(H)),this.gfnInfoService.getRecordSpecialCase().subscribe(H=>{this.logger.info("disableRecordSpecialCase mode: ",H),this.disableRecordSpecialCase=H,this.sdkHighlightService.toggleAutohighlight(!this.disableRecordSpecialCase),this.sdkHighlightService.toggleSdkHighlights(!this.disableRecordSpecialCase)}),this.featureSupportService.isGfnMicrophoneEnabled().pipe((0,h.q)(1)).subscribe(H=>{if(this.isGfnMicrophoneEnabled=H,H)this.microphoneService.currentMicState$.subscribe($=>{this.setMicMode($===q.tn.Unmuted?U.on:U.off)});else{const $=this.getMicrophoneData().subscribe(()=>{$.unsubscribe()});this.hotkeyService.listen(n.sW.MicToggle).pipe((0,O.p)(this.throttleMs)).subscribe(()=>{let J=this.$micState.getValue();J=J===U.ptt||J===U.on?U.off:U.on,this.setMicMode(J)}),this.hotkeyService.listenPTT().pipe((0,O.p)(this.throttleMs)).subscribe(J=>{this.$micPttHotkey.next(J),this.setMicPTTMode(J?U.on:U.off)})}}),this.hotkeyService.listen(n.sW.DVRToggle).pipe((0,O.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$irState.getValue()===R.YQ.off?this.enableInstantReplay():this.disableInstantReplay())}),this.hotkeyService.listen(n.sW.DVRSave).pipe((0,O.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$irState.getValue()===R.YQ.recording?this.saveIR():this.logger.info("Attempted to save and instant replay while instant replay was disabled"))}),this.hotkeyService.listen(n.sW.RecordToggle).pipe((0,O.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$mrState.getValue()?this.stopAndSaveManualRecord():this.startManualRecord())}),this.hotkeyService.listen(n.sW.Screenshot).pipe((0,O.p)(this.throttleMs)).subscribe(()=>{I.Kk.RECORD_SPECIAL_CASE_PLAYTEST!==this.disableRecordSpecialCase&&this.captureScreenshot()}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetCaptureState).subscribe(H=>{this.captureState=H.state}),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetDesktopCaptureSupportReason).subscribe(H=>{if(this.logger.info("Desktop Support Reason: ",H),this.isDTCaptureSupported=H.support,!this.isDTCaptureSupported){const $=H.desktopCaptureUnsupportedReason[0];($.indexOf("notebookDriver")>=0||$.indexOf("notebookCoProc")>=0||$.indexOf("notebookDGpu")>=0||$.indexOf("hideCheckboxAOSP")>=0)&&(this.notebookCoProc=!0)}},H=>{this.logger.info("Desktop support query failed")});const d=this.getInstantReplayMaxLength().subscribe(H=>{this.maxIRTime=H,this.logger.info("IR Length: "+H+" seconds"),d.unsubscribe()});(0,L.D)([this.getInstantReplayEnableStatus(),this.getInstantReplayRunningStatus()]).subscribe(([H,$])=>{$?this.$irState.next(R.YQ.recording):H&&this.$irState.next(R.YQ.on),($||H)&&this.hotkeyService.startListeningToHotkey(n.sW.DVRSave).subscribe()}),this.isNvApp&&(this.getVideoSpecs().pipe((0,E.zg)(()=>this.loadShadowplayData()),(0,h.q)(1),(0,w.U)(()=>{this.isAV1RecSupported=!!this.videoSpecs.codecs.length,this.$videoSpecsInitState.next(!0),this.telemetryIgoService.updateVideoSpecSettings(this.videoSpecs)})).subscribe(),this.getMicMode().pipe((0,h.q)(1)).subscribe(H=>{this.telemetryIgoService.updateMicMode(H)}))}get mrStartTime(){return this._mrStartTime}get videoCaptureReturnLocation(){return this._videoCaptureReturnLocation}set videoCaptureReturnLocation(d){this._videoCaptureReturnLocation=d}getShowCodecMessage(){return this.isAV1RecSupported&&this.spData.showCodecMessage}dismissShowCodecMessage(){this.spData.showCodecMessage=!1,this.savePersistedData()}getDefaultShadowplayData(){return this.spData={showCodecMessage:!0},this.spData}savePersistedData(d=null){this.dBStore.setItem(this.ShadowplayStorageKeyName,d=d||this.spData).subscribe(H=>{this.logger.info("Persisted data saved successfully ",H)},H=>{this.logger.error("Error while saving the persisted data ",H)})}loadShadowplayData(){return this.dBStore.getItem(this.ShadowplayStorageKeyName).pipe((0,w.U)(d=>d?(this.logger.info("Loaded sp data from the storage"),this.spData=d,!0):(this.logger.info("No sp data found in storage"),this.spData=this.getDefaultShadowplayData(),!1)),(0,p.K)(d=>(this.logger.error("Could not load sp data from the storage: ",JSON.stringify(d)),this.spData=this.getDefaultShadowplayData(),(0,f.of)(!1))))}handleCaptureEvent(d){this.logger.info("Capture Event:",d);const H=!this.isNvApp||(null==d?void 0:d.errorType);switch(d.captureMode){case c.Yk.Share.Shareserver.CaptureModeEnum.screenshot:this.logger.info("screenshot capture event"),H&&this.telemetry.sendCaptureEvent(s.rS.screenshotSaved,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails);break;case c.Yk.Share.Shareserver.CaptureModeEnum.manual:this.logger.info("Manual capture"),d.recordingState===c.Yk.Share.Shareserver.RecordingState.started?this.disableRecordSpecialCase||(this.oscNotificationService.show(o.ZJ.RecordStarted),this.$mrState.next(!0),this._mrStartTime=Date.now(),H&&this.telemetry.sendCaptureEvent(s.rS.startManualCapture,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.available&&(this.oscNotificationService.show(o.ZJ.RecordSaving),this.$mrState.next(!1),this._mrStartTime=null,H&&this.telemetry.sendCaptureEvent(s.rS.stopAndSaveManualCapture,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails));break;case c.Yk.Share.Shareserver.CaptureModeEnum.dvr:this.logger.info("DVR");const $=this.$irState.value===R.YQ.on||this.$irState.value===R.YQ.recording;d.recordingState===c.Yk.Share.Shareserver.RecordingState.enabled?this.disableRecordSpecialCase||(this.oscNotificationService.show(o.ZJ.InstantReplayStarted),this.logger.info("IR Enabled"),this.$irState.next(R.YQ.on),H&&this.telemetry.sendCaptureEvent(s.rS.turnOnInstantReplay,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.started?this.disableRecordSpecialCase||(this.logger.info("IR Started"),this.$irState.next(R.YQ.recording)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.available?this.disableRecordSpecialCase||(this.logger.info("IR Available"),this.$irState.next(R.YQ.on)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.saved?this.disableRecordSpecialCase||(this.logger.info("IR Saved"),this.oscNotificationService.show(o.ZJ.InstantReplaySaving),H&&this.telemetry.sendCaptureEvent(s.rS.instantReplaySaved,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.disabled&&(this.oscNotificationService.show(o.ZJ.InstantReplayStopped),this.logger.info("IR Disabled"),this.$irState.next(R.YQ.off),H&&this.telemetry.sendCaptureEvent(s.rS.turnOffInstantReplay,d.captureMethod,d.recordWidth,d.recordHeight,d.recordFramerate,d.recordCodec,d.colorSpaceRange,d.errorType,d.errorDetails));const J=this.$irState.value===R.YQ.on||this.$irState.value===R.YQ.recording;J!==$&&(J?this.hotkeyService.startListeningToHotkey(n.sW.DVRSave).subscribe():this.hotkeyService.stopListeningToHotkey(n.sW.DVRSave));break;case c.Yk.Share.Shareserver.CaptureModeEnum.gearHighlight:this.logger.info("Gear Highlight"),d.recordingState===c.Yk.Share.Shareserver.RecordingState.enabled?(this.logger.info("Gear Highlights Enabled"),this.$hlBadState.next(!1)):d.recordingState===c.Yk.Share.Shareserver.RecordingState.disabled&&(this.logger.info("Gear Highlights Disabled"),this.$hlBadState.next(!0));break;default:this.logger.info("Other",d.captureMode)}}handleGeneralNotification(d){if(this.logger.info("General Event: ",d),d.captureFailed)this.handleError();else if(d.galleryIsFull)this.logger.info("Gallery is full"),this.oscNotificationService.show(o.ZJ.GalleryIsFull);else if(d.diskSpaceIsLow)this.logger.info("Gallery disk space is low"),this.oscNotificationService.show(o.ZJ.DiskSpaceIsLow);else if(d.deviceChange)d.deviceChange.device===Y.mic?(this.logger.info("Microphone has been ",d.deviceChange.state),this.$micDeviceState.next(d.deviceChange.state)):d.deviceChange.device===Y.webcam&&(this.logger.info("Camera has been ",d.deviceChange.state),this.$camDeviceState.next(d.deviceChange.state));else if(d.disableHDR)switch(d.disableHDR.captureMode){case c.Yk.Share.Shareserver.CaptureModeEnum.manual:this.oscNotificationService.show(o.ZJ.HDRErrorRecord);break;case c.Yk.Share.Shareserver.CaptureModeEnum.highlight:this.oscNotificationService.show(o.ZJ.HDRErrorHighlight)}else d.freeStyleAnselState&&this.$freestyleAnselState.next(d.freeStyleAnselState.enable)}handleError(){!1===this.isDTCaptureSupported&&!0===this.notebookCoProc&&("PID"===this.captureState?(this.oscNotificationService.show(o.ZJ.WarningSupportedGameRequired),this.logger.info("Supported game required")):(this.oscNotificationService.show(o.ZJ.WarningFullscreenGameRequired),this.logger.info("Fullscreen game required")))}getMRState(){return this.$mrState.asObservable()}getIRState(){return this.$irState.asObservable()}getMICState(){return this.$micState.asObservable()}getHLBadState(){return this.$hlBadState.asObservable()}getMICDeviceState(){return this.$micDeviceState.asObservable()}getCAMDeviceState(){return this.$camDeviceState.asObservable()}micPttHotkeyPressed(){return this.$micPttHotkey.asObservable()}isNotebookCoProcSystem(){return this.notebookCoProc}doWeNeedToAskPermission(){return(0,x.aj)([this.isCaptureControlPIDModeValid(),this.isInDesktopMode(),this.getDesktopCaptureSupported(),this.getDesktopCaptureEnabled()]).pipe((0,w.U)(([d,H,$,J])=>(this.logger.info("isCaptureControlPIDModeValid: ",d),this.logger.info("isInDesktopMode: ",H),this.logger.info("isDesktopCaptureSupported: ",$),this.logger.info("isDesktopCaptureEnabled: ",J),!(!H||J||d)&&(!0===this.notebookCoProc?("PID"===this.captureState?(this.oscNotificationService.show(o.ZJ.WarningSupportedGameRequired),this.logger.info("Supported game required")):(this.oscNotificationService.show(o.ZJ.WarningFullscreenGameRequired),this.logger.info("Fullscreen game required")),!1):$))))}isCaptureControlPIDModeValid(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetCaptureControlPIDMode).pipe((0,w.U)(d=>(this.logger.info("Is Capture Control PID mode valid: ",d),d.valid)))}isInDesktopMode(){return this.oscDisplayService.getCurrentDesktopMode().pipe((0,h.q)(1),(0,w.U)(d=>(this.logger.info("Desktop mode: ",d),"desktop"===d)))}getDesktopCaptureSupported(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetDesktopCaptureSupported).pipe((0,w.U)(d=>(this.logger.info("DesktopCapture Supported: ",d.support),d.support)))}getDesktopCaptureEnabled(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetDesktopCaptureEnabled).pipe((0,w.U)(d=>(this.logger.info("DesktopCapture Enabled: ",d.enable),d.enable)))}SetDesktopCaptureEnabled(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetDesktopCaptureEnabled,{enable:d}).pipe((0,w.U)($=>(this.logger.info("SetDesktopCaptureEnabled: ",$),!0)),(0,p.K)($=>(this.logger.error("Error in SetDesktopCaptureEnabled: ",$),(0,f.of)(!1))))}handlePrivacyAndAvailability(d){return this.doWeNeedToAskPermission().pipe((0,E.zg)(H=>H?"GFE"===this.igoConfig.branding?(this.dialogHelper.closeAll(),this.askToEnableDTCapture(d)):(0,f.of)(!1):(0,f.of)(!0)))}sendCaptureTelemetryNvApp(d,H){if(!this.isNvApp)return;let $;$=d===s.rS.turnOnInstantReplay||d===s.rS.turnOffInstantReplay?(0,f.of)(null):this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetCaptureProcessInfo,{appType:c.Yk.Share.Shareserver.AppType.capture}).pipe((0,h.q)(1),(0,p.K)(J=>(this.logger.error("GetCaptureProcessInfo failed with ",J.toString()),(0,f.of)(null)))),$.pipe((0,w.U)(J=>{this.telemetry.sendCaptureEvent(d,null,null,null,null,null,null,H?H.toString():a.wy.Undefined,null,null,{drsName:null==J?void 0:J.drsName,drsProfileName:null==J?void 0:J.profileName})})).subscribe()}checkFailure(d,H,$){this.logger.info("Check Failure for ",H," returns: ",d),d._return_internal===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_DISC_SPACE||d._return_internal===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_BOUNDS||d._return_internal===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_GALLERY_SPACE?"mainMenu.ManualRecord"===H?this.oscNotificationService.show(o.ZJ.NoSpaceCaptureNotStarted):this.oscNotificationService.show(o.ZJ.NoSpaceCaptureNotSaved,H):d._return_internal===c.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_CAPTURE_DISABLED&&this.oscNotificationService.show(o.ZJ.WarningSupportedGameRequired,H),this.sendCaptureTelemetryNvApp($,null==d?void 0:d._return_status)}askToEnableDTCapture(d){this.logger.info("askToEnableDTCapture request for: ",d);let H="",$="";switch(d){case"ss":H="mainMenu.Screenshot",$="confirmation.CaptureScreenshot";break;case"mr":H="mainMenu.ManualRecord",$="confirmation.CaptureRecording";break;case"br":H="settings.Broadcast",$="confirmation.CaptureBroadcasting"}return this.dialogHelper.openAlertDialog({title:H,query:$,queryParam:"",action1:"confirmation.NotRightNow",action2:"confirmation.yes"},!0,!1).pipe((0,E.zg)(st=>st.afterClosed()),(0,E.zg)(st=>st===b.DX.Action2?this.SetDesktopCaptureEnabled(!0):(0,f.of)(!1)),(0,w.U)(st=>"ss"!==d&&st))}_captureScreenshot(){this.handlePrivacyAndAvailability("ss").subscribe(H=>{H&&(this.logger.info("Taking screenshot"),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.CaptureScreenshot).subscribe($=>{this.checkFailure($,"mainMenu.Screenshot",s.rS.screenshotSaved)},$=>{this.sendCaptureTelemetryNvApp(s.rS.screenshotSaved,$),this.logger.error("CaptureScreenshot failed: ",$)}),this.telemetry.startCaptureEvent(s.rS.screenshotSaved))})}captureCustomScreenshot(d,H,$){return this.logger.info("Got custom screenshot request: Filename "+H),new S.y(J=>{const st=this.bridgeService.executeCommand(c.Gh.Share.Shareserver.CustomScreenshotNotifications).subscribe(lt=>{J.next(lt),st.unsubscribe(),J.complete()},lt=>{J.error(lt)});this.bridgeService.executeCommand(c.Gh.Share.Shareserver.CaptureCustomScreenshot,{controller:d,screenshotName:H,slotId:$}).subscribe(lt=>{(lt._return_code||lt._return_internal!==c.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok&&lt._return_internal!==c.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_NoError)&&(this.logger.info("Internal error while capturing screenshot."+lt.return_code),J.error(lt.return_code),st.unsubscribe())},lt=>{this.logger.info("Error while initializing custom screenshot"),J.error(lt),st.unsubscribe()})})}_enableInstantReplay(){return this.logger.info("IR Enabled"),this.telemetry.startCaptureEvent(s.rS.turnOnInstantReplay),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableInstantReplay,{enable:!0}).subscribe(d=>{this.checkFailure(d,"mainMenu.InstantReplay",s.rS.turnOnInstantReplay)},d=>{this.sendCaptureTelemetryNvApp(s.rS.turnOnInstantReplay,d),this.logger.error("EnableInstantReplay (enable) failed: ",d)})}_disableInstantReplay(){return this.logger.info("IR Disabled"),this.telemetry.startCaptureEvent(s.rS.turnOffInstantReplay),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableInstantReplay,{enable:!1}).subscribe(d=>{this.checkFailure(d,"mainMenu.InstantReplay",s.rS.turnOffInstantReplay)},d=>{this.sendCaptureTelemetryNvApp(s.rS.turnOffInstantReplay,d),this.logger.error("EnableInstantReplay (disable) failed: ",d)})}_saveIR(){return this.logger.info("IR saved"),this.telemetry.startCaptureEvent(s.rS.instantReplaySaved),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SaveInstantReplay).subscribe(d=>{this.checkFailure(d,"mainMenu.InstantReplay",s.rS.instantReplaySaved)},d=>{this.sendCaptureTelemetryNvApp(s.rS.instantReplaySaved,d),this.logger.error("SaveInstantReplay failed: ",d)})}_startManualRecord(){this.logger.info("Try manual"),this.handlePrivacyAndAvailability("mr").subscribe(H=>{if(H)return this.logger.info("Manual Record started"),this.telemetry.startCaptureEvent(s.rS.startManualCapture),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableRecord,{enable:!0}).subscribe($=>{this.checkFailure($,"mainMenu.ManualRecord",s.rS.startManualCapture)},$=>{this.sendCaptureTelemetryNvApp(s.rS.startManualCapture,$),this.logger.error("EnableRecord (start) failed: ",$)})})}_stopAndSaveManualRecord(){return this.logger.info("Manual Record saved"),this.telemetry.startCaptureEvent(s.rS.stopAndSaveManualCapture),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.EnableRecord,{enable:!1}).subscribe(d=>{this.checkFailure(d,"mainMenu.ManualRecord",s.rS.stopAndSaveManualCapture)},d=>{this.sendCaptureTelemetryNvApp(s.rS.stopAndSaveManualCapture,d),this.logger.error("EnableRecord (save) failed: ",d)})}getInstantReplayRunningStatus(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetInstantReplayRunningStatus).pipe((0,w.U)(d=>(this.logger.info("GetInstantReplayRunningStatus returns: ",d),d.status)))}getInstantReplayEnableStatus(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetInstantReplayEnableStatus).pipe((0,w.U)(d=>(this.logger.info("GetInstantReplayEnableStatus returns: ",d),d.status)))}getInstantReplayMaxLength(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetInstantReplaySettings).pipe((0,w.U)(d=>(this.logger.info("GetInstantReplaySettings returns: ",d),this.telemetry.updateReplayLength(d.replayLengthSeconds),d.replayLengthSeconds)))}getMicMode(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetMicMode).pipe((0,w.U)(d=>(this.logger.info("GetMicMode returns: ",d),this.$micState.next(d.mode),d.mode)),(0,p.K)(d=>(this.logger.error("GetMicMode error: ",d),(0,f.of)(U.off))))}setMicMode(d){const H={mode:d},$=d!==U.off;return!this.isGfnMicrophoneEnabled&&"GFN"===this.igoConfig.branding&&(this.logger.info(" SetMicState with ",$),this.bridgeService.executeCommand(c.Gh.Gfn.Streaming.SetMicState,{enable:$}).subscribe(J=>{},J=>{this.logger.error(" SetMicState: ",J)})),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetMicMode,H).subscribe(J=>{this.$micState.next(d),this.telemetryIgoService.updateMicMode(d)},J=>{this.logger.error(" SetMicMode: ",J)})}setMicPTTMode(d){const H=!this.$mrState.getValue(),$=this.$irState.getValue()!==R.YQ.recording,J=this.$micState.getValue()!==U.ptt;if(!(H&&$||J))return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.MicPTTMode,{mode:d}).subscribe(lt=>{this.logger.info("SetMicPTTMode results: ",lt)},lt=>{this.logger.info("SetMicPTTMode error: ",lt)})}getFreestylePreviewBasePath(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetFreestylePreviewBasePath,{})}GetSupportedBitrates(d,H){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetSupportedBitrates,{quality:d,resolution:H})}GetSupportedBitratesFramerates(d,H,$,J){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetSupportedBitratesFramerates,{quality:d,resolution:H,codec:$,framerate:J})}GetQualityDefaultData(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetQualityDefaultData,{quality:d})}setInstantReplaySettings(d){return this.logger.info("setInstantReplaySettings params: ",d),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetInstantReplaySettings,d).pipe((0,w.U)(H=>(this.logger.info("SetInstantReplaySettings returns: ",H),!0)))}getRecordSettings(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetRecordSettings).pipe((0,w.U)(d=>(this.logger.info("GetRecordSettings returns: ",d),d)))}setRecordSettings(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetRecordSettings,d).subscribe(H=>{this.logger.info("SetRecordSettings returns: ",H)})}getBroadcastSettings(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetBroadcastSettings).pipe((0,w.U)(d=>(this.logger.info("GetBroadcastSettings returns: ",d),d)))}convertResolution(d){switch(d){case"In-game":default:return z.In_game;case"2160p 4K":return z.Resolution_2160p_4K;case"4320p 8K":return z.Resolution_4320p_8K;case"1440p HD":return z.Resolution_1440p_HD;case"1080p HD":return z.Resolution_1080p_HD;case"720p HD":return z.Resolution_720p_HD;case"480p":return z.Resolution_480p;case"360p":return z.Resolution_360p;case"240p":return z.Resolution_240p;case"Exact":return z.Exact}}convertCodec(d){return"AV1"===d?dt.AV1:dt.H264_HEVC}getVideoSpecsInit(){return(0,x.aj)([this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetSupportedResolutionsCodecs),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetSupportedFramerates),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetInstantReplaySettings)]).pipe((0,w.U)(([d,H,$])=>{const J=Q[$.quality],st=this.convertResolution($.resolution),lt=this.convertCodec($.codec);return this.videoSpecs={resolutions:d.resolutions,frameRates:H.framerates,codecs:d.codecs,frameRatesDefault:void 0,codecDefault:d.defaultCodec,bitRatesMin:void 0,bitRatesMax:void 0,bitRatesDefault:void 0,recQualitySP:J,recQualityIgo:this.convertQualitySpToIgo(J),recResolution:st,recFramerate:$.framerate,recBitrate:$.bitrateBps,recReplayLength:$.replayLengthSeconds,recCodec:lt},this.videoSpecs}),(0,p.K)(d=>(this.logger.error("Error in getVideoSpecsInit: ",d),(0,f.of)(this.videoSpecs))))}getVideoSpecs(){return this.getVideoSpecsInit().pipe((0,E.zg)(d=>this.GetSupportedBitratesFramerates(d.recQualitySP,d.recResolution,d.recCodec,d.recFramerate)),(0,w.U)(d=>(this.videoSpecs.bitRatesMin=d.bitrateBpsMin,this.videoSpecs.bitRatesMax=d.bitrateBpsMax,this.videoSpecs.bitRatesDefault=d.bitrateBpsDefault,this.videoSpecs.frameRates=d.fpsList.slice(0,d.supportedFPSCount),this.videoSpecs.frameRatesDefault=d.fpsDefault,this.videoSpecs)),(0,p.K)(d=>(this.logger.error("Error in getVideoSpecs: ",d),(0,f.of)(this.videoSpecs))))}convertQualitySpToIgo(d){switch(d){case Q.Average:return R.Qy.low;case Q.Good:return R.Qy.medium;case Q.VeryGood:return R.Qy.high;case Q.UltraGood:return R.Qy.ultra;case Q.Custom:return R.Qy.custom;default:this.logger.info("Invalid Quality: ",d)}}convertQualityIgoToSp(d){switch(d){case R.Qy.low:return Q.Average;case R.Qy.medium:return Q.Good;case R.Qy.high:return Q.VeryGood;case R.Qy.ultra:return Q.UltraGood;case R.Qy.custom:return Q.Custom;default:this.logger.info("Invalid Quality: ",d)}}setVideoSpecs(d,H){if(!H)return this.videoSpecs={...this.videoSpecs,recReplayLength:d.recReplayLength},this.setVideoSpecsNUpdateIRMaxTime({replayLengthSeconds:d.recReplayLength});if(void 0===this.videoSpecs)return this.logger.error("setVideoSpecs input is undefined!"),(0,f.of)(!1);this.videoSpecs.recQualitySP=this.convertQualityIgoToSp(d.recQualityIgo),this.videoSpecs.recResolution=d.recResolution,this.videoSpecs.recFramerate=d.recFramerate,this.videoSpecs.recBitrate=d.recBitrate,this.videoSpecs.recReplayLength=d.recReplayLength,this.videoSpecs.recCodec=d.recCodec;const $={quality:this.videoSpecs.recQualitySP,resolution:d.recResolution,framerate:d.recFramerate,bitrateBps:d.recBitrate,replayLengthSeconds:d.recReplayLength,codec:d.recCodec};return d.recQualityIgo===R.Qy.custom?(this.videoSpecs.recQualityIgo=R.Qy.custom,this.videoSpecs.recQualitySP=Q.Custom,this.GetSupportedBitratesFramerates($.quality,$.resolution,$.codec,$.framerate).pipe((0,E.zg)(J=>(($.bitrateBps<J.bitrateBpsMin||$.bitrateBps>J.bitrateBpsMax)&&($.bitrateBps=this.videoSpecs.recBitrate=J.bitrateBpsDefault),J.fpsList.indexOf($.framerate)<0&&($.framerate=J.fpsDefault),this.setVideoSpecsNUpdateIRMaxTime($).pipe((0,V.b)(st=>{st&&this.telemetryIgoService.updateVideoSpecSettings(this.videoSpecs)})))))):(this.videoSpecs.recQualityIgo=d.recQualityIgo,this.setVideoSpecsNUpdateIRMaxTime($).pipe((0,V.b)(J=>{J&&this.telemetryIgoService.updateVideoSpecSettings(this.videoSpecs)})))}setVideoSpecsNUpdateIRMaxTime(d){return this.setInstantReplaySettings(d).pipe((0,w.U)(()=>(this.maxIRTime=this.videoSpecs.recReplayLength,!0)))}getMicCount(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetMicCount).pipe((0,w.U)(d=>d.present),(0,p.K)(d=>(this.logger.error("GetMicCount error: ",d),(0,f.of)(0))))}getMicSettings(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetMicSettings,d).pipe((0,w.U)(H=>(this.microphoneSpecs[d.index]=H,!0)),(0,p.K)(H=>(this.logger.error("GetMicSettings error: ",H),(0,f.of)(!1))))}getCurrentMicSettings(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetMicSettings,{index:-1}).pipe((0,w.U)(H=>H.index),(0,p.K)(H=>(this.logger.error("getCurrentMicSettings error: ",H),(0,f.of)(0))))}setMicSettings(d){var H,$,J,st,lt,gt;const vt={index:d.index,muted:null!==(H=null===($=d.micSpecs[d.index])||void 0===$?void 0:$.muted)&&void 0!==H&&H,volumePercent:null!==(J=null===(st=d.micSpecs[d.index])||void 0===st?void 0:st.volumePercent)&&void 0!==J?J:0,boostPercent:null!==(lt=null===(gt=d.micSpecs[d.index])||void 0===gt?void 0:gt.boostPercent)&&void 0!==lt?lt:0};return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetMicSettings,vt).pipe((0,p.K)(k=>(this.logger.error("setMicSettings error: ",k),(0,f.of)(!1))))}getAudioSettings(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetAudioSettings).pipe((0,w.U)(d=>({systemVolumePercent:d.systemVolumePercent,separateTracks:d.separateTracks})),(0,p.K)(d=>(this.logger.error("GetAudioSettings error: ",d),(0,f.of)({systemVolumePercent:0,separateTracks:!1}))))}setAudioSettings(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetAudioSettings,d).pipe((0,p.K)(H=>(this.logger.error("setAudioSettings error: ",H),(0,f.of)(!1))))}getMicrophoneData(){this.microphoneSpecs.length=0;let d=0;return this.getMicCount().pipe((0,E.zg)(H=>{if(d=H,0===d)return(0,f.of)({index:-1,micSpecs:void 0});const $=[];for(let J=0;J<d;J++)$.push(this.getMicSettings({index:J}));return(0,u.$R)(...$)}),(0,E.zg)(()=>this.getCurrentMicSettings()),(0,w.U)(H=>{var $;this.logger.info("All Mic Data: ",this.microphoneSpecs),this.logger.info("Current Index: ",H);const J=[];var st;if(null!==($=this.microphoneSpecs)&&void 0!==$&&$.length)if(this.microphoneSpecs.forEach((vt,k)=>{J[k]={index:vt.index,name:vt.name,id:vt.id,muted:vt.muted,enabled:vt.enabled,volumePercent:vt.volumePercent,boostPercent:vt.boostPercent}}),null!==(st=J[H])&&void 0!==st&&st.enabled)this.currentMicIndex=H;else{this.currentMicIndex=-1;for(let vt=0;vt<d;vt++){var lt;if(null!==(lt=J[vt])&&void 0!==lt&&lt.enabled){this.currentMicIndex=J[vt].index;break}}}return{index:this.currentMicIndex,micSpecs:J}}))}isCurrentMicAvailable(){return this.currentMicIndex<0?(0,f.of)(!1):this.getMicrophoneData().pipe((0,w.U)(()=>{var d;return null===(d=this.microphoneSpecs[this.currentMicIndex])||void 0===d?void 0:d.enabled}))}syncShadowPlaySettings(d){return this.logger.info("syncShadowPlaySettings"),this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SyncShadowPlaySettings,{isGFEMigration:d}).pipe((0,w.U)($=>(this.logger.info("SyncShadowPlaySettings successful:",$),!0)),(0,p.K)($=>(this.logger.error("SyncShadowPlaySettings failed:",$),(0,f.of)(!1))))}getNvCameraToggleStateUpdates(){return this.$freestyleAnselState.asObservable()}getVideoSpecsInitStateUpdates(){return this.$videoSpecsInitState.asObservable()}getNvCameraToggleState(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetNvCameraToggleState).pipe((0,w.U)(d=>{let H=null==d?void 0:d.enable;return this.logger.info("nvcamera toggle state:",H),void 0===H&&(this.logger.info("Nvcamera toggle setting not present, using default"),H=_.DC),H}),(0,p.K)(d=>(this.logger.error("Error while fetching nvcamera toggle state:",d),(0,f.of)(_.DC))))}setNvCameraToggleState(d){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.SetNvCameraToggleState,{enable:d}).pipe((0,V.b)(()=>{this.logger.info("nvcamera toggle state set successfully")}),(0,p.K)($=>(this.logger.error("Error while setting nvcamera toggle state:",$),(0,f.of)(null))))}getLastLaunchedApp(){return this.bridgeService.executeCommand(c.Gh.Share.Shareserver.GetCaptureProcessInfo,{appType:c.Yk.Share.Shareserver.AppType.last_proc}).pipe((0,w.U)(d=>(this.logger.info("getLastAppInfo: ",d),d)),(0,p.K)(d=>(this.logger.error("getLastAppInfo failed:",d),(0,f.of)(null))))}}return(Z=W).\u0275fac=function(d){return new(d||Z)(y.LFG(M.ed),y.LFG(M.dF),y.LFG(o.nG),y.LFG(n.y1),y.LFG(P.v),y.LFG(K.l),y.LFG(B.M),y.LFG(j.g),y.LFG(I.In),y.LFG(tt.b),y.LFG(q.pJ),y.LFG(ot.l),y.LFG(F.b),y.LFG(M.MC))},Z.\u0275prov=y.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),W})()},52109:(Dt,ct,t)=>{"use strict";t.d(ct,{$$:()=>n,FE:()=>g,Gz:()=>S,Oj:()=>V,Os:()=>u,l2:()=>b,p0:()=>_,rS:()=>h,vI:()=>R,wy:()=>I});var S=function(m){return m.FiltersAdded="FiltersAdded",m.FiltersSlotChanged="FiltersSlotChanged",m.FiltersApplied="FiltersApplied",m}(S||{}),u=function(m){return m.SessionProviderSettings="SessionProviderSettings",m.SessionLogin="SessionLogin",m.SessionMenuLaunch="SessionMenuLaunch",m.SessionHotkeySettings="SessionHotkeySettings",m}(u||{}),g=function(m){return m.UsingHotkey="UsingHotkey",m.UsingUI="UsingUI",m}(g||{}),h=function(m){return m.ScreenshotCaptured="ScreenshotCaptured",m.ScreenshotCancelled="ScreenshotCancelled",m.ScreenshotFailed="ScreenshotFailed",m.MRStart="MRStart",m.MRSave="MRSave",m.IRStart="IRStart",m.IRSave="IRSave",m.IRStop="IRStop",m.DetectValidGame="DetectValidGame",m}(h||{}),V=function(m){return m.Ansel="Ansel",m.Freestyle="Freestyle",m.AnselLite="AnselLite",m}(V||{}),n=function(m){return m.PreferencesScreen="PreferencesScreen",m.UploadScreen="UploadScreen",m.ProviderTrigger="ProviderTrigger",m.CustomizeScreen="CustomizeScreen",m.ProviderStop="ProviderStop",m.ProviderPause="ProviderPause",m.ProviderResume="ProviderResume",m.CameraPreviewOn="CameraPreviewOn",m.KeyboardShortcutScreen="KeyboardShortcutScreen",m.AnselBringup="AnselBringup",m.GalleryPopulateFolders="GalleryPopulateFolders",m.GalleryPopulateFiles="GalleryPopulateFiles",m.Screenshot="Screenshot",m.CloseOsc="CloseOsc",m}(n||{}),R=function(m){return m.Standard="Standard",m.Enhanced="Enhanced",m}(R||{}),_=function(m){return m.Linear="Linear",m.Double="Double",m.Stacked="Stacked",m}(_||{}),b=function(m){return m.FPS="FPS",m.Basic="Basic",m.Advanced="Advanced",m.Latency="Latency",m.Custom="Custom",m}(b||{}),I=function(m){return m.UNDEFINED="UNDEFINED",m.TRUE="TRUE",m.FALSE="FALSE",m}(I||{})},93738:(Dt,ct,t)=>{"use strict";t.d(ct,{$R:()=>z,AD:()=>Tt,AN:()=>C,Bj:()=>i,CC:()=>f,EB:()=>h,F8:()=>B,FC:()=>F,FU:()=>P,HR:()=>re,IN:()=>O,Ie:()=>c,J2:()=>ut,Jd:()=>lt,K8:()=>M,KF:()=>g,KZ:()=>k,M8:()=>Z,MG:()=>Q,Mu:()=>u,NX:()=>j,Nj:()=>jt,ON:()=>D,PH:()=>Wt,Po:()=>n,QR:()=>N,R5:()=>I,RY:()=>H,Rb:()=>Ut,SE:()=>o,VC:()=>oe,Vu:()=>E,W6:()=>y,WU:()=>ot,Wg:()=>tt,Z1:()=>R,ZA:()=>dt,_B:()=>Pt,bo:()=>d,bq:()=>s,cd:()=>te,ci:()=>st,ck:()=>Qt,el:()=>_,f3:()=>Y,fP:()=>w,gY:()=>bt,h7:()=>K,j6:()=>gt,kG:()=>x,kT:()=>W,kt:()=>X,ky:()=>J,lj:()=>Kt,o8:()=>Nt,og:()=>l,p9:()=>A,pJ:()=>b,pg:()=>V,qG:()=>pt,rS:()=>a,ti:()=>m,uz:()=>$,vB:()=>S,wB:()=>q,xE:()=>L,zZ:()=>vt,zc:()=>p,ze:()=>Xt});var e=t(89857);const i="StatsLayout",L="StatsVisibility",f="StatsPositionX",x="StatsPositionY",S="RectAlignment",u="FlashIndicatorStatus",g="CustAvgSampleSize",h="ResetAverages",O="DiskSpaceLimit",E="DiskSpaceLimitSlider";var w=function(ft){return ft.gfn="GFN",ft.standalone="Standalone",ft}(w||{}),p=function(ft){return ft.image="Image",ft.video="Video",ft.none="None",ft}(p||{}),V=function(ft){return ft.initial="Initial",ft.settings="Settings",ft.alreadyOn="AlreadyOn",ft.alreadyOff="AlreadyOff",ft}(V||{}),c=function(ft){return ft.individualToggle="IndividualToggle",ft.gameToggle="GameToggle",ft.featureToggle="FeatureToggle",ft}(c||{}),C=function(ft){return ft.GameFilter="Freestyle",ft.PhotoMode="Ansel",ft.PhotoModeLight="AnselLite",ft}(C||{}),l=function(ft){return ft.connect="Connect",ft.disconnect="Disconnect",ft.requestpermissions="RequestPermissions",ft.getlanguage="GetLanguage",ft.highlightsconfigure="HighlightsConfigure",ft.highlightsopengroup="HighlightsOpenGroup",ft.highlightsclosegroup="HighlightsCloseGroup",ft.highlightssavevideo="HighlightsSaveVideo",ft.highlightssavescreenshot="HighlightsSaveScreenshot",ft.highlightsopensummary="HighlightsOpenSummary",ft.highlightsgetcount="HighlightsGetCount",ft.highlightsgetuserconfig="HighlightsGetUserConfig",ft.opsoptimize="OpsOptimize",ft.unknown="UNKNOWN",ft}(l||{}),o=function(ft){return ft.success="NVGSDK_SUCCESS",ft.successversionoldsdk="NVGSDK_SUCCESS_VERSION_OLD_SDK",ft.successversionoldgfe="NVGSDK_SUCCESS_VERSION_OLD_GFE",ft.successpending="NVGSDK_SUCCESS_PENDING",ft.successusernotinterested="NVGSDK_SUCCESS_USER_NOT_INTERESTED",ft.successpermissiongranted="NVGSDK_SUCCESS_PERMISSION_GRANTED",ft.successlinked="NVGSDK_SUCCESS_LINKED",ft.errgeneric="NVGSDK_ERR_GENERIC",ft.errgfeversion="NVGSDK_ERR_GFE_VERSION",ft.errsdkversion="NVGSDK_ERR_SDK_VERSION",ft.errnotimplemented="NVGSDK_ERR_NOT_IMPLEMENTED",ft.errinvalidparameter="NVGSDK_ERR_INVALID_PARAMETER",ft.errnotset="NVGSDK_ERR_NOT_SET",ft.errshadowplayirdisabled="NVGSDK_ERR_SHADOWPLAY_IR_DISABLED",ft.errsdkinuse="NVGSDK_ERR_SDK_IN_USE",ft.errgroupnotfound="NVGSDK_ERR_GROUP_NOT_FOUND",ft.errfilenotfound="NVGSDK_ERR_FILE_NOT_FOUND",ft.errhighlightssetupfailed="NVGSDK_ERR_HIGHLIGHTS_SETUP_FAILED",ft.errhighlightsnotconfigured="NVGSDK_ERR_HIGHLIGHTS_NOT_CONFIGURED",ft.errhighlightssavefailed="NVGSDK_ERR_HIGHLIGHTS_SAVE_FAILED",ft.errunexpectedexception="NVGSDK_ERR_UNEXPECTED_EXCEPTION",ft.errnohighlights="NVGSDK_ERR_NO_HIGHLIGHTS",ft.errnoconnection="NVGSDK_ERR_NO_CONNECTION",ft.errpermissionnotgranted="NVGSDK_ERR_PERMISSION_NOT_GRANTED",ft.errpermissiondenied="NVGSDK_ERR_PERMISSION_DENIED",ft.errinvalidhandle="NVGSDK_ERR_INVALID_HANDLE",ft.errunhandledexception="NVGSDK_ERR_UNHANDLED_EXCEPTION",ft.erroutofmemory="NVGSDK_ERR_OUT_OF_MEMORY",ft.errloadlibrary="NVGSDK_ERR_LOAD_LIBRARY",ft.errlibcallfailed="NVGSDK_ERR_LIB_CALL_FAILED",ft.erripcfailed="NVGSDK_ERR_IPC_FAILED",ft.errconnection="NVGSDK_ERR_CONNECTION",ft.errmodulenotloaded="NVGSDK_ERR_MODULE_NOT_LOADED",ft.errapplicationlookupfailed="NVGSDK_ERR_APPLICATION_LOOKUP_FAILED",ft.errapplicationnotknown="NVGSDK_ERR_APPLICATION_NOT_KNOWN",ft.errfeaturedisabled="NVGSDK_ERR_FEATURE_DISABLED",ft.errlibcalltimeout="NVGSDK_ERR_LIB_CALL_TIMEOUT",ft.errappnooptimization="NVGSDK_ERR_APP_NO_OPTIMIZATION",ft.errappsettingsread="NVGSDK_ERR_APP_SETTINGS_READ",ft.errappsettingswrite="NVGSDK_ERR_APP_SETTINGS_WRITE",ft.errhighlightnotdefined="NVGSDK_ERR_HIGHLIGHT_NOT_DEFINED",ft.errcaplimitreached="NVGSDK_ERR_CAP_LIMIT_REACHED",ft.errdisklimitreached="NVGSDK_ERR_DISK_LIMIT_REACHED",ft}(o||{}),n=function(ft){return ft.on="Yes",ft.true="Yes",ft.yes="Yes",ft.off="No",ft.false="No",ft.no="No",ft}(n||{}),s=function(ft){return ft.openHotkey="OpenHotkey",ft.highlightsButton="HighlightsButton",ft}(s||{}),R=function(ft){return ft.internal="Internal",ft.external="External",ft.network="Network",ft.unknown="Unknown",ft}(R||{}),_=function(ft){return ft.Success="Success",ft.Failure="Failure",ft}(_||{}),b=function(ft){return ft.root="Root",ft.folder="Folder",ft.content="Content",ft}(b||{}),I=function(ft){return ft.none="None",ft.screenshot="Screenshot",ft.video="Video",ft.ir="InstantReplay",ft.highlight="Highlight",ft}(I||{}),q=function(ft){return ft.none="None",ft.settings="Settings",ft.galleryMain="GalleryMain",ft.galleryImagePreview="GalleryImagePreview",ft.galleryVideoPreview="GalleryVideoPreview",ft.browser="FolderBrowser",ft.mainMenu="MainMenu",ft.general="General",ft.highlights="HighlightsSettings",ft.videoCapture="VideoCaptureSettings",ft.storage="StorageSettings",ft.shortcuts="HotkeySettings",ft.headsup="HUDSettings",ft.notifications="NotificationSettings",ft.audioCapture="AudioCaptureSettings",ft.broadcast="BroadcastSettings",ft.gfnBroadcast="GfnBroadcast",ft.connect="ConnectSettings",ft.connectOauth="ConnectOauth",ft.broadcastLive="BroadcastLive",ft.share="Share",ft.privacy="Privacy",ft.system="System",ft.gameplay="Gameplay",ft.debug="Debug",ft.graphics="Graphics",ft.instantReplay="InstantReplay",ft}(q||{}),a=function(ft){return ft.startManualCapture="StartManualCapture",ft.stopAndSaveManualCapture="StopAndSaveManualCapture",ft.turnOnInstantReplay="TurnOnInstantReplay",ft.instantReplaySaved="InstantReplaySaved",ft.turnOffInstantReplay="TurnOffInstantReplay",ft.screenshotSaved="ScreenshotSaved",ft}(a||{}),y=function(ft){return ft.upperRight="UpperRight",ft.lowerRight="LowerRight",ft.lowerLeft="LowerLeft",ft.upperLeft="UpperLeft",ft.none="None",ft}(y||{}),M=function(ft){return ft.standard="Standard",ft.compact="Compact",ft}(M||{}),P=function(ft){return ft.balanced="Balanced",ft.dataSaver="DataSaver",ft.competitive="Competitive",ft.custom="Custom",ft}(P||{}),K=function(ft){return ft.recording="Recording",ft.iR="IR",ft.highlights="Highlights",ft.mic="Mic",ft.statistics="Statistics",ft.network="Network",ft}(K||{}),B=function(ft){return ft.empty="Empty",ft.openOverlay="OpenOverlay",ft.connectionStatus="ConnectionStatus",ft.saveIRToGallery="SaveIRToGallery",ft.saveMRToGallery="SaveMRToGallery",ft.saveSSToGallery="SaveSSToGallery",ft.saveHLToGallery="SaveHLToGallery",ft.iROnOff="IROnOff",ft.mROn="MROn",ft}(B||{}),j=function(ft){return ft.anselFreeStyle="AnselFreestyleNoResponse",ft.anselFreestyleGeneralFailure="AnselFreestyleGeneralFailure",ft.anselFailedToStart="AnselFailedToStart",ft.anselNoSpaceLeft="AnselNoSpaceLeft",ft.anselPermissionDenied="AnselPermissionDenied",ft.anselInvalidRequest="AnselInvalidRequest",ft.anselFreestyleAlreadyEnabled="AnselFreestyleAlreadyEnabled",ft.anselFreestyleAlreadyDisabled="AnselFreestyleAlreadyDisabled",ft.anselOutOfRange="AnselOutOfRange",ft.anselFreestyleAlreadySet="AnselFreestyleAlreadySet",ft.anselFreestyleIncompatibleVersion="AnselFreestyleIncompatibleVersion",ft.anselFreestyleAppFatalError="AnselFreestyleAppFatalError",ft.anselFreestyleAppNonFatalError="AnselFreestyleAppNonFatalError",ft.anselFreestyleUnsupportedGameError="AnselFreestyleUnsupportedGameError",ft.anselFreestyleMenuLaunchError="AnselFreestyleMenuLaunchError",ft}(j||{}),tt=function(ft){return ft.nvCameraTimedOut="NvCameraTimedOut",ft.gameBlacklisted="GameBlackListed",ft.unsupportedGame="UnSupportedGame",ft.streamerError="StreamerError",ft}(tt||{}),ot=function(ft){return ft.started="Started",ft.completed="Completed",ft.cancelled="Cancelled",ft.failed="Failed",ft}(ot||{}),F=function(ft){return ft.anselScreenshotTimeoutFailure="AnselScreenshotTimeoutFailure",ft.anselScreenshotUnknownFailure="AnselScreenshotUnknownFailure",ft.anselScreenshotNoFailure="AnselScreenshotNoFailure",ft}(F||{}),z=function(ft){return ft.nvCameraReadyNotificationNotReceived="NvCameraReadyNotificationNotReceived",ft.featureNotAvailable="FeatureNotAvailable",ft.nvCameraSessionConfigurationFailed="NvCameraSessionConfigurationFailed",ft.featureDisabledReasonUnknown="FeatureDisabledReasonUnknown",ft}(z||{}),Q=function(ft){return ft.start="Start",ft.stop="Stop",ft.pause="Pause",ft.resume="Resume",ft}(Q||{}),dt=function(ft){return ft.adobe="Adobe",ft.facebook="Facebook",ft.lightstream="Lightstream",ft.twitch="Twitch",ft.youtube="YouTube",ft}(dt||{}),X=function(ft){return ft.failedToStart="FailedToStart",ft.failedToStop="FailedToStop",ft.timeoutError="TimeoutError",ft.unknownError="UnknownError",ft}(X||{}),m=function(ft){return ft.fullscreen="Fullscreen",ft.windowed="Windowed",ft}(m||{});class Y extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="GFNSession"}}class D extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="OpenedIGO"}}class N extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="SettingSnapshot"}}class Z extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="UITransition"}}class W extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="HighlightsGameSetting"}}class A extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="HighlightsIndividualGameToggle"}}class d extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="HighlightsCancelled"}}class H extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="SDKCallResult"}}class $ extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="GalleryAccess"}}class J extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="GalleryFilterUsed"}}class st extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="GalleryPlayedVideo"}}class lt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="GalleryFileRemoved"}}class gt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Behavioral,this.name="GalleryOpenedFileLocation"}}class vt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="CaptureEvent"}}class k{get streamerConfig(){var ve;return null===(ve=this.streamerConfigService)||void 0===ve?void 0:ve.activeConfig}constructor(ve,Ce){this.bridgeService=ve,this.streamerConfigService=Ce}generateFinalizedEvent(ve,Ce){return ve.cmsId=ve.cmsId||(this.streamerConfig?this.streamerConfig.cmsId.toString():""),ve.shortName=ve.shortName||(this.streamerConfig?this.streamerConfig.shortName:""),new Ce(ve)}}class pt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="AnselFreestyleSession"}}class Xt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="AnselFreestyleFilters"}}class Nt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="FreestyleStylesApplied"}}class te extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="AnselScreenshotEvent"}}class bt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="AnselFreestyleError"}}class ut extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Technical,this.name="AnselFreestyleFeatureDisabled"}}class re extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="BroadcastEvent"}}class Kt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="BroadcastError"}}class jt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="StatsClosedEvent"}}class Wt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="StatsViewChangedEvent"}}class oe extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="GameplayEntryEvent"}}class Qt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="StreamingQualityChangedEvent"}}class Pt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="ResolutionUpscalingChangedEvent"}}class Ut extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="WidgetViewChangedEvent"}}class Tt extends e.MW{constructor(){super(...arguments),this.gdprLevel=e.KM.Functional,this.name="NotificationChangedEvent"}}},33960:(Dt,ct,t)=>{"use strict";t.d(ct,{b:()=>L});var e=t(93738),i=t(9681);class L{constructor(){this.clientHost=e.fP.standalone,this.modsActive=!1}toTelemetryBoolean(x){return x?e.Po.yes:e.Po.no}setModsActiveStatus(x){this.modsActive=x}sendHighlightCapture(x,S,u,g,h,O,E,w){}sendHighlightsGameSetting(x,S,u,g,h,O){}sendProcessingFilter(x,S,u,g,h,O,E,w,p){}sendProcessingControlSettings(x,S,u,g,h){}sendIGOSettings(x,S,u){}sendStatsSession(x,S,u,g,h,O,E,w,p){}sendUIPerfEvent(x,S,u,g,h,O){}init(){}initCommonData(){return(0,i.of)(null)}sendAudioTelemetry(x){}sendCaptureEvent(x,S,u,g,h,O,E,w,p,V,c,C,l,o,n){}startAnselScreenshot(){}sendAnselFreestyleCaptureEvent(x,S,u,g,h,O,E,w,p,V,c,C){}sendAnselFreestyleError(x,S,u,g,h,O,E,w,p,V,c){}updateVideoSpecSettings(x){}updateMicMode(x){}startStatsLoggingSession(x){}sendStatsLoggingSession(x){}sendStatsOverlaySession(x,S,u,g,h,O,E=!1){}startStatsOverlaySession(x){}sendStartupTelemetry(){}beginStartupTimer(x){}trackNavigation(x,S=e.wB.none){}sendHighlightsIndividualGameToggle(x,S,u){}sendHighlightCancelled(x,S,u){}getHighlightsEnabled(){return null}recordSDKCallResult(x,S,u,g,h){}sendSDKCallResults(x,S){}sendGalleryOpenedFileLocation(){}sendGalleryFileRemoved(x){}sendGalleryPlayedVideo(x,S){}sendGalleryFilterUsed(x){}sendGalleryFileAccess(x){}sendGalleryAccess(){}startGalleryAccess(x){}setGalleryAccessCached(x){}setGalleryFolderCounts(x,S){}sendStatsClosedTelemetry(x,S,u){}sendStatsViewChanged(x,S,u){}sendWidgetViewChanged(x,S,u){}sendNotificationChanged(x,S){}sendSessionEvent(x,S,u,g,h,O,E,w){}sendNotificationSettingsTelemetry(x){}}},15811:(Dt,ct,t)=>{"use strict";t.d(ct,{l:()=>q});var e=t(78943),i=t(49481),L=t(56293),f=t(92130),x=t(9681),S=t(47422),u=t(87965),g=t(24070),h=t(15746),O=t(93738),E=t(87550),w=t(79521),p=t(21120),V=t(87815),c=t(66129),C=t(51815),l=t(33960),o=t(61699),n=t(13963),s=t(67445),R=t(36643),_=t(28332),b=t(14180),I=t(89857);let q=(()=>{var a;class y{constructor(P,K,B,j,tt,ot,F,U,z,Q,dt,X){this.loggingService=P,this.bridgeService=K,this.igoConfig=B,this.injector=j,this.hotkeyService=tt,this.appLifetimeService=ot,this.dbService=F,this.osdService=U,this.notificationService=z,this.igoPiplLocaleConfigService=Q,this.systemInfoService=dt,this.telemetryService=X,this.commonData={},this.clientHost=O.fP.standalone,this.driveTypeMap={unknown:O.Z1.unknown,removable:O.Z1.external,fixed:O.Z1.internal,network:O.Z1.network},this.captureEventsMap={},this.screenPosMap={},this.statsFormat={},this.profileNameMap={},this.widgetIndicatorMap={},this.notificationMap={},this.cachedSessionId="",this.irBufLength=new i.t(1),this.gallerySettings=new i.t(1),this.modsActive=!1,this.uiPerfEventData=new Map,this.anselFilterApplied=!1,this.isNvApp=!1,this.logger=this.loggingService.getLogger("TelemetryHelperService"),this.screenPosMap[c.Fr.leftBottom]=O.W6.lowerLeft,this.screenPosMap[c.Fr.leftTop]=O.W6.upperLeft,this.screenPosMap[c.Fr.rightBottom]=O.W6.lowerRight,this.screenPosMap[c.Fr.rightTop]=O.W6.upperRight,this.screenPosMap[c.Fr.none]=O.W6.none,this.statsFormat[c._C.standard]=O.K8.standard,this.statsFormat[c._C.compact]=O.K8.compact,this.profileNameMap[p.M1b.Balanced]=O.FU.balanced,this.profileNameMap[p.M1b.DataSaver]=O.FU.dataSaver,this.profileNameMap[p.M1b.Competitive]=O.FU.competitive,this.profileNameMap[p.M1b.Custom]=O.FU.custom,this.widgetIndicatorMap[c.Kw.Recording]=O.h7.recording,this.widgetIndicatorMap[c.Kw.IR]=O.h7.iR,this.widgetIndicatorMap[c.Kw.Highlights]=O.h7.highlights,this.widgetIndicatorMap[c.Kw.Mic]=O.h7.mic,this.widgetIndicatorMap[c.Kw.GfnMic]=O.h7.mic,this.widgetIndicatorMap[c.Kw.Statistics]=O.h7.statistics,this.widgetIndicatorMap[c.Kw.Network]=O.h7.network,this.notificationMap[C._R.Empty]=O.F8.empty,this.notificationMap[C._R.OpenOverlay]=O.F8.openOverlay,this.notificationMap[C._R.ConnectionStatus]=O.F8.connectionStatus,this.notificationMap[C._R.SaveIRToGallery]=O.F8.saveIRToGallery,this.notificationMap[C._R.SaveMRToGallery]=O.F8.saveMRToGallery,this.notificationMap[C._R.SaveSSToGallery]=O.F8.saveSSToGallery,this.notificationMap[C._R.SaveHLToGallery]=O.F8.saveHLToGallery,this.notificationMap[C._R.IROnOff]=O.F8.iROnOff,this.notificationMap[C._R.MROn]=O.F8.mROn,this.isNvApp="GFE"===this.igoConfig.branding}init(){let P;this.logger.info("Initializing telemetry"),this.sessionStartTime=Date.now(),this.telemetryHelperIGOService=this.injector.get(l.b),"GFN"===this.igoConfig.branding?(this.streamingService=this.injector.get(E.F),P=this.injector.get(p.oX5),this.appConfig=this.injector.get(V.VK),this.streamingSubscription=this.streamingService.streamingEvent$.subscribe(K=>{K.event===w.V4.SESSION_SETUP_SUCCESS&&(this.sendSettingsTelemetry(),this.cachedSessionId=this.streamingService.streamingProperties.sessionId||"",this.streamingSubscription.unsubscribe())}),this.gridService=this.injector.get(p.rIG),this.gridService.getCachedZone().subscribe(K=>{this.zone=K})):this.registerForlocaleChangeNotification(),this.perGameEventFactory=new O.KZ(this.bridgeService,P),this.clientHost="GFN"===this.igoConfig.branding?O.fP.gfn:O.fP.standalone,"GFN"===this.igoConfig.branding?this.appLifetimeService.addWorkOnShutdown(()=>new L.y(K=>{K.next(this.sendExitTelemetry()),K.complete()})):this.telemetryHelperIGOService.initCommonData().subscribe(K=>{this.commonData=K}),this.telemetryHelperIGOService.init()}registerForlocaleChangeNotification(){this.igoPiplLocaleConfigService.localConfigChangeNotification().subscribe(P=>{var K;const B=null==P||null===(K=P.jsEvents)||void 0===K?void 0:K.server;B?this.telemetryService.setServerConfig(B):this.logger.error("Telemetry Server URL empty in local config ",P)})}getLocaleOverride(){return this.bridgeService.executeCommand(e.Gh.Common.Nvlocalizedconfig.GetLocalizationData)}sendExitTelemetry(){this.telemetryHelperIGOService.sendSDKCallResults(!1,!0);const P=this.perGameEventFactory.generateFinalizedEvent({wasHighlightsAvailable:this.toTelemetryBoolean(this.telemetryHelperIGOService.getHighlightsEnabled()),sessionDurationMs:Date.now()-this.sessionStartTime,sessionId:this.cachedSessionId},O.f3);this.telemetryService.push(P,0,{appExit:!0})}sendSettingsTelemetry(){const P=this.dbService.getGlobalStore("IGOTelemetry");P.getItem("lastSettingsSendTime").subscribe(K=>{this.logger.info("sendTime: ",K,"alwaysSend: ",this.appConfig?this.appConfig.featureEnablement?this.appConfig.featureEnablement.alwaysSendSettingsTelemetry:"No featureEnablement in config":"No appConfig"),(this.appConfig&&this.appConfig.featureEnablement&&this.appConfig.featureEnablement.alwaysSendSettingsTelemetry||!K||Date.now()-K>6048e5)&&(this.logger.info("Sending settings"),this.doSendSettingsTelemetry(),P.setItem("lastSettingsSendTime",Date.now()))})}doSendSettingsTelemetry(){let K=0,B=0,j=0,tt=O.Z1.unknown;const ot={clientHost:this.clientHost,gallerySizeMB:0,gallerySpaceUsedPercent:0,typeOfStorageDrive:tt,areGlobalHighlightsOn:this.toTelemetryBoolean(!1),openIGOHotkey:"",numGalleryImages:0,numGalleryVideos:0,instantReplayBufferLength:0,galleryTotalSizeMB:0,screenshotHotkey:"",irToggleHotkey:"",saveIRHotkey:"",mrHotkey:"",statsHotkey:"",recordingHUDLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.Recording)],instantReplayHUDLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.IR)],highlightsHUDLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.Highlights)],micHUDLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.Mic)],connectionStatusHUDLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.Network)],statsLocation:this.screenPosMap[this.osdService.getPosition(c.Kw.Statistics)],statsFormat:this.statsFormat[this.osdService.getStatsSize()],irSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.SaveIRToGallery-1].enable),mrSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.SaveMRToGallery-1].enable),screenshotSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.SaveSSToGallery-1].enable),irToggleIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.IROnOff-1].enable),mrStartedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.MROn-1].enable),highlightSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[C._R.SaveHLToGallery-1].enable)},F=(0,f.D)([this.bridgeService.executeCommand(e.Gh.Common.Gallery.EnumerateDrives),this.gallerySettings]).pipe((0,S.U)(([z,Q])=>{if(Q.settings.path)for(const dt of z.drives)if(Q.settings.path.startsWith(dt.name))return tt=this.driveTypeMap[dt.type]||O.Z1.unknown,tt;return tt})),U=this.gallerySettings.pipe((0,S.U)(z=>(z.settings.capacity&&(K=z.settings.capacity.enabled?Math.round(z.settings.capacity.capacityPercent*z.settings.capacity.totalDiskSpaceMB):0,B=z.settings.capacity.usageMB,j=z.settings.capacity.totalDiskSpaceMB),ot.gallerySizeMB=B,ot.gallerySpaceUsedPercent=K>0?Math.round(100*B/K):0,ot.galleryTotalSizeMB=j,z)),(0,u.zg)(z=>z.settings.path?this.bridgeService.executeCommand(e.Gh.Common.Gallery.GetFolderListing,{directory:z.settings.path,shouldGetOnlyNv:!0,excludeDirectoryType:e.Yk.Common.Gallery.ExcludeDirectoryType.empty}):(0,x.of)(null)),(0,S.U)(z=>z&&z.directories.length>0?z.directories:[""]),(0,u.zg)(z=>(0,x.of)(...z)),(0,u.zg)(z=>0===z.length?(0,x.of)({screenshots:0,videos:0}):this.bridgeService.executeCommand(e.Gh.Common.Gallery.GetAppStats,{appName:z})),(0,g.u)((z,Q)=>(z.numImages+=Q.screenshots,z.numVideos+=Q.videos,z),{numImages:0,numVideos:0}),(0,h.b)(z=>{ot.numGalleryImages=z.numImages,ot.numGalleryVideos=z.numVideos}),(0,u.zg)(()=>F),(0,h.b)(z=>{ot.typeOfStorageDrive=z||O.Z1.unknown}),(0,u.zg)(()=>this.bridgeService.executeCommand(e.Gh.Share.Shareserver.GetHighlightsEnable)),(0,h.b)(z=>{ot.areGlobalHighlightsOn=this.toTelemetryBoolean(z.enable)}),(0,u.zg)(()=>this.irBufLength),(0,h.b)(z=>{ot.instantReplayBufferLength=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.OpenIGO)),(0,h.b)(z=>{ot.openIGOHotkey=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.Screenshot)),(0,h.b)(z=>{ot.screenshotHotkey=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.DVRToggle)),(0,h.b)(z=>{ot.irToggleHotkey=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.DVRSave)),(0,h.b)(z=>{ot.saveIRHotkey=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.RecordToggle)),(0,h.b)(z=>{ot.mrHotkey=z}),(0,u.zg)(()=>this.hotkeyService.getHotkeyString(e.Yk.Share.Shareserver.HotkeyEnum.StatisticsToggle)),(0,h.b)(z=>{ot.statsHotkey=z})).subscribe(()=>{this.logger.info("Actually sending settings telemetry",ot);const z=new O.QR(ot);this.telemetryService.push(z,0,{immediateRequest:!0}),U.unsubscribe()})}updateReplayLength(P){this.irBufLength.next(P),this.irBufLength.complete()}updateGallerySettings(P){this.gallerySettings.next(P),this.gallerySettings.complete()}toTelemetryBoolean(P){return P?O.Po.yes:O.Po.no}updateAnselFilterAppliedField(P){this.anselFilterApplied=P}sendHighlightCapture(P,K,B,j,tt,ot,F){this.telemetryHelperIGOService.sendHighlightCapture(P,K,B,j,tt,F,ot,this.anselFilterApplied)}sendProcessingControlSettings(P,K,B,j,tt){this.telemetryHelperIGOService.sendProcessingControlSettings(P,K,B,j,tt)}sendProcessingFilter(P,K,B,j,tt,ot,F,U,z){this.telemetryHelperIGOService.sendProcessingFilter(P,K,B,j,tt,ot,F,U,z)}sendIGOSettings(P,K,B){this.telemetryHelperIGOService.sendIGOSettings(P,K,B)}startUIPerfEvent(P){this.uiPerfEventData.set(P,Date.now())}sendUIPerfEvent(P,K,B,j){if(!this.uiPerfEventData.has(K))return void this.logger.error("Cannot send stats ui perf telemetry, timer was never started");const tt=this.uiPerfEventData.get(K)-Date.now();this.telemetryHelperIGOService.sendUIPerfEvent(P,K,tt,tt,B,j),this.uiPerfEventData.delete(K)}sendHighlightsGameSetting(P,K,B,j,tt,ot){this.telemetryHelperIGOService.sendHighlightsGameSetting(P,K,B,j,tt,ot)}startCaptureEvent(P){this.captureEventsMap[P]=Date.now()}sendCaptureEvent(P,K,B,j,tt,ot,F,U,z,Q,dt){this.isNvApp||this.captureEventsMap[P]?(this.telemetryHelperIGOService.sendCaptureEvent(P,K,B,j,tt,ot,F,U,z,Date.now()-this.captureEventsMap[P],Q,dt,this.osdService.getPosition(c.Kw.IR),this.osdService.getPosition(c.Kw.Performance),this.anselFilterApplied),this.isNvApp||(this.captureEventsMap[P]=0)):this.logger.error("Attempted to end a performance measurement for "+P+" without starting it!")}sendAnselFreestyleSession(P,K,B,j,tt,ot,F,U,z,Q,dt,X){if("GFN"===this.igoConfig.branding){const m=this.perGameEventFactory.generateFinalizedEvent({mode:P,totalMs:K,usedKeyboard:this.toTelemetryBoolean(B),usedMouse:this.toTelemetryBoolean(j),cmsId:ot||"",shortName:F||"",panningUsed:this.toTelemetryBoolean(Q),panningWithKB:this.toTelemetryBoolean(dt),panningWithMouse:this.toTelemetryBoolean(X)},O.qG);this.telemetryService.push(m)}}sendAnselFreestyleFilters(P,K,B,j,tt,ot){if("GFN"===this.igoConfig.branding){const F=this.perGameEventFactory.generateFinalizedEvent({mode:K,filterName:P||"",cmsId:B||"",shortName:j||""},O.ze);this.telemetryService.push(F)}}sendFreestyleSlotTelemetry(P,K,B,j,tt,ot,F,U,z,Q,dt){if("GFN"===this.igoConfig.branding){const X=this.perGameEventFactory.generateFinalizedEvent({usedStyles:ot,style1Filters:P,style2Filters:K,style3Filters:B,activeStyle:tt||0,activeFilters:j,cmsId:U||"",shortName:z||"",persistedFilters:this.toTelemetryBoolean(F),usedMenu:this.toTelemetryBoolean(!F)},O.o8);this.telemetryService.push(X)}}sendAnselScreenshotTelemetry(P,K,B,j,tt,ot,F,U,z,Q,dt,X,m,Y){if("GFN"===this.igoConfig.branding){const D=new O.cd({state:P,cmsId:K||0,shortName:B||"",screenshotType:j,screenshotResolution:tt,panningUsed:this.toTelemetryBoolean(ot),mode:F,totalMs:U||0,gridUsed:this.toTelemetryBoolean(z),installedDDVersion:P===O.WU.failed&&this.zone.name||"",gpuName:P===O.WU.failed&&this.zone.address||"",errorType:m,errorString:Y,roll:Q,fov:dt,stackedFilters:X});this.telemetryService.push(D)}}sendAnselFreestyleErrorTelemetry(P,K,B,j,tt,ot,F,U,z,Q,dt,X,m,Y){if("GFN"===this.igoConfig.branding){const D=this.perGameEventFactory.generateFinalizedEvent({errorType:P,errorSubType:m,errorString:Y||"",mode:K,serverGPUType:this.zone.name,serverOSVersion:this.zone.address,usedMenu:O.Po.true,cmsId:B||"",shortName:j||""},O.gY);this.telemetryService.push(D)}}sendAnselFreestyleFeatureDisableTelemetry(P,K,B,j,tt){if("GFN"===this.igoConfig.branding){const ot=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:K||"",mode:B,errorType:j,errorInfo:tt||"",serverInfo:this.zone.address||""},O.J2);this.telemetryService.push(ot)}}sendBroadcastEventTelemetry(P,K,B,j,tt){if("GFN"===this.igoConfig.branding){const ot=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:K||"",action:B||O.MG.start,provider:O.ZA.lightstream,timeMs:0,modsActive:this.toTelemetryBoolean(this.modsActive)},O.HR);this.telemetryService.push(ot)}}sendBroadcastErrorTelemetry(P,K,B,j,tt){if("GFN"===this.igoConfig.branding){const ot=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:K||"",errorType:B||O.kt.unknownError,provider:O.ZA.lightstream,errorString:tt||""},O.lj);this.telemetryService.push(ot)}}setModsActiveStatus(P){this.modsActive=P}sendStatsViewChanged(P,K,B){this.telemetryHelperIGOService.sendStatsViewChanged(P,this.statsFormat[K],this.screenPosMap[B])}sendGameplayEntrySetting(P){const K=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,profile:this.profileNameMap[P]},O.VC);this.logger.info("Gameplay Profile Entry Telemetry: ",K),this.telemetryService.push(K)}sendStatsClosedTelemetry(P,K,B){this.telemetryHelperIGOService.sendStatsClosedTelemetry(P,this.screenPosMap[K],this.statsFormat[B])}sendStreamingQualityChanged(P){const K=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,maxBitrateAuto:this.toTelemetryBoolean(P.maxBitrateAuto),maxBitrateAutoChanged:this.toTelemetryBoolean(P.maxBitrateAutoChanged),maxBitrate:P.maxBitrate,maxBitrateChanged:this.toTelemetryBoolean(P.MaxBitrateChanged),vsync:P.vSync,vsyncChanged:this.toTelemetryBoolean(P.vSyncChanged),drc:this.toTelemetryBoolean(P.drc),drcChanged:this.toTelemetryBoolean(P.drcChanged)},O.ck);this.logger.info("StreamingQuality Changed Telemetry: ",K),this.telemetryService.push(K)}sendResolutionUpscalingChanged(P){const K=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,upscaleMode:P.upscaleMode,detailEnhancement:P.detailEnhancement},O._B);this.logger.info("ResolutionUpscaling Changed Telemetry: ",K),this.telemetryService.push(K)}sendWidgetViewChanged(P,K){this.telemetryHelperIGOService.sendWidgetViewChanged(P,this.screenPosMap[K],this.widgetIndicatorMap[P])}sendNotificationChanged(P,K){this.telemetryHelperIGOService.sendNotificationChanged(this.notificationMap[P],K)}sendAnselFreestyleError(P,K,B,j,tt,ot,F,U,z,Q,dt){this.telemetryHelperIGOService.sendAnselFreestyleError(P,K,B,j,tt,ot,F,U,z,Q,dt)}}return(a=y).\u0275fac=function(P){return new(P||a)(o.LFG(n.ed),o.LFG(n.dF),o.LFG(s.g),o.LFG(o.zs3),o.LFG(R.y1),o.LFG(_.Ll),o.LFG(n.MC),o.LFG(c.Ec),o.LFG(C.nG),o.LFG(b.I),o.LFG(n.Ob),o.LFG(I.y0))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()},16850:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>a});var e=t(28849),i=t(57665),L=t(33910),f=t(78173),x=t(78654),S=t(39038),u=t(10662),g=t(52484),h=t(69400),O=t(86515),E=t(96355),w=t(64650),p=t(92106),V=t(95787),c=t(99674),C=t(15550),l=t(17401),o=t(50275),n=t(59074),s=t(60702),R=t(10257),_=t(93170),b=t(91467),I=t(61699);const q=[e.u5,x.yu,i.IF,S.gR,u.jT,g.g0,L.Cq,f.Cv,h.t,O.Ps,E.LD,w.Wd,p.Fk,c.c,o.Cl,V.To,C.Zh,l.Is,n.y,s.AV,R.si,_.rt,b.hp];let a=(()=>{var y;class M{}return(y=M).\u0275fac=function(K){return new(K||y)},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({imports:[e.u5,q,e.u5,x.yu,i.IF,S.gR,u.jT,g.g0,L.Cq,f.Cv,h.t,O.Ps,E.LD,w.Wd,p.Fk,c.c,o.Cl,V.To,C.Zh,l.Is,n.y,s.AV,R.si,_.rt,b.hp]}),M})()},55622:(Dt,ct,t)=>{"use strict";t.d(ct,{Sk:()=>h,Vi:()=>g,aw:()=>u,kf:()=>S,u3:()=>f,vq:()=>L,wl:()=>x});const i=t(78943).Yk.Share.Shareserver.HotkeyEnum,L=new Map([[i.OpenIGO,[17,71]],[i.Screenshot,[17,49]],[i.OpenAnsel,[17,50]],[i.RecordToggle,[17,57]],[i.DVRSave,[17,48]],[i.DVRToggle,[17,16,48]],[i.MicToggle,[17,77]],[i.FreeStyleToggleStyle1,[]],[i.FreeStyleToggleStyle2,[]],[i.FreeStyleToggleStyle3,[]],[i.NativeKeyboardInputDialog,[17,75]],[i.ConnectGfnBroadcastToggle,[]],[i.QuitGame,[18,115]],[i.StatisticsToggle,[17,78]]]),f=new Map([[i.OpenIGO,[65335,71]],[i.Screenshot,[65335,49]],[i.OpenAnsel,[65335,50]],[i.RecordToggle,[65335,57]],[i.DVRSave,[65335,48]],[i.DVRToggle,[65335,16,48]],[i.MicToggle,[65335,77]],[i.FreeStyleToggleStyle1,[]],[i.FreeStyleToggleStyle2,[]],[i.FreeStyleToggleStyle3,[]],[i.NativeKeyboardInputDialog,[65335,75]],[i.ConnectGfnBroadcastToggle,[]],[i.QuitGame,[65335,81]],[i.StatisticsToggle,[65335,78]],[i.InStreamPaste,[65335,86]]]),x=new Map([[i.StatisticsToggle,[17,16,69]]]),S=new Map([[i.StatisticsToggle,[65335,16,69]]]),u=new Map([[i.MicToggle,[65335,16,77]],[i.QuitGame,[65335,16,88]]]),g="IgoShareSettings";var h=function(O){return O.Shortcuts="shortcuts",O}(h||{})},63415:(Dt,ct,t)=>{"use strict";function e(i,L){if(void 0===i||void 0===L)return!1;let f=!0;return i.length===L.length&&(i.forEach((x,S)=>{x!==L[S]&&(f=!1)}),f)}t.d(ct,{m:()=>e})},51907:(Dt,ct,t)=>{"use strict";t.d(ct,{DX:()=>R,Qr:()=>_});var e=t(17401),i=t(61699),L=t(26575),f=t(45356),x=t(47520),S=t(78654),u=t(33910),g=t(78173),h=t(43559);function O(b,I){if(1&b&&i._UZ(0,"mat-progress-spinner",8),2&b){const q=i.oxw(2);i.Q6J("diameter",48)("mode",q.data.progressMode)("value",q.value)}}const E=function(b){return{spinnerContent:b}};function w(b,I){if(1&b&&(i.TgZ(0,"div",5),i.YNc(1,O,1,3,"mat-progress-spinner",6),i._UZ(2,"span",7),i.ALo(3,"translate"),i.qZA()),2&b){const q=i.oxw();i.Q6J("ngClass",i.VKq(6,E,q.data.spinner)),i.xp6(1),i.Q6J("ngIf",q.data.spinner),i.xp6(1),i.Q6J("innerHtml",i.xi3(3,3,q.data.query,q.data.queryParam),i.oJD)}}function p(b,I){if(1&b&&i._UZ(0,"mat-progress-bar",12),2&b){const q=i.oxw(2);i.Q6J("mode",q.data.progressMode)("value",q.value)}}function V(b,I){if(1&b&&(i.TgZ(0,"div",13),i._uU(1),i.qZA()),2&b){const q=i.oxw(2);i.xp6(1),i.hij("",q.value,"%")}}const c=function(){return{progressBarContent:!0}};function C(b,I){if(1&b&&(i.TgZ(0,"div",9),i._UZ(1,"span",7),i.ALo(2,"translate"),i.YNc(3,p,1,2,"mat-progress-bar",10),i.YNc(4,V,2,1,"div",11),i.qZA()),2&b){const q=i.oxw();i.Q6J("ngClass",i.DdM(7,c)),i.xp6(1),i.Q6J("innerHtml",i.xi3(2,4,q.data.query,q.data.queryParam),i.oJD),i.xp6(2),i.Q6J("ngIf",q.data.progressBar),i.xp6(1),i.Q6J("ngIf",q.data.progressPercentage)}}function l(b,I){if(1&b&&(i.TgZ(0,"button",14),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&b){const q=i.oxw();i.Q6J("mat-dialog-close",q.retVals.Action1),i.xp6(1),i.hij(" ",i.lcZ(2,2,q.data.action1)," ")}}function o(b,I){if(1&b&&(i.TgZ(0,"button",14),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&b){const q=i.oxw();i.Q6J("mat-dialog-close",q.retVals.Action2),i.xp6(1),i.hij(" ",i.lcZ(2,2,q.data.action2)," ")}}function n(b,I){if(1&b&&(i.TgZ(0,"button",14),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&b){const q=i.oxw();i.Q6J("mat-dialog-close",q.retVals.Action3),i.xp6(1),i.hij(" ",i.lcZ(2,2,q.data.action3)," ")}}var R=function(b){return b.Action1="action1",b.Action2="action2",b.Action3="action3",b}(R||{});let _=(()=>{var b;class I{constructor(a){this.data=a,this.retVals=R,this.value=0,a.spinner&&(a.progressBar=!1),void 0===a.progressMode&&(a.progressMode="indeterminate")}set dialogData(a){this.data=a}get dialogData(){return this.data}}return(b=I).\u0275fac=function(a){return new(a||b)(i.Y36(e.WI))},b.\u0275cmp=i.Xpm({type:b,selectors:[["nv-hig-alert-dialog"]],inputs:{value:"value",dialogData:"dialogData"},decls:9,vars:9,consts:[["mat-dialog-title","",1,"font-header6"],["mat-dialog-content","","class","font-body2","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",3,"ngClass",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",3,"ngClass",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-content","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",1,"font-body2",3,"ngClass"],["color","accent","fxFlex","none",3,"diameter","mode","value",4,"ngIf"],[3,"innerHtml"],["color","accent","fxFlex","none",3,"diameter","mode","value"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",1,"font-body2",3,"ngClass"],["class","mat-accent",3,"mode","value",4,"ngIf"],["fxLayoutAlign","start start",4,"ngIf"],[1,"mat-accent",3,"mode","value"],["fxLayoutAlign","start start"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close"]],template:function(a,y){1&a&&(i.TgZ(0,"span",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.YNc(3,w,4,8,"div",1),i.YNc(4,C,5,8,"div",2),i.TgZ(5,"div",3),i.YNc(6,l,3,4,"button",4),i.YNc(7,o,3,4,"button",4),i.YNc(8,n,3,4,"button",4),i.qZA()),2&a&&(i.xp6(1),i.Oqu(i.lcZ(2,7,y.data.title)),i.xp6(2),i.Q6J("ngIf",void 0===y.data.progressBar||y.data.spinner),i.xp6(1),i.Q6J("ngIf",y.data.progressBar),i.xp6(1),i.Q6J("align","end"),i.xp6(1),i.Q6J("ngIf",y.data.action1),i.xp6(1),i.Q6J("ngIf",y.data.action2),i.xp6(1),i.Q6J("ngIf",y.data.action3))},dependencies:[L.mk,L.O5,f.xw,f.SQ,f.Wh,f.yH,x.oO,S.eB,u.Ou,g.pW,e.ZT,e.uh,e.xY,e.H8,h.X$],styles:[".spinnerContent[_ngcontent-%COMP%]{overflow:hidden!important}.progressBarContent[_ngcontent-%COMP%]{padding-top:16px}"]}),I})()},663:(Dt,ct,t)=>{"use strict";t.d(ct,{I:()=>u});var e=t(26575),i=t(32995),L=t(15826),f=t(13963),x=t(61699);let u=(()=>{var g;class h{constructor(E){if(E)throw new Error("CoreModule already loaded; Import in root module only.")}}return(g=h).\u0275fac=function(E){return new(E||g)(x.LFG(g,12))},g.\u0275mod=x.oAB({type:g}),g.\u0275inj=x.cJS({imports:[e.ez,i.o9,L.Q,(0,f.zv)()]}),h})()},24687:(Dt,ct,t)=>{"use strict";t.d(ct,{A2:()=>h.A2,DX:()=>O.DX,ER:()=>h.ER,HY:()=>L.H,Mb:()=>S.M,Sp:()=>g.S,Vu:()=>i.V,dM:()=>h.dM,dz:()=>h.dz,k7:()=>h.k7,rj:()=>x.rj,wz:()=>u.w}),t(663);var i=t(59209),L=t(51902),x=(t(77446),t(82932)),S=t(24403),u=t(64560),g=t(35955),h=t(9771),O=t(51907)},9771:(Dt,ct,t)=>{"use strict";t.d(ct,{$K:()=>u,A2:()=>x,DW:()=>K,ER:()=>y,Sc:()=>S,dM:()=>g,dO:()=>f,dz:()=>L,k7:()=>O,uc:()=>C});var e=t(78943);const L={width:296,height:167},f=32;var x=function(B){return B.Video="video",B.Image="image",B.Other="other",B}(x||{}),S=function(B){return B.Temporary="temporary",B.Highlights="highlights",B}(S||{}),u=e.Yk.Common.Gallery.AudioType,g=function(B){return B.Normal="Normal",B.SuperResolution="SuperResolution",B.SuperResolutionOversized="SuperResolution_Oversized",B.Mono360="360Mono",B.Stereo="Stereo",B.Stereo360="360Stereo",B.Exr="Exr",B.Live="Live",B.Offline="Offline",B.Highlights="Highlight",B.Mta="MTA",B.NormalAnsel="Normal_Ansel",B.Gif="AnimatedGif",B.Montage="Montage",B.InstantReplay="InstantReplay",B.Manual="Manual",B.Screenshot="Screenshot",B}(g||{}),O=function(B){return B.off="Off",B.inPlace="InPlace",B.toNew="ToNew",B}(O||{});class C{constructor(){this.total=0,this.highlights=0,this.videos=0,this.instantReplays=0,this.images=0,this.montages=0,this.highlightBreakDown=[]}}var y=function(B){return B.newest="newest",B.oldest="oldest",B.atoz="atoz",B.ztoa="ztoa",B}(y||{}),K=function(B){return B.Highlight="Highlight",B.InstantReplay="InstantReplay",B.Recording="Recording",B.Montage="Montage",B.Screenshot="Screenshot",B}(K||{})},77446:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>w});var e=t(78943),i=t(17827),L=t(9681),f=t(47422),x=t(58175),S=t(87965),u=t(15746),g=t(61699),h=t(13963),O=t(51902),E=function(p){return p[p.Empty=0]="Empty",p[p.Partial=1]="Partial",p[p.Full=2]="Full",p}(E||{});let w=(()=>{var p;class V{constructor(C,l,o){this.osService=l,this.bridgeService=o,this.videoPath="",this.directoryListOutdated=!0,this.directoryListUpdateCounts=!1,this.files=[],this.directoryList=[],this.directories=[],this.populatedFolder=[[],[],[],[],[]],this.folderData=[],this.fileData=[],this.mainCache=[],this.folderCache=[],this.cacheEntries=5,this.initialized=!1,this.ageCounter=0,this.dataIndex=0,this.freeInterval=3e5,this.minEntryAge=12e5,this.active=!1,this.logger=C.getLogger("CacheService")}resetCacheEntry(C){this.folderCache[C]={dirty:!0,crc:0,path:"",age:0,time:0,loaded:E.Empty}}init(){if(this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),!this.initialized){this.directoryListOutdated=!0,this.mainCache[0]={dirty:!0,crc:0,path:""};for(let C=0;C<this.cacheEntries;C++)this.resetCacheEntry(C);this.cacheTimerOn(),this.initialized=!0,this.logger.info("Initialize complete")}}reInit(){this.cacheTimerOff(),this.initialized=!1,this.init()}galleryActive(C){this.active=C}cacheTimerOn(){this.cacheTimer||(this.cacheTimer=(0,i.F)(this.freeInterval).subscribe(()=>{if(this.logger.info("cacheTimer called"),this.active)return;let C=2147483647,l=-1;const n=(new Date).getTime();for(let s=0;s<this.cacheEntries;s++)0!==this.folderCache[s].age&&this.folderCache[s].age<C&&n-this.folderCache[s].time>this.minEntryAge&&(l=s,C=this.folderCache[s].age);0!==C&&-1!==l&&(this.logger.info("resetting cache entry: "+l+" age was: "+C),this.folderData[l].directories.length=0,this.folderData[l].files.length=0,this.folderCache[l].loaded===E.Full&&(this.fileData[l].popFolder.length=0),this.resetCacheEntry(l)),this.checkCacheState()}))}cacheTimerOff(){this.logger.info("cacheTimerOff called"),this.cacheTimer&&(this.cacheTimer.unsubscribe(),this.cacheTimer=void 0)}checkCacheState(){let C=!0;this.folderCache.forEach(l=>{l.loaded!==E.Empty&&(C=!1)}),C&&this.cacheTimerOff()}setRecordingPaths(C){this.videoPath=C,this.reInit()}getCurrentPopFolder(){return this.populatedFolder[this.dataIndex]}resetCurrentPopFolder(){this.populatedFolder[this.dataIndex].length=0}useCacheData(C,l){let o=!1;if(C!==this.videoPath){const n=this.folderCache.findIndex(I=>I.path===C);if(-1===n)return!1;o=!this.folderCache[n].dirty&&this.folderCache[n].path===C;const s=o&&this.folderCache[n].loaded!==E.Empty,R=o&&this.folderCache[n].loaded===E.Full;this.dataIndex=n;const b=(new Date).getTime();return l?(s&&(this.logger.info("useCacheData, updating partial!"),this.files=this.folderData[n].files,this.directories=this.folderData[n].directories,this.counts=this.folderData[n].counts,this.logger.info("useCacheData, updating partial - DONE!!"),this.folderCache[n].time=b),s):(R&&(this.logger.info("useCacheData, updating full!"),this.populatedFolder[n]=this.fileData[n].popFolder,this.counts=this.folderData[n].counts,this.logger.info("useCacheData, updating full - DONE!!"),this.folderCache[n].time=b),R)}return o=!this.mainCache[0].dirty&&this.mainCache[0].path===C,o}setCacheNotDirty(C){if(C===this.videoPath)this.mainCache[0].dirty=!1;else{const l=this.folderCache.findIndex(o=>o.path===C);-1!==l&&(this.folderCache[l].dirty=!1)}}setCacheLoadedPartial(C){const l=this.folderCache.findIndex(o=>o.path===C);-1!==l&&(this.folderCache[l].loaded=E.Partial,this.folderData[l]={files:this.files,directories:this.directories,counts:this.counts})}setCacheLoaded(C){const l=this.folderCache.findIndex(o=>o.path===C);-1!==l&&(this.folderCache[l].loaded=E.Full,this.fileData[l]={popFolder:this.populatedFolder[l]})}setFileCounts(C,l){const o=this.folderCache.findIndex(n=>n.path===l);-1!==o?this.folderData[o].counts=C:this.logger.error("Could not find cache entry")}getVideoPathCRC(){return this.logger.info("Getting video path CRC: ",this.videoPath),this.getGalleryFolderCRC(this.videoPath).pipe((0,f.U)(C=>{const l=this.mainCache[0].crc!==C.crc;return this.mainCache[0]={dirty:l,crc:C.crc,path:this.videoPath},l}),(0,x.K)(C=>(this.logger.info("getVideoPathCRC error: ",C),(0,L.of)(!0))))}getCachedDataCRC(C){return void 0===C&&(this.logger.info("getCachedDataCRC: input undefined will use video path"),C=this.videoPath),C===this.videoPath?this.getVideoPathCRC():this.getGalleryFolderCRC(C).pipe((0,S.zg)(l=>{let o=-1;if(o=this.folderCache.findIndex(I=>I.path===C),-1===o&&(o=this.folderCache.findIndex(I=>0===I.crc)),-1===o){let I=2147483647;for(let q=0;q<this.cacheEntries;q++)this.folderCache[q].dirty&&this.folderCache[q].age<I&&(o=q,I=this.folderCache[q].age)}if(-1===o){let I=2147483647;for(let q=0;q<this.cacheEntries;q++)this.folderCache[q].age<I&&(o=q,I=this.folderCache[q].age)}o>=this.cacheEntries&&(this.logger.error("folder cache has bad indexing! ",o),o=0),this.logger.info("Using index: "+o);const n=this.folderCache[o].crc!==l.crc,R=n||this.folderCache[o].loaded===E.Empty;this.ageCounter++;const b=(new Date).getTime();return this.folderCache[o]={dirty:R,crc:l.crc,path:C,age:this.ageCounter,time:b,loaded:n?E.Empty:this.folderCache[o].loaded},this.cacheTimerOn(),(0,L.of)(!0)}),(0,x.K)(l=>(this.logger.info("getCachedDataCRC error: ",l),(0,L.of)(!1))))}getGalleryFolderCRC(C){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.GetFolderCRC,{directory:C})}getDirectoryListCRC(){return this.getVideoPathCRC().pipe((0,u.b)(C=>{this.directoryListOutdated=C}))}getNewDirectoryList(){return this.directoryListOutdated?(this.directoryList.length=0,this.directoryListUpdateCounts=!0,this.bridgeService.executeCommand(e.Gh.Common.Gallery.GetFolderListing,{directory:this.videoPath,shouldGetOnlyNv:!0,excludeDirectoryType:e.Yk.Common.Gallery.ExcludeDirectoryType.empty}).pipe((0,f.U)(l=>(this.setDirectoryList(l.directories),this.logger.info("New Directories: ",this.directoryList),this.directoryList)))):(this.logger.info("Current Directories: ",this.directoryList),this.directoryListUpdateCounts=!1,(0,L.of)(this.directoryList))}getDirectoryList(){return this.getDirectoryListCRC().pipe((0,S.zg)(()=>this.getNewDirectoryList()))}setDirectoryList(C){this.directoryList=C.slice(),this.directoryListOutdated=!1}updateDirectoryList(C){if(this.directoryList.length){let l=C.lastIndexOf(this.dirSeparator);const o=C.substr(0,l);l=o.lastIndexOf(this.dirSeparator)+1;const n=o.substr(l);this.directoryList.find(s=>s===n)||this.flushDirectoryList()}}flushDirectoryList(){this.directoryListOutdated=!0}}return(p=V).\u0275fac=function(C){return new(C||p)(g.LFG(h.ed),g.LFG(O.H),g.LFG(h.dF))},p.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},24403:(Dt,ct,t)=>{"use strict";t.d(ct,{M:()=>S});var e=t(9681),i=t(51907),L=t(61699),f=t(17401),x=t(59074);let S=(()=>{var u;class g{constructor(O,E){this.dialog=O,this.snackbar=E}openAlertDialog(O,E=!0){const p=this.dialog.open(i.Qr,{panelClass:["nv-hig","nv-oogg"],disableClose:E,autoFocus:!1,data:O});return(0,e.of)(p)}openSnackBar(O,E="",w=5e3){return this.snackbar.open(O,E,{duration:w,horizontalPosition:"left",panelClass:["nv-hig","nv-oogg"]})}closeSnackBar(){this.snackbar.dismiss()}}return(u=g).\u0275fac=function(O){return new(O||u)(L.LFG(f.uw),L.LFG(x.pl))},u.\u0275prov=L.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),g})()},82932:(Dt,ct,t)=>{"use strict";t.d(ct,{rj:()=>U});var e=t(70462),i=t(32484),L=t(9681),f=t(73992),x=t(56293),S=t(64555),u=t(30502),g=t(22413),h=t(87965),O=t(15746),E=t(47422),w=t(19979),p=t(55617),V=t(17627),c=t(58175),C=t(99901),l=t(81171),o=t(85046),n=t(78943),s=t(9771),R=t(51907),_=t(21120),b=t(58540),q=t(61699),a=t(13963),y=t(51902),M=t(77446),P=t(43559),K=t(24403),B=t(26575),j=t(89857);let U=(()=>{var z;class Q{get fileDataChangeListener(){return this.currentFileData$.asObservable()}get currentFileData(){return this.currentFileData$.getValue()}set currentFileData(X){this.logger.info("Updating metadata"),this.currentFileData$.next(X)}get filesSelectedDataChangeListener(){return this.currentSelectedFilesData$.asObservable()}get currentSelectedFilesData(){return this.currentSelectedFilesData$.getValue()}set currentSelectedFilesData(X){this.currentSelectedFilesData$.next(X)}listenForFilteredDataChange(){return this.filteredData$.asObservable()}listenForTrackerEvents(){return this.trackerCallback$.asObservable()}listenForEmptyStateChanged(){return this.emptyStateChanged$.asObservable()}listenForDeleteCompletion(){return this.deleteCompleted$.asObservable()}constructor(X,m,Y,D,N,Z,W,A,d){this.bridgeService=m,this.osService=Y,this.dbService=D,this.cacheService=N,this.translateService=Z,this.dialogHelper=W,this.datePipe=A,this.telemetryService=d,this.testMode=!1,this.dbStorageName="OoggData",this.sortKey="Sort",this.videoPath="",this.thumbWidth=s.dz.width,this.thumbHeight=s.dz.height,this.directories=[],this.workingFolder="",this.montageMode=!1,this.currentFileData$=new e.X(null),this.currentSelectedFilesData$=new e.X([]),this.allItems=[],this.modifiedItems=[],this.filteredItems=[],this.galleryDataIsInitialized=!1,this.trimInProgess=s.k7.off,this.activeFilter=0,this.fileCounts=new s.uc,this.topLevelCounts=[],this.trackerReady=!1,this.sortType=s.ER.newest,this.noDataExists=!1,this.montageAvailable=!0,this.filterInit=!1,this.gameItems=[],this.mediaItems=[],this.highlightItems=[],this.globalHighlightCount=0,this.activityItems=[],this.activityEvents=[],this.activityVolume=100,this.trackerCallback$=new i.xQ,this.filteredData$=new i.xQ,this.emptyStateChanged$=new e.X(!1),this.deleteCompleted$=new i.xQ,this.logger=X.getLogger("GalleryService")}init(){return this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName),this.getSortKey().subscribe(X=>{void 0!==X&&(this.sortType=X)}),this.bridgeService.executeCommand(n.Gh.Common.Applicationcontrol.IsCefGpuModeSupported).subscribe(X=>{this.logger.info("IsGpuModeSupported (Montage supported): ",X),this.montageAvailable=X}),this.bridgeService.executeCommand(n.Gh.Common.Gallery.GalleryNotifications).subscribe(X=>this.galleryEvent(X)),this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetSettings).pipe((0,h.zg)(X=>(X&&X.settings&&X.settings.trackerStatus&&(this.trackerReady=X.settings.trackerStatus===n.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete),X&&X.settings&&X.settings.path?this.initPathItems(X.settings.path):(0,L.of)())))}hasAnyEntries(){if(this.topLevelCounts.length>0){let X=0;return this.topLevelCounts.forEach(m=>{X+=m.totalCount}),console.log("gallery entries: ",X),X>0}return!1}setMontageMode(X){this.montageMode=X}getMontageMode(){return this.montageMode}initPathItems(X){return this.videoPath=X,this.logger.info("Recording Path: ",this.videoPath),this.cacheService.setRecordingPaths(this.videoPath),(0,L.of)(null)}initGalleryData(){return this.galleryDataIsInitialized?(this.logger.info("Gallery Initialization skipped!"),(0,L.of)(!0)):this.isTrackerReady().pipe((0,h.zg)(()=>this.getFolders()),(0,h.zg)(()=>this.getAllData()),(0,O.b)(()=>(this.galleryDataIsInitialized=!0,(0,L.of)(!0))))}isTrackerReady(){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetSettings).pipe((0,E.U)(X=>{if(X&&X.settings&&X.settings.trackerStatus&&(this.trackerReady=X.settings.trackerStatus===n.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete),!this.trackerReady)throw new Error("Tracker not ready");return this.trackerReady}),(0,w.a)(X=>X.pipe((0,O.b)(()=>this.logger.info("Retrying isTrackerReady")),(0,p.g)(300))))}getGalleryData(){return this.filteredItems}getISOTime(X,m){const Y=b.duration(m),D=b(X,b.ISO_8601);return D.add(Y),D}fillActivityFeed(X){return this.logger.info("EdgeData: ",X),this.activityItems.length=0,X.recents.forEach((m,Y)=>{this.activityItems.push({identity:Y,gameName:"",session:0,playStarted:m.startTime,playTime:m.endTime,startTime:"00:00:00.0",endTime:m.endTime,mapFileName:"",events:m.events,rounds:m.rounds,metaData:[]})}),this.activityItems}populateActivityFeed(){const X=this.getGalleryData().slice(),m=[];X.sort((Z,W)=>new Date(Z.date).getTime()-new Date(W.date).getTime());const Y=this.translateService.instant("montage.Montage");let D=0;this.activityItems.forEach(Z=>{const W=b(Z.playStarted,b.ISO_8601),A=this.getISOTime(W,Z.playTime);this.activityEvents=Z.events,Z.events=[],Z.rounds&&(D=0),m.length=0,X.forEach(d=>{d.folder!==Y&&b(""===d.eventTimeStamp?d.date:d.eventTimeStamp,b.ISO_8601).isBetween(W,A)&&m.push(d)}),m.sort((d,H)=>{const J=""===H.eventTimeStamp?H.date:H.eventTimeStamp;return b(""===d.eventTimeStamp?d.date:d.eventTimeStamp).diff(b(J))}),m.forEach(d=>{this.logger.info("Capture Data to map: "+d.file.name+" hlName: "+d.hlName+" eventTime: "+d.eventTimeStamp+" dateTime: "+d.date)}),m.forEach((d,H)=>{Z.metaData.push(d),""===Z.gameName&&(Z.gameName=d.folder,Z.session=d.session),"Map"===d.hlDefinitionId&&""===Z.mapFileName&&(Z.mapFileName=d.fullFilename);const $="video"===d.file.type&&("InstantReplay"===d.file.subtype||"Manual"===d.file.subtype),J="image"===d.file.type&&"Highlight"!==d.file.subtype;if("Highlight"===d.file.subtype){const lt=b(d.eventTimeStamp);this.logger.info("UGC item time: ",lt.toISOString());let gt=!1;this.activityEvents.forEach((vt,k)=>{if(!gt&&"sessionStarted"!==vt.name&&"sessionEnded"!==vt.name){const pt=this.getISOTime(W,vt.time);this.logger.info("Activity entry index: "+k+" time: "+vt.time+" true time: "+pt.toISOString()),lt.toISOString()===pt.toISOString()&&(this.activityEvents[k].name=d.hlName,Z.events.push(this.activityEvents[k]),this.logger.info("Type3 Event: ",this.activityEvents[k]),gt=!0)}}),gt||this.logger.error("Could not match Highlight to log event! TimeStamp: ",lt)}else if($||J){this.logger.info(($?"Type1: IR or MR: ":"Type2: Screenshot: ")+d.hlName+" index: "+H);const gt=""===d.eventTimeStamp?d.date:d.eventTimeStamp;""===gt&&this.logger.info("TimeStamp missing for: ",d.file.name);const vt=b.utc(b(gt).diff(b(W))).format("HH:mm:ss.SSS");this.logger.info("Duration: ",vt);let k=0;if(Z.rounds&&Z.rounds.length>0){let yt=!1;Z.rounds.forEach(Xt=>{const It=this.getISOTime(W,Xt.time),Nt=b(gt,b.ISO_8601);!yt&&Nt.isBetween(W,It)&&(k=Xt.number-1,yt=!0)})}const pt={time:vt,name:$?d.file.subtype:"Screenshot",info:"",round:k};Z.events.push(pt),this.logger.info("Type1/2 Event: ",pt)}})});for(let Z=this.activityItems.length-1;Z>=0;Z--)""===this.activityItems[Z].gameName?(this.logger.info("Removing Activity, Not populated: ",this.activityItems[Z]),this.activityItems.splice(Z,1)):0===this.activityItems[Z].events.length&&(this.logger.info("Removing Activity, No events present ",this.activityItems[Z]),this.activityItems.splice(Z,1));return this.sortFilteredActivity(this.sortType),this.logger.info("Number of Activity Cards: ",this.activityItems.length),this.logger.info("Activity Data: ",this.activityItems),this.activityItems}getActivityData(){return this.testMode?this.getActivityFeedDataTest():this.getActivityFeedData()}getActivityFeedData(){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetEventData).pipe((0,E.U)(X=>X.recents&&0!==X.recents.length?(this.fillActivityFeed(X),this.populateActivityFeed(),this.logger.info("Executed the bridge call to get activity data"),this.activityItems):null))}getActivityFeedDataTest(){const X=this.getGalleryData(),m=this.translateService.instant("montage.Montage");this.activityItems.length=0;let Y=0;return X.forEach((N,Z)=>{N.folder===m||0!==this.activityItems.length&&this.activityItems.find(W=>W.gameName===N.folder)||(this.activityItems.push({identity:Z,gameName:N.folder,session:0,playStarted:"2020-12-09T03:30:00."+Y,playTime:"",startTime:"00:00:00.0",endTime:"",mapFileName:"",events:[],rounds:[],metaData:[]}),Y++)}),this.activityItems.forEach((N,Z)=>{let A=0,d=10,H=0,$=0,J=10,st=0;X.forEach(It=>{if(It.folder===N.gameName){It.session=N.session,N.metaData.push(It),"Map"===It.hlDefinitionId&&""===N.mapFileName&&(N.mapFileName=It.fullFilename);const Nt=A.toString()+":"+d.toString()+":00.000";let le;if("video"===It.file.type&&(le=It.file.subtype,"Highlight"===le)){const Vt=It.hlName,ut=`highlightLabels.${Vt}`;le=this.translateService.instant(ut),le===ut&&(le=Vt)}N.events.push({time:Nt,name:"image"===It.file.type?"Screenshot":le,round:-1,info:""}),$=A,J=d,st=H,d+=10,60===d&&(d=0,A+=1,H+=0)}}),this.activityItems[Z].endTime=$.toString()+":"+J.toString()+":00.000",this.activityItems[Z].playTime=$>0?$.toString()+":"+J.toString()+":00.000":J>0?"00:"+J.toString()+":00.000":"00:00:"+st.toString();let lt=0,gt=0,vt=0,pt=1;const yt=N.events.length-1,Xt=N.events.length>6;N.events.forEach((It,Nt)=>{It.round=pt-1,!Xt||5!==vt&&Nt!==yt?vt++:(lt+=Math.floor(10*Math.random()),gt+=Math.floor(10*Math.random()),N.rounds.push({number:pt,time:It.time,score1:lt,score2:gt}),pt++,vt=0)})}),this.logger.info("Number of Activity Cards: ",this.activityItems.length),this.logger.info("Activity Data: ",this.activityItems),(0,L.of)(this.activityItems)}getActivityItem(X,m,Y,D){let N;return this.logger.info("Activity Game: "+X+" Session: "+Y+" File: "+m),this.activityItems.forEach(Z=>{if(Z.gameName===X&&Z.session===Y){const W=Z.metaData.length-1;Z.metaData.forEach((A,d)=>{if(A.fullFilename===m){let H=0;H=D?d<W?d+1:0:0===d?W:d-1,N=Z.metaData[H]}})}}),N||this.logger.error("Could not find next item!"),N}buildPath(X){return""===X?this.videoPath:this.videoPath+this.dirSeparator+X}setWorkingFolder(X){const m=this.buildPath(X);return this.cacheService.getCachedDataCRC(m).pipe((0,h.zg)(Y=>this.getUsableData(X)),(0,h.zg)(Y=>(this.cacheService.useCacheData(m,!1),(0,L.of)(this.cacheService.files.length))))}getWorkingFolder(){return""!==this.workingFolder&&this.directories.length&&(this.directories.find(m=>m===this.workingFolder)||(this.workingFolder="")),""===this.workingFolder&&this.directories.length&&(this.workingFolder=this.directories[0]),this.workingFolder}getVideoFolder(){return this.videoPath}saveCurrentLocation(X){this.currentLocation=X}getCurrentLocation(){return this.currentLocation}setGalleryThumbSize(X,m){this.thumbWidth=X,this.thumbHeight=m}populateDirectoryStats(){if(this.directories.length>0&&this.cacheService.directoryListUpdateCounts){this.topLevelCounts=[];const X=[];return this.directories.forEach(m=>{X.push(this.getAppStats(m))}),(0,f.$R)(...X).pipe((0,E.U)(()=>this.directories))}return(0,L.of)(this.directories)}getFolders(){return this.cacheService.getDirectoryList().pipe((0,h.zg)(X=>(this.directories=X,this.populateDirectoryStats())))}showFolderContents(X){return""===X?""===this.workingFolder?this.workingFolder=X=this.directories[0]:X=this.workingFolder:this.workingFolder=X,this.logger.info("Working Folder: ",this.workingFolder),this.setWorkingFolder(X).pipe((0,E.U)(()=>this.cacheService.getCurrentPopFolder()))}getAllItemsCount(){return this.allItems.length}unselectAllItems(){this.allItems.forEach(X=>X.selected=!1),this.filteredItems.forEach(X=>X.selected=!1)}getUsableData(X){this.logger.info("GetUsableData Dir: ",X);const m=this.buildPath(X);if(this.cacheService.useCacheData(m,!0))return this.logger.info("GetUsableData - Using cached data"),this.fileCounts=this.cacheService.counts,(0,L.of)(!0);const Y=[];return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetAppUGC,{appName:X}).pipe((0,E.U)(D=>{this.cacheService.resetCurrentPopFolder();const N=[],Z=this.cacheService.getCurrentPopFolder();let W=0,A=0,d=0,H=0,$=0;return D.ugc&&D.ugc.forEach((J,st)=>{A+=J.fileSubType===n.Yk.Common.Gallery.SubType.InstantReplay?1:0,W+=J.fileSubType===n.Yk.Common.Gallery.SubType.Manual?1:0,J.fileType===n.Yk.Common.Gallery.FileType.video&&J.fileSubType!==n.Yk.Common.Gallery.SubType.InstantReplay&&J.fileSubType!==n.Yk.Common.Gallery.SubType.Manual&&J.fileSubType!==n.Yk.Common.Gallery.SubType.Montage&&J.fileSubType!==n.Yk.Common.Gallery.SubType.Highlight&&(W+=1),d+=J.fileType===n.Yk.Common.Gallery.FileType.image?1:0,H+=J.fileSubType===n.Yk.Common.Gallery.SubType.Highlight?1:0,$+=J.fileSubType===n.Yk.Common.Gallery.SubType.Montage?1:0;const lt=J.path.lastIndexOf(this.dirSeparator),vt={name:J.path.substr(lt+1),type:J.fileType,subtype:J.fileSubType,source:J.fileSource,drsProfileName:J.DRSProfileName,thumbnail:""};N.push(vt);const k={fullFilename:J.path,selected:!1,file:vt,folder:X,cmsId:J.cmsId,index:st,duration:J.duration,msDuration:J.msDuration,date:J.date,fileSize:J.fileSizeKB.toString(),audiotype:J.audiotype,hlName:""!==J.highlightName?J.highlightName:J.highlightDefinitionId,hlDefinitionId:J.highlightDefinitionId,hlId:J.id,hlGroup:J.highlightGroupId,cancel:!1,eventTimeStamp:J.eventTimeStamp,data:null,errorType:null,errorDetails:null};Z.push(k),Y.some(pt=>{if(pt.name===J.highlightName)return pt.count++,!0})}),this.cacheService.files=N,this.cacheService.setCacheLoadedPartial(m),this.logger.info("Files: "+D.ugc.length+" Highlights : "+H+" Recordings: "+W+" IR: "+A+" Images: "+d+" Montages: "+$),this.fileCounts={total:D.ugc.length,highlights:H,videos:W,instantReplays:A,images:d,montages:$,highlightBreakDown:Y},!0}))}getAppStats(X){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetAppStats,{appName:X}).pipe((0,E.U)(Y=>{this.logger.info("App Stats: "+X+" SS: "+Y.screenshots+" V: "+Y.videos);const D=this.topLevelCounts.findIndex(N=>N.folder===X);return D>=0?this.topLevelCounts[D].totalCount=Y.screenshots+Y.videos:this.topLevelCounts.push({folder:X,totalCount:Y.screenshots+Y.videos}),Y}))}getMetaData(X,m=!0){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetFileMetadata,{file:X,width:m?this.thumbWidth:void 0,height:m?this.thumbHeight:void 0})}getImageFileDimensions(X){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetImageFileDimensions,{file:X})}getFileData(X,m){return this.getMetaData(X.fullFilename,m).pipe((0,V.P)(),(0,E.U)(Y=>(X.audiotype=void 0===Y.audiotype?s.$K.Unknown:Y.audiotype,X.duration=void 0===Y.duration?"":Y.duration,X.memeTop=Y.memeInfo?Y.memeInfo.topBarText:"",X.memeBottom=Y.memeInfo?Y.memeInfo.bottomBarText:"",X.data=void 0===Y.thumbnail?null:Y.thumbnail,X)),(0,c.K)(Y=>(this.logger.error("GetMetaData failed: ",Y),(0,L.of)(void 0))))}fillInFileData(X){return this.getFileData(X,!0)}removeItem(X){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.RemoveGalleryItem,{file:X,forceDelete:!1}).pipe((0,h.zg)(Y=>{const D=X.lastIndexOf(this.dirSeparator),N=X.substr(D+1,X.length-1);return this.logger.info("File deleted: ",N),this.checkIfThereIsNoData(),(0,L.of)(!0)}),(0,c.K)(Y=>(this.logger.info("File remove failed: ",Y),(0,L.of)(!1))))}getThumbnailForFile(X,m=70,Y=70){return this.bridgeService.executeCommand(n.Gh.Common.Gallery.GetThumbnail,{file:X,width:m,height:Y}).pipe((0,E.U)(N=>N.thumbnail))}getCurrentDropdownCount(X){return this.getAppStats(X).pipe((0,E.U)(m=>{const Y=this.topLevelCounts.findIndex(D=>D.folder===X);return-1!==Y?(this.topLevelCounts[Y].totalCount=m.screenshots+m.videos,this.topLevelCounts[Y].totalCount):0}))}updateFolderSync(X,m){return new x.y(Y=>{this.updateFolder(X,m).subscribe(()=>{Y.next(),Y.complete(),this.logger.info("Complete")})})}updateFolder(X,m){let Y={};if(m===s.Sc.Highlights)Y={userGalleryPath:X};else if(m===s.Sc.Temporary){const N=X.lastIndexOf(this.dirSeparator),Z=X.length-1;N===Z&&(X=X.slice(0,Z)),Y={tempFolderPath:X}}return this.bridgeService.executeCommand(n.Gh.Common.Gallery.SetSettings,{settings:Y}).pipe((0,E.U)(()=>!0),(0,C.h)(!0))}galleryEvent(X){if(X)if(X.captureSaved)this.logger.info("Gallery event: CaptureSaved"),this.eventCaptureSaved(X);else if(X.ugcDeleted)this.logger.info("Gallery event: UgcDeleted"),this.eventUGCDeleted(X);else if(X.galleryPathUpdateStatus){switch(this.logger.info("Gallery event UpdateStatus: ",X.galleryPathUpdateStatus.status),X.galleryPathUpdateStatus.status){case n.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateInProgress:this.trackerReady=!1;break;case n.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete:case n.Yk.Common.Gallery.GalleryPathUpdateStatus.CancelUpdateComplete:this.trackerReady=!0}this.trackerCallback$.next({trackerEvent:X.galleryPathUpdateStatus.status})}else this.logger.info("Unknown or unhandled Event Type: ",X);else this.logger.info("Event: undefined or null")}eventCaptureSaved(X){if(this.allItems&&this.allItems.find(A=>A.fullFilename===X.captureSaved.ugc.path))return void this.logger.info("Extraneous capture event received!");this.cacheService.updateDirectoryList(X.captureSaved.ugc.path);const m=X.captureSaved.ugc,Y=m.path.lastIndexOf(this.dirSeparator),D=m.path.slice(Y+1),N={fullFilename:m.path,selected:!1,file:{name:D,type:m.fileType,subtype:m.fileSubType,source:m.fileSource,drsProfileName:m.DRSProfileName,thumbnail:""},folder:m.DRSProfileName,cmsId:m.cmsId,index:0,duration:m.duration,msDuration:m.msDuration,date:m.date,fileSize:m.fileSizeKB.toString(),audiotype:m.audiotype,hlName:""!==m.highlightName?m.highlightName:m.highlightDefinitionId,hlDefinitionId:m.highlightDefinitionId,hlId:-1,hlGroup:m.highlightGroupId,cancel:!1,eventTimeStamp:m.eventTimeStamp,data:"",errorType:"",errorDetails:""};this.logger.info("New UGC Data: ",N);const Z=this.allItems.length===this.filteredItems.length;let W;switch(this.allItems.unshift(N),this.checkIfThereIsNoData(),this.filterAll(Z),this.trimInProgess){case s.k7.off:W=_.ryx.Add;break;case s.k7.toNew:W=_.ryx.TrimNew;break;case s.k7.inPlace:W=_.ryx.TrimReplace}this.galleryCaptureAction(W,m)}eventUGCDeleted(X){const m=X.ugcDeleted.ugc,Y=m.path,D=this.allItems.find(Z=>Z.fullFilename===Y),N=this.allItems.length===this.filteredItems.length;this.arrayDeleteFile(D,this.allItems),this.filterAll(N),this.checkIfThereIsNoData(),this.galleryCaptureAction(_.ryx.Delete,m),this.deleteCompleted$.next(!0)}checkIfThereIsNoData(){this.noDataExists!==(0===this.allItems.length)&&(this.noDataExists=!this.allItems.length,this.emptyStateChanged$.next(this.noDataExists))}getNextFile(){const X=this.filteredItems.findIndex(Y=>Y.fullFilename===this.currentFileData.fullFilename);this.currentFileData=this.filteredItems[X===this.filteredItems.length-1?0:X+1],this.galleryViewAction(_.ryx.Preview,this.currentFileData)}getPreviousFile(){const X=this.filteredItems.findIndex(Y=>Y.fullFilename===this.currentFileData.fullFilename);this.currentFileData=this.filteredItems[0===X?this.filteredItems.length-1:X-1],this.galleryViewAction(_.ryx.Preview,this.currentFileData)}generateGalleryFilename(X,m,Y=new Date){return`${this.videoPath}${this.dirSeparator}${X}${this.dirSeparator}${X} ${this.datePipe.transform(Y,"yyyy.MM.dd - HH.mm.ss.SS")}.${m}`}generateTempFilename(X,m,Y,D=new Date){return X[X.length-1]===this.dirSeparator&&(X=X.slice(0,X.length-1)),`${X}${this.dirSeparator}${m} ${this.datePipe.transform(D,"yyyy.MM.dd - HH.mm.ss.SS")}.${Y}`}showDeleteSnackbar(X){let m=!0;const Y=X.length,D=1===Y?"confirmation.deletedTitle":"confirmation.deletedTitleMulti";return X.length<=0?(0,L.of)(!1):new x.y(W=>{(0,S.aj)([this.translateService.get(D,{arg:Y}),this.translateService.get("confirmation.undo")]).pipe((0,h.zg)(([A,d])=>{const H=this.dialogHelper.openSnackBar(A,d);return H.onAction().subscribe(()=>{m=!1}),H.afterDismissed()}),(0,h.zg)(()=>(m&&this.galleryDeleteCountEvent(X.length),(0,L.of)(!0))),(0,h.zg)(()=>(0,u.D)(X)),(0,h.zg)(A=>m?this.removeItem(A.fullFilename):(0,L.of)(!1)),(0,l.Z)()).subscribe(A=>{W.next(A),W.complete()})})}getFolderContents(X){return this.setWorkingFolder(X).pipe((0,E.U)(()=>this.cacheService.getCurrentPopFolder()))}getAllData(){const X=this.cacheService.directoryList,m=[];return this.allItems.length=0,0===X.length?(this.checkIfThereIsNoData(),(0,L.of)([])):(X.forEach(Y=>{m.push(this.getFolderContents(Y))}),(0,g.z)(...m).pipe((0,E.U)(Y=>{Y.forEach(D=>{this.allItems.push(D)})}),(0,l.Z)(),(0,E.U)(()=>this.filterAll(!0))))}deleteItems(X){if(this.logger.info("Remove clicked"),0===X.length)return void this.logger.info("no selected item");const m=X.length>1,Z={title:m?"confirmation.confirmDeleteTitleMulti":"confirmation.confirmDeleteTitle",query:m?"confirmation.confirmDeleteMulti":"confirmation.confirmDelete",queryParam:{arg1:m?X.length:"0"},action1:"confirmation.NotRightNow",action2:"confirmation.remove"};let W=!1;const A=this.filteredItems.slice(),d=this.modifiedItems.slice(),H=this.allItems.slice(),$=()=>{setTimeout(()=>{this.allItems=H,this.modifiedItems=d,this.filteredItems=A,this.filterAll(this.allItems.length===this.filteredItems.length),this.filteredData$.next(this.filteredItems),this.checkIfThereIsNoData(),this.galleryAction(_.DCd.DeleteUndo),this.deleteCompleted$.next(!0)},0)};this.dialogHelper.openAlertDialog(Z).pipe((0,h.zg)(J=>J.afterClosed()),(0,o.h)(J=>J===R.DX.Action2),(0,O.b)(()=>this.deleteCompleted$.next(!0)),(0,h.zg)(()=>(0,u.D)(X)),(0,O.b)(J=>{this.arrayDeleteFile(J,this.filteredItems),this.arrayDeleteFile(J,this.modifiedItems),this.arrayDeleteFile(J,this.allItems),this.filterAll(this.allItems.length===this.filteredItems.length),this.filteredData$.next(this.filteredItems),this.checkIfThereIsNoData()}),(0,l.Z)(),(0,O.b)(()=>this.filteredItems=this.filteredItems.slice()),(0,h.zg)(()=>this.showDeleteSnackbar(X)),(0,O.b)(J=>W=J),(0,o.h)(J=>!0===J),(0,O.b)(()=>{})).subscribe(()=>{},()=>{W||$()},()=>{W||$()})}arrayDeleteFile(X,m){const Y=m.indexOf(X);Y>=0&&m.splice(Y,1)}initializeFilters(){this.initializeGameFilters(),this.initializeMediaFilters(),this.initializeHighlightsFilters(!0)}initializeGameFilters(){this.gameItems.length=0,this.allItems.sort((X,m)=>X.fullFilename.localeCompare(m.fullFilename)),this.allItems.forEach(X=>{this.gameItems.find(m=>m.label===X.folder)||this.gameItems.push({label:X.folder,value:0,filtered:!1,children:null,cmsId:X.cmsId})})}initializeMediaFilters(){const X=n.Yk.Common.Gallery.FileType.video,Y=[{menu:"filter.Highlight",type:X,subtype:n.Yk.Common.Gallery.SubType.Highlight},{menu:"filter.InstantReplay",type:X,subtype:n.Yk.Common.Gallery.SubType.InstantReplay},{menu:"filter.Recording",type:X,subtype:n.Yk.Common.Gallery.SubType.Manual},{menu:"filter.Montage",type:X,subtype:n.Yk.Common.Gallery.SubType.Montage},{menu:"filter.Screenshot",type:n.Yk.Common.Gallery.FileType.image,subtype:n.Yk.Common.Gallery.SubType.Normal}];this.mediaItems.length=0,Y.forEach(D=>{this.mediaItems.push({label:D.menu,type:D.type,subtype:D.subtype,value:0,filtered:!1,children:null})})}tryTranslateHighlightLabel(X){const m=`highlightLabels.${X}`;let Y=this.translateService.instant(m);return Y===m&&(Y=X),Y}initializeHighlightsFilters(X){X&&(this.highlightItems.length=0),this.allItems.forEach(m=>{const Y=this.tryTranslateHighlightLabel(m.hlName);this.highlightItems.find(D=>D.label===Y)||""!==m.hlName&&this.highlightItems.push({label:Y,value:0,filtered:!1,children:null,hlDefId:m.hlDefinitionId})}),this.globalHighlightCount=this.highlightItems.length}filterAll(X){return X&&(this.initializeFilters(),this.filterInit=!0),this.modifiedItems=this.allItems.slice(),this.filterBasedOnGames(),this.modifiedItems=this.filteredItems.slice(),this.filterBasedOnMedia(),this.modifiedItems=this.filteredItems.slice(),this.filterBasedOnHighlight(),this.filterInit&&(this.filterInit=!1),this.sortFilteredData(this.sortType,!1),this.filteredItems}filterBasedOnGames(){this.filteredItems.length=0;let X=!0;return this.gameItems.forEach(m=>{m.filtered&&(X=!1),m.value=0}),this.modifiedItems.forEach(m=>{const Y=this.gameItems.find(D=>D.label===m.folder);Y&&((X||Y||this.filterInit)&&Y.value++,(X||Y.filtered)&&this.filteredItems.push(m))}),this.filteredItems}filterBasedOnMedia(){this.filteredItems.length=0;let X=!0;return this.mediaItems.forEach(m=>{m.filtered&&(X=!1),m.value=0}),this.modifiedItems.forEach(m=>{let Y=this.mediaItems.find(D=>D.type===m.file.type&&D.subtype===m.file.subtype);Y||m.file.type===n.Yk.Common.Gallery.FileType.video&&m.file.subtype===n.Yk.Common.Gallery.SubType.Normal&&(Y=this.mediaItems.find(D=>D.subtype===n.Yk.Common.Gallery.SubType.Manual)),Y||m.file.type===n.Yk.Common.Gallery.FileType.image&&m.file.subtype===n.Yk.Common.Gallery.SubType.Highlight&&(Y=this.mediaItems.find(D=>D.subtype===n.Yk.Common.Gallery.SubType.Highlight)),Y||m.file.type===n.Yk.Common.Gallery.FileType.image&&(m.file.subtype===n.Yk.Common.Gallery.SubType.Normal_Ansel||m.file.subtype===n.Yk.Common.Gallery.SubType.SuperResolution||m.file.subtype===n.Yk.Common.Gallery.SubType.SuperResolution_Oversized||m.file.subtype===n.Yk.Common.Gallery.SubType.SubType_360Mono||m.file.subtype===n.Yk.Common.Gallery.SubType.Stereo||m.file.subtype===n.Yk.Common.Gallery.SubType.SubType_360Stereo)&&(Y=this.mediaItems.find(D=>D.type===n.Yk.Common.Gallery.FileType.image)),Y?((X||Y||this.filterInit)&&Y.value++,(X||Y.filtered)&&this.filteredItems.push(m)):this.logger.warn("An unknown type was encountered, Type: "+m.file.type+" SubType: "+m.file.subtype+" File: "+m.file.name)}),this.filteredItems}filterBasedOnHighlight(){const X=this.highlightItems.slice();this.initializeHighlightsFilters(!1);const m=this.highlightItems.filter(D=>this.modifiedItems.find(N=>this.tryTranslateHighlightLabel(N.hlName)===D.label));this.highlightItems=m.slice();let Y=!0;return this.highlightItems.forEach(D=>{const N=X.findIndex(Z=>D.label===Z.label);N>=0&&(D.filtered=X[N].filtered),D.filtered&&(Y=!1),D.value=0}),this.filteredItems.length=0,this.modifiedItems.forEach(D=>{const N=this.tryTranslateHighlightLabel(D.hlName),Z=this.highlightItems.find(W=>W.label===N);(Z||!Z&&Y)&&(Z&&Z.value++,(Y||Z&&Z.filtered)&&this.filteredItems.push(D))}),this.highlightItems.sort((D,N)=>D.label.localeCompare(N.label)),this.filteredItems}gameFilterChanged(X){this.logger.info("Game Filter: ",X);const m=this.gameItems.find(Y=>Y.label===X.label);m&&(m.filtered=X.filtered),this.filterAll(!1),this.galleryFilterEvent(_.NlQ.Game,X.label,X.filtered,X.cmsId)}mediaFilterChanged(X){this.logger.info("Media Filter: ",X);const m=this.mediaItems.find(D=>D.label===X.label);let Y;switch(m&&(m.filtered=X.filtered),this.filterAll(!1),X.type){case"image":Y=s.DW.Screenshot;break;case"video":switch(X.subtype){case"Highlight":Y=s.DW.Highlight;break;case"InstantReplay":Y=s.DW.InstantReplay;break;case"Manual":Y=s.DW.Recording;break;case"Montage":Y=s.DW.Montage}}this.galleryFilterEvent(_.NlQ.Media,Y,X.filtered)}highlightFilterChanged(X){this.logger.info("Highlight Filter: ",X);const m=this.highlightItems.find(Y=>Y.label===X.label);m&&(m.filtered=X.filtered),this.filterAll(!1),this.galleryFilterEvent(_.NlQ.Highlights,X.hlDefId,X.filtered)}sortFilteredData(X,m){X===s.ER.newest?(this.filteredItems.sort((Y,D)=>new Date(D.date).getTime()-new Date(Y.date).getTime()),m&&this.gallerySortEvent(_._LZ.Newest)):X===s.ER.oldest?(this.filteredItems.sort((Y,D)=>new Date(Y.date).getTime()-new Date(D.date).getTime()),m&&this.gallerySortEvent(_._LZ.Oldest)):X===s.ER.atoz?(this.filteredItems.sort((Y,D)=>Y.fullFilename.localeCompare(D.fullFilename)),m&&this.gallerySortEvent(_._LZ.AtoZ)):X===s.ER.ztoa&&(this.filteredItems.sort((Y,D)=>D.fullFilename.localeCompare(Y.fullFilename)),m&&this.gallerySortEvent(_._LZ.ZtoA)),this.sortType!==X&&(this.sortType=X,this.dBStore.setItem(this.sortKey,this.sortType).subscribe(()=>{this.logger.info("Sort Key storage updated")},Y=>{this.logger.error("Error while updating Sort Key storage: ",Y)})),this.sortFilteredActivity(X),this.filteredData$.next(this.filteredItems)}sortFilteredActivity(X){0!==this.activityItems.length&&(X===s.ER.newest?this.activityItems.sort((m,Y)=>new Date(Y.playStarted).getTime()-new Date(m.playStarted).getTime()):X===s.ER.oldest?this.activityItems.sort((m,Y)=>new Date(m.playStarted).getTime()-new Date(Y.playStarted).getTime()):X===s.ER.atoz?this.activityItems.sort((m,Y)=>m.gameName.localeCompare(Y.gameName)):X===s.ER.ztoa&&this.activityItems.sort((m,Y)=>Y.gameName.localeCompare(m.gameName)))}getSortKey(){return this.dBStore.getItem(this.sortKey).pipe((0,E.U)(X=>{if(X)return this.logger.info("Sort Key: ",X),X;this.logger.info("SortType not found in the storage")}),(0,c.K)(X=>(this.logger.error("Could not load SortType from the storage: ",JSON.stringify(X)),(0,L.of)(void 0))))}galleryAction(X){const m={userAction:X};this.logger.info("Telemetry Gallery User Action: ",m),this.telemetryService.push(new _.yOt(m))}getTelemetrySubtype(X){let m;switch(X){case"Highlight":m=_.MsO.Highlight;break;case"Normal":m=_.MsO.Normal;break;case"Manual":m=_.MsO.Manual;break;case"InstantReplay":m=_.MsO.InstantReplay;break;case"Montage":m=_.MsO.Montage;break;default:this.logger.warn("Unknown subtype: ",X),m=_.MsO.Normal}return m}getAge(X){let m=0;const D=void 0!==X&&b(X).isValid()?Date.parse(X):0;return m=Date.now()-D,m}galleryCaptureAction(X,m){let Y=0;X!==_.ryx.Add&&(Y=this.getAge(m.date));const D="video"===m.fileType?_.hAb.Video:_.hAb.Image,N=this.getTelemetrySubtype(m.fileSubType.toString());this.galleryContentEvent({eventType:X,mediaType:D,mediaSubtype:N,game:m.DRSProfileName,cmsId:m.cmsId||-1,filesizeKB:m.fileSizeKB,durationMs:m.msDuration,ageMs:Y,errorType:"",errorDetails:""})}galleryViewAction(X,m){const Y=this.getAge(m.date),Z={eventType:X,mediaType:"video"===m.file.type?_.hAb.Video:_.hAb.Image,mediaSubtype:this.getTelemetrySubtype(m.file.subtype),game:m.file.drsProfileName,cmsId:m.cmsId||-1,filesizeKB:Number(m.fileSize),durationMs:m.msDuration,ageMs:Y,errorType:"",errorDetails:""};this.galleryContentEvent(Z)}galleryContentEvent(X){this.logger.info("Telemetry ContentEventInfo: ",X),this.telemetryService.push(new _.HyT(X))}galleryDeleteCountEvent(X){const m={count:X};this.logger.info("Telemetry Delete count: ",m),this.telemetryService.push(new _.tZp(m))}gallerySortEvent(X){const m={type:X};this.logger.info("Telemetry Gallery Sort: ",m),this.telemetryService.push(new _.DUy(m))}galleryFilterEvent(X,m,Y,D){const N={type:X,item:m,filtered:Y?_.wye.TRUE:_.wye.FALSE,cmsId:void 0!==D?D:0};this.logger.info("Telemetry Gallery Filter: ",N),this.telemetryService.push(new _.AVX(N))}}return(z=Q).\u0275fac=function(X){return new(X||z)(q.LFG(a.ed),q.LFG(a.dF),q.LFG(y.H),q.LFG(a.MC),q.LFG(M.Q),q.LFG(P.sK),q.LFG(K.M),q.LFG(B.uU),q.LFG(j.y0))},z.\u0275prov=q.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),Q})()},64560:(Dt,ct,t)=>{"use strict";t.d(ct,{w:()=>C});var e=t(9681),i=t(56293),L=t(33994),f=t(47422),x=t(58175),S=t(13963),u=t(78943),g=t(21120),h=t(61699),O=t(43559),E=t(89857);let C=(()=>{var l;class o{constructor(s,R,_,b){this.bridgeService=s,this.loggingService=R,this.translateService=_,this.telemetryService=b,this.resList=[],this.title="",this.defaultTitle="",this.subtitle="",this.defaultSubtitle="",this.celebrationIndex=0,this.transitionIndex=0,this.filterIndex=0,this.montageCloudDataValid=!1,this.username=this.translateService.instant("montage.Unknown"),this.processStart=0,this.logger=this.loggingService.getLogger("MontageService"),this.mediaDirectory=""}get mediaDir(){return this.mediaDirectory}set mediaDir(s){this.mediaDirectory=s.slice(-1).match(/[/\\]/)?s:s+"/"}cancelMontage(){const s={userAction:g.bOD.Cancel,timeSinceStart:Date.now()-this.processStart};return this.telemetryService.push(new g.Mbw(s)),this.bridgeService.executeCommand(u.Gh.Common.Gallery.CancelMontage).pipe((0,f.U)(()=>(this.metrics.state=g._cC.Cancel,this.metrics.durationToCreateMs=Date.now()-this.processStart,this.logger.info("Montage Cancel Metrics: ",this.metrics),this.telemetryService.push(new g.DL8(this.metrics)),!0)),(0,x.K)(R=>(this.metrics.errorDetails=JSON.stringify(R),this.logger.error(`Error canceling montage: ${R}`),this.telemetryService.push(new g.DL8(this.metrics)),(0,e.of)(!1))))}init(){return this.logger.info("Initialize"),Promise.resolve(!0)}getMontageCloudData(){return this.bridgeService.executeCommand(u.Gh.Common.Gallery.GetMontageCloudConfig,{}).pipe((0,f.U)(s=>(this.logger.info("Montage Cloud Data: ",s),this.montageCloudData=s,this.montageCloudDataValid=!0,!0),s=>(this.logger.error(`Error fetching montage cloud data. ${s.message}`),!1)),(0,x.K)(s=>(this.logger.error(`Error fetching montage cloud data. ${s.message}`),(0,e.of)(!1))))}initializeMontageMetrics(){this.logger.info("Initialize Montage Session"),this.metrics={state:g._cC.Unknown,numberOfClips:0,numberOfDifferentGames:0,itemsDeleted:0,itemsRearranged:0,titleSequenceChanged:g.wye.FALSE,subtitleSequenceChanged:g.wye.FALSE,averageClipLengthMs:0,lengthOfMontageMs:0,durationToCreateMs:0,celebration:"",mediaTypeCountHighlight:0,mediaTypeCountNormal:0,mediaTypeCountManual:0,mediaTypeCountMontage:0,games:"",errorDetails:""}}updateMetrics(s){this.telemetryService.push(new g.Mbw({userAction:g.bOD.Create,timeSinceStart:0})),this.processStart=Date.now(),this.metrics.numberOfClips=s.length;const _=[];let b=0;this.metrics.mediaTypeCountHighlight=0,this.metrics.mediaTypeCountNormal=0,this.metrics.mediaTypeCountManual=0,this.metrics.mediaTypeCountMontage=0,s.forEach(q=>{switch(void 0===_.find(a=>a===q.cmsId)&&_.push(q.cmsId),b+=q.videoDuration,q.mediaType){case g.MsO.Highlight:this.metrics.mediaTypeCountHighlight++;break;case g.MsO.Normal:this.metrics.mediaTypeCountNormal++;break;case g.MsO.Manual:this.metrics.mediaTypeCountManual++;break;case g.MsO.Montage:this.metrics.mediaTypeCountMontage++}});const I=_.length-1;this.metrics.games="",_.forEach((q,a)=>{this.metrics.games+=(q="0"===q?"-1":q)+(a!==I?",":"")}),this.metrics.numberOfDifferentGames=_.length,this.metrics.averageClipLengthMs=Math.round(b/this.metrics.numberOfClips),this.metrics.celebration=this.getCelebration()}montageComplete(s){this.metrics.lengthOfMontageMs=s,this.logger.info("Telemetry Montage Metrics: ",this.metrics),this.telemetryService.push(new g.DL8(this.metrics))}getCelebration(){var s;return(null===(s=this.montageCloudData)||void 0===s||null===(s=s.montageConfig)||void 0===s||null===(s=s.celebrations)||void 0===s?void 0:s.length)>0?this.montageCloudData.montageConfig.celebrations[this.celebrationIndex].id:"none"}getVideoDimensionsOf(s){return new i.y(R=>{const _=document.createElement("video");_.addEventListener("loadedmetadata",()=>{this.resList.push({filename:s,resolution:{width:_.videoWidth,height:_.videoHeight}}),_.src="",R.next(!0),R.complete()},!1),_.src=S.qR+s})}launchMontageRecipe(s,R,_,b){return this.logger.info("Montage Inputs: ",s),this.logger.info("Montage Story : ",R),this.logger.info("Montage Recipe: ",_),this.logger.info("Montage Output: ",b),this.bridgeService.executeCommand(u.Gh.Common.Gallery.CreateMontageFromRecipe,{inputs:s,storyboard:R,recipe:_,output:b}).pipe((0,x.K)(I=>(this.logger.info("CreateMontage Error1: ",I),this.metrics.state=g._cC.Failure,this.metrics.errorDetails=JSON.stringify(I),this.telemetryService.push(new g.DL8(this.metrics)),(0,L._)(I))),(0,f.U)(()=>(this.logger.info("CreateMontage Success!"),this.metrics.state=g._cC.Create,this.metrics.durationToCreateMs=Date.now()-this.processStart,b),I=>(this.logger.info("CreateMontage Error2: ",I),this.metrics.state=g._cC.Failure,this.metrics.errorDetails=JSON.stringify(I),this.telemetryService.push(new g.DL8(this.metrics)),(0,L._)(I))))}createMontageFromRecipe(s,R,_){this.updateMetrics(s);const b=[];for(const y of s){const M=this.resList.find(P=>P.filename===y.video);b.push({details:{path:y.video,duration:y.videoDuration,width:M.resolution.width,height:M.resolution.height,highlightType:y.highlightName,filter:this.montageCloudData.montageConfig.filters[this.filterIndex].id,source:{app:"Source app string here",method:"Source method string here"},transition:{kind:this.montageCloudData.montageConfig.transitions[this.transitionIndex].id,speed:1},cmsid:y.cmsId},inputFileType:u.Yk.Common.Gallery.InputFileType.video,edgeLog:y.edgeLog})}const I=""!==this.title?this.title:this.translateService.instant("montage.BestGamingMoments"),q=""!==this.subtitle?this.subtitle:this.translateService.instant("montage.ByUsername",{arg:this.username}),a={titleSequence:{seqType:u.Yk.Common.Gallery.SeqType.titleBasic,seqDetails:{txtTitle:I,txtSubtitle:q}},celebration:this.getCelebration(),brandNV:{brandType:u.Yk.Common.Gallery.BrandType.brandSliderInOnly,brandDetails:{position:u.Yk.Common.Gallery.Position.atEnd}}};return this.launchMontageRecipe(b,a,_,R)}}return(l=o).\u0275fac=function(s){return new(s||l)(h.LFG(S.dF),h.LFG(S.ed),h.LFG(O.sK),h.LFG(E.y0))},l.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},51902:(Dt,ct,t)=>{"use strict";t.d(ct,{H:()=>x});var e=t(47422),i=t(13963),L=t(61699),f=function(S){return S.Windows="Windows",S.Mac="Mac",S}(f||{});let x=(()=>{var S;class u{constructor(h,O){this.systemInfoService=O,this.logger=h.getLogger("OsService")}init(){return this.logger.info("Initialize"),this.systemInfoService.getSystemInfo([i.l7.Platform]).pipe((0,e.U)(h=>(this.logger.info("Platform: ",h.Platform),this.isWindows=h.Platform===f.Windows,!0)))}getDirSeparator(){return this.isWindows?"\\":"/"}getFileBaseSize(){return this.isWindows?1024:1e3}getOSType(){return this.isWindows?f.Windows:f.Mac}}return(S=u).\u0275fac=function(h){return new(h||S)(L.LFG(i.ed),L.LFG(i.Ob))},S.\u0275prov=L.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),u})()},59209:(Dt,ct,t)=>{"use strict";t.d(ct,{V:()=>w});var e=t(26575),i=t(70462),L=t(87965),f=t(15746),x=t(61699),S=t(13963),u=t(51902),g=t(77446),h=t(82932),O=t(64560),E=t(35955);let w=(()=>{var p;class V{constructor(C,l,o,n,s,R,_){this.injector=C,this.loggingService=l,this.osService=o,this.cacheService=n,this.galleryService=s,this.montage=R,this.trimService=_,this.initComplete$=new i.X(!1)}init(){return this.logger=this.loggingService.getLogger("OOGG ServiceLoader"),this.logger.info("OOGG InitData Started"),this.injector.get(e.V_,Promise.resolve(null)).finally(()=>this.initBaseServices().toPromise()).catch(l=>{this.logger.error("Error initializing service loader base services",l)})}initBaseServices(){return this.montage.init(),this.osService.init().pipe((0,L.zg)(()=>(this.cacheService.init(),this.trimService.init(),this.galleryService.init())),(0,f.b)(()=>{this.initComplete$.next(!0),this.logger.info("OOGG InitData complete")}))}isInitComplete(){return this.initComplete$.asObservable()}}return(p=V).\u0275fac=function(C){return new(C||p)(x.LFG(x.zs3),x.LFG(S.ed),x.LFG(u.H),x.LFG(g.Q),x.LFG(h.rj),x.LFG(O.w),x.LFG(E.S))},p.\u0275prov=x.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),V})()},35955:(Dt,ct,t)=>{"use strict";t.d(ct,{S:()=>g});var e=t(78943),i=t(47422),L=t(58175),f=t(87965),x=t(9681),S=t(61699),u=t(13963);let g=(()=>{var h;class O{constructor(w,p){this.loggingService=w,this.bridgeService=p,this.logger=this.loggingService.getLogger("TrimService")}init(){this.logger.info("Initializing Trim Service")}trim(w){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.Trim,w).pipe((0,i.U)(p=>(this.logger.info("Trim complete: ",p),!0),p=>(this.logger.error("Trim failed: ",p),!0)),(0,L.K)(p=>(this.logger.error("Trim error: ",p),(0,x.of)(!1))))}moveFile(w,p){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.MoveFile,{source:w,destination:p})}copyFile(w,p){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.CopyFile,{source:w,destination:p})}deleteFile(w){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.RemoveGalleryItem,{file:w})}overwriteOriginal(w,p){return this.logger.info("Overwriting original!"),this.deleteFile(p).pipe((0,f.zg)(()=>(this.logger.info("Original deleted!"),this.moveFile(w,p))))}getMetaData(w){return this.bridgeService.executeCommand(e.Gh.Common.Gallery.GetFileMetadata,{file:w})}}return(h=O).\u0275fac=function(w){return new(w||h)(S.LFG(u.ed),S.LFG(u.dF))},h.\u0275prov=S.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),O})()},26707:(Dt,ct,t)=>{"use strict";t.r(ct),t.d(ct,{GalleryModule:()=>Qt});var e=t(26575),i=t(27947),L=t(32995),f=t(15826),x=t(13963),S=t(70814),u=t(61699),g=t(85046),h=t(17627),O=t(24687);let E=(()=>{var Pt;class Ut{constructor(it,Mt){this.cs=it,this.router=Mt}resolve(it,Mt){return this.cs.isInitComplete().pipe((0,g.h)(zt=>!0===zt),(0,h.P)())}}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)(u.LFG(O.Vu),u.LFG(i.F0))},Pt.\u0275prov=u.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Ut})();var p=t(32484),V=t(73992),c=t(13303),C=t(47422),l=t(21120),o=t(58540),n=t(8161),s=t(43559),R=t(36480),_=t(86515);const b=["filterSideNav"],I=["grid"];function q(Pt,Ut){if(1&Pt&&(u.TgZ(0,"span",24),u._uU(1),u.qZA()),2&Pt){const Tt=u.oxw(2);u.xp6(1),u.Oqu(Tt.countDisplay)}}function a(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.TgZ(0,"div",25)(1,"button",26),u.NdJ("click",function(){u.CHM(Tt);const Mt=u.oxw(2);return u.KtG(Mt.onShowGallery())}),u.ALo(2,"translate"),u._UZ(3,"mat-icon",10),u.qZA(),u.TgZ(4,"button",26),u.NdJ("click",function(){u.CHM(Tt);const Mt=u.oxw(2);return u.KtG(Mt.onShowActivity())}),u.ALo(5,"translate"),u._UZ(6,"mat-icon",10),u.qZA()()}2&Pt&&(u.xp6(1),u.Q6J("matTooltip",u.lcZ(2,4,"tooltips.Grid")),u.xp6(2),u.Q6J("svgIcon","view_grid"),u.xp6(1),u.Q6J("matTooltip",u.lcZ(5,6,"tooltips.Summary")),u.xp6(2),u.Q6J("svgIcon","view_summary"))}function y(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.ynx(0),u.TgZ(1,"button",31),u.NdJ("click",function(){const zt=u.CHM(Tt).$implicit,ft=u.oxw(3);return u.KtG(ft.onSortClicked(zt.type))}),u.TgZ(2,"div",15),u._uU(3),u.ALo(4,"translate"),u.qZA()(),u.BQk()}if(2&Pt){const Tt=Ut.$implicit,it=u.oxw(3);u.xp6(1),u.ekj("active",Tt.type===it.sortType),u.xp6(2),u.Oqu(u.lcZ(4,3,Tt.label))}}function M(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",27)(1,"button",28),u._UZ(2,"mat-icon",10),u._uU(3),u.qZA(),u.TgZ(4,"mat-menu",29,30),u.YNc(6,y,5,5,"ng-container",16),u.qZA()()),2&Pt){const Tt=u.MAs(5),it=u.oxw(2);u.xp6(1),u.Q6J("matMenuTriggerFor",Tt),u.xp6(1),u.Q6J("svgIcon","sort"),u.xp6(1),u.hij(" ",it.sortLabel," "),u.xp6(3),u.Q6J("ngForOf",it.sortMenu)}}function P(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.TgZ(0,"div",32)(1,"button",26),u.NdJ("click",function(){u.CHM(Tt);const Mt=u.oxw(2);return u.KtG(Mt.onFilterToggle())}),u.ALo(2,"translate"),u._UZ(3,"mat-icon",10),u.qZA()()}2&Pt&&(u.xp6(1),u.Q6J("matTooltip",u.lcZ(2,2,"tooltips.Filter")),u.xp6(2),u.Q6J("svgIcon","filter_list"))}function K(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",19),u.YNc(1,q,2,1,"span",20),u.YNc(2,a,7,8,"div",21),u.YNc(3,M,7,4,"div",22),u.YNc(4,P,4,4,"div",23),u.qZA()),2&Pt){const Tt=u.oxw();u.xp6(1),u.Q6J("ngIf",Tt.showSortMenu),u.xp6(1),u.Q6J("ngIf",Tt.activityFeedEnabled),u.xp6(1),u.Q6J("ngIf",Tt.showSortMenu),u.xp6(1),u.Q6J("ngIf",Tt.showFilterMenu)}}function B(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.ynx(0),u.TgZ(1,"div",33)(2,"mat-checkbox",34),u.NdJ("ngModelChange",function(Mt){const ft=u.CHM(Tt).$implicit;return u.KtG(ft.filtered=Mt)})("change",function(){const zt=u.CHM(Tt).$implicit,ft=u.oxw();return u.KtG(ft.onGameItemChanged(zt))}),u.qZA(),u.TgZ(3,"span",35),u._uU(4),u.qZA(),u.TgZ(5,"span",36),u._uU(6),u.qZA()(),u.BQk()}if(2&Pt){const Tt=Ut.$implicit;u.xp6(2),u.Q6J("ngModel",Tt.filtered),u.xp6(2),u.Oqu(Tt.label),u.xp6(2),u.hij("(",Tt.value,")")}}function j(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.ynx(0),u.TgZ(1,"div",33)(2,"mat-checkbox",37),u.NdJ("ngModelChange",function(Mt){const ft=u.CHM(Tt).$implicit;return u.KtG(ft.filtered=Mt)})("change",function(){const zt=u.CHM(Tt).$implicit,ft=u.oxw();return u.KtG(ft.onMediaItemChanged(zt))}),u.qZA(),u.TgZ(3,"span",38),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",36),u._uU(7),u.qZA()(),u.BQk()}if(2&Pt){const Tt=Ut.$implicit;u.xp6(2),u.Q6J("ngModel",Tt.filtered)("disabled",0===Tt.value),u.xp6(1),u.ekj("disabled-opacity",0===Tt.value),u.xp6(1),u.Oqu(u.lcZ(5,8,Tt.label)),u.xp6(2),u.ekj("disabled-opacity",0===Tt.value),u.xp6(1),u.hij("(",Tt.value,")")}}function tt(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.ynx(0),u.TgZ(1,"div",33)(2,"mat-checkbox",34),u.NdJ("ngModelChange",function(Mt){const ft=u.CHM(Tt).$implicit;return u.KtG(ft.filtered=Mt)})("change",function(){const zt=u.CHM(Tt).$implicit,ft=u.oxw();return u.KtG(ft.onHighlightItemChanged(zt))}),u.qZA(),u.TgZ(3,"span",38),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",36),u._uU(7),u.qZA()(),u.BQk()}if(2&Pt){const Tt=Ut.$implicit;u.xp6(2),u.Q6J("ngModel",Tt.filtered),u.xp6(2),u.Oqu(u.lcZ(5,3,Tt.label)),u.xp6(3),u.hij("(",Tt.value,")")}}function ot(Pt,Ut){1&Pt&&(u.TgZ(0,"div")(1,"span",39),u._uU(2),u.ALo(3,"translate"),u.qZA()()),2&Pt&&(u.xp6(2),u.Oqu(u.lcZ(3,1,"filter.NoHighlightsAtAll")))}function F(Pt,Ut){1&Pt&&(u.TgZ(0,"div")(1,"span",39),u._uU(2),u.ALo(3,"translate"),u.qZA()()),2&Pt&&(u.xp6(2),u.Oqu(u.lcZ(3,1,"filter.NoHighlights")))}function U(Pt,Ut){1&Pt&&u._UZ(0,"div")}const z=function(Pt){return{emptyWithWorkbar:Pt}};function Q(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",47),u._UZ(1,"mat-icon",48),u.TgZ(2,"div",49),u._uU(3),u.ALo(4,"translate"),u.qZA()()),2&Pt){const Tt=u.oxw(3);u.Q6J("ngClass",u.VKq(5,z,Tt.showFilterMenu)),u.xp6(3),u.hij(" ",u.xi3(4,2,Tt.emptyContainerString,Tt.emptyContainerParams)," ")}}function dt(Pt,Ut){1&Pt&&(u.TgZ(0,"div",50),u._UZ(1,"mat-spinner",51),u.qZA())}function X(Pt,Ut){if(1&Pt&&(u.YNc(0,Q,5,7,"div",45),u.YNc(1,dt,2,0,"div",46)),2&Pt){const Tt=u.oxw(2);u.Q6J("ngIf",Tt.dataInitialized),u.xp6(1),u.Q6J("ngIf",!Tt.dataInitialized)}}function m(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.TgZ(0,"nv-gallery-item",55),u.NdJ("dblclick",function(){const zt=u.CHM(Tt).$implicit,ft=u.oxw(3);return u.KtG(ft.openFile(zt))}),u.qZA()}if(2&Pt){const Tt=Ut.$implicit,it=Ut.scroll,Mt=u.oxw(3);u.Q6J("item",Tt)("scrolling",it)("activeItem",Mt.galleryOpenItem)("thumbWidth",Mt.thumbWidth)("thumbHeight",Mt.thumbHeight)("initialDelay",Mt.delay)("multiSelect",Mt.multiSelectMode)}}function Y(Pt,Ut){if(1&Pt){const Tt=u.EpF();u.TgZ(0,"nv-virtual-grid-container",52,53),u.NdJ("multiSelectMode",function(Mt){u.CHM(Tt);const zt=u.oxw(2);return u.KtG(zt.onMultiSelectMode(Mt))})("multiSelectList",function(Mt){u.CHM(Tt);const zt=u.oxw(2);return u.KtG(zt.onMultiSelectList(Mt))})("selectedItemChange",function(Mt){u.CHM(Tt);const zt=u.oxw(2);return u.KtG(zt.gallerySelection=Mt)})("selectedItemChange",function(Mt){u.CHM(Tt);const zt=u.oxw(2);return u.KtG(zt.selectedItemChanged(Mt))})("keydown",function(Mt){u.CHM(Tt);const zt=u.oxw(2);return u.KtG(zt.openGalleryItem(Mt))}),u.YNc(2,m,1,7,"ng-template",null,54,u.W1O),u.qZA()}if(2&Pt){const Tt=u.MAs(3),it=u.oxw(2);u.Q6J("items",it.galleryItems)("selectedItem",it.gallerySelection)("itemHeight",it.thumbHeight)("marginBottom",8)("itemWidth",it.thumbWidth)("marginRight",8)("template",Tt)("topBottomPad",0)("sortType",it.sortType)}}function D(Pt,Ut){if(1&Pt&&(u.TgZ(0,"mat-sidenav-content",40)(1,"div",41),u.YNc(2,U,1,0,"div",42),u.YNc(3,X,2,2,"ng-template",null,43,u.W1O),u.YNc(5,Y,4,9,"ng-template",null,44,u.W1O),u.qZA()()),2&Pt){const Tt=u.MAs(4),it=u.MAs(6),Mt=u.oxw();u.xp6(2),u.Q6J("ngIf",Mt.emptyContainerVisible||!Mt.dataInitialized)("ngIfThen",Tt)("ngIfElse",it)}}function N(Pt,Ut){1&Pt&&u._UZ(0,"div")}function Z(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",47),u._UZ(1,"mat-icon",48),u.TgZ(2,"div",49),u._uU(3),u.ALo(4,"translate"),u.qZA()()),2&Pt){const Tt=u.oxw(2);u.Q6J("ngClass",u.VKq(4,z,Tt.showFilterMenu)),u.xp6(3),u.hij(" ",u.lcZ(4,2,Tt.noActivityString)," ")}}function W(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",60),u._UZ(1,"nv-activity-item",61),u.qZA()),2&Pt){const Tt=Ut.$implicit,it=u.oxw(4);u.xp6(1),u.Q6J("item",Tt)("itemWidth",it.panelWidth)("itemHeight",it.panelHeight)("initialDelay",it.delay)}}function A(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",58),u.YNc(1,W,2,4,"div",59),u.qZA()),2&Pt){const Tt=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",Tt.activityItems)}}function d(Pt,Ut){if(1&Pt&&(u.TgZ(0,"div",60),u._UZ(1,"nv-activity-item",61),u.qZA()),2&Pt){const Tt=Ut.$implicit,it=u.oxw(4);u.xp6(1),u.Q6J("item",Tt)("itemWidth",it.panelWidth)("itemHeight",it.panelHeight)("initialDelay",it.delay)}}function H(Pt,Ut){if(1&Pt&&(u.TgZ(0,"cdk-virtual-scroll-viewport",62,63),u.YNc(2,d,2,4,"div",64),u.qZA()),2&Pt){const Tt=u.oxw(3);u.Q6J("itemSize",Tt.panelHeight),u.xp6(2),u.Q6J("cdkVirtualForOf",Tt.activityItems)("cdkVirtualForTrackBy",Tt.activityIdentity)}}function $(Pt,Ut){if(1&Pt&&(u.YNc(0,A,2,1,"div",56),u.YNc(1,H,3,3,"cdk-virtual-scroll-viewport",57)),2&Pt){const Tt=u.oxw(2);u.Q6J("ngIf",!Tt.useVirtualScrolling),u.xp6(1),u.Q6J("ngIf",Tt.useVirtualScrolling)}}function J(Pt,Ut){if(1&Pt&&(u.TgZ(0,"mat-sidenav-content",40)(1,"div",41),u.YNc(2,N,1,0,"div",42),u.YNc(3,Z,5,6,"ng-template",null,43,u.W1O),u.YNc(5,$,2,2,"ng-template",null,44,u.W1O),u.qZA()()),2&Pt){const Tt=u.MAs(4),it=u.MAs(6),Mt=u.oxw();u.xp6(2),u.Q6J("ngIf",Mt.noActivityData)("ngIfThen",Tt)("ngIfElse",it)}}let lt=(()=>{var Pt;class Ut{constructor(it,Mt,zt,ft,ve,Ce,De,ze,$e,Se){this.appConfig=it,this.loggingService=Mt,this.appBarService=zt,this.galleryService=ft,this.montageService=ve,this.route=Ce,this.router=De,this.translateService=ze,this.domSanitizer=$e,this.matIconRegistry=Se,this.destroy$=new p.xQ,this.dataInitialized=!1,this.activityFeedEnabled=!1,this.useVirtualScrolling=!1,this.galleryItems=[],this.multiSelectMode=!1,this.multiSelectList=void 0,this.emptyContainerVisible=!1,this.emptyContainerString="gallery.NoEntriesYet",this.emptyContainerParams={},this.thumbWidth=O.dz.width,this.thumbHeight=O.dz.height,this.delay=!0,this.previewOpen=!1,this.montageEnabled=!1,this.showSortMenu=!0,this.showFilterMenu=!0,this.showActivity=!1,this.totalCount=0,this.countDisplay="",this.sortType=O.ER.newest,this.sortLabel="",this.sortMenu=[{type:O.ER.newest,label:"filter.NewestFirst"},{type:O.ER.oldest,label:"filter.OldestFirst"},{type:O.ER.atoz,label:"filter.GameAtoZ"},{type:O.ER.ztoa,label:"filter.GameZtoA"}],this.gameItems=[],this.mediaItems=[],this.highlightItems=[],this.globalHighlightCount=0,this.disableFilterClearButton=!0,this.activityItems=[],this.noActivityData=!0,this.noActivityString="summary.NoSummaryItems",this.panelWidth=1600,this.panelHeight=970,this.eventTimeout=null,this.logger=this.loggingService.getLogger("Gallery"),this.logger.info("Gallery started"),this.setAppBarInitial(),this.appBarService.actionClicked$.pipe((0,c.R)(this.destroy$)).subscribe(ce=>{this.appBarClicked(ce)}),this.matIconRegistry.addSvgIcon("hexBackground",this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/img/hex_bg.svg"))}ngOnInit(){this.logger.info("ngOnInit started"),this.startTiming=o(),this.initializeGallery()}initializeGallery(){this.galleryService.initGalleryData().pipe((0,c.R)(this.destroy$)).subscribe(()=>{this.initialize();const it=o().diff(this.startTiming);this.logger.info("Time to initialize gallery: "+it+" ms"),this.dataInitialized=!0})}initialize(){var it;null!==(it=this.appConfig.oogg)&&void 0!==it&&it.activityFeedEnabled&&(this.activityFeedEnabled=!0),this.appBarService.setAppBarState(!0),this.montageEnabled=this.galleryService.montageAvailable,this.sortType=this.galleryService.sortType,this.sortLabel=this.translateService.instant(this.sortMenu.find(Mt=>Mt.type===this.sortType).label)+"\u25be",this.galleryService.unselectAllItems(),this.galleryService.listenForFilteredDataChange().pipe((0,c.R)(this.destroy$)).subscribe(Mt=>{this.processData(Mt)}),this.galleryService.listenForEmptyStateChanged().pipe((0,c.R)(this.destroy$)).subscribe(Mt=>{this.showFilterMenu=!Mt}),this.galleryService.listenForDeleteCompletion().pipe((0,c.R)(this.destroy$)).subscribe(Mt=>{Mt&&this.onCancelMultiSelectClicked()}),this.montageEnabled&&!this.montageService.montageCloudDataValid&&this.montageService.getMontageCloudData().pipe((0,c.R)(this.destroy$)).subscribe(Mt=>{Mt||(this.montageEnabled=!1),this.logger.info("Montage is "+(this.montageEnabled?"available":"not available"))}),this.processData(this.galleryService.getGalleryData()),this.galleryService.galleryAction(l.DCd.Enter)}ngAfterViewInit(){this.logger.info("Entry panelHeight: "+this.panelHeight),this.panelWidth=window.innerWidth-32,this.panelHeight=window.innerHeight-120,this.logger.info("Inner Window: "+window.innerHeight+" panelHeight: "+this.panelHeight)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onResize(it){const Mt=window.innerWidth-32,zt=window.innerHeight-120;this.resizeThrottler(100,Mt,zt)}resizeThrottler(it,Mt,zt){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.panelWidth=Mt,this.panelHeight=zt},it))}processData(it){this.galleryItems=it.slice(),this.galleryItems=this.galleryItems.filter(zt=>""!==zt.fullFilename),this.totalCount=this.galleryItems.length;const Mt=this.galleryService.getAllItemsCount();if(this.disableFilterClearButton=this.totalCount===Mt,this.countDisplay=this.totalCount===Mt?this.translateService.instant("gallery.All",{arg:this.totalCount}):this.translateService.instant("gallery.ShowNofMItems",{arg1:this.totalCount,arg2:Mt}),this.getFilters(),this.emptyContainerVisible=0===this.galleryItems.length,this.showSortMenu=!this.emptyContainerVisible,this.gallerySelection&&this.galleryItems.findIndex(zt=>zt===this.gallerySelection)<0&&(this.gallerySelection=void 0),this.multiSelectList&&this.multiSelectList.length>0){this.changeAppBarSelected(),this.galleryService.currentSelectedFilesData=this.getFinalMultiSelectList();const zt=this.galleryService.currentSelectedFilesData.length>0;this.onMultiSelectMode(zt),this.virtualGrid.refreshMultiSelectList(!zt)}return this.processActivityData(),!0}processActivityData(){this.activityFeedEnabled&&this.galleryService.getActivityData().pipe((0,c.R)(this.destroy$)).subscribe(it=>{null!==it?(this.activityItems=it.slice(),0===this.activityItems.length?this.noActivityData=!0:(this.activitySelection=this.activityItems[0],this.noActivityData=!1)):this.noActivityData=!0})}selectedItemChanged(it){this.gallerySelection=it,this.multiSelectMode||(this.galleryService.currentSelectedFilesData=[it])}selectedActivityChanged(it){this.activitySelection=it}onMultiSelectMode(it){this.multiSelectMode=it}onMultiSelectList(it){this.multiSelectList=it.slice(0),this.changeAppBarSelected(),this.galleryService.currentSelectedFilesData=this.getFinalMultiSelectList()}onCancelMultiSelectClicked(){var it;this.galleryService.unselectAllItems(),this.galleryItems.forEach(Mt=>Mt.selected=!1),null===(it=this.virtualGrid)||void 0===it||it.cancelMultiSelect(),this.multiSelectList&&(this.multiSelectList.length=0)}getFinalMultiSelectList(){const it=[];return this.galleryItems.forEach(Mt=>{var zt;null!==(zt=this.multiSelectList)&&void 0!==zt&&zt.find(ft=>ft.fullFilename===Mt.fullFilename)&&it.push(Mt)}),it}openGalleryItem(it){"Enter"===it.key&&this.gallerySelection?this.openFile(this.gallerySelection):"Delete"===it.key&&this.onRemoveClicked()}openActivityItem(it){}openFile(it){this.logger.verbose("OpenFile: ",it),it.fullFilename&&!this.multiSelectMode&&(this.galleryService.currentFileData=this.gallerySelection,this.galleryOpenItem=this.gallerySelection,this.previewOpen||(this.galleryService.setMontageMode(!1),this.galleryService.galleryViewAction(l.ryx.Preview,it),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})))}setAppBarInitial(){this.appBarService.clearIcons(),this.appBarService.setTitle({entry:"gallery.Gallery",params:{}}),this.appBarService.setInfo({entry:"",params:{}}),this.appBarService.setActive(!1),this.appBarService.setNavButtonToDefault(),this.appBarService.setTemplate({id:"",params:{}})}appBarClicked(it){"close"===it?this.multiSelectMode&&this.onCancelMultiSelectClicked():"delete"===it?this.onRemoveClicked():"montage"===it&&this.onMontageClicked()}changeAppBarSelected(){let it=0,Mt=0;this.galleryItems.forEach(ft=>{this.multiSelectList.find(ve=>ve.fullFilename===ft.fullFilename)&&(it++,"image"!==ft.file.type&&Mt++)});const zt=it===Mt&&Mt>1;0===it?this.setAppBarInitial():(this.appBarService.setActive(!0),this.appBarService.setNavButtonClose("common.cancelTitleCase"),this.appBarService.setTitle(1===it?{entry:"gallery.OneSelected",params:{}}:{entry:"gallery.XSelected",params:{arg:it}}),this.appBarService.setIcons([{id:"delete",icon:"delete_forever",tooltip:"tooltips.Remove",end:!0}])),this.montageEnabled&&(zt?this.appBarService.addIcon({id:"montage",icon:"montage",tooltip:"tooltips.Montage",end:!0}):this.appBarService.deleteIcon("montage"))}onFilterToggle(){this.filterSideNav.toggle().then(()=>{this.showActivity||this.processData(this.galleryService.getGalleryData())})}onFilterClearToggle(){this.galleryService.galleryAction(l.DCd.FiltersCleared),this.galleryService.filterAll(!0)}onSortClicked(it){this.sortType=it,this.sortLabel=this.translateService.instant(this.sortMenu.find(Mt=>Mt.type===this.sortType).label)+"\u25be",this.galleryService.sortFilteredData(it,!0)}onMontageClicked(){this.logger.info("Montage clicked with "+this.multiSelectList.length+" items");let it=0;const Mt=[];this.multiSelectList.forEach(zt=>{null===zt.data&&(it++,Mt.push(this.getMissingThumb(zt)))}),it>0?(this.logger.info("Getting thumbs for "+it+" items"),(0,V.$R)(...Mt).subscribe(()=>{this.logger.info("Completed updating montage thumbs!"),this.gotoMontage()})):this.gotoMontage()}getMissingThumb(it){return this.galleryService.getThumbnailForFile(it.fullFilename,this.thumbWidth,this.thumbHeight).pipe((0,C.U)(Mt=>(it.data=Mt,!0)))}gotoMontage(){this.previewOpen||(this.galleryService.setMontageMode(!0),this.galleryService.galleryAction(l.DCd.Montage),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{}))}onRemoveClicked(){this.logger.info("Remove clicked"),this.galleryService.deleteItems(this.getFinalMultiSelectList())}getFilters(){this.gameItems=this.galleryService.gameItems,this.mediaItems=this.galleryService.mediaItems,this.globalHighlightCount=this.galleryService.globalHighlightCount,this.highlightItems=this.galleryService.highlightItems}onGameItemChanged(it){this.logger.info("Game menu changed to: ",it),this.galleryService.gameFilterChanged(it),this.processActivityData()}onMediaItemChanged(it){this.logger.info("Media menu changed to: ",it),this.galleryService.mediaFilterChanged(it),this.processActivityData()}onHighlightItemChanged(it){this.logger.info("Highlight menu changed to: ",it),this.galleryService.highlightFilterChanged(it),this.processActivityData()}onShowGallery(){this.logger.info("Loading Gallery"),this.showActivity=!1}onShowActivity(){this.logger.info("Loading Activity"),this.setAppBarInitial(),this.showActivity=!0}activityIdentity(it,Mt){return console.log("Gallery index: "+it+" started: ",Mt.gameName+" identity: "+Mt.identity),Mt.identity}}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)(u.Y36(l.VKt),u.Y36(x.ed),u.Y36(n.ad),u.Y36(O.rj),u.Y36(O.wz),u.Y36(i.gz),u.Y36(i.F0),u.Y36(s.sK),u.Y36(R.H7),u.Y36(_.jv))},Pt.\u0275cmp=u.Xpm({type:Pt,selectors:[["oogg-gallery"]],viewQuery:function(it,Mt){if(1&it&&(u.Gf(b,7),u.Gf(I,5)),2&it){let zt;u.iGM(zt=u.CRH())&&(Mt.filterSideNav=zt.first),u.iGM(zt=u.CRH())&&(Mt.virtualGrid=zt.first)}},hostBindings:function(it,Mt){1&it&&u.NdJ("resize",function(ft){return Mt.onResize(ft)},!1,u.Jf7)},decls:45,vars:25,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg","oogg-gallery"],["fxLayout","row","class","work-bar",4,"ngIf"],["fxFlexFill","",1,"grid-offset"],["mode","side","position","end",1,"filter-area"],["filterSideNav",""],[1,"filter-data"],["fxLayout","column"],["fxLayout","row"],[1,"font-header6","filterHeader"],["mat-button","","fxFlex","none",1,"font-body1","nv-item-icon","complex-button","filter-close",3,"click"],[3,"svgIcon"],["fxFlex","grow"],["fxFlex","none","mat-button","",1,"font-body1","complex-button","hig-button-overlay",3,"disabled","click"],[1,"font-body2","clear-filter"],[1,"hig-button-overlay","filter-header"],[1,"font-body2"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","gallery-area",4,"ngIf"],["fxLayout","row",1,"work-bar"],["class","font-body2 count-display",4,"ngIf"],["class","activity-buttons","fxLayout","row",4,"ngIf"],["class","sortmenu",4,"ngIf"],["class","filtermenu",4,"ngIf"],[1,"font-body2","count-display"],["fxLayout","row",1,"activity-buttons"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",1,"font-body1","nv-item-icon","complex-button",3,"matTooltip","click"],[1,"sortmenu"],["mat-button","","fxLayout","row",1,"font-body2",3,"matMenuTriggerFor"],["xPosition","after","yPosition","below","overlapTrigger","false",1,"max-width-menu-class"],["menu","matMenu"],["mat-menu-item","","fxLayout","row","fxLayoutAlign","start center",1,"nv-dropdown-menu","hig-button-overlay",3,"click"],[1,"filtermenu"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","nvAddKeyboardActivate","",3,"ngModel","ngModelChange","change"],["dir","auto","fxFlex","none",1,"font-body2","check-label"],["fxFlex","grow",1,"font-body2"],["fxFlex","none","nvAddKeyboardActivate","",3,"ngModel","disabled","ngModelChange","change"],["fxFlex","none",1,"font-body2","check-label"],["fxFlex","shrink",1,"font-body2","nohightlights-label"],[1,"gallery-area"],["fxFlex","","fxLayout","column"],[4,"ngIf","ngIfThen","ngIfElse"],["noGrid",""],["useGrid",""],["class","emptyContainer","fxLayout","column","fxLayoutAlign","center center",3,"ngClass",4,"ngIf"],["class","galleryInitializing","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"emptyContainer",3,"ngClass"],["svgIcon","hexBackground",1,"emptyBackground"],[1,"font-body2","emptyMessage"],["fxLayout","column","fxLayoutAlign","center center",1,"galleryInitializing"],["diameter","48","tabindex","-1","color","accent"],["tabIndex","0","fxFlex","","fxLayout","row","multiSelect","true","chunkFileMetadata","true",1,"nv-item-row",3,"items","selectedItem","itemHeight","marginBottom","itemWidth","marginRight","template","topBottomPad","sortType","multiSelectMode","multiSelectList","selectedItemChange","keydown"],["grid",""],["galleryTemplate",""],[3,"item","scrolling","activeItem","thumbWidth","thumbHeight","initialDelay","multiSelect","dblclick"],["class","scroll-container","fxLayout","column",4,"ngIf"],["class","scroll-container","orientation","vertical","tabIndex","0",3,"itemSize",4,"ngIf"],["fxLayout","column",1,"scroll-container"],["class","activity-item",4,"ngFor","ngForOf"],[1,"activity-item"],[3,"item","itemWidth","itemHeight","initialDelay"],["orientation","vertical","tabIndex","0",1,"scroll-container",3,"itemSize"],["scroller",""],["class","activity-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"]],template:function(it,Mt){1&it&&(u.TgZ(0,"div",0),u.YNc(1,K,5,4,"div",1),u.TgZ(2,"mat-sidenav-container",2)(3,"mat-sidenav",3,4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.TgZ(11,"button",9),u.NdJ("click",function(){return Mt.onFilterToggle()}),u._UZ(12,"mat-icon",10),u.qZA()(),u.TgZ(13,"div",7),u._UZ(14,"div",11),u.TgZ(15,"button",12),u.NdJ("click",function(){return Mt.onFilterClearToggle()}),u.TgZ(16,"div",13),u._uU(17),u.ALo(18,"translate"),u.qZA()()(),u._UZ(19,"nv-divider"),u.qZA(),u.TgZ(20,"mat-expansion-panel")(21,"mat-expansion-panel-header",14)(22,"mat-panel-title",15),u._uU(23),u.ALo(24,"translate"),u.qZA()(),u.YNc(25,B,7,3,"ng-container",16),u.qZA(),u._UZ(26,"nv-divider"),u.TgZ(27,"mat-expansion-panel")(28,"mat-expansion-panel-header",14)(29,"mat-panel-title",15),u._uU(30),u.ALo(31,"translate"),u.qZA()(),u.YNc(32,j,8,10,"ng-container",16),u.qZA(),u._UZ(33,"nv-divider"),u.TgZ(34,"mat-expansion-panel")(35,"mat-expansion-panel-header",14)(36,"mat-panel-title",15),u._uU(37),u.ALo(38,"translate"),u.qZA()(),u.YNc(39,tt,8,5,"ng-container",16),u.YNc(40,ot,4,3,"div",17),u.YNc(41,F,4,3,"div",17),u.qZA(),u._UZ(42,"nv-divider"),u.qZA()(),u.YNc(43,D,7,3,"mat-sidenav-content",18),u.YNc(44,J,7,3,"mat-sidenav-content",18),u.qZA()()),2&it&&(u.xp6(1),u.Q6J("ngIf",Mt.showSortMenu||Mt.showFilterMenu),u.xp6(8),u.Oqu(u.lcZ(10,15,"filter.Filter")),u.xp6(3),u.Q6J("svgIcon","close"),u.xp6(3),u.Q6J("disabled",Mt.disableFilterClearButton),u.xp6(2),u.Oqu(u.lcZ(18,17,"filter.ClearAllFilters")),u.xp6(6),u.Oqu(u.lcZ(24,19,"filter.Game")),u.xp6(2),u.Q6J("ngForOf",Mt.gameItems),u.xp6(5),u.Oqu(u.lcZ(31,21,"filter.Media")),u.xp6(2),u.Q6J("ngForOf",Mt.mediaItems),u.xp6(5),u.Oqu(u.lcZ(38,23,"filter.Highlights")),u.xp6(2),u.Q6J("ngForOf",Mt.highlightItems),u.xp6(1),u.Q6J("ngIf",0===Mt.globalHighlightCount),u.xp6(1),u.Q6J("ngIf",0!==Mt.globalHighlightCount&&0===Mt.highlightItems.length),u.xp6(2),u.Q6J("ngIf",!Mt.showActivity),u.xp6(1),u.Q6J("ngIf",Mt.showActivity))},styles:["body[_ngcontent-%COMP%]   nv-oogg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0;background:rgba(255,255,255,.3)}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:rgba(255,255,255,.7)}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus, .nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}nv-oogg[_ngcontent-%COMP%]   [readonly][_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   [type=readonly][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   [readonly][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   [type=readonly][_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled), nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled), .nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   dir[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   dir[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{-webkit-margin-before:0!important;-webkit-margin-after:0!important;-webkit-margin-start:0!important;-webkit-margin-end:0!important;-webkit-padding-start:0!important;-moz-margin-start:0!important;-moz-margin-end:0!important;-moz-padding-start:0!important}nv-oogg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}nv-oogg[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{width:36px;height:36px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.oogg-gallery[_ngcontent-%COMP%]{overflow-y:hidden!important;background-color:#000}.grid-offset[_ngcontent-%COMP%]{padding-top:56px;margin-top:56px;height:calc(100% - 112px)}.gallery-area[_ngcontent-%COMP%]{top:-56px;overflow-x:hidden}.filter-area[_ngcontent-%COMP%]{min-width:320px;max-width:320px;height:calc(100% - 56px);background:#191919;border-left:none}.filter-header[_ngcontent-%COMP%]{height:36px}.emptyContainer[_ngcontent-%COMP%]{height:238px}.emptyWithWorkbar[_ngcontent-%COMP%]{margin-top:56px}.emptyMessage[_ngcontent-%COMP%]{height:52px;width:478px;text-align:center;vertical-align:middle;position:absolute}.isLtr[_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{--dummy4: 0;margin-left:24px}.emptyBackground[_ngcontent-%COMP%]{width:261px;height:238px}.check-label[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:180px}.isLtr[_nghost-%COMP%]   .check-label[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .check-label[_ngcontent-%COMP%]{margin-right:3px}html[dir=ltr][_ngcontent-%COMP%]   .check-label[_ngcontent-%COMP%]{--dummy4: 0;margin-right:3px}.isRtl[_nghost-%COMP%]   .check-label[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .check-label[_ngcontent-%COMP%]{margin-left:3px}html[dir=rtl][_ngcontent-%COMP%]   .check-label[_ngcontent-%COMP%]{--dummy4: 0;margin-left:3px}.nohightlights-label[_ngcontent-%COMP%]{white-space:wrap;min-width:0;width:0}.active[_ngcontent-%COMP%]{color:#76b900}.filter-data[_ngcontent-%COMP%]{padding:24px}.isLtr[_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%]{margin-right:-12px}html[dir=ltr][_ngcontent-%COMP%]   .filter-close[_ngcontent-%COMP%]{--dummy4: 0;margin-right:-12px}.isRtl[_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%]{margin-left:-12px}html[dir=rtl][_ngcontent-%COMP%]   .filter-close[_ngcontent-%COMP%]{--dummy4: 0;margin-left:-12px}.work-bar[_ngcontent-%COMP%]{position:absolute;height:56px;width:100%;background:#292929;z-index:999}.count-display[_ngcontent-%COMP%]{display:block;position:absolute;top:20px}.isLtr[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{left:24px}html[dir=ltr][_ngcontent-%COMP%]   .count-display[_ngcontent-%COMP%]{--dummy5: 0;left:24px}.isRtl[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{right:24px}html[dir=rtl][_ngcontent-%COMP%]   .count-display[_ngcontent-%COMP%]{--dummy5: 0;right:24px}.sortmenu[_ngcontent-%COMP%]{display:block;position:absolute}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]{right:60px}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]{--dummy6: 0;right:60px}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]{left:60px}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]{--dummy6: 0;left:60px}.sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#ffffffb3;text-decoration:none;display:block;margin:12px 0 16px;padding:0 16px;text-transform:none!important}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;float:none}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;float:none}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.filterHeader[_ngcontent-%COMP%]{width:100%}.filtermenu[_ngcontent-%COMP%]{display:block;position:absolute;top:10px}.isLtr[_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%]{right:20px}html[dir=ltr][_ngcontent-%COMP%]   .filtermenu[_ngcontent-%COMP%]{--dummy6: 0;right:20px}.isRtl[_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%]{left:20px}html[dir=rtl][_ngcontent-%COMP%]   .filtermenu[_ngcontent-%COMP%]{--dummy6: 0;left:20px}button.nv-dropdown-menu[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;width:100%;height:unset}button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px 16px;overflow:hidden;text-overflow:ellipsis}.isLtr[_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left}html[dir=ltr] button.nv-dropdown-menu div[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:right}html[dir=rtl] button.nv-dropdown-menu div[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}button.nv-dropdown-menu.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#76b900}.nv-oogg.max-width-menu-class[_ngcontent-%COMP%]{width:100px}.nv-oogg.max-width-menu-class[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]:not(:empty){padding-top:8px;padding-bottom:8px}.clear-filter[_ngcontent-%COMP%]{text-transform:uppercase;padding:8px}.galleryInitializing[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;align-items:center}.activity-buttons[_ngcontent-%COMP%]{display:block;position:absolute;top:10px}.isLtr[_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{right:250px}html[dir=ltr][_ngcontent-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{--dummy6: 0;right:250px}.isRtl[_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{left:250px}html[dir=rtl][_ngcontent-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{--dummy6: 0;left:250px}.activity-item[_ngcontent-%COMP%]{width:100%;height:100%}.scroll-container[_ngcontent-%COMP%]{height:100%;overflow-x:hidden}.scroll-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{height:100%}"]}),Ut})();const gt=[{path:"",component:lt,resolve:{GalleryResolverServiceFn:(Pt,Ut)=>(0,u.f3M)(E).resolve(Pt,Ut)}}];var vt=t(1598),k=t(1976),pt=t(28788),yt=t(62131),Xt=t(45356),It=t(47520),Nt=t(28849),le=t(78654),te=t(24565),bt=t(10662),Vt=t(33910),ut=t(50275),re=t(95787),Kt=t(15550),jt=t(60702),Wt=t(31465),oe=t(81337);let Qt=(()=>{var Pt;class Ut{}return(Pt=Ut).\u0275fac=function(it){return new(it||Pt)},Pt.\u0275mod=u.oAB({type:Pt}),Pt.\u0275inj=u.cJS({imports:[e.ez,x.it,S.m,L.o9,f.Q,i.Bz.forChild(gt),(0,x.zv)()]}),Ut})();u.B6R(lt,function(){return[e.mk,e.sg,e.O5,vt.n,k.e,pt.x,yt.$,Xt.xw,Xt.Wh,Xt.s9,Xt.yH,It.oO,Nt.JJ,Nt.On,le.eB,te.Lv,bt.W0,bt.tN,bt.D8,Vt.Ou,_.Hw,ut.xd,ut.x0,ut.N7,re.ib,re.yz,re.yK,Kt.FC,jt.gM,Wt.JX,Wt.TM,Wt.Rh,oe.xZ]},function(){return[s.X$]})},15826:(Dt,ct,t)=>{"use strict";t.d(ct,{Q:()=>y});var e=t(28849),i=t(57665),L=t(33910),f=t(78173),x=t(78654),S=t(39038),u=t(10662),g=t(52484),h=t(69400),O=t(86515),E=t(96355),w=t(64650),p=t(95787),V=t(99674),c=t(15550),C=t(17401),l=t(50275),o=t(59074),n=t(60702),s=t(10257),R=t(93170),_=t(31465),b=t(8815),I=t(91467),q=t(61699);const a=[e.u5,x.yu,i.IF,S.gR,u.jT,g.g0,L.Cq,f.Cv,h.t,O.Ps,E.LD,w.Wd,V.c,l.Cl,p.To,c.Zh,C.Is,o.y,n.AV,s.si,R.rt,_.SJ,I.hp,b._t];let y=(()=>{var M;class P{}return(M=P).\u0275fac=function(B){return new(B||M)},M.\u0275mod=q.oAB({type:M}),M.\u0275inj=q.cJS({imports:[e.u5,a,e.u5,x.yu,i.IF,S.gR,u.jT,g.g0,L.Cq,f.Cv,h.t,O.Ps,E.LD,w.Wd,V.c,l.Cl,p.To,c.Zh,C.Is,o.y,n.AV,s.si,R.rt,_.SJ,I.hp,b._t]}),P})()},39203:(Dt,ct,t)=>{"use strict";t.r(ct),t.d(ct,{PreviewModule:()=>Yn});var e=t(26575),i=t(27947),L=t(32995),f=t(15826),x=t(13963),S=t(70814),u=t(32484),g=t(13303),h=t(87965),O=t(85046),E=t(15746),w=t(47422),p=t(78943),V=t(58540),c=t(24687),C=t(47178),l=t(21120),o=t(61699),n=t(8161),s=t(43559);const R=["image"],_=["video"],b=["infoSideNav"];function I(ye,Ye){1&ye&&o._UZ(0,"nv-montage",13)}function q(ye,Ye){1&ye&&o._UZ(0,"mat-icon",22)}function a(ye,Ye){1&ye&&o._UZ(0,"mat-icon",23)}function y(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",14)(1,"button",15),o.NdJ("click",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.navLeft())}),o.YNc(2,q,1,0,"mat-icon",16),o.qZA(),o.TgZ(3,"div",17)(4,"div",18),o._UZ(5,"img",19,20),o.qZA()(),o.TgZ(7,"button",15),o.NdJ("click",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.navRight())}),o.YNc(8,a,1,0,"mat-icon",21),o.qZA()()}if(2&ye){const ue=o.oxw();o.xp6(2),o.Q6J("ngIf",ue.chevronVisible),o.xp6(3),o.Q6J("src",ue.fileSrc,o.LSH),o.xp6(3),o.Q6J("ngIf",ue.chevronVisible)}}function M(ye,Ye){1&ye&&o._UZ(0,"mat-icon",22)}function P(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"button",15),o.NdJ("click",function(kt){o.CHM(ue);const rt=o.oxw(2);return kt.stopPropagation(),o.KtG(rt.navLeft())}),o.YNc(1,M,1,0,"mat-icon",16),o.qZA()}if(2&ye){const ue=o.oxw(2);o.xp6(1),o.Q6J("ngIf",ue.chevronVisible)}}const K=function(ye,Ye){return{"icon-preview-visible":ye,"icon-preview-hidden":Ye}};function B(ye,Ye){if(1&ye&&o._UZ(0,"mat-icon",43),2&ye){const ue=o.oxw(3);o.Q6J("ngClass",o.WLB(1,K,ue.showPlayButton,!ue.showPlayButton))}}function j(ye,Ye){1&ye&&o._UZ(0,"mat-progress-spinner",44)}function tt(ye,Ye){1&ye&&o._UZ(0,"mat-icon",45)}function ot(ye,Ye){if(1&ye&&(o.TgZ(0,"div",46)(1,"span",47),o._uU(2),o.qZA()()),2&ye){const ue=o.oxw(3);o.xp6(2),o.Oqu(ue.videoErrorString)}}function F(ye,Ye){if(1&ye){const ue=o.EpF();o.ynx(0),o.TgZ(1,"div",38),o.NdJ("click",function(){o.CHM(ue);const kt=o.oxw(2);return o.KtG(kt.toggleMediaPlay())}),o.YNc(2,B,1,4,"mat-icon",39),o.YNc(3,j,1,0,"mat-progress-spinner",40),o.YNc(4,tt,1,0,"mat-icon",41),o.YNc(5,ot,3,1,"div",42),o.qZA(),o.BQk()}if(2&ye){const ue=o.oxw(2);o.xp6(2),o.Q6J("ngIf",ue.isPaused&&ue.useDisplay===ue.displayTypes.NORMAL&&!ue.sliderMoving),o.xp6(1),o.Q6J("ngIf",ue.useDisplay===ue.displayTypes.SPINNER),o.xp6(1),o.Q6J("ngIf",ue.useDisplay===ue.displayTypes.ERROR),o.xp6(1),o.Q6J("ngIf",ue.useDisplay===ue.displayTypes.ERROR)}}function U(ye,Ye){1&ye&&o._UZ(0,"mat-icon",23)}function z(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"button",15),o.NdJ("click",function(kt){o.CHM(ue);const rt=o.oxw(2);return kt.stopPropagation(),o.KtG(rt.navRight())}),o.YNc(1,U,1,0,"mat-icon",21),o.qZA()}if(2&ye){const ue=o.oxw(2);o.xp6(1),o.Q6J("ngIf",ue.chevronVisible)}}function Q(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"nv-hig-slider",48),o.NdJ("valueChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderPosition=kt)})("input",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderChanged(kt))})("mousedown",function(){o.CHM(ue);const kt=o.oxw(2);return o.KtG(kt.sliderInteraction(!0))})("mouseup",function(){o.CHM(ue);const kt=o.oxw(2);return o.KtG(kt.sliderInteraction(!1))},!1,o.Jf7),o.qZA()}if(2&ye){const ue=o.oxw(2);o.Q6J("step",ue.step)("value",ue.sliderPosition)("animating",!ue.isPaused)}}const dt=function(ye,Ye){return{"short-ranged-time":ye,"long-ranged-time":Ye}};function X(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",49)(1,"nv-input",50),o.NdJ("textChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.minTime=kt)})("stringChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.timeChanged(kt,!0,""))})("incDecChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.modifyTime(kt,!0))}),o.qZA(),o.TgZ(2,"nv-mat-ranged-slider",51),o.NdJ("valueChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderPosition=kt)})("valueChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderChanged(kt))})("leftPositionChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderTrimLeft=kt)})("rightPositionChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.sliderTrimRight=kt)})("leftPositionChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.onLeftSliderChange(kt))})("rightPositionChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.onRightSliderChange(kt))}),o.qZA(),o.TgZ(3,"nv-input",50),o.NdJ("textChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.maxTime=kt)})("stringChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.timeChanged(kt,!1,""))})("incDecChange",function(kt){o.CHM(ue);const rt=o.oxw(2);return o.KtG(rt.modifyTime(kt,!1))}),o.qZA()()}if(2&ye){const ue=o.oxw(2);o.xp6(1),o.Akn(ue.timeStyle),o.Q6J("ngClass",o.WLB(26,dt,!ue.longDuration,ue.longDuration))("text",ue.minTime)("placeholderText",ue.timePlaceHolder)("disabled",!1)("textMaxLength",ue.timeTextMaxLength)("tooltip",ue.editToolTip)("pattern",ue.editPattern)("rangeCheck",ue.rangeCheckLeft),o.xp6(1),o.Q6J("value",ue.sliderPosition)("leftPosition",ue.sliderTrimLeft)("rightPosition",ue.sliderTrimRight)("disableTrim",ue.disableTrimSliders)("spaceBetween",ue.spaceBetween)("step",.1),o.xp6(1),o.Akn(ue.timeStyle),o.Q6J("ngClass",o.WLB(29,dt,!ue.longDuration,ue.longDuration))("text",ue.maxTime)("placeholderText",ue.timePlaceHolder)("disabled",!1)("textMaxLength",ue.timeTextMaxLength)("tooltip",ue.editToolTip)("pattern",ue.editPattern)("rangeCheck",ue.rangeCheckRight)}}const m=function(ye,Ye){return{"viewer-video-counter-short":ye,"viewer-video-counter-long":Ye}};function Y(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",24)(1,"div",25),o.NdJ("keydown",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.processToggleMedia(kt))}),o.YNc(2,P,2,1,"button",26),o.TgZ(3,"div",17)(4,"div",18)(5,"video",27,28),o.NdJ("loadeddata",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.onLoadedData())})("error",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.loadFromDragNDrop())}),o.qZA()(),o.YNc(7,F,6,4,"ng-container",29),o.qZA(),o.YNc(8,z,2,1,"button",26),o.qZA(),o.TgZ(9,"div",30)(10,"nv-item-button",31),o.NdJ("clicked",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.toggleMediaPlay())}),o.qZA(),o.YNc(11,Q,1,3,"nv-hig-slider",32),o.YNc(12,X,4,32,"div",33),o.TgZ(13,"div",34)(14,"span",35),o._uU(15),o.qZA()(),o.TgZ(16,"nv-item-button",36),o.NdJ("clicked",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.muteUnmute())}),o.qZA(),o.TgZ(17,"nv-hig-slider",37),o.NdJ("valueChange",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.volume=kt)})("valueChange",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.volumeChanged())}),o.qZA()()()}if(2&ye){const ue=o.oxw();o.xp6(2),o.Q6J("ngIf",!ue.montageMode),o.xp6(3),o.Q6J("src",ue.fileSrc,o.LSH),o.xp6(2),o.Q6J("ngIf",!ue.editOn),o.xp6(1),o.Q6J("ngIf",!ue.montageMode),o.xp6(2),o.Q6J("svgIcon",ue.isPaused?"play_arrow":"pause")("tooltip",ue.isPaused?"tooltips.Play":"tooltips.Pause"),o.xp6(1),o.Q6J("ngIf",!ue.editOn),o.xp6(1),o.Q6J("ngIf",ue.editOn),o.xp6(1),o.Q6J("ngClass",o.WLB(13,m,!ue.longDuration,ue.longDuration)),o.xp6(2),o.Oqu(ue.videoTime),o.xp6(1),o.Q6J("svgIcon",0===ue.volume?"volume_off":"volume")("tooltip",0===ue.volume?"tooltips.Unmute":"tooltips.Mute"),o.xp6(1),o.Q6J("value",ue.volume)}}const D=function(ye,Ye){return{preview:ye,montage:Ye}},N=function(ye,Ye){return{infopanel:ye,previewpanel:Ye}};let W=(()=>{var ye;class Ye{set imageRef(Lt){this.image=Lt?Lt.nativeElement:null}set videoRef(Lt){this.video&&""!==this.video.src&&(!Lt||this.video!==Lt.nativeElement)&&(this.video.src="",this.hasPlayedVideo=!1,this.video.load()),Lt?(this.video=Lt.nativeElement,this.video.focus()):this.video=null}constructor(Lt,kt,rt,he,Ge,G,at,St,wt,Yt,se){this.loggingService=Lt,this.galleryService=kt,this.bridgeService=rt,this.renderer=he,this.router=Ge,this.route=G,this.osService=at,this.trimService=St,this.dialogHelper=wt,this.appBarService=Yt,this.translate=se,this.destroy$=new u.xQ,this.fileMetaData=void 0,this.previewItems=[],this.videoParams={trimmed:!1,startMs:0,durationMs:0,sliderPosition:0,sliderTrimRight:100,sliderTrimLeft:0,start:0,stop:0,volumeChanged:!1,volume:100,mute:!1},this.description="",this.fileName="",this.fullFilename="",this.dimensions="",this.contentDimensions={width:1280,height:720},this.fileDate="",this.fileTime="",this.fileSize="",this.volume=100,this.savedVolume=100,this.step=.1,this.sliderTrimLeft=0,this.sliderTrimRight=100,this.sliderPosition=0,this.minTrimDefault=5,this.spaceBetween=0,this.trimmed=!1,this.trimCounter=0,this.isPaused=!0,this.playbackTimer=null,this.displayTypes={NORMAL:0,SPINNER:1,ERROR:2},this.useDisplay=this.displayTypes.SPINNER,this.videoErrorString="",this.sliderMoving=!1,this.longDuration=!1,this.hasPlayedVideo=!1,this.showEditControls=!1,this.showShareButton=!1,this.enableShareButton=!1,this.enableSaveButton=!1,this.badInputDataMin=!1,this.badInputDataMax=!1,this.disableTrimSliders=!1,this.editOn=!1,this.chevronVisible=!0,this.montageMode=!1,this.showPlayButton=!0,this.mouseDown=!1,this.snackBarRef=void 0,this.minTime="",this.maxTime="",this.timePlaceHolderShort={text:"00:00.0",arg:""},this.timePlaceHolderLong={text:"00:00:00.0",arg:""},this.timePlaceHolder=this.timePlaceHolderShort,this.trimSeparation=1,this.timeStyle=["20px","16px 0 0 0","0 0 0 6px"],this.shortDurationLength=7,this.longDurationLength=10,this.timeTextMaxLength=this.shortDurationLength,this.editToolTip="",this.editPattern="",this.rangeCheckLeft=void 0,this.rangeCheckRight=void 0,this.dontAllowEdit=!1,this.dialogRef=void 0,this.logger=this.loggingService.getLogger("Preview")}ngOnInit(){this.logger.info("Initializing Preview Component"),this.showEditControls=!0,this.appBarService.actionClicked$.pipe((0,g.R)(this.destroy$)).subscribe(Lt=>{this.logger.info("Action clicked: ",Lt),"arrow_left"===Lt?this.closePreview():"edit"===Lt?this.editVideo():"delete"===Lt?this.deleteItem():"open"===Lt?this.openInFolder():"save"===Lt&&this.save()}),this.galleryService.fileDataChangeListener.pipe((0,g.R)(this.destroy$)).subscribe(Lt=>{this.montageMode=this.galleryService.getMontageMode(),this.minTime=this.maxTime="",Lt&&Lt.file&&Lt.file.name&&this.montageMode&&(this.logger.info("Montage FileDataChange: ",Lt.file.name),this.initializeData(Lt)),this.montageMode||(this.initAppBar(Lt),this.infoSideNav.close(),this.initializeData(Lt),this.checkIfDataIsEdited())}),this.montageMode=this.galleryService.getMontageMode(),this.montageMode&&(this.previewItems=(0,C.cloneDeep)(this.galleryService.currentSelectedFilesData),this.initializeData(this.previewItems[0]),this.infoSideNav.open())}initAppBar(Lt){const kt=this.getTitle(Lt),rt=[];rt.push({id:"delete",icon:"delete_forever",tooltip:"tooltips.Remove",end:!0}),rt.push({id:"open",icon:"folder",tooltip:"tooltips.OpenLocation",end:!0}),Lt.file.type===c.A2.Video&&rt.push({id:"edit",icon:"edit",tooltip:"tooltips.Edit",end:!0}),this.appBarService.setAll({title:{entry:kt,params:{}},navButtonArrow:!0,icons:rt})}editAppBar(Lt,kt){const rt=this.getTitle(Lt),he=[];he.push({id:"save",text:"confirmation.save",tooltip:"tooltips.SaveTrim",button:!0,disabled:!kt}),this.appBarService.setAll({title:{entry:rt,params:{}},navButtonArrow:!0,icons:he})}getTitle(Lt){let kt=Lt.folder;if(Lt.hlName){const rt=`highlightLabels.${Lt.hlName}`;let he=this.translate.instant(rt);he===rt&&(he=Lt.hlName),kt+=" - "+he}return kt}ngOnDestroy(){this.logger.info("Destroying view!"),this.galleryService.trimInProgess=c.k7.off,this.destroy$.next(!0),this.destroy$.complete(),this.snackBarRef&&(this.snackBarRef.dismiss(),this.snackBarRef=void 0),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.video&&""!==this.video.src&&setTimeout(()=>{this.video.src="",this.video.load()})}formatFilesizeString(Lt){return Lt<1e3?Lt+" KB":Lt<1e6?(Lt/1e3).toFixed(2)+" MB":(Lt/1e6).toFixed(2)+" GB"}initializeData(Lt){this.logger.info("Loading preview file"),Lt&&((void 0===this.fileMetaData||Lt.fullFilename!==this.fileMetaData.fullFilename)&&(this.useDisplay=this.displayTypes.SPINNER),this.video&&!this.isPaused&&this.pauseMedia(),this.fileMetaData=Lt,this.isVideo=Lt.file.type===c.A2.Video,this.fileName=Lt.file.name,""!==Lt.date&&(this.fileDate=V(Lt.date).format("MMM D, YYYY"),this.fileTime=V(Lt.date).format("ddd LT")),this.description=Lt.file.name+(""!==Lt.hlName?" - "+Lt.hlName:""),this.fileSize=this.formatFilesizeString(parseInt(Lt.fileSize,10)),this.fileSrc=x.qR+Lt.fullFilename,this.fullFilename=Lt.fullFilename,this.isVideo||this.galleryService.getImageFileDimensions(Lt.fullFilename).subscribe(kt=>{this.dimensions=kt&&kt.width&&kt.height?kt.width+" x "+kt.height:""}),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.isPaused=!0,this.sliderPosition=this.sliderTrimLeft=0,this.sliderTrimRight=100,this.isVideo&&""!==this.minTime&&""!==this.maxTime&&(this.minTime=this.getTrimTime(this.sliderTrimLeft),this.maxTime=this.getTrimTime(this.sliderTrimRight),this.initializeRanges()),this.contextIcon=this.isVideo?"video":"image")}initializeRanges(){this.rangeCheckLeft={min:0,max:100-this.spaceBetween,total:this.video.duration},this.rangeCheckRight={min:0+this.spaceBetween,max:100,total:this.video.duration}}loadFromDragNDrop(){if(this.logger.info("Loading via dragNdrop"),!this.galleryService.currentFileData)return void this.logger.error("Loading a file after gallery moved on");const Lt=this.renderer.listen("document","dragover",rt=>{rt.stopPropagation(),rt.preventDefault(),rt.dataTransfer.dropEffect="copy"}),kt=this.renderer.listen("document","drop",rt=>{if(rt.stopPropagation(),rt.preventDefault(),!rt.dataTransfer.files||!rt.dataTransfer.files[0])return void this.logger.error("bad drop, no file list");if(!this.galleryService.currentFileData)return this.logger.error("Loading a file after gallery moved on"),Lt(),void kt();const he=rt.dataTransfer.files[0];if(he.name===this.galleryService.currentFileData.fullFilename){this.logger.info("Loading file");const Ge=URL.createObjectURL(he);this.isVideo?(this.video.src=Ge,this.video.onerror=G=>{this.logger.error("A video error occured",G),this.useDisplay=this.displayTypes.ERROR},this.video.load()):this.image.src=Ge}else this.logger.error("bad drag file: "+this.galleryService.currentFileData.fullFilename+"-"+he.name);Lt(),kt()});this.bridgeService.executeCommand(p.Gh.Share.Osc.DropUrl,{url:this.galleryService.currentFileData.fullFilename}).subscribe()}calculateSpaceBetween(){let Lt=Math.ceil(1e3/(this.video.duration/this.minTrimDefault))/10;this.dontAllowEdit=!1,this.video.duration<=this.minTrimDefault?(Lt=100,this.dontAllowEdit=!0):Lt<this.trimSeparation&&(Lt=this.trimSeparation),this.spaceBetween=Lt,this.logger.info("Duration: "+this.video.duration+" SpaceBetween: "+this.spaceBetween+"%")}onLoadedData(){this.logger.info("Video ready"),this.volume=100*this.video.volume,this.useDisplay=this.displayTypes.NORMAL,this.dimensions=this.video.videoWidth+" x "+this.video.videoHeight,this.checkPlayButton(),this.setVideoTime(),this.minTime=this.getTrimTime(0),this.maxTime=this.getTrimTime(100),this.calculateSpaceBetween(),this.initializeRanges()}changeVideoCurrentTime(Lt){const kt=parseFloat((Lt/100*this.video.duration).toFixed(2));isNaN(kt)?this.logger.error("ChangeVideoCurrentTime, NaN Error!"):this.video.currentTime=kt}sliderChanged(Lt){this.video&&this.useDisplay===this.displayTypes.NORMAL&&((this.isPaused||!this.isPaused&&!this.editOn)&&(Lt&&Lt.value&&(this.sliderPosition=Lt.value),this.sliderPosition!==this.lastPosition&&Math.round(this.sliderPosition/this.step)!==Math.round(this.lastPosition/this.step)&&(this.changeVideoCurrentTime(this.sliderPosition),this.setVideoTime())),!this.isPaused&&this.sliderTrimRight<=this.sliderPosition&&setTimeout(()=>{this.logger.info("Video end reached, pausing"),this.pauseMedia()}))}toggleMediaPlay(){if(this.video)if(this.video.paused){this.hasPlayedVideo||(this.hasPlayedVideo=!0),Math.ceil(this.video.currentTime/this.video.duration*100/this.step)>=this.sliderTrimRight/this.step&&(this.logger.info("Restarting video..."),this.changeVideoCurrentTime(this.sliderTrimLeft)),this.logger.info("Starting video"),this.video.play(),this.isPaused=!1,this.checkPlayButton();const Lt=this.getTrimStopPosition();this.galleryService.galleryViewAction(l.ryx.Play,this.fileMetaData),this.playbackTimer=setInterval(()=>{this.video?(this.sliderMoving||(this.sliderPosition=this.lastPosition=this.video.currentTime/this.video.duration*100),this.setVideoTime(),(this.trimmed&&this.video.currentTime>=Lt||!this.trimmed&&this.video.currentTime>=this.video.duration)&&this.pauseMedia()):this.pauseMedia()})}else this.pauseMedia()}checkPlayButton(){this.showPlayButton=this.isPaused&&this.useDisplay===this.displayTypes.NORMAL&&!this.sliderMoving}pauseMedia(){this.logger.info("Pausing video"),this.video.pause(),this.isPaused=!0,this.checkPlayButton(),this.playbackTimer&&(this.logger.info("Clearing Interval on pause"),clearInterval(this.playbackTimer),this.playbackTimer=null)}processToggleMedia(Lt){this.editOn||("Enter"===Lt.key||" "===Lt.key)&&this.toggleMediaPlay()}setVideoTime(){this.longDuration=!(this.video.duration<3600);const Lt=this.video.duration,rt=Lt*((this.sliderTrimRight-this.sliderTrimLeft)/100),he=Math.floor(rt/3600),Ge=Math.floor(rt/60-60*he),G=Math.floor(rt-3600*he-60*Ge),at=Math.floor(10*rt)-10*Math.floor(rt),St=("00"+he).slice(-2).toString(),wt=("00"+Ge).slice(-2).toString(),Yt=("00"+G).slice(-2).toString(),se=("0"+at).slice(-1).toString(),Re=Math.abs(Lt*((this.sliderPosition-this.sliderTrimLeft)/100)),Ee=Math.floor(Re/3600),Le=Math.floor(Re/60-60*Ee),xe=Math.floor(Re-3600*Ee-60*Le),an=Math.floor(10*Re)-10*Math.floor(Re),Be=("00"+Le).slice(-2).toString()+":"+("00"+xe).slice(-2).toString()+"."+("0"+an).slice(-1).toString(),ln=wt+":"+Yt+"."+se;if(this.longDuration){this.timePlaceHolder=this.timePlaceHolderLong,this.timeTextMaxLength=this.longDurationLength;const tn=("00"+Ee).slice(-2).toString()+":";this.videoTime=tn+Be+" / "+St+":"+ln,this.editToolTip="tooltips.LimitLong",this.editPattern="[0-9]{2}[:]{1}[0-9]{2}[:]{1}[0-9]{2}[.]{1}[0-9]{1}"}else this.timePlaceHolder=this.timePlaceHolderShort,this.timeTextMaxLength=this.shortDurationLength,this.videoTime=Be+" / "+ln,this.editToolTip="tooltips.LimitShort",this.editPattern="[0-9]{2}[:]{1}[0-9]{2}[.]{1}[0-9]{1}"}volumeChanged(){this.video&&(this.logger.info("Volume changed to "+this.volume),this.video.volume=this.volume/100)}processToggleMute(Lt){("Enter"===Lt.key||" "===Lt.key)&&this.muteUnmute()}muteUnmute(){this.video&&(this.volume?(this.logger.info("Muting video"),this.savedVolume=this.volume,this.volume=0):(this.logger.info("UnMuting video"),this.volume=this.savedVolume||50),this.volumeChanged())}sliderInteraction(Lt){Lt&&this.video&&!this.isPaused?this.sliderMoving=!0:!Lt&&this.sliderMoving&&(this.sliderMoving=!1,this.isPaused&&this.toggleMediaPlay())}closePreview(){this.editOn?(this.editOn=!1,this.chevronVisible=!this.editOn,this.initAppBar(this.fileMetaData)):this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}openInFolder(){let Lt=this.fullFilename;const kt=this.osService.getDirSeparator(),rt=Lt.lastIndexOf(kt);if(-1!==rt&&(Lt=Lt.slice(0,rt)),""!==Lt){const he=this.bridgeService.executeCommand(p.Gh.Common.Applicationinfo.OpenDirectoryBrowser,{name:Lt}).subscribe(()=>{he.unsubscribe()});this.galleryService.galleryViewAction(l.ryx.OpenLocation,this.fileMetaData)}}editVideo(){!this.editOn&&!this.isPaused&&this.isVideo&&this.toggleMediaPlay(),this.showEditControls&&(this.editOn=!this.editOn,this.chevronVisible=!this.editOn,this.checkIfDataIsEdited(),this.disableTrimSliders=this.dontAllowEdit,this.galleryService.galleryAction(l.DCd.Edit))}checkIfDataIsEdited(){this.enableSaveButton=!(0===this.sliderTrimLeft&&100===this.sliderTrimRight||this.badInputDataMin||this.badInputDataMax),this.editOn&&this.editAppBar(this.fileMetaData,this.enableSaveButton)}cancelEdit(){this.logger.info("Cancel Editing"),this.editOn=!1,this.sliderPosition=this.sliderTrimLeft=0,this.sliderTrimRight=100,this.trimmed=!1}navLeft(){this.isPaused||this.pauseMedia(),this.galleryService.getPreviousFile()}navRight(){this.isPaused||this.pauseMedia(),this.galleryService.getNextFile()}deleteItem(){this.logger.info("Remove clicked"),this.dialogHelper.openAlertDialog({title:"confirmation.confirmDeleteTitle",query:"confirmation.confirmDelete",queryParam:"",action1:"confirmation.NotRightNow",action2:"confirmation.remove"}).pipe((0,g.R)(this.destroy$),(0,h.zg)(kt=>kt.afterClosed()),(0,O.h)(kt=>kt===c.DX.Action2),(0,h.zg)(()=>this.galleryService.showDeleteSnackbar([this.fileMetaData])),(0,E.b)(()=>{this.closePreview()}),(0,O.h)(kt=>!1===kt)).subscribe()}trim(Lt,kt){return this.trimService.trim({input:this.fileMetaData.fullFilename,output:Lt,headTrimMs:this.videoParams.startMs,lengthMs:this.videoParams.durationMs}).pipe((0,h.zg)(()=>(this.logger.info("Trim complete!"),this.trimService.getMetaData(this.fileMetaData.fullFilename))),(0,w.U)(he=>(this.logger.info("Return Data: ",he),kt&&(this.fileMetaData.date=he.date,this.fileMetaData.fileSize=he.fileSizeKB.toString(),this.fileMetaData.duration=he.duration.slice(he.duration.indexOf(":")+1)),this.logger.info("Trim post processing complete!"),this.initializeData(this.fileMetaData),this.checkIfDataIsEdited(),this.useDisplay=this.displayTypes.NORMAL,this.sliderPosition=0,this.changeVideoCurrentTime(this.sliderPosition),this.setVideoTime(),this.galleryService.trimInProgess=c.k7.off,kt&&(setTimeout(()=>{this.video.src="",this.video.load()},100),setTimeout(()=>{this.trimCounter++,this.video.src=this.fileSrc+"?"+this.trimCounter.toString(),this.video.load(),this.logger.info("VideoSrc: ",this.video.src)},300)),!0)))}save(){0!==this.sliderTrimLeft||100!==this.sliderTrimRight?this.dialogHelper.openAlertDialog({title:"confirmation.TrimVideo",query:"confirmation.ConfirmSaveChanges",queryParam:"",action1:"confirmation.cancel",action2:"confirmation.TrimOriginal",action3:"confirmation.SaveANewClip"},!1).pipe((0,g.R)(this.destroy$),(0,E.b)(kt=>this.dialogRef=kt),(0,h.zg)(kt=>kt.afterClosed())).subscribe(kt=>{if(kt===c.DX.Action2||kt===c.DX.Action3){this.useDisplay=this.displayTypes.SPINNER;const rt=kt===c.DX.Action2;this.galleryService.trimInProgess=rt?c.k7.inPlace:c.k7.toNew,this.closePreview(),this.setVideoTrimParams(!0);let he=this.fileMetaData.fullFilename;rt||(he=this.createOutputFilename(this.fileMetaData.fullFilename)),this.trim(he,rt).pipe((0,g.R)(this.destroy$)).subscribe(()=>this.trimComplete(rt))}else this.galleryService.galleryAction(l.DCd.TrimCancel)}):this.editOn=!1}trimComplete(Lt){setTimeout(()=>{this.translate.get(Lt?"confirmation.OriginalTrimmed":"confirmation.ShorterSaved").subscribe(rt=>{this.snackBarRef=this.dialogHelper.openSnackBar(rt)})})}sliderUpdate(Lt,kt){setTimeout(()=>{this.sliderPosition=Lt,this.checkIfDataIsEdited(),this.changeVideoCurrentTime(Lt),this.setVideoTime(),kt?(this.minTime=this.getTrimTime(Lt),this.rangeCheckRight.min=Lt+this.spaceBetween):(this.maxTime=this.getTrimTime(Lt),this.rangeCheckLeft.max=Lt-this.spaceBetween)})}onLeftSliderChange(Lt){this.badInputDataMin&&(this.badInputDataMin=!1,this.checkIfDataIsEdited()),this.sliderUpdate(Lt,!0)}onRightSliderChange(Lt){this.badInputDataMax&&(this.badInputDataMax=!1,this.checkIfDataIsEdited()),this.sliderUpdate(Lt,!1)}getTrimTime(Lt){const kt=this.video.duration*Lt/100+.01,rt=Math.floor(kt/3600),he=Math.floor(kt/60-60*rt),Ge=Math.floor(kt-3600*rt-60*he),G=Math.floor(10*kt)-10*Math.floor(kt),at=("00"+rt).slice(-2).toString(),St=("00"+he).slice(-2).toString(),wt=("00"+Ge).slice(-2).toString(),Yt=("0"+G).slice(-1).toString();let se=this.longDuration?at+":":"";return se+=St+":"+wt+"."+Yt,se}isTimeStringValid(Lt,kt){let he=!1;return new RegExp(this.editPattern).test(Lt)||(he=!0),kt?this.badInputDataMin=he:this.badInputDataMax=he,!he}timeStringToSeconds(Lt){const kt=Lt.split(":");let rt=0;if(2===kt.length){const he=kt[1];rt=60*Number(kt[0])+Number(he)}else if(3===kt.length){const he=kt[2],Ge=kt[1];rt=3600*Number(kt[0])+60*Number(Ge)+Number(he)}return rt}secondsToTimeString(Lt){const kt=Math.floor(Lt/3600),rt=Math.floor(Lt/60-60*kt),he=Math.floor(Lt-3600*kt-60*rt),Ge=Math.floor(10*Lt)-10*Math.floor(Lt),G=("00"+kt).slice(-2).toString(),at=("00"+rt).slice(-2).toString(),St=("00"+he).slice(-2).toString(),wt=("0"+Ge).slice(-1).toString();let Yt=this.longDuration?G+":":"";return Yt+=at+":"+St+"."+wt,Yt}calculateNewPercentage(Lt){return Lt/this.video.duration*100}timeChanged(Lt,kt,rt){if(!this.isTimeStringValid(Lt,kt))return void this.checkIfDataIsEdited();this.checkIfDataIsEdited();const he=this.timeStringToSeconds(Lt),Ge=this.calculateNewPercentage(he);if(kt){if("decrement"===rt&&this.sliderTrimLeft<=0||Ge+this.spaceBetween>=this.sliderTrimRight)return!1;this.sliderTrimLeft=Ge,this.rangeCheckRight.min=Ge+this.spaceBetween}else{if("increment"===rt&&Ge>=100)return this.sliderTrimRight=100,!1;if(Ge-this.spaceBetween<=this.sliderTrimLeft)return!1;this.sliderTrimRight=Ge,this.rangeCheckLeft.max=Ge-this.spaceBetween}return!0}modifyTime(Lt,kt){const he="increment"===Lt?this.step:-this.step;if(kt){let Ge=this.timeStringToSeconds(this.minTime)+he;Ge=Math.round(10*Ge)/10,Ge=Math.floor(10*Ge)/10;const G=this.secondsToTimeString(Ge);this.timeChanged(G.toString(),kt,Lt)&&(this.minTime=G)}else{let Ge=this.timeStringToSeconds(this.maxTime)+he;Ge=Math.round(10*Ge)/10,Ge=Math.floor(10*Ge)/10;const G=this.secondsToTimeString(Ge);this.timeChanged(G.toString(),kt,Lt)&&(this.maxTime=G)}}setVideoTrimParams(Lt){const kt=this.sliderTrimLeft*this.video.duration*10,rt=kt/1e3,he=(this.sliderTrimRight-this.sliderTrimLeft)*this.video.duration*10;this.videoParams={trimmed:Lt,startMs:kt,durationMs:he,sliderPosition:this.sliderPosition,sliderTrimRight:this.sliderTrimRight,sliderTrimLeft:this.sliderTrimLeft,start:rt,stop:rt+he/1e3,volume:this.volume,mute:0===this.volume,volumeChanged:100!==this.volume},this.logger.info("Video Parameters for Trim: ",this.videoParams)}getTrimStopPosition(){return(this.sliderTrimLeft*this.video.duration*10+(this.sliderTrimRight-this.sliderTrimLeft)*this.video.duration*10)/1e3}verifyDateAndTime(Lt,kt){return!!(/^\d{4}.\d{2}.\d{2}$/.test(Lt)&&/^\d{2}.\d{2}.\d{2}.\d{2}$/.test(kt)&&V(Lt,"YYYY.MM.DD",!0).isValid()&&V(kt,"HH.mm.ss.SS",!0).isValid())}createOutputFilename(Lt){let kt="";const rt=Lt.lastIndexOf(".");rt>=0&&(kt=Lt.slice(0,rt));const he=Date.now(),Ge=V(he).format("YYYY.MM.DD - HH.mm.ss.SS"),G=kt.length-24,at=kt.length-11,St=kt.slice(G,G+10),wt=kt.slice(at);return this.verifyDateAndTime(St,wt)&&(kt=kt.slice(0,G))," "!==kt[kt.length-1]&&(kt+=" "),kt+Ge+".mp4"}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)(o.Y36(x.ed),o.Y36(c.rj),o.Y36(x.dF),o.Y36(o.Qsj),o.Y36(i.F0),o.Y36(i.gz),o.Y36(c.HY),o.Y36(c.Sp),o.Y36(c.Mb),o.Y36(n.ad),o.Y36(s.sK))},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["oogg-preview"]],viewQuery:function(Lt,kt){if(1&Lt&&(o.Gf(R,5),o.Gf(_,5),o.Gf(b,7)),2&Lt){let rt;o.iGM(rt=o.CRH())&&(kt.imageRef=rt.first),o.iGM(rt=o.CRH())&&(kt.videoRef=rt.first),o.iGM(rt=o.CRH())&&(kt.infoSideNav=rt.first)}},decls:17,vars:14,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg"],["fxFlexFill",""],["mode","side","position","end",1,"sidepanel-area"],["infoSideNav",""],["class","montage-item","fxFlex","","cdkScrollable","",4,"ngIf"],[1,"preview-container"],["fxLayout","row","fxFlexFill","",3,"ngClass"],["fxLayout","column","fxFlex",""],["fxFlex","none","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",3,"ngClass"],["fxFlex","grow",1,"font-body3"],["dir","auto","fxFlex","none",1,"font-body3"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxFlex","","fxLayout","column",4,"ngIf"],["fxFlex","","cdkScrollable","",1,"montage-item"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","mat-button","",1,"complex-button",3,"click"],["svgIcon","chevron_left","class","nav-button",4,"ngIf"],["fxFlex","","fxFlexAlign","stretch",1,"content-container"],[1,"content-absolute"],["alt","","tabIndex","-1",1,"preview-content",3,"src"],["image",""],["svgIcon","chevron_right","class","nav-button",4,"ngIf"],["svgIcon","chevron_left",1,"nav-button"],["svgIcon","chevron_right",1,"nav-button"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"content-container",3,"keydown"],["fxFlex","none","mat-button","","class","complex-button",3,"click",4,"ngIf"],["type","video/mp4","tabIndex","-1",1,"preview-content",3,"src","loadeddata","error"],["video",""],[4,"ngIf"],["dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",1,"viewer-media-toolbar"],["fxFlex","none",1,"viewer-playpause-button",3,"svgIcon","tooltip","clicked"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup",4,"ngIf"],["fxLayout","row","fxFlex","grow","fxLayoutGap","16px",4,"ngIf"],["fxLayout","","fxLayoutAlign","center center",3,"ngClass"],[1,"font-body2"],["fxFlex","none",1,"viewer-video-volume-button",3,"svgIcon","tooltip","clicked"],["min","0","max","100",1,"viewer-video-volume-slider",3,"value","valueChange"],["fxLayout","row","fxLayoutAlign","center center",1,"video-overlay-button",3,"click"],["svgIcon","play_arrow","class","video-overlay-button-icon circle-play",3,"ngClass",4,"ngIf"],["id","progressIndicator","class","md-accent","mode","indeterminate",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal icon48 video-moment-error",4,"ngIf"],["class","video-box-error",4,"ngIf"],["svgIcon","play_arrow",1,"video-overlay-button-icon","circle-play",3,"ngClass"],["id","progressIndicator","mode","indeterminate",1,"md-accent"],["svgIcon","alert_circle",1,"icon-normal","icon48","video-moment-error"],[1,"video-box-error"],[1,"video-text-error","font-body1"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup"],["fxLayout","row","fxFlex","grow","fxLayoutGap","16px"],["fxFlex","auto",3,"ngClass","text","placeholderText","disabled","textMaxLength","tooltip","pattern","rangeCheck","textChange","stringChange","incDecChange"],["fxFlex","grow",3,"value","leftPosition","rightPosition","disableTrim","spaceBetween","step","valueChange","leftPositionChange","rightPositionChange"]],template:function(Lt,kt){1&Lt&&(o.TgZ(0,"div",0)(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),o.YNc(4,I,1,0,"nv-montage",4),o.qZA(),o.TgZ(5,"mat-sidenav-content",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),o._uU(10),o.qZA(),o.TgZ(11,"span",10),o._uU(12),o.qZA(),o.TgZ(13,"span",10),o._uU(14),o.qZA()(),o.YNc(15,y,9,3,"div",11),o.YNc(16,Y,18,16,"div",12),o.qZA()()()()()),2&Lt&&(o.xp6(4),o.Q6J("ngIf",kt.montageMode),o.xp6(2),o.Q6J("ngClass",o.WLB(8,D,!kt.montageMode,kt.montageMode)),o.xp6(2),o.Q6J("ngClass",o.WLB(11,N,kt.montageMode,!kt.montageMode)),o.xp6(2),o.Oqu(kt.description),o.xp6(2),o.Oqu(kt.dimensions),o.xp6(2),o.Oqu(kt.fileSize),o.xp6(1),o.Q6J("ngIf",!kt.isVideo),o.xp6(1),o.Q6J("ngIf",kt.isVideo))},styles:[".nv-gap-4[_ngcontent-%COMP%]{height:4px}.nv-horizontal-gap-4[_ngcontent-%COMP%]{width:4px}.nv-gap-8[_ngcontent-%COMP%]{height:8px}.nv-horizontal-gap-8[_ngcontent-%COMP%]{width:8px}.nv-gap-12[_ngcontent-%COMP%]{height:12px}.nv-gap-16[_ngcontent-%COMP%]{height:16px}.nv-gap-24[_ngcontent-%COMP%]{height:24px}.nv-horizontal-gap-24[_ngcontent-%COMP%]{width:24px}.nv-gap-32[_ngcontent-%COMP%]{height:32px}.nv-horizontal-gap-32[_ngcontent-%COMP%]{width:32px}.nv-gap-40[_ngcontent-%COMP%]{height:40px}.nv-gap-48[_ngcontent-%COMP%]{height:48px}.infopanel[_ngcontent-%COMP%]{margin:16px 24px 8px;width:calc(100% - 48px)}.previewpanel[_ngcontent-%COMP%]{margin-bottom:8px}.preview-container[_ngcontent-%COMP%]{overflow:hidden}.preview[_ngcontent-%COMP%]{padding:16px}.montage[_ngcontent-%COMP%]{padding:0 16px}.montage-item[_ngcontent-%COMP%]{overflow-y:auto}.content-container[_ngcontent-%COMP%]{position:relative}.content-absolute[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;position:absolute}.preview-content[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.video-overlay-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.95}.video-overlay-button-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;padding:16px}.circle-play[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#191919}.icon48[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px}.nav-button[_ngcontent-%COMP%]{color:#ffffffb3;padding:6px;font-size:32px;width:36px;height:36px;border-radius:50%}.video-moment-error[_ngcontent-%COMP%]{position:absolute;text-align:center;vertical-align:middle}.video-box-error[_ngcontent-%COMP%]{margin-top:80px;text-align:center;display:table}.video-box-error[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle!important}.viewer-media-toolbar[_ngcontent-%COMP%]{width:100%;max-height:68px;min-height:68px!important;padding:16px 24px}.viewer-bottom-toolbar[_ngcontent-%COMP%]{width:100%;height:40px;padding:0 8px 8px 24px}.viewer-playpause-button[_ngcontent-%COMP%]{margin:0 8px 0 0}.viewer-video-counter-short[_ngcontent-%COMP%]{min-width:110px;margin:0 0 0 16px}.viewer-video-counter-long[_ngcontent-%COMP%]{min-width:150px;margin:0 0 0 16px}.viewer-video-volume-slider[_ngcontent-%COMP%]{min-width:80px}.viewer-video-volume-button[_ngcontent-%COMP%]{margin:0 0 0 16px}.sidepanel-area[_ngcontent-%COMP%]{min-width:354px;max-width:354px;background-color:#191919;border-left:none}.short-ranged-time[_ngcontent-%COMP%]{max-width:60px;min-width:60px}.long-ranged-time[_ngcontent-%COMP%]{max-width:80px;min-width:80px}"]}),Ye})();const A=[{path:"",component:W}];var d=t(8815),H=t(73992),$=t(38096),J=t(9681),st=t(46939),lt=t(58175),gt=t(93005);function vt(ye,Ye){1&ye&&(o.TgZ(0,"mat-label",3),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&ye&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"montage.Celebration")))}function k(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"nv-dropdown",10),o.NdJ("selectionChanged",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.onCelebrationChanged(kt))}),o.qZA()}if(2&ye){const ue=o.oxw();o.Q6J("selection",ue.celebrationIndex)("input",ue.celebrationInput)}}function pt(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",11),o.NdJ("click",function(){const rt=o.CHM(ue).$implicit,he=o.oxw();return o.KtG(he.itemSelected(rt))}),o.TgZ(1,"nv-gallery-item",12),o.NdJ("selectedItemDeleted",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.removeItem(kt))}),o.qZA()()}if(2&ye){const ue=Ye.$implicit,Lt=o.oxw();o.xp6(1),o.Q6J("item",ue)("thumbWidth",Lt.thumbWidth)("thumbHeight",Lt.thumbHeight)("activeItem",Lt.activeItem===ue?ue:void 0)("deleteVisible",!0)}}let yt=(()=>{var ye;class Ye{constructor(Lt,kt,rt,he,Ge,G,at,St,wt,Yt,se,fe,Re){this.bridgeService=Lt,this.dialogHelper=kt,this.galleryService=rt,this.trimService=he,this.loggingService=Ge,this.montageService=G,this.osService=at,this.router=St,this.route=wt,this.appBarService=Yt,this.translateService=se,this.ipcService=fe,this.idmService=Re,this.destroy$=new u.xQ,this.postMontageMessage="",this.tempDirectory="",this.tempOutput="",this.finalOutput="",this.thumbWidth=c.dz.width,this.thumbHeight=c.dz.height,this.title="",this.titlePlaceHolder={text:"montage.EnterTitle",arg:""},this.subtitle="",this.subtitlePlaceHolder={text:"montage.EnterSubtitle",arg:""},this.editStyle=["","","8px 0 0 0"],this.celebrationIndex=0,this.celebrationInput=[],this.celebrationValid=!1,this.logger=this.loggingService.getLogger("Montage")}ngOnInit(){this.montageItems=(0,C.cloneDeep)(this.galleryService.currentSelectedFilesData).sort((kt,rt)=>{const he=Date.parse(kt.date),Ge=Date.parse(rt.date);return he<Ge?-1:he>Ge?1:0}),this.setupAppBar(!0),setTimeout(()=>{this.itemSelected(this.montageItems[0])}),this.bridgeService.executeCommand(p.Gh.Common.Gallery.GetSettings).pipe((0,g.R)(this.destroy$)).subscribe(kt=>{this.tempDirectory=kt.settings.tempFolderPath}),this.montageService.title=this.title=this.translateService.instant("montage.BestGamingMoments"),this.montageService.defaultTitle=this.titlePlaceHolder.text,this.montageService.defaultSubtitle=this.subtitlePlaceHolder.text,this.celebrationIndex=this.montageService.celebrationIndex,this.idmService.cachedUser.subscribe(kt=>{var rt;let he=null===(rt=kt.data)||void 0===rt?void 0:rt.displayName;he||(he=this.translateService.instant("montage.Unknown")),this.montageService.username=he,this.montageService.subtitle=this.subtitle=this.translateService.instant("montage.ByUsername",{arg:this.montageService.username})}),this.montageService.resList.length=0,this.montageService.initializeMontageMetrics();const Lt=[];this.montageItems.forEach(kt=>{Lt.push(this.montageService.getVideoDimensionsOf(kt.fullFilename))}),setTimeout(()=>{(0,H.$R)(...Lt).pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.logger.info("Size of resList: ",this.montageService.resList.length),this.setupAppBar(!1)})}),this.appBarService.actionClicked$.pipe((0,g.R)(this.destroy$)).subscribe(kt=>{this.logger.info("Action clicked: ",kt),"montage"===kt&&this.onMontageClicked()}),this.initializeCloudData()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}closeMontage(){this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}setupAppBar(Lt){this.appBarService.setAll({title:{entry:"montage.Montage",params:{}},navButtonArrow:!0,icons:[{id:"montage",text:"montage.Create",tooltip:"montage.CreateMontage",button:!0,disabled:Lt}]})}getFileSize(Lt){return 1024*parseInt(Lt.fileSize,10)}reset(){this.tempOutput="",this.finalOutput=""}initializeCloudData(){const Lt=this.montageService.montageCloudData.montageConfig.celebrations;void 0!==Lt&&Lt.length>0&&(this.celebrationValid=!0,Lt.forEach(kt=>{const rt=`celebrations.${kt.id}`;let he=this.translateService.instant(rt);he===rt&&(he=kt.name),this.celebrationInput.push(he)}))}onMontageClicked(){this.logger.info("Create Montage clicked"),this.galleryService.currentSelectedFilesData?(this.postMontageMessage="",this.reset(),this.ipcService.get$(gt.oI.ProgressUpdate).pipe((0,g.R)(this.destroy$)).subscribe(kt=>{this.progressDialogRef&&(this.progressDialogRef.componentInstance.value=Math.floor(Number(kt)))},kt=>{this.logger.error("Failed to initialize Experience Context with error: ",kt)}),this.dialogHelper.openAlertDialog({title:"montage.Montage",query:"montage.Progress",queryParam:{},action1:"confirmation.cancel",progressBar:!0,progressMode:"determinate",progressPercentage:!0}).pipe((0,g.R)(this.destroy$)).subscribe(kt=>{this.progressDialogRef=kt,(0,$.S3)(kt.afterClosed(),this.launchMontage(this.montageItems,kt)).pipe((0,g.R)(this.destroy$),(0,st.q)(1)).subscribe(rt=>{this.progressDialogRef=void 0,rt!==c.DX.Action1?(kt.close(),this.postMontageMessage?(this.cleanup(),this.showError(this.postMontageMessage)):this.loadPreviewWithMontage()):this.cancel()},rt=>{this.progressDialogRef=void 0,this.cancel()})})):this.logger.info("No files selected in the gallery for use in the montage")}loadPreviewWithMontage(){this.trimService.getMetaData(this.finalOutput).subscribe(Lt=>{const kt=this.osService.getDirSeparator(),rt=this.finalOutput.lastIndexOf(kt),he=this.finalOutput.slice(rt+1),Ge={fullFilename:this.finalOutput,selected:!1,file:{name:he,type:Lt.fileType,subtype:Lt.fileSubType,source:Lt.fileSource,drsProfileName:Lt.DRSProfileName,thumbnail:""},folder:Lt.DRSProfileName,cmsId:Lt.cmsId,index:0,duration:Lt.duration,msDuration:Lt.msDuration,date:Lt.date,fileSize:Lt.fileSizeKB?Lt.fileSizeKB.toString():"0",audiotype:Lt.audiotype,hlName:"",hlDefinitionId:"",hlId:-1,hlGroup:"",cancel:!1,data:"",errorType:"",errorDetails:""};this.galleryService.setMontageMode(!1),this.montageService.montageComplete(Lt.msDuration),this.itemSelected(Ge),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})},Lt=>{this.logger.info("Failed to get MetaData to load montage preview, returning to gallery"),this.closeMontage()})}cancel(){this.montageService.cancelMontage().subscribe(()=>this.cleanup())}cleanup(){this.finalOutput&&this.bridgeService.executeCommand(p.Gh.Common.Gallery.RemoveGalleryItem,{file:this.finalOutput,forceDelete:!0}).pipe((0,lt.K)(()=>{})).subscribe()}showError(Lt){this.dialogHelper.openAlertDialog({title:"montage.Error",query:Lt,queryParam:{},action1:"confirmation.cancel"}).pipe((0,g.R)(this.destroy$)).subscribe()}removeItem(Lt){const kt=this.montageItems.indexOf(Lt),rt=Lt===this.activeItem;this.montageItems.splice(kt,1),this.montageService.metrics.itemsDeleted++,0===this.montageItems.length?this.closeMontage():rt&&this.itemSelected(this.montageItems[0])}itemSelected(Lt){this.activeItem=Lt,this.galleryService.currentFileData=Lt}checkMontageButtonState(){this.setupAppBar(0===this.montageService.title.length||0===this.montageService.subtitle.length)}titleChanged(Lt){this.logger.info("New title: ",Lt),this.montageService.title=Lt,this.montageService.metrics.titleSequenceChanged=l.wye.TRUE,this.checkMontageButtonState()}subtitleChanged(Lt){this.logger.info("New subtitle: ",Lt),this.montageService.subtitle=Lt,this.montageService.metrics.subtitleSequenceChanged=l.wye.TRUE,this.checkMontageButtonState()}onCelebrationChanged(Lt){this.logger.info("New Celebration: ",Lt),this.montageService.celebrationIndex=Lt}drop(Lt){this.montageService.metrics.itemsRearranged++,(0,d.bA)(Lt.container.data,Lt.previousIndex,Lt.currentIndex)}launchMontage(Lt,kt){const rt=[];Lt.forEach(Ge=>{rt.push({video:Ge.fullFilename,videoDuration:Ge.msDuration,highlightName:Ge.hlName,edgeLog:"",description:Ge.date,cmsId:Ge.cmsId?Ge.cmsId.toString():"0",mediaType:Ge.file.subtype})});const he=this.translateService.instant("montage.Montage");return this.tempOutput=this.galleryService.generateTempFilename(`${this.tempDirectory}`,"nvmontage","mp4"),this.logger.info("Montage temp output: ",this.tempOutput),this.montageService.mediaDir="C:/Montage/MontageMedia",this.logger.info("Montage Media Dir: ",this.montageService.mediaDir),this.montageService.createMontageFromRecipe(rt,this.tempOutput,"release/nvuniversal.html").pipe((0,h.zg)(Ge=>(this.logger.info("Intermediate Result: ",Ge),this.finalOutput=this.galleryService.generateGalleryFilename(he,"mp4"),this.logger.info("Montage final output: ",this.finalOutput),this.progressDialogRef.componentInstance.dialogData={title:"montage.CreatingMontage",query:"montage.Completing",queryParam:{},action1:"confirmation.cancel",progressBar:!0,progressMode:"indeterminate"},this.bridgeService.executeCommand(p.Gh.Common.Gallery.MoveFile,{source:Ge,destination:this.finalOutput}))),(0,lt.K)(Ge=>(this.postMontageMessage=Ge.message,(0,J.of)(c.DX.Action2))))}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)(o.Y36(x.dF),o.Y36(c.Mb),o.Y36(c.rj),o.Y36(c.Sp),o.Y36(x.ed),o.Y36(c.wz),o.Y36(c.HY),o.Y36(i.F0),o.Y36(i.gz),o.Y36(n.ad),o.Y36(s.sK),o.Y36(gt.uC),o.Y36(l.No2))},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["nv-montage"]],decls:23,vars:27,consts:[["multi","true","fxLayout","column",1,"montage","nv-oogg"],[1,"font-sub1"],["fxLayout","column"],[1,"font-sub2","title"],[3,"label","text","placeholderText","disabled","textMaxLength","textChange","stringChange"],["class","font-sub2 title",4,"ngIf"],[3,"selection","input","selectionChanged",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","vertical",1,"montage-container",3,"cdkDropListData","cdkDropListDropped"],["montageList","cdkDropList"],["class","item montage-item","fxLayout","column","cdkDrag","",3,"click",4,"ngFor","ngForOf"],[3,"selection","input","selectionChanged"],["fxLayout","column","cdkDrag","",1,"item","montage-item",3,"click"],[3,"item","thumbWidth","thumbHeight","activeItem","deleteVisible","selectedItemDeleted"]],template:function(Lt,kt){1&Lt&&(o.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title",1),o._uU(4),o.ALo(5,"translate"),o.qZA()(),o.TgZ(6,"div",2)(7,"mat-label",3),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"nv-input",4),o.NdJ("textChange",function(he){return kt.title=he})("stringChange",function(he){return kt.titleChanged(he)}),o.qZA(),o.TgZ(11,"nv-input",4),o.NdJ("textChange",function(he){return kt.subtitle=he})("stringChange",function(he){return kt.subtitleChanged(he)}),o.qZA(),o.YNc(12,vt,3,3,"mat-label",5),o.YNc(13,k,1,2,"nv-dropdown",6),o.qZA()(),o._UZ(14,"nv-divider"),o.TgZ(15,"mat-expansion-panel")(16,"mat-expansion-panel-header")(17,"mat-panel-title",1),o._uU(18),o.ALo(19,"translate"),o.qZA()(),o.TgZ(20,"div",7,8),o.NdJ("cdkDropListDropped",function(he){return kt.drop(he)}),o.YNc(22,pt,2,5,"div",9),o.qZA()()()),2&Lt&&(o.xp6(4),o.Oqu(o.lcZ(5,21,"montage.Properties")),o.xp6(4),o.Oqu(o.lcZ(9,23,"montage.TitleSequence")),o.xp6(2),o.Akn(kt.editStyle),o.Q6J("label","montage.Title")("text",kt.title)("placeholderText",kt.titlePlaceHolder)("disabled",!1)("textMaxLength",80),o.xp6(1),o.Akn(kt.editStyle),o.Q6J("label","montage.Subtitle")("text",kt.subtitle)("placeholderText",kt.subtitlePlaceHolder)("disabled",!1)("textMaxLength",80),o.xp6(1),o.Q6J("ngIf",kt.celebrationValid),o.xp6(1),o.Q6J("ngIf",kt.celebrationValid),o.xp6(5),o.Oqu(o.lcZ(19,25,"montage.Media")),o.xp6(2),o.Q6J("cdkDropListData",kt.montageItems),o.xp6(2),o.Q6J("ngForOf",kt.montageItems))},styles:[".montage-container[_ngcontent-%COMP%]{cursor:move}.montage-container[_ngcontent-%COMP%]   .montage-item[_ngcontent-%COMP%]{padding-bottom:18px}.cdk-drag-animating[_ngcontent-%COMP%], .montage-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .montage-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .3s cubic-bezier(0,0,.2,1)}.title[_ngcontent-%COMP%]{margin:8px 0 0;height:32px}.montage[_ngcontent-%COMP%]{padding:24px;overflow-y:auto}"]}),Ye})();var Xt=t(80152),It=t(45356),Nt=t(47520),le=t(28849),te=t(71268),bt=t(99674),Vt=t(60702);const ut=function(ye){return{arg:ye}};function re(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div")(1,"mat-form-field",2)(2,"mat-label",3),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"input",4,5),o.NdJ("ngModelChange",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.text=kt)})("change",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.updateSource())})("input",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.textInput(kt))}),o.ALo(7,"translate"),o.ALo(8,"translate"),o.qZA()()()}if(2&ye){const ue=o.oxw();o.xp6(3),o.Oqu(o.lcZ(4,9,ue.label)),o.xp6(2),o.Q6J("placeholder",o.xi3(7,11,null==ue.placeholderText?null:ue.placeholderText.text,o.VKq(16,ut,null==ue.placeholderText?null:ue.placeholderText.arg)))("ngModel",ue.text)("ngStyle",ue.itemStyle)("matTooltip",o.lcZ(8,14,ue.tooltip))("pattern",ue.pattern)("disabled",ue.disabled)("readonly",ue.readonly)("tabindex",ue.tabindex)}}function Kt(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",6)(1,"input",7,5),o.NdJ("ngModelChange",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.text=kt)})("change",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.updateSource())})("input",function(kt){o.CHM(ue);const rt=o.oxw();return o.KtG(rt.textInput(kt))}),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()()}if(2&ye){const ue=o.oxw();o.xp6(1),o.Q6J("placeholder",o.xi3(3,8,null==ue.placeholderText?null:ue.placeholderText.text,o.VKq(13,ut,null==ue.placeholderText?null:ue.placeholderText.arg)))("ngModel",ue.text)("ngStyle",ue.itemStyle)("matTooltip",o.lcZ(4,11,ue.tooltip))("pattern",ue.pattern)("disabled",ue.disabled)("readonly",ue.readonly)("tabindex",ue.tabindex)}}let Wt=(()=>{var ye;class Ye{constructor(){this.underlinecolor="",this.style=[],this.tooltip=void 0,this.pattern=void 0,this.rangeCheck=void 0,this.textChange=new o.vpe,this.stringChange=new o.vpe,this.incDecChange=new o.vpe}get text(){return this._text}set text(Lt){this._text=Lt,void 0!==this.rangeCheck&&this.setUnderlineColor()}updateSource(){this.textChange.emit(this.text)}validateInputText(){return!this.pattern||!!new RegExp(this.pattern).test(this.text)}durationToSeconds(Lt){const kt=Lt.length>7,rt=Lt.lastIndexOf(":"),he=Lt.slice(rt+1),Ge=Lt.slice(0,rt);if(kt){const G=Ge.lastIndexOf(":"),at=Ge.slice(G+1),St=Lt.slice(0,G);return Number(he)+60*Number(at)+3600*Number(St)}return Number(he)+60*Number(Ge)}validateInputRange(){if(!this.rangeCheck)return!0;const kt=this.durationToSeconds(this.text)/this.rangeCheck.total*100;return!(kt<this.rangeCheck.min||kt>this.rangeCheck.max)}textInput(Lt){const kt=Lt.target;kt&&this.textMaxLength<=kt.value.length?kt.value=this.text=kt.value.slice(0,this.textMaxLength):this.text=kt.value,this.pattern&&this.setUnderlineColor(),this.stringChange.emit(this.text)}setUnderlineColor(){this.underlinecolor=this.validateInputText()&&this.validateInputRange()?"1px solid #76b900":"1px solid red"}get itemStyle(){return{height:this.style[0],margin:this.style[1],padding:this.style[2],"border-bottom":this.underlinecolor}}onkeydown(Lt){if(this.disabled)return;let kt;"ArrowDown"===Lt.key?kt="decrement":"ArrowUp"===Lt.key&&(kt="increment"),kt&&(Lt.preventDefault(),Lt.stopPropagation(),this.incDecChange.emit(kt))}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["nv-input"]],hostBindings:function(Lt,kt){1&Lt&&o.NdJ("keydown",function(he){return kt.onkeydown(he)})},inputs:{label:"label",textMaxLength:"textMaxLength",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",placeholderText:"placeholderText",style:"style",tooltip:"tooltip",pattern:"pattern",rangeCheck:"rangeCheck",text:"text"},outputs:{textChange:"textChange",stringChange:"stringChange",incDecChange:"incDecChange"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["color","accent","appearance","fill",1,"nv-input-form"],[1,"font-body3","font-nocolor"],["type","text","matTooltipClass","nv-oogg oogg-tooltip","fxLayoutAlign","center center","matInput","","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"font-body2",3,"placeholder","ngModel","ngStyle","matTooltip","pattern","disabled","readonly","tabindex","ngModelChange","change","input"],["input",""],["fxLayout","row","fxLayoutAlign","start center"],["type","text","matTooltipClass","nv-oogg oogg-tooltip","fxLayoutAlign","center center","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"font-body2","nv-input-raw",3,"placeholder","ngModel","ngStyle","matTooltip","pattern","disabled","readonly","tabindex","ngModelChange","change","input"]],template:function(Lt,kt){1&Lt&&(o.YNc(0,re,9,18,"div",0),o.YNc(1,Kt,5,15,"div",1)),2&Lt&&(o.Q6J("ngIf",kt.label),o.xp6(1),o.Q6J("ngIf",!kt.label))},dependencies:[e.O5,e.PC,It.xw,It.Wh,Nt.Zl,le.Fj,le.JJ,le.c5,le.On,te.KE,te.hX,bt.Nt,Vt.gM,s.X$],styles:[".nv-input-form[_ngcontent-%COMP%]{width:100%}.nv-input-raw[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:0;caret-color:#76b900;box-sizing:border-box;border-bottom:1px solid rgba(255,255,255,.3)}.nv-input-raw[_ngcontent-%COMP%]:disabled{opacity:.38;cursor:default}.nv-input-raw[_ngcontent-%COMP%]:focus{padding-bottom:0;border-bottom:1px solid #76b900}.nv-input-raw[_ngcontent-%COMP%]:not(:focus){padding-bottom:0;border-bottom:1px solid rgba(255,255,255,.3)!important}.font-nocolor[_ngcontent-%COMP%]{color:unset}"]}),Ye})();var oe=t(55998),Qt=t(30554),Pt=t(10257),Ut=t(73274),Tt=t(84614),it=t(93170),Mt=t(24565);const zt=["sliderWrapper"];function ft(ye,Ye){if(1&ye&&(o.TgZ(0,"div",6),o._UZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),o.qZA()),2&ye){const ue=o.oxw();o.xp6(1),o.Q6J("ngStyle",ue._trackBackgroundStyles),o.xp6(1),o.Q6J("ngStyle",ue._trackMaxRangeBackgroundStyles),o.xp6(1),o.Q6J("ngStyle",ue._trackFillStyles),o.xp6(1),o.Q6J("ngStyle",ue._trackMinRangeBackgroundStyles)}}function ve(ye,Ye){if(1&ye&&(o.TgZ(0,"div",11),o._UZ(1,"div",12),o.qZA()),2&ye){const ue=o.oxw();o.Q6J("ngStyle",ue._ticksContainerStyles),o.xp6(1),o.Q6J("ngStyle",ue._ticksStyles)}}function Ce(ye,Ye){if(1&ye&&(o.TgZ(0,"div",13),o._UZ(1,"div",14)(2,"div",15),o.TgZ(3,"div",16)(4,"span",17),o._uU(5),o.qZA()()()),2&ye){const ue=o.oxw();o.Q6J("ngStyle",ue._thumbContainerStyles),o.xp6(5),o.Oqu(ue.displayValue)}}function De(ye,Ye){if(1&ye&&(o.TgZ(0,"div",6),o._UZ(1,"div",18)(2,"div",19),o.qZA()),2&ye){const ue=o.oxw();o.xp6(2),o.Q6J("ngStyle",ue._activeTrackStyle)}}function ze(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",20),o.NdJ("mousedown",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.leftDown=!0)})("mouseup",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.leftDown=!1)},!1,o.Jf7),o._UZ(1,"div",21)(2,"div",22),o.qZA()}if(2&ye){const ue=o.oxw();o.Q6J("ngStyle",ue._thumbContainerStyle),o.xp6(1),o.ekj("clicked",ue.leftDown),o.xp6(1),o.ekj("clicked",ue.leftDown)}}function $e(ye,Ye){if(1&ye){const ue=o.EpF();o.TgZ(0,"div",20),o.NdJ("mousedown",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.rightDown=!0)})("mouseup",function(){o.CHM(ue);const kt=o.oxw();return o.KtG(kt.rightDown=!1)},!1,o.Jf7),o._UZ(1,"div",23)(2,"div",24),o.qZA()}if(2&ye){const ue=o.oxw();o.Q6J("ngStyle",ue._thumbContainerStyle),o.xp6(1),o.ekj("clicked",ue.rightDown),o.xp6(1),o.ekj("clicked",ue.rightDown)}}const Se=(0,Ut.i$)({passive:!1}),Gt={provide:le.JU,useExisting:(0,o.Gpc)(()=>Ie),multi:!0};class Zt{}const ee=(0,Pt.sb)((0,Pt.pj)((0,Pt.Id)(class{constructor(ye){this._elementRef=ye}}),"accent")),_e=-4294967295;let Ie=(()=>{var ye;class Ye extends ee{get rangeMin(){return this._rangeMin}set rangeMin(Lt){const kt=(0,oe.su)(Lt,this._min);this._rangeMin=this._calculatePercentage(kt)}get rangeMax(){return this._rangeMax}set rangeMax(Lt){const kt=(0,oe.su)(Lt,this._max);this._rangeMax=this._calculatePercentage(kt)}get invert(){return this._invert}set invert(Lt){this._invert=(0,oe.Ig)(Lt)}get max(){return this._max}set max(Lt){this._max=(0,oe.su)(Lt,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(Lt){this._min=(0,oe.su)(Lt,this._min),this.setWidthOnMin&&(this.hostWidth=100-this._min+"%"),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(Lt){this._step=(0,oe.su)(Lt,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(Lt){this._thumbLabel=(0,oe.Ig)(Lt)}get tickInterval(){return this._tickInterval}set tickInterval(Lt){this._tickInterval="auto"===Lt?"auto":"number"==typeof Lt||"string"==typeof Lt?(0,oe.su)(Lt,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(Lt){if(Lt!==this._value){let kt=(0,oe.su)(Lt);const rt=kt/100;if(this._isSliding&&(rt<this.rangeMin||rt>this.rangeMax))return;this._roundToDecimal&&(kt=parseFloat(kt.toFixed(this._roundToDecimal))),this._value=kt,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(Lt){this._vertical=(0,oe.Ig)(Lt)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(Lt){this._focusHostElement(Lt)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get percentLeft(){return this._clamp(this._percentLeft)}get percentRight(){return this._clamp(this._percentRight)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _thumbContainerStyle(){return{left:100*this._clamp(this.percent)+"%"}}get _activeTrackStyle(){return{left:"0",width:100*this._clamp(this.percent)+"%",color:"#76b900"}}get _trackMaxRangeBackgroundStyles(){return{transform:`scale3d(${1-this.rangeMax+", 1, 1"})`}}get _trackMinRangeBackgroundStyles(){return{transform:`scale3d(${this.rangeMin}, 1, 1)`}}get _trackBackgroundStyles(){return{transform:`scale3d(${1-this.percent+", 1, 1"})`}}get _trackFillStyles(){const Lt=this.percent;return{transform:`scale3d(${Lt}, 1, 1)`,display:0===Lt?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!==this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){const Lt=100*this._tickIntervalPercent,kt=this.vertical?`2px ${Lt}%`:`${Lt}% 2px`,rt=this.vertical?"Y":"X",he=this.vertical||"rtl"!==this._getDirection()?"":"-",Ge=this.vertical||"rtl"!==this._getDirection()?"":" rotate(180deg)";let G;if(G=0!==Lt?{backgroundSize:kt,transform:`translateZ(0) translate${rt}(${he}${Lt/2}%)${Ge}`}:{backgroundSize:kt,transform:`${Ge}`},this._isMinValue&&this._thumbGap){let at;at=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",G[`padding${at}`]=`${this._thumbGap}px`}return G}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!==this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!==this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}constructor(Lt,kt,rt,he,Ge,G,at,St){super(Lt),this._focusMonitor=kt,this._changeDetectorRef=rt,this._dir=he,this._ngZone=G,this._animationMode=St,this.leftDown=!1,this.rightDown=!1,this.trimThumb=!1,this.setWidthOnMin=!1,this.leftThumb=!1,this.rightThumb=!1,this._rangeMin=_e,this._rangeMax=_e,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new o.vpe,this.input=new o.vpe,this.valueChange=new o.vpe,this.onTouched=()=>{},this._percent=0,this._percentLeft=0,this._percentRight=100,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Tt.w.EMPTY,this._pointerDown=wt=>{this.disabled||this._isSliding||!Je(wt)&&0!==wt.button||this._ngZone.run(()=>{const Yt=this.value,se=qe(wt);this._isSliding=!0,this._lastPointerEvent=wt,wt.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(wt),this._focusHostElement(),this._updateValueFromPosition(se),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=se,Yt!==this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=wt=>{if(this._isSliding){wt.preventDefault();const Yt=this.value;this._lastPointerEvent=wt,this._updateValueFromPosition(qe(wt)),Yt!==this.value&&this._emitInputEvent()}},this._pointerUp=wt=>{if(this._isSliding){const Yt=this._pointerPositionOnStart,se=qe(wt);wt.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart!==this.value&&!this.disabled&&Yt&&(Yt.x!==se.x||Yt.y!==se.y)&&this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=at,this.tabIndex=parseInt(Ge)||0,G.runOutsideAngular(()=>{const wt=Lt.nativeElement;wt.addEventListener("mousedown",this._pointerDown,Se),wt.addEventListener("touchstart",this._pointerDown,Se)})}ngOnInit(){this.trimThumb=this.leftThumb||this.rightThumb,this._focusMonitor.monitor(this._elementRef,!0).subscribe(Lt=>{this._isActive=!!Lt&&"keyboard"!==Lt,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const Lt=this._elementRef.nativeElement;Lt.removeEventListener("mousedown",this._pointerDown,Se),Lt.removeEventListener("touchstart",this._pointerDown,Se),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(Lt){if(this.disabled||(0,Qt.Vb)(Lt))return;const kt=this.value;switch(Lt.keyCode){case Qt.Ku:this._increment(10);break;case Qt.VM:this._increment(-10);break;case Qt.uR:this.value=100*this.rangeMax;break;case Qt.Sd:this.value=100*this.rangeMin;break;case Qt.oh:this._increment("rtl"===this._getDirection()?1:-1);break;case Qt.LH:this._increment(1);break;case Qt.SV:this._increment("rtl"===this._getDirection()?-1:1);break;case Qt.JH:this._increment(-1);break;default:return}kt!==this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,Lt.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(Lt){const kt=this._document,rt=Je(Lt),Ge=rt?"touchend":"mouseup";kt.addEventListener(rt?"touchmove":"mousemove",this._pointerMove,Se),kt.addEventListener(Ge,this._pointerUp,Se),rt&&kt.addEventListener("touchcancel",this._pointerUp,Se);const G=this._getWindow();typeof G<"u"&&G&&G.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const Lt=this._document;typeof Lt<"u"&&Lt&&(Lt.removeEventListener("mousemove",this._pointerMove,Se),Lt.removeEventListener("mouseup",this._pointerUp,Se),Lt.removeEventListener("touchmove",this._pointerMove,Se),Lt.removeEventListener("touchend",this._pointerUp,Se),Lt.removeEventListener("touchcancel",this._pointerUp,Se));const kt=this._getWindow();typeof kt<"u"&&kt&&kt.removeEventListener("blur",this._windowBlur)}_increment(Lt){const kt=this._clamp((this.value||0)+this.step*Lt,this.min,this.max),rt=kt/100;this.value=rt<this.rangeMin?100*this.rangeMin:rt>this.rangeMax?100*this.rangeMax:kt}_updateValueFromPosition(Lt){if(!this._sliderDimensions)return;let Ge=this._clamp(((this.vertical?Lt.y:Lt.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(Ge=1-Ge),0===Ge)this.value=this.min;else if(1===Ge)this.value=this.max;else{const G=this._calculateValue(Ge),at=Math.round((G-this.min)/this.step)*this.step+this.min;this.value=this._clamp(at,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"===this.tickInterval){const Lt=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,he=Math.ceil(30/(Lt*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=he/Lt}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(Lt=this.value){const kt=new Zt;return kt.source=this,kt.value=Lt,kt}_calculatePercentage(Lt){return((Lt||0)-this.min)/(this.max-this.min)}_calculateValue(Lt){return this.min+Lt*(this.max-this.min)}_clamp(Lt,kt=0,rt=1){return Math.max(kt,Math.min(Lt,rt))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(Lt){this._elementRef.nativeElement.focus(Lt)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(Lt){this.value=Lt}registerOnChange(Lt){this._controlValueAccessorChangeFn=Lt}registerOnTouched(Lt){this.onTouched=Lt}setDisabledState(Lt){this.disabled=Lt}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)(o.Y36(o.SBq),o.Y36(it.tE),o.Y36(o.sBO),o.Y36(Mt.Is,8),o.$8M("tabindex"),o.Y36(o.R0b),o.Y36(e.K0),o.Y36(o.QbO,8))},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["nv-mat-slider"]],viewQuery:function(Lt,kt){if(1&Lt&&o.Gf(zt,5),2&Lt){let rt;o.iGM(rt=o.CRH())&&(kt._sliderWrapper=rt.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:30,hostBindings:function(Lt,kt){1&Lt&&o.NdJ("focus",function(){return kt._onFocus()})("blur",function(){return kt._onBlur()})("keydown",function(he){return kt._onKeydown(he)})("keyup",function(){return kt._onKeyup()})("mouseenter",function(){return kt._onMouseenter()})("selectstart",function(he){return he.preventDefault()}),2&Lt&&(o.Ikx("tabIndex",kt.tabIndex),o.uIk("aria-disabled",kt.disabled)("aria-valuemax",kt.max)("aria-valuemin",kt.min)("aria-valuenow",kt.value)("aria-orientation",kt.vertical?"vertical":"horizontal"),o.Udp("width",kt.hostWidth),o.ekj("mat-slider-disabled",kt.disabled)("mat-slider-has-ticks",kt.tickInterval)("mat-slider-horizontal",!kt.vertical)("mat-slider-axis-inverted",kt._invertAxis)("mat-slider-invert-mouse-coords",kt._shouldInvertMouseCoords())("mat-slider-sliding",kt._isSliding)("mat-slider-thumb-label-showing",kt.thumbLabel)("mat-slider-vertical",kt.vertical)("mat-slider-min-value",kt._isMinValue)("mat-slider-hide-last-tick",kt.disabled||kt._isMinValue&&kt._thumbGap&&kt._invertAxis)("_mat-animation-noopable","NoopAnimations"===kt._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",setWidthOnMin:"setWidthOnMin",leftThumb:"leftThumb",rightThumb:"rightThumb",rangeMin:"rangeMin",rangeMax:"rangeMax",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["nvMatSlider"],features:[o._Bn([Gt]),o.qOj],decls:9,vars:6,consts:[[1,"mat-slider-wrapper"],["slider","","sliderWrapper",""],["class","mat-slider-track-wrapper",4,"ngIf"],["class","mat-slider-ticks-container",3,"ngStyle",4,"ngIf"],["class","mat-slider-thumb-container",3,"ngStyle",4,"ngIf"],["class","nv-thumb-container",3,"ngStyle","mousedown","mouseup",4,"ngIf"],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-max-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-track-min-background",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"],[1,"nv-track"],[1,"nv-track-fill",3,"ngStyle"],[1,"nv-thumb-container",3,"ngStyle","mousedown","mouseup"],[1,"nv-thumb-left"],[1,"nv-thumb-left-base"],[1,"nv-thumb-right"],[1,"nv-thumb-right-base"]],template:function(Lt,kt){1&Lt&&(o.TgZ(0,"div",0,1),o.YNc(3,ft,5,4,"div",2),o.YNc(4,ve,2,2,"div",3),o.YNc(5,Ce,6,2,"div",4),o.YNc(6,De,3,1,"div",2),o.YNc(7,ze,3,5,"div",5),o.YNc(8,$e,3,5,"div",5),o.qZA()),2&Lt&&(o.xp6(3),o.Q6J("ngIf",!kt.trimThumb),o.xp6(1),o.Q6J("ngIf",!kt.trimThumb),o.xp6(1),o.Q6J("ngIf",!kt.trimThumb),o.xp6(1),o.Q6J("ngIf",kt.trimThumb),o.xp6(1),o.Q6J("ngIf",kt.leftThumb),o.xp6(1),o.Q6J("ngIf",kt.rightThumb))},dependencies:[e.O5,e.PC,Nt.Zl],styles:['.mat-slider-horizontal{min-width:0;height:20px}.mat-slider-horizontal .mat-slider-wrapper{left:0;right:0;top:9px}.mat-slider-vertical{min-height:0}.hig-slider-no-animation .mat-slider-track-fill,.hig-slider-no-animation .mat-slider-track-background,.hig-slider-no-animation .mat-slider-thumb-container{transition:none!important}.mat-slider-thumb{right:-6px;bottom:-6px;width:12px;height:12px;border-width:2px;transform:scale(1)}.mat-slider-min-value .mat-slider-thumb{background-color:#76b900!important;border-color:transparent!important}.mat-slider-min-value .mat-slider-thumb-label{background-color:#76b900!important}.mat-slider-disabled .mat-slider-thumb{border-width:2px;background-color:#76b90061!important;transform:scale(.85)}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(1)}.mat-accent .mat-slider-thumb-label-text{color:#fff}.mat-slider-focus-ring,.mat-slider-min-value .mat-slider-focus-ring{width:36px;height:36px;background-color:#76b90052;z-index:1}.mat-slider-focus-ring:active,.mat-slider-min-value .mat-slider-focus-ring:active{background-color:#76b90066}.mat-slider-horizontal .mat-slider-focus-ring{top:-18px;right:-18px}.mat-slider:not(.mat-slider-disabled):hover .mat-slider-focus-ring{transform:scale(1);opacity:.33}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-focus-ring,.mat-slider:not(.mat-slider-disabled).cdk-keyboard-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled).nv-mouse-down .mat-slider-focus-ring{transform:scale(1.33);opacity:1;cursor:grabbing}.mat-slider-disabled .mat-slider-track-fill{background-color:#76b90061}.mat-slider-disabled .mat-slider-track-background{background-color:#ffffff61}.mat-slider:not(.mat-slider-disabled) .mat-slider-track-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-background{background-color:#afafaf}.mat-slider:not(.mat-slider-disabled) .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled) .mat-slider-track-min-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-min-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-min-background{background-color:#636363}.mat-slider-horizontal:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-background{transform:translate(0)!important}.mat-slider-horizontal:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-fill{transform:translate(0) scale3d(0,1,1)!important}.mat-slider-vertical:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-background{transform:translateY(0)!important}.mat-slider-vertical:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-fill{transform:translateY(0) scale3d(0,1,1)!important}.mat-slider-has-ticks .mat-slider-ticks{opacity:1}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:transparent}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,#191919,#191919 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,#191919,#191919 2px,transparent 0,transparent)}.nv-thumb-container{position:absolute;left:0;top:50%;transform:translate3d(-50%,-50%,0);border-radius:50%;z-index:999}.nv-thumb-common,.nv-thumb-right-base,.nv-thumb-right,.nv-thumb-left-base,.nv-thumb-left,.nv-thumb{z-index:1;position:absolute;box-sizing:border-box}.nv-thumb{left:-8px;top:5px;width:14px;height:14px;border:2px solid #76b900;background-color:#76b900;border-radius:50%}.nv-thumb.cdk-focused,.nv-thumb:focus{background-color:#76b900;border:2px solid #76b900}.nv-thumb[disabled]{background-color:#393939}.nv-thumb:not([disabled]):not(.nv-mouse-down){cursor:grab}.nv-thumb:not([disabled]).nv-mouse-down{cursor:grabbing}.nv-thumb-left{left:-8px;top:4px;width:0;height:0;border-left:8px solid transparent;border-bottom:8px solid rgba(255,255,255,.7)}.cdk-focused .nv-thumb-left{left:-8px;top:4px;width:0;height:0}.cdk-focused .nv-thumb-left.clicked{border-bottom:8px solid #ffffff}.nv-thumb-left-base{left:-8px;top:12px;width:8px;height:4px;background:rgba(255,255,255,.7)}.cdk-focused .nv-thumb-left-base{left:-8px;top:12px;width:8px;height:10px}.cdk-focused .nv-thumb-left-base.clicked{background-color:#fff}.nv-thumb-right{left:0;top:4px;width:0;height:0;border-right:8px solid transparent;border-bottom:8px solid rgba(255,255,255,.7)}.cdk-focused .nv-thumb-right{left:0;top:4px;width:0;height:0}.cdk-focused .nv-thumb-right.clicked{border-bottom:8px solid #ffffff}.nv-thumb-right-base{left:0;top:12px;width:8px;height:4px;background:rgba(255,255,255,.7)}.cdk-focused .nv-thumb-right-base{left:0;top:12px;width:8px;height:10px}.cdk-focused .nv-thumb-right-base.clicked{background-color:#fff}.nv-track,.nv-track-fill{position:absolute;left:0;right:0;height:100%;background-color:#393939}.nv-track-fill{background-color:#76b900}.trim-slider{cursor:default}.trim-slider .nv-track,.trim-slider .nv-track-fill{background-color:transparent}.trim-slider .nv-thumb{border:none}.trim-slider .nv-thumb:before{content:"";display:block;position:absolute;top:-5px;height:0;left:3px;box-sizing:border-box;border-bottom:5px solid #393939;border-right:5px solid transparent;border-left:5px solid transparent}.trim-slider:focus .nv-thumb:before{border-bottom:5px solid #76b900}.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:0;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-min-background,.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:none!important}.mat-slider-track-max-background,.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:none!important}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:none!important}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper:after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper:after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper:after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-min-background,.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-max-background,.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:0;right:0}.mat-slider-horizontal .mat-slider-wrapper:after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-min-background,.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-max-background,.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container,.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:0;bottom:0;left:23px}.mat-slider-vertical .mat-slider-wrapper:after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.mat-slider-vertical .mat-slider-focus-ring{bottom:-18px;left:-18px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translate(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper:after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-min-background,[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-max-background,[dir=rtl] .mat-slider-horizontal .mat-slider-track-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-min-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-max-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-min-background,.mat-slider._mat-animation-noopable .mat-slider-track-max-background,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper:after{transition:none}\n'],encapsulation:2,changeDetection:0}),Ye})();function Je(ye){return"t"===ye.type[0]}function qe(ye){const Ye=Je(ye)?ye.touches[0]||ye.changedTouches[0]:ye;return{x:Ye.clientX,y:Ye.clientY}}let bn=(()=>{var ye;class Ye{get leftPosition(){return this._leftPosition}set leftPosition(Lt){this._leftPosition!==Lt&&Lt<=this.rightPosition-this.spaceBetween&&(this._leftPosition=Lt,this.trimChanged(),this.leftPositionChange.emit(this._leftPosition))}get rightPosition(){return this._rightPosition}set rightPosition(Lt){this._rightPosition!==Lt&&Lt>=this.leftPosition+this.spaceBetween&&(this._rightPosition=Lt,this.trimChanged(),this.rightPositionChange.emit(this._rightPosition))}get value(){return this._value}set value(Lt){Lt!==this._value&&(this._value=Lt,this.valueChange.emit(this._value))}constructor(){this.mouseDown=!1,this._leftPosition=0,this.leftPositionChange=new o.vpe,this._rightPosition=100,this.rightPositionChange=new o.vpe,this.valueChange=new o.vpe,this._value=0,this.step=1,this.disabled=!1,this.disableTrim=!1,this.spaceBetween=0,this.leftMax=100,this.rightMin=0}trimChanged(){this.leftMax=this.rightPosition-this.spaceBetween,this.rightMin=this.leftPosition+this.spaceBetween}sliderChanged(Lt){this.value=Lt.value}leftChanged(Lt){this.leftPosition=Lt.value}rightChanged(Lt){this.rightPosition=Lt.value}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["nv-mat-ranged-slider"]],inputs:{leftPosition:"leftPosition",rightPosition:"rightPosition",value:"value",step:"step",disabled:"disabled",disableTrim:"disableTrim",spaceBetween:"spaceBetween"},outputs:{leftPositionChange:"leftPositionChange",rightPositionChange:"rightPositionChange",valueChange:"valueChange"},decls:5,vars:26,consts:[[1,"ranged-slider-padding"],[1,"ranged-slider-wrapper"],["fxFlex","grow",3,"disabled","min","max","step","value","rangeMin","rangeMax","valueChange","input","mousedown","mouseup"],[1,"trim-slider","left-slider",3,"disabled","min","max","step","rangeMin","rangeMax","value","leftThumb","valueChange","input"],[1,"trim-slider","right-slider",3,"setWidthOnMin","disabled","min","max","step","rangeMin","rangeMax","value","rightThumb","valueChange","input"]],template:function(Lt,kt){1&Lt&&(o.TgZ(0,"div",0)(1,"div",1)(2,"nv-mat-slider",2),o.NdJ("valueChange",function(he){return kt.value=he})("input",function(he){return kt.sliderChanged(he)})("mousedown",function(){return kt.mouseDown=!0})("mouseup",function(){return kt.mouseDown=!1},!1,o.Jf7),o.qZA(),o.TgZ(3,"nv-mat-slider",3),o.NdJ("valueChange",function(he){return kt.leftPosition=he})("valueChange",function(){return kt.trimChanged()})("input",function(he){return kt.leftChanged(he)}),o.qZA(),o.TgZ(4,"nv-mat-slider",4),o.NdJ("valueChange",function(he){return kt.rightPosition=he})("valueChange",function(){return kt.trimChanged()})("input",function(he){return kt.rightChanged(he)}),o.qZA()()()),2&Lt&&(o.xp6(2),o.ekj("nv-mouse-down",kt.mouseDown),o.Q6J("disabled",kt.disabled)("min",0)("max",100)("step",kt.step)("value",kt.value)("rangeMin",kt.leftPosition)("rangeMax",kt.rightPosition),o.xp6(1),o.Q6J("disabled",kt.disableTrim)("min",0)("max",100)("step",kt.step)("rangeMin",0)("rangeMax",kt.leftMax)("value",kt.leftPosition)("leftThumb",!0),o.xp6(1),o.Q6J("setWidthOnMin",!0)("disabled",kt.disableTrim)("min",0)("max",100)("step",kt.step)("rangeMin",kt.rightMin)("rangeMax",100)("value",kt.rightPosition)("rightThumb",!0))},dependencies:[It.yH,Ie],styles:["ranged-slider-padding[_ngcontent-%COMP%]{padding:0 8px}.ranged-slider-wrapper[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative}.ranged-slider-wrapper[_ngcontent-%COMP%]   .left-slider[_ngcontent-%COMP%], .ranged-slider-wrapper[_ngcontent-%COMP%]   .right-slider[_ngcontent-%COMP%]{position:absolute;width:100%}.ranged-slider-wrapper[_ngcontent-%COMP%]   .left-slider[_ngcontent-%COMP%]{left:0}.ranged-slider-wrapper[_ngcontent-%COMP%]   .right-slider[_ngcontent-%COMP%]{right:0}"]}),Ye})();var kn=t(78654),wn=t(50275),On=t(33910),Ln=t(86515),yn=t(31465),Pe=t(66273),Ue=t(1598),Ae=t(28788),we=t(10662);function We(ye,Ye){if(1&ye){const ue=o.EpF();o.ynx(0),o.TgZ(1,"button",8),o.NdJ("click",function(){const rt=o.CHM(ue).index,he=o.oxw();return o.KtG(he.itemSelect(rt))}),o.TgZ(2,"div",9),o._uU(3),o.ALo(4,"translate"),o.qZA()(),o.BQk()}if(2&ye){const ue=Ye.$implicit,Lt=Ye.index,kt=o.oxw();o.xp6(1),o.ekj("active",Lt===kt.selection),o.xp6(2),o.Oqu(o.lcZ(4,3,ue))}}let Xe=(()=>{var ye;class Ye{constructor(){this.disabledState=void 0,this.disable=!1,this.menuOpen=!1,this._input=[],this._selection=0,this.selectionChanged=new o.vpe}set disabled(Lt){this.disabledState=Lt,this.disable=Lt||!!(this.input&&this.input.length<2)}get input(){return this._input}set input(Lt){this._input=Lt,this.setEntry()}set selection(Lt){this._selection=Lt,this.setEntry()}get selection(){return this._selection}setEntry(){this.input&&this.input.length>0?((this.selection<0||this.selection>=this.input.length)&&(this.selection=0),this.entry=this.input[this.selection],this.disable=!!this.disabledState||this.input.length<2):(this.entry="",this.disable=!0)}ngOnInit(){this.setEntry()}itemSelect(Lt){this.selection!==Lt&&(this.selection=Lt,this.selectionChanged.emit(Lt),this.setEntry())}buttonToggle(Lt){setTimeout(()=>{this.menuOpen=Lt})}}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["nv-dropdown"]],inputs:{maxHeight:"maxHeight",disabled:"disabled",input:"input",selection:"selection"},outputs:{selectionChanged:"selectionChanged"},decls:10,vars:10,consts:[["fxFlex","grow",1,"nv-dropdown"],["matRipple","","fxLayout","row","fxLayoutAlign","start center","fxFlex","grow",1,"nv-dropdown-label","hig-button-overlay",3,"matMenuTriggerFor","disabled","menuOpened","menuClosed"],["fxFlex","grow",1,"font-body2","menu-text"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],["svgIcon","chevron_down",1,"icon-normal"],["xPosition","after","yPosition","below","overlapTrigger","false",1,"nv-oogg","max-width-menu-class"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","","fxLayout","row","fxLayoutAlign","start center",1,"nv-dropdown-menu","hig-button-overlay",3,"click"],[1,"font-body2"]],template:function(Lt,kt){if(1&Lt&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("menuOpened",function(){return kt.buttonToggle(!0)})("menuClosed",function(){return kt.buttonToggle(!1)}),o.TgZ(2,"div",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",3),o._UZ(6,"mat-icon",4),o.qZA()(),o.TgZ(7,"mat-menu",5,6),o.YNc(9,We,5,5,"ng-container",7),o.qZA()()),2&Lt){const rt=o.MAs(8);o.ekj("nv-dropdown-z",kt.menuOpen),o.xp6(1),o.Q6J("matMenuTriggerFor",rt)("disabled",kt.disable),o.xp6(2),o.Oqu(o.lcZ(4,8,kt.entry)),o.xp6(4),o.Udp("max-height",kt.maxHeight,"px"),o.xp6(2),o.Q6J("ngForOf",kt.input)}},dependencies:[e.sg,It.xw,It.Wh,It.yH,we.W0,we.tN,we.D8,Ln.Hw,Pt.wG,s.X$],styles:[":host[disabled] .nv-item *{cursor:default}.nv-item-icon{width:36px;height:36px}.nv-item-icon mat-icon{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row{padding:0 24px}.nv-item-labels{padding:8px 0;height:100%}.nv-label{padding:8px 0}.default-cursor{cursor:default}.disabled-opacity{opacity:.38}.nv-dropdown{width:100%;height:100%}.nv-dropdown-label{background-color:#393939}.nv-dropdown-label .menu-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host-context(.isLtr) .nv-dropdown-label .menu-text{text-align:left}html[dir=ltr] .nv-dropdown-label .menu-text{--dummy0: 0;text-align:left}:host-context(.isRtl) .nv-dropdown-label .menu-text{text-align:right}html[dir=rtl] .nv-dropdown-label .menu-text{--dummy0: 0;text-align:right}:host-context(.isLtr) .nv-dropdown-label .menu-text{padding:16px 0 16px 8px}html[dir=ltr] .nv-dropdown-label .menu-text{--dummy: 0;padding:16px 0 16px 8px}:host-context(.isRtl) .nv-dropdown-label .menu-text{padding:16px 8px 16px 0}html[dir=rtl] .nv-dropdown-label .menu-text{--dummy: 0;padding:16px 8px 16px 0}.nv-dropdown-z{z-index:9999}button.nv-dropdown-menu{box-sizing:border-box;margin:0;width:100%;height:unset}button.nv-dropdown-menu div{padding:8px 16px;overflow:hidden;text-overflow:ellipsis}:host-context(.isLtr) button.nv-dropdown-menu div{text-align:left}html[dir=ltr] button.nv-dropdown-menu div{--dummy0: 0;text-align:left}:host-context(.isRtl) button.nv-dropdown-menu div{text-align:right}html[dir=rtl] button.nv-dropdown-menu div{--dummy0: 0;text-align:right}button.nv-dropdown-menu.active div{color:#76b900}.nv-oogg.max-width-menu-class{width:306px}.nv-oogg.max-width-menu-class .mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}\n"],encapsulation:2}),Ye})();var Gn=t(95787);let Yn=(()=>{var ye;class Ye{}return(ye=Ye).\u0275fac=function(Lt){return new(Lt||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[e.ez,x.it,S.m,L.o9,f.Q,i.Bz.forChild(A),(0,x.zv)()]}),Ye})();o.B6R(W,function(){return[e.mk,e.O5,Xt.n,Wt,bn,It.xw,It.SQ,It.Wh,It.s9,It.XD,It.yH,Nt.oO,kn.eB,Mt.Lv,wn.PQ,On.Ou,Ln.Hw,yn.JX,yn.TM,yn.Rh,Pe.Q,yt]},[]),o.B6R(yt,function(){return[e.sg,e.O5,Ue.n,Ae.x,Wt,Xe,It.xw,te.hX,Gn.pp,Gn.ib,Gn.yz,Gn.yK,d.Wj,d.Zt]},function(){return[s.X$]})},62131:(Dt,ct,t)=>{"use strict";t.d(ct,{$:()=>b});var e=t(9771),i=t(47178),f=t(58540),S=t(61699),u=t(13963),g=t(24687),h=t(21120),O=t(36480),E=t(86515),w=t(43559);const p=["scroller"],V=["recent"];function c(I,q){if(1&I){const a=S.EpF();S.TgZ(0,"button",22),S.NdJ("click",function(M){S.CHM(a);const P=S.oxw();return M.stopPropagation(),S.KtG(P.recentGoLeft())}),S._UZ(1,"mat-icon",23),S.qZA()}}const C=function(){return{"width.px":8}};function l(I,q){if(1&I){const a=S.EpF();S.TgZ(0,"div",24)(1,"nv-gallery-item",25),S.NdJ("click",function(){const P=S.CHM(a).$implicit,K=S.oxw();return S.KtG(K.openFile(P))}),S.qZA(),S._UZ(2,"div",26),S.qZA()}if(2&I){const a=q.$implicit,y=S.oxw();S.xp6(1),S.Q6J("item",a)("activeItem",y.itemSelection)("thumbWidth",y.recentThumbWidth)("thumbHeight",y.recentThumbHeight)("activity",!0),S.xp6(1),S.Q6J("ngStyle",S.DdM(6,C))}}function o(I,q){if(1&I){const a=S.EpF();S.TgZ(0,"button",22),S.NdJ("click",function(M){S.CHM(a);const P=S.oxw();return M.stopPropagation(),S.KtG(P.recentGoRight())}),S._UZ(1,"mat-icon",27),S.qZA()}}function n(I,q){if(1&I&&(S.TgZ(0,"div",28),S._UZ(1,"nv-preview",29),S.qZA()),2&I){const a=S.oxw();S.xp6(1),S.Q6J("activeItem",a.mapSelection)("mapView",!0)}}const s=function(I,q){return{"width.px":I,"height.px":q}},R=function(I){return{arg:I}},_=function(I,q){return{"sv-activity-withoutrounds":I,"sv-activity-withrounds":q}};let b=(()=>{var I;class q{get item(){return this._item}set item(y){this._item&&this.initialized?setTimeout(()=>{this._item=(0,i.cloneDeep)(y),this.initialize()}):this._item=y}constructor(y,M,P,K,B,j,tt){this.loggingService=y,this.galleryService=M,this.lcarsService=P,this.imageFormatService=K,this.domSanitizer=B,this.matIconRegistry=j,this.translateService=tt,this.initialized=!1,this.recentThumbWidth=e.dz.width,this.recentThumbHeight=e.dz.height,this.selectedItemIndex=0,this.sortType=e.ER.newest,this.itemSelection=void 0,this.mapSelection=void 0,this.leftDisabled=!1,this.rightDisabled=!1,this.itemsVisible=5,this.roundDataPresent=!1,this.mapDataPresent=!1,this.hour="",this.hours="",this.minute="",this.minutes="",this.second="",this.seconds="",this.initialDelay=!1,this.logger=this.loggingService.getLogger("Activity"),this.logger.info("Constructor"),this.hour=this.translateService.instant("commonLabels.Hour"),this.hours=this.translateService.instant("commonLabels.Hours"),this.minute=this.translateService.instant("commonLabels.Minute"),this.minutes=this.translateService.instant("commonLabels.Minutes"),this.second=this.translateService.instant("commonLabels.Second"),this.seconds=this.translateService.instant("commonLabels.Seconds")}ngOnInit(){this.logger.info("OnInit")}ngAfterViewInit(){this.logger.info("ngAfterViewInit: ",this.initialized),setTimeout(()=>{this.initialized||(this.initialize(),this.initialized=!0)})}ngOnDestroy(){this.logger.info("ngOnDestroy"),this.metadataReq$&&this.metadataReq$.unsubscribe()}initialize(){this.logger.info("Initialize Activity Item Data: ",this.item),this.itemSelection=this.item.metaData[0],this.roundDataPresent=this.item.rounds&&this.item.rounds.length>0,""!==this.item.mapFileName&&this.item.metaData.forEach(M=>{M.fullFilename===this.item.mapFileName&&(this.mapSelection=M)}),this.mapDataPresent=void 0!==this.mapSelection,this.scroller&&this.scroller.scrollToIndex(0,"smooth"),setTimeout(()=>{this.chevronControl()}),this.logger.info("AI FillData for: "+this.item.gameName+" Number of items: "+this.item.metaData.length),this.item.metaData.forEach(M=>this.galleryService.fillInFileData(M).subscribe());const y=this.item.metaData.find(M=>0!==M.cmsId);if(y){const M=y.cmsId;this.logger.info("Initialize Activity for cmsID: ",M),this.lcarsService.getMetadataByCmsId(M).subscribe(P=>{if(this.logger.info("NesLayout AppMetaData: ",P),(0,i.isNil)(P))throw new Error("Invalid asset data received: "+JSON.stringify(P));{this.appMetaData=P;const K=this.imageFormatService.formatImageServiceUrl(P.images.KEY_ART,{w:e.dO});this.logger.info("Game Icon: ",K),this.activityGameIcon=this.domSanitizer.bypassSecurityTrustResourceUrl(K)}})}else this.logger.error("CmsId Not found for: ",this.item.gameName)}getFormattedTime(y){return f(y).format("LT MMM D, YYYY")}getFormattedDuration(y){let M="";const P=y.split(":"),K=Number(P[0]),B=Number(P[1]),j=Math.floor(Number(P[2]));return K>0&&(M+=K.toString()+" "+(1===K?this.hour:this.hours)),B>0&&(""!==M&&(M+=" "),M+=B.toString()+" "+(1===B?this.minute:this.minutes)),j>0&&(""!==M&&(M+=" "),M+=j.toString()+" "+(1===j?this.second:this.seconds)),M}openFile(y){this.logger.info("Open Item in preview: ",y.file.name),this.item.metaData.forEach((M,P)=>{M.fullFilename===y.fullFilename&&this.updateScroller(P)})}recentNav(y,M=!1){let P=this.selectedItemIndex;this.item.metaData[this.selectedItemIndex].selected=!1,y?P--:P++,P=M?P>=this.item.metaData.length?0:P<0?this.item.metaData.length-1:P:P>=this.item.metaData.length?this.item.metaData.length-1:P<0?0:P,this.updateScroller(P)}updateScroller(y){this.scroller.scrollToIndex(y,"smooth"),this.selectedItemIndex=y,this.item.metaData[this.selectedItemIndex].selected=!0,this.itemSelection=this.item.metaData[y],this.chevronControl()}recentGoLeft(){this.recentNav(!0)}recentGoRight(){this.recentNav(!1)}chevronControl(){const y=this.recent.nativeElement.getBoundingClientRect().width;this.itemsVisible=Math.floor(y/(this.recentThumbWidth+8)),this.item.metaData.length<=this.itemsVisible?(this.leftDisabled=!0,this.rightDisabled=!0):0===this.selectedItemIndex?(this.leftDisabled=!0,this.rightDisabled=!1):this.selectedItemIndex===this.item.metaData.length-1?(this.leftDisabled=!1,this.rightDisabled=!0):(this.leftDisabled=!1,this.rightDisabled=!1),this.logger.info("Chevrons active Left: "+!this.leftDisabled+" Right: "+!this.rightDisabled)}keydownRecent(y){this.logger.info("Keydown Key: ",y.key),("Enter"===y.key||" "===y.key)&&this.item.metaData.length>0&&this.selectedItemIndex>=0&&this.selectedItemIndex<this.item.metaData.length?this.openFile(this.item.metaData[this.selectedItemIndex]):"ArrowLeft"===y.key?this.recentGoLeft():"ArrowRight"===y.key&&this.recentGoRight()}activeItemChanged(y){this.itemSelection=y;const M=this.item.metaData.findIndex(P=>P===y);-1!==M&&(this.selectedItemIndex=M,this.scroller.scrollToIndex(M,"smooth"))}activeItemIndexChanged(y){this.logger.info("ActiveItemIndexChanged: ",y),this.itemSelection=this.item.metaData[y],this.selectedItemIndex=y,this.scroller.scrollToIndex(y,"smooth")}activityIdentity(y,M){return M.file.name}}return(I=q).\u0275fac=function(y){return new(y||I)(S.Y36(u.ed),S.Y36(g.rj),S.Y36(h.zcQ),S.Y36(u.CQ),S.Y36(O.H7),S.Y36(E.jv),S.Y36(w.sK))},I.\u0275cmp=S.Xpm({type:I,selectors:[["nv-activity-item"]],viewQuery:function(y,M){if(1&y&&(S.Gf(p,5),S.Gf(V,5)),2&y){let P;S.iGM(P=S.CRH())&&(M.scroller=P.first),S.iGM(P=S.CRH())&&(M.recent=P.first)}},inputs:{scrolling:"scrolling",itemWidth:"itemWidth",itemHeight:"itemHeight",initialDelay:"initialDelay",item:"item"},decls:30,vars:39,consts:[["fxLayout","column",1,"sv-top-level",3,"ngStyle"],["fxLayout","column","fxFlexFill","",1,"sv-card-offset"],[1,"font-body1","sv-activity-gap"],[1,"sv-activity-divider"],["fxLayout","row"],[1,"icon-normal","sv-activity-icon",3,"src"],["fxLayout","column","fxFlex","none",1,"sv-activity-header"],[1,"font-body2"],[1,"sv-activity-space"],[1,"sv-nav-left-position"],["fxFlex","none","mat-button","","class","complex-button",3,"click",4,"ngIf"],[1,"sv-recent-layout"],["recent",""],["orientation","horizontal","tabIndex","0",1,"sv-recent-container",3,"itemSize","keydown"],["scroller",""],["class","sv-recent-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[1,"sv-nav-right-position"],["fxLayout","row","fxFlexFill","","fxFlex","",1,"nv-oogg","sv-preview-window"],["fxFlex","","fxFlexFill","",3,"activeItem","mapPresent","roundsPresent","mapsPresent","activeItemChange"],["fxFlex","","fxFlexFill","",4,"ngIf"],["fxFlex","","fxFlexFill","",1,"nv-oogg","sv-activity-window",3,"ngClass"],[3,"rounds","events","metadata","start","end","activeItemIndex","activeItemIndexChange"],["fxFlex","none","mat-button","",1,"complex-button",3,"click"],["svgIcon","chevron_left",1,"sv-nav-button"],[1,"sv-recent-item"],[3,"item","activeItem","thumbWidth","thumbHeight","activity","click"],[3,"ngStyle"],["svgIcon","chevron_right",1,"sv-nav-button"],["fxFlex","","fxFlexFill",""],["fxFlex","","fxFlexFill","",3,"activeItem","mapView"]],template:function(y,M){1&y&&(S.TgZ(0,"div",0)(1,"div",1)(2,"div",2),S._uU(3),S.ALo(4,"translate"),S.qZA(),S._UZ(5,"mat-divider",3),S.TgZ(6,"div",4),S._UZ(7,"img",5),S.TgZ(8,"div",6)(9,"div",7),S._uU(10),S.qZA(),S.TgZ(11,"div",7),S._uU(12),S.ALo(13,"translate"),S.qZA()()(),S._UZ(14,"div",8),S.TgZ(15,"div",4)(16,"div",9),S.YNc(17,c,2,0,"button",10),S.qZA(),S.TgZ(18,"div",11,12)(20,"cdk-virtual-scroll-viewport",13,14),S.NdJ("keydown",function(K){return M.keydownRecent(K)}),S.YNc(22,l,3,7,"div",15),S.qZA()(),S.TgZ(23,"div",16),S.YNc(24,o,2,0,"button",10),S.qZA()(),S.TgZ(25,"div",17)(26,"nv-preview",18),S.NdJ("activeItemChange",function(K){return M.itemSelection=K})("activeItemChange",function(K){return M.activeItemChanged(K)}),S.qZA(),S.YNc(27,n,2,2,"div",19),S.qZA(),S.TgZ(28,"div",20)(29,"nv-edge-log-item",21),S.NdJ("activeItemIndexChange",function(K){return M.selectedItemIndex=K})("activeItemIndexChange",function(K){return M.activeItemIndexChanged(K)}),S.qZA()()()()),2&y&&(S.Q6J("ngStyle",S.WLB(29,s,M.itemWidth,M.itemHeight)),S.xp6(3),S.hij(" ",S.xi3(4,23,"summary.PlayedAt",S.VKq(32,R,M.getFormattedTime(M.item.playStarted)))," "),S.xp6(4),S.Q6J("src",M.activityGameIcon,S.LSH),S.xp6(3),S.Oqu(M.item.gameName),S.xp6(2),S.hij(" ",S.xi3(13,26,"summary.PlayTime",S.VKq(34,R,M.getFormattedDuration(M.item.playTime)))," "),S.xp6(5),S.Q6J("ngIf",!M.leftDisabled),S.xp6(3),S.Q6J("itemSize",M.recentThumbWidth+8),S.xp6(2),S.Q6J("cdkVirtualForOf",M.item.metaData)("cdkVirtualForTrackBy",M.activityIdentity)("cdkVirtualForTemplateCacheSize",0),S.xp6(2),S.Q6J("ngIf",!M.rightDisabled),S.xp6(2),S.Q6J("activeItem",M.itemSelection)("mapPresent",M.mapSelection)("roundsPresent",M.roundDataPresent)("mapsPresent",M.mapDataPresent),S.xp6(1),S.Q6J("ngIf",void 0!==M.mapSelection&&"image"!==M.itemSelection.file.type),S.xp6(1),S.Q6J("ngClass",S.WLB(36,_,!M.roundDataPresent,M.roundDataPresent)),S.xp6(1),S.Q6J("rounds",M.item.rounds)("events",M.item.events)("metadata",M.item.metaData)("start",M.item.startTime)("end",M.item.endTime)("activeItemIndex",M.selectedItemIndex))},styles:[".sv-top-level{position:relative}.sv-recent-layout{height:167px;width:100%}.sv-recent-container{height:167px;width:100%;overflow:hidden}.sv-recent-container .cdk-virtual-scroll-content-wrapper{display:flex;flex-direction:row}.sv-recent-item{width:304px;height:100%}.sv-activity-header{height:60px}.sv-activity-gap{margin-top:16px}.sv-activity-space{margin-top:26px}.sv-preview-window{width:100%;height:100%;object-fit:contain}.sv-activity-window{width:100%;background-color:#29292952}.sv-activity-divider{margin:16px 0}.sv-activity-withrounds{max-height:211px}.sv-activity-withoutrounds{max-height:88px}.sv-activity-icon{font-size:32px;width:36px;height:36px}:host-context(.isLtr) .sv-activity-icon{margin-right:8px}html[dir=ltr] .sv-activity-icon{--dummy4: 0;margin-right:8px}:host-context(.isRtl) .sv-activity-icon{margin-left:8px}html[dir=rtl] .sv-activity-icon{--dummy4: 0;margin-left:8px}.sv-card-offset{padding:24px;background:linear-gradient(to bottom,rgba(175,175,175,0) 30%,#191919 80%)}.sv-nav-button{color:#a0a0a0;padding:6px;font-size:32px;width:36px;height:36px;border-radius:50%;background-color:#191919}.sv-nav-common-position,.sv-nav-right-position,.sv-nav-left-position{position:absolute;padding-top:60px;z-index:2000}.sv-nav-left-position{left:26px}.sv-nav-right-position{right:26px}\n"],encapsulation:2}),q})()},28788:(Dt,ct,t)=>{"use strict";t.d(ct,{x:()=>b});var e=t(61699),i=t(55617),L=t(17627),f=t(87965),x=t(24687),S=t(43559),u=t(26575),g=t(45356),h=t(47520),O=t(57665),E=t(33910),w=t(86515);const p=["img"];function V(I,q){1&I&&e._UZ(0,"div",12)}function c(I,q){if(1&I&&e._UZ(0,"img",13,14),2&I){const a=e.oxw();e.Q6J("src",a.item.data,e.LSH)}}function C(I,q){1&I&&(e.TgZ(0,"div",15),e.NdJ("click",function(y){return y.stopPropagation()}),e.qZA())}function l(I,q){1&I&&e._UZ(0,"mat-spinner",16)}function o(I,q){1&I&&e._UZ(0,"mat-icon",17)}function n(I,q){if(1&I){const a=e.EpF();e.TgZ(0,"mat-icon",18),e.NdJ("click",function(M){e.CHM(a);const P=e.oxw();return e.KtG(P.onRemoveClick(M))}),e.qZA()}}function s(I,q){1&I&&e._UZ(0,"div",19)}function R(I,q){1&I&&e._UZ(0,"div",20)}const _=function(I,q){return{"width.px":I,"height.px":q}};let b=(()=>{var I;class q{constructor(y,M){this.galleryService=y,this.translateService=M,this.initialDelay=!1,this.deleteVisible=!1,this.multiSelect=!1,this.activity=!1,this.selectedItemDeleted=new e.vpe}ngAfterViewInit(){this.item&&!this.item.data&&this.scrolling&&(this.metadataReq$=this.scrolling.pipe((0,i.g)(this.initialDelay?300:0),(0,L.P)(y=>!1===y),(0,f.zg)(()=>this.galleryService.fillInFileData(this.item))).subscribe())}ngOnDestroy(){this.metadataReq$&&this.metadataReq$.unsubscribe()}onRemoveClick(y){this.selectedItemDeleted.emit(this.item),y.stopImmediatePropagation(),y.preventDefault()}get displayInfo(){const y=`highlightLabels.${this.item.hlName}`;let M=this.translateService.instant(y);M===y&&(M=this.item.hlName);let P="";return void 0!==this.item.duration&&(P="00:"===this.item.duration.slice(0,3)?this.item.duration.slice(3):this.item.duration.slice(0)),this.item.file.type===x.A2.Image?M:this.item.file.subtype===x.dM.Montage?P+" - "+this.translateService.instant("montage.Montage"):this.item.file.subtype===x.dM.Highlights&&this.item.hlName?P+" - "+M:P}handleDrag(y){y.dataTransfer.setData("text/plain","ooggStartDrag"),y.dataTransfer.setData("text/html",this.item.fullFilename),y.dataTransfer.setDragImage(this.imgRef.nativeElement,0,0),y.dataTransfer.dropEffect="copy"}}return(I=q).\u0275fac=function(y){return new(y||I)(e.Y36(x.rj),e.Y36(S.sK))},I.\u0275cmp=e.Xpm({type:I,selectors:[["nv-gallery-item"]],viewQuery:function(y,M){if(1&y&&e.Gf(p,5,e.SBq),2&y){let P;e.iGM(P=e.CRH())&&(M.imgRef=P.first)}},inputs:{item:"item",scrolling:"scrolling",activeItem:"activeItem",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",initialDelay:"initialDelay",deleteVisible:"deleteVisible",multiSelect:"multiSelect",activity:"activity"},outputs:{selectedItemDeleted:"selectedItemDeleted"},decls:14,vars:14,consts:[[1,"gallery-item",3,"ngStyle","draggable","dragstart"],["class","gallery-overlay-bkgnd gallery-overlay",4,"ngIf"],[1,"gallery-overlay-info","gallery-overlay"],[1,"font-body2"],[3,"src",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"gallery-overlay"],["class","gallery-inprogress",3,"click",4,"ngIf"],["diameter","32","tabindex","-1","color","accent",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal gallery-overlay-play-icon","tabindex","-1",4,"ngIf"],["svgIcon","remove_circle","class","remove-circle",3,"click",4,"ngIf"],["class","gallery-active",4,"ngIf"],["class","activity-active",4,"ngIf"],[1,"gallery-overlay-bkgnd","gallery-overlay"],[3,"src"],["img",""],[1,"gallery-inprogress",3,"click"],["diameter","32","tabindex","-1","color","accent"],["svgIcon","alert_circle","tabindex","-1",1,"icon-normal","gallery-overlay-play-icon"],["svgIcon","remove_circle",1,"remove-circle",3,"click"],[1,"gallery-active"],[1,"activity-active"]],template:function(y,M){1&y&&(e.TgZ(0,"mat-card",0),e.NdJ("dragstart",function(K){return M.handleDrag(K)}),e.TgZ(1,"mat-card-content"),e.YNc(2,V,1,0,"div",1),e.TgZ(3,"div",2)(4,"span",3),e._uU(5),e.qZA()(),e.YNc(6,c,2,1,"img",4),e.TgZ(7,"div",5),e.YNc(8,C,1,0,"div",6),e.YNc(9,l,1,0,"mat-spinner",7),e.YNc(10,o,1,0,"mat-icon",8),e.qZA(),e.YNc(11,n,1,0,"mat-icon",9),e.YNc(12,s,1,0,"div",10),e.YNc(13,R,1,0,"div",11),e.qZA()()),2&y&&(e.Q6J("ngStyle",e.WLB(11,_,M.thumbWidth,M.thumbHeight))("draggable",!M.multiSelect),e.xp6(2),e.Q6J("ngIf",""!==M.displayInfo),e.xp6(3),e.Oqu(M.displayInfo),e.xp6(1),e.Q6J("ngIf",M.item.data),e.xp6(2),e.Q6J("ngIf",!M.item.data),e.xp6(1),e.Q6J("ngIf",!M.item.data&&!M.item.cancel),e.xp6(1),e.Q6J("ngIf",M.item.cancel),e.xp6(1),e.Q6J("ngIf",M.deleteVisible),e.xp6(1),e.Q6J("ngIf",!M.activity&&M.item===M.activeItem),e.xp6(1),e.Q6J("ngIf",M.activity&&M.item===M.activeItem))},dependencies:[u.O5,u.PC,g.xw,g.Wh,h.Zl,O.S$,O.Qi,E.Ou,w.Hw],styles:[".gallery-item[_ngcontent-%COMP%]{padding:0;box-sizing:border-box;background-color:#191919;box-shadow:none;border-radius:0}.gallery-overlay[_ngcontent-%COMP%], .activity-active[_ngcontent-%COMP%], .gallery-active[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}.gallery-inprogress[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;z-index:99;height:100%;width:100%;box-sizing:border-box;border-style:dashed;border-width:2px;color:#ffffff61}.gallery-overlay-play-icon[_ngcontent-%COMP%]{width:33px;height:33px;font-size:33px;margin:0;opacity:.95}.gallery-overlay-common[_ngcontent-%COMP%], .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .gallery-overlay-bkgnd[_ngcontent-%COMP%]{position:absolute;color:#fff;white-space:normal;padding:0}.gallery-active[_ngcontent-%COMP%]{border:2px solid #76b900;z-index:1}.activity-active[_ngcontent-%COMP%]{border-bottom:3px solid #76b900;z-index:1}.gallery-overlay-bkgnd[_ngcontent-%COMP%]{background-color:#00000080;height:27px;top:140px}.gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:0 5px;bottom:2px}.isLtr[_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:2px 0 0 2px}html[dir=ltr][_ngcontent-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{--dummy: 0;margin:2px 0 0 2px}.isRtl[_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:2px 2px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{--dummy: 0;margin:2px 2px 0 0}.remove-circle-widget[_ngcontent-%COMP%], .remove-circle[_ngcontent-%COMP%]{position:absolute;color:#fff;width:20px;height:20px;top:0;right:0;z-index:999}.isLtr[_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%]{margin:5px 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .remove-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 5px 0 0}.isRtl[_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%]{margin:5px 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .remove-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 0 0 5px}[_nghost-%COMP%]:hover   .remove-circle[_ngcontent-%COMP%]{opacity:1;cursor:default}[_nghost-%COMP%]:not(:hover)   .remove-circle[_ngcontent-%COMP%]{opacity:0;cursor:none}"]}),q})()},1598:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>L});var e=t(61699),i=t(69400);let L=(()=>{var f;class x{}return(f=x).\u0275fac=function(u){return new(u||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["nv-divider"]],decls:1,vars:0,consts:[[1,"nv-divider"]],template:function(u,g){1&u&&e._UZ(0,"mat-divider",0)},dependencies:[i.d],styles:[".nv-divider[_ngcontent-%COMP%]{margin:16px -24px}"]}),x})()},80152:(Dt,ct,t)=>{"use strict";t.d(ct,{n:()=>C});var e=t(61699),i=t(26575),L=t(45356),f=t(47520),x=t(78654),S=t(86515),u=t(60702),g=t(43559);const h=["button"];function O(l,o){if(1&l&&(e.TgZ(0,"div",5),e._UZ(1,"mat-icon",6),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.s9C("svgIcon",n.svgIcon)}}function E(l,o){if(1&l&&e._UZ(0,"span",10),2&l){const n=e.oxw(2);e.Q6J("translate",n.title)("translateParams",n.titleArg)}}function w(l,o){if(1&l&&e._UZ(0,"span",11),2&l){const n=e.oxw(2);e.Q6J("translate",n.subTitle)("translateParams",n.subTitleArg)}}function p(l,o){if(1&l&&(e.TgZ(0,"div",7),e.YNc(1,E,1,2,"span",8),e.YNc(2,w,1,2,"span",9),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.title),e.xp6(1),e.Q6J("ngIf",n.subTitle)}}function V(l,o){1&l&&(e.TgZ(0,"div",5),e._UZ(1,"mat-icon",12),e.qZA())}const c=function(l){return{"default-cursor":l}};let C=(()=>{var l;class o{constructor(){this.svgIcon=void 0,this.disabled=!1,this.focusEnabled=!0,this.title=void 0,this.titleArg=void 0,this.tooltip=void 0,this.subTitle=void 0,this.subTitleArg=void 0,this.chevron=!1,this.clicked=new e.vpe,this.onClick=function(){this.clicked.emit()}}focus(){this.element.nativeElement.focus()}}return(l=o).\u0275fac=function(s){return new(s||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["nv-item-button"]],viewQuery:function(s,R){if(1&s&&e.Gf(h,7),2&s){let _;e.iGM(_=e.CRH())&&(R.element=_.first)}},inputs:{svgIcon:"svgIcon",disabled:"disabled",focusEnabled:"focusEnabled",title:"title",titleArg:"titleArg",tooltip:"tooltip",subTitle:"subTitle",subTitleArg:"subTitleArg",chevron:"chevron"},outputs:{clicked:"clicked"},decls:7,vars:10,consts:[["mat-button","","fxFlex","","tabIndex","0","matTooltipClass","nv-oogg oogg-tooltip",1,"nv-item-button-container","complex-button","font-body2",3,"disabled","ngClass","matTooltip","click"],["button",""],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["class","nv-item-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",4,"ngIf"],["class","nv-item-labels","fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],[3,"svgIcon"],["fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",1,"nv-item-labels"],["class","font-body2",3,"translate","translateParams",4,"ngIf"],["class","font-body3 disabled-opacity",3,"translate","translateParams",4,"ngIf"],[1,"font-body2",3,"translate","translateParams"],[1,"font-body3","disabled-opacity",3,"translate","translateParams"],["svgIcon","chevron_right"]],template:function(s,R){1&s&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return R.onClick()}),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.YNc(4,O,2,1,"div",3),e.YNc(5,p,3,2,"div",4),e.YNc(6,V,2,0,"div",3),e.qZA()()),2&s&&(e.Q6J("disabled",R.disabled)("ngClass",e.VKq(8,c,!R.focusEnabled))("matTooltip",e.lcZ(2,6,R.tooltip)),e.xp6(4),e.Q6J("ngIf",R.svgIcon),e.xp6(1),e.Q6J("ngIf",R.title||R.subTitle),e.xp6(1),e.Q6J("ngIf",R.chevron))},dependencies:[i.mk,i.O5,L.xw,L.Wh,L.XD,L.yH,f.oO,x.eB,S.Hw,u.gM,g.Pi,g.X$],styles:["[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{width:36px;height:36px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.nv-item-button-container[_ngcontent-%COMP%]{width:100%}.nv-item-button-container[disabled][_ngcontent-%COMP%]{opacity:.38}"]}),o})()},1976:(Dt,ct,t)=>{"use strict";t.d(ct,{e:()=>q});var e=t(61699),i=t(47178),f=t(70462),x=t(89718),S=t(95933),u=t(99901),g=t(24687),h=t(58540),E=t(43559);const w=["scroller"],p=["labeloverlay"];function V(a,y){if(1&a&&e._UZ(0,"div"),2&a){const M=e.oxw(2);e.Udp("padding-top",M.topBottomPad,"px")("width","100%")}}function c(a,y){if(1&a&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"mat-icon",12),e.TgZ(3,"div",13),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&a){const M=e.oxw().$implicit,P=e.oxw();e.xp6(1),e.ekj("checked",M[0].selected)("partial",M[0].partial)("multiOn",P.multiSelectModeOn),e.xp6(3),e.Oqu(e.lcZ(5,7,M[0].divider))}}function C(a,y){}const l=function(a,y){return{$implicit:a,scroll:y}};function o(a,y){if(1&a&&(e.TgZ(0,"nv-virtual-grid-item",16),e.YNc(1,C,0,0,"ng-template",17),e.qZA()),2&a){const M=y.$implicit,P=e.oxw(3);e.Q6J("useOutline",P.useFocusOutline)("showFocusAlways",P.showFocusAlways)("item",M)("selectedItemIndex",P.selectedItemIndex)("itemWidth",P.itemWidth)("itemHeight",P.itemHeight)("multiSelectAvailable",P.multiSelect)("multiSelectModeOn",P.multiSelectModeOn),e.xp6(1),e.Q6J("ngTemplateOutlet",P.template)("ngTemplateOutletContext",e.WLB(10,l,M.item,P.scrolling$.asObservable()))}}function n(a,y){if(1&a&&(e.TgZ(0,"div",14),e.YNc(1,o,2,13,"nv-virtual-grid-item",15),e.qZA()),2&a){const M=e.oxw().$implicit,P=e.oxw();e.Q6J("fxLayoutGap",P.marginRight+"px"),e.xp6(1),e.Q6J("ngForOf",M)}}function s(a,y){if(1&a&&e._UZ(0,"div"),2&a){const M=e.oxw(2);e.Udp("padding-bottom",M.topBottomPad,"px")("width","100%")}}function R(a,y){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,V,1,4,"div",6),e.YNc(2,c,6,9,"div",7),e.YNc(3,n,2,2,"div",8),e.YNc(4,s,1,4,"div",9),e.qZA()),2&a){const M=y.$implicit,P=y.last,K=y.first,B=e.oxw();e.Udp("margin-bottom",P?0:B.marginBottom,"px"),e.xp6(1),e.Q6J("ngIf",K),e.xp6(1),e.Q6J("ngIf",M[0].divider),e.xp6(1),e.Q6J("ngIf",!M[0].divider),e.xp6(1),e.Q6J("ngIf",P)}}function _(a,y){if(1&a&&e._UZ(0,"div"),2&a){const M=e.oxw(2);e.Udp("height",M.topBottomPad,"px")}}function b(a,y){if(1&a&&e._UZ(0,"div"),2&a){const M=e.oxw(2);e.Udp("height",M.topBottomPad,"px")}}function I(a,y){if(1&a){const M=e.EpF();e.TgZ(0,"div"),e.YNc(1,_,1,2,"div",18),e.TgZ(2,"div",19)(3,"div",20),e.NdJ("click",function(K){const j=e.CHM(M).index,tt=e.oxw();return e.KtG(tt.onLabelClick(K,j))}),e._UZ(4,"mat-icon",12),e.TgZ(5,"div",13),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e._UZ(8,"div"),e.YNc(9,b,1,2,"div",18),e.qZA()}if(2&a){const M=y.$implicit,P=y.first,K=y.last,B=e.oxw();e.xp6(1),e.Q6J("ngIf",P),e.xp6(2),e.ekj("checked",M.checked)("partial",M.partial)("multiOn",B.multiSelectModeOn),e.xp6(3),e.Oqu(e.lcZ(7,11,M.text)),e.xp6(2),e.Udp("height",M.contentHeight,"px"),e.xp6(1),e.Q6J("ngIf",K)}}let q=(()=>{var a;class y{get selectedItem(){return this._selectedItem}set selectedItem(P){const K=this._selectedItem;if(this._selectedItem=P,this.initialized&&K!==this._selectedItem){const B=this.list.findIndex(j=>j.item===P);B>=0&&(this.setCurrentItem(this.list[B]),this.ensureItemVisible(B))}}set items(P){P&&this.list&&0===P.length&&0===this.list.length||(this.list=P?P.map((K,B)=>(K===this._selectedItem&&(this.selectedItemIndex=B),{index:B,selected:P[B].selected,element:void 0,divider:void 0,item:K})):P,this.refresh())}onkeydown(P){this.handleKeyPress(P)}onFocus(){if(!this.list||this.list.length<=0)return;let P=this.selectedItemIndex;P<0&&(P=0),this.setCurrentItem(this.list[P])}onResize(P){this.resizeThrottler(100)}resizeThrottler(P){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.refresh()},P))}setContent(P,K){this.list=P,this.itemsPerRow=K}setTopIndex(P){this.topIndex=P}setCurrentItem(P){const K=this._multiSelectList.length>0,B=this.getItem(this.selectedItemIndex);if(!K){if(B){if(B.index===P.index)return;B.selected=!1}P&&(P.selected=!0)}this._selectedItem=P.item,this.selectedItemIndex=P.index,this.selectedItemChange.emit(this._selectedItem)}multiSelectClick(P,K){if(!P)return;if(!this.multiSelectModeOn){const tt=this.getItem(this.selectedItemIndex);tt&&(tt.selected=!1)}const B=this._multiSelectList.find(tt=>tt.item===P.item);B?((0,i.pull)(this._multiSelectList,B),P.selected=!1,P.item.selected=!1):(P.selected=!0,P.item.selected=!0,P.element&&(this._selectedItem=P.item,this.selectedItemIndex=P.index),this._multiSelectList.push(P));const j=this.multiSelectModeOn;this.multiSelectModeOn=this._multiSelectList.length>0,j!==this.multiSelectModeOn&&this.multiSelectMode.emit(this.multiSelectModeOn),K||this.checkAllLabelCircles(P),this.multiSelectList.emit(this._multiSelectList.map(tt=>tt.item))}cancelMultiSelect(){this.list.slice(0).forEach(P=>P.selected=!1),this._multiSelectList.slice(0).forEach(P=>this.multiSelectClick(P))}refreshMultiSelectList(P){setTimeout(()=>{this.list.forEach(K=>{this.checkAllLabelCircles(K)})},100),this.multiSelectModeOn=!P}constructor(P,K,B){this.element=P,this.translateService=K,this.renderer=B,this.itemsPerRow=1,this.topIndex=0,this.initialized=!1,this.eventTimeout=null,this.rows=[],this.scrolling$=new f.X(!1),this.today="",this.yesterday="",this.maxRows=6,this.marginBottom=0,this.marginRight=0,this.multiSelect=!1,this.useFocusOutline=!0,this.showFocusAlways=!1,this.chunkFileMetadata=!1,this.stickyHeaders=!0,this.showCounts=!0,this.topBottomPad=0,this.headerSize=28,this._selectedItem=void 0,this.selectedItemIndex=-1,this.selectedItemChange=new e.vpe,this._multiSelectList=[],this._savedMultiSelectList=[],this.multiSelectModeOn=!1,this.multiSelectMode=new e.vpe,this.multiSelectList=new e.vpe,this.handleKeyPress=void 0,this.handleKeyPress=(0,i.throttle)(this._handleKeyPress,100),this.today=this.translateService.instant("commonLabels.Today"),this.yesterday=this.translateService.instant("commonLabels.Yesterday")}nullTime(P){return P.startOf("day")}getStringForDay(P){const K=this.nullTime(h());if(P.isSame(K,"day"))return this.today;if(K.subtract(1,"days"),P.isSame(K,"day"))return this.yesterday;K.add(1,"days");const B=h().startOf("month").subtract(1,"month");return P.isSameOrAfter(B,"month")?P.isSame(K,"year")?P.format("dddd, MMMM D"):P.format("dddd, LL"):P.isSame(K,"year")?P.format("MMMM"):P.format("MMMM YYYY")}newHeader(P){return{index:-1,selected:!1,element:void 0,divider:P,item:void 0}}isSameRow(P,K){const B=h().startOf("month").subtract(1,"month");return P.isSameOrAfter(B,"month")?P.isSame(K,"day"):P.isSame(K,"month")}pushRow(P,K,B=!1){const j=this.itemHeight+this.marginBottom;return this.rows.push(P),this.itemOffsets.push(K+=j),this.stickyHeaders&&(this.dividers[this.dividers.length-1].contentHeight+=j),K}chunkFiles(){let P=this.nullTime(h()).add(1,"years");const K=this.sortType===g.ER.newest||this.sortType===g.ER.oldest;let B="",j=[],tt=0,ot=0,F=0;if(this.itemOffsets=[0],this.rows=[],this.dividers=[],this.list.map((U,z)=>(U.index=z,U)),this.list.forEach((U,z)=>{const Q=U.item;if(!U.item)return;(0===z||z===this.list.length-1)&&(tt+=this.topBottomPad);const dt=h(Q.date),X=Q.folder;if(K?this.isSameRow(dt,P):0===X.localeCompare(B))ot++,j.push(U),j.length>=this.itemsPerRow&&(tt=this.pushRow(j,tt),j=[]);else{j.length>0&&(tt=this.pushRow(j,tt),j=[]);const Y=K?this.getStringForDay(dt):X;if(this.stickyHeaders){if(this.dividers.length>0){if(this.showCounts){const D=ot+1;this.dividers[this.dividers.length-1].text+=" ("+D+")",this.dividers[this.dividers.length-1].count=D}ot=0}this.dividers.push({text:Y,contentHeight:0}),this.rows.push([this.newHeader(" ")])}else{if(this.rows.length>0){if(this.showCounts){const D=ot+1;this.rows[F-1][0].divider+=" ("+D+")",this.rows[F-1][0].count=D}ot=0}this.rows.push([this.newHeader(Y)]),F=this.rows.length}tt+=this.headerSize+this.marginBottom,this.itemOffsets.push(tt),P=dt,B=X,j.push(U)}}),j.length>0&&(tt=this.pushRow(j,tt,!0)),this.showCounts&&this.stickyHeaders&&this.dividers.length>0){const U=ot+1;this.dividers[this.dividers.length-1].text+=" ("+U+")",this.dividers[this.dividers.length-1].count=U}else if(this.showCounts&&!this.stickyHeaders&&F>0){const U=ot+1;this.rows[F-1][0].divider+=" ("+U+")",this.rows[F-1][0].count=U}this.rows=this.rows.slice(),this.itemOffsets=this.itemOffsets.slice()}refresh(){if(!this.initialized)return;const B=this.element.nativeElement.offsetWidth-32;this.itemsPerRow=Math.floor(B/this.itemWidth),this.itemsPerRow*this.itemWidth+(this.itemsPerRow-1)*this.marginRight>B&&(this.itemsPerRow-=1),this.maxRows=Math.floor(this.element.nativeElement.offsetHeight/(this.itemHeight+this.marginBottom)),setTimeout(()=>{if(this.chunkFileMetadata)this.chunkFiles();else{this.rows=(0,i.chunk)(this.list,this.itemsPerRow),this.itemOffsets=[0];let tt=0;this.rows.forEach((ot,F)=>{tt+=this.itemHeight+this.marginBottom,(F===this.rows.length-1||0===F)&&(tt+=this.topBottomPad),this.itemOffsets.push(tt)})}this.list&&this.list.length>0?(this.selectedItemIndex=this.list.findIndex(tt=>tt.item===this._selectedItem),!this.selectedItemIndex&&this.list&&this.setCurrentItem(this.list[0])):this.selectedItemIndex=0,setTimeout(()=>this.ensureItemVisible(this.selectedItemIndex),0)},0)}getNewIndexRow(P,K,B){let j=K+P;for(;j>0&&j<this.rows.length&&this.rows[j][0].divider;)j+=P;return j<0?0:j>=this.rows.length?this.list.length-1:(B=Math.min(this.rows[j].length-1,B),this.rows[j][B].index)}_handleKeyPress(P){if(!this.list)return;let K=this.list.findIndex(U=>U.item===this._selectedItem);const B=this.rows.findIndex(U=>U.findIndex(z=>z.item===this._selectedItem)>=0),j=this.rows[B].findIndex(U=>U.item===this._selectedItem);K=-1===K?0:K;const tt=K,ot=this.list.length-1;let F=!0;if("ArrowLeft"===P.key)K-=1;else if("ArrowRight"===P.key)K+=1;else if("ArrowUp"===P.key)K=this.getNewIndexRow(-1,B,j),(K===tt||-1===K)&&(F=!1);else if("ArrowDown"===P.key)K=this.getNewIndexRow(1,B,j),K===tt&&(F=!1);else if("Home"===P.key)K=0;else if("End"===P.key)K=ot;else if("PageDown"===P.key)K+=this.itemsPerRow*this.maxRows;else if("PageUp"===P.key)K-=this.itemsPerRow*this.maxRows;else{if(" "===P.key)return this.multiSelectClick(this.list[K]),void P.preventDefault();F=!1}F&&P.preventDefault(),K=Math.max(0,Math.min(K,ot)),this.selectedItemIndex!==K&&(this.setCurrentItem(this.list[K]),this.ensureItemVisible(K))}ensureItemVisible(P,K="auto"){if(null==P||P<0||P>=this.list.length)return;const B=this.rows.findIndex(F=>F.findIndex(U=>U.item===this._selectedItem)>=0);this.maxRows=Math.floor(this.element.nativeElement.offsetHeight/(this.itemHeight+this.marginBottom));const ot=B-Math.round(this.maxRows/2);if(this.topIndex<ot||this.topIndex>B-2*this.maxRows){const U=Math.max(0,Math.min(ot,this.rows.length-this.maxRows+1));this.scroller.scrollToOffset(this.itemOffsets[U],K)}}getItem(P=this.selectedItemIndex){return null!=P&&P>=0&&P<this.list.length?this.list[P]:null}ngAfterViewInit(){var P;this.initialized=!0;const K=this.scroller.elementScrolled().pipe((0,S.b)(250),(0,u.h)(!1)),B=this.scroller.elementScrolled().pipe((0,u.h)(!0));this.scrollingSub$=(0,x.T)(B,K).subscribe(tt=>this.scrolling$.next(tt));const j=null===(P=this.element)||void 0===P||null===(P=P.nativeElement)||void 0===P?void 0:P.querySelector(".cdk-virtual-scroll-spacer");setTimeout(()=>{this.renderer.appendChild(j,this.labelElement.nativeElement),this.refresh()},0)}ngOnDestroy(){this.scrollingSub$&&this.scrollingSub$.unsubscribe()}checkAllLabelCircles(P){let K=0;this.list.forEach((z,Q)=>{z.item===P.item&&(K=Q)});let B=0,j=0,tt=0,ot=0;this.stickyHeaders?this.dividers.forEach((z,Q)=>{K>=B&&K<B+z.count&&(j=Q,tt=z.count,ot=B),B+=z.count}):this.rows.forEach((z,Q)=>{z[0].count>0&&(K>=B&&K<B+z[0].count&&(j=Q,tt=z[0].count,ot=B),B+=z[0].count)});let F=!0,U=!1;for(let z=0;z<tt;z++){const Q=ot+z;void 0===this.list[Q]?(F=!1,U=!1):!1===this.list[Q].selected?F=!1:U=!0}U=!F&&U,this.stickyHeaders?(this.dividers[j].checked=F,this.dividers[j].partial=U):(this.rows[j][0].selected=F,this.rows[j][0].partial=U)}onLabelClick(P,K){let B=0,j=0,tt=!1;if(this.stickyHeaders){tt=!this.dividers[K].checked,this.dividers[K].partial=!1,this.dividers[K].checked=!this.dividers[K].checked,B=this.dividers[K].count;for(let U=0;U<K;U++)j+=this.dividers[U].count}else{tt=!this.rows[K][0].selected,this.rows[K][0].partial=!1,this.rows[K][0].selected=!this.rows[K][0].selected,B=this.rows[K][0].count;for(let U=0;U<K;U++)this.rows[U][0].count>0&&(j+=this.rows[U][0].count)}const ot=j+B;if(!this.multiSelectModeOn){const U=this.getItem(this.selectedItemIndex);U&&(U.selected=!1)}let F=0;this.rows.forEach(U=>{-1!==U[0].index&&(F>=j&&F<ot&&U.forEach(z=>{z.selected!==tt&&this.multiSelectClick(z,!0)}),F+=U.length)}),P.stopImmediatePropagation(),P.preventDefault()}}return(a=y).\u0275fac=function(P){return new(P||a)(e.Y36(e.SBq),e.Y36(E.sK),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["nv-virtual-grid-container"]],viewQuery:function(P,K){if(1&P&&(e.Gf(w,7),e.Gf(w,7,e.SBq),e.Gf(p,7,e.SBq)),2&P){let B;e.iGM(B=e.CRH())&&(K.scroller=B.first),e.iGM(B=e.CRH())&&(K.viewportElement=B.first),e.iGM(B=e.CRH())&&(K.labelElement=B.first)}},hostBindings:function(P,K){1&P&&e.NdJ("keydown",function(j){return K.onkeydown(j)})("focus",function(){return K.onFocus()})("resize",function(j){return K.onResize(j)},!1,e.Jf7)},inputs:{itemHeight:"itemHeight",itemWidth:"itemWidth",marginBottom:"marginBottom",marginRight:"marginRight",multiSelect:"multiSelect",template:"template",useFocusOutline:"useFocusOutline",showFocusAlways:"showFocusAlways",chunkFileMetadata:"chunkFileMetadata",stickyHeaders:"stickyHeaders",showCounts:"showCounts",topBottomPad:"topBottomPad",sortType:"sortType",selectedItem:"selectedItem",items:"items"},outputs:{selectedItemChange:"selectedItemChange",multiSelectMode:"multiSelectMode",multiSelectList:"multiSelectList"},decls:7,vars:3,consts:[["fxFlex","",1,"scroll-container",3,"itemOffsets","scrolledIndexChange"],["scroller",""],[3,"margin-bottom",4,"cdkVirtualFor","cdkVirtualForOf"],["labeloverlay",""],[1,"labels"],[4,"ngFor","ngForOf"],[3,"paddingTop","width",4,"ngIf"],["class","divider-pad",4,"ngIf"],["fxLayout","row",3,"fxLayoutGap",4,"ngIf"],[3,"paddingBottom","width",4,"ngIf"],[1,"divider-pad"],["fxLayout","row",1,"hover-label"],[1,"label-circle"],[1,"font-body2"],["fxLayout","row",3,"fxLayoutGap"],[3,"useOutline","showFocusAlways","item","selectedItemIndex","itemWidth","itemHeight","multiSelectAvailable","multiSelectModeOn",4,"ngFor","ngForOf"],[3,"useOutline","showFocusAlways","item","selectedItemIndex","itemWidth","itemHeight","multiSelectAvailable","multiSelectModeOn"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"height",4,"ngIf"],[1,"divider-pad","divider-sticky"],["fxLayout","row",1,"hover-label",3,"click"]],template:function(P,K){1&P&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0,1),e.NdJ("scrolledIndexChange",function(j){return K.setTopIndex(j)}),e.YNc(2,R,5,6,"div",2),e.qZA(),e.TgZ(3,"div",null,3)(5,"div",4),e.YNc(6,I,10,13,"div",5),e.qZA()()),2&P&&(e.Q6J("itemOffsets",K.itemOffsets),e.xp6(2),e.Q6J("cdkVirtualForOf",K.rows),e.xp6(4),e.Q6J("ngForOf",K.dividers))},styles:['.scroll-container[_ngcontent-%COMP%]{height:100%}.isLtr[_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%]{margin-right:-24px}html[dir=ltr][_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:-24px}.isRtl[_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%]{margin-left:-24px}html[dir=rtl][_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:-24px}.scroll-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{height:100%}.labels[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;pointer-events:none}.divider-pad[_ngcontent-%COMP%]{padding:8px 0 0;height:20px}.divider-sticky[_ngcontent-%COMP%]{position:sticky;top:0;padding-bottom:8px;background-color:#000}.hover-label[_ngcontent-%COMP%]{pointer-events:auto}.hover-label[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]{width:0;height:0;font-size:16px;margin:0}.hover-label[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#000;content:"radio_button_unchecked"}.hover-label.checked[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)}.hover-label.checked[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#fff;content:"check_circle"}.hover-label.partial[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)}.hover-label.partial[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#ffffff4d!important;content:"check_circle"}.hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.isLtr[_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{margin:0 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{--dummy: 0;margin:0 5px 0 0}.isRtl[_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{margin:0 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 0 5px}.hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before, .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%]:before, .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]:before{color:#fff}']}),y})()},70814:(Dt,ct,t)=>{"use strict";t.d(ct,{m:()=>qt});var e=t(26575),i=t(27947),L=t(32995),f=t(15826),x=t(13963),S=t(80152),u=t(1976),g=t(61699),h=t(45356),O=t(47520),E=t(86515);function w(Ct,Gt){if(1&Ct&&g._UZ(0,"div",3),2&Ct){const Zt=g.oxw();g.ekj("selected",Zt.item.index===Zt.selectedItemIndex)("showFocusAlways",Zt.showFocusAlways)}}function p(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",4)(1,"mat-icon",5),g.NdJ("click",function(_e){g.CHM(Zt);const Ie=g.oxw();return g.KtG(Ie.onMultiSelectClick(_e))}),g.qZA()()}if(2&Ct){const Zt=g.oxw();g.ekj("checked",Zt.multiSelectModeOn&&Zt.item.selected)("multiOn",Zt.multiSelectModeOn)("multiFocus",Zt.item.index===Zt.selectedItemIndex)}}const V=function(Ct,Gt){return{"width.px":Ct,"height.px":Gt,position:"relative"}},c=["*"];let C=(()=>{var Ct;class Gt{get item(){return this._item}set item(ee){this._item=ee,this._item.element=this.el}onMouseDown(){this.parent&&this.parent.setCurrentItem(this.item)}onClick(ee){this.parent&&this.multiSelectModeOn&&this.parent.multiSelectClick(this.item)}onMultiSelectClick(ee){this.parent&&this.parent.multiSelectClick(this.item),ee.stopImmediatePropagation(),ee.preventDefault()}constructor(ee,_e){this.el=ee,this.parent=_e,this.multiSelectAvailable=!1,this.multiSelectModeOn=!1,this.useOutline=!0,this.selectedItemIndex=-1,this.showFocusAlways=!1}}return(Ct=Gt).\u0275fac=function(ee){return new(ee||Ct)(g.Y36(g.SBq),g.Y36(u.e,8))},Ct.\u0275cmp=g.Xpm({type:Ct,selectors:[["nv-virtual-grid-item"]],inputs:{itemWidth:"itemWidth",itemHeight:"itemHeight",multiSelectAvailable:"multiSelectAvailable",multiSelectModeOn:"multiSelectModeOn",useOutline:"useOutline",selectedItemIndex:"selectedItemIndex",showFocusAlways:"showFocusAlways",item:"item"},ngContentSelectors:c,decls:4,vars:6,consts:[[3,"ngStyle","mousedown","click"],["class","overlay selected-overlay",3,"selected","showFocusAlways",4,"ngIf"],["class","overlay hover-overlay","fxLayout","row","fxLayoutAlign","end start",3,"checked","multiOn","multiFocus",4,"ngIf"],[1,"overlay","selected-overlay"],["fxLayout","row","fxLayoutAlign","end start",1,"overlay","hover-overlay"],[1,"multi-select-circle",3,"click"]],template:function(ee,_e){1&ee&&(g.F$t(),g.TgZ(0,"div",0),g.NdJ("mousedown",function(){return _e.onMouseDown()})("click",function(Je){return _e.onClick(Je)}),g.Hsn(1),g.YNc(2,w,1,4,"div",1),g.YNc(3,p,2,6,"div",2),g.qZA()),2&ee&&(g.Q6J("ngStyle",g.WLB(3,V,_e.itemWidth,_e.itemHeight)),g.xp6(2),g.Q6J("ngIf",_e.useOutline),g.xp6(1),g.Q6J("ngIf",_e.multiSelectAvailable))},dependencies:[e.O5,e.PC,h.xw,h.Wh,O.Zl,E.Hw],styles:['.overlay[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}:focus[_nghost-%COMP%]   .selected[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .selected[_ngcontent-%COMP%], .showFocusAlways.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.36)}.hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{color:transparent;width:20px;height:20px;font-size:20px;pointer-events:auto}.isLtr[_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{margin:5px 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 5px 0 0}.isRtl[_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{margin:5px 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 0 0 5px}.hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:before{content:"radio_button_unchecked"}.hover-overlay.checked[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)!important}.hover-overlay.checked[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:before{color:#fff!important;content:"check_circle"!important}.hover-overlay.multiOn[_ngcontent-%COMP%], :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.12)}.hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{color:#ffffffb3}.hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, .hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before{color:#fff}']}),Gt})();var l=t(28788),o=t(62131),n=t(32484),s=t(78943),R=t(58540),_=t(47178),b=t(24687),I=t(21120),q=t(78654),a=t(24565),y=t(33910),M=t(66273);const P=["image"],K=["video"],B=function(Ct){return{"left.px":Ct}},j=function(Ct,Gt,Zt){return{"width.px":Ct,"height.px":Gt,"font-size.px":Zt}};function tt(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"button",12),g.NdJ("click",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return _e.stopPropagation(),g.KtG(Ie.navLeft())}),g._UZ(1,"mat-icon",13),g.qZA()}if(2&Ct){const Zt=g.oxw(2);g.Q6J("ngStyle",g.VKq(2,B,Zt.chevronLeftPos)),g.xp6(1),g.Q6J("ngStyle",g.kEZ(4,j,Zt.chevronButtonSize,Zt.chevronButtonSize,Zt.chevronFontSize))}}function ot(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"button",12),g.NdJ("click",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return _e.stopPropagation(),g.KtG(Ie.navRight())}),g._UZ(1,"mat-icon",14),g.qZA()}if(2&Ct){const Zt=g.oxw(2);g.Q6J("ngStyle",g.VKq(2,B,Zt.chevronRightPos)),g.xp6(1),g.Q6J("ngStyle",g.kEZ(4,j,Zt.chevronButtonSize,Zt.chevronButtonSize,Zt.chevronFontSize))}}function F(Ct,Gt){if(1&Ct&&(g.TgZ(0,"div",6),g.YNc(1,tt,2,8,"button",7),g.TgZ(2,"div",8)(3,"div",9),g._UZ(4,"img",10,11),g.qZA()(),g.YNc(6,ot,2,8,"button",7),g.qZA()),2&Ct){const Zt=g.oxw();g.xp6(1),g.Q6J("ngIf",!Zt.mapView&&!Zt.iconPreview),g.xp6(3),g.Q6J("src",Zt.fileSrc,g.LSH),g.xp6(2),g.Q6J("ngIf",!Zt.mapView&&!Zt.iconPreview)}}const U=function(Ct){return{"view-on-hover":Ct}};function z(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return _e.stopPropagation(),g.KtG(Ie.navLeft())}),g._UZ(1,"mat-icon",13),g.qZA()}if(2&Ct){const Zt=g.oxw(2);g.Q6J("ngClass",g.VKq(3,U,!Zt.isPaused))("ngStyle",g.VKq(5,B,Zt.chevronLeftPos)),g.xp6(1),g.Q6J("ngStyle",g.kEZ(7,j,Zt.chevronButtonSize,Zt.chevronButtonSize,Zt.chevronFontSize))}}const Q=function(Ct,Gt){return{"icon-preview-visible":Ct,"icon-preview-hidden":Gt}},dt=function(Ct,Gt){return{"width.px":Ct,"height.px":Gt}};function X(Ct,Gt){if(1&Ct&&g._UZ(0,"mat-icon",26),2&Ct){const Zt=g.oxw(3);g.Q6J("ngClass",g.WLB(2,Q,Zt.showPlayButton,!Zt.showPlayButton))("ngStyle",g.WLB(5,dt,Zt.playButtonSize,Zt.playButtonSize))}}function m(Ct,Gt){1&Ct&&g._UZ(0,"mat-progress-spinner",27)}function Y(Ct,Gt){1&Ct&&g._UZ(0,"mat-icon",28)}function D(Ct,Gt){if(1&Ct&&(g.TgZ(0,"div",29)(1,"span",30),g._uU(2),g.qZA()()),2&Ct){const Zt=g.oxw(3);g.xp6(2),g.Oqu(Zt.videoErrorString)}}function N(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.ynx(0),g.TgZ(1,"div",21),g.NdJ("click",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.toggleMediaPlay())}),g.YNc(2,X,1,8,"mat-icon",22),g.YNc(3,m,1,0,"mat-progress-spinner",23),g.YNc(4,Y,1,0,"mat-icon",24),g.YNc(5,D,3,1,"div",25),g.qZA(),g.BQk()}if(2&Ct){const Zt=g.oxw(2);g.xp6(2),g.Q6J("ngIf",Zt.isPaused&&Zt.useDisplay===Zt.displayTypes.NORMAL&&!Zt.sliderMoving),g.xp6(1),g.Q6J("ngIf",Zt.useDisplay===Zt.displayTypes.SPINNER),g.xp6(1),g.Q6J("ngIf",Zt.useDisplay===Zt.displayTypes.ERROR),g.xp6(1),g.Q6J("ngIf",Zt.useDisplay===Zt.displayTypes.ERROR)}}function Z(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return _e.stopPropagation(),g.KtG(Ie.navRight())}),g._UZ(1,"mat-icon",14),g.qZA()}if(2&Ct){const Zt=g.oxw(2);g.Q6J("ngClass",g.VKq(3,U,!Zt.isPaused))("ngStyle",g.VKq(5,B,Zt.chevronRightPos)),g.xp6(1),g.Q6J("ngStyle",g.kEZ(7,j,Zt.chevronButtonSize,Zt.chevronButtonSize,Zt.chevronFontSize))}}const W=function(Ct,Gt){return{"width.px":Ct,"top.px":Gt}},A=function(Ct,Gt){return{"viewer-video-counter-short":Ct,"viewer-video-counter-long":Gt}};function d(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",31)(1,"nv-item-button",32),g.NdJ("clicked",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.toggleMediaPlay())}),g.qZA(),g.TgZ(2,"nv-hig-slider",33),g.NdJ("valueChange",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return g.KtG(Ie.sliderPosition=_e)})("input",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return g.KtG(Ie.sliderChanged(_e))})("mousedown",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.sliderInteraction(!0))})("mouseup",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.sliderInteraction(!1))},!1,g.Jf7),g.qZA(),g.TgZ(3,"div",34)(4,"span",35),g._uU(5),g.qZA()(),g.TgZ(6,"nv-item-button",36),g.NdJ("clicked",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.muteUnmute())}),g.qZA(),g.TgZ(7,"nv-hig-slider",37),g.NdJ("valueChange",function(_e){g.CHM(Zt);const Ie=g.oxw(2);return g.KtG(Ie.volume=_e)})("valueChange",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.volumeChanged())}),g.qZA()()}if(2&Ct){const Zt=g.oxw(2);g.Q6J("ngClass",g.VKq(12,U,!Zt.isPaused))("ngStyle",g.WLB(14,W,Zt.toolbarWidth,Zt.toolbarTopLoc)),g.xp6(1),g.Q6J("svgIcon",Zt.isPaused?"play_arrow":"pause")("tooltip",Zt.isPaused?"tooltips.Play":"tooltips.Pause"),g.xp6(1),g.Q6J("step",Zt.step)("value",Zt.sliderPosition)("animating",!Zt.isPaused),g.xp6(1),g.Q6J("ngClass",g.WLB(17,A,!Zt.longDuration,Zt.longDuration)),g.xp6(2),g.Oqu(Zt.videoTime),g.xp6(1),g.Q6J("svgIcon",0===Zt.volume?"volume_off":"volume")("tooltip",0===Zt.volume?"tooltips.Unmute":"tooltips.Mute"),g.xp6(1),g.Q6J("value",Zt.volume)}}function H(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",15)(1,"div",16),g.NdJ("keydown",function(_e){g.CHM(Zt);const Ie=g.oxw();return g.KtG(Ie.processToggleMedia(_e))}),g.YNc(2,z,2,11,"button",17),g.TgZ(3,"div",8),g._UZ(4,"div",9),g.YNc(5,N,6,4,"ng-container",18),g.qZA(),g.YNc(6,Z,2,11,"button",17),g.qZA(),g.YNc(7,d,8,20,"div",19),g.qZA()}if(2&Ct){const Zt=g.oxw();g.xp6(2),g.Q6J("ngIf",!Zt.iconPreview),g.xp6(3),g.Q6J("ngIf",!Zt.iconPreview),g.xp6(1),g.Q6J("ngIf",!Zt.iconPreview),g.xp6(1),g.Q6J("ngIf",!Zt.iconPreview&&Zt.showToolbar)}}const $=function(Ct,Gt){return{preview:Ct,iconview:Gt}};let J=(()=>{var Ct;class Gt{set imageRef(ee){this.image=ee?ee.nativeElement:null}set videoRef(ee){this.video&&""!==this.video.src&&(!ee||this.video!==ee.nativeElement)&&(this.video.src="",this.hasPlayedVideo=!1,this.video.load()),ee?(this.video=ee.nativeElement,this.video.focus()):this.video=null}set activeItem(ee){this._activeItem=ee,this.initPreviewData()}constructor(ee,_e,Ie,Je,qe,bn){this.loggingService=ee,this.galleryService=_e,this.bridgeService=Ie,this.renderer=Je,this.router=qe,this.route=bn,this.destroy$=new n.xQ,this.fileMetaData=void 0,this.description="",this.fileName="",this.fullFilename="",this.dimensions="",this.contentDimensions={width:1280,height:720},this.fileDate="",this.fileTime="",this.fileSize="",this.volume=0,this.savedVolume=0,this.step=.1,this.sliderPosition=0,this.isPaused=!0,this.playbackTimer=null,this.displayTypes={NORMAL:0,SPINNER:1,ERROR:2},this.useDisplay=this.displayTypes.SPINNER,this.videoErrorString="",this.sliderMoving=!1,this.longDuration=!1,this.toolbarTopLoc=0,this.toolbarWidth=0,this.showToolbar=!0,this.chevronLeftPos=0,this.chevronRightPos=0,this.chevronImageLeftPos=0,this.chevronImageRightPos=0,this.playButtonSize=48,this.chevronButtonSize=36,this.chevronFontSize=32,this.imageDimensions={width:0,height:0},this.eventTimeout=null,this.hasPlayedVideo=!1,this.showPlayButton=!0,this.mouseDown=!1,this.timePlaceHolderShort={text:"00:00.0",arg:""},this.timePlaceHolderLong={text:"00:00:00.0",arg:""},this.timePlaceHolder=this.timePlaceHolderShort,this.timeStyle=["20px","16px 0 0 0","0 0 0 6px"],this.shortDurationLength=7,this.longDurationLength=10,this.timeTextMaxLength=this.shortDurationLength,this.mapView=!1,this.mapPresent=!1,this.roundsPresent=!1,this.mapsPresent=!1,this.iconPreview=!1,this.activeItemChange=new g.vpe,this.iconPreviewRatio=new g.vpe,this.logger=this.loggingService.getLogger("Activity/Preview")}ngOnInit(){this.logger.info("Initializing Preview Component")}initPreviewData(){(0,_.isNil)(this._activeItem)?this.logger.info("New Preview Data Undefined - Not processing!"):this.initializeData(this._activeItem)}ngOnDestroy(){this.logger.info("Destroying view!"),this.destroy$.next(!0),this.destroy$.complete(),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.video&&""!==this.video.src&&setTimeout(()=>{this.video.src="",this.video.load()})}onResize(ee){this.resizeThrottler(100)}resizeThrottler(ee){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.isVideo?this.calculateVideoOverlayParameters(0):this.calculateImageOverlayParameters(0)},ee))}formatFilesizeString(ee){return ee<1e3?ee+" KB":ee<1e6?(ee/1e3).toFixed(2)+" MB":(ee/1e6).toFixed(2)+" GB"}initializeData(ee){this.logger.info("Loading preview file"),ee&&((void 0===this.fileMetaData||ee.fullFilename!==this.fileMetaData.fullFilename)&&(this.useDisplay=this.displayTypes.SPINNER),this.video&&!this.isPaused&&this.pauseMedia(),this.fileMetaData=ee,this.isVideo=ee.file.type===b.A2.Video,this.fileName=ee.file.name,""!==ee.date&&(this.fileDate=R(ee.date).format("MMM D, YYYY"),this.fileTime=R(ee.date).format("ddd LT")),this.description=ee.file.name+(""!==ee.hlName?" - "+ee.hlName:""),this.fileSize=this.formatFilesizeString(parseInt(ee.fileSize,10)),this.fileSrc=x.qR+ee.fullFilename,this.fullFilename=ee.fullFilename,this.isVideo||this.galleryService.getImageFileDimensions(ee.fullFilename).subscribe(_e=>{_e&&_e.width&&_e.height?(this.imageDimensions=_e,this.dimensions=_e.width+" x "+_e.height,this.iconPreview&&this.iconPreviewRatio.emit(_e.width/_e.height),this.calculateImageOverlayParameters(100)):this.dimensions=""}),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.isPaused=!0,this.sliderPosition=0,this.volume=this.savedVolume=this.galleryService.activityVolume,this.contextIcon=this.isVideo?"video":"image")}calculateVideoOverlayParameters(ee){this.iconPreview||setTimeout(()=>{const Ie=this.video.getBoundingClientRect().width,Je=this.video.getBoundingClientRect().height,qe=this.video.videoWidth/this.video.videoHeight,bn=Ie/Je,kn=qe>bn;this.logger.info("Video: "+this.video.videoWidth+" x "+this.video.videoHeight+" ratio: "+qe),this.logger.info("Visual: "+Ie+" x "+Je+" ratio: "+bn);const wn=kn?Ie/qe:Je,On=kn?Ie:Je*qe;this.logger.info("Actual W x H: "+On+" x "+wn);const Ln=Math.max(0,(Je-wn)/2),yn=Math.max(0,(Ie-On)/2);this.logger.info("TopBarHeight: "+Ln+" SideBarWidth: "+yn);const Pe=kn?Math.floor(wn+Ln):wn;this.toolbarTopLoc=Pe-68,this.logger.info("toolbarTopLoc: ",this.toolbarTopLoc),this.toolbarWidth=Math.min(On,Ie),this.showToolbar=!(this.toolbarWidth<300),this.chevronCommonArea(yn,On,wn,!0)},ee)}calculateImageOverlayParameters(ee){this.iconPreview||setTimeout(()=>{const _e=this.image.getBoundingClientRect().width,Ie=this.image.getBoundingClientRect().height,Je=this.imageDimensions.width/this.imageDimensions.height,qe=_e/Ie,bn=Je>qe;this.logger.info("Image: "+this.imageDimensions.width+" x "+this.imageDimensions.height+" ratio: "+Je),this.logger.info("Visual: "+_e+" x "+Ie+" ratio: "+qe);const kn=bn?_e/Je:Ie,wn=bn?_e:Ie*Je;this.logger.info("Actual W x H: "+wn+" x "+kn);const On=Math.max(0,(_e-wn)/2);this.logger.info("SideBarWidth: "+On),this.chevronCommonArea(On+40,wn,kn,!1)},ee)}chevronCommonArea(ee,_e,Ie,Je){const qe=_e<400||Ie<250;Je&&(this.playButtonSize=qe?24:48),this.chevronLeftPos=ee,this.chevronRightPos=ee+_e-(qe?30:48),this.chevronButtonSize=qe?18:36,this.chevronFontSize=qe?16:32}loadFromDragNDrop(){if(this.logger.info("Loading via dragNdrop"),!this.galleryService.currentFileData)return void this.logger.error("Loading a file after gallery moved on");const ee=this.renderer.listen("document","dragover",Ie=>{Ie.stopPropagation(),Ie.preventDefault(),Ie.dataTransfer.dropEffect="copy"}),_e=this.renderer.listen("document","drop",Ie=>{if(Ie.stopPropagation(),Ie.preventDefault(),!Ie.dataTransfer.files||!Ie.dataTransfer.files[0])return void this.logger.error("bad drop, no file list");if(!this.galleryService.currentFileData)return this.logger.error("Loading a file after gallery moved on"),ee(),void _e();const Je=Ie.dataTransfer.files[0];if(Je.name===this.galleryService.currentFileData.fullFilename){this.logger.info("Loading file");const qe=URL.createObjectURL(Je);this.isVideo?(this.video.src=qe,this.video.onerror=bn=>{this.logger.error("A video error occured",bn),this.useDisplay=this.displayTypes.ERROR},this.video.load()):this.image.src=qe}else this.logger.error("bad drag file: "+this.galleryService.currentFileData.fullFilename+"-"+Je.name);ee(),_e()});this.bridgeService.executeCommand(s.Gh.Share.Osc.DropUrl,{url:this.galleryService.currentFileData.fullFilename}).subscribe()}onLoadedData(){this.logger.info("Video ready"),this.volumeChanged(),this.useDisplay=this.displayTypes.NORMAL,this.dimensions=this.video.videoWidth+" x "+this.video.videoHeight,this.checkPlayButton(),this.setVideoTime(),this.calculateVideoOverlayParameters(100),this.iconPreview&&(this.iconPreviewRatio.emit(this.video.videoWidth/this.video.videoHeight),this.toggleMediaPlay())}sliderChanged(ee){if(this.video&&this.useDisplay===this.displayTypes.NORMAL&&(ee&&ee.value&&(this.sliderPosition=ee.value),this.sliderPosition!==this.lastPosition&&Math.round(this.sliderPosition/this.step)!==Math.round(this.lastPosition/this.step))){const _e=parseFloat((this.sliderPosition/100*this.video.duration).toFixed(2));isNaN(_e)?this.logger.error("sliderChanged, NaN Error!"):this.video.currentTime=_e,this.setVideoTime()}}toggleMediaPlay(){this.video&&(this.video.paused?(this.hasPlayedVideo||(this.hasPlayedVideo=!0),this.logger.info("Starting video"),this.video.play(),this.isPaused=!1,this.checkPlayButton(),this.galleryService.galleryViewAction(I.ryx.Play,this.fileMetaData),this.playbackTimer=setInterval(()=>{this.video?(this.sliderMoving||(this.sliderPosition=this.lastPosition=this.video.currentTime/this.video.duration*100),this.setVideoTime(),this.video.currentTime>=this.video.duration&&this.pauseMedia()):this.pauseMedia()})):this.pauseMedia())}checkPlayButton(){this.showPlayButton=this.isPaused&&this.useDisplay===this.displayTypes.NORMAL&&!this.sliderMoving}pauseMedia(){this.logger.info("Pausing video"),this.video.pause(),this.isPaused=!0,this.checkPlayButton(),this.playbackTimer&&(this.logger.info("Clearing Interval on pause"),clearInterval(this.playbackTimer),this.playbackTimer=null)}processToggleMedia(ee){("Enter"===ee.key||" "===ee.key)&&this.toggleMediaPlay()}setVideoTime(){this.longDuration=!(this.video.duration<3600);const ee=this.video.duration,_e=Math.floor(ee/3600),Ie=Math.floor(ee/60-60*_e),Je=Math.floor(ee-3600*_e-60*Ie),qe=Math.floor(10*ee)-10*Math.floor(ee),bn=("00"+_e).slice(-2).toString(),kn=("00"+Ie).slice(-2).toString(),wn=("00"+Je).slice(-2).toString(),On=("0"+qe).slice(-1).toString(),yn=Math.abs(this.video.duration*(this.sliderPosition/100)),Pe=Math.floor(yn/3600),Ue=Math.floor(yn/60-60*Pe),Ae=Math.floor(yn-3600*Pe-60*Ue),we=Math.floor(10*yn)-10*Math.floor(yn),We=("00"+Ue).slice(-2).toString()+":"+("00"+Ae).slice(-2).toString()+"."+("0"+we).slice(-1).toString(),Xe=kn+":"+wn+"."+On;if(this.longDuration){this.timePlaceHolder=this.timePlaceHolderLong,this.timeTextMaxLength=this.longDurationLength;const Gn=("00"+Pe).slice(-2).toString()+":";this.videoTime=Gn+We+" / "+bn+":"+Xe}else this.timePlaceHolder=this.timePlaceHolderShort,this.timeTextMaxLength=this.shortDurationLength,this.videoTime=We+" / "+Xe}volumeChanged(){this.video&&(this.logger.info("Volume changed to "+this.volume),this.video.volume=this.volume/100,this.galleryService.activityVolume=this.volume)}processToggleMute(ee){("Enter"===ee.key||" "===ee.key)&&this.muteUnmute()}muteUnmute(){this.video&&(this.volume?(this.logger.info("Muting video"),this.savedVolume=this.volume,this.volume=0):(this.logger.info("UnMuting video"),this.volume=this.savedVolume||50),this.volumeChanged())}sliderInteraction(ee){ee&&this.video&&!this.isPaused?this.sliderMoving=!0:!ee&&this.sliderMoving&&(this.sliderMoving=!1,this.isPaused&&this.toggleMediaPlay())}closePreview(){this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}navLeft(){this.getItem(!1)}navRight(){this.getItem(!0)}getItem(ee){this.isPaused||this.pauseMedia(),this._activeItem=this.galleryService.getActivityItem(this._activeItem.folder,this._activeItem.fullFilename,this._activeItem.session,ee),this.activeItemChange.emit(this._activeItem),this.initPreviewData()}}return(Ct=Gt).\u0275fac=function(ee){return new(ee||Ct)(g.Y36(x.ed),g.Y36(b.rj),g.Y36(x.dF),g.Y36(g.Qsj),g.Y36(i.F0),g.Y36(i.gz))},Ct.\u0275cmp=g.Xpm({type:Ct,selectors:[["nv-preview"]],viewQuery:function(ee,_e){if(1&ee&&(g.Gf(P,5),g.Gf(K,5)),2&ee){let Ie;g.iGM(Ie=g.CRH())&&(_e.imageRef=Ie.first),g.iGM(Ie=g.CRH())&&(_e.videoRef=Ie.first)}},hostBindings:function(ee,_e){1&ee&&g.NdJ("resize",function(Je){return _e.onResize(Je)},!1,g.Jf7)},inputs:{mapView:"mapView",mapPresent:"mapPresent",roundsPresent:"roundsPresent",mapsPresent:"mapsPresent",iconPreview:"iconPreview",activeItem:"activeItem"},outputs:{activeItemChange:"activeItemChange",iconPreviewRatio:"iconPreviewRatio"},decls:6,vars:6,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg"],["fxLayout","row","fxFlexFill","",3,"ngClass"],["fxLayout","column","fxFlex",""],["fxLayoutGap","8px"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxFlex","","fxLayout","column","class","video-container",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","mat-button","","class","complex-button view-on-hover nav-common",3,"ngStyle","click",4,"ngIf"],["fxFlex","","fxFlexAlign","stretch",1,"content-container"],[1,"content-absolute"],["alt","","tabIndex","-1",1,"preview-content",3,"src"],["image",""],["fxFlex","none","mat-button","",1,"complex-button","view-on-hover","nav-common",3,"ngStyle","click"],["svgIcon","chevron_left",1,"nav-button",3,"ngStyle"],["svgIcon","chevron_right",1,"nav-button",3,"ngStyle"],["fxFlex","","fxLayout","column",1,"video-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"keydown"],["fxFlex","none","mat-button","","class","complex-button nav-common",3,"ngClass","ngStyle","click",4,"ngIf"],[4,"ngIf"],["class","viewer-media-toolbar","dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",3,"ngClass","ngStyle",4,"ngIf"],["fxFlex","none","mat-button","",1,"complex-button","nav-common",3,"ngClass","ngStyle","click"],["fxLayout","row","fxLayoutAlign","center center",1,"video-overlay-button",3,"click"],["svgIcon","play_arrow","class","video-overlay-button-icon circle-play",3,"ngClass","ngStyle",4,"ngIf"],["id","progressIndicator","class","md-accent","mode","indeterminate",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal icon48 video-moment-error",4,"ngIf"],["class","video-box-error",4,"ngIf"],["svgIcon","play_arrow",1,"video-overlay-button-icon","circle-play",3,"ngClass","ngStyle"],["id","progressIndicator","mode","indeterminate",1,"md-accent"],["svgIcon","alert_circle",1,"icon-normal","icon48","video-moment-error"],[1,"video-box-error"],[1,"video-text-error","font-body1"],["dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",1,"viewer-media-toolbar",3,"ngClass","ngStyle"],["fxFlex","none",1,"viewer-playpause-button",3,"svgIcon","tooltip","clicked"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup"],["fxLayout","","fxLayoutAlign","center center",3,"ngClass"],[1,"font-body2"],["fxFlex","none",1,"viewer-video-volume-button",3,"svgIcon","tooltip","clicked"],["min","0","max","100",1,"viewer-video-volume-slider",3,"value","valueChange"]],template:function(ee,_e){1&ee&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2),g._UZ(3,"div",3),g.YNc(4,F,7,3,"div",4),g.YNc(5,H,8,4,"div",5),g.qZA()()()),2&ee&&(g.xp6(1),g.Q6J("ngClass",g.WLB(3,$,!_e.iconPreview,_e.iconPreview)),g.xp6(3),g.Q6J("ngIf",!_e.isVideo),g.xp6(1),g.Q6J("ngIf",_e.isVideo))},dependencies:[e.mk,e.O5,e.PC,h.xw,h.SQ,h.Wh,h.s9,h.XD,h.yH,O.oO,O.Zl,q.eB,a.Lv,y.Ou,E.Hw,M.Q,S.n],styles:[".preview[_ngcontent-%COMP%]{padding:16px}.iconview[_ngcontent-%COMP%]{padding:1px;background-color:#ffffffbf}.video-container[_ngcontent-%COMP%], .content-container[_ngcontent-%COMP%]{position:relative}.content-absolute[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;position:absolute}.preview-content[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.video-overlay-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.95}.video-overlay-button-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;padding:16px}.circle-play[_ngcontent-%COMP%]{border-radius:50%;background-color:#191919}.icon48[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px}.nav-button[_ngcontent-%COMP%]{color:#a0a0a0;padding:6px;border-radius:50%;background-color:#191919}.nav-common[_ngcontent-%COMP%]{position:absolute;z-index:1000}.video-moment-error[_ngcontent-%COMP%]{position:absolute;text-align:center;vertical-align:middle}.video-box-error[_ngcontent-%COMP%]{margin-top:80px;text-align:center;display:table}.video-box-error[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle!important}.viewer-media-toolbar[_ngcontent-%COMP%]{max-height:68px;min-height:68px!important;padding:16px 24px 16px 0;position:absolute;align-self:center;background:rgba(57,57,57,.32)}.viewer-playpause-button[_ngcontent-%COMP%]{margin:0 8px 0 0}.viewer-video-counter-short[_ngcontent-%COMP%]{min-width:110px;margin:0 0 0 16px}.viewer-video-counter-long[_ngcontent-%COMP%]{min-width:150px;margin:0 0 0 16px}.viewer-video-volume-slider[_ngcontent-%COMP%]{width:20%}.viewer-video-volume-button[_ngcontent-%COMP%]{margin:0 0 0 16px}[_nghost-%COMP%]:hover   .view-on-hover[_ngcontent-%COMP%]{opacity:1;cursor:default}[_nghost-%COMP%]:not(:hover)   .view-on-hover[_ngcontent-%COMP%]{opacity:0;cursor:none}"]}),Gt})();var st=t(43559);const lt=["scroller"],gt=["timeline"],vt=function(Ct,Gt){return{"icon-normal":Ct,"icon-highlighted":Gt}},k=function(Ct){return{"left.px":Ct}};function pt(Ct,Gt){if(1&Ct&&g._UZ(0,"mat-icon",14),2&Ct){const Zt=g.oxw(),ee=Zt.index,_e=Zt.$implicit,Ie=g.oxw(2);g.Q6J("ngClass",g.WLB(3,vt,Ie.activeItemIndex!==ee,Ie.activeItemIndex===ee))("ngStyle",g.VKq(6,k,_e.iconLoc))("svgIcon",_e.icon)}}function yt(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",15),g.NdJ("previewStateChange",function(_e){g.CHM(Zt);const Ie=g.oxw(3);return g.KtG(Ie.previewStateChanged(_e))})("click",function(){g.CHM(Zt);const _e=g.oxw().index,Ie=g.oxw(2);return g.KtG(Ie.onEventClick(_e))}),g.qZA()}if(2&Ct){const Zt=g.oxw(),_e=Zt.$implicit;g.Q6J("itemIndex",Zt.index)("ngStyle",g.VKq(3,k,_e.iconLoc))("matTooltip",_e.name)}}const Xt=function(Ct,Gt){return{"el-edgelog-preview1":Ct,"el-edgelog-preview2":Gt}};function It(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",16)(1,"nv-preview",17),g.NdJ("activeItemChange",function(_e){g.CHM(Zt);const Ie=g.oxw().index,Je=g.oxw(2);return g.KtG(Je.metadata[Ie]=_e)})("iconPreviewRatio",function(_e){g.CHM(Zt);const Ie=g.oxw(3);return g.KtG(Ie.ratioChanged(_e))}),g.qZA()()}if(2&Ct){const Zt=g.oxw(),ee=Zt.$implicit,_e=Zt.index,Ie=g.oxw(2);g.Q6J("ngClass",g.WLB(4,Xt,!Ie.ratio,Ie.ratio))("ngStyle",g.VKq(7,k,ee.previewLoc)),g.xp6(1),g.Q6J("activeItem",Ie.metadata[_e])("iconPreview",!0)}}function Nt(Ct,Gt){if(1&Ct&&(g.ynx(0),g.YNc(1,pt,1,8,"mat-icon",11),g.YNc(2,yt,1,5,"div",12),g.YNc(3,It,2,9,"div",13),g.BQk()),2&Ct){const Zt=Gt.$implicit,ee=g.oxw(2);g.xp6(1),g.Q6J("ngIf",Zt.round===ee.roundItemIndex),g.xp6(1),g.Q6J("ngIf",Zt.round===ee.roundItemIndex),g.xp6(1),g.Q6J("ngIf",Zt.round===ee.roundItemIndex&&Zt.previewVisible)}}function le(Ct,Gt){if(1&Ct&&(g.TgZ(0,"div",10),g.YNc(1,Nt,4,3,"ng-container",8),g.qZA()),2&Ct){const Zt=g.oxw();g.xp6(1),g.Q6J("ngForOf",Zt.eventData)}}const te=function(Ct,Gt){return{"el-circle-selected":Ct,"el-diamond-selected":Gt}};function bt(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",20),g.NdJ("click",function(){g.CHM(Zt);const _e=g.oxw().index,Ie=g.oxw(2);return g.KtG(Ie.onEventClick(_e))}),g.qZA()}if(2&Ct){const Zt=g.oxw().$implicit;g.Q6J("ngClass",g.WLB(3,te,"circle"===Zt.marker,"diamond"===Zt.marker))("ngStyle",g.VKq(6,k,Zt.location))("matTooltip",Zt.name)}}const Vt=function(Ct,Gt){return{"el-circle":Ct,"el-diamond":Gt}};function ut(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div",20),g.NdJ("click",function(){g.CHM(Zt);const _e=g.oxw().index,Ie=g.oxw(2);return g.KtG(Ie.onEventClick(_e))}),g.qZA()}if(2&Ct){const Zt=g.oxw().$implicit;g.Q6J("ngClass",g.WLB(3,Vt,"circle"===Zt.marker,"diamond"===Zt.marker))("ngStyle",g.VKq(6,k,Zt.location))("matTooltip",Zt.name)}}function re(Ct,Gt){if(1&Ct&&(g.ynx(0),g.YNc(1,bt,1,8,"div",19),g.YNc(2,ut,1,8,"div",19),g.BQk()),2&Ct){const Zt=Gt.$implicit,ee=Gt.index,_e=g.oxw(2);g.xp6(1),g.Q6J("ngIf",_e.activeItemIndex===ee&&Zt.round===_e.roundItemIndex),g.xp6(1),g.Q6J("ngIf",_e.activeItemIndex!==ee&&Zt.round===_e.roundItemIndex)}}function Kt(Ct,Gt){if(1&Ct&&(g.TgZ(0,"div",18),g.YNc(1,re,3,2,"ng-container",8),g.qZA()),2&Ct){const Zt=g.oxw();g.xp6(1),g.Q6J("ngForOf",Zt.eventData)}}function jt(Ct,Gt){1&Ct&&(g.TgZ(0,"div",21),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&Ct&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"summary.EmptyRound")))}function Wt(Ct,Gt){if(1&Ct&&(g.ynx(0),g.TgZ(1,"div",0)(2,"div",22),g._uU(3),g.qZA(),g.TgZ(4,"div",23),g._uU(5,"|"),g.qZA()(),g.BQk()),2&Ct){const Zt=Gt.$implicit;g.xp6(2),g.Q6J("ngStyle",g.VKq(3,k,Zt.labelLoc)),g.xp6(1),g.hij(" ",Zt.tag," "),g.xp6(1),g.Q6J("ngStyle",g.VKq(5,k,Zt.tickLoc))}}function oe(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"nv-item-button",30),g.NdJ("clicked",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.recentGoLeft())}),g.qZA()}}function Qt(Ct,Gt){1&Ct&&g._UZ(0,"div",38)}const Pt=function(Ct){return{arg:Ct}};function Ut(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"div")(1,"div",31),g.NdJ("click",function(){const Ie=g.CHM(Zt).index,Je=g.oxw(2);return g.KtG(Je.onRoundClick(Ie))}),g.TgZ(2,"div",32)(3,"div"),g._uU(4),g.ALo(5,"translate"),g.qZA()(),g.TgZ(6,"div",33)(7,"div",34),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"div",35),g._uU(11),g.qZA(),g._UZ(12,"div",36),g.TgZ(13,"div",35),g._uU(14),g.qZA()(),g.YNc(15,Qt,1,0,"div",37),g.qZA()()}if(2&Ct){const Zt=Gt.$implicit,ee=Gt.index,_e=g.oxw(2);g.xp6(4),g.Oqu(g.xi3(5,5,"summary.Round",g.VKq(10,Pt,Zt.number))),g.xp6(4),g.Oqu(g.lcZ(9,8,"summary.Score")),g.xp6(3),g.Oqu(Zt.score1),g.xp6(3),g.Oqu(Zt.score2),g.xp6(1),g.Q6J("ngIf",ee===_e.roundItemIndex)}}function Tt(Ct,Gt){if(1&Ct){const Zt=g.EpF();g.TgZ(0,"nv-item-button",39),g.NdJ("clicked",function(){g.CHM(Zt);const _e=g.oxw(2);return g.KtG(_e.recentGoRight())}),g.qZA()}}function it(Ct,Gt){if(1&Ct&&(g.TgZ(0,"div",24),g.YNc(1,oe,1,0,"nv-item-button",25),g.TgZ(2,"cdk-virtual-scroll-viewport",26,27),g.YNc(4,Ut,16,12,"div",28),g.qZA(),g.YNc(5,Tt,1,0,"nv-item-button",29),g.qZA()),2&Ct){const Zt=g.oxw();g.xp6(1),g.Q6J("ngIf",!Zt.leftDisabled),g.xp6(1),g.Q6J("itemSize",Zt.roundsItemSize),g.xp6(2),g.Q6J("cdkVirtualForOf",Zt.rounds),g.xp6(1),g.Q6J("ngIf",!Zt.rightDisabled)}}const Mt=function(Ct,Gt){return{"el-time-axis1":Ct,"el-time-axis2":Gt}};let De=(()=>{var Ct;class Gt{get activeItemIndex(){return this._activeItemIndex}set activeItemIndex(ee){if(this._activeItemIndex=ee,this.logger.info("ActiveItem Index: ",ee),this.events[ee].round!==this._roundItemIndex){this._roundItemIndex=this.events[ee].round,this.calculateTimeAxis();const _e=this.events.findIndex(Ie=>Ie.round===this._roundItemIndex);this.emptyRound=-1===_e,this.roundDataPresent&&!this.emptyRound&&(this.scroller.scrollToIndex(this._roundItemIndex,"smooth"),this.chevronControl())}}get roundItemIndex(){return this._roundItemIndex}set roundItemIndex(ee){this._roundItemIndex=ee,this.logger.info("RoundItem Index: ",ee)}constructor(ee,_e){this.loggingService=ee,this.translateService=_e,this.roundDataPresent=!1,this.eventData=[],this.overlapEvents=void 0,this.timeAxisData=[],this.totalTimeAxisItems=7,this.lineWidth=0,this.startTime=0,this.leftDisabled=!1,this.rightDisabled=!1,this.itemsVisible=8,this.roundsItemSize=188,this.ratio=!1,this.emptyRound=!1,this.eventTimeout=null,this._activeItemIndex=0,this.activeItemIndexChange=new g.vpe,this._roundItemIndex=0,this.logger=this.loggingService.getLogger("EdgeLog"),this.logger.info("Constructor")}ngOnInit(){this.roundDataPresent=!!(this.rounds&&this.rounds.length>0),this.logger.info("RoundDataPresent: ",this.roundDataPresent),this.logger.info("Events: ",this.events),this.logger.info("Rounds: ",this.rounds),setTimeout(()=>{this.initializeEdgeLogData()})}ngOnDestroy(){}initializeEdgeLogData(){this.lineWidth=this.timeline.nativeElement.getBoundingClientRect().width,this.logger.info("Timeline width: ",this.lineWidth),this.calculateTimeAxis();const ee=this.events.findIndex(_e=>_e.round===this.roundItemIndex);this.emptyRound=-1===ee,this.emptyRound||this.calculateTimeLine(),this.chevronControl()}onResize(ee){this.resizeThrottler(100)}resizeThrottler(ee){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.initializeEdgeLogData(),this.scroller&&this.roundDataPresent&&setTimeout(()=>{this.updateScroller(this._roundItemIndex)})},ee))}calculateRange(ee){let _e=0,Ie=0,Je=0;if(this.roundDataPresent){let qe="";qe=0===ee?this.start:this.rounds[ee-1].time;const bn=this.rounds[ee].time;Ie=this.convertTimeStringToNumber(qe),Je=this.convertTimeStringToNumber(bn)}else Ie=this.convertTimeStringToNumber(this.start),Je=this.convertTimeStringToNumber(this.end);return _e=Je-Ie,this.startTime=Ie,this.logger.info("StartTime: "+Ie+" EndTime: "+Je+" Range: "+_e),_e}calculateTimeLine(){let ee,_e=0,Ie=this.calculateRange(_e);this.eventData.length=0,this.events.forEach(qe=>{qe.round!==_e&&(Ie=this.calculateRange(qe.round),_e=qe.round);const kn=(this.convertTimeStringToNumber(qe.time)-this.startTime)/Ie,wn="Screenshot"===qe.name||"InstantReplay"===qe.name||"Manual"===qe.name||"Normal"===qe.name||"Map"===qe.name||"Team"===qe.name||"Montage"===qe.name,On=44+Math.round(this.lineWidth*kn),Ln=Math.round(On-11),yn=Ln-48,Pe=wn?"blank":this.getHighlightIcon(qe.name),Ue=wn?"diamond":"circle";qe.name="Normal"===qe.name?"Manual":qe.name;const Ae=`highlightLabels.${qe.name}`;let we=this.translateService.instant(Ae);we===Ae&&(we=qe.name),ee={round:qe.round,location:On,iconLoc:Ln,previewLoc:yn,previewVisible:!1,name:we,icon:Pe,marker:Ue},this.eventData.push(ee)}),this.logger.info("EventData: ",this.eventData)}getHighlightIcon(ee){switch(ee){case"Kill":case"Jefe Mata":case"killed":return"gun";case"killed.2":case"Double Kill":case"DOUBLE_KILL":return"gun2x";case"killed.3":case"killed.n":case"Triple Kill":return"gun3x";case"Death":case"died":case"died.2":case"died.3":case"died.n":return"death";case"Team Score":case"Opponent Score":return"goal";case"Achievements":case"Champion":case"Victory":case"We Ran Out of Medals":return"medal";case"Slayer":case"Stealth Kill":return"sword";default:return"highlights"}}calculateTimeAxis(){this.timeAxisData.length=0;const _e=this.totalTimeAxisItems-1,Je=this.calculateRange(this.roundItemIndex)/_e,qe=Je<60?1:60,bn=this.lineWidth/_e,kn=1===qe,wn=[-10,3,0,-5,0,3,3,10,15];for(let On=0;On<this.totalTimeAxisItems;On++){const Ln=Je*On+this.startTime;let yn=Math.floor(Ln/qe);const Pe=Math.floor(Ln-60*yn);let Ue="",Ae=0;if(kn)if(yn<60)Ue=yn+"s";else{let Yn=0;for(;yn>60;)Yn++,yn-=60;Ue=Yn+"m "+yn+"s"}else Ue=yn+"m "+Pe+"s",Ae=1;this.timeAxisData.push({labelLoc:33+bn*On-wn[0===On?Ae:Ue.length],tickLoc:33+bn*On+15,tag:Ue})}this.logger.info("TimeAxisItems: ",this.timeAxisData)}convertTimeStringToNumber(ee){return R.duration(ee).asSeconds()}onEventClick(ee){this.logger.info("EventClick index: ",ee);const _e=this.eventData[ee].iconLoc,Ie=[];if(this.eventData.forEach((Je,qe)=>{Je.iconLoc===_e&&Je.round===this.roundItemIndex&&Ie.push(qe)}),Ie.length>1)if(this.overlapEvents&&this.overlapEvents.location===_e)ee=this.getNextClickIndex();else{const Je=[];Ie.forEach(qe=>{Je.push({item:qe,state:!1})}),Je[Ie.length-1].state=!0,this.overlapEvents={location:_e,icon:Je},ee===this._activeItemIndex&&(ee=this.getNextClickIndex()),this.logger.info("New Overlap: ",this.overlapEvents)}else this.overlapEvents=void 0;this._activeItemIndex=ee,this.activeItemIndexChange.emit(this._activeItemIndex)}getNextClickIndex(){const ee=this.overlapEvents.icon.findIndex(Je=>!0===Je.state),_e=ee===this.overlapEvents.icon.length-1?0:ee+1,Ie=this.overlapEvents.icon[_e].item;return this.overlapEvents.icon[ee].state=!1,this.overlapEvents.icon[_e].state=!0,this.logger.info("Overlap Params LastIndex: "+ee+" NewIndex: "+_e+" UseIndex: "+Ie),this.logger.info("Update Overlap: ",this.overlapEvents),Ie}onRoundClick(ee){this.logger.info("RoundClick index: ",ee),this._roundItemIndex=ee,this.calculateTimeAxis();const _e=this.events.findIndex(Ie=>Ie.round===this.roundItemIndex);this.emptyRound=-1===_e,this.emptyRound||this.onEventClick(_e)}recentNav(ee,_e=!1){let Ie=this._roundItemIndex;ee?Ie--:Ie++,Ie=_e?Ie>=this.rounds.length?0:Ie<0?this.rounds.length-1:Ie:Ie>=this.rounds.length?this.rounds.length-1:Ie<0?0:Ie,this.updateScroller(Ie)}updateScroller(ee){this.scroller.scrollToIndex(ee,"smooth"),this.onRoundClick(ee),this.chevronControl()}recentGoLeft(){this.recentNav(!0)}recentGoRight(){this.recentNav(!1)}chevronControl(){const ee=this.timeline.nativeElement.getBoundingClientRect().width;this.itemsVisible=Math.floor(ee/this.roundsItemSize),!this.roundDataPresent||this.rounds.length<=this.itemsVisible?(this.leftDisabled=!0,this.rightDisabled=!0):0===this._roundItemIndex?(this.leftDisabled=!0,this.rightDisabled=!1):this._roundItemIndex===this.rounds.length-1?(this.leftDisabled=!1,this.rightDisabled=!0):(this.leftDisabled=!1,this.rightDisabled=!1),this.logger.info("Chevrons active Left: "+!this.leftDisabled+" Right: "+!this.rightDisabled)}previewStateChanged(ee){this.logger.info("PreviewState: ",ee),this.eventData[ee.index].previewVisible=ee.state}ratioChanged(ee){this.logger.info("Preview icon ratio: ",ee),this.ratio=1.6===ee}}return(Ct=Gt).\u0275fac=function(ee){return new(ee||Ct)(g.Y36(x.ed),g.Y36(st.sK))},Ct.\u0275cmp=g.Xpm({type:Ct,selectors:[["nv-edge-log-item"]],viewQuery:function(ee,_e){if(1&ee&&(g.Gf(lt,5),g.Gf(gt,5)),2&ee){let Ie;g.iGM(Ie=g.CRH())&&(_e.scroller=Ie.first),g.iGM(Ie=g.CRH())&&(_e.timeline=Ie.first)}},hostBindings:function(ee,_e){1&ee&&g.NdJ("resize",function(Je){return _e.onResize(Je)},!1,g.Jf7)},inputs:{rounds:"rounds",events:"events",metadata:"metadata",start:"start",end:"end",activeItemIndex:"activeItemIndex",roundItemIndex:"roundItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},decls:10,vars:9,consts:[["fxLayout","column"],["fxLayout","column",1,"el-timeline-area"],[1,"el-line-horizontal"],["timeline",""],["fxLayout","row","class","el-icon-area",4,"ngIf"],["fxLayout","row","class","el-mark-area",4,"ngIf"],["class","font-body1 el-round-empty",4,"ngIf"],["fxLayout","row",3,"ngClass"],[4,"ngFor","ngForOf"],["class","el-rounds-container","fxLayout","row",4,"ngIf"],["fxLayout","row",1,"el-icon-area"],["class","icon-normal el-edgelog-icon",3,"ngClass","ngStyle","svgIcon",4,"ngIf"],["nvHoverPreview","","class","el-edgelog-icon",3,"itemIndex","ngStyle","matTooltip","previewStateChange","click",4,"ngIf"],[3,"ngClass","ngStyle",4,"ngIf"],[1,"icon-normal","el-edgelog-icon",3,"ngClass","ngStyle","svgIcon"],["nvHoverPreview","",1,"el-edgelog-icon",3,"itemIndex","ngStyle","matTooltip","previewStateChange","click"],[3,"ngClass","ngStyle"],["fxFlex","","fxFlexFill","",3,"activeItem","iconPreview","activeItemChange","iconPreviewRatio"],["fxLayout","row",1,"el-mark-area"],[3,"ngClass","ngStyle","matTooltip","click",4,"ngIf"],[3,"ngClass","ngStyle","matTooltip","click"],[1,"font-body1","el-round-empty"],[1,"font-body3","el-time-axis-text",3,"ngStyle"],[1,"font-body3","el-time-axis-tick",3,"ngStyle"],["fxLayout","row",1,"el-rounds-container"],["svgIcon","chevron_left",3,"clicked",4,"ngIf"],["fxFlex","","fxLayout","row","orientation","horizontal","tabIndex","0",1,"el-rounds-scroll-container",3,"itemSize"],["scroller",""],[4,"cdkVirtualFor","cdkVirtualForOf"],["svgIcon","chevron_right",3,"clicked",4,"ngIf"],["svgIcon","chevron_left",3,"clicked"],["fxLayout","column",1,"el-rounds-area",3,"click"],[1,"el-round-box-area"],["fxLayout","row",1,"el-round-score-area"],[1,"el-round-score"],[1,"el-round-score-data"],[1,"el-round-spacer"],["class","el-round-active",4,"ngIf"],[1,"el-round-active"],["svgIcon","chevron_right",3,"clicked"]],template:function(ee,_e){1&ee&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2,3),g.YNc(4,le,2,1,"div",4),g.YNc(5,Kt,2,1,"div",5),g.YNc(6,jt,3,3,"div",6),g.TgZ(7,"div",7),g.YNc(8,Wt,6,7,"ng-container",8),g.qZA()(),g.YNc(9,it,6,4,"div",9),g.qZA()),2&ee&&(g.xp6(4),g.Q6J("ngIf",!_e.emptyRound),g.xp6(1),g.Q6J("ngIf",!_e.emptyRound),g.xp6(1),g.Q6J("ngIf",_e.emptyRound),g.xp6(1),g.Q6J("ngClass",g.WLB(6,Mt,!_e.emptyRound,_e.emptyRound)),g.xp6(1),g.Q6J("ngForOf",_e.timeAxisData),g.xp6(1),g.Q6J("ngIf",_e.roundDataPresent))},styles:['.el-timeline-area{height:88px;padding:0 24px;background-color:#292929}.el-icon-area{margin-top:-32px}.el-mark-area{margin-top:19px}.el-rounds-scroll-container{height:123px;overflow:hidden}.el-rounds-scroll-container .cdk-virtual-scroll-content-wrapper{display:flex;flex-direction:row}.el-rounds-container{background-color:#494949}:host-context(.isLtr) .el-rounds-container{padding-left:16px}html[dir=ltr] .el-rounds-container{--dummy1: 0;padding-left:16px}:host-context(.isRtl) .el-rounds-container{padding-right:16px}html[dir=rtl] .el-rounds-container{--dummy1: 0;padding-right:16px}.el-rounds-area{height:123px;background-color:#494949;z-index:1000}:host-context(.isLtr) .el-rounds-area{padding:24px 0 24px 8px}html[dir=ltr] .el-rounds-area{--dummy: 0;padding:24px 0 24px 8px}:host-context(.isRtl) .el-rounds-area{padding:24px 8px 24px 0}html[dir=rtl] .el-rounds-area{--dummy: 0;padding:24px 8px 24px 0}.el-round-box-area{width:168px;background-color:#393939}:host-context(.isLtr) .el-round-box-area{padding:5px 0 4px 12px}html[dir=ltr] .el-round-box-area{--dummy: 0;padding:5px 0 4px 12px}:host-context(.isRtl) .el-round-box-area{padding:5px 12px 4px 0}html[dir=rtl] .el-round-box-area{--dummy: 0;padding:5px 12px 4px 0}.el-round-score-area{width:180px;height:46px;background-color:#292929}.el-round-score{width:86px;background-color:#292929}:host-context(.isLtr) .el-round-score{padding:12px 0 0 12px}html[dir=ltr] .el-round-score{--dummy: 0;padding:12px 0 0 12px}:host-context(.isRtl) .el-round-score{padding:12px 12px 0 0}html[dir=rtl] .el-round-score{--dummy: 0;padding:12px 12px 0 0}.el-round-score-data{width:46px;background-color:#191919}:host-context(.isLtr) .el-round-score-data{padding:12px 0 0 16px}html[dir=ltr] .el-round-score-data{--dummy: 0;padding:12px 0 0 16px}:host-context(.isRtl) .el-round-score-data{padding:12px 16px 0 0}html[dir=rtl] .el-round-score-data{--dummy: 0;padding:12px 16px 0 0}.el-round-spacer{width:2px;background-color:#292929}.el-round-empty{position:absolute;width:100%;height:52px;margin-top:16px;text-align:center;vertical-align:middle}.el-line-horizontal{background-color:#919191;width:100%;height:2px;margin-top:50px}.el-circle-common,.el-circle-selected,.el-circle{width:10px;height:10px;border-radius:50%;position:absolute;margin-top:7px}.el-circle{background:#919191}.el-circle-selected{background:#76b900}.el-diamond1-common,.el-diamond-selected,.el-diamond{width:0;height:0;border:6px solid transparent;position:absolute}.el-diamond2-common,.el-diamond-selected:after,.el-diamond:after{content:"";position:absolute;left:-6px;top:6px;width:0;height:0;border:6px solid transparent}.el-diamond{border-bottom-color:#919191}.el-diamond:after{border-top-color:#919191}.el-diamond-selected{border-bottom-color:#76b900}.el-diamond-selected:after{border-top-color:#76b900}.el-time-axis1{padding-top:31px}.el-time-axis2{padding-top:18px}.el-time-axis-text{color:#ffffff4d;line-height:10px;position:absolute}.el-time-axis-tick{color:#ffffff4d;line-height:8px;font-size:8px;margin-top:10px;position:absolute}.el-edgelog-icon{font-size:48px;width:32px;height:32px;position:absolute;margin-top:-4px}.el-round-active{box-sizing:border-box;width:100%;pointer-events:none;border-bottom:3px solid #76b900}.el-edgelog-preview1{width:125px;height:71px;position:absolute;margin-top:-100px}.el-edgelog-preview2{width:127px;height:80px;position:absolute;margin-top:-100px}\n'],encapsulation:2}),Gt})(),ze=(()=>{var Ct;class Gt{constructor(ee){this.element=ee,this.previewStateChange=new g.vpe}onmouseenter(){this.previewStateChange.emit({state:!0,index:this.itemIndex})}onmouseleave(){this.previewStateChange.emit({state:!1,index:this.itemIndex})}}return(Ct=Gt).\u0275fac=function(ee){return new(ee||Ct)(g.Y36(g.SBq))},Ct.\u0275dir=g.lG2({type:Ct,selectors:[["","nvHoverPreview",""]],hostBindings:function(ee,_e){1&ee&&g.NdJ("mouseenter",function(){return _e.onmouseenter()})("mouseleave",function(){return _e.onmouseleave()})},inputs:{itemIndex:"itemIndex"},outputs:{previewStateChange:"previewStateChange"}}),Gt})();var $e=t(50275),Se=t(78186),ce=t(69400),ge=t(60702);let qt=(()=>{var Ct;class Gt{}return(Ct=Gt).\u0275fac=function(ee){return new(ee||Ct)},Ct.\u0275mod=g.oAB({type:Ct}),Ct.\u0275inj=g.cJS({imports:[e.ez,x.it,i.Bz,L.o9,f.Q,(0,x.zv)()]}),Gt})();g.B6R(u.e,function(){return[e.sg,e.O5,e.tP,h.xw,h.SQ,h.yH,E.Hw,$e.x0,$e.N7,Se.Yx,C]},function(){return[st.X$]}),g.B6R(o.$,function(){return[e.mk,e.O5,e.PC,h.xw,h.s9,h.yH,O.oO,O.Zl,q.eB,ce.d,E.Hw,$e.xd,$e.x0,$e.N7,l.x,J,De]},function(){return[st.X$]}),g.B6R(De,function(){return[e.mk,e.sg,e.O5,e.PC,h.xw,h.s9,h.yH,O.oO,O.Zl,E.Hw,$e.xd,$e.x0,$e.N7,ge.gM,S.n,J,ze]},function(){return[st.X$]})},46700:(Dt,ct,t)=>{var e={"./af":35528,"./af.js":35528,"./ar":1036,"./ar-dz":17579,"./ar-dz.js":17579,"./ar-kw":69588,"./ar-kw.js":69588,"./ar-ly":11650,"./ar-ly.js":11650,"./ar-ma":93258,"./ar-ma.js":93258,"./ar-sa":54085,"./ar-sa.js":54085,"./ar-tn":90287,"./ar-tn.js":90287,"./ar.js":1036,"./az":89757,"./az.js":89757,"./be":59620,"./be.js":59620,"./bg":31139,"./bg.js":31139,"./bm":4042,"./bm.js":4042,"./bn":19641,"./bn-bd":19126,"./bn-bd.js":19126,"./bn.js":19641,"./bo":494,"./bo.js":494,"./br":20934,"./br.js":20934,"./bs":26274,"./bs.js":26274,"./ca":45831,"./ca.js":45831,"./cs":92354,"./cs.js":92354,"./cv":79692,"./cv.js":79692,"./cy":58774,"./cy.js":58774,"./da":38955,"./da.js":38955,"./de":21557,"./de-at":24954,"./de-at.js":24954,"./de-ch":81881,"./de-ch.js":81881,"./de.js":21557,"./dv":16475,"./dv.js":16475,"./el":38877,"./el.js":38877,"./en-au":70454,"./en-au.js":70454,"./en-ca":67356,"./en-ca.js":67356,"./en-gb":10456,"./en-gb.js":10456,"./en-ie":28789,"./en-ie.js":28789,"./en-il":85471,"./en-il.js":85471,"./en-in":39664,"./en-in.js":39664,"./en-nz":97672,"./en-nz.js":97672,"./en-sg":80805,"./en-sg.js":80805,"./eo":87390,"./eo.js":87390,"./es":1564,"./es-do":51473,"./es-do.js":51473,"./es-mx":92089,"./es-mx.js":92089,"./es-us":84156,"./es-us.js":84156,"./es.js":1564,"./et":6513,"./et.js":6513,"./eu":7856,"./eu.js":7856,"./fa":2378,"./fa.js":2378,"./fi":22687,"./fi.js":22687,"./fil":80032,"./fil.js":80032,"./fo":46845,"./fo.js":46845,"./fr":8875,"./fr-ca":56425,"./fr-ca.js":56425,"./fr-ch":41746,"./fr-ch.js":41746,"./fr.js":8875,"./fy":67037,"./fy.js":67037,"./ga":11217,"./ga.js":11217,"./gd":37010,"./gd.js":37010,"./gl":51931,"./gl.js":51931,"./gom-deva":64488,"./gom-deva.js":64488,"./gom-latn":8032,"./gom-latn.js":8032,"./gu":34984,"./gu.js":34984,"./he":69090,"./he.js":69090,"./hi":42085,"./hi.js":42085,"./hr":38787,"./hr.js":38787,"./hu":2901,"./hu.js":2901,"./hy-am":59819,"./hy-am.js":59819,"./id":44074,"./id.js":44074,"./is":70715,"./is.js":70715,"./it":31746,"./it-ch":77040,"./it-ch.js":77040,"./it.js":31746,"./ja":3180,"./ja.js":3180,"./jv":34346,"./jv.js":34346,"./ka":65538,"./ka.js":65538,"./kk":79772,"./kk.js":79772,"./km":87905,"./km.js":87905,"./kn":79125,"./kn.js":79125,"./ko":69140,"./ko.js":69140,"./ku":2354,"./ku.js":2354,"./ky":63768,"./ky.js":63768,"./lb":14016,"./lb.js":14016,"./lo":83169,"./lo.js":83169,"./lt":62353,"./lt.js":62353,"./lv":83243,"./lv.js":83243,"./me":52338,"./me.js":52338,"./mi":35555,"./mi.js":35555,"./mk":85794,"./mk.js":85794,"./ml":53151,"./ml.js":53151,"./mn":46458,"./mn.js":46458,"./mr":69165,"./mr.js":69165,"./ms":8680,"./ms-my":87477,"./ms-my.js":87477,"./ms.js":8680,"./mt":79684,"./mt.js":79684,"./my":40285,"./my.js":40285,"./nb":45922,"./nb.js":45922,"./ne":29040,"./ne.js":29040,"./nl":5066,"./nl-be":74460,"./nl-be.js":74460,"./nl.js":5066,"./nn":53693,"./nn.js":53693,"./oc-lnc":88676,"./oc-lnc.js":88676,"./pa-in":92341,"./pa-in.js":92341,"./pl":57416,"./pl.js":57416,"./pt":84344,"./pt-br":30113,"./pt-br.js":30113,"./pt.js":84344,"./ro":72643,"./ro.js":72643,"./ru":61305,"./ru.js":61305,"./sd":96095,"./sd.js":96095,"./se":74486,"./se.js":74486,"./si":58742,"./si.js":58742,"./sk":96722,"./sk.js":96722,"./sl":3345,"./sl.js":3345,"./sq":52416,"./sq.js":52416,"./sr":39450,"./sr-cyrl":50501,"./sr-cyrl.js":50501,"./sr.js":39450,"./ss":32222,"./ss.js":32222,"./sv":9454,"./sv.js":9454,"./sw":19638,"./sw.js":19638,"./ta":96494,"./ta.js":96494,"./te":94435,"./te.js":94435,"./tet":25003,"./tet.js":25003,"./tg":13706,"./tg.js":13706,"./th":16025,"./th.js":16025,"./tk":59780,"./tk.js":59780,"./tl-ph":22068,"./tl-ph.js":22068,"./tlh":39167,"./tlh.js":39167,"./tr":32494,"./tr.js":32494,"./tzl":58707,"./tzl.js":58707,"./tzm":91296,"./tzm-latn":34532,"./tzm-latn.js":34532,"./tzm.js":91296,"./ug-cn":12086,"./ug-cn.js":12086,"./uk":85069,"./uk.js":85069,"./ur":29304,"./ur.js":29304,"./uz":95115,"./uz-latn":97609,"./uz-latn.js":97609,"./uz.js":95115,"./vi":34802,"./vi.js":34802,"./x-pseudo":65605,"./x-pseudo.js":65605,"./yo":88456,"./yo.js":88456,"./zh-cn":23272,"./zh-cn.js":23272,"./zh-hk":9402,"./zh-hk.js":9402,"./zh-mo":48101,"./zh-mo.js":48101,"./zh-tw":40262,"./zh-tw.js":40262};function i(f){var x=L(f);return t(x)}function L(f){if(!t.o(e,f)){var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}return e[f]}i.keys=function(){return Object.keys(e)},i.resolve=L,Dt.exports=i,i.id=46700},51371:()=>{},96127:()=>{},26863:Dt=>{"use strict";Dt.exports=JSON.parse('{"components/menu-item":"Verbose"}')}},Dt=>{Dt.O(0,[736],()=>Dt(Dt.s=657)),Dt.O()}]);